const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["chunks/HeroSection.tsx-BMc22NMR.js","chunks/chunk-BcMzut3W.js","chunks/chunk-CLN-lmR0.js","chunks/chunk-CU-y1Q6f.js","chunks/chunk-BD9OJLJ5.js","chunks/chunk-5rBBrdbz.js","assets/monaco-editor-CpN8rtOO.css","chunks/chunk-DreM7Bcy.js","chunks/chunk-BIyfHqPs.js","chunks/FeaturesSection.tsx-DsSMTa4j.js","chunks/PricingSection.tsx-pdR6biUc.js","chunks/FAQSection.tsx-DE5lBw_-.js","chunks/FillerSection.tsx-4olMG9Vl.js","chunks/FooterSection.tsx-vOzaRkXP.js","chunks/VideoSection.tsx-Dh4PmBIV.js"])))=>i.map(i=>d[i]);
var e=Object.defineProperty,t=(t,n,s)=>((t,n,s)=>n in t?e(t,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[n]=s)(t,"symbol"!=typeof n?n+"":n,s);import{j as n,S as s,T as i,I as a,a as r,b as o,P as l,C as c,V as d,L as u,c as p,d as m,e as h,f as x,R as f,g,h as v,i as b,k as y,l as w,m as j,n as C,o as N,p as F,q as _,r as k,s as S,t as E,u as I,v as A,w as T,x as D,y as M,z as L,A as P,B as R,O,D as z,E as B,F as H,G as $,H as U,J as V,K as W,M as q,N as G,Q as Z,U as Y,W as K,X as J,Y as Q,Z as X,_ as ee,$ as te,a0 as ne,a1 as se,a2 as ie,a3 as ae,a4 as re,a5 as oe,a6 as le,a7 as ce,a8 as de,a9 as ue,aa as pe,ab as me,ac as he,ad as xe,ae as fe,af as ge,ag as ve,ah as be,ai as ye,aj as we,ak as je,al as Ce,am as Ne,an as Fe,ao as _e,ap as ke,aq as Se,ar as Ee,as as Ie}from"./chunks/chunk-BcMzut3W.js";import{h as Ae,e as Te,a as De,u as Me,i as Le,R as Pe,b as Re,L as Oe,j as ze,d as Be,c as He,k as $e,l as Ue,N as Ve,B as We}from"./chunks/chunk-CLN-lmR0.js";import{c as qe}from"./chunks/chunk-BD9OJLJ5.js";import{c as Ge,a as Ze,i as Ye,w as Ke,n as Je,f as Qe,e as Xe,b as et,d as tt,p as nt,g as st,h as it,j as at,k as rt,l as ot,m as lt,S as ct,o as dt,q as ut,r as pt,s as mt,t as ht,u as xt,v as ft,x as gt,y as vt,z as bt,A as yt,B as wt,C as jt,D as Ct,E as Nt,F as Ft,G as _t,R as kt,P as St,H as Et,I as It,J as At,K as Tt,L as Dt}from"./chunks/chunk-DreM7Bcy.js";import{a as Mt,r as Lt}from"./chunks/chunk-BIyfHqPs.js";import{m as Pt,A as Rt,u as Ot}from"./chunks/chunk-CU-y1Q6f.js";import{w as zt,F as Bt,_ as Ht}from"./chunks/chunk-5rBBrdbz.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var $t,Ut={};const Vt=Te(function(){if($t)return Ut;$t=1;var e=Ae();return Ut.createRoot=e.createRoot,Ut.hydrateRoot=e.hydrateRoot,Ut}()),Wt={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_BASE_URL:"https://api.emergent.sh",VITE_API_BASE_URL_APP_PUBLIC_POSTHOG_KEY:"phc_xAvL2Iq4tFmANRE7kzbKwaSqp1HJjN7x48s3vr0CMjs",VITE_APP_BLITZ_API_KEY:"key_BW17ja9hEvA2Mym",VITE_APP_CDN_URL:"preview.static.emergentagent.com",VITE_APP_PUBLIC_POSTHOG_HOST:"https://us.i.posthog.com",VITE_APP_PUSHER_CLUSTER:"us2",VITE_APP_PUSHER_KEY:"6c79f46bf9937b9d82df",VITE_APP_UPLOAD_URL:"https://files.emergent.sh",VITE_CLOUDINARY_CLOUD_NAME:"dedwy4r6x",VITE_GITHUB_APP_URL:"https://github.com/apps/emergent-sh/installations/new",VITE_GITHUB_CLIENT_ID:"Iv23liv4X4UqMyubvvul",VITE_GOOGLE_CLIENT_ID:"201274743812-rbtii4pvbnhsfh5f0tg26qo31hcrfmg5.apps.googleusercontent.com",VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InNua3N4d2t5dW1oZHlreXJoaGNoIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MjQ3NzI2NDYsImV4cCI6MjA0MDM0ODY0Nn0.3unO6zdz2NilPL2xdxt7OjvZA19copj3Q7ulIjPVDLQ",VITE_SUPABASE_URL:"https://snksxwkyumhdykyrhhch.supabase.co"};!function(){const e=["VITE_SUPABASE_URL","VITE_SUPABASE_ANON_KEY","VITE_API_BASE_URL","VITE_GITHUB_APP_URL","VITE_GITHUB_CLIENT_ID","VITE_API_BASE_URL_APP_PUBLIC_POSTHOG_KEY","VITE_APP_PUBLIC_POSTHOG_HOST","VITE_APP_UPLOAD_URL","VITE_CLOUDINARY_CLOUD_NAME"].filter(e=>!Wt[e]);if(e.length>0)throw new Error(`Missing required environment variables: ${e.join(", ")}`)}();const qt={supabaseUrl:"https://snksxwkyumhdykyrhhch.supabase.co",supabaseAnonKey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InNua3N4d2t5dW1oZHlreXJoaGNoIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MjQ3NzI2NDYsImV4cCI6MjA0MDM0ODY0Nn0.3unO6zdz2NilPL2xdxt7OjvZA19copj3Q7ulIjPVDLQ",googleClientId:"201274743812-rbtii4pvbnhsfh5f0tg26qo31hcrfmg5.apps.googleusercontent.com",githubToken:void 0,_pluginLibraryVersion:"1.0.6-beta",_apiBaseUrl:"https://api.emergent.sh",_blitzApiKey:"key_BW17ja9hEvA2Mym",_file_upload_url:"https://files.emergent.sh",_cdn_url:"preview.static.emergentagent.com",get apiBaseUrl(){return this._apiBaseUrl},set apiBaseUrl(e){this._apiBaseUrl=e,localStorage.setItem("apiBaseUrl",e)},get blitzApiKey(){return this._blitzApiKey},get cdnUrl(){return this._cdn_url}},Gt="https://github.com/apps/emergent-sh/installations/new",Zt="phc_xAvL2Iq4tFmANRE7kzbKwaSqp1HJjN7x48s3vr0CMjs",Yt="https://us.i.posthog.com",Kt=qe(qt.supabaseUrl,qt.supabaseAnonKey),Jt=Object.freeze(Object.defineProperty({__proto__:null,supabase:Kt},Symbol.toStringTag,{value:"Module"}));let Qt=0;const Xt=new Map,en=e=>{if(Xt.has(e))return;const t=setTimeout(()=>{Xt.delete(e),an({type:"REMOVE_TOAST",toastId:e})},5e3);Xt.set(e,t)},tn=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,5)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?en(n):e.toasts.forEach(e=>{en(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===n||void 0===n?{...e,open:!1}:e)}}case"REMOVE_TOAST":return void 0===t.toastId?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},nn=[];let sn={toasts:[]};function an(e){sn=tn(sn,e),nn.forEach(e=>{e(sn)})}function rn({...e}){const t=(Qt=(Qt+1)%Number.MAX_SAFE_INTEGER,Qt.toString()),n=e.duration||5e3,s=()=>an({type:"DISMISS_TOAST",toastId:t});return an({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:e=>{e||s()}}}),n!==1/0&&setTimeout(s,n),{id:t,dismiss:s,update:e=>an({type:"UPDATE_TOAST",toast:{...e,id:t}})}}function on(){const[e,t]=De.useState(sn);return De.useEffect(()=>(nn.push(t),()=>{const e=nn.indexOf(t);e>-1&&nn.splice(e,1)}),[e]),{...e,toast:rn,dismiss:e=>an({type:"DISMISS_TOAST",toastId:e})}}var ln="undefined"!=typeof window?window:void 0,cn="undefined"!=typeof globalThis?globalThis:ln,dn=Array.prototype,un=dn.forEach,pn=dn.indexOf,mn=null==cn?void 0:cn.navigator,hn=null==cn?void 0:cn.document,xn=null==cn?void 0:cn.location,fn=null==cn?void 0:cn.fetch,gn=null!=cn&&cn.XMLHttpRequest&&"withCredentials"in new cn.XMLHttpRequest?cn.XMLHttpRequest:void 0,vn=null==cn?void 0:cn.AbortController,bn=null==mn?void 0:mn.userAgent,yn=null!=ln?ln:{},wn={DEBUG:!1,LIB_VERSION:"1.270.1"};function jn(e,t,n,s,i,a,r){try{var o=e[a](r),l=o.value}catch(c){return void n(c)}o.done?t(l):Promise.resolve(l).then(s,i)}function Cn(e){return function(){var t=this,n=arguments;return new Promise(function(s,i){var a=e.apply(t,n);function r(e){jn(a,s,i,r,o,"next",e)}function o(e){jn(a,s,i,r,o,"throw",e)}r(void 0)})}}function Nn(){return Nn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Nn.apply(null,arguments)}function Fn(e,t){if(null==e)return{};var n={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(-1!==t.indexOf(s))continue;n[s]=e[s]}return n}var _n=["$snapshot","$pageview","$pageleave","$set","survey dismissed","survey sent","survey shown","$identify","$groupidentify","$create_alias","$$client_ingestion_warning","$web_experiment_applied","$feature_enrollment_update","$feature_flag_called"];function kn(e,t){return-1!==e.indexOf(t)}var Sn=function(e){return e.trim()},En=function(e){return e.replace(/^\$/,"")},In=Array.isArray,An=Object.prototype,Tn=An.hasOwnProperty,Dn=An.toString,Mn=In||function(e){return"[object Array]"===Dn.call(e)},Ln=e=>"function"==typeof e,Pn=e=>e===Object(e)&&!Mn(e),Rn=e=>{if(Pn(e)){for(var t in e)if(Tn.call(e,t))return!1;return!0}return!1},On=e=>void 0===e,zn=e=>"[object String]"==Dn.call(e),Bn=e=>zn(e)&&0===e.trim().length,Hn=e=>null===e,$n=e=>On(e)||Hn(e),Un=e=>"[object Number]"==Dn.call(e),Vn=e=>"[object Boolean]"===Dn.call(e),Wn=e=>kn(_n,e);function qn(e){return null===e||"object"!=typeof e}function Gn(e,t){return Object.prototype.toString.call(e)==="[object "+t+"]"}function Zn(e){return!On(Event)&&function(e,t){try{return e instanceof t}catch(n){return!1}}(e,Event)}var Yn=[!0,"true",1,"1","yes"],Kn=e=>kn(Yn,e),Jn=[!1,"false",0,"0","no"];function Qn(e,t,n,s,i){return t>n&&(s.warn("min cannot be greater than max."),t=n),Un(e)?e>n?(s.warn(" cannot be  greater than max: "+n+". Using max value instead."),n):e<t?(s.warn(" cannot be less than min: "+t+". Using min value instead."),t):e:(s.warn(" must be a number. using max or fallback. max: "+n+", fallback: "+i),Qn(i||n,t,n,s))}let Xn=class{constructor(e){this.t=e,this.i={},this.o=()=>{Object.keys(this.i).forEach(e=>{var t=this.h(e)+this.m;t>=this.S?delete this.i[e]:this.k(e,t)})},this.h=e=>this.i[String(e)],this.k=(e,t)=>{this.i[String(e)]=t},this.consumeRateLimit=e=>{var t,n,s=null!==(t=this.h(e))&&void 0!==t?t:this.S;if(0===(s=Math.max(s-1,0)))return!0;this.k(e,s);var i=0===s;return i&&(null==(n=this.$)||n.call(this,e)),i},this.$=this.t.$,this.S=Qn(this.t.bucketSize,0,100,this.t.R),this.m=Qn(this.t.refillRate,0,this.S,this.t.R),this.I=Qn(this.t.refillInterval,0,864e5,this.t.R),this.P=setInterval(()=>{this.o()},this.I)}stop(){this.P&&(clearInterval(this.P),this.P=void 0)}};var es,ts,ns,ss=e=>e instanceof Error;function is(e){var t=globalThis._posthogChunkIds;if(t){var n=Object.keys(t);return ns&&n.length===ts||(ts=n.length,ns=n.reduce((n,s)=>{es||(es={});var i=es[s];if(i)n[i[0]]=i[1];else for(var a=e(s),r=a.length-1;r>=0;r--){var o=a[r],l=null==o?void 0:o.filename,c=t[s];if(l&&c){n[l]=c,es[s]=[l,c];break}}return n},{})),ns}}var as="?";function rs(e,t,n,s){var i={platform:"web:javascript",filename:e,function:"<anonymous>"===t?as:t,in_app:!0};return On(n)||(i.lineno=n),On(s)||(i.colno=s),i}var os=(e,t)=>{var n=-1!==e.indexOf("safari-extension"),s=-1!==e.indexOf("safari-web-extension");return n||s?[-1!==e.indexOf("@")?e.split("@")[0]:as,n?"safari-extension:"+t:"safari-web-extension:"+t]:[e,t]},ls=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,cs=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,ds=/\((\S*)(?::(\d+))(?::(\d+))\)/,us=e=>{var t=ls.exec(e);if(t){var[,n,s,i]=t;return rs(n,as,+s,+i)}var a=cs.exec(e);if(a){if(a[2]&&0===a[2].indexOf("eval")){var r=ds.exec(a[2]);r&&(a[2]=r[1],a[3]=r[2],a[4]=r[3])}var[o,l]=os(a[1]||as,a[2]);return rs(l,o,a[3]?+a[3]:void 0,a[4]?+a[4]:void 0)}},ps=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,ms=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,hs=e=>{var t=ps.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){var n=ms.exec(t[3]);n&&(t[1]=t[1]||"eval",t[3]=n[1],t[4]=n[2],t[5]="")}var s=t[3],i=t[1]||as;return[i,s]=os(i,s),rs(s,i,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}},xs=/\(error: (.*)\)/;let fs=class{constructor(e,t,n){void 0===e&&(e=[]),void 0===t&&(t=[]),void 0===n&&(n=[]),this.coercers=e,this.modifiers=n,this.stackParser=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e,n){void 0===n&&(n=0);for(var s=[],i=e.split("\n"),a=n;a<i.length;a++){var r=i[a];if(!(r.length>1024)){var o=xs.test(r)?r.replace(xs,"$1"):r;if(!o.match(/\S*Error: /)){for(var l of t){var c=l(o);if(c){s.push(c);break}}if(s.length>=50)break}}}return function(e){if(!e.length)return[];var t=Array.from(e);return t.reverse(),t.slice(0,50).map(e=>{return Nn({},e,{filename:e.filename||(n=t,n[n.length-1]||{}).filename,function:e.function||as});var n})}(s)}}(...t)}buildFromUnknown(e,t){void 0===t&&(t={});var n=t&&t.mechanism||{handled:!0,type:"generic"},s=this.buildCoercingContext(n,t,0).apply(e),i=this.buildParsingContext(),a=this.parseStacktrace(s,i);return{$exception_list:this.convertToExceptionList(a,n),$exception_level:"error"}}modifyFrames(e){var t=this;return Cn(function*(){for(var n of e)n.stacktrace&&n.stacktrace.frames&&Mn(n.stacktrace.frames)&&(n.stacktrace.frames=yield t.applyModifiers(n.stacktrace.frames));return e})()}coerceFallback(e){var t;return{type:"Error",value:"Unknown error",stack:null==(t=e.syntheticException)?void 0:t.stack,synthetic:!0}}parseStacktrace(e,t){var n,s;return null!=e.cause&&(n=this.parseStacktrace(e.cause,t)),""!=e.stack&&null!=e.stack&&(s=this.applyChunkIds(this.stackParser(e.stack,e.synthetic?1:0),t.chunkIdMap)),Nn({},e,{cause:n,stack:s})}applyChunkIds(e,t){return e.map(e=>(e.filename&&t&&(e.chunk_id=t[e.filename]),e))}applyCoercers(e,t){for(var n of this.coercers)if(n.match(e))return n.coerce(e,t);return this.coerceFallback(t)}applyModifiers(e){var t=this;return Cn(function*(){var n=e;for(var s of t.modifiers)n=yield s(n);return n})()}convertToExceptionList(e,t){var n,s,i,a={type:e.type,value:e.value,mechanism:{type:null!==(n=t.type)&&void 0!==n?n:"generic",handled:null===(s=t.handled)||void 0===s||s,synthetic:null!==(i=e.synthetic)&&void 0!==i&&i}};e.stack&&(a.stacktrace={type:"raw",frames:e.stack});var r=[a];return null!=e.cause&&r.push(...this.convertToExceptionList(e.cause,Nn({},t,{handled:!0}))),r}buildParsingContext(){return{chunkIdMap:is(this.stackParser)}}buildCoercingContext(e,t,n){void 0===n&&(n=0);var s=(n,s)=>{if(s<=4){var i=this.buildCoercingContext(e,t,s);return this.applyCoercers(n,i)}};return Nn({},t,{syntheticException:0==n?t.syntheticException:void 0,mechanism:e,apply:e=>s(e,n),next:e=>s(e,n+1)})}},gs=class{match(e){return this.isDOMException(e)||this.isDOMError(e)}coerce(e,t){var n=zn(e.stack);return{type:this.getType(e),value:this.getValue(e),stack:n?e.stack:void 0,cause:e.cause?t.next(e.cause):void 0,synthetic:!1}}getType(e){return this.isDOMError(e)?"DOMError":"DOMException"}getValue(e){var t=e.name||(this.isDOMError(e)?"DOMError":"DOMException");return e.message?t+": "+e.message:t}isDOMException(e){return Gn(e,"DOMException")}isDOMError(e){return Gn(e,"DOMError")}};class vs{match(e){return e instanceof Error}coerce(e,t){return{type:this.getType(e),value:this.getMessage(e,t),stack:this.getStack(e),cause:e.cause?t.next(e.cause):void 0,synthetic:!1}}getType(e){return e.name||e.constructor.name}getMessage(e,t){var n=e.message;return n.error&&"string"==typeof n.error.message?String(n.error.message):String(n)}getStack(e){return e.stacktrace||e.stack||void 0}}let bs=class{constructor(){}match(e){return Gn(e,"ErrorEvent")&&null!=e.error}coerce(e,t){var n;return t.apply(e.error)||{type:"ErrorEvent",value:e.message,stack:null==(n=t.syntheticException)?void 0:n.stack,synthetic:!0}}};var ys=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i;class ws{match(e){return"string"==typeof e}coerce(e,t){var n,[s,i]=this.getInfos(e);return{type:null!=s?s:"Error",value:null!=i?i:e,stack:null==(n=t.syntheticException)?void 0:n.stack,synthetic:!0}}getInfos(e){var t="Error",n=e,s=e.match(ys);return s&&(t=s[1],n=s[2]),[t,n]}}var js=["fatal","error","warning","log","info","debug"];function Cs(e,t){void 0===t&&(t=40);var n=Object.keys(e);if(n.sort(),!n.length)return"[object has no keys]";for(var s=n.length;s>0;s--){var i=n.slice(0,s).join(", ");if(!(i.length>t))return s===n.length||i.length<=t?i:i.slice(0,t)+"..."}return""}let Ns=class{match(e){return"object"==typeof e&&null!==e}coerce(e,t){var n,s=this.getErrorPropertyFromObject(e);return s?t.apply(s):{type:this.getType(e),value:this.getValue(e),stack:null==(n=t.syntheticException)?void 0:n.stack,level:this.isSeverityLevel(e.level)?e.level:"error",synthetic:!0}}getType(e){return Zn(e)?e.constructor.name:"Error"}getValue(e){if("name"in e&&"string"==typeof e.name){var t="'"+e.name+"' captured as exception";return"message"in e&&"string"==typeof e.message&&(t+=" with message: '"+e.message+"'"),t}if("message"in e&&"string"==typeof e.message)return e.message;var n=this.getObjectClassName(e);return(n&&"Object"!==n?"'"+n+"'":"Object")+" captured as exception with keys: "+Cs(e)}isSeverityLevel(e){return zn(e)&&!Bn(e)&&js.indexOf(e)>=0}getErrorPropertyFromObject(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){var n=e[t];if(ss(n))return n}}getObjectClassName(e){try{var t=Object.getPrototypeOf(e);return t?t.constructor.name:void 0}catch(n){return}}},Fs=class{match(e){return Zn(e)}coerce(e,t){var n,s=e.constructor.name;return{type:s,value:s+" captured as exception with keys: "+Cs(e),stack:null==(n=t.syntheticException)?void 0:n.stack,synthetic:!0}}};class _s{match(e){return qn(e)}coerce(e,t){var n;return{type:"Error",value:"Primitive value captured as exception: "+String(e),stack:null==(n=t.syntheticException)?void 0:n.stack,synthetic:!0}}}let ks=class{match(e){return Gn(e,"PromiseRejectionEvent")}coerce(e,t){var n,s=this.getUnhandledRejectionReason(e);return qn(s)?{type:"UnhandledRejection",value:"Non-Error promise rejection captured with value: "+String(s),stack:null==(n=t.syntheticException)?void 0:n.stack,synthetic:!0}:t.apply(s)}getUnhandledRejectionReason(e){if(qn(e))return e;try{if("reason"in e)return e.reason;if("detail"in e&&"reason"in e.detail)return e.detail.reason}catch(t){}return e}};var Ss=e=>{var t={T:function(t){if(ln&&(wn.DEBUG||yn.POSTHOG_DEBUG)&&!On(ln.console)&&ln.console){for(var n=("__rrweb_original__"in ln.console[t]?ln.console[t].__rrweb_original__:ln.console[t]),s=arguments.length,i=new Array(s>1?s-1:0),a=1;a<s;a++)i[a-1]=arguments[a];n(e,...i)}},info:function(){for(var e=arguments.length,n=new Array(e),s=0;s<e;s++)n[s]=arguments[s];t.T("log",...n)},warn:function(){for(var e=arguments.length,n=new Array(e),s=0;s<e;s++)n[s]=arguments[s];t.T("warn",...n)},error:function(){for(var e=arguments.length,n=new Array(e),s=0;s<e;s++)n[s]=arguments[s];t.T("error",...n)},critical:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n]},uninitializedWarning:e=>{t.error("You must initialize PostHog before calling "+e)},createLogger:t=>Ss(e+" "+t)};return t},Es=Ss("[PostHog.js]"),Is=Es.createLogger,As=Is("[ExternalScriptsLoader]"),Ts=(e,t,n)=>{if(e.config.disable_external_dependency_loading)return As.warn(t+" was requested but loading of external scripts is disabled."),n("Loading of external scripts is disabled");var s=null==hn?void 0:hn.querySelectorAll("script");if(s)for(var i,a=function(){if(s[r].src===t){var e=s[r];return e.__posthog_loading_callback_fired?{v:n()}:(e.addEventListener("load",t=>{e.__posthog_loading_callback_fired=!0,n(void 0,t)}),e.onerror=e=>n(e),{v:void 0})}},r=0;r<s.length;r++)if(i=a())return i.v;var o=()=>{if(!hn)return n("document not found");var s=hn.createElement("script");if(s.type="text/javascript",s.crossOrigin="anonymous",s.src=t,s.onload=e=>{s.__posthog_loading_callback_fired=!0,n(void 0,e)},s.onerror=e=>n(e),e.config.prepare_external_dependency_script&&(s=e.config.prepare_external_dependency_script(s)),!s)return n("prepare_external_dependency_script returned null");var i,a=hn.querySelectorAll("body > script");a.length>0?null==(i=a[0].parentNode)||i.insertBefore(s,a[0]):hn.body.appendChild(s)};null!=hn&&hn.body?o():null==hn||hn.addEventListener("DOMContentLoaded",o)};yn.__PosthogExtensions__=yn.__PosthogExtensions__||{},yn.__PosthogExtensions__.loadExternalDependency=(e,t,n)=>{var s="/static/"+t+".js?v="+e.version;if("remote-config"===t&&(s="/array/"+e.config.token+"/config.js"),"toolbar"===t){var i=3e5;s=s+"&t="+Math.floor(Date.now()/i)*i}var a=e.requestRouter.endpointFor("assets",s);Ts(e,a,n)},yn.__PosthogExtensions__.loadSiteApp=(e,t,n)=>{var s=e.requestRouter.endpointFor("api",t);Ts(e,s,n)};var Ds={};function Ms(e,t,n){if(Mn(e))if(un&&e.forEach===un)e.forEach(t,n);else if("length"in e&&e.length===+e.length)for(var s=0,i=e.length;s<i;s++)if(s in e&&t.call(n,e[s],s)===Ds)return}function Ls(e,t,n){if(!$n(e)){if(Mn(e))return Ms(e,t,n);if((e=>e instanceof FormData)(e)){for(var s of e.entries())if(t.call(n,s[1],s[0])===Ds)return}else for(var i in e)if(Tn.call(e,i)&&t.call(n,e[i],i)===Ds)return}}var Ps=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),s=1;s<t;s++)n[s-1]=arguments[s];return Ms(n,function(t){for(var n in t)void 0!==t[n]&&(e[n]=t[n])}),e},Rs=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),s=1;s<t;s++)n[s-1]=arguments[s];return Ms(n,function(t){Ms(t,function(t){e.push(t)})}),e};function Os(e){for(var t=Object.keys(e),n=t.length,s=new Array(n);n--;)s[n]=[t[n],e[t[n]]];return s}var zs=function(e){try{return e()}catch(t){return}},Bs=function(e){return function(){try{for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];return e.apply(this,n)}catch(i){Es.critical("Implementation error. Please turn on debug mode and open a ticket on https://app.posthog.com/home#panel=support%3Asupport%3A."),Es.critical(i)}}},Hs=function(e){var t={};return Ls(e,function(e,n){(zn(e)&&e.length>0||Un(e))&&(t[n]=e)}),t};var $s=["herokuapp.com","vercel.app","netlify.app"];function Us(e){var t=null==e?void 0:e.hostname;if(!zn(t))return!1;var n=t.split(".").slice(-2).join(".");for(var s of $s)if(n===s)return!1;return!0}function Vs(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return e[n]}function Ws(e,t,n,s){var{capture:i=!1,passive:a=!0}=null!=s?s:{};null==e||e.addEventListener(t,n,{capture:i,passive:a})}var qs="$people_distinct_id",Gs="__alias",Zs="__timers",Ys="$autocapture_disabled_server_side",Ks="$heatmaps_enabled_server_side",Js="$exception_capture_enabled_server_side",Qs="$error_tracking_suppression_rules",Xs="$error_tracking_capture_extension_exceptions",ei="$web_vitals_enabled_server_side",ti="$dead_clicks_enabled_server_side",ni="$web_vitals_allowed_metrics",si="$session_recording_remote_config",ii="$session_recording_enabled_server_side",ai="$console_log_recording_enabled_server_side",ri="$session_recording_network_payload_capture",oi="$session_recording_masking",li="$session_recording_canvas_recording",ci="$replay_sample_rate",di="$replay_minimum_duration",ui="$replay_script_config",pi="$sesid",mi="$session_is_sampled",hi="$session_recording_url_trigger_activated_session",xi="$session_recording_event_trigger_activated_session",fi="$enabled_feature_flags",gi="$early_access_features",vi="$feature_flag_details",bi="$stored_person_properties",yi="$stored_group_properties",wi="$surveys",ji="$surveys_activated",Ci="$flag_call_reported",Ni="$user_state",Fi="$client_session_props",_i="$capture_rate_limit",ki="$initial_campaign_params",Si="$initial_referrer_info",Ei="$initial_person_info",Ii="$epp",Ai="__POSTHOG_TOOLBAR__",Ti="$posthog_cookieless",Di=[qs,Gs,"__cmpns",Zs,ii,Ks,pi,fi,Qs,Ni,gi,vi,yi,bi,wi,Ci,Fi,_i,ki,Si,Ii,Ei];function Mi(e){return e instanceof Element&&(e.id===Ai||!(null==e.closest||!e.closest(".toolbar-global-fade-container")))}function Li(e){return!!e&&1===e.nodeType}function Pi(e,t){return!!e&&!!e.tagName&&e.tagName.toLowerCase()===t.toLowerCase()}function Ri(e){return!!e&&3===e.nodeType}function Oi(e){return!!e&&11===e.nodeType}function zi(e){return e?Sn(e).split(/\s+/):[]}function Bi(e){var t=null==ln?void 0:ln.location.href;return!!(t&&e&&e.some(e=>t.match(e)))}function Hi(e){var t="";switch(typeof e.className){case"string":t=e.className;break;case"object":t=(e.className&&"baseVal"in e.className?e.className.baseVal:null)||e.getAttribute("class")||"";break;default:t=""}return zi(t)}function $i(e){return $n(e)?null:Sn(e).split(/(\s+)/).filter(e=>aa(e)).join("").replace(/[\r\n]/g," ").replace(/[ ]+/g," ").substring(0,255)}function Ui(e){var t="";return Ji(e)&&!Qi(e)&&e.childNodes&&e.childNodes.length&&Ls(e.childNodes,function(e){var n;Ri(e)&&e.textContent&&(t+=null!==(n=$i(e.textContent))&&void 0!==n?n:"")}),Sn(t)}function Vi(e){return On(e.target)?e.srcElement||null:null!=(t=e.target)&&t.shadowRoot?e.composedPath()[0]||null:e.target||null;var t}var Wi=["a","button","form","input","select","textarea","label"];function qi(e,t){if(On(t))return!0;var n,s=function(e){if(t.some(t=>e.matches(t)))return{v:!0}};for(var i of e)if(n=s(i))return n.v;return!1}function Gi(e){var t=e.parentNode;return!(!t||!Li(t))&&t}var Zi=[".ph-no-rageclick",".ph-no-capture"],Yi=e=>!e||Pi(e,"html")||!Li(e),Ki=(e,t)=>{if(!ln||Yi(e))return{parentIsUsefulElement:!1,targetElementList:[]};for(var n=!1,s=[e],i=e;i.parentNode&&!Pi(i,"body");)if(Oi(i.parentNode))s.push(i.parentNode.host),i=i.parentNode.host;else{var a=Gi(i);if(!a)break;if(t||Wi.indexOf(a.tagName.toLowerCase())>-1)n=!0;else{var r=ln.getComputedStyle(a);r&&"pointer"===r.getPropertyValue("cursor")&&(n=!0)}s.push(a),i=a}return{parentIsUsefulElement:n,targetElementList:s}};function Ji(e){for(var t=e;t.parentNode&&!Pi(t,"body");t=t.parentNode){var n=Hi(t);if(kn(n,"ph-sensitive")||kn(n,"ph-no-capture"))return!1}if(kn(Hi(e),"ph-include"))return!0;var s=e.type||"";if(zn(s))switch(s.toLowerCase()){case"hidden":case"password":return!1}var i=e.name||e.id||"";return!zn(i)||!/^cc|cardnum|ccnum|creditcard|csc|cvc|cvv|exp|pass|pwd|routing|seccode|securitycode|securitynum|socialsec|socsec|ssn/i.test(i.replace(/[^a-zA-Z0-9]/g,""))}function Qi(e){return!!(Pi(e,"input")&&!["button","checkbox","submit","reset"].includes(e.type)||Pi(e,"select")||Pi(e,"textarea")||"true"===e.getAttribute("contenteditable"))}var Xi="(4[0-9]{12}(?:[0-9]{3})?)|(5[1-5][0-9]{14})|(6(?:011|5[0-9]{2})[0-9]{12})|(3[47][0-9]{13})|(3(?:0[0-5]|[68][0-9])[0-9]{11})|((?:2131|1800|35[0-9]{3})[0-9]{11})",ea=new RegExp("^(?:"+Xi+")$"),ta=new RegExp(Xi),na="\\d{3}-?\\d{2}-?\\d{4}",sa=new RegExp("^("+na+")$"),ia=new RegExp("("+na+")");function aa(e,t){if(void 0===t&&(t=!0),$n(e))return!1;if(zn(e)){if(e=Sn(e),(t?ea:ta).test((e||"").replace(/[- ]/g,"")))return!1;if((t?sa:ia).test(e))return!1}return!0}function ra(e){var t=Ui(e);return aa(t=(t+" "+oa(e)).trim())?t:""}function oa(e){var t="";return e&&e.childNodes&&e.childNodes.length&&Ls(e.childNodes,function(e){var n;if(e&&"span"===(null==(n=e.tagName)?void 0:n.toLowerCase()))try{var s=Ui(e);t=(t+" "+s).trim(),e.childNodes&&e.childNodes.length&&(t=(t+" "+oa(e)).trim())}catch(i){Es.error("[AutoCapture]",i)}}),t}function la(e){return function(e){return e.map(e=>{var t,n,s="";if(e.tag_name&&(s+=e.tag_name),e.attr_class)for(var i of(e.attr_class.sort(),e.attr_class))s+="."+i.replace(/"/g,"");var a=Nn({},e.text?{text:e.text}:{},{"nth-child":null!==(t=e.nth_child)&&void 0!==t?t:0,"nth-of-type":null!==(n=e.nth_of_type)&&void 0!==n?n:0},e.href?{href:e.href}:{},e.attr_id?{attr_id:e.attr_id}:{},e.attributes),r={};return Os(a).sort((e,t)=>{var[n]=e,[s]=t;return n.localeCompare(s)}).forEach(e=>{var[t,n]=e;return r[ca(t.toString())]=ca(n.toString())}),(s+=":")+Os(r).map(e=>{var[t,n]=e;return t+'="'+n+'"'}).join("")}).join(";")}(e.map(e=>{var t,n,s={text:null==(t=e.$el_text)?void 0:t.slice(0,400),tag_name:e.tag_name,href:null==(n=e.attr__href)?void 0:n.slice(0,2048),attr_class:da(e),attr_id:e.attr__id,nth_child:e.nth_child,nth_of_type:e.nth_of_type,attributes:{}};return Os(e).filter(e=>{var[t]=e;return 0===t.indexOf("attr__")}).forEach(e=>{var[t,n]=e;return s.attributes[t]=n}),s}))}function ca(e){return e.replace(/"|\\"/g,'\\"')}function da(e){var t=e.attr__class;return t?Mn(t)?t:zi(t):void 0}let ua=class{constructor(){this.clicks=[]}isRageClick(e,t,n){var s=this.clicks[this.clicks.length-1];if(s&&Math.abs(e-s.x)+Math.abs(t-s.y)<30&&n-s.timestamp<1e3){if(this.clicks.push({x:e,y:t,timestamp:n}),3===this.clicks.length)return!0}else this.clicks=[{x:e,y:t,timestamp:n}];return!1}};var pa,ma="$copy_autocapture",ha=((pa={}).GZipJS="gzip-js",pa.Base64="base64",pa),xa=["localhost","127.0.0.1"],fa=e=>{var t=null==hn?void 0:hn.createElement("a");return On(t)?null:(t.href=e,t)},ga=function(e,t){for(var n,s=((e.split("#")[0]||"").split(/\?(.*)/)[1]||"").replace(/^\?+/g,"").split("&"),i=0;i<s.length;i++){var a=s[i].split("=");if(a[0]===t){n=a;break}}if(!Mn(n)||n.length<2)return"";var r=n[1];try{r=decodeURIComponent(r)}catch(o){Es.error("Skipping decoding for malformed query param: "+r)}return r.replace(/\+/g," ")},va=function(e,t,n){if(!e||!t||!t.length)return e;for(var s=e.split("#"),i=s[0]||"",a=s[1],r=i.split("?"),o=r[1],l=r[0],c=(o||"").split("&"),d=[],u=0;u<c.length;u++){var p=c[u].split("=");Mn(p)&&(t.includes(p[0])?d.push(p[0]+"="+n):d.push(c[u]))}var m=l;return null!=o&&(m+="?"+d.join("&")),null!=a&&(m+="#"+a),m},ba=function(e,t){var n=e.match(new RegExp(t+"=([^&]*)"));return n?n[1]:null},ya=Is("[AutoCapture]");function wa(e,t){return t.length>e?t.slice(0,e)+"...":t}function ja(e){if(e.previousElementSibling)return e.previousElementSibling;var t=e;do{t=t.previousSibling}while(t&&!Li(t));return t}function Ca(e,t){for(var n,s,{e:i,maskAllElementAttributes:a,maskAllText:r,elementAttributeIgnoreList:o,elementsChainAsString:l}=t,c=[e],d=e;d.parentNode&&!Pi(d,"body");)Oi(d.parentNode)?(c.push(d.parentNode.host),d=d.parentNode.host):(c.push(d.parentNode),d=d.parentNode);var u,p=[],m={},h=!1,x=!1;if(Ls(c,e=>{var t=Ji(e);"a"===e.tagName.toLowerCase()&&(h=e.getAttribute("href"),h=t&&h&&aa(h)&&h),kn(Hi(e),"ph-no-capture")&&(x=!0),p.push(function(e,t,n,s){var i=e.tagName.toLowerCase(),a={tag_name:i};Wi.indexOf(i)>-1&&!n&&("a"===i.toLowerCase()||"button"===i.toLowerCase()?a.$el_text=wa(1024,ra(e)):a.$el_text=wa(1024,Ui(e)));var r=Hi(e);r.length>0&&(a.classes=r.filter(function(e){return""!==e})),Ls(e.attributes,function(n){var i;if((!Qi(e)||-1!==["name","id","class","aria-label"].indexOf(n.name))&&(null==s||!s.includes(n.name))&&!t&&aa(n.value)&&(i=n.name,!zn(i)||"_ngcontent"!==i.substring(0,10)&&"_nghost"!==i.substring(0,7))){var r=n.value;"class"===n.name&&(r=zi(r).join(" ")),a["attr__"+n.name]=wa(1024,r)}});for(var o=1,l=1,c=e;c=ja(c);)o++,c.tagName===e.tagName&&l++;return a.nth_child=o,a.nth_of_type=l,a}(e,a,r,o));var n=function(e){if(!Ji(e))return{};var t={};return Ls(e.attributes,function(e){if(e.name&&0===e.name.indexOf("data-ph-capture-attribute")){var n=e.name.replace("data-ph-capture-attribute-",""),s=e.value;n&&s&&aa(s)&&(t[n]=s)}}),t}(e);Ps(m,n)}),x)return{props:{},explicitNoCapture:x};if(r||("a"===e.tagName.toLowerCase()||"button"===e.tagName.toLowerCase()?p[0].$el_text=ra(e):p[0].$el_text=Ui(e)),h){var f,g;p[0].attr__href=h;var v=null==(f=fa(h))?void 0:f.host,b=null==ln||null==(g=ln.location)?void 0:g.host;v&&b&&v!==b&&(u=h)}return{props:Ps({$event_type:i.type,$ce_version:1},l?{}:{$elements:p},{$elements_chain:la(p)},null!=(n=p[0])&&n.$el_text?{$el_text:null==(s=p[0])?void 0:s.$el_text}:{},u&&"click"===i.type?{$external_click_url:u}:{},m)}}let Na=class{constructor(e){this.C=!1,this.M=null,this.rageclicks=new ua,this.O=!1,this.instance=e,this.F=null}get A(){var e,t,n=Pn(this.instance.config.autocapture)?this.instance.config.autocapture:{};return n.url_allowlist=null==(e=n.url_allowlist)?void 0:e.map(e=>new RegExp(e)),n.url_ignorelist=null==(t=n.url_ignorelist)?void 0:t.map(e=>new RegExp(e)),n}D(){if(this.isBrowserSupported()){if(ln&&hn){var e=e=>{e=e||(null==ln?void 0:ln.event);try{this.j(e)}catch(pa){ya.error("Failed to capture event",pa)}};if(Ws(hn,"submit",e,{capture:!0}),Ws(hn,"change",e,{capture:!0}),Ws(hn,"click",e,{capture:!0}),this.A.capture_copied_text){var t=e=>{e=e||(null==ln?void 0:ln.event),this.j(e,ma)};Ws(hn,"copy",t,{capture:!0}),Ws(hn,"cut",t,{capture:!0})}}}else ya.info("Disabling Automatic Event Collection because this browser is not supported")}startIfEnabled(){this.isEnabled&&!this.C&&(this.D(),this.C=!0)}onRemoteConfig(e){e.elementsChainAsString&&(this.O=e.elementsChainAsString),this.instance.persistence&&this.instance.persistence.register({[Ys]:!!e.autocapture_opt_out}),this.M=!!e.autocapture_opt_out,this.startIfEnabled()}setElementSelectors(e){this.F=e}getElementSelectors(e){var t,n=[];return null==(t=this.F)||t.forEach(t=>{var s=null==hn?void 0:hn.querySelectorAll(t);null==s||s.forEach(s=>{e===s&&n.push(t)})}),n}get isEnabled(){var e,t,n=null==(e=this.instance.persistence)?void 0:e.props[Ys],s=this.M;if(Hn(s)&&!Vn(n)&&!this.instance.L())return!1;var i=null!==(t=this.M)&&void 0!==t?t:!!n;return!!this.instance.config.autocapture&&!i}j(e,t){if(void 0===t&&(t="$autocapture"),this.isEnabled){var n,s=Vi(e);Ri(s)&&(s=s.parentNode||null),"$autocapture"===t&&"click"===e.type&&e instanceof MouseEvent&&this.instance.config.rageclick&&null!=(n=this.rageclicks)&&n.isRageClick(e.clientX,e.clientY,(new Date).getTime())&&function(e,t){if(!ln||Yi(e))return!1;var n,s;if(!1===(n=Vn(t)?!!t&&Zi:null!==(s=null==t?void 0:t.css_selector_ignorelist)&&void 0!==s?s:Zi))return!1;var{targetElementList:i}=Ki(e,!1);return!qi(i,n)}(s,this.instance.config.rageclick)&&this.j(e,"$rageclick");var i=t===ma;if(s&&function(e,t,n,s,i){var a,r,o,l;if(void 0===n&&(n=void 0),!ln||Yi(e))return!1;if(null!=(a=n)&&a.url_allowlist&&!Bi(n.url_allowlist))return!1;if(null!=(r=n)&&r.url_ignorelist&&Bi(n.url_ignorelist))return!1;if(null!=(o=n)&&o.dom_event_allowlist){var c=n.dom_event_allowlist;if(c&&!c.some(e=>t.type===e))return!1}var{parentIsUsefulElement:d,targetElementList:u}=Ki(e,s);if(!function(e,t){var n=null==t?void 0:t.element_allowlist;if(On(n))return!0;var s,i=function(e){if(n.some(t=>e.tagName.toLowerCase()===t))return{v:!0}};for(var a of e)if(s=i(a))return s.v;return!1}(u,n))return!1;if(!qi(u,null==(l=n)?void 0:l.css_selector_allowlist))return!1;var p=ln.getComputedStyle(e);if(p&&"pointer"===p.getPropertyValue("cursor")&&"click"===t.type)return!0;var m=e.tagName.toLowerCase();switch(m){case"html":return!1;case"form":return(i||["submit"]).indexOf(t.type)>=0;case"input":case"select":case"textarea":return(i||["change","click"]).indexOf(t.type)>=0;default:return d?(i||["click"]).indexOf(t.type)>=0:(i||["click"]).indexOf(t.type)>=0&&(Wi.indexOf(m)>-1||"true"===e.getAttribute("contenteditable"))}}(s,e,this.A,i,i?["copy","cut"]:void 0)){var{props:a,explicitNoCapture:r}=Ca(s,{e:e,maskAllElementAttributes:this.instance.config.mask_all_element_attributes,maskAllText:this.instance.config.mask_all_text,elementAttributeIgnoreList:this.A.element_attribute_ignorelist,elementsChainAsString:this.O});if(r)return!1;var o=this.getElementSelectors(s);if(o&&o.length>0&&(a.$element_selectors=o),t===ma){var l,c=$i(null==ln||null==(l=ln.getSelection())?void 0:l.toString()),d=e.type||"clipboard";if(!c)return!1;a.$selected_content=c,a.$copy_type=d}return this.instance.capture(t,a),!0}}}isBrowserSupported(){return Ln(null==hn?void 0:hn.querySelectorAll)}};Math.trunc||(Math.trunc=function(e){return e<0?Math.ceil(e):Math.floor(e)}),Number.isInteger||(Number.isInteger=function(e){return Un(e)&&isFinite(e)&&Math.floor(e)===e});var Fa="0123456789abcdef";let _a=class e{constructor(e){if(this.bytes=e,16!==e.length)throw new TypeError("not 128-bit length")}static fromFieldsV7(t,n,s,i){if(!Number.isInteger(t)||!Number.isInteger(n)||!Number.isInteger(s)||!Number.isInteger(i)||t<0||n<0||s<0||i<0||t>0xffffffffffff||n>4095||s>1073741823||i>4294967295)throw new RangeError("invalid field value");var a=new Uint8Array(16);return a[0]=t/Math.pow(2,40),a[1]=t/Math.pow(2,32),a[2]=t/Math.pow(2,24),a[3]=t/Math.pow(2,16),a[4]=t/Math.pow(2,8),a[5]=t,a[6]=112|n>>>8,a[7]=n,a[8]=128|s>>>24,a[9]=s>>>16,a[10]=s>>>8,a[11]=s,a[12]=i>>>24,a[13]=i>>>16,a[14]=i>>>8,a[15]=i,new e(a)}toString(){for(var e="",t=0;t<this.bytes.length;t++)e=e+Fa.charAt(this.bytes[t]>>>4)+Fa.charAt(15&this.bytes[t]),3!==t&&5!==t&&7!==t&&9!==t||(e+="-");if(36!==e.length)throw new Error("Invalid UUIDv7 was generated");return e}clone(){return new e(this.bytes.slice(0))}equals(e){return 0===this.compareTo(e)}compareTo(e){for(var t=0;t<16;t++){var n=this.bytes[t]-e.bytes[t];if(0!==n)return Math.sign(n)}return 0}},ka=class{constructor(){this.N=0,this.U=0,this.B=new Ia}generate(){var e=this.generateOrAbort();if(On(e)){this.N=0;var t=this.generateOrAbort();if(On(t))throw new Error("Could not generate UUID after timestamp reset");return t}return e}generateOrAbort(){var e=Date.now();if(e>this.N)this.N=e,this.q();else{if(!(e+1e4>this.N))return;this.U++,this.U>4398046511103&&(this.N++,this.q())}return _a.fromFieldsV7(this.N,Math.trunc(this.U/Math.pow(2,30)),this.U&Math.pow(2,30)-1,this.B.nextUint32())}q(){this.U=1024*this.B.nextUint32()+(1023&this.B.nextUint32())}};var Sa,Ea=e=>{if("undefined"!=typeof UUIDV7_DENY_WEAK_RNG&&UUIDV7_DENY_WEAK_RNG)throw new Error("no cryptographically strong RNG available");for(var t=0;t<e.length;t++)e[t]=65536*Math.trunc(65536*Math.random())+Math.trunc(65536*Math.random());return e};ln&&!On(ln.crypto)&&crypto.getRandomValues&&(Ea=e=>crypto.getRandomValues(e));let Ia=class{constructor(){this.H=new Uint32Array(8),this.W=1/0}nextUint32(){return this.W>=this.H.length&&(Ea(this.H),this.W=0),this.H[this.W++]}};var Aa=()=>Ta().toString(),Ta=()=>(Sa||(Sa=new ka)).generate(),Da="",Ma=/[a-z0-9][a-z0-9-]+\.[a-z]{2,}$/i;var La={G:()=>!!hn,V:function(e){Es.error("cookieStore error: "+e)},J:function(e){if(hn){try{for(var t=e+"=",n=hn.cookie.split(";").filter(e=>e.length),s=0;s<n.length;s++){for(var i=n[s];" "==i.charAt(0);)i=i.substring(1,i.length);if(0===i.indexOf(t))return decodeURIComponent(i.substring(t.length,i.length))}}catch(a){}return null}},K:function(e){var t;try{t=JSON.parse(La.J(e))||{}}catch(n){}return t},Y:function(e,t,n,s,i){if(hn)try{var a="",r="",o=function(e,t){if(t){var n=function(e,t){if(void 0===t&&(t=hn),Da)return Da;if(!t)return"";if(["localhost","127.0.0.1"].includes(e))return"";for(var n=e.split("."),s=Math.min(n.length,8),i="dmn_chk_"+Aa();!Da&&s--;){var a=n.slice(s).join("."),r=i+"=1;domain=."+a+";path=/";t.cookie=r+";max-age=3",t.cookie.includes(i)&&(t.cookie=r+";max-age=0",Da=a)}return Da}(e);if(!n){var s=(i=e.match(Ma))?i[0]:"";s!==n&&Es.info("Warning: cookie subdomain discovery mismatch",s,n),n=s}return n?"; domain=."+n:""}var i;return""}(hn.location.hostname,s);if(n){var l=new Date;l.setTime(l.getTime()+24*n*60*60*1e3),a="; expires="+l.toUTCString()}i&&(r="; secure");var c=e+"="+encodeURIComponent(JSON.stringify(t))+a+"; SameSite=Lax; path=/"+o+r;return c.length>3686.4&&Es.warn("cookieStore warning: large cookie, len="+c.length),hn.cookie=c,c}catch(d){return}},X:function(e,t){if(null!=hn&&hn.cookie)try{La.Y(e,"",-1,t)}catch(n){return}}},Pa=null,Ra={G:function(){if(!Hn(Pa))return Pa;var e=!0;if(On(ln))e=!1;else try{var t="__mplssupport__";Ra.Y(t,"xyz"),'"xyz"'!==Ra.J(t)&&(e=!1),Ra.X(t)}catch(pa){e=!1}return e||Es.error("localStorage unsupported; falling back to cookie store"),Pa=e,e},V:function(e){Es.error("localStorage error: "+e)},J:function(e){try{return null==ln?void 0:ln.localStorage.getItem(e)}catch(pa){Ra.V(pa)}return null},K:function(e){try{return JSON.parse(Ra.J(e))||{}}catch(t){}return null},Y:function(e,t){try{null==ln||ln.localStorage.setItem(e,JSON.stringify(t))}catch(pa){Ra.V(pa)}},X:function(e){try{null==ln||ln.localStorage.removeItem(e)}catch(pa){Ra.V(pa)}}},Oa=["distinct_id",pi,mi,Ii,Ei],za=Nn({},Ra,{K:function(e){try{var t={};try{t=La.K(e)||{}}catch(s){}var n=Ps(t,JSON.parse(Ra.J(e)||"{}"));return Ra.Y(e,n),n}catch(s){}return null},Y:function(e,t,n,s,i,a){try{Ra.Y(e,t,void 0,void 0,a);var r={};Oa.forEach(e=>{t[e]&&(r[e]=t[e])}),Object.keys(r).length&&La.Y(e,r,n,s,i,a)}catch(o){Ra.V(o)}},X:function(e,t){try{null==ln||ln.localStorage.removeItem(e),La.X(e,t)}catch(pa){Ra.V(pa)}}}),Ba={},Ha={G:function(){return!0},V:function(e){Es.error("memoryStorage error: "+e)},J:function(e){return Ba[e]||null},K:function(e){return Ba[e]||null},Y:function(e,t){Ba[e]=t},X:function(e){delete Ba[e]}},$a=null,Ua={G:function(){if(!Hn($a))return $a;if($a=!0,On(ln))$a=!1;else try{var e="__support__";Ua.Y(e,"xyz"),'"xyz"'!==Ua.J(e)&&($a=!1),Ua.X(e)}catch(pa){$a=!1}return $a},V:function(e){Es.error("sessionStorage error: ",e)},J:function(e){try{return null==ln?void 0:ln.sessionStorage.getItem(e)}catch(pa){Ua.V(pa)}return null},K:function(e){try{return JSON.parse(Ua.J(e))||null}catch(t){}return null},Y:function(e,t){try{null==ln||ln.sessionStorage.setItem(e,JSON.stringify(t))}catch(pa){Ua.V(pa)}},X:function(e){try{null==ln||ln.sessionStorage.removeItem(e)}catch(pa){Ua.V(pa)}}},Va=function(e){return e[e.PENDING=-1]="PENDING",e[e.DENIED=0]="DENIED",e[e.GRANTED=1]="GRANTED",e}({});let Wa=class{constructor(e){this._instance=e}get A(){return this._instance.config}get consent(){return this.Z()?Va.DENIED:this.tt}isOptedOut(){return"always"===this.A.cookieless_mode||this.consent===Va.DENIED||this.consent===Va.PENDING&&(this.A.opt_out_capturing_by_default||"on_reject"===this.A.cookieless_mode)}isOptedIn(){return!this.isOptedOut()}isExplicitlyOptedOut(){return this.consent===Va.DENIED}optInOut(e){this.it.Y(this.et,e?1:0,this.A.cookie_expiration,this.A.cross_subdomain_cookie,this.A.secure_cookie)}reset(){this.it.X(this.et,this.A.cross_subdomain_cookie)}get et(){var{token:e,opt_out_capturing_cookie_prefix:t,consent_persistence_name:n}=this._instance.config;return n||(t?t+e:"__ph_opt_in_out_"+e)}get tt(){var e=this.it.J(this.et);return Kn(e)?Va.GRANTED:kn(Jn,e)?Va.DENIED:Va.PENDING}get it(){if(!this.rt){var e=this.A.opt_out_capturing_persistence_type;this.rt="localStorage"===e?Ra:La;var t="localStorage"===e?La:Ra;t.J(this.et)&&(this.rt.J(this.et)||this.optInOut(Kn(t.J(this.et))),t.X(this.et,this.A.cross_subdomain_cookie))}return this.rt}Z(){return!!this.A.respect_dnt&&!!Vs([null==mn?void 0:mn.doNotTrack,null==mn?void 0:mn.msDoNotTrack,yn.doNotTrack],e=>Kn(e))}};var qa=Is("[Dead Clicks]"),Ga=()=>!0,Za=e=>{var t,n=!(null==(t=e.instance.persistence)||!t.get_property(ti)),s=e.instance.config.capture_dead_clicks;return Vn(s)?s:n};let Ya=class{get lazyLoadedDeadClicksAutocapture(){return this.st}constructor(e,t,n){this.instance=e,this.isEnabled=t,this.onCapture=n,this.startIfEnabled()}onRemoteConfig(e){this.instance.persistence&&this.instance.persistence.register({[ti]:null==e?void 0:e.captureDeadClicks}),this.startIfEnabled()}startIfEnabled(){this.isEnabled(this)&&this.nt(()=>{this.ot()})}nt(e){var t,n;null!=(t=yn.__PosthogExtensions__)&&t.initDeadClicksAutocapture&&e(),null==(n=yn.__PosthogExtensions__)||null==n.loadExternalDependency||n.loadExternalDependency(this.instance,"dead-clicks-autocapture",t=>{t?qa.error("failed to load script",t):e()})}ot(){var e;if(hn){if(!this.st&&null!=(e=yn.__PosthogExtensions__)&&e.initDeadClicksAutocapture){var t=Pn(this.instance.config.capture_dead_clicks)?this.instance.config.capture_dead_clicks:{};t.__onCapture=this.onCapture,this.st=yn.__PosthogExtensions__.initDeadClicksAutocapture(this.instance,t),this.st.start(hn),qa.info("starting...")}}else qa.error("`document` not found. Cannot start.")}stop(){this.st&&(this.st.stop(),this.st=void 0,qa.info("stopping..."))}};var Ka=Is("[ExceptionAutocapture]");let Ja=class{constructor(e){var t,n,s;this.lt=()=>{var e;if(ln&&this.isEnabled&&null!=(e=yn.__PosthogExtensions__)&&e.errorWrappingFunctions){var t=yn.__PosthogExtensions__.errorWrappingFunctions.wrapOnError,n=yn.__PosthogExtensions__.errorWrappingFunctions.wrapUnhandledRejection,s=yn.__PosthogExtensions__.errorWrappingFunctions.wrapConsoleError;try{!this.ut&&this.A.capture_unhandled_errors&&(this.ut=t(this.captureException.bind(this))),!this.ht&&this.A.capture_unhandled_rejections&&(this.ht=n(this.captureException.bind(this))),!this.dt&&this.A.capture_console_errors&&(this.dt=s(this.captureException.bind(this)))}catch(pa){Ka.error("failed to start",pa),this.vt()}}},this._instance=e,this.ct=!(null==(t=this._instance.persistence)||!t.props[Js]),this.A=this.ft(),this.gt=new Xn({refillRate:null!==(n=this._instance.config.error_tracking.__exceptionRateLimiterRefillRate)&&void 0!==n?n:1,bucketSize:null!==(s=this._instance.config.error_tracking.__exceptionRateLimiterBucketSize)&&void 0!==s?s:10,refillInterval:1e4,R:Ka}),this.startIfEnabled()}ft(){var e=this._instance.config.capture_exceptions,t={capture_unhandled_errors:!1,capture_unhandled_rejections:!1,capture_console_errors:!1};return Pn(e)?t=Nn({},t,e):(On(e)?this.ct:e)&&(t=Nn({},t,{capture_unhandled_errors:!0,capture_unhandled_rejections:!0})),t}get isEnabled(){return this.A.capture_console_errors||this.A.capture_unhandled_errors||this.A.capture_unhandled_rejections}startIfEnabled(){this.isEnabled&&(Ka.info("enabled"),this.nt(this.lt))}nt(e){var t,n;null!=(t=yn.__PosthogExtensions__)&&t.errorWrappingFunctions&&e(),null==(n=yn.__PosthogExtensions__)||null==n.loadExternalDependency||n.loadExternalDependency(this._instance,"exception-autocapture",t=>{if(t)return Ka.error("failed to load script",t);e()})}vt(){var e,t,n;null==(e=this.ut)||e.call(this),this.ut=void 0,null==(t=this.ht)||t.call(this),this.ht=void 0,null==(n=this.dt)||n.call(this),this.dt=void 0}onRemoteConfig(e){var t=e.autocaptureExceptions;this.ct=!!t||!1,this.A=this.ft(),this._instance.persistence&&this._instance.persistence.register({[Js]:this.ct}),this.startIfEnabled()}captureException(e){var t,n,s=null!==(t=null==e||null==(n=e.$exception_list)||null==(n=n[0])?void 0:n.type)&&void 0!==t?t:"Exception";this.gt.consumeRateLimit(s)?Ka.info("Skipping exception capture because of client rate limiting.",{exception:s}):this._instance.exceptions.sendExceptionEvent(e)}};function Qa(e,t,n){try{if(!(t in e))return()=>{};var s=e[t],i=n(s);return Ln(i)&&(i.prototype=i.prototype||{},Object.defineProperties(i,{__posthog_wrapped__:{enumerable:!1,value:!0}})),e[t]=i,()=>{e[t]=s}}catch(a){return()=>{}}}let Xa=class{constructor(e){var t;this._instance=e,this._t=(null==ln||null==(t=ln.location)?void 0:t.pathname)||""}get isEnabled(){return"history_change"===this._instance.config.capture_pageview}startIfEnabled(){this.isEnabled&&(Es.info("History API monitoring enabled, starting..."),this.monitorHistoryChanges())}stop(){this.yt&&this.yt(),this.yt=void 0,Es.info("History API monitoring stopped")}monitorHistoryChanges(){var e,t;if(ln&&ln.history){var n=this;null!=(e=ln.history.pushState)&&e.__posthog_wrapped__||Qa(ln.history,"pushState",e=>function(t,s,i){e.call(this,t,s,i),n.bt("pushState")}),null!=(t=ln.history.replaceState)&&t.__posthog_wrapped__||Qa(ln.history,"replaceState",e=>function(t,s,i){e.call(this,t,s,i),n.bt("replaceState")}),this.wt()}}bt(e){try{var t,n=null==ln||null==(t=ln.location)?void 0:t.pathname;if(!n)return;n!==this._t&&this.isEnabled&&this._instance.capture("$pageview",{navigation_type:e}),this._t=n}catch(pa){Es.error("Error capturing "+e+" pageview",pa)}}wt(){if(!this.yt){var e=()=>{this.bt("popstate")};Ws(ln,"popstate",e),this.yt=()=>{ln&&ln.removeEventListener("popstate",e)}}}};function er(e){var t,n;return(null==(t=JSON.stringify(e,(n=[],function(e,t){if(Pn(t)){for(;n.length>0&&n[n.length-1]!==this;)n.pop();return n.includes(t)?"[Circular]":(n.push(t),t)}return t})))?void 0:t.length)||0}function tr(e,t){if(void 0===t&&(t=6606028.8),e.size>=t&&e.data.length>1){var n=Math.floor(e.data.length/2),s=e.data.slice(0,n),i=e.data.slice(n);return[tr({size:er(s),data:s,sessionId:e.sessionId,windowId:e.windowId}),tr({size:er(i),data:i,sessionId:e.sessionId,windowId:e.windowId})].flatMap(e=>e)}return[e]}var nr=(e=>(e[e.DomContentLoaded=0]="DomContentLoaded",e[e.Load=1]="Load",e[e.FullSnapshot=2]="FullSnapshot",e[e.IncrementalSnapshot=3]="IncrementalSnapshot",e[e.Meta=4]="Meta",e[e.Custom=5]="Custom",e[e.Plugin=6]="Plugin",e))(nr||{}),sr=(e=>(e[e.Mutation=0]="Mutation",e[e.MouseMove=1]="MouseMove",e[e.MouseInteraction=2]="MouseInteraction",e[e.Scroll=3]="Scroll",e[e.ViewportResize=4]="ViewportResize",e[e.Input=5]="Input",e[e.TouchMove=6]="TouchMove",e[e.MediaInteraction=7]="MediaInteraction",e[e.StyleSheetRule=8]="StyleSheetRule",e[e.CanvasMutation=9]="CanvasMutation",e[e.Font=10]="Font",e[e.Log=11]="Log",e[e.Drag=12]="Drag",e[e.StyleDeclaration=13]="StyleDeclaration",e[e.Selection=14]="Selection",e[e.AdoptedStyleSheet=15]="AdoptedStyleSheet",e[e.CustomElement=16]="CustomElement",e))(sr||{}),ir="[SessionRecording]",ar="redacted",rr={initiatorTypes:["audio","beacon","body","css","early-hint","embed","fetch","frame","iframe","icon","image","img","input","link","navigation","object","ping","script","track","video","xmlhttprequest"],maskRequestFn:e=>e,recordHeaders:!1,recordBody:!1,recordInitialRequests:!1,recordPerformance:!1,performanceEntryTypeToObserve:["first-input","navigation","paint","resource"],payloadSizeLimitBytes:1e6,payloadHostDenyList:[".lr-ingest.io",".ingest.sentry.io",".clarity.ms","analytics.google.com","bam.nr-data.net"]},or=["authorization","x-forwarded-for","authorization","cookie","set-cookie","x-api-key","x-real-ip","remote-addr","forwarded","proxy-authorization","x-csrf-token","x-csrftoken","x-xsrf-token"],lr=["password","secret","passwd","api_key","apikey","auth","credentials","mysql_pwd","privatekey","private_key","token"],cr=["/s/","/e/","/i/"];function dr(e,t,n,s){if($n(e))return e;var i=(null==t?void 0:t["content-length"])||new Blob([e]).size;return zn(i)&&(i=parseInt(i)),i>n?ir+" "+s+" body too large to record ("+i+" bytes)":e}function ur(e,t){if($n(e))return e;var n=e;return aa(n,!1)||(n=ir+" "+t+" body "+ar),Ls(lr,e=>{var s,i;null!=(s=n)&&s.length&&-1!==(null==(i=n)?void 0:i.indexOf(e))&&(n=ir+" "+t+" body "+ar+" as might contain: "+e)}),n}let pr=class{constructor(e,t){var n,s;void 0===t&&(t={}),this.St={},this.kt=e=>{if(!this.St[e]){var t,n;this.St[e]=!0;var s=this.$t(e);null==(t=(n=this.t).onBlockedNode)||t.call(n,e,s)}},this.xt=e=>{var t=this.$t(e);if("svg"!==(null==t?void 0:t.nodeName)&&t instanceof Element){var n=t.closest("svg");if(n)return[this._rrweb.mirror.getId(n),n]}return[e,t]},this.$t=e=>this._rrweb.mirror.getNode(e),this.Et=e=>{var t,n,s,i,a,r,o,l;return(null!==(t=null==(n=e.removes)?void 0:n.length)&&void 0!==t?t:0)+(null!==(s=null==(i=e.attributes)?void 0:i.length)&&void 0!==s?s:0)+(null!==(a=null==(r=e.texts)?void 0:r.length)&&void 0!==a?a:0)+(null!==(o=null==(l=e.adds)?void 0:l.length)&&void 0!==o?o:0)},this.throttleMutations=e=>{if(3!==e.type||0!==e.data.source)return e;var t=e.data,n=this.Et(t);t.attributes&&(t.attributes=t.attributes.filter(e=>{var[t]=this.xt(e.id);return!this.gt.consumeRateLimit(t)&&e}));var s=this.Et(t);return 0!==s||n===s?e:void 0},this._rrweb=e,this.t=t,this.gt=new Xn({bucketSize:null!==(n=this.t.bucketSize)&&void 0!==n?n:100,refillRate:null!==(s=this.t.refillRate)&&void 0!==s?s:10,refillInterval:1e3,$:this.kt,R:Es})}};var mr=Uint8Array,hr=Uint16Array,xr=Uint32Array,fr=new mr([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),gr=new mr([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),vr=new mr([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),br=function(e,t){for(var n=new hr(31),s=0;s<31;++s)n[s]=t+=1<<e[s-1];var i=new xr(n[30]);for(s=1;s<30;++s)for(var a=n[s];a<n[s+1];++a)i[a]=a-n[s]<<5|s;return[n,i]},yr=br(fr,2),wr=yr[0],jr=yr[1];wr[28]=258,jr[258]=28;for(var Cr=br(gr,0)[1],Nr=new hr(32768),Fr=0;Fr<32768;++Fr){var _r=(43690&Fr)>>>1|(21845&Fr)<<1;_r=(61680&(_r=(52428&_r)>>>2|(13107&_r)<<2))>>>4|(3855&_r)<<4,Nr[Fr]=((65280&_r)>>>8|(255&_r)<<8)>>>1}var kr=function(e,t,n){for(var s=e.length,i=0,a=new hr(t);i<s;++i)++a[e[i]-1];var r,o=new hr(t);for(i=0;i<t;++i)o[i]=o[i-1]+a[i-1]<<1;for(r=new hr(s),i=0;i<s;++i)r[i]=Nr[o[e[i]-1]++]>>>15-e[i];return r},Sr=new mr(288);for(Fr=0;Fr<144;++Fr)Sr[Fr]=8;for(Fr=144;Fr<256;++Fr)Sr[Fr]=9;for(Fr=256;Fr<280;++Fr)Sr[Fr]=7;for(Fr=280;Fr<288;++Fr)Sr[Fr]=8;var Er=new mr(32);for(Fr=0;Fr<32;++Fr)Er[Fr]=5;var Ir=kr(Sr,9),Ar=kr(Er,5),Tr=function(e){return(e/8|0)+(7&e&&1)},Dr=function(e,t,n){(null==n||n>e.length)&&(n=e.length);var s=new(e instanceof hr?hr:e instanceof xr?xr:mr)(n-t);return s.set(e.subarray(t,n)),s},Mr=function(e,t,n){n<<=7&t;var s=t/8|0;e[s]|=n,e[s+1]|=n>>>8},Lr=function(e,t,n){n<<=7&t;var s=t/8|0;e[s]|=n,e[s+1]|=n>>>8,e[s+2]|=n>>>16},Pr=function(e,t){for(var n=[],s=0;s<e.length;++s)e[s]&&n.push({s:s,f:e[s]});var i=n.length,a=n.slice();if(!i)return[new mr(0),0];if(1==i){var r=new mr(n[0].s+1);return r[n[0].s]=1,[r,1]}n.sort(function(e,t){return e.f-t.f}),n.push({s:-1,f:25001});var o=n[0],l=n[1],c=0,d=1,u=2;for(n[0]={s:-1,f:o.f+l.f,l:o,r:l};d!=i-1;)o=n[n[c].f<n[u].f?c++:u++],l=n[c!=d&&n[c].f<n[u].f?c++:u++],n[d++]={s:-1,f:o.f+l.f,l:o,r:l};var p=a[0].s;for(s=1;s<i;++s)a[s].s>p&&(p=a[s].s);var m=new hr(p+1),h=Rr(n[d-1],m,0);if(h>t){s=0;var x=0,f=h-t,g=1<<f;for(a.sort(function(e,t){return m[t.s]-m[e.s]||e.f-t.f});s<i;++s){var v=a[s].s;if(!(m[v]>t))break;x+=g-(1<<h-m[v]),m[v]=t}for(x>>>=f;x>0;){var b=a[s].s;m[b]<t?x-=1<<t-m[b]++-1:++s}for(;s>=0&&x;--s){var y=a[s].s;m[y]==t&&(--m[y],++x)}h=t}return[new mr(m),h]},Rr=function(e,t,n){return-1==e.s?Math.max(Rr(e.l,t,n+1),Rr(e.r,t,n+1)):t[e.s]=n},Or=function(e){for(var t=e.length;t&&!e[--t];);for(var n=new hr(++t),s=0,i=e[0],a=1,r=function(e){n[s++]=e},o=1;o<=t;++o)if(e[o]==i&&o!=t)++a;else{if(!i&&a>2){for(;a>138;a-=138)r(32754);a>2&&(r(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(r(i),--a;a>6;a-=6)r(8304);a>2&&(r(a-3<<5|8208),a=0)}for(;a--;)r(i);a=1,i=e[o]}return[n.subarray(0,s),t]},zr=function(e,t){for(var n=0,s=0;s<t.length;++s)n+=e[s]*t[s];return n},Br=function(e,t,n){var s=n.length,i=Tr(t+2);e[i]=255&s,e[i+1]=s>>>8,e[i+2]=255^e[i],e[i+3]=255^e[i+1];for(var a=0;a<s;++a)e[i+a+4]=n[a];return 8*(i+4+s)},Hr=function(e,t,n,s,i,a,r,o,l,c,d){Mr(t,d++,n),++i[256];for(var u=Pr(i,15),p=u[0],m=u[1],h=Pr(a,15),x=h[0],f=h[1],g=Or(p),v=g[0],b=g[1],y=Or(x),w=y[0],j=y[1],C=new hr(19),N=0;N<v.length;++N)C[31&v[N]]++;for(N=0;N<w.length;++N)C[31&w[N]]++;for(var F=Pr(C,7),_=F[0],k=F[1],S=19;S>4&&!_[vr[S-1]];--S);var E,I,A,T,D=c+5<<3,M=zr(i,Sr)+zr(a,Er)+r,L=zr(i,p)+zr(a,x)+r+14+3*S+zr(C,_)+(2*C[16]+3*C[17]+7*C[18]);if(D<=M&&D<=L)return Br(t,d,e.subarray(l,l+c));if(Mr(t,d,1+(L<M)),d+=2,L<M){E=kr(p,m),I=p,A=kr(x,f),T=x;var P=kr(_,k);for(Mr(t,d,b-257),Mr(t,d+5,j-1),Mr(t,d+10,S-4),d+=14,N=0;N<S;++N)Mr(t,d+3*N,_[vr[N]]);d+=3*S;for(var R=[v,w],O=0;O<2;++O){var z=R[O];for(N=0;N<z.length;++N){var B=31&z[N];Mr(t,d,P[B]),d+=_[B],B>15&&(Mr(t,d,z[N]>>>5&127),d+=z[N]>>>12)}}}else E=Ir,I=Sr,A=Ar,T=Er;for(N=0;N<o;++N)if(s[N]>255){B=s[N]>>>18&31,Lr(t,d,E[B+257]),d+=I[B+257],B>7&&(Mr(t,d,s[N]>>>23&31),d+=fr[B]);var H=31&s[N];Lr(t,d,A[H]),d+=T[H],H>3&&(Lr(t,d,s[N]>>>5&8191),d+=gr[H])}else Lr(t,d,E[s[N]]),d+=I[s[N]];return Lr(t,d,E[256]),d+I[256]},$r=new xr([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Ur=function(){for(var e=new xr(256),t=0;t<256;++t){for(var n=t,s=9;--s;)n=(1&n&&3988292384)^n>>>1;e[t]=n}return e}(),Vr=function(e,t,n){for(;n;++t)e[t]=n,n>>>=8};function Wr(e,t){void 0===t&&(t={});var n=function(){var e=4294967295;return{p:function(t){for(var n=e,s=0;s<t.length;++s)n=Ur[255&n^t[s]]^n>>>8;e=n},d:function(){return 4294967295^e}}}(),s=e.length;n.p(e);var i=function(e,t,n,s){return function(e,t,n,s,i){var a=e.length,r=new mr(s+a+5*(1+Math.floor(a/7e3))+i),o=r.subarray(s,r.length-i),l=0;if(!t||a<8)for(var c=0;c<=a;c+=65535){var d=c+65535;d<a?l=Br(o,l,e.subarray(c,d)):(o[c]=!0,l=Br(o,l,e.subarray(c,a)))}else{for(var u=$r[t-1],p=u>>>13,m=8191&u,h=(1<<n)-1,x=new hr(32768),f=new hr(h+1),g=Math.ceil(n/3),v=2*g,b=function(t){return(e[t]^e[t+1]<<g^e[t+2]<<v)&h},y=new xr(25e3),w=new hr(288),j=new hr(32),C=0,N=0,F=(c=0,0),_=0,k=0;c<a;++c){var S=b(c),E=32767&c,I=f[S];if(x[E]=I,f[S]=E,_<=c){var A=a-c;if((C>7e3||F>24576)&&A>423){l=Hr(e,o,0,y,w,j,N,F,k,c-k,l),F=C=N=0,k=c;for(var T=0;T<286;++T)w[T]=0;for(T=0;T<30;++T)j[T]=0}var D=2,M=0,L=m,P=E-I&32767;if(A>2&&S==b(c-P))for(var R=Math.min(p,A)-1,O=Math.min(32767,c),z=Math.min(258,A);P<=O&&--L&&E!=I;){if(e[c+D]==e[c+D-P]){for(var B=0;B<z&&e[c+B]==e[c+B-P];++B);if(B>D){if(D=B,M=P,B>R)break;var H=Math.min(P,B-2),$=0;for(T=0;T<H;++T){var U=c-P+T+32768&32767,V=U-x[U]+32768&32767;V>$&&($=V,I=U)}}}P+=(E=I)-(I=x[E])+32768&32767}if(M){y[F++]=268435456|jr[D]<<18|Cr[M];var W=31&jr[D],q=31&Cr[M];N+=fr[W]+gr[q],++w[257+W],++j[q],_=c+D,++C}else y[F++]=e[c],++w[e[c]]}}l=Hr(e,o,!0,y,w,j,N,F,k,c-k,l)}return Dr(r,0,s+Tr(l)+i)}(e,null==t.level?6:t.level,null==t.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(e.length)))):12+t.mem,n,s)}(e,t,function(e){return 10+(e.filename&&e.filename.length+1||0)}(t),8),a=i.length;return function(e,t){var n=t.filename;if(e[0]=31,e[1]=139,e[2]=8,e[8]=t.level<2?4:9==t.level?2:0,e[9]=3,0!=t.mtime&&Vr(e,4,Math.floor(new Date(t.mtime||Date.now())/1e3)),n){e[3]=8;for(var s=0;s<=n.length;++s)e[s+10]=n.charCodeAt(s)}}(i,t),Vr(i,a-8,n.d()),Vr(i,a-4,s),i}function qr(e,t){var n=e.length;if("undefined"!=typeof TextEncoder)return(new TextEncoder).encode(e);for(var s=new mr(e.length+(e.length>>>1)),i=0,a=function(e){s[i++]=e},r=0;r<n;++r){if(i+5>s.length){var o=new mr(i+8+(n-r<<1));o.set(s),s=o}var l=e.charCodeAt(r);l<128||t?a(l):l<2048?(a(192|l>>>6),a(128|63&l)):l>55295&&l<57344?(a(240|(l=65536+(1047552&l)|1023&e.charCodeAt(++r))>>>18),a(128|l>>>12&63),a(128|l>>>6&63),a(128|63&l)):(a(224|l>>>12),a(128|l>>>6&63),a(128|63&l))}return Dr(s,0,i)}var Gr="disabled",Zr="sampled",Yr="active",Kr="buffering",Jr="paused",Qr="trigger",Xr=Qr+"_activated",eo=Qr+"_pending",to=Qr+"_"+Gr;function no(e,t){return t.some(t=>"regex"===t.matching&&new RegExp(t.url).test(e))}class so{constructor(e){this.Rt=e}triggerStatus(e){var t=this.Rt.map(t=>t.triggerStatus(e));return t.includes(Xr)?Xr:t.includes(eo)?eo:to}stop(){this.Rt.forEach(e=>e.stop())}}class io{constructor(e){this.Rt=e}triggerStatus(e){var t=new Set;for(var n of this.Rt)t.add(n.triggerStatus(e));switch(t.delete(to),t.size){case 0:return to;case 1:return Array.from(t)[0];default:return eo}}stop(){this.Rt.forEach(e=>e.stop())}}class ao{triggerStatus(){return eo}stop(){}}var ro=e=>"sessionRecording"in e;class oo{constructor(e){this.It=[],this.Pt=[],this.urlBlocked=!1,this._instance=e}onConfig(e){var t,n;this.It=(ro(e)?null==(t=e.sessionRecording)?void 0:t.urlTriggers:null==e?void 0:e.urlTriggers)||[],this.Pt=(ro(e)?null==(n=e.sessionRecording)?void 0:n.urlBlocklist:null==e?void 0:e.urlBlocklist)||[]}onRemoteConfig(e){this.onConfig(e)}Tt(e){var t;return 0===this.It.length?to:(null==(t=this._instance)?void 0:t.get_property(hi))===e?Xr:eo}triggerStatus(e){var t=this.Tt(e),n=t===Xr?Xr:t===eo?eo:to;return this._instance.register_for_session({$sdk_debug_replay_url_trigger_status:n}),n}checkUrlTriggerConditions(e,t,n){if(void 0!==ln&&ln.location.href){var s=ln.location.href,i=this.urlBlocked,a=no(s,this.Pt);i&&a||(a&&!i?e():!a&&i&&t(),no(s,this.It)&&n("url"))}}stop(){}}class lo{constructor(e){this.linkedFlag=null,this.linkedFlagSeen=!1,this.Ct=()=>{},this._instance=e}triggerStatus(){var e=eo;return $n(this.linkedFlag)&&(e=to),this.linkedFlagSeen&&(e=Xr),this._instance.register_for_session({$sdk_debug_replay_linked_flag_trigger_status:e}),e}onConfig(e,t){var n;if(this.linkedFlag=(ro(e)?null==(n=e.sessionRecording)?void 0:n.linkedFlag:null==e?void 0:e.linkedFlag)||null,!$n(this.linkedFlag)&&!this.linkedFlagSeen){var s=zn(this.linkedFlag)?this.linkedFlag:this.linkedFlag.flag,i=zn(this.linkedFlag)?null:this.linkedFlag.variant;this.Ct=this._instance.onFeatureFlags((e,n)=>{var a=!1;if(Pn(n)&&s in n){var r=n[s];a=Vn(r)?!0===r:i?r===i:!!r}this.linkedFlagSeen=a,a&&t(s,i)})}}onRemoteConfig(e,t){this.onConfig(e,t)}stop(){this.Ct()}}class co{constructor(e){this.Mt=[],this._instance=e}onConfig(e){var t;this.Mt=(ro(e)?null==(t=e.sessionRecording)?void 0:t.eventTriggers:null==e?void 0:e.eventTriggers)||[]}onRemoteConfig(e){this.onConfig(e)}Ot(e){var t;return 0===this.Mt.length?to:(null==(t=this._instance)?void 0:t.get_property(xi))===e?Xr:eo}triggerStatus(e){var t=this.Ot(e),n=t===Xr?Xr:t===eo?eo:to;return this._instance.register_for_session({$sdk_debug_replay_event_trigger_status:n}),n}stop(){}}function uo(e){return e.isRecordingEnabled?Kr:Gr}function po(e){if(!e.receivedFlags)return Kr;if(!e.isRecordingEnabled)return Gr;if(e.urlTriggerMatching.urlBlocked)return Jr;var t=!0===e.isSampled,n=new so([e.eventTriggerMatching,e.urlTriggerMatching,e.linkedFlagMatching]).triggerStatus(e.sessionId);return t?Zr:n===Xr?Yr:n===eo?Kr:!1===e.isSampled?Gr:Yr}function mo(e){if(!e.receivedFlags)return Kr;if(!e.isRecordingEnabled)return Gr;if(e.urlTriggerMatching.urlBlocked)return Jr;var t=new io([e.eventTriggerMatching,e.urlTriggerMatching,e.linkedFlagMatching]).triggerStatus(e.sessionId),n=t!==to,s=Vn(e.isSampled);return n&&t===eo?Kr:n&&t===to||s&&!e.isSampled?Gr:!0===e.isSampled?Zr:Yr}var ho="[SessionRecording]",xo=Is(ho);function fo(){var e;return null==yn||null==(e=yn.__PosthogExtensions__)||null==(e=e.rrweb)?void 0:e.record}var go=[sr.MouseMove,sr.MouseInteraction,sr.Scroll,sr.ViewportResize,sr.Input,sr.TouchMove,sr.MediaInteraction,sr.Drag],vo=e=>({rrwebMethod:e,enqueuedAt:Date.now(),attempt:1});function bo(e){return function(e){for(var t="",n=0;n<e.length;){var s=e[n++];t+=String.fromCharCode(s)}return t}(Wr(qr(JSON.stringify(e))))}function yo(e){return e.type===nr.Custom&&"sessionIdle"===e.data.tag}class wo{get sessionId(){return this.Ft}get At(){return this._instance.config.session_recording.session_idle_threshold_ms||3e5}get started(){return this.Dt}get jt(){if(!this._instance.sessionManager)throw new Error(ho+" must be started with a valid sessionManager.");return this._instance.sessionManager}get Lt(){var e,t;return this.Nt.triggerStatus(this.sessionId)===eo?6e4:null!==(e=null==(t=this._instance.config.session_recording)?void 0:t.full_snapshot_interval_millis)&&void 0!==e?e:3e5}get Ut(){var e=this._instance.get_property(mi);return Vn(e)?e:null}get zt(){var e,t,n=null==(e=this.H)?void 0:e.data[(null==(t=this.H)?void 0:t.data.length)-1],{sessionStartTimestamp:s}=this.jt.checkAndGetSessionAndWindowId(!0);return n?n.timestamp-s:null}get Bt(){var e=!!this._instance.get_property(ii),t=!this._instance.config.disable_session_recording;return ln&&e&&t}get qt(){var e=!!this._instance.get_property(ai),t=this._instance.config.enable_recording_console_log;return null!=t?t:e}get Ht(){var e,t,n,s,i,a,r=this._instance.config.session_recording.captureCanvas,o=this._instance.get_property(li),l=null!==(e=null!==(t=null==r?void 0:r.recordCanvas)&&void 0!==t?t:null==o?void 0:o.enabled)&&void 0!==e&&e,c=null!==(n=null!==(s=null==r?void 0:r.canvasFps)&&void 0!==s?s:null==o?void 0:o.fps)&&void 0!==n?n:4,d=null!==(i=null!==(a=null==r?void 0:r.canvasQuality)&&void 0!==a?a:null==o?void 0:o.quality)&&void 0!==i?i:.4;if("string"==typeof d){var u=parseFloat(d);d=isNaN(u)?.4:u}return{enabled:l,fps:Qn(c,0,12,xo.createLogger("canvas recording fps"),4),quality:Qn(d,0,1,xo.createLogger("canvas recording quality"),.4)}}get Wt(){var e,t,n=this._instance.get_property(ri),s={recordHeaders:null==(e=this._instance.config.session_recording)?void 0:e.recordHeaders,recordBody:null==(t=this._instance.config.session_recording)?void 0:t.recordBody},i=(null==s?void 0:s.recordHeaders)||(null==n?void 0:n.recordHeaders),a=(null==s?void 0:s.recordBody)||(null==n?void 0:n.recordBody),r=Pn(this._instance.config.capture_performance)?this._instance.config.capture_performance.network_timing:this._instance.config.capture_performance,o=!!(Vn(r)?r:null==n?void 0:n.capturePerformance);return i||a||o?{recordHeaders:i,recordBody:a,recordPerformance:o}:void 0}get Gt(){var e,t,n,s,i,a,r=this._instance.get_property(oi),o={maskAllInputs:null==(e=this._instance.config.session_recording)?void 0:e.maskAllInputs,maskTextSelector:null==(t=this._instance.config.session_recording)?void 0:t.maskTextSelector,blockSelector:null==(n=this._instance.config.session_recording)?void 0:n.blockSelector},l=null!==(s=null==o?void 0:o.maskAllInputs)&&void 0!==s?s:null==r?void 0:r.maskAllInputs,c=null!==(i=null==o?void 0:o.maskTextSelector)&&void 0!==i?i:null==r?void 0:r.maskTextSelector,d=null!==(a=null==o?void 0:o.blockSelector)&&void 0!==a?a:null==r?void 0:r.blockSelector;return On(l)&&On(c)&&On(d)?void 0:{maskAllInputs:null==l||l,maskTextSelector:c,blockSelector:d}}get Vt(){var e=this._instance.get_property(ci);return Un(e)?e:null}get Jt(){var e=this._instance.get_property(di);return Un(e)?e:null}get status(){return this.Kt?this.Yt({receivedFlags:this.Kt,isRecordingEnabled:this.Bt,isSampled:this.Ut,urlTriggerMatching:this.Xt,eventTriggerMatching:this.Qt,linkedFlagMatching:this.Zt,sessionId:this.sessionId}):Kr}constructor(e){if(this.Yt=uo,this.Kt=!1,this.ti=[],this.ii="unknown",this.ei=Date.now(),this.Nt=new ao,this.ri=void 0,this.si=void 0,this.ni=void 0,this.oi=void 0,this.ai=void 0,this._forceAllowLocalhostNetworkCapture=!1,this.li=()=>{this.ui()},this.hi=()=>{this.tryAddCustomEvent("browser offline",{})},this.di=()=>{this.tryAddCustomEvent("browser online",{})},this.vi=()=>{if(null!=hn&&hn.visibilityState){var e="window "+hn.visibilityState;this.tryAddCustomEvent(e,{})}},this._instance=e,this.Dt=!1,this.ci="/s/",this.fi=void 0,this.Kt=!1,!this._instance.sessionManager)throw xo.error("started without valid sessionManager"),new Error(ho+" started without valid sessionManager. This is a bug.");if("always"===this._instance.config.cookieless_mode)throw new Error(ho+' cannot be used with cookieless_mode="always"');this.Zt=new lo(this._instance),this.Xt=new oo(this._instance),this.Qt=new co(this._instance);var{sessionId:t,windowId:n}=this.jt.checkAndGetSessionAndWindowId();this.Ft=t,this.pi=n,this.H=this.gi(),this.At>=this.jt.sessionTimeoutMs&&xo.warn("session_idle_threshold_ms ("+this.At+") is greater than the session timeout ("+this.jt.sessionTimeoutMs+"). Session will never be detected as idle")}startIfEnabledOrStop(e){this.Bt?(this.mi(e),Ws(ln,"beforeunload",this.li),Ws(ln,"offline",this.hi),Ws(ln,"online",this.di),Ws(ln,"visibilitychange",this.vi),this.yi(),this.bi(),$n(this.ri)&&(this.ri=this._instance.on("eventCaptured",e=>{try{if("$pageview"===e.event){var t=null!=e&&e.properties.$current_url?this.wi(null==e?void 0:e.properties.$current_url):"";if(!t)return;this.tryAddCustomEvent("$pageview",{href:t})}}catch(n){xo.error("Could not add $pageview to rrweb session",n)}})),this.si||(this.si=this.jt.onSessionId((e,t,n)=>{var s,i;n&&(this.tryAddCustomEvent("$session_id_change",{sessionId:e,windowId:t,changeReason:n}),null==(s=this._instance)||null==(s=s.persistence)||s.unregister(xi),null==(i=this._instance)||null==(i=i.persistence)||i.unregister(hi))}))):this.stopRecording()}stopRecording(){var e,t,n,s;this.Dt&&this.fi&&(this.fi(),this.fi=void 0,this.Dt=!1,null==ln||ln.removeEventListener("beforeunload",this.li),null==ln||ln.removeEventListener("offline",this.hi),null==ln||ln.removeEventListener("online",this.di),null==ln||ln.removeEventListener("visibilitychange",this.vi),this.gi(),clearInterval(this.Si),null==(e=this.ri)||e.call(this),this.ri=void 0,null==(t=this.ai)||t.call(this),this.ai=void 0,null==(n=this.si)||n.call(this),this.si=void 0,null==(s=this.oi)||s.call(this),this.oi=void 0,this.Qt.stop(),this.Xt.stop(),this.Zt.stop(),xo.info("stopped"))}ki(){var e;null==(e=this._instance.persistence)||e.unregister(mi)}$i(e){var t,n=this.Ft!==e,s=this.Vt;if(Un(s)){var i=this.Ut,a=n||!Vn(i),r=a?function(e,t){return function(e){for(var t=0,n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t|=0;return Math.abs(t)}(e)%100<Qn(100*t,0,100,Es)}(e,s):i;a&&(r?this.xi(Zr):xo.warn("Sample rate ("+s+") has determined that this sessionId ("+e+") will not be sent to the server."),this.tryAddCustomEvent("samplingDecisionMade",{sampleRate:s,isSampled:r})),null==(t=this._instance.persistence)||t.register({[mi]:r})}else this.ki()}onRemoteConfig(e){var t,n,s,i;this.tryAddCustomEvent("$remote_config_received",e),this.Ei(e),null!=(t=e.sessionRecording)&&t.endpoint&&(this.ci=null==(i=e.sessionRecording)?void 0:i.endpoint),this.yi(),"any"===(null==(n=e.sessionRecording)?void 0:n.triggerMatchType)?(this.Yt=po,this.Nt=new so([this.Qt,this.Xt])):(this.Yt=mo,this.Nt=new io([this.Qt,this.Xt])),this._instance.register_for_session({$sdk_debug_replay_remote_trigger_matching_config:null==(s=e.sessionRecording)?void 0:s.triggerMatchType}),this.Xt.onConfig(e),this.Qt.onConfig(e),this.Zt.onConfig(e,(e,t)=>{this.xi("linked_flag_matched",{flag:e,variant:t})}),this.Kt=!0,this.startIfEnabledOrStop()}yi(){Un(this.Vt)&&$n(this.oi)&&(this.oi=this.jt.onSessionId(e=>{this.$i(e)}))}Ei(e){if(this._instance.persistence){var t,n=this._instance.persistence,s=()=>{var t,s,i,a,r,o,l,c,d,u=null==(t=e.sessionRecording)?void 0:t.sampleRate,p=$n(u)?null:parseFloat(u);$n(p)&&this.ki();var m=null==(s=e.sessionRecording)?void 0:s.minimumDurationMilliseconds;n.register({[ii]:!!e.sessionRecording,[ai]:null==(i=e.sessionRecording)?void 0:i.consoleLogRecordingEnabled,[ri]:Nn({capturePerformance:e.capturePerformance},null==(a=e.sessionRecording)?void 0:a.networkPayloadCapture),[oi]:null==(r=e.sessionRecording)?void 0:r.masking,[li]:{enabled:null==(o=e.sessionRecording)?void 0:o.recordCanvas,fps:null==(l=e.sessionRecording)?void 0:l.canvasFps,quality:null==(c=e.sessionRecording)?void 0:c.canvasQuality},[ci]:p,[di]:On(m)?null:m,[ui]:null==(d=e.sessionRecording)?void 0:d.scriptConfig})};s(),null==(t=this.ni)||t.call(this),this.ni=this.jt.onSessionId(s)}}log(e,t){var n;void 0===t&&(t="log"),null==(n=this._instance.sessionRecording)||n.onRRwebEmit({type:6,data:{plugin:"rrweb/console@1",payload:{level:t,trace:[],payload:[JSON.stringify(e)]}},timestamp:Date.now()})}mi(e){var t;On(Object.assign)||On(Array.from)||(this.Dt||this._instance.config.disable_session_recording||this._instance.consent.isOptedOut())||(this.Dt=!0,this.jt.checkAndGetSessionAndWindowId(),fo()?this.Ri():null==(t=yn.__PosthogExtensions__)||null==t.loadExternalDependency||t.loadExternalDependency(this._instance,this.Ii,e=>{if(e)return xo.error("could not load recorder",e);this.Ri()}),xo.info("starting"),this.status===Yr&&this.xi(e||"recording_initialized"))}get Ii(){var e;return(null==(e=this._instance)||null==(e=e.persistence)||null==(e=e.get_property(ui))?void 0:e.script)||"recorder"}Pi(e){var t;return 3===e.type&&-1!==go.indexOf(null==(t=e.data)?void 0:t.source)}Ti(e){var t=this.Pi(e);t||this.ii||e.timestamp-this.ei>this.At&&(this.ii=!0,clearInterval(this.Si),this.tryAddCustomEvent("sessionIdle",{eventTimestamp:e.timestamp,lastActivityTimestamp:this.ei,threshold:this.At,bufferLength:this.H.data.length,bufferSize:this.H.size}),this.ui());var n=!1;if(t&&(this.ei=e.timestamp,this.ii)){var s="unknown"===this.ii;this.ii=!1,s||(this.tryAddCustomEvent("sessionNoLongerIdle",{reason:"user activity",type:e.type}),n=!0)}if(!this.ii){var{windowId:i,sessionId:a}=this.jt.checkAndGetSessionAndWindowId(!t,e.timestamp),r=this.Ft!==a,o=this.pi!==i;this.pi=i,this.Ft=a,r||o?(this.stopRecording(),this.startIfEnabledOrStop("session_id_changed")):n&&this.Ci()}}Mi(e){try{return e.rrwebMethod(),!0}catch(t){return this.ti.length<10?this.ti.push({enqueuedAt:e.enqueuedAt||Date.now(),attempt:e.attempt++,rrwebMethod:e.rrwebMethod}):xo.warn("could not emit queued rrweb event.",t,e),!1}}tryAddCustomEvent(e,t){return this.Mi(vo(()=>fo().addCustomEvent(e,t)))}Oi(){return this.Mi(vo(()=>fo().takeFullSnapshot()))}Ri(){var e,t,n,s,i={blockClass:"ph-no-capture",blockSelector:void 0,ignoreClass:"ph-ignore-input",maskTextClass:"ph-mask",maskTextSelector:void 0,maskTextFn:void 0,maskAllInputs:!0,maskInputOptions:{password:!0},maskInputFn:void 0,slimDOMOptions:{},collectFonts:!1,inlineStylesheet:!0,recordCrossOriginIframes:!1},a=this._instance.config.session_recording;for(var[r,o]of Object.entries(a||{}))r in i&&("maskInputOptions"===r?i.maskInputOptions=Nn({password:!0},o):i[r]=o);this.Ht&&this.Ht.enabled&&(i.recordCanvas=!0,i.sampling={canvas:this.Ht.fps},i.dataURLOptions={type:"image/webp",quality:this.Ht.quality}),this.Gt&&(i.maskAllInputs=null===(t=this.Gt.maskAllInputs)||void 0===t||t,i.maskTextSelector=null!==(n=this.Gt.maskTextSelector)&&void 0!==n?n:void 0,i.blockSelector=null!==(s=this.Gt.blockSelector)&&void 0!==s?s:void 0);var l=fo();if(l){this.Fi=null!==(e=this.Fi)&&void 0!==e?e:new pr(l,{refillRate:this._instance.config.session_recording.__mutationThrottlerRefillRate,bucketSize:this._instance.config.session_recording.__mutationThrottlerBucketSize,onBlockedNode:(e,t)=>{var n="Too many mutations on node '"+e+"'. Rate limiting. This could be due to SVG animations or something similar";xo.info(n,{node:t}),this.log(ho+" "+n,"warn")}});var c=this.Ai();this.fi=l(Nn({emit:e=>{this.onRRwebEmit(e)},plugins:c},i)),this.ei=Date.now(),this.ii=Vn(this.ii)?this.ii:"unknown",this.tryAddCustomEvent("$session_options",{sessionRecordingOptions:i,activePlugins:c.map(e=>null==e?void 0:e.name)}),this.tryAddCustomEvent("$posthog_config",{config:this._instance.config})}else xo.error("onScriptLoaded was called but rrwebRecord is not available. This indicates something has gone wrong.")}Ci(){if(this.Si&&clearInterval(this.Si),!0!==this.ii){var e=this.Lt;e&&(this.Si=setInterval(()=>{this.Oi()},e))}}Ai(){var e,t,n=[],s=null==(e=yn.__PosthogExtensions__)||null==(e=e.rrwebPlugins)?void 0:e.getRecordConsolePlugin;s&&this.qt&&n.push(s());var i=null==(t=yn.__PosthogExtensions__)||null==(t=t.rrwebPlugins)?void 0:t.getRecordNetworkPlugin;return this.Wt&&Ln(i)&&(!xa.includes(location.hostname)||this._forceAllowLocalhostNetworkCapture?n.push(i(((e,t)=>{var n,s,i,a={payloadSizeLimitBytes:rr.payloadSizeLimitBytes,performanceEntryTypeToObserve:[...rr.performanceEntryTypeToObserve],payloadHostDenyList:[...t.payloadHostDenyList||[],...rr.payloadHostDenyList]},r=!1!==e.session_recording.recordHeaders&&t.recordHeaders,o=!1!==e.session_recording.recordBody&&t.recordBody,l=!1!==e.capture_performance&&t.recordPerformance,c=(n=a,i=Math.min(1e6,null!==(s=n.payloadSizeLimitBytes)&&void 0!==s?s:1e6),e=>(null!=e&&e.requestBody&&(e.requestBody=dr(e.requestBody,e.requestHeaders,i,"Request")),null!=e&&e.responseBody&&(e.responseBody=dr(e.responseBody,e.responseHeaders,i,"Response")),e)),d=t=>{return c(((e,t)=>{var n,s=fa(e.name),i=0===t.indexOf("http")?null==(n=fa(t))?void 0:n.pathname:t;"/"===i&&(i="");var a=null==s?void 0:s.pathname.replace(i||"","");if(!(s&&a&&cr.some(e=>0===a.indexOf(e))))return e})((s=(n=t).requestHeaders,$n(s)||Ls(Object.keys(null!=s?s:{}),e=>{or.includes(e.toLowerCase())&&(s[e]=ar)}),n),e.api_host));var n,s},u=Ln(e.session_recording.maskNetworkRequestFn);return u&&Ln(e.session_recording.maskCapturedNetworkRequestFn)&&Es.warn("Both `maskNetworkRequestFn` and `maskCapturedNetworkRequestFn` are defined. `maskNetworkRequestFn` will be ignored."),u&&(e.session_recording.maskCapturedNetworkRequestFn=t=>{var n=e.session_recording.maskNetworkRequestFn({url:t.name});return Nn({},t,{name:null==n?void 0:n.url})}),a.maskRequestFn=Ln(e.session_recording.maskCapturedNetworkRequestFn)?t=>{var n,s=d(t);return s&&null!==(n=null==e.session_recording.maskCapturedNetworkRequestFn?void 0:e.session_recording.maskCapturedNetworkRequestFn(s))&&void 0!==n?n:void 0}:e=>function(e){if(!On(e))return e.requestBody=ur(e.requestBody,"Request"),e.responseBody=ur(e.responseBody,"Response"),e}(d(e)),Nn({},rr,a,{recordHeaders:r,recordBody:o,recordPerformance:l,recordInitialRequests:l})})(this._instance.config,this.Wt))):xo.info("NetworkCapture not started because we are on localhost.")),n}onRRwebEmit(e){var t;if(this.Di(),e&&Pn(e)){if(e.type===nr.Meta){var n=this.wi(e.data.href);if(this.ji=n,!n)return;e.data.href=n}else this.Li();if(this.Xt.checkUrlTriggerConditions(()=>this.Ni(),()=>this.Ui(),e=>this.zi(e)),!this.Xt.urlBlocked||(s=e).type===nr.Custom&&"recording paused"===s.data.tag){var s;e.type===nr.FullSnapshot&&this.Ci(),e.type===nr.FullSnapshot&&this.Kt&&this.Nt.triggerStatus(this.sessionId)===eo&&this.Bi();var i=this.Fi?this.Fi.throttleMutations(e):e;if(i){var a=function(e){var t=e;if(t&&Pn(t)&&6===t.type&&Pn(t.data)&&"rrweb/console@1"===t.data.plugin){t.data.payload.payload.length>10&&(t.data.payload.payload=t.data.payload.payload.slice(0,10),t.data.payload.payload.push("...[truncated]"));for(var n=[],s=0;s<t.data.payload.payload.length;s++)t.data.payload.payload[s]&&t.data.payload.payload[s].length>2e3?n.push(t.data.payload.payload[s].slice(0,2e3)+"...[truncated]"):n.push(t.data.payload.payload[s]);return t.data.payload.payload=n,e}return e}(i);if(this.Ti(a),!0!==this.ii||yo(a)){if(yo(a)){var r=a.data.payload;if(r){var o=r.lastActivityTimestamp,l=r.threshold;a.timestamp=o+l}}var c=null===(t=this._instance.config.session_recording.compress_events)||void 0===t||t?function(e){try{if(e.type===nr.FullSnapshot)return Nn({},e,{data:bo(e.data),cv:"2024-10"});if(e.type===nr.IncrementalSnapshot&&e.data.source===sr.Mutation)return Nn({},e,{cv:"2024-10",data:Nn({},e.data,{texts:bo(e.data.texts),attributes:bo(e.data.attributes),removes:bo(e.data.removes),adds:bo(e.data.adds)})});if(e.type===nr.IncrementalSnapshot&&e.data.source===sr.StyleSheetRule)return Nn({},e,{cv:"2024-10",data:Nn({},e.data,{adds:e.data.adds?bo(e.data.adds):void 0,removes:e.data.removes?bo(e.data.removes):void 0})})}catch(t){xo.error("could not compress event - will use uncompressed event",t)}return e}(a):a,d={$snapshot_bytes:er(c),$snapshot_data:c,$session_id:this.Ft,$window_id:this.pi};this.status!==Gr?this.qi(d):this.gi()}}}}}Li(){if(!this._instance.config.capture_pageview&&ln){var e=this.wi(ln.location.href);this.ji!==e&&(this.tryAddCustomEvent("$url_changed",{href:e}),this.ji=e)}}Di(){if(this.ti.length){var e=[...this.ti];this.ti=[],e.forEach(e=>{Date.now()-e.enqueuedAt<=2e3&&this.Mi(e)})}}wi(e){var t=this._instance.config.session_recording;if(t.maskNetworkRequestFn){var n,s={url:e};return null==(n=s=t.maskNetworkRequestFn(s))?void 0:n.url}return e}Bi(){if(!this.H||0===this.H.data.length)return this.gi();for(var e=-1,t=this.H.data.length-1;t>=0;t--)if(this.H.data[t].type===nr.Meta){e=t;break}return e>=0?(this.H.data=this.H.data.slice(e),this.H.size=this.H.data.reduce((e,t)=>e+er(t),0),this.H):this.gi()}gi(){return this.H={size:0,data:[],sessionId:this.Ft,windowId:this.pi},this.H}ui(){this.Hi&&(clearTimeout(this.Hi),this.Hi=void 0);var e=this.Jt,t=this.zt,n=Un(t)&&t>=0,s=Un(e)&&n&&t<e;return this.status===Kr||this.status===Jr||this.status===Gr||s?(this.Hi=setTimeout(()=>{this.ui()},2e3),this.H):(this.H.data.length>0&&tr(this.H).forEach(e=>{this.Wi({$snapshot_bytes:e.size,$snapshot_data:e.data,$session_id:e.sessionId,$window_id:e.windowId,$lib:"web",$lib_version:wn.LIB_VERSION})}),this.gi())}qi(e){var t,n=2+((null==(t=this.H)?void 0:t.data.length)||0);!this.ii&&(this.H.size+e.$snapshot_bytes+n>943718.4||this.H.sessionId!==this.Ft)&&(this.H=this.ui()),this.H.size+=e.$snapshot_bytes,this.H.data.push(e.$snapshot_data),this.Hi||this.ii||(this.Hi=setTimeout(()=>{this.ui()},2e3))}Wi(e){this._instance.capture("$snapshot",e,{_url:this._instance.requestRouter.endpointFor("api",this.ci),_noTruncate:!0,_batchKey:"recordings",skip_client_rate_limiting:!0})}zi(e){var t;this.Nt.triggerStatus(this.sessionId)===eo&&(null==(t=this._instance)||null==(t=t.persistence)||t.register({["url"===e?hi:xi]:this.Ft}),this.ui(),this.xi(e+"_trigger_matched"))}Ni(){this.Xt.urlBlocked||(this.Xt.urlBlocked=!0,clearInterval(this.Si),xo.info("recording paused due to URL blocker"),this.tryAddCustomEvent("recording paused",{reason:"url blocker"}))}Ui(){this.Xt.urlBlocked&&(this.Xt.urlBlocked=!1,this.Oi(),this.Ci(),this.tryAddCustomEvent("recording resumed",{reason:"left blocked url"}),xo.info("recording resumed"))}bi(){0!==this.Qt.Mt.length&&$n(this.ai)&&(this.ai=this._instance.on("eventCaptured",e=>{try{this.Qt.Mt.includes(e.event)&&this.zi("event")}catch(t){xo.error("Could not activate event trigger",t)}}))}overrideLinkedFlag(){this.Zt.linkedFlagSeen=!0,this.Oi(),this.xi("linked_flag_overridden")}overrideSampling(){var e;null==(e=this._instance.persistence)||e.register({[mi]:!0}),this.Oi(),this.xi("sampling_overridden")}overrideTrigger(e){this.zi(e)}xi(e,t){this._instance.register_for_session({$session_recording_start_reason:e}),xo.info(e.replace("_"," "),t),kn(["recording_initialized","session_id_changed"],e)||this.tryAddCustomEvent(e,t)}get sdkDebugProperties(){var{sessionStartTimestamp:e}=this.jt.checkAndGetSessionAndWindowId(!0);return{$recording_status:this.status,$sdk_debug_replay_internal_buffer_length:this.H.data.length,$sdk_debug_replay_internal_buffer_size:this.H.size,$sdk_debug_current_session_duration:this.zt,$sdk_debug_session_start:e}}}var jo=Is("[SegmentIntegration]");var Co="posthog-js";function No(e,t){var{organization:n,projectId:s,prefix:i,severityAllowList:a=["error"],sendExceptionsToPostHog:r=!0}=void 0===t?{}:t;return t=>{var o,l,c,d,u;if("*"!==a&&!a.includes(t.level)||!e.__loaded)return t;t.tags||(t.tags={});var p=e.requestRouter.endpointFor("ui","/project/"+e.config.token+"/person/"+e.get_distinct_id());t.tags["PostHog Person URL"]=p,e.sessionRecordingStarted()&&(t.tags["PostHog Recording URL"]=e.get_session_replay_url({withTimestamp:!0}));var m=(null==(o=t.exception)?void 0:o.values)||[],h=m.map(e=>Nn({},e,{stacktrace:e.stacktrace?Nn({},e.stacktrace,{type:"raw",frames:(e.stacktrace.frames||[]).map(e=>Nn({},e,{platform:"web:javascript"}))}):void 0})),x={$exception_message:(null==(l=m[0])?void 0:l.value)||t.message,$exception_type:null==(c=m[0])?void 0:c.type,$exception_personURL:p,$exception_level:t.level,$exception_list:h,$sentry_event_id:t.event_id,$sentry_exception:t.exception,$sentry_exception_message:(null==(d=m[0])?void 0:d.value)||t.message,$sentry_exception_type:null==(u=m[0])?void 0:u.type,$sentry_tags:t.tags};return n&&s&&(x.$sentry_url=(i||"https://sentry.io/organizations/")+n+"/issues/?project="+s+"&query="+t.event_id),r&&e.exceptions.sendExceptionEvent(x),t}}class Fo{constructor(e,t,n,s,i,a){this.name=Co,this.setupOnce=function(r){r(No(e,{organization:t,projectId:n,prefix:s,severityAllowList:i,sendExceptionsToPostHog:null==a||a}))}}}var _o=null!=ln&&ln.location?ba(ln.location.hash,"__posthog")||ba(location.hash,"state"):null,ko="_postHogToolbarParams",So=Is("[Toolbar]"),Eo=function(e){return e[e.UNINITIALIZED=0]="UNINITIALIZED",e[e.LOADING=1]="LOADING",e[e.LOADED=2]="LOADED",e}(Eo||{});class Io{constructor(e){this.instance=e}Gi(e){yn.ph_toolbar_state=e}Vi(){var e;return null!==(e=yn.ph_toolbar_state)&&void 0!==e?e:Eo.UNINITIALIZED}maybeLoadToolbar(e,t,n){if(void 0===e&&(e=void 0),void 0===t&&(t=void 0),void 0===n&&(n=void 0),!ln||!hn)return!1;e=null!=e?e:ln.location,n=null!=n?n:ln.history;try{if(!t){try{ln.localStorage.setItem("test","test"),ln.localStorage.removeItem("test")}catch(pa){return!1}t=null==ln?void 0:ln.localStorage}var s,i=_o||ba(e.hash,"__posthog")||ba(e.hash,"state"),a=i?zs(()=>JSON.parse(atob(decodeURIComponent(i))))||zs(()=>JSON.parse(decodeURIComponent(i))):null;return a&&"ph_authorize"===a.action?((s=a).source="url",s&&Object.keys(s).length>0&&(a.desiredHash?e.hash=a.desiredHash:n?n.replaceState(n.state,"",e.pathname+e.search):e.hash="")):((s=JSON.parse(t.getItem(ko)||"{}")).source="localstorage",delete s.userIntent),!(!s.token||this.instance.config.token!==s.token||(this.loadToolbar(s),0))}catch(pa){return!1}}Ji(e){var t=yn.ph_load_toolbar||yn.ph_load_editor;!$n(t)&&Ln(t)?t(e,this.instance):So.warn("No toolbar load function found")}loadToolbar(e){var t=!(null==hn||!hn.getElementById(Ai));if(!ln||t)return!1;var n="custom"===this.instance.requestRouter.region&&this.instance.config.advanced_disable_toolbar_metrics,s=Nn({token:this.instance.config.token},e,{apiURL:this.instance.requestRouter.endpointFor("ui")},n?{instrument:!1}:{});if(ln.localStorage.setItem(ko,JSON.stringify(Nn({},s,{source:void 0}))),this.Vi()===Eo.LOADED)this.Ji(s);else if(this.Vi()===Eo.UNINITIALIZED){var i;this.Gi(Eo.LOADING),null==(i=yn.__PosthogExtensions__)||null==i.loadExternalDependency||i.loadExternalDependency(this.instance,"toolbar",e=>{if(e)return So.error("[Toolbar] Failed to load",e),void this.Gi(Eo.UNINITIALIZED);this.Gi(Eo.LOADED),this.Ji(s)}),Ws(ln,"turbolinks:load",()=>{this.Gi(Eo.UNINITIALIZED),this.loadToolbar(s)})}return!0}Ki(e){return this.loadToolbar(e)}maybeLoadEditor(e,t,n){return void 0===e&&(e=void 0),void 0===t&&(t=void 0),void 0===n&&(n=void 0),this.maybeLoadToolbar(e,t,n)}}var Ao=Is("[TracingHeaders]");class To{constructor(e){this.Yi=void 0,this.Xi=void 0,this.lt=()=>{var e,t;On(this.Yi)&&(null==(e=yn.__PosthogExtensions__)||null==(e=e.tracingHeadersPatchFns)||e._patchXHR(this._instance.config.__add_tracing_headers||[],this._instance.get_distinct_id(),this._instance.sessionManager)),On(this.Xi)&&(null==(t=yn.__PosthogExtensions__)||null==(t=t.tracingHeadersPatchFns)||t._patchFetch(this._instance.config.__add_tracing_headers||[],this._instance.get_distinct_id(),this._instance.sessionManager))},this._instance=e}nt(e){var t,n;null!=(t=yn.__PosthogExtensions__)&&t.tracingHeadersPatchFns&&e(),null==(n=yn.__PosthogExtensions__)||null==n.loadExternalDependency||n.loadExternalDependency(this._instance,"tracing-headers",t=>{if(t)return Ao.error("failed to load script",t);e()})}startIfEnabledOrStop(){var e,t;this._instance.config.__add_tracing_headers?this.nt(this.lt):(null==(e=this.Yi)||e.call(this),null==(t=this.Xi)||t.call(this),this.Yi=void 0,this.Xi=void 0)}}var Do=Is("[Web Vitals]"),Mo=9e5;class Lo{constructor(e){var t;this.Qi=!1,this.C=!1,this.H={url:void 0,metrics:[],firstMetricTimestamp:void 0},this.Zi=()=>{clearTimeout(this.te),0!==this.H.metrics.length&&(this._instance.capture("$web_vitals",this.H.metrics.reduce((e,t)=>Nn({},e,{["$web_vitals_"+t.name+"_event"]:Nn({},t),["$web_vitals_"+t.name+"_value"]:t.value}),{})),this.H={url:void 0,metrics:[],firstMetricTimestamp:void 0})},this.ie=e=>{var t,n=null==(t=this._instance.sessionManager)?void 0:t.checkAndGetSessionAndWindowId(!0);if(On(n))Do.error("Could not read session ID. Dropping metrics!");else{this.H=this.H||{url:void 0,metrics:[],firstMetricTimestamp:void 0};var s=this.ee();On(s)||($n(null==e?void 0:e.name)||$n(null==e?void 0:e.value)?Do.error("Invalid metric received",e):this.re&&e.value>=this.re?Do.error("Ignoring metric with value >= "+this.re,e):(this.H.url!==s&&(this.Zi(),this.te=setTimeout(this.Zi,this.flushToCaptureTimeoutMs)),On(this.H.url)&&(this.H.url=s),this.H.firstMetricTimestamp=On(this.H.firstMetricTimestamp)?Date.now():this.H.firstMetricTimestamp,e.attribution&&e.attribution.interactionTargetElement&&(e.attribution.interactionTargetElement=void 0),this.H.metrics.push(Nn({},e,{$current_url:s,$session_id:n.sessionId,$window_id:n.windowId,timestamp:Date.now()})),this.H.metrics.length===this.allowedMetrics.length&&this.Zi()))}},this.lt=()=>{var e,t,n,s,i=yn.__PosthogExtensions__;On(i)||On(i.postHogWebVitalsCallbacks)||({onLCP:e,onCLS:t,onFCP:n,onINP:s}=i.postHogWebVitalsCallbacks),e&&t&&n&&s?(this.allowedMetrics.indexOf("LCP")>-1&&e(this.ie.bind(this)),this.allowedMetrics.indexOf("CLS")>-1&&t(this.ie.bind(this)),this.allowedMetrics.indexOf("FCP")>-1&&n(this.ie.bind(this)),this.allowedMetrics.indexOf("INP")>-1&&s(this.ie.bind(this)),this.C=!0):Do.error("web vitals callbacks not loaded - not starting")},this._instance=e,this.Qi=!(null==(t=this._instance.persistence)||!t.props[ei]),this.startIfEnabled()}get allowedMetrics(){var e,t,n=Pn(this._instance.config.capture_performance)?null==(e=this._instance.config.capture_performance)?void 0:e.web_vitals_allowed_metrics:void 0;return On(n)?(null==(t=this._instance.persistence)?void 0:t.props[ni])||["CLS","FCP","INP","LCP"]:n}get flushToCaptureTimeoutMs(){return(Pn(this._instance.config.capture_performance)?this._instance.config.capture_performance.web_vitals_delayed_flush_ms:void 0)||5e3}get re(){var e=Pn(this._instance.config.capture_performance)&&Un(this._instance.config.capture_performance.__web_vitals_max_value)?this._instance.config.capture_performance.__web_vitals_max_value:Mo;return 0<e&&e<=6e4?Mo:e}get isEnabled(){var e=null==xn?void 0:xn.protocol;if("http:"!==e&&"https:"!==e)return Do.info("Web Vitals are disabled on non-http/https protocols"),!1;var t=Pn(this._instance.config.capture_performance)?this._instance.config.capture_performance.web_vitals:Vn(this._instance.config.capture_performance)?this._instance.config.capture_performance:void 0;return Vn(t)?t:this.Qi}startIfEnabled(){this.isEnabled&&!this.C&&(Do.info("enabled, starting..."),this.nt(this.lt))}onRemoteConfig(e){var t=Pn(e.capturePerformance)&&!!e.capturePerformance.web_vitals,n=Pn(e.capturePerformance)?e.capturePerformance.web_vitals_allowed_metrics:void 0;this._instance.persistence&&(this._instance.persistence.register({[ei]:t}),this._instance.persistence.register({[ni]:n})),this.Qi=t,this.startIfEnabled()}nt(e){var t,n;null!=(t=yn.__PosthogExtensions__)&&t.postHogWebVitalsCallbacks&&e(),null==(n=yn.__PosthogExtensions__)||null==n.loadExternalDependency||n.loadExternalDependency(this._instance,"web-vitals",t=>{t?Do.error("failed to load script",t):e()})}ee(){var e=ln?ln.location.href:void 0;return e||Do.error("Could not determine current URL"),e}}var Po=Is("[Heatmaps]");function Ro(e){return Pn(e)&&"clientX"in e&&"clientY"in e&&Un(e.clientX)&&Un(e.clientY)}class Oo{constructor(e){var t;this.rageclicks=new ua,this.Qi=!1,this.C=!1,this.se=null,this.instance=e,this.Qi=!(null==(t=this.instance.persistence)||!t.props[Ks])}get flushIntervalMilliseconds(){var e=5e3;return Pn(this.instance.config.capture_heatmaps)&&this.instance.config.capture_heatmaps.flush_interval_milliseconds&&(e=this.instance.config.capture_heatmaps.flush_interval_milliseconds),e}get isEnabled(){return On(this.instance.config.capture_heatmaps)?On(this.instance.config.enable_heatmaps)?this.Qi:this.instance.config.enable_heatmaps:!1!==this.instance.config.capture_heatmaps}startIfEnabled(){if(this.isEnabled){if(this.C)return;Po.info("starting..."),this.ne(),this.se=setInterval(this.oe.bind(this),this.flushIntervalMilliseconds)}else{var e,t;clearInterval(null!==(e=this.se)&&void 0!==e?e:void 0),null==(t=this.ae)||t.stop(),this.getAndClearBuffer()}}onRemoteConfig(e){var t=!!e.heatmaps;this.instance.persistence&&this.instance.persistence.register({[Ks]:t}),this.Qi=t,this.startIfEnabled()}getAndClearBuffer(){var e=this.H;return this.H=void 0,e}le(e){this.ue(e.originalEvent,"deadclick")}ne(){ln&&hn&&(Ws(ln,"beforeunload",this.oe.bind(this)),Ws(hn,"click",e=>this.ue(e||(null==ln?void 0:ln.event)),{capture:!0}),Ws(hn,"mousemove",e=>this.he(e||(null==ln?void 0:ln.event)),{capture:!0}),this.ae=new Ya(this.instance,Ga,this.le.bind(this)),this.ae.startIfEnabled(),this.C=!0)}de(e,t){var n=this.instance.scrollManager.scrollY(),s=this.instance.scrollManager.scrollX(),i=this.instance.scrollManager.scrollElement(),a=function(e,t,n){for(var s=e;s&&Li(s)&&!Pi(s,"body");){if(s===n)return!1;if(kn(t,null==ln?void 0:ln.getComputedStyle(s).position))return!0;s=Gi(s)}return!1}(Vi(e),["fixed","sticky"],i);return{x:e.clientX+(a?0:s),y:e.clientY+(a?0:n),target_fixed:a,type:t}}ue(e,t){var n;if(void 0===t&&(t="click"),!Mi(e.target)&&Ro(e)){var s=this.de(e,t);null!=(n=this.rageclicks)&&n.isRageClick(e.clientX,e.clientY,(new Date).getTime())&&this.ve(Nn({},s,{type:"rageclick"})),this.ve(s)}}he(e){!Mi(e.target)&&Ro(e)&&(clearTimeout(this.ce),this.ce=setTimeout(()=>{this.ve(this.de(e,"mousemove"))},500))}ve(e){if(ln){var t=ln.location.href;this.H=this.H||{},this.H[t]||(this.H[t]=[]),this.H[t].push(e)}}oe(){this.H&&!Rn(this.H)&&this.instance.capture("$$heatmap",{$heatmap_data:this.getAndClearBuffer()})}}class zo{constructor(e){this._instance=e}doPageView(e,t){var n,s=this.fe(e,t);return this.pe={pathname:null!==(n=null==ln?void 0:ln.location.pathname)&&void 0!==n?n:"",pageViewId:t,timestamp:e},this._instance.scrollManager.resetContext(),s}doPageLeave(e){var t;return this.fe(e,null==(t=this.pe)?void 0:t.pageViewId)}doEvent(){var e;return{$pageview_id:null==(e=this.pe)?void 0:e.pageViewId}}fe(e,t){var n=this.pe;if(!n)return{$pageview_id:t};var s={$pageview_id:t,$prev_pageview_id:n.pageViewId},i=this._instance.scrollManager.getContext();if(i&&!this._instance.config.disable_scroll_properties){var{maxScrollHeight:a,lastScrollY:r,maxScrollY:o,maxContentHeight:l,lastContentY:c,maxContentY:d}=i;if(!(On(a)||On(r)||On(o)||On(l)||On(c)||On(d))){a=Math.ceil(a),r=Math.ceil(r),o=Math.ceil(o),l=Math.ceil(l),c=Math.ceil(c),d=Math.ceil(d);var u=a<=1?1:Qn(r/a,0,1,Es),p=a<=1?1:Qn(o/a,0,1,Es),m=l<=1?1:Qn(c/l,0,1,Es),h=l<=1?1:Qn(d/l,0,1,Es);s=Ps(s,{$prev_pageview_last_scroll:r,$prev_pageview_last_scroll_percentage:u,$prev_pageview_max_scroll:o,$prev_pageview_max_scroll_percentage:p,$prev_pageview_last_content:c,$prev_pageview_last_content_percentage:m,$prev_pageview_max_content:d,$prev_pageview_max_content_percentage:h})}}return n.pathname&&(s.$prev_pageview_pathname=n.pathname),n.timestamp&&(s.$prev_pageview_duration=(e.getTime()-n.timestamp.getTime())/1e3),s}}var Bo=!!gn||!!fn,Ho="text/plain",$o=(e,t)=>{var[n,s]=e.split("?"),i=Nn({},t);null==s||s.split("&").forEach(e=>{var[t]=e.split("=");delete i[t]});var a=function(e,t){var n,s;void 0===t&&(t="&");var i=[];return Ls(e,function(e,t){On(e)||On(t)||"undefined"===t||(n=encodeURIComponent(e instanceof File?e.name:e.toString()),s=encodeURIComponent(t),i[i.length]=s+"="+n)}),i.join(t)}(i);return n+"?"+(a?(s?s+"&":"")+a:s)},Uo=(e,t)=>JSON.stringify(e,(e,t)=>"bigint"==typeof t?t.toString():t,t),Vo=e=>{var t,{data:n,compression:s}=e;if(n){if(s===ha.GZipJS){var i=Wr(qr(Uo(n)),{mtime:0}),a=new Blob([i],{type:Ho});return{contentType:Ho,body:a,estimatedSize:a.size}}if(s===ha.Base64){var r=function(e){var t,n,s,i,a,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",o=0,l=0,c="",d=[];if(!e)return e;e=function(e){var t,n,s,i,a="";for(t=n=0,s=(e=(e+"").replace(/\r\n/g,"\n").replace(/\r/g,"\n")).length,i=0;i<s;i++){var r=e.charCodeAt(i),o=null;r<128?n++:o=r>127&&r<2048?String.fromCharCode(r>>6|192,63&r|128):String.fromCharCode(r>>12|224,r>>6&63|128,63&r|128),Hn(o)||(n>t&&(a+=e.substring(t,n)),a+=o,t=n=i+1)}return n>t&&(a+=e.substring(t,e.length)),a}(e);do{t=(a=e.charCodeAt(o++)<<16|e.charCodeAt(o++)<<8|e.charCodeAt(o++))>>18&63,n=a>>12&63,s=a>>6&63,i=63&a,d[l++]=r.charAt(t)+r.charAt(n)+r.charAt(s)+r.charAt(i)}while(o<e.length);switch(c=d.join(""),e.length%3){case 1:c=c.slice(0,-2)+"==";break;case 2:c=c.slice(0,-1)+"="}return c}(Uo(n)),o=(t=r,"data="+encodeURIComponent("string"==typeof t?t:Uo(t)));return{contentType:"application/x-www-form-urlencoded",body:o,estimatedSize:new Blob([o]).size}}var l=Uo(n);return{contentType:"application/json",body:l,estimatedSize:new Blob([l]).size}}},Wo=[];fn&&Wo.push({transport:"fetch",method:e=>{var t,n,{contentType:s,body:i,estimatedSize:a}=null!==(t=Vo(e))&&void 0!==t?t:{},r=new Headers;Ls(e.headers,function(e,t){r.append(t,e)}),s&&r.append("Content-Type",s);var o=e.url,l=null;if(vn){var c=new vn;l={signal:c.signal,timeout:setTimeout(()=>c.abort(),e.timeout)}}fn(o,Nn({method:(null==e?void 0:e.method)||"GET",headers:r,keepalive:"POST"===e.method&&(a||0)<52428.8,body:i,signal:null==(n=l)?void 0:n.signal},e.fetchOptions)).then(t=>t.text().then(n=>{var s={statusCode:t.status,text:n};if(200===t.status)try{s.json=JSON.parse(n)}catch(i){Es.error(i)}null==e.callback||e.callback(s)})).catch(t=>{Es.error(t),null==e.callback||e.callback({statusCode:0,text:t})}).finally(()=>l?clearTimeout(l.timeout):null)}}),gn&&Wo.push({transport:"XHR",method:e=>{var t,n=new gn;n.open(e.method||"GET",e.url,!0);var{contentType:s,body:i}=null!==(t=Vo(e))&&void 0!==t?t:{};Ls(e.headers,function(e,t){n.setRequestHeader(t,e)}),s&&n.setRequestHeader("Content-Type",s),e.timeout&&(n.timeout=e.timeout),e.disableXHRCredentials||(n.withCredentials=!0),n.onreadystatechange=()=>{if(4===n.readyState){var t={statusCode:n.status,text:n.responseText};if(200===n.status)try{t.json=JSON.parse(n.responseText)}catch(s){}null==e.callback||e.callback(t)}},n.send(i)}}),null!=mn&&mn.sendBeacon&&Wo.push({transport:"sendBeacon",method:e=>{var t=$o(e.url,{beacon:"1"});try{var n,{contentType:s,body:i}=null!==(n=Vo(e))&&void 0!==n?n:{},a="string"==typeof i?new Blob([i],{type:s}):i;mn.sendBeacon(t,a)}catch(r){}}});var qo=function(e,t){if(!function(e){try{new RegExp(e)}catch(t){return!1}return!0}(t))return!1;try{return new RegExp(t).test(e)}catch(n){return!1}};function Go(e,t,n){return Uo({distinct_id:e,userPropertiesToSet:t,userPropertiesToSetOnce:n})}var Zo={exact:(e,t)=>t.some(t=>e.some(e=>t===e)),is_not:(e,t)=>t.every(t=>e.every(e=>t!==e)),regex:(e,t)=>t.some(t=>e.some(e=>qo(t,e))),not_regex:(e,t)=>t.every(t=>e.every(e=>!qo(t,e))),icontains:(e,t)=>t.map(Yo).some(t=>e.map(Yo).some(e=>t.includes(e))),not_icontains:(e,t)=>t.map(Yo).every(t=>e.map(Yo).every(e=>!t.includes(e)))},Yo=e=>e.toLowerCase(),Ko=Is("[Error tracking]");let Jo=class{constructor(e){var t,n;this.ge=[],this._e=new fs([new gs,new ks,new bs,new vs,new Fs,new Ns,new ws,new _s],[us,hs]),this._instance=e,this.ge=null!==(t=null==(n=this._instance.persistence)?void 0:n.get_property(Qs))&&void 0!==t?t:[]}onRemoteConfig(e){var t,n,s,i=null!==(t=null==(n=e.errorTracking)?void 0:n.suppressionRules)&&void 0!==t?t:[],a=null==(s=e.errorTracking)?void 0:s.captureExtensionExceptions;this.ge=i,this._instance.persistence&&this._instance.persistence.register({[Qs]:this.ge,[Xs]:a})}get me(){var e,t=!!this._instance.get_property(Xs),n=this._instance.config.error_tracking.captureExtensionExceptions;return null!==(e=null!=n?n:t)&&void 0!==e&&e}buildProperties(e,t){return this._e.buildFromUnknown(e,{syntheticException:null==t?void 0:t.syntheticException,mechanism:{handled:null==t?void 0:t.handled}})}sendExceptionEvent(e){if(this.ye(e))Ko.info("Skipping exception capture because a suppression rule matched");else{if(this.me||!this.be(e))return this._instance.capture("$exception",e,{_noTruncate:!0,_batchKey:"exceptionEvent"});Ko.info("Skipping exception capture because it was thrown by an extension")}}ye(e){var t=e.$exception_list;if(!t||!Mn(t)||0===t.length)return!1;var n=t.reduce((e,t)=>{var{type:n,value:s}=t;return zn(n)&&n.length>0&&e.$exception_types.push(n),zn(s)&&s.length>0&&e.$exception_values.push(s),e},{$exception_types:[],$exception_values:[]});return this.ge.some(e=>{var t=e.values.map(e=>{var t,s=Zo[e.operator],i=Mn(e.value)?e.value:[e.value],a=null!==(t=n[e.key])&&void 0!==t?t:[];return i.length>0&&s(i,a)});return"OR"===e.type?t.some(Boolean):t.every(Boolean)})}be(e){var t=e.$exception_list;return!(!t||!Mn(t))&&t.flatMap(e=>{var t,n;return null!==(t=null==(n=e.stacktrace)?void 0:n.frames)&&void 0!==t?t:[]}).some(e=>e.filename&&e.filename.startsWith("chrome-extension://"))}};var Qo="Mobile",Xo="iOS",el="Android",tl="Tablet",nl=el+" "+tl,sl="iPad",il="Apple",al=il+" Watch",rl="Safari",ol="BlackBerry",ll="Samsung",cl=ll+"Browser",dl=ll+" Internet",ul="Chrome",pl=ul+" OS",ml=ul+" "+Xo,hl="Internet Explorer",xl=hl+" "+Qo,fl="Opera",gl=fl+" Mini",vl="Edge",bl="Microsoft "+vl,yl="Firefox",wl=yl+" "+Xo,jl="Nintendo",Cl="PlayStation",Nl="Xbox",Fl=el+" "+Qo,_l=Qo+" "+rl,kl="Windows",Sl=kl+" Phone",El="Nokia",Il="Ouya",Al="Generic",Tl=Al+" "+Qo.toLowerCase(),Dl=Al+" "+tl.toLowerCase(),Ml="Konqueror",Ll="(\\d+(\\.\\d+)?)",Pl=new RegExp("Version/"+Ll),Rl=new RegExp(Nl,"i"),Ol=new RegExp(Cl+" \\w+","i"),zl=new RegExp(jl+" \\w+","i"),Bl=new RegExp(ol+"|PlayBook|BB10","i"),Hl={"NT3.51":"NT 3.11","NT4.0":"NT 4.0","5.0":"2000",5.1:"XP",5.2:"XP","6.0":"Vista",6.1:"7",6.2:"8",6.3:"8.1",6.4:"10","10.0":"10"},$l=function(e,t){return t=t||"",kn(e," OPR/")&&kn(e,"Mini")?gl:kn(e," OPR/")?fl:Bl.test(e)?ol:kn(e,"IE"+Qo)||kn(e,"WPDesktop")?xl:kn(e,cl)?dl:kn(e,vl)||kn(e,"Edg/")?bl:kn(e,"FBIOS")?"Facebook "+Qo:kn(e,"UCWEB")||kn(e,"UCBrowser")?"UC Browser":kn(e,"CriOS")?ml:kn(e,"CrMo")||kn(e,ul)?ul:kn(e,el)&&kn(e,rl)?Fl:kn(e,"FxiOS")?wl:kn(e.toLowerCase(),Ml.toLowerCase())?Ml:((e,t)=>{return t&&kn(t,il)||kn(n=e,rl)&&!kn(n,ul)&&!kn(n,el);var n})(e,t)?kn(e,Qo)?_l:rl:kn(e,yl)?yl:kn(e,"MSIE")||kn(e,"Trident/")?hl:kn(e,"Gecko")?yl:""},Ul={[xl]:[new RegExp("rv:"+Ll)],[bl]:[new RegExp(vl+"?\\/"+Ll)],[ul]:[new RegExp("("+ul+"|CrMo)\\/"+Ll)],[ml]:[new RegExp("CriOS\\/"+Ll)],"UC Browser":[new RegExp("(UCBrowser|UCWEB)\\/"+Ll)],[rl]:[Pl],[_l]:[Pl],[fl]:[new RegExp("(Opera|OPR)\\/"+Ll)],[yl]:[new RegExp(yl+"\\/"+Ll)],[wl]:[new RegExp("FxiOS\\/"+Ll)],[Ml]:[new RegExp("Konqueror[:/]?"+Ll,"i")],[ol]:[new RegExp(ol+" "+Ll),Pl],[Fl]:[new RegExp("android\\s"+Ll,"i")],[dl]:[new RegExp(cl+"\\/"+Ll)],[hl]:[new RegExp("(rv:|MSIE )"+Ll)],Mozilla:[new RegExp("rv:"+Ll)]},Vl=function(e,t){var n=$l(e,t),s=Ul[n];if(On(s))return null;for(var i=0;i<s.length;i++){var a=s[i],r=e.match(a);if(r)return parseFloat(r[r.length-2])}return null},Wl=[[new RegExp(Nl+"; "+Nl+" (.*?)[);]","i"),e=>[Nl,e&&e[1]||""]],[new RegExp(jl,"i"),[jl,""]],[new RegExp(Cl,"i"),[Cl,""]],[Bl,[ol,""]],[new RegExp(kl,"i"),(e,t)=>{if(/Phone/.test(t)||/WPDesktop/.test(t))return[Sl,""];if(new RegExp(Qo).test(t)&&!/IEMobile\b/.test(t))return[kl+" "+Qo,""];var n=/Windows NT ([0-9.]+)/i.exec(t);if(n&&n[1]){var s=n[1],i=Hl[s]||"";return/arm/i.test(t)&&(i="RT"),[kl,i]}return[kl,""]}],[/((iPhone|iPad|iPod).*?OS (\d+)_(\d+)_?(\d+)?|iPhone)/,e=>{if(e&&e[3]){var t=[e[3],e[4],e[5]||"0"];return[Xo,t.join(".")]}return[Xo,""]}],[/(watch.*\/(\d+\.\d+\.\d+)|watch os,(\d+\.\d+),)/i,e=>{var t="";return e&&e.length>=3&&(t=On(e[2])?e[3]:e[2]),["watchOS",t]}],[new RegExp("("+el+" (\\d+)\\.(\\d+)\\.?(\\d+)?|"+el+")","i"),e=>{if(e&&e[2]){var t=[e[2],e[3],e[4]||"0"];return[el,t.join(".")]}return[el,""]}],[/Mac OS X (\d+)[_.](\d+)[_.]?(\d+)?/i,e=>{var t=["Mac OS X",""];if(e&&e[1]){var n=[e[1],e[2],e[3]||"0"];t[1]=n.join(".")}return t}],[/Mac/i,["Mac OS X",""]],[/CrOS/,[pl,""]],[/Linux|debian/i,["Linux",""]]],ql=function(e){return zl.test(e)?jl:Ol.test(e)?Cl:Rl.test(e)?Nl:new RegExp(Il,"i").test(e)?Il:new RegExp("("+Sl+"|WPDesktop)","i").test(e)?Sl:/iPad/.test(e)?sl:/iPod/.test(e)?"iPod Touch":/iPhone/.test(e)?"iPhone":/(watch)(?: ?os[,/]|\d,\d\/)[\d.]+/i.test(e)?al:Bl.test(e)?ol:/(kobo)\s(ereader|touch)/i.test(e)?"Kobo":new RegExp(El,"i").test(e)?El:/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i.test(e)||/(kf[a-z]+)( bui|\)).+silk\//i.test(e)?"Kindle Fire":/(Android|ZTE)/i.test(e)?!new RegExp(Qo).test(e)||/(9138B|TB782B|Nexus [97]|pixel c|HUAWEISHT|BTV|noble nook|smart ultra 6)/i.test(e)?/pixel[\daxl ]{1,6}/i.test(e)&&!/pixel c/i.test(e)||/(huaweimed-al00|tah-|APA|SM-G92|i980|zte|U304AA)/i.test(e)||/lmy47v/i.test(e)&&!/QTAQZ3/i.test(e)?el:nl:el:new RegExp("(pda|"+Qo+")","i").test(e)?Tl:new RegExp(tl,"i").test(e)&&!new RegExp(tl+" pc","i").test(e)?Dl:""},Gl="https?://(.*)",Zl=["gclid","gclsrc","dclid","gbraid","wbraid","fbclid","msclkid","twclid","li_fat_id","igshid","ttclid","rdt_cid","epik","qclid","sccid","irclid","_kx"],Yl=Rs(["utm_source","utm_medium","utm_campaign","utm_content","utm_term","gad_source","mc_cid"],Zl),Kl="<masked>",Jl=["li_fat_id"];function Ql(e,t,n){if(!hn)return{};var s,i=t?Rs([],Zl,n||[]):[],a=Xl(va(hn.URL,i,Kl),e),r=(s={},Ls(Jl,function(e){var t=La.J(e);s[e]=t||null}),s);return Ps(r,a)}function Xl(e,t){var n=Yl.concat(t||[]),s={};return Ls(n,function(t){var n=ga(e,t);s[t]=n||null}),s}function ec(e){var t,n=(t=e)?0===t.search(Gl+"google.([^/?]*)")?"google":0===t.search(Gl+"bing.com")?"bing":0===t.search(Gl+"yahoo.com")?"yahoo":0===t.search(Gl+"duckduckgo.com")?"duckduckgo":null:null,s="yahoo"!=n?"q":"p",i={};if(!Hn(n)){i.$search_engine=n;var a=hn?ga(hn.referrer,s):"";a.length&&(i.ph_keyword=a)}return i}function tc(){return navigator.language||navigator.userLanguage}function nc(){return(null==hn?void 0:hn.referrer)||"$direct"}function sc(e,t){var n=e?Rs([],Zl,t||[]):[],s=null==xn?void 0:xn.href.substring(0,1e3);return{r:nc().substring(0,1e3),u:s?va(s,n,Kl):void 0}}function ic(e){var t,{r:n,u:s}=e,i={$referrer:n,$referring_domain:null==n?void 0:"$direct"==n?"$direct":null==(t=fa(n))?void 0:t.host};if(s){i.$current_url=s;var a=fa(s);i.$host=null==a?void 0:a.host,i.$pathname=null==a?void 0:a.pathname;var r=Xl(s);Ps(i,r)}if(n){var o=ec(n);Ps(i,o)}return i}function ac(){try{return Intl.DateTimeFormat().resolvedOptions().timeZone}catch(pa){return}}function rc(){try{return(new Date).getTimezoneOffset()}catch(pa){return}}var oc=Is("[FeatureFlags]"),lc="$active_feature_flags",cc="$override_feature_flags",dc="$feature_flag_payloads",uc="$override_feature_flag_payloads",pc="$feature_flag_request_id",mc=e=>{var t={};for(var[n,s]of Os(e||{}))s&&(t[n]=s);return t},hc=function(e){return e.FeatureFlags="feature_flags",e.Recordings="recordings",e}({});let xc=class{constructor(e){this.we=!1,this.Se=!1,this.ke=!1,this.$e=!1,this.xe=!1,this.Ee=!1,this.Re=!1,this._instance=e,this.featureFlagEventHandlers=[]}Ie(){var e=this._instance.config.evaluation_environments;return null!=e&&e.length?e.filter(e=>{var t=e&&"string"==typeof e&&e.trim().length>0;return t||oc.error("Invalid evaluation environment found:",e,"Expected non-empty string"),t}):[]}Pe(){return this.Ie().length>0}flags(){if(this._instance.config.__preview_remote_config)this.Ee=!0;else{var e=!this.Te&&(this._instance.config.advanced_disable_feature_flags||this._instance.config.advanced_disable_feature_flags_on_first_load);this.Ce({disableFlags:e})}}get hasLoadedFlags(){return this.Se}getFlags(){return Object.keys(this.getFlagVariants())}getFlagsWithDetails(){var e=this._instance.get_property(vi),t=this._instance.get_property(cc),n=this._instance.get_property(uc);if(!n&&!t)return e||{};var s=Ps({},e||{}),i=[...new Set([...Object.keys(n||{}),...Object.keys(t||{})])];for(var a of i){var r,o,l=s[a],c=null==t?void 0:t[a],d=On(c)?null!==(r=null==l?void 0:l.enabled)&&void 0!==r&&r:!!c,u=On(c)?l.variant:"string"==typeof c?c:void 0,p=null==n?void 0:n[a],m=Nn({},l,{enabled:d,variant:d?null!=u?u:null==l?void 0:l.variant:void 0});d!==(null==l?void 0:l.enabled)&&(m.original_enabled=null==l?void 0:l.enabled),u!==(null==l?void 0:l.variant)&&(m.original_variant=null==l?void 0:l.variant),p&&(m.metadata=Nn({},null==l?void 0:l.metadata,{payload:p,original_payload:null==l||null==(o=l.metadata)?void 0:o.payload})),s[a]=m}return this.we||(oc.warn(" Overriding feature flag details!",{flagDetails:e,overriddenPayloads:n,finalDetails:s}),this.we=!0),s}getFlagVariants(){var e=this._instance.get_property(fi),t=this._instance.get_property(cc);if(!t)return e||{};for(var n=Ps({},e),s=Object.keys(t),i=0;i<s.length;i++)n[s[i]]=t[s[i]];return this.we||(oc.warn(" Overriding feature flags!",{enabledFlags:e,overriddenFlags:t,finalFlags:n}),this.we=!0),n}getFlagPayloads(){var e=this._instance.get_property(dc),t=this._instance.get_property(uc);if(!t)return e||{};for(var n=Ps({},e||{}),s=Object.keys(t),i=0;i<s.length;i++)n[s[i]]=t[s[i]];return this.we||(oc.warn(" Overriding feature flag payloads!",{flagPayloads:e,overriddenPayloads:t,finalPayloads:n}),this.we=!0),n}reloadFeatureFlags(){this.$e||this._instance.config.advanced_disable_feature_flags||this.Te||(this.Te=setTimeout(()=>{this.Ce()},5))}Me(){clearTimeout(this.Te),this.Te=void 0}ensureFlagsLoaded(){this.Se||this.ke||this.Te||this.reloadFeatureFlags()}setAnonymousDistinctId(e){this.$anon_distinct_id=e}setReloadingPaused(e){this.$e=e}Ce(e){var t;if(this.Me(),!this._instance.L())if(this.ke)this.xe=!0;else{var n={token:this._instance.config.token,distinct_id:this._instance.get_distinct_id(),groups:this._instance.getGroups(),$anon_distinct_id:this.$anon_distinct_id,person_properties:Nn({},(null==(t=this._instance.persistence)?void 0:t.get_initial_props())||{},this._instance.get_property(bi)||{}),group_properties:this._instance.get_property(yi)};(null!=e&&e.disableFlags||this._instance.config.advanced_disable_feature_flags)&&(n.disable_flags=!0),this.Pe()&&(n.evaluation_environments=this.Ie());var s=this._instance.config.__preview_remote_config,i=s?"/flags/?v=2":"/flags/?v=2&config=true",a=this._instance.config.advanced_only_evaluate_survey_feature_flags?"&only_evaluate_survey_feature_flags=true":"",r=this._instance.requestRouter.endpointFor("api",i+a);s&&(n.timezone=ac()),this.ke=!0,this._instance.Oe({method:"POST",url:r,data:n,compression:this._instance.config.disable_compression?void 0:ha.Base64,timeout:this._instance.config.feature_flag_request_timeout_ms,callback:e=>{var t,s,i=!0;if(200===e.statusCode&&(this.xe||(this.$anon_distinct_id=void 0),i=!1),this.ke=!1,this.Ee||(this.Ee=!0,this._instance.Fe(null!==(s=e.json)&&void 0!==s?s:{})),!n.disable_flags||this.xe)if(this.Re=!i,e.json&&null!=(t=e.json.quotaLimited)&&t.includes(hc.FeatureFlags))oc.warn("You have hit your feature flags quota limit, and will not be able to load feature flags until the quota is reset.  Please visit https://posthog.com/docs/billing/limits-alerts to learn more.");else{var a;n.disable_flags||this.receivedFeatureFlags(null!==(a=e.json)&&void 0!==a?a:{},i),this.xe&&(this.xe=!1,this.Ce())}}})}}getFeatureFlag(e,t){if(void 0===t&&(t={}),this.Se||this.getFlags()&&this.getFlags().length>0){var n=this.getFlagVariants()[e],s=""+n,i=this._instance.get_property(pc)||void 0,a=this._instance.get_property(Ci)||{};if((t.send_event||!("send_event"in t))&&(!(e in a)||!a[e].includes(s))){var r,o,l,c,d,u,p,m,h;Mn(a[e])?a[e].push(s):a[e]=[s],null==(r=this._instance.persistence)||r.register({[Ci]:a});var x=this.getFeatureFlagDetails(e),f={$feature_flag:e,$feature_flag_response:n,$feature_flag_payload:this.getFeatureFlagPayload(e)||null,$feature_flag_request_id:i,$feature_flag_bootstrapped_response:(null==(o=this._instance.config.bootstrap)||null==(o=o.featureFlags)?void 0:o[e])||null,$feature_flag_bootstrapped_payload:(null==(l=this._instance.config.bootstrap)||null==(l=l.featureFlagPayloads)?void 0:l[e])||null,$used_bootstrap_value:!this.Re};On(null==x||null==(c=x.metadata)?void 0:c.version)||(f.$feature_flag_version=x.metadata.version);var g,v=null!==(d=null==x||null==(u=x.reason)?void 0:u.description)&&void 0!==d?d:null==x||null==(p=x.reason)?void 0:p.code;v&&(f.$feature_flag_reason=v),null!=x&&null!=(m=x.metadata)&&m.id&&(f.$feature_flag_id=x.metadata.id),On(null==x?void 0:x.original_variant)&&On(null==x?void 0:x.original_enabled)||(f.$feature_flag_original_response=On(x.original_variant)?x.original_enabled:x.original_variant),null!=x&&null!=(h=x.metadata)&&h.original_payload&&(f.$feature_flag_original_payload=null==x||null==(g=x.metadata)?void 0:g.original_payload),this._instance.capture("$feature_flag_called",f)}return n}oc.warn('getFeatureFlag for key "'+e+"\" failed. Feature flags didn't load in time.")}getFeatureFlagDetails(e){return this.getFlagsWithDetails()[e]}getFeatureFlagPayload(e){return this.getFlagPayloads()[e]}getRemoteConfigPayload(e,t){var n=this._instance.config.token,s={distinct_id:this._instance.get_distinct_id(),token:n};this.Pe()&&(s.evaluation_environments=this.Ie()),this._instance.Oe({method:"POST",url:this._instance.requestRouter.endpointFor("api","/flags/?v=2&config=true"),data:s,compression:this._instance.config.disable_compression?void 0:ha.Base64,timeout:this._instance.config.feature_flag_request_timeout_ms,callback:n=>{var s,i=null==(s=n.json)?void 0:s.featureFlagPayloads;t((null==i?void 0:i[e])||void 0)}})}isFeatureEnabled(e,t){if(void 0===t&&(t={}),this.Se||this.getFlags()&&this.getFlags().length>0){var n=this.getFeatureFlag(e,t);return On(n)?void 0:!!n}oc.warn('isFeatureEnabled for key "'+e+"\" failed. Feature flags didn't load in time.")}addFeatureFlagsHandler(e){this.featureFlagEventHandlers.push(e)}removeFeatureFlagsHandler(e){this.featureFlagEventHandlers=this.featureFlagEventHandlers.filter(t=>t!==e)}receivedFeatureFlags(e,t){if(this._instance.persistence){this.Se=!0;var n=this.getFlagVariants(),s=this.getFlagPayloads(),i=this.getFlagsWithDetails();!function(e,t,n,s,i){void 0===n&&(n={}),void 0===s&&(s={}),void 0===i&&(i={});var a=(e=>{var t=e.flags;return t?(e.featureFlags=Object.fromEntries(Object.keys(t).map(e=>{var n;return[e,null!==(n=t[e].variant)&&void 0!==n?n:t[e].enabled]})),e.featureFlagPayloads=Object.fromEntries(Object.keys(t).filter(e=>t[e].enabled).filter(e=>{var n;return null==(n=t[e].metadata)?void 0:n.payload}).map(e=>{var n;return[e,null==(n=t[e].metadata)?void 0:n.payload]}))):oc.warn("Using an older version of the feature flags endpoint. Please upgrade your PostHog server to the latest version"),e})(e),r=a.flags,o=a.featureFlags,l=a.featureFlagPayloads;if(o){var c=e.requestId;if(Mn(o)){oc.warn("v1 of the feature flags endpoint is deprecated. Please use the latest version.");var d={};if(o)for(var u=0;u<o.length;u++)d[o[u]]=!0;t&&t.register({[lc]:o,[fi]:d})}else{var p=o,m=l,h=r;e.errorsWhileComputingFlags&&(p=Nn({},n,p),m=Nn({},s,m),h=Nn({},i,h)),t&&t.register(Nn({[lc]:Object.keys(mc(p)),[fi]:p||{},[dc]:m||{},[vi]:h||{}},c?{[pc]:c}:{}))}}}(e,this._instance.persistence,n,s,i),this.Ae(t)}}override(e,t){void 0===t&&(t=!1),oc.warn("override is deprecated. Please use overrideFeatureFlags instead."),this.overrideFeatureFlags({flags:e,suppressWarning:t})}overrideFeatureFlags(e){if(!this._instance.__loaded||!this._instance.persistence)return oc.uninitializedWarning("posthog.featureFlags.overrideFeatureFlags");if(!1===e)return this._instance.persistence.unregister(cc),this._instance.persistence.unregister(uc),void this.Ae();if(e&&"object"==typeof e&&("flags"in e||"payloads"in e)){var t,n=e;if(this.we=Boolean(null!==(t=n.suppressWarning)&&void 0!==t&&t),"flags"in n)if(!1===n.flags)this._instance.persistence.unregister(cc);else if(n.flags)if(Mn(n.flags)){for(var s={},i=0;i<n.flags.length;i++)s[n.flags[i]]=!0;this._instance.persistence.register({[cc]:s})}else this._instance.persistence.register({[cc]:n.flags});return"payloads"in n&&(!1===n.payloads?this._instance.persistence.unregister(uc):n.payloads&&this._instance.persistence.register({[uc]:n.payloads})),void this.Ae()}this.Ae()}onFeatureFlags(e){if(this.addFeatureFlagsHandler(e),this.Se){var{flags:t,flagVariants:n}=this.De();e(t,n)}return()=>this.removeFeatureFlagsHandler(e)}updateEarlyAccessFeatureEnrollment(e,t,n){var s,i=(this._instance.get_property(gi)||[]).find(t=>t.flagKey===e),a={["$feature_enrollment/"+e]:t},r={$feature_flag:e,$feature_enrollment:t,$set:a};i&&(r.$early_access_feature_name=i.name),n&&(r.$feature_enrollment_stage=n),this._instance.capture("$feature_enrollment_update",r),this.setPersonPropertiesForFlags(a,!1);var o=Nn({},this.getFlagVariants(),{[e]:t});null==(s=this._instance.persistence)||s.register({[lc]:Object.keys(mc(o)),[fi]:o}),this.Ae()}getEarlyAccessFeatures(e,t,n){void 0===t&&(t=!1);var s=this._instance.get_property(gi),i=n?"&"+n.map(e=>"stage="+e).join("&"):"";if(s&&!t)return e(s);this._instance.Oe({url:this._instance.requestRouter.endpointFor("api","/api/early_access_features/?token="+this._instance.config.token+i),method:"GET",callback:t=>{var n,s;if(t.json){var i=t.json.earlyAccessFeatures;return null==(n=this._instance.persistence)||n.unregister(gi),null==(s=this._instance.persistence)||s.register({[gi]:i}),e(i)}}})}De(){var e=this.getFlags(),t=this.getFlagVariants();return{flags:e.filter(e=>t[e]),flagVariants:Object.keys(t).filter(e=>t[e]).reduce((e,n)=>(e[n]=t[n],e),{})}}Ae(e){var{flags:t,flagVariants:n}=this.De();this.featureFlagEventHandlers.forEach(s=>s(t,n,{errorsLoading:e}))}setPersonPropertiesForFlags(e,t){void 0===t&&(t=!0);var n=this._instance.get_property(bi)||{};this._instance.register({[bi]:Nn({},n,e)}),t&&this._instance.reloadFeatureFlags()}resetPersonPropertiesForFlags(){this._instance.unregister(bi)}setGroupPropertiesForFlags(e,t){void 0===t&&(t=!0);var n=this._instance.get_property(yi)||{};0!==Object.keys(n).length&&Object.keys(n).forEach(t=>{n[t]=Nn({},n[t],e[t]),delete e[t]}),this._instance.register({[yi]:Nn({},n,e)}),t&&this._instance.reloadFeatureFlags()}resetGroupPropertiesForFlags(e){if(e){var t=this._instance.get_property(yi)||{};this._instance.register({[yi]:Nn({},t,{[e]:{}})})}else this._instance.unregister(yi)}reset(){this.Se=!1,this.ke=!1,this.$e=!1,this.xe=!1,this.Ee=!1,this.Re=!1,this.$anon_distinct_id=void 0,this.Me(),this.we=!1}};var fc=["cookie","localstorage","localstorage+cookie","sessionstorage","memory"];let gc=class{constructor(e,t){var n,s;this.A=e,this.props={},this.je=!1,this.Le=(s="",(n=e).token&&(s=n.token.replace(/\+/g,"PL").replace(/\//g,"SL").replace(/=/g,"EQ")),n.persistence_name?"ph_"+n.persistence_name:"ph_"+s+"_posthog"),this.it=this.Ne(e),this.load(),e.debug&&Es.info("Persistence loaded",e.persistence,Nn({},this.props)),this.update_config(e,e,t),this.save()}isDisabled(){return!!this.Ue}Ne(e){-1===fc.indexOf(e.persistence.toLowerCase())&&(Es.critical("Unknown persistence type "+e.persistence+"; falling back to localStorage+cookie"),e.persistence="localStorage+cookie");var t=e.persistence.toLowerCase();return"localstorage"===t&&Ra.G()?Ra:"localstorage+cookie"===t&&za.G()?za:"sessionstorage"===t&&Ua.G()?Ua:"memory"===t?Ha:"cookie"===t?La:za.G()?za:La}properties(){var e={};return Ls(this.props,function(t,n){if(n===fi&&Pn(t))for(var s=Object.keys(t),i=0;i<s.length;i++)e["$feature/"+s[i]]=t[s[i]];else r=n,o=!1,(Hn(a=Di)?o:pn&&a.indexOf===pn?-1!=a.indexOf(r):(Ls(a,function(e){if(o||(o=e===r))return Ds}),o))||(e[n]=t);var a,r,o}),e}load(){if(!this.Ue){var e=this.it.K(this.Le);e&&(this.props=Ps({},e))}}save(){this.Ue||this.it.Y(this.Le,this.props,this.ze,this.Be,this.qe,this.A.debug)}remove(){this.it.X(this.Le,!1),this.it.X(this.Le,!0)}clear(){this.remove(),this.props={}}register_once(e,t,n){if(Pn(e)){On(t)&&(t="None"),this.ze=On(n)?this.He:n;var s=!1;if(Ls(e,(e,n)=>{this.props.hasOwnProperty(n)&&this.props[n]!==t||(this.props[n]=e,s=!0)}),s)return this.save(),!0}return!1}register(e,t){if(Pn(e)){this.ze=On(t)?this.He:t;var n=!1;if(Ls(e,(t,s)=>{e.hasOwnProperty(s)&&this.props[s]!==t&&(this.props[s]=t,n=!0)}),n)return this.save(),!0}return!1}unregister(e){e in this.props&&(delete this.props[e],this.save())}update_campaign_params(){if(!this.je){var e=Ql(this.A.custom_campaign_params,this.A.mask_personal_data_properties,this.A.custom_personal_data_properties);Rn(Hs(e))||this.register(e),this.je=!0}}update_search_keyword(){var e;this.register((e=null==hn?void 0:hn.referrer)?ec(e):{})}update_referrer_info(){var e;this.register_once({$referrer:nc(),$referring_domain:null!=hn&&hn.referrer&&(null==(e=fa(hn.referrer))?void 0:e.host)||"$direct"},void 0)}set_initial_person_info(){this.props[ki]||this.props[Si]||this.register_once({[Ei]:sc(this.A.mask_personal_data_properties,this.A.custom_personal_data_properties)},void 0)}get_initial_props(){var e={};Ls([Si,ki],t=>{var n=this.props[t];n&&Ls(n,function(t,n){e["$initial_"+En(n)]=t})});var t,n,s=this.props[Ei];if(s){var i=(t=ic(s),n={},Ls(t,function(e,t){n["$initial_"+En(t)]=e}),n);Ps(e,i)}return e}safe_merge(e){return Ls(this.props,function(t,n){n in e||(e[n]=t)}),e}update_config(e,t,n){if(this.He=this.ze=e.cookie_expiration,this.set_disabled(e.disable_persistence||!!n),this.set_cross_subdomain(e.cross_subdomain_cookie),this.set_secure(e.secure_cookie),e.persistence!==t.persistence){var s=this.Ne(e),i=this.props;this.clear(),this.it=s,this.props=i,this.save()}}set_disabled(e){this.Ue=e,this.Ue?this.remove():this.save()}set_cross_subdomain(e){e!==this.Be&&(this.Be=e,this.remove(),this.save())}set_secure(e){e!==this.qe&&(this.qe=e,this.remove(),this.save())}set_event_timer(e,t){var n=this.props[Zs]||{};n[e]=t,this.props[Zs]=n,this.save()}remove_event_timer(e){var t=(this.props[Zs]||{})[e];return On(t)||(delete this.props[Zs][e],this.save()),t}get_property(e){return this.props[e]}set_property(e,t){this.props[e]=t,this.save()}};!function(e){e.Button="button",e.Tab="tab",e.Selector="selector"}({}),function(e){e.TopLeft="top_left",e.TopRight="top_right",e.TopCenter="top_center",e.MiddleLeft="middle_left",e.MiddleRight="middle_right",e.MiddleCenter="middle_center",e.Left="left",e.Center="center",e.Right="right",e.NextToTrigger="next_to_trigger"}({});var vc=function(e){return e.Popover="popover",e.API="api",e.Widget="widget",e.ExternalSurvey="external_survey",e}({});!function(e){e.Open="open",e.MultipleChoice="multiple_choice",e.SingleChoice="single_choice",e.Rating="rating",e.Link="link"}({}),function(e){e.NextQuestion="next_question",e.End="end",e.ResponseBased="response_based",e.SpecificQuestion="specific_question"}({}),function(e){e.Once="once",e.Recurring="recurring",e.Always="always"}({});var bc=function(e){return e.SHOWN="survey shown",e.DISMISSED="survey dismissed",e.SENT="survey sent",e}({}),yc=function(e){return e.SURVEY_ID="$survey_id",e.SURVEY_NAME="$survey_name",e.SURVEY_RESPONSE="$survey_response",e.SURVEY_ITERATION="$survey_iteration",e.SURVEY_ITERATION_START_DATE="$survey_iteration_start_date",e.SURVEY_PARTIALLY_COMPLETED="$survey_partially_completed",e.SURVEY_SUBMISSION_ID="$survey_submission_id",e.SURVEY_QUESTIONS="$survey_questions",e.SURVEY_COMPLETED="$survey_completed",e}({}),wc=function(e){return e.Popover="popover",e.Inline="inline",e}({});let jc=class{constructor(){this.We={},this.We={}}on(e,t){return this.We[e]||(this.We[e]=[]),this.We[e].push(t),()=>{this.We[e]=this.We[e].filter(e=>e!==t)}}emit(e,t){for(var n of this.We[e]||[])n(t);for(var s of this.We["*"]||[])s(e,t)}},Cc=class e{constructor(e){this.Ge=new jc,this.Ve=(e,t)=>this.Je(e,t)&&this.Ke(e,t)&&this.Ye(e,t),this.Je=(e,t)=>null==t||!t.event||(null==e?void 0:e.event)===(null==t?void 0:t.event),this._instance=e,this.Xe=new Set,this.Qe=new Set}init(){var e,t;On(null==(e=this._instance)?void 0:e.Ze)||(null==(t=this._instance)||t.Ze((e,t)=>{this.on(e,t)}))}register(e){var t,n;if(!On(null==(t=this._instance)?void 0:t.Ze)&&(e.forEach(e=>{var t,n;null==(t=this.Qe)||t.add(e),null==(n=e.steps)||n.forEach(e=>{var t;null==(t=this.Xe)||t.add((null==e?void 0:e.event)||"")})}),null!=(n=this._instance)&&n.autocapture)){var s,i=new Set;e.forEach(e=>{var t;null==(t=e.steps)||t.forEach(e=>{null!=e&&e.selector&&i.add(null==e?void 0:e.selector)})}),null==(s=this._instance)||s.autocapture.setElementSelectors(i)}}on(e,t){var n;null!=t&&0!=e.length&&(this.Xe.has(e)||this.Xe.has(null==t?void 0:t.event))&&this.Qe&&(null==(n=this.Qe)?void 0:n.size)>0&&this.Qe.forEach(e=>{this.tr(t,e)&&this.Ge.emit("actionCaptured",e.name)})}ir(e){this.onAction("actionCaptured",t=>e(t))}tr(e,t){if(null==(null==t?void 0:t.steps))return!1;for(var n of t.steps)if(this.Ve(e,n))return!0;return!1}onAction(e,t){return this.Ge.on(e,t)}Ke(t,n){if(null!=n&&n.url){var s,i=null==t||null==(s=t.properties)?void 0:s.$current_url;if(!i||"string"!=typeof i)return!1;if(!e.er(i,null==n?void 0:n.url,(null==n?void 0:n.url_matching)||"contains"))return!1}return!0}static er(t,n,s){switch(s){case"regex":return!!ln&&qo(t,n);case"exact":return n===t;case"contains":var i=e.rr(n).replace(/_/g,".").replace(/%/g,".*");return qo(t,i);default:return!1}}static rr(e){return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}Ye(t,n){if((null!=n&&n.href||null!=n&&n.tag_name||null!=n&&n.text)&&!this.sr(t).some(t=>!(null!=n&&n.href&&!e.er(t.href||"",null==n?void 0:n.href,(null==n?void 0:n.href_matching)||"exact")||null!=n&&n.tag_name&&t.tag_name!==(null==n?void 0:n.tag_name)||null!=n&&n.text&&!e.er(t.text||"",null==n?void 0:n.text,(null==n?void 0:n.text_matching)||"exact")&&!e.er(t.$el_text||"",null==n?void 0:n.text,(null==n?void 0:n.text_matching)||"exact"))))return!1;if(null!=n&&n.selector){var s,i=null==t||null==(s=t.properties)?void 0:s.$element_selectors;if(!i)return!1;if(!i.includes(null==n?void 0:n.selector))return!1}return!0}sr(e){return null==(null==e?void 0:e.properties.$elements)?[]:null==e?void 0:e.properties.$elements}};var Nc=Is("[Surveys]"),Fc="seenSurvey_",_c=(e,t)=>{var n="$survey_"+t+"/"+e.id;return e.current_iteration&&e.current_iteration>0&&(n="$survey_"+t+"/"+e.id+"/"+e.current_iteration),n},kc=e=>{var t=""+Fc+e.id;return e.current_iteration&&e.current_iteration>0&&(t=""+Fc+e.id+"_"+e.current_iteration),t},Sc=[vc.Popover,vc.Widget,vc.API],Ec={ignoreConditions:!1,ignoreDelay:!1,displayType:wc.Popover};let Ic=class{constructor(e){this._instance=e,this.nr=new Map,this.ar=new Map}register(e){var t;On(null==(t=this._instance)?void 0:t.Ze)||(this.lr(e),this.ur(e))}ur(e){var t=e.filter(e=>{var t,n;return(null==(t=e.conditions)?void 0:t.actions)&&(null==(n=e.conditions)||null==(n=n.actions)||null==(n=n.values)?void 0:n.length)>0});0!==t.length&&(null==this.hr&&(this.hr=new Cc(this._instance),this.hr.init(),this.hr.ir(e=>{this.onAction(e)})),t.forEach(e=>{var t,n,s,i,a;e.conditions&&null!=(t=e.conditions)&&t.actions&&null!=(n=e.conditions)&&null!=(n=n.actions)&&n.values&&(null==(s=e.conditions)||null==(s=s.actions)||null==(s=s.values)?void 0:s.length)>0&&(null==(i=this.hr)||i.register(e.conditions.actions.values),null==(a=e.conditions)||null==(a=a.actions)||null==(a=a.values)||a.forEach(t=>{if(t&&t.name){var n=this.ar.get(t.name);n&&n.push(e.id),this.ar.set(t.name,n||[e.id])}}))}))}lr(e){var t;0!==e.filter(e=>{var t,n;return(null==(t=e.conditions)?void 0:t.events)&&(null==(n=e.conditions)||null==(n=n.events)||null==(n=n.values)?void 0:n.length)>0}).length&&(null==(t=this._instance)||t.Ze((e,t)=>{this.onEvent(e,t)}),e.forEach(e=>{var t;null==(t=e.conditions)||null==(t=t.events)||null==(t=t.values)||t.forEach(t=>{if(t&&t.name){var n=this.nr.get(t.name);n&&n.push(e.id),this.nr.set(t.name,n||[e.id])}})}))}onEvent(e,t){var n,s,i=(null==(n=this._instance)||null==(n=n.persistence)?void 0:n.props[ji])||[];if(bc.SHOWN===e&&t&&i.length>0){var a;Nc.info("survey event matched, removing survey from activated surveys",{event:e,eventPayload:t,existingActivatedSurveys:i});var r=null==t||null==(a=t.properties)?void 0:a.$survey_id;if(r){var o=i.indexOf(r);o>=0&&(i.splice(o,1),this.dr(i))}}else if(this.nr.has(e)){Nc.info("survey event name matched",{event:e,eventPayload:t,surveys:this.nr.get(e)});var l=[];null==(s=this._instance)||s.getSurveys(t=>{l=t.filter(t=>{var n;return null==(n=this.nr.get(e))?void 0:n.includes(t.id)})});var c=l.filter(n=>{var s,i=null==(s=n.conditions)||null==(s=s.events)||null==(s=s.values)?void 0:s.find(t=>t.name===e);return!!i&&(!i.propertyFilters||Object.entries(i.propertyFilters).every(e=>{var n,[s,i]=e,a=null==t||null==(n=t.properties)?void 0:n[s];if(On(a)||Hn(a))return!1;var r=[String(a)],o=Zo[i.operator];return o?o(i.values,r):(Nc.warn("Unknown property comparison operator: "+i.operator),!1)}))});this.dr(i.concat(c.map(e=>e.id)||[]))}}onAction(e){var t,n=(null==(t=this._instance)||null==(t=t.persistence)?void 0:t.props[ji])||[];this.ar.has(e)&&this.dr(n.concat(this.ar.get(e)||[]))}dr(e){var t;Nc.info("updating activated surveys",{activatedSurveys:e}),null==(t=this._instance)||null==(t=t.persistence)||t.register({[ji]:[...new Set(e)]})}getSurveys(){var e;return(null==(e=this._instance)||null==(e=e.persistence)?void 0:e.props[ji])||[]}getEventToSurveys(){return this.nr}vr(){return this.hr}},Ac=class{constructor(e){this.cr=void 0,this._surveyManager=null,this.pr=!1,this.gr=!1,this._r=[],this._instance=e,this._surveyEventReceiver=null}onRemoteConfig(e){if(!this._instance.config.disable_surveys){var t=e.surveys;if($n(t))return Nc.warn("Flags not loaded yet. Not loading surveys.");var n=Mn(t);this.cr=n?t.length>0:t,Nc.info("flags response received, isSurveysEnabled: "+this.cr),this.loadIfEnabled()}}reset(){localStorage.removeItem("lastSeenSurveyDate");for(var e=[],t=0;t<localStorage.length;t++){var n=localStorage.key(t);(null!=n&&n.startsWith(Fc)||null!=n&&n.startsWith("inProgressSurvey_"))&&e.push(n)}e.forEach(e=>localStorage.removeItem(e))}loadIfEnabled(){if(!this._surveyManager)if(this.gr)Nc.info("Already initializing surveys, skipping...");else if(this._instance.config.disable_surveys)Nc.info("Disabled. Not loading surveys.");else if(this._instance.config.cookieless_mode&&this._instance.consent.isOptedOut())Nc.info("Not loading surveys in cookieless mode without consent.");else{var e=null==yn?void 0:yn.__PosthogExtensions__;if(e){if(!On(this.cr)||this._instance.config.advanced_enable_surveys){var t=this.cr||this._instance.config.advanced_enable_surveys;this.gr=!0;try{var n=e.generateSurveys;if(n)return void this.mr(n,t);var s=e.loadExternalDependency;if(!s)return void this.yr("PostHog loadExternalDependency extension not found.");s(this._instance,"surveys",n=>{n||!e.generateSurveys?this.yr("Could not load surveys script",n):this.mr(e.generateSurveys,t)})}catch(i){throw this.yr("Error initializing surveys",i),i}finally{this.gr=!1}}}else Nc.error("PostHog Extensions not found.")}}mr(e,t){this._surveyManager=e(this._instance,t),this._surveyEventReceiver=new Ic(this._instance),Nc.info("Surveys loaded successfully"),this.br({isLoaded:!0})}yr(e,t){Nc.error(e,t),this.br({isLoaded:!1,error:e})}onSurveysLoaded(e){return this._r.push(e),this._surveyManager&&this.br({isLoaded:!0}),()=>{this._r=this._r.filter(t=>t!==e)}}getSurveys(e,t){if(void 0===t&&(t=!1),this._instance.config.disable_surveys)return Nc.info("Disabled. Not loading surveys."),e([]);var n=this._instance.get_property(wi);if(n&&!t)return e(n,{isLoaded:!0});if(this.pr)return e([],{isLoaded:!1,error:"Surveys are already being loaded"});try{this.pr=!0,this._instance.Oe({url:this._instance.requestRouter.endpointFor("api","/api/surveys/?token="+this._instance.config.token),method:"GET",timeout:this._instance.config.surveys_request_timeout_ms,callback:t=>{var n;this.pr=!1;var s=t.statusCode;if(200!==s||!t.json){var i="Surveys API could not be loaded, status: "+s;return Nc.error(i),e([],{isLoaded:!1,error:i})}var a,r=t.json.surveys||[],o=r.filter(e=>{return!(!(t=e).start_date||t.end_date)&&(function(e){var t;return!(null==(t=e.conditions)||null==(t=t.events)||null==(t=t.values)||!t.length)}(e)||function(e){var t;return!(null==(t=e.conditions)||null==(t=t.actions)||null==(t=t.values)||!t.length)}(e));var t});return o.length>0&&(null==(a=this._surveyEventReceiver)||a.register(o)),null==(n=this._instance.persistence)||n.register({[wi]:r}),e(r,{isLoaded:!0})}})}catch(s){throw this.pr=!1,s}}br(e){for(var t of this._r)try{if(!e.isLoaded)return t([],e);this.getSurveys(t)}catch(n){Nc.error("Error in survey callback",n)}}getActiveMatchingSurveys(e,t){if(void 0===t&&(t=!1),!$n(this._surveyManager))return this._surveyManager.getActiveMatchingSurveys(e,t);Nc.warn("init was not called")}wr(e){var t=null;return this.getSurveys(n=>{var s;t=null!==(s=n.find(t=>t.id===e))&&void 0!==s?s:null}),t}Sr(e){if($n(this._surveyManager))return{eligible:!1,reason:"SDK is not enabled or survey functionality is not yet loaded"};var t="string"==typeof e?this.wr(e):e;return t?this._surveyManager.checkSurveyEligibility(t):{eligible:!1,reason:"Survey not found"}}canRenderSurvey(e){if($n(this._surveyManager))return Nc.warn("init was not called"),{visible:!1,disabledReason:"SDK is not enabled or survey functionality is not yet loaded"};var t=this.Sr(e);return{visible:t.eligible,disabledReason:t.reason}}canRenderSurveyAsync(e,t){return $n(this._surveyManager)?(Nc.warn("init was not called"),Promise.resolve({visible:!1,disabledReason:"SDK is not enabled or survey functionality is not yet loaded"})):new Promise(n=>{this.getSurveys(t=>{var s,i=null!==(s=t.find(t=>t.id===e))&&void 0!==s?s:null;if(i){var a=this.Sr(i);n({visible:a.eligible,disabledReason:a.reason})}else n({visible:!1,disabledReason:"Survey not found"})},t)})}renderSurvey(e,t){var n;if($n(this._surveyManager))Nc.warn("init was not called");else{var s="string"==typeof e?this.wr(e):e;if(null!=s&&s.id)if(Sc.includes(s.type)){var i=null==hn?void 0:hn.querySelector(t);if(i)return null!=(n=s.appearance)&&n.surveyPopupDelaySeconds?(Nc.info("Rendering survey "+s.id+" with delay of "+s.appearance.surveyPopupDelaySeconds+" seconds"),void setTimeout(()=>{var e,t;Nc.info("Rendering survey "+s.id+" with delay of "+(null==(e=s.appearance)?void 0:e.surveyPopupDelaySeconds)+" seconds"),null==(t=this._surveyManager)||t.renderSurvey(s,i),Nc.info("Survey "+s.id+" rendered")},1e3*s.appearance.surveyPopupDelaySeconds)):void this._surveyManager.renderSurvey(s,i);Nc.warn("Survey element not found")}else Nc.warn("Surveys of type "+s.type+" cannot be rendered in the app");else Nc.warn("Survey not found")}}displaySurvey(e,t){var n;if($n(this._surveyManager))Nc.warn("init was not called");else{var s=this.wr(e);if(s){var i=s;if(null!=(n=s.appearance)&&n.surveyPopupDelaySeconds&&t.ignoreDelay&&(i=Nn({},s,{appearance:Nn({},s.appearance,{surveyPopupDelaySeconds:0})})),!1===t.ignoreConditions){var a=this.canRenderSurvey(s);if(!a.visible)return void Nc.warn("Survey is not eligible to be displayed: ",a.disabledReason)}t.displayType!==wc.Inline?this._surveyManager.handlePopoverSurvey(i):this.renderSurvey(i,t.selector)}else Nc.warn("Survey not found")}}};var Tc=Is("[RateLimiter]");let Dc=class{constructor(e){var t,n;this.serverLimits={},this.lastEventRateLimited=!1,this.checkForLimiting=e=>{var t=e.text;if(t&&t.length)try{(JSON.parse(t).quota_limited||[]).forEach(e=>{Tc.info((e||"events")+" is quota limited."),this.serverLimits[e]=(new Date).getTime()+6e4})}catch(n){return void Tc.warn('could not rate limit - continuing. Error: "'+(null==n?void 0:n.message)+'"',{text:t})}},this.instance=e,this.captureEventsPerSecond=(null==(t=e.config.rate_limiting)?void 0:t.events_per_second)||10,this.captureEventsBurstLimit=Math.max((null==(n=e.config.rate_limiting)?void 0:n.events_burst_limit)||10*this.captureEventsPerSecond,this.captureEventsPerSecond),this.lastEventRateLimited=this.clientRateLimitContext(!0).isRateLimited}clientRateLimitContext(e){var t,n,s;void 0===e&&(e=!1);var i=(new Date).getTime(),a=null!==(t=null==(n=this.instance.persistence)?void 0:n.get_property(_i))&&void 0!==t?t:{tokens:this.captureEventsBurstLimit,last:i};a.tokens+=(i-a.last)/1e3*this.captureEventsPerSecond,a.last=i,a.tokens>this.captureEventsBurstLimit&&(a.tokens=this.captureEventsBurstLimit);var r=a.tokens<1;return r||e||(a.tokens=Math.max(0,a.tokens-1)),!r||this.lastEventRateLimited||e||this.instance.capture("$$client_ingestion_warning",{$$client_ingestion_warning_message:"posthog-js client rate limited. Config is set to "+this.captureEventsPerSecond+" events per second and "+this.captureEventsBurstLimit+" events burst limit."},{skip_client_rate_limiting:!0}),this.lastEventRateLimited=r,null==(s=this.instance.persistence)||s.set_property(_i,a),{isRateLimited:r,remainingTokens:a.tokens}}isServerRateLimited(e){var t=this.serverLimits[e||"events"]||!1;return!1!==t&&(new Date).getTime()<t}};var Mc=Is("[RemoteConfig]");class Lc{constructor(e){this._instance=e}get remoteConfig(){var e;return null==(e=yn._POSTHOG_REMOTE_CONFIG)||null==(e=e[this._instance.config.token])?void 0:e.config}kr(e){var t,n;null!=(t=yn.__PosthogExtensions__)&&t.loadExternalDependency?null==(n=yn.__PosthogExtensions__)||null==n.loadExternalDependency||n.loadExternalDependency(this._instance,"remote-config",()=>e(this.remoteConfig)):(Mc.error("PostHog Extensions not found. Cannot load remote config."),e())}$r(e){this._instance.Oe({method:"GET",url:this._instance.requestRouter.endpointFor("assets","/array/"+this._instance.config.token+"/config"),callback:t=>{e(t.json)}})}load(){try{if(this.remoteConfig)return Mc.info("Using preloaded remote config",this.remoteConfig),void this.Fe(this.remoteConfig);if(this._instance.L())return void Mc.warn("Remote config is disabled. Falling back to local config.");this.kr(e=>{if(!e)return Mc.info("No config found after loading remote JS config. Falling back to JSON."),void this.$r(e=>{this.Fe(e)});this.Fe(e)})}catch(pa){Mc.error("Error loading remote config",pa)}}Fe(e){e?this._instance.config.__preview_remote_config?(this._instance.Fe(e),!1!==e.hasFeatureFlags&&this._instance.featureFlags.ensureFlagsLoaded()):Mc.info("__preview_remote_config is disabled. Logging config instead",e):Mc.error("Failed to fetch remote config from PostHog.")}}var Pc=3e3;class Rc{constructor(e,t){this.Er=!0,this.Rr=[],this.Ir=Qn((null==t?void 0:t.flush_interval_ms)||Pc,250,5e3,Es.createLogger("flush interval"),Pc),this.Pr=e}enqueue(e){this.Rr.push(e),this.Tr||this.Cr()}unload(){this.Mr();var e=this.Rr.length>0?this.Or():{},t=Object.values(e);[...t.filter(e=>0===e.url.indexOf("/e")),...t.filter(e=>0!==e.url.indexOf("/e"))].map(e=>{this.Pr(Nn({},e,{transport:"sendBeacon"}))})}enable(){this.Er=!1,this.Cr()}Cr(){var e=this;this.Er||(this.Tr=setTimeout(()=>{if(this.Mr(),this.Rr.length>0){var t=this.Or(),n=function(){var n=t[s],i=(new Date).getTime();n.data&&Mn(n.data)&&Ls(n.data,e=>{e.offset=Math.abs(e.timestamp-i),delete e.timestamp}),e.Pr(n)};for(var s in t)n()}},this.Ir))}Mr(){clearTimeout(this.Tr),this.Tr=void 0}Or(){var e={};return Ls(this.Rr,t=>{var n,s=t,i=(s?s.batchKey:null)||s.url;On(e[i])&&(e[i]=Nn({},s,{data:[]})),null==(n=e[i].data)||n.push(s.data)}),this.Rr=[],e}}var Oc=["retriesPerformedSoFar"];class zc{constructor(e){this.Fr=!1,this.Ar=3e3,this.Rr=[],this._instance=e,this.Rr=[],this.Dr=!0,!On(ln)&&"onLine"in ln.navigator&&(this.Dr=ln.navigator.onLine,Ws(ln,"online",()=>{this.Dr=!0,this.oe()}),Ws(ln,"offline",()=>{this.Dr=!1}))}get length(){return this.Rr.length}retriableRequest(e){var{retriesPerformedSoFar:t}=e,n=Fn(e,Oc);Un(t)&&t>0&&(n.url=$o(n.url,{retry_count:t})),this._instance.Oe(Nn({},n,{callback:e=>{200!==e.statusCode&&(e.statusCode<400||e.statusCode>=500)&&(null!=t?t:0)<10?this.jr(Nn({retriesPerformedSoFar:t},n)):null==n.callback||n.callback(e)}}))}jr(e){var t=e.retriesPerformedSoFar||0;e.retriesPerformedSoFar=t+1;var n,s,i,a,r,o=(n=t,s=3e3*Math.pow(2,n),i=s/2,a=Math.min(18e5,s),r=(Math.random()-.5)*(a-i),Math.ceil(a+r)),l=Date.now()+o;this.Rr.push({retryAt:l,requestOptions:e});var c="Enqueued failed request for retry in "+o;navigator.onLine||(c+=" (Browser is offline)"),Es.warn(c),this.Fr||(this.Fr=!0,this.Lr())}Lr(){this.Nr&&clearTimeout(this.Nr),this.Nr=setTimeout(()=>{this.Dr&&this.Rr.length>0&&this.oe(),this.Lr()},this.Ar)}oe(){var e=Date.now(),t=[],n=this.Rr.filter(n=>n.retryAt<e||(t.push(n),!1));if(this.Rr=t,n.length>0)for(var{requestOptions:s}of n)this.retriableRequest(s)}unload(){for(var{requestOptions:e}of(this.Nr&&(clearTimeout(this.Nr),this.Nr=void 0),this.Rr))try{this._instance.Oe(Nn({},e,{transport:"sendBeacon"}))}catch(t){Es.error(t)}this.Rr=[]}}class Bc{constructor(e){this.Ur=()=>{var e,t,n,s;this.zr||(this.zr={});var i=this.scrollElement(),a=this.scrollY(),r=i?Math.max(0,i.scrollHeight-i.clientHeight):0,o=a+((null==i?void 0:i.clientHeight)||0),l=(null==i?void 0:i.scrollHeight)||0;this.zr.lastScrollY=Math.ceil(a),this.zr.maxScrollY=Math.max(a,null!==(e=this.zr.maxScrollY)&&void 0!==e?e:0),this.zr.maxScrollHeight=Math.max(r,null!==(t=this.zr.maxScrollHeight)&&void 0!==t?t:0),this.zr.lastContentY=o,this.zr.maxContentY=Math.max(o,null!==(n=this.zr.maxContentY)&&void 0!==n?n:0),this.zr.maxContentHeight=Math.max(l,null!==(s=this.zr.maxContentHeight)&&void 0!==s?s:0)},this._instance=e}getContext(){return this.zr}resetContext(){var e=this.zr;return setTimeout(this.Ur,0),e}startMeasuringScrollPosition(){Ws(ln,"scroll",this.Ur,{capture:!0}),Ws(ln,"scrollend",this.Ur,{capture:!0}),Ws(ln,"resize",this.Ur)}scrollElement(){if(!this._instance.config.scroll_root_selector)return null==ln?void 0:ln.document.documentElement;var e=Mn(this._instance.config.scroll_root_selector)?this._instance.config.scroll_root_selector:[this._instance.config.scroll_root_selector];for(var t of e){var n=null==ln?void 0:ln.document.querySelector(t);if(n)return n}}scrollY(){if(this._instance.config.scroll_root_selector){var e=this.scrollElement();return e&&e.scrollTop||0}return ln&&(ln.scrollY||ln.pageYOffset||ln.document.documentElement.scrollTop)||0}scrollX(){if(this._instance.config.scroll_root_selector){var e=this.scrollElement();return e&&e.scrollLeft||0}return ln&&(ln.scrollX||ln.pageXOffset||ln.document.documentElement.scrollLeft)||0}}var Hc=e=>sc(null==e?void 0:e.config.mask_personal_data_properties,null==e?void 0:e.config.custom_personal_data_properties);class $c{constructor(e,t,n,s){this.Br=e=>{var t=this.qr();if(!t||t.sessionId!==e){var n={sessionId:e,props:this.Hr(this._instance)};this.Wr.register({[Fi]:n})}},this._instance=e,this.Gr=t,this.Wr=n,this.Hr=s||Hc,this.Gr.onSessionId(this.Br)}qr(){return this.Wr.props[Fi]}getSetOnceProps(){var e,t=null==(e=this.qr())?void 0:e.props;return t?"r"in t?ic(t):{$referring_domain:t.referringDomain,$pathname:t.initialPathName,utm_source:t.utm_source,utm_campaign:t.utm_campaign,utm_medium:t.utm_medium,utm_content:t.utm_content,utm_term:t.utm_term}:{}}getSessionProps(){var e={};return Ls(Hs(this.getSetOnceProps()),(t,n)=>{"$current_url"===n&&(n="url"),e["$session_entry_"+En(n)]=t}),e}}var Uc=Is("[SessionId]");class Vc{on(e,t){return this.Vr.on(e,t)}constructor(e,t,n){var s;if(this.Jr=[],this.Vr=new jc,this.Kr=(e,t)=>Math.abs(e-t)>this.sessionTimeoutMs,!e.persistence)throw new Error("SessionIdManager requires a PostHogPersistence instance");if("always"===e.config.cookieless_mode)throw new Error('SessionIdManager cannot be used with cookieless_mode="always"');this.A=e.config,this.Wr=e.persistence,this.pi=void 0,this.Ft=void 0,this._sessionStartTimestamp=null,this._sessionActivityTimestamp=null,this.Yr=t||Aa,this.Xr=n||Aa;var i=this.A.persistence_name||this.A.token,a=this.A.session_idle_timeout_seconds||1800;if(this._sessionTimeoutMs=1e3*Qn(a,60,36e3,Uc.createLogger("session_idle_timeout_seconds"),1800),e.register({$configured_session_timeout_ms:this._sessionTimeoutMs}),this.Qr(),this.Zr="ph_"+i+"_window_id",this.ts="ph_"+i+"_primary_window_exists",this.es()){var r=Ua.K(this.Zr),o=Ua.K(this.ts);r&&!o?this.pi=r:Ua.X(this.Zr),Ua.Y(this.ts,!0)}if(null!=(s=this.A.bootstrap)&&s.sessionID)try{var l=(()=>{var e=this.A.bootstrap.sessionID.replace(/-/g,"");if(32!==e.length)throw new Error("Not a valid UUID");if("7"!==e[12])throw new Error("Not a UUIDv7");return parseInt(e.substring(0,12),16)})();this.rs(this.A.bootstrap.sessionID,(new Date).getTime(),l)}catch(c){Uc.error("Invalid sessionID in bootstrap",c)}this.ss()}get sessionTimeoutMs(){return this._sessionTimeoutMs}onSessionId(e){return On(this.Jr)&&(this.Jr=[]),this.Jr.push(e),this.Ft&&e(this.Ft,this.pi),()=>{this.Jr=this.Jr.filter(t=>t!==e)}}es(){return"memory"!==this.A.persistence&&!this.Wr.Ue&&Ua.G()}ns(e){e!==this.pi&&(this.pi=e,this.es()&&Ua.Y(this.Zr,e))}os(){return this.pi?this.pi:this.es()?Ua.K(this.Zr):null}rs(e,t,n){e===this.Ft&&t===this._sessionActivityTimestamp&&n===this._sessionStartTimestamp||(this._sessionStartTimestamp=n,this._sessionActivityTimestamp=t,this.Ft=e,this.Wr.register({[pi]:[t,e,n]}))}ls(){if(this.Ft&&this._sessionActivityTimestamp&&this._sessionStartTimestamp)return[this._sessionActivityTimestamp,this.Ft,this._sessionStartTimestamp];var e=this.Wr.props[pi];return Mn(e)&&2===e.length&&e.push(e[0]),e||[0,null,0]}resetSessionId(){this.rs(null,null,null)}ss(){Ws(ln,"beforeunload",()=>{this.es()&&Ua.X(this.ts)},{capture:!1})}checkAndGetSessionAndWindowId(e,t){if(void 0===e&&(e=!1),void 0===t&&(t=null),"always"===this.A.cookieless_mode)throw new Error('checkAndGetSessionAndWindowId should not be called with cookieless_mode="always"');var n=t||(new Date).getTime(),[s,i,a]=this.ls(),r=this.os(),o=Un(a)&&a>0&&Math.abs(n-a)>864e5,l=!1,c=!i,d=!e&&this.Kr(n,s);c||d||o?(i=this.Yr(),r=this.Xr(),Uc.info("new session ID generated",{sessionId:i,windowId:r,changeReason:{noSessionId:c,activityTimeout:d,sessionPastMaximumLength:o}}),a=n,l=!0):r||(r=this.Xr(),l=!0);var u=0===s||!e||o?n:s,p=0===a?(new Date).getTime():a;return this.ns(r),this.rs(i,u,p),e||this.Qr(),l&&this.Jr.forEach(e=>e(i,r,l?{noSessionId:c,activityTimeout:d,sessionPastMaximumLength:o}:void 0)),{sessionId:i,windowId:r,sessionStartTimestamp:p,changeReason:l?{noSessionId:c,activityTimeout:d,sessionPastMaximumLength:o}:void 0,lastActivityTimestamp:s}}Qr(){clearTimeout(this.us),this.us=setTimeout(()=>{var[e]=this.ls();if(this.Kr((new Date).getTime(),e)){var t=this.Ft;this.resetSessionId(),this.Vr.emit("forcedIdleReset",{idleSessionId:t})}},1.1*this.sessionTimeoutMs)}}var Wc=["$set_once","$set"],qc=Is("[SiteApps]");class Gc{constructor(e){this._instance=e,this.hs=[],this.apps={}}get isEnabled(){return!!this._instance.config.opt_in_site_apps}ds(e,t){if(t){var n=this.globalsForEvent(t);this.hs.push(n),this.hs.length>1e3&&(this.hs=this.hs.slice(10))}}get siteAppLoaders(){var e;return null==(e=yn._POSTHOG_REMOTE_CONFIG)||null==(e=e[this._instance.config.token])?void 0:e.siteApps}init(){if(this.isEnabled){var e=this._instance.Ze(this.ds.bind(this));this.vs=()=>{e(),this.hs=[],this.vs=void 0}}}globalsForEvent(e){var t,n,s,i,a,r,o;if(!e)throw new Error("Event payload is required");var l={},c=this._instance.get_property("$groups")||[],d=this._instance.get_property("$stored_group_properties")||{};for(var[u,p]of Object.entries(d))l[u]={id:c[u],type:u,properties:p};var{$set_once:m,$set:h}=e;return{event:Nn({},Fn(e,Wc),{properties:Nn({},e.properties,h?{$set:Nn({},null!==(t=null==(n=e.properties)?void 0:n.$set)&&void 0!==t?t:{},h)}:{},m?{$set_once:Nn({},null!==(s=null==(i=e.properties)?void 0:i.$set_once)&&void 0!==s?s:{},m)}:{}),elements_chain:null!==(a=null==(r=e.properties)?void 0:r.$elements_chain)&&void 0!==a?a:"",distinct_id:null==(o=e.properties)?void 0:o.distinct_id}),person:{properties:this._instance.get_property("$stored_person_properties")},groups:l}}setupSiteApp(e){var t=this.apps[e.id],n=()=>{var n;!t.errored&&this.hs.length&&(qc.info("Processing "+this.hs.length+" events for site app with id "+e.id),this.hs.forEach(e=>null==t.processEvent?void 0:t.processEvent(e)),t.processedBuffer=!0),Object.values(this.apps).every(e=>e.processedBuffer||e.errored)&&(null==(n=this.vs)||n.call(this))},s=!1,i=i=>{t.errored=!i,t.loaded=!0,qc.info("Site app with id "+e.id+" "+(i?"loaded":"errored")),s&&n()};try{var{processEvent:a}=e.init({posthog:this._instance,callback:e=>{i(e)}});a&&(t.processEvent=a),s=!0}catch(r){qc.error("Error while initializing PostHog app with config id "+e.id,r),i(!1)}if(s&&t.loaded)try{n()}catch(o){qc.error("Error while processing buffered events PostHog app with config id "+e.id,o),t.errored=!0}}cs(){var e=this.siteAppLoaders||[];for(var t of e)this.apps[t.id]={id:t.id,loaded:!1,errored:!1,processedBuffer:!1};for(var n of e)this.setupSiteApp(n)}fs(e){if(0!==Object.keys(this.apps).length){var t=this.globalsForEvent(e);for(var n of Object.values(this.apps))try{null==n.processEvent||n.processEvent(t)}catch(s){qc.error("Error while processing event "+e.event+" for site app "+n.id,s)}}}onRemoteConfig(e){var t,n,s,i=this;if(null!=(t=this.siteAppLoaders)&&t.length)return this.isEnabled?(this.cs(),void this._instance.on("eventCaptured",e=>this.fs(e))):void qc.error('PostHog site apps are disabled. Enable the "opt_in_site_apps" config to proceed.');if(null==(n=this.vs)||n.call(this),null!=(s=e.siteApps)&&s.length)if(this.isEnabled){var a=function(e){var t;yn["__$$ph_site_app_"+e]=i._instance,null==(t=yn.__PosthogExtensions__)||null==t.loadSiteApp||t.loadSiteApp(i._instance,o,t=>{if(t)return qc.error("Error while initializing PostHog app with config id "+e,t)})};for(var{id:r,url:o}of e.siteApps)a(r)}else qc.error('PostHog site apps are disabled. Enable the "opt_in_site_apps" config to proceed.')}}var Zc=["amazonbot","amazonproductbot","app.hypefactors.com","applebot","archive.org_bot","awariobot","backlinksextendedbot","baiduspider","bingbot","bingpreview","chrome-lighthouse","dataforseobot","deepscan","duckduckbot","facebookexternal","facebookcatalog","http://yandex.com/bots","hubspot","ia_archiver","leikibot","linkedinbot","meta-externalagent","mj12bot","msnbot","nessus","petalbot","pinterest","prerender","rogerbot","screaming frog","sebot-wa","sitebulb","slackbot","slurp","trendictionbot","turnitin","twitterbot","vercel-screenshot","vercelbot","yahoo! slurp","yandexbot","zoombot","bot.htm","bot.php","(bot;","bot/","crawler","ahrefsbot","ahrefssiteaudit","semrushbot","siteauditbot","splitsignalbot","gptbot","oai-searchbot","chatgpt-user","perplexitybot","better uptime bot","sentryuptimebot","uptimerobot","headlesschrome","cypress","google-hoteladsverifier","adsbot-google","apis-google","duplexweb-google","feedfetcher-google","google favicon","google web preview","google-read-aloud","googlebot","googleother","google-cloudvertexbot","googleweblight","mediapartners-google","storebot-google","google-inspectiontool","bytespider"],Yc=function(e,t){if(!e)return!1;var n=e.toLowerCase();return Zc.concat(t||[]).some(e=>{var t=e.toLowerCase();return-1!==n.indexOf(t)})},Kc=function(e,t){if(!e)return!1;var n=e.userAgent;if(n&&Yc(n,t))return!0;try{var s=null==e?void 0:e.userAgentData;if(null!=s&&s.brands&&s.brands.some(e=>Yc(null==e?void 0:e.brand,t)))return!0}catch(i){}return!!e.webdriver},Jc=function(e){return e.US="us",e.EU="eu",e.CUSTOM="custom",e}({}),Qc="i.posthog.com";class Xc{constructor(e){this.ps={},this.instance=e}get apiHost(){var e=this.instance.config.api_host.trim().replace(/\/$/,"");return"https://app.posthog.com"===e?"https://us.i.posthog.com":e}get uiHost(){var e,t=null==(e=this.instance.config.ui_host)?void 0:e.replace(/\/$/,"");return t||(t=this.apiHost.replace("."+Qc,".posthog.com")),"https://app.posthog.com"===t?"https://us.posthog.com":t}get region(){return this.ps[this.apiHost]||(/https:\/\/(app|us|us-assets)(\.i)?\.posthog\.com/i.test(this.apiHost)?this.ps[this.apiHost]=Jc.US:/https:\/\/(eu|eu-assets)(\.i)?\.posthog\.com/i.test(this.apiHost)?this.ps[this.apiHost]=Jc.EU:this.ps[this.apiHost]=Jc.CUSTOM),this.ps[this.apiHost]}endpointFor(e,t){if(void 0===t&&(t=""),t&&(t="/"===t[0]?t:"/"+t),"ui"===e)return this.uiHost+t;if(this.region===Jc.CUSTOM)return this.apiHost+t;var n=Qc+t;switch(e){case"assets":return"https://"+this.region+"-assets."+n;case"api":return"https://"+this.region+"."+n}}}var ed={icontains:(e,t)=>!!ln&&t.href.toLowerCase().indexOf(e.toLowerCase())>-1,not_icontains:(e,t)=>!!ln&&-1===t.href.toLowerCase().indexOf(e.toLowerCase()),regex:(e,t)=>!!ln&&qo(t.href,e),not_regex:(e,t)=>!!ln&&!qo(t.href,e),exact:(e,t)=>t.href===e,is_not:(e,t)=>t.href!==e};class td{constructor(e){var t=this;this.getWebExperimentsAndEvaluateDisplayLogic=function(e){void 0===e&&(e=!1),t.getWebExperiments(e=>{td.gs("retrieved web experiments from the server"),t._s=new Map,e.forEach(e=>{if(e.feature_flag_key){var n;t._s&&(td.gs("setting flag key ",e.feature_flag_key," to web experiment ",e),null==(n=t._s)||n.set(e.feature_flag_key,e));var s=t._instance.getFeatureFlag(e.feature_flag_key);zn(s)&&e.variants[s]&&t.ys(e.name,s,e.variants[s].transforms)}else if(e.variants)for(var i in e.variants){var a=e.variants[i];td.bs(a)&&t.ys(e.name,i,a.transforms)}})},e)},this._instance=e,this._instance.onFeatureFlags(e=>{this.onFeatureFlags(e)})}onFeatureFlags(e){if(this._is_bot())td.gs("Refusing to render web experiment since the viewer is a likely bot");else if(!this._instance.config.disable_web_experiments){if($n(this._s))return this._s=new Map,this.loadIfEnabled(),void this.previewWebExperiment();td.gs("applying feature flags",e),e.forEach(e=>{var t;if(this._s&&null!=(t=this._s)&&t.has(e)){var n,s=this._instance.getFeatureFlag(e),i=null==(n=this._s)?void 0:n.get(e);s&&null!=i&&i.variants[s]&&this.ys(i.name,s,i.variants[s].transforms)}})}}previewWebExperiment(){var e=td.getWindowLocation();if(null!=e&&e.search){var t=ga(null==e?void 0:e.search,"__experiment_id"),n=ga(null==e?void 0:e.search,"__experiment_variant");t&&n&&(td.gs("previewing web experiments "+t+" && "+n),this.getWebExperiments(e=>{this.ws(parseInt(t),n,e)},!1,!0))}}loadIfEnabled(){this._instance.config.disable_web_experiments||this.getWebExperimentsAndEvaluateDisplayLogic()}getWebExperiments(e,t,n){if(this._instance.config.disable_web_experiments&&!n)return e([]);var s=this._instance.get_property("$web_experiments");if(s&&!t)return e(s);this._instance.Oe({url:this._instance.requestRouter.endpointFor("api","/api/web_experiments/?token="+this._instance.config.token),method:"GET",callback:t=>{if(200!==t.statusCode||!t.json)return e([]);var n=t.json.experiments||[];return e(n)}})}ws(e,t,n){var s=n.filter(t=>t.id===e);s&&s.length>0&&(td.gs("Previewing web experiment ["+s[0].name+"] with variant ["+t+"]"),this.ys(s[0].name,t,s[0].variants[t].transforms))}static bs(e){return!$n(e.conditions)&&td.Ss(e)&&td.ks(e)}static Ss(e){var t;if($n(e.conditions)||$n(null==(t=e.conditions)?void 0:t.url))return!0;var n,s,i,a=td.getWindowLocation();return!!a&&(null==(n=e.conditions)||!n.url||ed[null!==(s=null==(i=e.conditions)?void 0:i.urlMatchType)&&void 0!==s?s:"icontains"](e.conditions.url,a))}static getWindowLocation(){return null==ln?void 0:ln.location}static ks(e){var t;if($n(e.conditions)||$n(null==(t=e.conditions)?void 0:t.utm))return!0;var n=Ql();if(n.utm_source){var s,i,a,r,o,l,c,d,u=null==(s=e.conditions)||null==(s=s.utm)||!s.utm_campaign||(null==(i=e.conditions)||null==(i=i.utm)?void 0:i.utm_campaign)==n.utm_campaign,p=null==(a=e.conditions)||null==(a=a.utm)||!a.utm_source||(null==(r=e.conditions)||null==(r=r.utm)?void 0:r.utm_source)==n.utm_source,m=null==(o=e.conditions)||null==(o=o.utm)||!o.utm_medium||(null==(l=e.conditions)||null==(l=l.utm)?void 0:l.utm_medium)==n.utm_medium,h=null==(c=e.conditions)||null==(c=c.utm)||!c.utm_term||(null==(d=e.conditions)||null==(d=d.utm)?void 0:d.utm_term)==n.utm_term;return u&&m&&h&&p}return!1}static gs(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),s=1;s<t;s++)n[s-1]=arguments[s];Es.info("[WebExperiments] "+e,n)}ys(e,t,n){this._is_bot()?td.gs("Refusing to render web experiment since the viewer is a likely bot"):"control"!==t?n.forEach(n=>{if(n.selector){var s;td.gs("applying transform of variant "+t+" for experiment "+e+" ",n);var i=null==(s=document)?void 0:s.querySelectorAll(n.selector);null==i||i.forEach(e=>{var t=e;n.html&&(t.innerHTML=n.html),n.css&&t.setAttribute("style",n.css)})}}):td.gs("Control variants leave the page unmodified.")}_is_bot(){return mn&&this._instance?Kc(mn,this._instance.config.custom_blocked_useragents):void 0}}var nd=Is("[PostHog ExternalIntegrations]"),sd={intercom:"intercom-integration",crispChat:"crisp-chat-integration"};class id{constructor(e){this._instance=e}nt(e,t){var n;null==(n=yn.__PosthogExtensions__)||null==n.loadExternalDependency||n.loadExternalDependency(this._instance,e,e=>{if(e)return nd.error("failed to load script",e);t()})}startIfEnabledOrStop(){var e=this,t=function(t){var n,i,a;!s||null!=(n=yn.__PosthogExtensions__)&&null!=(n=n.integrations)&&n[t]||e.nt(sd[t],()=>{var n;null==(n=yn.__PosthogExtensions__)||null==(n=n.integrations)||null==(n=n[t])||n.start(e._instance)}),!s&&null!=(i=yn.__PosthogExtensions__)&&null!=(i=i.integrations)&&i[t]&&(null==(a=yn.__PosthogExtensions__)||null==(a=a.integrations)||null==(a=a[t])||a.stop())};for(var[n,s]of Object.entries(null!==(i=this._instance.config.integrations)&&void 0!==i?i:{})){var i;t(n)}}}var ad="[SessionRecording]",rd=Is(ad);class od{get started(){var e;return!(null==(e=this.$s)||!e.isStarted)}get status(){var e;return(null==(e=this.$s)?void 0:e.status)||"lazy_loading"}constructor(e){if(this._forceAllowLocalhostNetworkCapture=!1,this.ni=void 0,this._instance=e,!this._instance.sessionManager)throw rd.error("started without valid sessionManager"),new Error(ad+" started without valid sessionManager. This is a bug.");if("always"===this._instance.config.cookieless_mode)throw new Error(ad+' cannot be used with cookieless_mode="always"')}get Bt(){var e,t=!(null==(e=this._instance.get_property(si))||!e.enabled),n=!this._instance.config.disable_session_recording,s=this._instance.config.disable_session_recording||this._instance.consent.isOptedOut();return ln&&t&&n&&!s}startIfEnabledOrStop(e){var t;if(!this.Bt||null==(t=this.$s)||!t.isStarted){var n=!On(Object.assign)&&!On(Array.from);this.Bt&&n?(this.xs(e),rd.info("starting")):this.stopRecording()}}xs(e){var t,n,s;this.Bt&&(null!=yn&&null!=(t=yn.__PosthogExtensions__)&&null!=(t=t.rrweb)&&t.record&&null!=(n=yn.__PosthogExtensions__)&&n.initSessionRecording?this.Ri(e):null==(s=yn.__PosthogExtensions__)||null==s.loadExternalDependency||s.loadExternalDependency(this._instance,this.Ii,t=>{if(t)return rd.error("could not load recorder",t);this.Ri(e)}))}stopRecording(){var e;null==(e=this.$s)||e.stop()}ki(){var e;null==(e=this._instance.persistence)||e.unregister(mi)}Ei(e){if(this._instance.persistence){var t,n,s=this._instance.persistence,i=()=>{var t=e.sessionRecording,n=null==t?void 0:t.sampleRate,i=$n(n)?null:parseFloat(n);$n(i)&&this.ki();var a=null==t?void 0:t.minimumDurationMilliseconds;s.register({[si]:Nn({enabled:!!t},t,{networkPayloadCapture:Nn({capturePerformance:e.capturePerformance},null==t?void 0:t.networkPayloadCapture),canvasRecording:{enabled:null==t?void 0:t.recordCanvas,fps:null==t?void 0:t.canvasFps,quality:null==t?void 0:t.canvasQuality},sampleRate:i,minimumDurationMilliseconds:On(a)?null:a,endpoint:null==t?void 0:t.endpoint,triggerMatchType:null==t?void 0:t.triggerMatchType,masking:null==t?void 0:t.masking,urlTriggers:null==t?void 0:t.urlTriggers})})};i(),null==(t=this.ni)||t.call(this),this.ni=null==(n=this._instance.sessionManager)?void 0:n.onSessionId(i)}}onRemoteConfig(e){"sessionRecording"in e?(this.Ei(e),this.startIfEnabledOrStop()):rd.info("skipping remote config with no sessionRecording",e)}log(e,t){var n;void 0===t&&(t="log"),null!=(n=this.$s)&&n.log?this.$s.log(e,t):rd.warn("log called before recorder was ready")}get Ii(){var e,t,n=null==(e=this._instance)||null==(e=e.persistence)?void 0:e.get_property(si);return(null==n||null==(t=n.scriptConfig)?void 0:t.script)||"lazy-recorder"}Ri(e){var t,n;if(null==(t=yn.__PosthogExtensions__)||!t.initSessionRecording)throw Error("Called on script loaded before session recording is available");this.$s||(this.$s=null==(n=yn.__PosthogExtensions__)?void 0:n.initSessionRecording(this._instance),this.$s._forceAllowLocalhostNetworkCapture=this._forceAllowLocalhostNetworkCapture),this.$s.start(e)}onRRwebEmit(e){var t;null==(t=this.$s)||null==t.onRRwebEmit||t.onRRwebEmit(e)}overrideLinkedFlag(){var e;null==(e=this.$s)||e.overrideLinkedFlag()}overrideSampling(){var e;null==(e=this.$s)||e.overrideSampling()}overrideTrigger(e){var t;null==(t=this.$s)||t.overrideTrigger(e)}get sdkDebugProperties(){var e;return(null==(e=this.$s)?void 0:e.sdkDebugProperties)||{$recording_status:this.status}}tryAddCustomEvent(e,t){var n;return!(null==(n=this.$s)||!n.tryAddCustomEvent(e,t))}}var ld={},cd=()=>{},dd="posthog",ud=!Bo&&-1===(null==bn?void 0:bn.indexOf("MSIE"))&&-1===(null==bn?void 0:bn.indexOf("Mozilla")),pd=e=>{var t;return{api_host:"https://us.i.posthog.com",ui_host:null,token:"",autocapture:!0,rageclick:!0,cross_subdomain_cookie:Us(null==hn?void 0:hn.location),persistence:"localStorage+cookie",persistence_name:"",loaded:cd,save_campaign_params:!0,custom_campaign_params:[],custom_blocked_useragents:[],save_referrer:!0,capture_pageview:"2025-05-24"!==e||"history_change",capture_pageleave:"if_capture_pageview",defaults:null!=e?e:"unset",debug:xn&&zn(null==xn?void 0:xn.search)&&-1!==xn.search.indexOf("__posthog_debug=true")||!1,cookie_expiration:365,upgrade:!1,disable_session_recording:!1,disable_persistence:!1,disable_web_experiments:!0,disable_surveys:!1,disable_surveys_automatic_display:!1,disable_external_dependency_loading:!1,enable_recording_console_log:void 0,secure_cookie:"https:"===(null==ln||null==(t=ln.location)?void 0:t.protocol),ip:!1,opt_out_capturing_by_default:!1,opt_out_persistence_by_default:!1,opt_out_useragent_filter:!1,opt_out_capturing_persistence_type:"localStorage",consent_persistence_name:null,opt_out_capturing_cookie_prefix:null,opt_in_site_apps:!1,property_denylist:[],respect_dnt:!1,sanitize_properties:null,request_headers:{},request_batching:!0,properties_string_max_length:65535,session_recording:{},mask_all_element_attributes:!1,mask_all_text:!1,mask_personal_data_properties:!1,custom_personal_data_properties:[],advanced_disable_flags:!1,advanced_disable_decide:!1,advanced_disable_feature_flags:!1,advanced_disable_feature_flags_on_first_load:!1,advanced_only_evaluate_survey_feature_flags:!1,advanced_enable_surveys:!1,advanced_disable_toolbar_metrics:!1,feature_flag_request_timeout_ms:3e3,surveys_request_timeout_ms:1e4,on_request_error:e=>{var t="Bad HTTP status: "+e.statusCode+" "+e.text;Es.error(t)},get_device_id:e=>e,capture_performance:void 0,name:"posthog",bootstrap:{},disable_compression:!1,session_idle_timeout_seconds:1800,person_profiles:"identified_only",before_send:void 0,request_queue_config:{flush_interval_ms:Pc},error_tracking:{},_onCapture:cd,__preview_eager_load_replay:!0}},md=e=>{var t={};On(e.process_person)||(t.person_profiles=e.process_person),On(e.xhr_headers)||(t.request_headers=e.xhr_headers),On(e.cookie_name)||(t.persistence_name=e.cookie_name),On(e.disable_cookie)||(t.disable_persistence=e.disable_cookie),On(e.store_google)||(t.save_campaign_params=e.store_google),On(e.verbose)||(t.debug=e.verbose);var n=Ps({},t,e);return Mn(e.property_blacklist)&&(On(e.property_denylist)?n.property_denylist=e.property_blacklist:Mn(e.property_denylist)?n.property_denylist=[...e.property_blacklist,...e.property_denylist]:Es.error("Invalid value for property_denylist config: "+e.property_denylist)),n};class hd{constructor(){this.__forceAllowLocalhost=!1}get Es(){return this.__forceAllowLocalhost}set Es(e){Es.error("WebPerformanceObserver is deprecated and has no impact on network capture. Use `_forceAllowLocalhostNetworkCapture` on `posthog.sessionRecording`"),this.__forceAllowLocalhost=e}}class xd{get decideEndpointWasHit(){var e,t;return null!==(e=null==(t=this.featureFlags)?void 0:t.hasLoadedFlags)&&void 0!==e&&e}get flagsEndpointWasHit(){var e,t;return null!==(e=null==(t=this.featureFlags)?void 0:t.hasLoadedFlags)&&void 0!==e&&e}constructor(){this.webPerformance=new hd,this.Rs=!1,this.version=wn.LIB_VERSION,this.Is=new jc,this._calculate_event_properties=this.calculateEventProperties.bind(this),this.config=pd(),this.SentryIntegration=Fo,this.sentryIntegration=e=>{return t=No(this,e),{name:Co,processEvent:e=>t(e)};var t},this.__request_queue=[],this.__loaded=!1,this.analyticsDefaultEndpoint="/e/",this.Ps=!1,this.Ts=null,this.Cs=null,this.Ms=null,this.featureFlags=new xc(this),this.toolbar=new Io(this),this.scrollManager=new Bc(this),this.pageViewManager=new zo(this),this.surveys=new Ac(this),this.experiments=new td(this),this.exceptions=new Jo(this),this.rateLimiter=new Dc(this),this.requestRouter=new Xc(this),this.consent=new Wa(this),this.externalIntegrations=new id(this),this.people={set:(e,t,n)=>{var s=zn(e)?{[e]:t}:e;this.setPersonProperties(s),null==n||n({})},set_once:(e,t,n)=>{var s=zn(e)?{[e]:t}:e;this.setPersonProperties(void 0,s),null==n||n({})}},this.on("eventCaptured",e=>Es.info('send "'+(null==e?void 0:e.event)+'"',e))}init(e,t,n){if(n&&n!==dd){var s,i=null!==(s=ld[n])&&void 0!==s?s:new xd;return i._init(e,t,n),ld[n]=i,ld[dd][n]=i,i}return this._init(e,t,n)}_init(e,t,n){var s,i;if(void 0===t&&(t={}),On(e)||Bn(e))return Es.critical("PostHog was initialized without a token. This likely indicates a misconfiguration. Please check the first argument passed to posthog.init()"),this;if(this.__loaded)return Es.warn("You have already initialized PostHog! Re-initializing is a no-op"),this;this.__loaded=!0,this.config={},this.Os=t,this.Fs=[],t.person_profiles&&(this.Cs=t.person_profiles),this.set_config(Ps({},pd(t.defaults),md(t),{name:n,token:e})),this.config.on_xhr_error&&Es.error("on_xhr_error is deprecated. Use on_request_error instead"),this.compression=t.disable_compression?void 0:ha.GZipJS;var a=this.As();this.persistence=new gc(this.config,a),this.sessionPersistence="sessionStorage"===this.config.persistence||"memory"===this.config.persistence?this.persistence:new gc(Nn({},this.config,{persistence:"sessionStorage"}),a);var r=Nn({},this.persistence.props),o=Nn({},this.sessionPersistence.props);this.register({$initialization_time:(new Date).toISOString()}),this.Ds=new Rc(e=>this.js(e),this.config.request_queue_config),this.Ls=new zc(this),this.__request_queue=[];var l="always"===this.config.cookieless_mode||"on_reject"===this.config.cookieless_mode&&this.consent.isExplicitlyOptedOut();if(l||(this.sessionManager=new Vc(this),this.sessionPropsManager=new $c(this,this.sessionManager,this.persistence)),new To(this).startIfEnabledOrStop(),this.siteApps=new Gc(this),null==(s=this.siteApps)||s.init(),l||(this.config.__preview_eager_load_replay?this.sessionRecording=new wo(this):this.sessionRecording=new od(this),this.sessionRecording.startIfEnabledOrStop()),this.config.disable_scroll_properties||this.scrollManager.startMeasuringScrollPosition(),this.autocapture=new Na(this),this.autocapture.startIfEnabled(),this.surveys.loadIfEnabled(),this.heatmaps=new Oo(this),this.heatmaps.startIfEnabled(),this.webVitalsAutocapture=new Lo(this),this.exceptionObserver=new Ja(this),this.exceptionObserver.startIfEnabled(),this.deadClicksAutocapture=new Ya(this,Za),this.deadClicksAutocapture.startIfEnabled(),this.historyAutocapture=new Xa(this),this.historyAutocapture.startIfEnabled(),wn.DEBUG=wn.DEBUG||this.config.debug,wn.DEBUG&&Es.info("Starting in debug mode",{this:this,config:t,thisC:Nn({},this.config),p:r,s:o}),void 0!==(null==(i=t.bootstrap)?void 0:i.distinctID)){var c,d,u=this.config.get_device_id(Aa()),p=null!=(c=t.bootstrap)&&c.isIdentifiedID?u:t.bootstrap.distinctID;this.persistence.set_property(Ni,null!=(d=t.bootstrap)&&d.isIdentifiedID?"identified":"anonymous"),this.register({distinct_id:t.bootstrap.distinctID,$device_id:p})}if(this.Ns()){var m,h,x=Object.keys((null==(m=t.bootstrap)?void 0:m.featureFlags)||{}).filter(e=>{var n;return!(null==(n=t.bootstrap)||null==(n=n.featureFlags)||!n[e])}).reduce((e,n)=>{var s;return e[n]=(null==(s=t.bootstrap)||null==(s=s.featureFlags)?void 0:s[n])||!1,e},{}),f=Object.keys((null==(h=t.bootstrap)?void 0:h.featureFlagPayloads)||{}).filter(e=>x[e]).reduce((e,n)=>{var s,i;return null!=(s=t.bootstrap)&&null!=(s=s.featureFlagPayloads)&&s[n]&&(e[n]=null==(i=t.bootstrap)||null==(i=i.featureFlagPayloads)?void 0:i[n]),e},{});this.featureFlags.receivedFeatureFlags({featureFlags:x,featureFlagPayloads:f})}if(l)this.register_once({distinct_id:Ti,$device_id:null},"");else if(!this.get_distinct_id()){var g=this.config.get_device_id(Aa());this.register_once({distinct_id:g,$device_id:g},""),this.persistence.set_property(Ni,"anonymous")}return Ws(ln,"onpagehide"in self?"pagehide":"unload",this._handle_unload.bind(this),{passive:!1}),this.toolbar.maybeLoadToolbar(),t.segment?function(e,t){var n=e.config.segment;if(!n)return t();!function(e,t){var n=e.config.segment;if(!n)return t();var s=n=>{var s=()=>n.anonymousId()||Aa();e.config.get_device_id=s,n.id()&&(e.register({distinct_id:n.id(),$device_id:s()}),e.persistence.set_property(Ni,"identified")),t()},i=n.user();"then"in i&&Ln(i.then)?i.then(e=>s(e)):s(i)}(e,()=>{n.register((e=>{Promise&&Promise.resolve||jo.warn("This browser does not have Promise support, and can not use the segment integration");var t=(t,n)=>{if(!n)return t;t.event.userId||t.event.anonymousId===e.get_distinct_id()||(jo.info("No userId set, resetting PostHog"),e.reset()),t.event.userId&&t.event.userId!==e.get_distinct_id()&&(jo.info("UserId set, identifying with PostHog"),e.identify(t.event.userId));var s=e.calculateEventProperties(n,t.event.properties);return t.event.properties=Object.assign({},s,t.event.properties),t};return{name:"PostHog JS",type:"enrichment",version:"1.0.0",isLoaded:()=>!0,load:()=>Promise.resolve(),track:e=>t(e,e.event.event),page:e=>t(e,"$pageview"),identify:e=>t(e,"$identify"),screen:e=>t(e,"$screen")}})(e)).then(()=>{t()})})}(this,()=>this.Us()):this.Us(),Ln(this.config._onCapture)&&this.config._onCapture!==cd&&(Es.warn("onCapture is deprecated. Please use `before_send` instead"),this.on("eventCaptured",e=>this.config._onCapture(e.event,e))),this.config.ip&&Es.warn('The `ip` config option has NO EFFECT AT ALL and has been deprecated. Use a custom transformation or "Discard IP data" project setting instead. See https://posthog.com/tutorials/web-redact-properties#hiding-customer-ip-address for more information.'),this}Fe(e){var t,n,s,i,a,r,o,l;if(!hn||!hn.body)return Es.info("document not ready yet, trying again in 500 milliseconds..."),void setTimeout(()=>{this.Fe(e)},500);this.compression=void 0,e.supportedCompression&&!this.config.disable_compression&&(this.compression=kn(e.supportedCompression,ha.GZipJS)?ha.GZipJS:kn(e.supportedCompression,ha.Base64)?ha.Base64:void 0),null!=(t=e.analytics)&&t.endpoint&&(this.analyticsDefaultEndpoint=e.analytics.endpoint),this.set_config({person_profiles:this.Cs?this.Cs:"identified_only"}),null==(n=this.siteApps)||n.onRemoteConfig(e),null==(s=this.sessionRecording)||s.onRemoteConfig(e),null==(i=this.autocapture)||i.onRemoteConfig(e),null==(a=this.heatmaps)||a.onRemoteConfig(e),this.surveys.onRemoteConfig(e),null==(r=this.webVitalsAutocapture)||r.onRemoteConfig(e),null==(o=this.exceptionObserver)||o.onRemoteConfig(e),this.exceptions.onRemoteConfig(e),null==(l=this.deadClicksAutocapture)||l.onRemoteConfig(e)}Us(){try{this.config.loaded(this)}catch(pa){Es.critical("`loaded` function failed",pa)}this.zs(),this.config.capture_pageview&&setTimeout(()=>{(this.consent.isOptedIn()||"always"===this.config.cookieless_mode)&&this.Bs()},1),new Lc(this).load(),this.featureFlags.flags()}zs(){var e;this.is_capturing()&&this.config.request_batching&&(null==(e=this.Ds)||e.enable())}_dom_loaded(){this.is_capturing()&&Ms(this.__request_queue,e=>this.js(e)),this.__request_queue=[],this.zs()}_handle_unload(){var e,t;this.config.request_batching?(this.qs()&&this.capture("$pageleave"),null==(e=this.Ds)||e.unload(),null==(t=this.Ls)||t.unload()):this.qs()&&this.capture("$pageleave",null,{transport:"sendBeacon"})}Oe(e){this.__loaded&&(ud?this.__request_queue.push(e):this.rateLimiter.isServerRateLimited(e.batchKey)||(e.transport=e.transport||this.config.api_transport,e.url=$o(e.url,{ip:this.config.ip?1:0}),e.headers=Nn({},this.config.request_headers),e.compression="best-available"===e.compression?this.compression:e.compression,e.disableXHRCredentials=this.config.__preview_disable_xhr_credentials,this.config.__preview_disable_beacon&&(e.disableTransport=["sendBeacon"]),e.fetchOptions=e.fetchOptions||this.config.fetch_options,(e=>{var t,n,s,i=Nn({},e);i.timeout=i.timeout||6e4,i.url=$o(i.url,{_:(new Date).getTime().toString(),ver:wn.LIB_VERSION,compression:i.compression});var a=null!==(t=i.transport)&&void 0!==t?t:"fetch",r=Wo.filter(e=>!i.disableTransport||!e.transport||!i.disableTransport.includes(e.transport)),o=null!==(n=null==(s=Vs(r,e=>e.transport===a))?void 0:s.method)&&void 0!==n?n:r[0].method;if(!o)throw new Error("No available transport method");o(i)})(Nn({},e,{callback:t=>{var n,s;this.rateLimiter.checkForLimiting(t),t.statusCode>=400&&(null==(n=(s=this.config).on_request_error)||n.call(s,t)),null==e.callback||e.callback(t)}}))))}js(e){this.Ls?this.Ls.retriableRequest(e):this.Oe(e)}_execute_array(e){var t,n=[],s=[],i=[];Ms(e,e=>{e&&(t=e[0],Mn(t)?i.push(e):Ln(e)?e.call(this):Mn(e)&&"alias"===t?n.push(e):Mn(e)&&-1!==t.indexOf("capture")&&Ln(this[t])?i.push(e):s.push(e))});var a=function(e,t){Ms(e,function(e){if(Mn(e[0])){var n=t;Ls(e,function(e){n=n[e[0]].apply(n,e.slice(1))})}else this[e[0]].apply(this,e.slice(1))},t)};a(n,this),a(s,this),a(i,this)}Ns(){var e,t;return(null==(e=this.config.bootstrap)?void 0:e.featureFlags)&&Object.keys(null==(t=this.config.bootstrap)?void 0:t.featureFlags).length>0||!1}push(e){this._execute_array([e])}capture(e,t,n){var s;if(this.__loaded&&this.persistence&&this.sessionPersistence&&this.Ds){if(this.is_capturing())if(!On(e)&&zn(e)){if(this.config.opt_out_useragent_filter||!this._is_bot()){var i=null!=n&&n.skip_client_rate_limiting?void 0:this.rateLimiter.clientRateLimitContext();if(null==i||!i.isRateLimited){null!=t&&t.$current_url&&!zn(null==t?void 0:t.$current_url)&&(Es.error("Invalid `$current_url` property provided to `posthog.capture`. Input must be a string. Ignoring provided value."),null==t||delete t.$current_url),this.sessionPersistence.update_search_keyword(),this.config.save_campaign_params&&this.sessionPersistence.update_campaign_params(),this.config.save_referrer&&this.sessionPersistence.update_referrer_info(),(this.config.save_campaign_params||this.config.save_referrer)&&this.persistence.set_initial_person_info();var a=new Date,r=(null==n?void 0:n.timestamp)||a,o=Aa(),l={uuid:o,event:e,properties:this.calculateEventProperties(e,t||{},r,o)};i&&(l.properties.$lib_rate_limit_remaining_tokens=i.remainingTokens),(null==n?void 0:n.$set)&&(l.$set=null==n?void 0:n.$set);var c,d=this.Hs(null==n?void 0:n.$set_once);if(d&&(l.$set_once=d),(l=function(e,t){return n=e,s=e=>zn(e)&&!Hn(t)?e.slice(0,t):e,i=new Set,function e(t,n){return t!==Object(t)?s?s(t):t:i.has(t)?void 0:(i.add(t),Mn(t)?(a=[],Ms(t,t=>{a.push(e(t))})):(a={},Ls(t,(t,n)=>{i.has(t)||(a[n]=e(t,n))})),a);var a}(n);var n,s,i}(l,null!=n&&n._noTruncate?null:this.config.properties_string_max_length)).timestamp=r,On(null==n?void 0:n.timestamp)||(l.properties.$event_time_override_provided=!0,l.properties.$event_time_override_system_time=a),e===bc.DISMISSED||e===bc.SENT){var u=null==t?void 0:t[yc.SURVEY_ID],p=null==t?void 0:t[yc.SURVEY_ITERATION];c={id:u,current_iteration:p},localStorage.getItem(kc(c))||localStorage.setItem(kc(c),"true"),l.$set=Nn({},l.$set,{[_c({id:u,current_iteration:p},e===bc.SENT?"responded":"dismissed")]:!0})}var m=Nn({},l.properties.$set,l.$set);if(Rn(m)||this.setPersonPropertiesForFlags(m),!$n(this.config.before_send)){var h=this.Ws(l);if(!h)return;l=h}this.Is.emit("eventCaptured",l);var x={method:"POST",url:null!==(s=null==n?void 0:n._url)&&void 0!==s?s:this.requestRouter.endpointFor("api",this.analyticsDefaultEndpoint),data:l,compression:"best-available",batchKey:null==n?void 0:n._batchKey};return!this.config.request_batching||n&&(null==n||!n._batchKey)||null!=n&&n.send_instantly?this.js(x):this.Ds.enqueue(x),l}Es.critical("This capture call is ignored due to client rate limiting.")}}else Es.error("No event name provided to posthog.capture")}else Es.uninitializedWarning("posthog.capture")}Ze(e){return this.on("eventCaptured",t=>e(t.event,t))}calculateEventProperties(e,t,n,s,i){if(n=n||new Date,!this.persistence||!this.sessionPersistence)return t;var a=i?void 0:this.persistence.remove_event_timer(e),r=Nn({},t);if(r.token=this.config.token,r.$config_defaults=this.config.defaults,("always"==this.config.cookieless_mode||"on_reject"==this.config.cookieless_mode&&this.consent.isExplicitlyOptedOut())&&(r.$cookieless_mode=!0),"$snapshot"===e){var o=Nn({},this.persistence.properties(),this.sessionPersistence.properties());return r.distinct_id=o.distinct_id,(!zn(r.distinct_id)&&!Un(r.distinct_id)||Bn(r.distinct_id))&&Es.error("Invalid distinct_id for replay event. This indicates a bug in your implementation"),r}var l,c=function(e,t){if(!bn)return{};var n,s,i,a=e?Rs([],Zl,t||[]):[],[r,o]=function(e){for(var t=0;t<Wl.length;t++){var[n,s]=Wl[t],i=n.exec(e),a=i&&(Ln(s)?s(i,e):s);if(a)return a}return["",""]}(bn);return Ps(Hs({$os:r,$os_version:o,$browser:$l(bn,navigator.vendor),$device:ql(bn),$device_type:(s=bn,i=ql(s),i===sl||i===nl||"Kobo"===i||"Kindle Fire"===i||i===Dl?tl:i===jl||i===Nl||i===Cl||i===Il?"Console":i===al?"Wearable":i?Qo:"Desktop"),$timezone:ac(),$timezone_offset:rc()}),{$current_url:va(null==xn?void 0:xn.href,a,Kl),$host:null==xn?void 0:xn.host,$pathname:null==xn?void 0:xn.pathname,$raw_user_agent:bn.length>1e3?bn.substring(0,997)+"...":bn,$browser_version:Vl(bn,navigator.vendor),$browser_language:tc(),$browser_language_prefix:(n=tc(),"string"==typeof n?n.split("-")[0]:void 0),$screen_height:null==ln?void 0:ln.screen.height,$screen_width:null==ln?void 0:ln.screen.width,$viewport_height:null==ln?void 0:ln.innerHeight,$viewport_width:null==ln?void 0:ln.innerWidth,$lib:"web",$lib_version:wn.LIB_VERSION,$insert_id:Math.random().toString(36).substring(2,10)+Math.random().toString(36).substring(2,10),$time:Date.now()/1e3})}(this.config.mask_personal_data_properties,this.config.custom_personal_data_properties);if(this.sessionManager){var{sessionId:d,windowId:u}=this.sessionManager.checkAndGetSessionAndWindowId(i,n.getTime());r.$session_id=d,r.$window_id=u}this.sessionPropsManager&&Ps(r,this.sessionPropsManager.getSessionProps());try{var p;this.sessionRecording&&Ps(r,this.sessionRecording.sdkDebugProperties),r.$sdk_debug_retry_queue_size=null==(p=this.Ls)?void 0:p.length}catch(f){r.$sdk_debug_error_capturing_properties=String(f)}if(this.requestRouter.region===Jc.CUSTOM&&(r.$lib_custom_api_host=this.config.api_host),l="$pageview"!==e||i?"$pageleave"!==e||i?this.pageViewManager.doEvent():this.pageViewManager.doPageLeave(n):this.pageViewManager.doPageView(n,s),r=Ps(r,l),"$pageview"===e&&hn&&(r.title=hn.title),!On(a)){var m=n.getTime()-a;r.$duration=parseFloat((m/1e3).toFixed(3))}bn&&this.config.opt_out_useragent_filter&&(r.$browser_type=this._is_bot()?"bot":"browser"),(r=Ps({},c,this.persistence.properties(),this.sessionPersistence.properties(),r)).$is_identified=this._isIdentified(),Mn(this.config.property_denylist)?Ls(this.config.property_denylist,function(e){delete r[e]}):Es.error("Invalid value for property_denylist config: "+this.config.property_denylist+" or property_blacklist config: "+this.config.property_blacklist);var h=this.config.sanitize_properties;h&&(Es.error("sanitize_properties is deprecated. Use before_send instead"),r=h(r,e));var x=this.Gs();return r.$process_person_profile=x,x&&!i&&this.Vs("_calculate_event_properties"),r}Hs(e){var t;if(!this.persistence||!this.Gs())return e;if(this.Rs)return e;var n=this.persistence.get_initial_props(),s=null==(t=this.sessionPropsManager)?void 0:t.getSetOnceProps(),i=Ps({},n,s||{},e||{}),a=this.config.sanitize_properties;return a&&(Es.error("sanitize_properties is deprecated. Use before_send instead"),i=a(i,"$set_once")),this.Rs=!0,Rn(i)?void 0:i}register(e,t){var n;null==(n=this.persistence)||n.register(e,t)}register_once(e,t,n){var s;null==(s=this.persistence)||s.register_once(e,t,n)}register_for_session(e){var t;null==(t=this.sessionPersistence)||t.register(e)}unregister(e){var t;null==(t=this.persistence)||t.unregister(e)}unregister_for_session(e){var t;null==(t=this.sessionPersistence)||t.unregister(e)}Js(e,t){this.register({[e]:t})}getFeatureFlag(e,t){return this.featureFlags.getFeatureFlag(e,t)}getFeatureFlagPayload(e){var t=this.featureFlags.getFeatureFlagPayload(e);try{return JSON.parse(t)}catch(n){return t}}isFeatureEnabled(e,t){return this.featureFlags.isFeatureEnabled(e,t)}reloadFeatureFlags(){this.featureFlags.reloadFeatureFlags()}updateEarlyAccessFeatureEnrollment(e,t,n){this.featureFlags.updateEarlyAccessFeatureEnrollment(e,t,n)}getEarlyAccessFeatures(e,t,n){return void 0===t&&(t=!1),this.featureFlags.getEarlyAccessFeatures(e,t,n)}on(e,t){return this.Is.on(e,t)}onFeatureFlags(e){return this.featureFlags.onFeatureFlags(e)}onSurveysLoaded(e){return this.surveys.onSurveysLoaded(e)}onSessionId(e){var t,n;return null!==(t=null==(n=this.sessionManager)?void 0:n.onSessionId(e))&&void 0!==t?t:()=>{}}getSurveys(e,t){void 0===t&&(t=!1),this.surveys.getSurveys(e,t)}getActiveMatchingSurveys(e,t){void 0===t&&(t=!1),this.surveys.getActiveMatchingSurveys(e,t)}renderSurvey(e,t){this.surveys.renderSurvey(e,t)}displaySurvey(e,t){void 0===t&&(t=Ec),this.surveys.displaySurvey(e,t)}canRenderSurvey(e){return this.surveys.canRenderSurvey(e)}canRenderSurveyAsync(e,t){return void 0===t&&(t=!1),this.surveys.canRenderSurveyAsync(e,t)}identify(e,t,n){if(!this.__loaded||!this.persistence)return Es.uninitializedWarning("posthog.identify");if(Un(e)&&(e=e.toString(),Es.warn("The first argument to posthog.identify was a number, but it should be a string. It has been converted to a string.")),e)if(["distinct_id","distinctid"].includes(e.toLowerCase()))Es.critical('The string "'+e+'" was set in posthog.identify which indicates an error. This ID should be unique to the user and not a hardcoded string.');else if(e!==Ti){if(this.Vs("posthog.identify")){var s=this.get_distinct_id();if(this.register({$user_id:e}),!this.get_property("$device_id")){var i=s;this.register_once({$had_persisted_distinct_id:!0,$device_id:i},"")}e!==s&&e!==this.get_property(Gs)&&(this.unregister(Gs),this.register({distinct_id:e}));var a="anonymous"===(this.persistence.get_property(Ni)||"anonymous");e!==s&&a?(this.persistence.set_property(Ni,"identified"),this.setPersonPropertiesForFlags(Nn({},n||{},t||{}),!1),this.capture("$identify",{distinct_id:e,$anon_distinct_id:s},{$set:t||{},$set_once:n||{}}),this.Ms=Go(e,t,n),this.featureFlags.setAnonymousDistinctId(s)):(t||n)&&this.setPersonProperties(t,n),e!==s&&(this.reloadFeatureFlags(),this.unregister(Ci))}}else Es.critical('The string "'+Ti+'" was set in posthog.identify which indicates an error. This ID is only used as a sentinel value.');else Es.error("Unique user id has not been set in posthog.identify")}setPersonProperties(e,t){if((e||t)&&this.Vs("posthog.setPersonProperties")){var n=Go(this.get_distinct_id(),e,t);this.Ms!==n?(this.setPersonPropertiesForFlags(Nn({},t||{},e||{})),this.capture("$set",{$set:e||{},$set_once:t||{}}),this.Ms=n):Es.info("A duplicate setPersonProperties call was made with the same properties. It has been ignored.")}}group(e,t,n){if(e&&t){if(this.Vs("posthog.group")){var s=this.getGroups();s[e]!==t&&this.resetGroupPropertiesForFlags(e),this.register({$groups:Nn({},s,{[e]:t})}),n&&(this.capture("$groupidentify",{$group_type:e,$group_key:t,$group_set:n}),this.setGroupPropertiesForFlags({[e]:n})),s[e]===t||n||this.reloadFeatureFlags()}}else Es.error("posthog.group requires a group type and group key")}resetGroups(){this.register({$groups:{}}),this.resetGroupPropertiesForFlags(),this.reloadFeatureFlags()}setPersonPropertiesForFlags(e,t){void 0===t&&(t=!0),this.featureFlags.setPersonPropertiesForFlags(e,t)}resetPersonPropertiesForFlags(){this.featureFlags.resetPersonPropertiesForFlags()}setGroupPropertiesForFlags(e,t){void 0===t&&(t=!0),this.Vs("posthog.setGroupPropertiesForFlags")&&this.featureFlags.setGroupPropertiesForFlags(e,t)}resetGroupPropertiesForFlags(e){this.featureFlags.resetGroupPropertiesForFlags(e)}reset(e){var t,n,s,i;if(Es.info("reset"),!this.__loaded)return Es.uninitializedWarning("posthog.reset");var a=this.get_property("$device_id");if(this.consent.reset(),null==(t=this.persistence)||t.clear(),null==(n=this.sessionPersistence)||n.clear(),this.surveys.reset(),this.featureFlags.reset(),null==(s=this.persistence)||s.set_property(Ni,"anonymous"),null==(i=this.sessionManager)||i.resetSessionId(),this.Ms=null,"always"===this.config.cookieless_mode)this.register_once({distinct_id:Ti,$device_id:null},"");else{var r=this.config.get_device_id(Aa());this.register_once({distinct_id:r,$device_id:e?r:a},"")}this.register({$last_posthog_reset:(new Date).toISOString()},1)}get_distinct_id(){return this.get_property("distinct_id")}getGroups(){return this.get_property("$groups")||{}}get_session_id(){var e,t;return null!==(e=null==(t=this.sessionManager)?void 0:t.checkAndGetSessionAndWindowId(!0).sessionId)&&void 0!==e?e:""}get_session_replay_url(e){if(!this.sessionManager)return"";var{sessionId:t,sessionStartTimestamp:n}=this.sessionManager.checkAndGetSessionAndWindowId(!0),s=this.requestRouter.endpointFor("ui","/project/"+this.config.token+"/replay/"+t);if(null!=e&&e.withTimestamp&&n){var i,a=null!==(i=e.timestampLookBack)&&void 0!==i?i:10;if(!n)return s;s+="?t="+Math.max(Math.floor(((new Date).getTime()-n)/1e3)-a,0)}return s}alias(e,t){return e===this.get_property(qs)?(Es.critical("Attempting to create alias for existing People user - aborting."),-2):this.Vs("posthog.alias")?(On(t)&&(t=this.get_distinct_id()),e!==t?(this.Js(Gs,e),this.capture("$create_alias",{alias:e,distinct_id:t})):(Es.warn("alias matches current distinct_id - skipping api call."),this.identify(e),-1)):void 0}set_config(e){var t=Nn({},this.config);if(Pn(e)){var n,s,i,a,r;Ps(this.config,md(e));var o=this.As();null==(n=this.persistence)||n.update_config(this.config,t,o),this.sessionPersistence="sessionStorage"===this.config.persistence||"memory"===this.config.persistence?this.persistence:new gc(Nn({},this.config,{persistence:"sessionStorage"}),o),Ra.G()&&"true"===Ra.J("ph_debug")&&(this.config.debug=!0),this.config.debug&&(wn.DEBUG=!0,Es.info("set_config",{config:e,oldConfig:t,newConfig:Nn({},this.config)})),null==(s=this.sessionRecording)||s.startIfEnabledOrStop(),null==(i=this.autocapture)||i.startIfEnabled(),null==(a=this.heatmaps)||a.startIfEnabled(),this.surveys.loadIfEnabled(),this.Ks(),null==(r=this.externalIntegrations)||r.startIfEnabledOrStop()}}startSessionRecording(e){var t,n,s,i,a,r=!0===e,o={sampling:r||!(null==e||!e.sampling),linked_flag:r||!(null==e||!e.linked_flag),url_trigger:r||!(null==e||!e.url_trigger),event_trigger:r||!(null==e||!e.event_trigger)};Object.values(o).some(Boolean)&&(null==(t=this.sessionManager)||t.checkAndGetSessionAndWindowId(),o.sampling&&(null==(n=this.sessionRecording)||n.overrideSampling()),o.linked_flag&&(null==(s=this.sessionRecording)||s.overrideLinkedFlag()),o.url_trigger&&(null==(i=this.sessionRecording)||i.overrideTrigger("url")),o.event_trigger&&(null==(a=this.sessionRecording)||a.overrideTrigger("event")));this.set_config({disable_session_recording:!1})}stopSessionRecording(){this.set_config({disable_session_recording:!0})}sessionRecordingStarted(){var e;return!(null==(e=this.sessionRecording)||!e.started)}captureException(e,t){var n=new Error("PostHog syntheticException"),s=this.exceptions.buildProperties(e,{handled:!0,syntheticException:n});return this.exceptions.sendExceptionEvent(Nn({},s,t))}loadToolbar(e){return this.toolbar.loadToolbar(e)}get_property(e){var t;return null==(t=this.persistence)?void 0:t.props[e]}getSessionProperty(e){var t;return null==(t=this.sessionPersistence)?void 0:t.props[e]}toString(){var e,t=null!==(e=this.config.name)&&void 0!==e?e:dd;return t!==dd&&(t=dd+"."+t),t}_isIdentified(){var e,t;return"identified"===(null==(e=this.persistence)?void 0:e.get_property(Ni))||"identified"===(null==(t=this.sessionPersistence)?void 0:t.get_property(Ni))}Gs(){var e,t;return!("never"===this.config.person_profiles||"identified_only"===this.config.person_profiles&&!this._isIdentified()&&Rn(this.getGroups())&&(null==(e=this.persistence)||null==(e=e.props)||!e[Gs])&&(null==(t=this.persistence)||null==(t=t.props)||!t[Ii]))}qs(){return!0===this.config.capture_pageleave||"if_capture_pageview"===this.config.capture_pageleave&&(!0===this.config.capture_pageview||"history_change"===this.config.capture_pageview)}createPersonProfile(){this.Gs()||this.Vs("posthog.createPersonProfile")&&this.setPersonProperties({},{})}Vs(e){return"never"===this.config.person_profiles?(Es.error(e+' was called, but process_person is set to "never". This call will be ignored.'),!1):(this.Js(Ii,!0),!0)}As(){if("always"===this.config.cookieless_mode)return!0;var e=this.consent.isOptedOut(),t=this.config.opt_out_persistence_by_default||"on_reject"===this.config.cookieless_mode;return this.config.disable_persistence||e&&!!t}Ks(){var e,t,n,s,i=this.As();return(null==(e=this.persistence)?void 0:e.Ue)!==i&&(null==(n=this.persistence)||n.set_disabled(i)),(null==(t=this.sessionPersistence)?void 0:t.Ue)!==i&&(null==(s=this.sessionPersistence)||s.set_disabled(i)),i}opt_in_capturing(e){var t;"always"!==this.config.cookieless_mode?("on_reject"===this.config.cookieless_mode&&this.consent.isExplicitlyOptedOut()&&(this.reset(!0),this.sessionManager=new Vc(this),this.persistence&&(this.sessionPropsManager=new $c(this,this.sessionManager,this.persistence)),this.sessionRecording=new wo(this),this.sessionRecording.startIfEnabledOrStop()),this.consent.optInOut(!0),this.Ks(),"on_reject"==this.config.cookieless_mode&&this.surveys.loadIfEnabled(),(On(null==e?void 0:e.captureEventName)||null!=e&&e.captureEventName)&&this.capture(null!==(t=null==e?void 0:e.captureEventName)&&void 0!==t?t:"$opt_in",null==e?void 0:e.captureProperties,{send_instantly:!0}),this.config.capture_pageview&&this.Bs()):Es.warn('Consent opt in/out is not valid with cookieless_mode="always" and will be ignored')}opt_out_capturing(){var e;"always"!==this.config.cookieless_mode?("on_reject"===this.config.cookieless_mode&&this.consent.isOptedIn()&&this.reset(!0),this.consent.optInOut(!1),this.Ks(),"on_reject"===this.config.cookieless_mode&&(this.register({distinct_id:Ti,$device_id:null}),this.sessionManager=void 0,this.sessionPropsManager=void 0,null==(e=this.sessionRecording)||e.stopRecording(),this.sessionRecording=void 0,this.Bs())):Es.warn('Consent opt in/out is not valid with cookieless_mode="always" and will be ignored')}has_opted_in_capturing(){return this.consent.isOptedIn()}has_opted_out_capturing(){return this.consent.isOptedOut()}get_explicit_consent_status(){var e=this.consent.consent;return e===Va.GRANTED?"granted":e===Va.DENIED?"denied":"pending"}is_capturing(){return"always"===this.config.cookieless_mode||("on_reject"===this.config.cookieless_mode?this.consent.isExplicitlyOptedOut()||this.consent.isOptedIn():!this.has_opted_out_capturing())}clear_opt_in_out_capturing(){this.consent.reset(),this.Ks()}_is_bot(){return mn?Kc(mn,this.config.custom_blocked_useragents):void 0}Bs(){hn&&("visible"===hn.visibilityState?this.Ps||(this.Ps=!0,this.capture("$pageview",{title:hn.title},{send_instantly:!0}),this.Ts&&(hn.removeEventListener("visibilitychange",this.Ts),this.Ts=null)):this.Ts||(this.Ts=this.Bs.bind(this),Ws(hn,"visibilitychange",this.Ts)))}debug(e){!1===e?(null==ln||ln.console.log("You've disabled debug mode."),localStorage&&localStorage.removeItem("ph_debug"),this.set_config({debug:!1})):(null==ln||ln.console.log("You're now in debug mode. All calls to PostHog will be logged in your console.\nYou can disable this with `posthog.debug(false)`."),localStorage&&localStorage.setItem("ph_debug","true"),this.set_config({debug:!0}))}L(){var e,t,n,s,i,a,r=this.Os||{};return"advanced_disable_flags"in r?!!r.advanced_disable_flags:!1!==this.config.advanced_disable_flags?!!this.config.advanced_disable_flags:!0===this.config.advanced_disable_decide?(Es.warn("Config field 'advanced_disable_decide' is deprecated. Please use 'advanced_disable_flags' instead. The old field will be removed in a future major version."),!0):(n="advanced_disable_decide",s=Es,i=(t="advanced_disable_flags")in(e=r)&&!On(e[t]),a=n in e&&!On(e[n]),i?e[t]:!!a&&(s&&s.warn("Config field '"+n+"' is deprecated. Please use '"+t+"' instead. The old field will be removed in a future major version."),e[n]))}Ws(e){if($n(this.config.before_send))return e;var t=Mn(this.config.before_send)?this.config.before_send:[this.config.before_send],n=e;for(var s of t){if(n=s(n),$n(n)){var i="Event '"+e.event+"' was rejected in beforeSend function";return Wn(e.event)?Es.warn(i+". This can cause unexpected behavior."):Es.info(i),null}n.properties&&!Rn(n.properties)||Es.warn("Event '"+e.event+"' has no properties after beforeSend function, this is likely an error.")}return n}getPageViewId(){var e;return null==(e=this.pageViewManager.pe)?void 0:e.pageViewId}captureTraceFeedback(e,t){this.capture("$ai_feedback",{$ai_trace_id:String(e),$ai_feedback_text:t})}captureTraceMetric(e,t,n){this.capture("$ai_metric",{$ai_trace_id:String(e),$ai_metric_name:t,$ai_metric_value:String(n)})}}!function(e,t){for(var n=0;n<t.length;n++)e.prototype[t[n]]=Bs(e.prototype[t[n]])}(xd,["identify"]);var fd,gd,vd,bd,yd=(fd=ld[dd]=new xd,function(){function e(){e.done||(e.done=!0,ud=!1,Ls(ld,function(e){e._dom_loaded()}))}null!=hn&&hn.addEventListener?"complete"===hn.readyState?e():Ws(hn,"DOMContentLoaded",e,{capture:!1}):ln&&Es.error("Browser doesn't support `document.addEventListener` so PostHog couldn't be initialized")}(),fd),wd={},jd={},Cd={};function Nd(){if(gd)return Cd;function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(){}gd=1,Cd.__esModule=!0,Cd.default=function(t){var s="".concat(t,"Storage");return function(t){if("object"!==("undefined"==typeof self?"undefined":e(self))||!(t in self))return!1;try{var n=self[t],s="redux-persist ".concat(t," test");n.setItem(s,"test"),n.getItem(s),n.removeItem(s)}catch(i){return!1}return!0}(s)?self[s]:n};var n={getItem:t,setItem:t,removeItem:t};return Cd}function Fd(){if(vd)return jd;vd=1,jd.__esModule=!0,jd.default=function(e){var n=(0,t.default)(e);return{getItem:function(e){return new Promise(function(t,s){t(n.getItem(e))})},setItem:function(e,t){return new Promise(function(s,i){s(n.setItem(e,t))})},removeItem:function(e){return new Promise(function(t,s){t(n.removeItem(e))})}}};var e,t=(e=Nd())&&e.__esModule?e:{default:e};return jd}const _d=Te(function(){if(bd)return wd;var e;bd=1,wd.__esModule=!0,wd.default=void 0;var t=(0,((e=Fd())&&e.__esModule?e:{default:e}).default)("local");return wd.default=t,wd}());var kd,Sd={};const Ed=Te(function(){if(kd)return Sd;var e;kd=1,Sd.__esModule=!0,Sd.default=void 0;var t=(0,((e=Fd())&&e.__esModule?e:{default:e}).default)("session");return Sd.default=t,Sd}()),Id={isVisible:!1,progress:0,title:"",description:"",error:void 0,steps:[],currentStep:-1},Ad=Ge({name:"progress",initialState:{tabProgress:{},activeTabId:null},reducers:{setActiveTabId:(e,t)=>{e.activeTabId=t.payload},showProgress:(e,t)=>{const{tabId:n,title:s,description:i,steps:a}=t.payload;e.tabProgress[n]||(e.tabProgress[n]={...Id});const r=e.tabProgress[n];r.isVisible=!0,r.progress=0,r.title=s,r.description=i,r.error=void 0,r.steps=a,r.currentStep=a.findIndex(e=>"in_progress"===e.status)},updateProgress:(e,t)=>{const{tabId:n,progress:s}=t.payload;e.tabProgress[n]||(e.tabProgress[n]={...Id});const i=e.tabProgress[n];i.progress=s,100===s&&(i.steps=i.steps.map(e=>({...e,status:"completed"})),i.currentStep=i.steps.length)},nextStep:(e,t)=>{const n=t.payload;e.tabProgress[n]||(e.tabProgress[n]={...Id});const s=e.tabProgress[n];s.currentStep>=0&&s.currentStep<s.steps.length&&(s.steps[s.currentStep].status="completed",s.currentStep++,s.progress=s.currentStep/s.steps.length*100,s.currentStep<s.steps.length?s.steps[s.currentStep].status="in_progress":s.isVisible=!1)},hideProgress:(e,t)=>{const n=t.payload;e.tabProgress[n]||(e.tabProgress[n]={...Id});const s=e.tabProgress[n];s.steps=s.steps.map(e=>({...e,status:"completed"})),s.isVisible=!1,s.error=void 0,s.steps=[],s.currentStep=-1},setError:(e,t)=>{const{tabId:n,error:s}=t.payload;e.tabProgress[n]||(e.tabProgress[n]={...Id});const i=e.tabProgress[n];i.error=s,i.isVisible=!0,i.progress=100,i.currentStep>=0&&i.currentStep<i.steps.length&&(i.steps[i.currentStep].status="completed")}}}),{setActiveTabId:Td,showProgress:Dd,updateProgress:Md,hideProgress:Ld,setError:Pd,nextStep:Rd}=Ad.actions,Od=Ad.reducer,zd={isInitialized:!1,isJobPolling:!1,jobDetails:void 0,trajectory:[],lastProcessedStep:-1,taskState:null},Bd=Ge({name:"container",initialState:{activeContainerId:null,containers:{},tabContainers:{}},reducers:{initializeContainer:(e,t)=>{const n=t.payload;n&&(e.containers||(e.containers={}),e.containers[n]||(e.containers[n]={...zd}),e.activeContainerId=n)},setInitialized:(e,t)=>{const{containerId:n,isInitialized:s}=t.payload;n&&(e.containers||(e.containers={}),e.containers[n]||(e.containers[n]={...zd}),e.containers[n].isInitialized=s)},setJobPolling:(e,t)=>{const{containerId:n,value:s}=t.payload;e.containers[n]&&(e.containers[n].isJobPolling=s)},setJobDetails:(e,t)=>{const{containerId:n,details:s}=t.payload;e.containers[n]&&(e.containers[n].jobDetails=s)},setTrajectory:(e,t)=>{const{containerId:n,trajectory:s}=t.payload;e.containers[n]&&(e.containers[n].trajectory=s)},setLastProcessedStep:(e,t)=>{const{containerId:n,step:s}=t.payload;e.containers[n]&&(e.containers[n].lastProcessedStep=s)},setTaskState:(e,t)=>{const{containerId:n,taskState:s}=t.payload;e.containers[n]&&(e.containers[n].taskState=s)},updateTaskState:(e,t)=>{const{containerId:n,taskState:s}=t.payload;if(e.containers[n]){const t=e.containers[n];t.taskState=t.taskState?{...t.taskState,...s}:s}},resetContainer:(e,t)=>{const n=t.payload,{[n]:s,...i}=e.containers;e.containers=i,e.activeContainerId===n&&(e.activeContainerId=null)},resetAllContainers:e=>{e.containers={},e.activeContainerId=null,e.tabContainers={}},setTabContainer:(e,t)=>{const{tabId:n,containerId:s}=t.payload;e.tabContainers[n]=s},removeTabContainer:(e,t)=>{const n=t.payload;delete e.tabContainers[n]},setActiveContainerForTab:(e,t)=>{const n=t.payload,s=e.tabContainers[n];s&&(e.activeContainerId=s)}}}),{initializeContainer:Hd,setInitialized:$d,setJobPolling:Ud,setJobDetails:Vd,setTrajectory:Wd,setLastProcessedStep:qd,setTaskState:Gd,updateTaskState:Zd,resetContainer:Yd,resetAllContainers:Kd,setTabContainer:Jd,removeTabContainer:Qd,setActiveContainerForTab:Xd}=Bd.actions,eu=Bd.reducer,tu=Ge({name:"commandQueue",initialState:{pendingCommands:{}},reducers:{enqueueCommand:(e,t)=>{const{commandId:n,type:s,payload:i}=t.payload;e.pendingCommands[n]&&"failed"!==e.pendingCommands[n].status||(e.pendingCommands[n]={status:"pending",command:{type:s,payload:i},timestamp:Date.now()})},setCommandStatus:(e,t)=>{const{commandId:n,status:s}=t.payload;e.pendingCommands[n]&&(e.pendingCommands[n].status=s)},removeCommand:(e,t)=>{delete e.pendingCommands[t.payload]}}}),{enqueueCommand:nu,setCommandStatus:su,removeCommand:iu}=tu.actions,au=tu.reducer,ru=Ge({name:"tabs",initialState:{activeTab:"home",tabs:[{id:"home",title:"Home",path:"/"}],isActive:!0,tabStates:{}},reducers:{setActiveTab:(e,t)=>{e.activeTab=t.payload,e.isActive=!0,Object.keys(e.tabStates).forEach(n=>{e.tabStates[n]={...e.tabStates[n],isActive:n===t.payload}}),e.tabStates[t.payload]||(e.tabStates[t.payload]={isActive:!0,activeTab:t.payload})},setTabs:(e,t)=>{const n=t.payload.filter(e=>"/not-defined"!==e.path),s=t.payload.filter(e=>"/not-defined"===e.path);e.tabs=[...n,...s];const i=new Set(t.payload.map(e=>e.id));Object.keys(e.tabStates).forEach(t=>{if(!i.has(t)&&"home"!==t){const n=e.tabStates[t];(null==n?void 0:n.createAgentFormData)||(null==n?void 0:n.createSubagentFormData)||delete e.tabStates[t]}})},updateTabState:(e,t)=>{const{tabId:n,state:s}=t.payload,i=n in e.tabStates;e.tabStates[n]={...i?e.tabStates[n]:{status:!1,isCloudFlow:!0},...s}},removeTab:(e,t)=>{const n=t.payload;if(e.tabStates[n]){(e.tabStates[n].pendingArtifacts||[]).forEach(e=>{e.local_preview_url&&e.local_preview_url.startsWith("blob:")&&URL.revokeObjectURL(e.local_preview_url)})}e.tabs=e.tabs.filter(e=>e.id!==n),delete e.tabStates[n],e.activeTab===n&&(e.activeTab="home")},cleanupTabStates:e=>{const t=new Set(e.tabs.map(e=>e.id));Object.keys(e.tabStates).forEach(n=>{t.has(n)||"home"===n||delete e.tabStates[n]})},setPendingMessage:(e,t)=>{const{tabId:n,messageId:s,content:i,base64_image_list:a,artifacts:r}=t.payload;e.tabStates[n]||(e.tabStates[n]={}),e.tabStates[n].pendingMessage={id:s,content:i,timestamp:(new Date).toISOString().replace(/\.\d{3}Z$/,e=>e.replace("Z","000+00:00")),base64_image_list:a,artifacts:r}},clearPendingMessage:(e,t)=>{var n;const{tabId:s,content:i}=t.payload;if(e.tabStates[s]){if(i){const t=null==(n=e.tabStates[s])?void 0:n.pendingMessage;if(!t||t.content!==i)return}e.tabStates[s]={...e.tabStates[s],pendingMessage:void 0}}},removePendingMessage:(e,t)=>{var n;const{tabId:s,messageId:i,content:a}=t.payload;if(e.tabStates[s]){const t=null==(n=e.tabStates[s])?void 0:n.pendingMessage;t&&t.content===a&&(e.tabStates[s]={...e.tabStates[s],pendingMessage:void 0})}},addPendingArtifacts:(e,t)=>{const{tabId:n,artifacts:s}=t.payload;e.tabStates[n]||(e.tabStates[n]={});const i=e.tabStates[n].pendingArtifacts||[];e.tabStates[n].pendingArtifacts=[...i,...s]},clearPendingArtifacts:(e,t)=>{const{tabId:n}=t.payload;if(e.tabStates[n]){(e.tabStates[n].pendingArtifacts||[]).forEach(e=>{e.local_preview_url&&e.local_preview_url.startsWith("blob:")&&URL.revokeObjectURL(e.local_preview_url)}),e.tabStates[n].pendingArtifacts=[]}},removePendingArtifact:(e,t)=>{var n;const{tabId:s,artifactId:i}=t.payload;if(null==(n=e.tabStates[s])?void 0:n.pendingArtifacts){const t=e.tabStates[s].pendingArtifacts.find(e=>e.artifact_id===i);(null==t?void 0:t.local_preview_url)&&t.local_preview_url.startsWith("blob:")&&URL.revokeObjectURL(t.local_preview_url),e.tabStates[s].pendingArtifacts=e.tabStates[s].pendingArtifacts.filter(e=>e.artifact_id!==i)}},setChatInputText:(e,t)=>{const{tabId:n,text:s}=t.payload;e.tabStates[n]||(e.tabStates[n]={}),e.tabStates[n].chatInputText=s},clearChatInputText:(e,t)=>{const{tabId:n}=t.payload;e.tabStates[n]&&(e.tabStates[n].chatInputText="")},setCreateAgentFormData:(e,t)=>{const{tabId:n,formData:s}=t.payload;e.tabStates[n]||(e.tabStates[n]={}),e.tabStates[n].createAgentFormData=s},clearCreateAgentFormData:(e,t)=>{const{tabId:n}=t.payload;e.tabStates[n]&&delete e.tabStates[n].createAgentFormData},setCreateSubagentFormData:(e,t)=>{const{tabId:n,formData:s}=t.payload;e.tabStates[n]||(e.tabStates[n]={}),e.tabStates[n].createSubagentFormData=s},clearCreateSubagentFormData:(e,t)=>{const{tabId:n}=t.payload;e.tabStates[n]&&delete e.tabStates[n].createSubagentFormData},setTabDeployState:(e,t)=>{const{tabId:n,deployState:s}=t.payload;e.tabStates[n]||(e.tabStates[n]={}),e.tabStates[n].deployState||(e.tabStates[n].deployState={deployStatus:"not_deployed",latestRunStatus:null,loading:!1,deploymentSteps:[],deploymentHistory:[],currentStepIndex:-1,deployUrl:"",customDomainUrl:"",runId:"",errorMessage:null,modifiedEnvs:[],customDomain:null,deployLogs:[]}),e.tabStates[n].deployState={...e.tabStates[n].deployState,...s}},resetTabDeployState:(e,t)=>{const{tabId:n}=t.payload;e.tabStates[n]&&(e.tabStates[n].deployState={deployStatus:"not_deployed",latestRunStatus:null,loading:!1,deploymentSteps:[],deploymentHistory:[],currentStepIndex:-1,deployUrl:"",customDomainUrl:"",runId:"",errorMessage:null,modifiedEnvs:[],customDomain:null,deployLogs:[]})},updateHomeTabPath:(e,t)=>{const n=e.tabs.find(e=>"home"===e.id);n&&(n.path=t.payload)}}}),{setActiveTab:ou,setTabs:lu,updateTabState:cu,removeTab:du,setPendingMessage:uu,clearPendingMessage:pu,removePendingMessage:mu,cleanupTabStates:hu,addPendingArtifacts:xu,clearPendingArtifacts:fu,removePendingArtifact:gu,setChatInputText:vu,clearChatInputText:bu,setCreateAgentFormData:yu,clearCreateAgentFormData:wu,setCreateSubagentFormData:ju,clearCreateSubagentFormData:Cu,setTabDeployState:Nu,resetTabDeployState:Fu,updateHomeTabPath:_u}=ru.actions,ku=e=>e.tabs.activeTab,Su=e=>e.tabs.tabs,Eu=(e,t)=>{var n;return(null==(n=e.tabs.tabStates[t])?void 0:n.pendingArtifacts)||[]},Iu=e=>{const t=e.tabs.activeTab,n=e.tabs.tabs.find(e=>e.id===t);if(!n||!t){const t=e.tabs.tabs.find(e=>"home"===e.id);if(t)return t}return n||e.tabs.tabs[0]},Au=ru.reducer;function Tu(){try{const e=sessionStorage.getItem("persist:tabs");if(!e)return;const t=JSON.parse(e),n=JSON.parse(t.tabs||"[]"),s=JSON.parse(t.tabStates||"{}"),i=new Set(n.map(e=>e.id));let a=0;const r={};return Object.keys(s).forEach(e=>{i.has(e)||"home"===e?r[e]=s[e]:a++}),t.tabStates=JSON.stringify(r),sessionStorage.setItem("persist:tabs",JSON.stringify(t)),a}catch(e){return 0}}const Du="emergent_modal_states";function Mu(){try{const e=localStorage.getItem(Du);return e?JSON.parse(e):{}}catch(e){return{}}}function Lu(e,t){try{const n={...Mu(),[e]:t};localStorage.setItem(Du,JSON.stringify(n))}catch(n){}}function Pu(e,t=!1){return Mu()[e]??t}function Ru(){return Pu("hasSeenExpoUpgradePopover",!1)}function Ou(){return Pu("hasSeenProModalAutoOpen",!1)}const zu="emergent_invitation_states";function Bu(e){try{const t=localStorage.getItem(zu),n=t?JSON.parse(t):{};n[e]=!0,localStorage.setItem(zu,JSON.stringify(n))}catch(t){}}function Hu(e){try{const t=localStorage.getItem(zu),n=t?JSON.parse(t):{};delete n[e],localStorage.setItem(zu,JSON.stringify(n))}catch(t){}}function $u(){Lu("hasSeenClaude45AnnouncementModal",!0)}function Uu(){Lu("hasSeenModelSelectorTooltip",!0)}function Vu(){Lu("hasSeenTeamIntroductionModal",!0)}function Wu(){Lu("hasSeenUltraThinkingModal",!0)}function qu(){Lu("hasSeenStandardDiscountModal",!0)}function Gu(){Lu("hasSeenMCPIntroductionModal",!0)}function Zu(){Lu("hasSeenBroModeIntroductionModal",!0)}function Yu(){return Pu("hasSeenVisualEditsModal",!1)}function Ku(){Lu("hasSeenVisualEditsModal",!0)}function Ju(){Lu("hasSeenModelSelectorTooltip",!1)}function Qu(){Lu("hasSeenFundingIntroductionModal",!0)}function Xu(){try{const e=tp(),t=np();localStorage.clear(),sp(e),ip(t)}catch(e){localStorage.clear()}}function ep(){try{const e=tp(),t=np();localStorage.clear(),sessionStorage.clear(),sp(e),ip(t)}catch(e){localStorage.clear(),sessionStorage.clear()}}function tp(){try{return Mu()}catch(e){return null}}function np(){try{const e={};return["utm_source","utm_medium","utm_campaign","utm_content","utm_term","campaign_id","utm_id","gclid","gad_source","gad_campaignid","gbraid","wbraid","fbclid","fbc","fbp","ttclid","li_fat_id","twclid","sc_click_id","epik","rdt_cid","msclkid","amznclickid","user_referrer","first_login_completed","pending_referral_code","referral_applied","referral_modal_data"].forEach(t=>{const n=localStorage.getItem(t);null!==n&&(e[t]=n)}),Object.keys(e).length>0?e:null}catch(e){return null}}function sp(e){if(e)try{localStorage.setItem(Du,JSON.stringify(e))}catch(t){}}function ip(e){if(e)try{Object.entries(e).forEach(([e,t])=>{void 0!==t&&localStorage.setItem(e,t)})}catch(t){}}"undefined"!=typeof window&&(window.resetFeatureModal=function(){Lu("hasSeenFeatureModal",!1)},window.resetForkIntro=function(){Lu("hasSeenForkIntro",!1)},window.resetMobileAgentIntro=function(){Lu("hasSeenMobileAgentIntro",!1)},window.resetProIntroductionModal=function(){Lu("hasSeenProIntroductionModal",!1)},window.resetUniversalKeyIntroTooltip=function(){Lu("hasSeenUniversalKeyIntroTooltip",!1)},window.resetOneMillionModal=function(){Lu("hasSeenClaude45AnnouncementModal",!1)},window.resetModelSelectorTooltip=Ju,window.resetTeamIntroductionModal=function(){Lu("hasSeenTeamIntroductionModal",!1)},window.resetUltraThinkingModal=function(){Lu("hasSeenUltraThinkingModal",!1)},window.resetStandardDiscountModal=function(){Lu("hasSeenStandardDiscountModal",!1)},window.resetMCPIntroductionModal=function(){Lu("hasSeenMCPIntroductionModal",!1)},window.resetBroModeIntroductionModal=function(){Lu("hasSeenBroModeIntroductionModal",!1)},window.resetTestModeModal=function(){Lu("hasSeenTestModeModal",!1)},window.resetLockinPriceModal=function(){Lu("hasSeenLockinPriceModal",!1)},window.resetBuyCreditsAutoPopup=function(){Lu("hasSeenBuyCreditsAutoPopup",!1)},window.resetFundingIntroductionModal=function(){Lu("hasSeenFundingIntroductionModal",!1)},window.resetVisualEditsModal=function(){Lu("hasSeenVisualEditsModal",!1)},window.resetAllModals=function(){try{localStorage.removeItem(Du)}catch(e){}},window.clearStorageSafely=Xu,window.clearAllStorageSafely=ep,window.preserveTrackingData=np,window.restoreTrackingData=ip);const ap="cjId",rp=()=>{if("undefined"!=typeof window)try{const e=document.cookie.split(";");for(let t of e){const[e,n]=t.trim().split("=");if(e===ap)return decodeURIComponent(n)}}catch(e){}},op=(e,t)=>{if("undefined"!=typeof window&&window.dataLayer){const n=rp(),s={event:e,...t,timestamp:(new Date).toISOString(),...n&&{cj_event_id:n}};window.dataLayer.push(s)}},lp=(e,t,n,s)=>{const i=localStorage.getItem("utm_source")||void 0,a=localStorage.getItem("utm_campaign")||void 0,r=localStorage.getItem("utm_medium")||void 0,o=localStorage.getItem("utm_content")||void 0,l=localStorage.getItem("utm_term")||void 0,c=localStorage.getItem("user_referrer")||void 0,d=new URLSearchParams(window.location.search),u=d.get("referral")||d.get("ref")||void 0;op("sign_up",{method:e,user_id:t,user_email:n,utm_source:i,utm_campaign:a,utm_medium:r,utm_content:o,utm_term:l,referrer:c,referral_code:u,signup_page:window.location.pathname,signup_url:window.location.href,...s})},cp=(e,t,n,s,i,a,r,o)=>{const l=localStorage.getItem("utm_source")||void 0,c=localStorage.getItem("utm_campaign")||void 0,d=localStorage.getItem("utm_medium")||void 0,u=localStorage.getItem("utm_term")||void 0,p=localStorage.getItem("utm_content")||void 0,m=localStorage.getItem("referral_code")||void 0;op("upgrade_intent",{user_id:e,current_tier:t||"free",target_tier:n,billing_period:s,is_organization:i,organization_id:a||void 0,trigger_location:r||"upgrade_modal",utm_source:l,utm_campaign:c,utm_medium:d,utm_term:u,utm_content:p,referral_code:m,currency:o||"USD",intent_date:(new Date).toISOString()})},dp=(e,t,n,s,i,a,r,o,l,c)=>{const d=localStorage.getItem("utm_source")||void 0,u=localStorage.getItem("utm_campaign")||void 0,p=localStorage.getItem("utm_medium")||void 0,m=localStorage.getItem("utm_term")||void 0,h=localStorage.getItem("utm_content")||void 0,x=localStorage.getItem("referral_code")||void 0;op("subscription_success",{user_id:e,plan_name:t,tier_name:n,credits_per_month:s,billing_period:i||"monthly",is_organization:a||!1,organization_id:r||void 0,organization_name:o||void 0,payment_id:l||void 0,is_razorpay_flow:Boolean(c),utm_source:d,utm_campaign:u,utm_medium:p,utm_term:m,utm_content:h,referral_code:x,subscription_date:(new Date).toISOString()})},up=(e,t,n,s)=>{if("undefined"!=typeof window)try{const i={amount:t,currency:n,category:s,timestamp:Date.now()};sessionStorage.setItem(`payment_details_${e}`,JSON.stringify(i))}catch(i){}},pp=e=>{if("undefined"==typeof window)return null;try{const t=sessionStorage.getItem(`payment_details_${e}`);if(!t)return null;const n=JSON.parse(t);return Date.now()-n.timestamp>864e5?(sessionStorage.removeItem(`payment_details_${e}`),null):n}catch(t){return null}},mp=e=>{if("undefined"!=typeof window)try{sessionStorage.removeItem(`payment_details_${e}`)}catch(t){}},hp=(e,t,n,s="USD",i="credits")=>{if("undefined"!=typeof window)try{if(!Number.isFinite(n)||n<=0)return;const a=(null==s?void 0:s.toUpperCase())||"USD",r=rp(),o="";window.cj||(window.cj={}),window.cj.order={enterpriseId:1592779,pageType:"conversionConfirmation",userId:e,emailHash:o,orderId:t,actionTrackerId:501794,currency:a,amount:n,category:i,cjeventOrder:r||""};if(document.getElementById("cjapitag"))return void op("cj_conversion_tracked",{order_id:t,amount:n,currency:a,category:i,cj_event_id:r});const l=document.createElement("script");l.type="text/javascript",l.async=!0,l.id="cjapitag",l.src="https://api.emergent.sh/proxydirectory/tags/1171454318801/tag.js",l.onload=()=>{op("cj_conversion_tracked",{order_id:t,amount:n,currency:a,category:i,cj_event_id:r})},l.onerror=()=>{};const c=document.getElementsByTagName("script")[0];c&&c.parentNode?c.parentNode.insertBefore(l,c):document.head.appendChild(l)}catch(a){}},xp=()=>!("undefined"==typeof window||!window.electron),fp={listContainers:async()=>await window.electron.ipcRenderer.invoke("docker:list-containers"),listImages:async()=>await window.electron.ipcRenderer.invoke("docker:list-images"),executeCommand:async(e,t)=>await window.electron.ipcRenderer.invoke("docker:execute-command",{command:t,containerId:e}),createContainer:async(e,t,n,s,i)=>await window.electron.ipcRenderer.invoke("docker:create-container",{image:e,containerName:t,portMappings:n,volumePath:s,copyToApp:i}),pullImage:async(e,t)=>{if(t){const e=()=>{window.electron.ipcRenderer.removeAllListeners("docker:pull-progress")};window.electron.ipcRenderer.on("docker:pull-progress",n=>{if(n&&"object"==typeof n){const s={layer:n.layer||"",progress:"number"==typeof n.progress?n.progress:0,status:n.status||"downloading",error:n.error||void 0};t(s),"finished"!==s.status&&"error"!==s.status||e()}})}try{return await window.electron.ipcRenderer.invoke("docker:pull-image",{image:e})}catch(n){throw t&&window.electron.ipcRenderer.removeAllListeners("docker:pull-progress"),n}},cloneRepository:async(e,t,n)=>await window.electron.ipcRenderer.invoke("git:clone",{repoUrl:e,targetPath:t,branch:n}),getProjectPath:async e=>await window.electron.ipcRenderer.invoke("path:get-project-path",e),openTerminal:async e=>await window.electron.ipcRenderer.invoke("terminal:open",{containerId:e}),removeContainer:async e=>await window.electron.ipcRenderer.invoke("docker:remove-container",{containerId:e}),checkPorts:async e=>await window.electron.ipcRenderer.invoke("check-ports",e),writeFile:async(e,t)=>await window.electron.ipcRenderer.invoke("fs:write-file",{filePath:e,content:t}),showDirectoryPicker:async()=>window.electron.ipcRenderer.invoke("show-directory-picker"),showInputDialog:async e=>window.electron.ipcRenderer.invoke("show-input-dialog",e),commitContainer:async e=>await window.electron.ipcRenderer.invoke("docker:commit-container",{containerId:e}),copyToHost:async(e,t)=>await window.electron.ipcRenderer.invoke("docker:copy-to-host",{containerId:e,hostDir:t}),generateRandomPorts:async e=>await window.electron.ipcRenderer.invoke("docker:generate-random-ports",{count:e}),isDockerInstalled:()=>window.electron.ipcRenderer.invoke("docker:is-installed"),isDockerRunning:()=>window.electron.ipcRenderer.invoke("docker:is-running"),startDocker:()=>window.electron.ipcRenderer.invoke("open-docker-app"),executeNeonAction:async(e,t)=>await window.electron.ipcRenderer.invoke("neon:execute",{containerId:e,config:t}),generateNeonScript:(e,t)=>window.electron.ipcRenderer.invoke("neon:generate-script",e,t),getDefaultWorkspaceDir:()=>window.electron.ipcRenderer.invoke("neon:get-default-workspace-dir"),getGitStatus:async(e,t)=>{const n=await window.electron.ipcRenderer.invoke("git:get-status",{containerId:e,initialCommitId:t});if(n.error)throw new Error(n.error);return n.output&&""!==n.output.trim()?n.output.trim().split("\n").filter(e=>""!==e.trim()).map(e=>{const[t,n]=e.split("\t");return{fileName:n||"",status:t||""}}).filter(e=>e.fileName&&""!==e.fileName.trim()):[]},getGitDiff:async(e,t,n)=>{const s=await window.electron.ipcRenderer.invoke("git:get-diff",{containerId:e,fileName:t,initialCommitId:n});if(s.error)throw new Error(s.error);return s.output},checkDockerAvailability:()=>window.electron.ipcRenderer.invoke("docker:check-availability"),checkForUpdates:async()=>await window.electron.ipcRenderer.invoke("update:check"),downloadUpdate:async()=>await window.electron.ipcRenderer.invoke("update:download"),quitAndInstall:async()=>await window.electron.ipcRenderer.invoke("update:quit-and-install"),setSentryUser:async e=>await window.electron.ipcRenderer.invoke("sentry:setUser",e),openExternal:e=>{(e=>{xp()?window.electron.openExternal(e):window.open(e,"_blank")})(e)},initiateGitHubAuth:async()=>await window.electron.ipcRenderer.invoke("github:initiate-auth"),getGitHubRepositories:()=>window.electron.ipcRenderer.invoke("github:repositories")};function gp(e,t,n=30,s="/"){try{const i=new Date;i.setTime(i.getTime()+24*n*60*60*1e3);const a=`expires=${i.toUTCString()}`,r=encodeURIComponent(t);document.cookie=`${e}=${r};${a};path=${s};SameSite=Lax`}catch(i){}}function vp(e){try{const t=e+"=",n=document.cookie.split(";");for(let e=0;e<n.length;e++){let s=n[e];for(;" "===s.charAt(0);)s=s.substring(1,s.length);if(0===s.indexOf(t)){const e=s.substring(t.length,s.length);return decodeURIComponent(e)}}return null}catch(t){return null}}const bp="tracked_query_params";function yp(e,t=30){try{const n=new Set,s=vp(bp);if(n.add("rewardful_affiliate"),s)try{JSON.parse(s).forEach(e=>n.add(e))}catch{}const i=e.get("fbclid");if(i&&!vp("_fbc")){const e=function(e){try{if(!e)return null;const t=window.location.hostname;let n=0;if(t.includes(".")){const e=t.split(".");e.length>=2&&(n=e.length-1)}const s=Date.now();return`fb.${n}.${s}.${e}`}catch(t){return null}}(i);e&&(gp("_fbc",e,t),n.add("_fbc"))}e.forEach((e,s)=>{null!=e&&""!==e&&(gp(s,e,t),n.add(s))}),gp(bp,JSON.stringify(Array.from(n)),t)}catch(n){}}function wp(e){try{const t=JSON.parse(e);return"object"==typeof t&&null!==t?t:e}catch{return e}}function jp(){const e={},t=["_fbp","_fcp","_ttp","_fbc"],n=vp(bp);if(n)try{return JSON.parse(n).forEach(t=>{const n=vp(t);n&&(e[t]=wp(n))}),t.forEach(t=>{const n=vp(t);if(n){const s=t.startsWith("_")?t.substring(1):t;e[s]=wp(n)}}),e}catch{}const s=function(){try{const e={},t=document.cookie.split(";");for(let n=0;n<t.length;n++){let s=t[n];for(;" "===s.charAt(0);)s=s.substring(1,s.length);const i=s.indexOf("=");if(i>0){const t=s.substring(0,i),n=s.substring(i+1);e[t]=decodeURIComponent(n)}}return e}catch(e){return{}}}();return Object.entries(s).forEach(([t,n])=>{const s=t.toLowerCase();s.includes("session")||s.includes("token")||s.startsWith("sb-")||(e[t]=wp(n))}),t.forEach(t=>{const n=vp(t);if(n){const s=t.startsWith("_")?t.substring(1):t;e[s]=wp(n)}}),e}let Cp=function(e){const t=Mt.create({baseURL:e,headers:{"Content-Type":"application/json"}});return t.interceptors.request.use(async e=>{const{data:{session:t}}=await Kt.auth.getSession();return(null==t?void 0:t.access_token)&&(e.headers.Authorization=`Bearer ${t.access_token}`),e}),t.interceptors.request.use(e=>e),t.interceptors.response.use(e=>e,async e=>{var t;if(401===(null==(t=e.response)?void 0:t.status)&&"/login"!==window.location.pathname)try{Tu(),og.dispatch(lu([{id:"home",title:"Home",path:"/"}])),og.dispatch(ou("home")),og.dispatch(hu()),ep(),window.location.href="/login"}catch(n){ep(),window.location.href="/login"}return Promise.reject(e)}),t}(qt.apiBaseUrl);const Np=async e=>Cp.get(`/jobs/v0/${e}/`),Fp=e=>Cp.post("/actions/pause/",{job_id:e.job_id,agent_type:e.agent_name}),_p=async e=>{const t=await Cp.get(`/budget/${e}`);if(!t.data.success)throw new Error(t.data.data.error);return t.data.data},kp=async(e,t)=>{const n=await Cp.put(`/budget/${e}`,{amount:t});if(!n.data.success)throw new Error(n.data.data.error);return n.data.data},Sp=async(e,t,n=!1,s)=>{try{const i={client_ref_id:t,payload:{processor_type:"env_only",is_cloud:!0,env_image:e.env_image,branch:"",repository:"",...e,...e.testMode&&{test_mode_on:"true"}},model_name:e.model_name,resume:n},a=jp();if((null==e?void 0:e.organization_id)&&(i.organization_id=e.organization_id),i.ads_metadata=a,s&&(i.finalize_artifact_upload=s),n&&(i.id=t),!t)throw new Error("Either job_id or client_ref_id must be provided");return(await Cp.post("/jobs/v0/submit-queue/",i)).data}catch(i){throw i}},Ep=async(e,t,n=!1,s)=>{try{const i={client_ref_id:t,payload:{processor_type:"env_only",is_cloud:!0,env_image:e.env_image,branch:"",repository:"",...e,...e.testMode&&{test_mode_on:"true"}},model_name:e.model_name,resume:n},a=jp();if((null==e?void 0:e.organization_id)&&(i.organization_id=e.organization_id),i.ads_metadata=a,s&&(i.finalize_artifact_upload=s),n&&(i.id=t),!t)throw new Error("Either job_id or client_ref_id must be provided");return(await Cp.post("/jobs/v0/chat/preview",i)).data}catch(i){throw i}},Ip=async(e,t,n)=>Cp.get(`/jobs/v0/diff/${e}`,{params:{file_path:t||"",initial_commit_id:n||""}}),Ap=async(e,t,n="EmergentAssistant",s="all",i=!1)=>{try{const a={job_id:e,request_id:t,base_url:qt.apiBaseUrl,agent_name:n};"messages"===s&&(a.checkout=!1),"all"===s&&(a.checkout=!0),i&&(a.retry=!0);return(await Cp.post("/jobs/v0/rollback/cloud/",a)).data}catch(a){throw a}},Tp=async()=>{try{const e=jp(),t=Object.keys(e).length>0?{ads_metadata:e}:{};return(await Cp.post("/user/details",t)).data}catch(e){return{id:null,github_installations:[],error:e.message}}},Dp=async(e,t,n)=>{var s,i,a;const r=new URLSearchParams;r.append("job_id",e),t&&r.append("last_request_id",t);const o=`${qt.apiBaseUrl}/trajectories/v0/stream?${r.toString()}`;try{const e=await Cp.get(o,{headers:{Accept:"text/event-stream","Cache-Control":"no-cache"},responseType:"stream",adapter:"fetch"});if(!e.data)throw new Error("Failed to fetch trajectory: No data returned");const t=e.data.getReader();if(!t)throw new Error("Stream reader could not be created");let r={trajectories:{data:[],updated_data:[],agent_status:!1,chat_mode:null}},c="";for(;;){const{done:e,value:o}=await t.read();if(e){if(c.trim())try{const e=c.split("\n");for(const t of e)if(t.startsWith("data: ")){const e=t.substring(6),n=JSON.parse(e);(null==(s=n.trajectories)?void 0:s.data)&&(r=n)}}catch(l){}break}c+=(new TextDecoder).decode(o);const d=c.split("\n");c=d.pop()||"";for(const t of d)if(t.startsWith("data: "))try{const e=t.substring(6),s=JSON.parse(e);if((null==(i=s.trajectories)?void 0:i.data)&&(null==n?void 0:n.onTrajectoryResult)&&(null==n?void 0:n.cache)){const e=s.trajectories.data.sort((e,t)=>new Date(e.created_at).getTime()-new Date(t.created_at).getTime()).map(e=>({...e.traj_payload,id:e.id,request_id:e.request_id,job_id:e.job_id,traj_payload:e.traj_payload,commit_id:e.commit_id,parent_request_id:e.parent_request_id,status:e.status,created_at:e.created_at,updated_at:e.updated_at})).filter(e=>{var t;const s=null==(t=null==n?void 0:n.cache)?void 0:t.current.trajectory.some(t=>t.id===e.id);return!s});e.length>0&&(null==n?void 0:n.cache)&&(null==n?void 0:n.onTrajectoryResult)&&(n.cache.current.trajectory=[...n.cache.current.trajectory,...e],n.onTrajectoryResult(n.cache.current.trajectory)),r=s}else(null==(a=s.trajectories)?void 0:a.data)&&(r=s);if(s.chunk&&(null==n?void 0:n.onCurrentChunkResult)&&(null==n?void 0:n.cache)){n.cache.current.trajectory.some(e=>e.request_id===s.chunk.request_id)&&s.chunk.completed?n.onCurrentChunkResult(""):n.onCurrentChunkResult(s)}}catch(l){}}return r}catch(l){throw l}},Mp=async(e,t)=>{try{return(await Cp.post(`/api/v0/tim/${e}`,{message:t})).data}catch(n){throw n}},Lp=async e=>{try{return(await Cp.post("/actions/tim/",{job_id:e})).data}catch(t){throw t}},Pp=async(e,t=!1,n,s,i="usd",a)=>{try{const r=jp(),o={currency:i.toLowerCase(),metadata:{hostname:`${window.location.origin}`}};Object.keys(r).length>0&&(o.ads_metadata=r);const l=rp();l&&(o.cj_event_id=l),t&&n?(o.plan_id=n,o.mode="subscription"):o.amount=e;const c=(()=>{var e;try{return null==(e=null==window?void 0:window.Rewardful)?void 0:e.referral}catch(t){return}})();c&&(o.client_reference_id=c),s&&(o.organization_id=s),a&&(o.coupon_name=a);const d=await Cp.post("/payments/checkout-sessions",o);if(!d.data.sessionId||!d.data.url)throw new Error("Invalid response from checkout session creation");return d.data}catch(r){throw r}},Rp=async(e,t)=>{try{const n=t?{organization_id:t}:{};return(await Cp.get(`/payments/${e}/status`,{params:n})).data}catch(n){throw n}},Op=async()=>{try{return(await Cp.get("/payments/manage-subscription")).data}catch(e){throw e}},zp=async e=>{try{return(await Cp.post("/payments/subscription/cancel",{user_subscription_id:e})).data}catch(t){throw t}},Bp=async e=>{try{const t=`/llm-proxy/query/request_id/${e}`;return(await Cp.get(t)).data}catch(t){throw t}},Hp=async e=>{try{return(await Cp.post(`/jobs/v0/${e}/clone-environment`)).data}catch(t){throw t}},$p=async e=>{try{return(await Cp.get(`/chat-history/v0/${e}`,{timeout:12e5})).data}catch(t){throw t}},Up=async(e,t)=>{try{return(await Cp.patch(`/chat-history/v0/${e}`,t)).data}catch(n){throw n}},Vp=async(e,t,n,s,i)=>{try{return(await Cp.post("/jobs/v0/deploy",{job_id:e,image:t,deployment_id:n,acknowledgements:s,is_database_persist:i})).data}catch(a){if(a.response&&a.response.data)throw new Error(a.response.data.detail||a.response.data.error||"Failed to deploy app");throw a}},Wp=async e=>{try{return(await Cp.get(`/jobs/v0/deploy/${e}/latest`)).data}catch(t){if(t.response&&t.response.data)throw new Error(t.response.data.detail||t.response.data.error||"Failed to deploy app");throw t}},qp=async(e,t)=>{try{const n=t?{organization_id:t}:{};return(await Cp.get(`/jobs/v0/deploy/${e}/precheck`,{params:n})).data}catch(n){if(n.response&&n.response.data)throw new Error(n.response.data.detail||n.response.data.error||"Failed to get warning information");throw n}},Gp=async e=>{try{return(await Cp.get(`/jobs/v0/deploy/${e}/logs`)).data}catch(t){if(t.response&&t.response.data)throw new Error(t.response.data.detail||t.response.data.error||"Failed to get deploy logs");throw t}},Zp=async e=>{try{return(await Cp.get(`/jobs/v0/deploy/${e}/history`)).data}catch(t){if(t.response&&t.response.data)throw new Error(t.response.data.detail||t.response.data.error||"Failed to deploy app");throw t}},Yp=async e=>{try{return(await Cp.get(`/jobs/v0/deploy/${e}/envs`)).data}catch(t){if(t.response&&t.response.data)throw new Error(t.response.data.detail||t.response.data.error||"Failed to deploy app");throw t}},Kp=async e=>{try{return(await Cp.delete(`/jobs/v0/deploy/${e}`)).data}catch(t){if(t.response&&t.response.data)throw new Error(t.response.data.detail||t.response.data.error||"Failed to deploy app");throw t}},Jp=async(e,t)=>{try{return(await Cp.post("/jobs/v0/domains/register",{domain:e,job_id:t})).data}catch(n){if(n.response&&n.response.data)throw new Error(n.response.data.detail||n.response.data.error||"Failed to register domain");throw n}},Qp=async(e,t)=>{try{return(await Cp.post("/jobs/v0/domains/verify",{domain:e,job_id:t})).data}catch(n){if(n.response&&n.response.data)throw new Error(n.response.data.detail||n.response.data.error||"Failed to verify domain");throw n}},Xp=async e=>{try{return(await Cp.get(`/jobs/v0/domains/status?domain=${encodeURIComponent(e)}`)).data}catch(t){if(t.response&&t.response.data)throw new Error(t.response.data.detail||t.response.data.error||"Failed to get domain status");throw t}},em=async e=>{try{const t=e?{organization_id:e}:{};return(await Cp.get("/jobs/v0/deployments",{params:t})).data}catch(t){return{error:t.message}}},tm=async e=>{try{return(await Cp.post(`/jobs/v0/${e}/summary`)).data}catch(t){throw t.response&&t.response.data,t}},nm=async e=>{try{return(await Cp.get(`/jobs/v0/${e}/summary`)).data}catch(t){throw t.response&&t.response.data,t}},sm=async(e,t)=>{try{return(await Cp.post(`/jobs/v0/${e}/fork-environment`,t)).data}catch(n){if(n.response&&n.response.data)throw new Error(n.response.data.detail||n.response.data.error||"Failed to submit fork");throw n}},im=async(e,t)=>{try{return(await Cp.post(`/artifacts/job/${e}/upload`,t)).data}catch(n){throw n}},am=async(e,t)=>{try{await fetch(e,{method:"PUT",body:t,headers:{"Content-Type":t.type}})}catch(n){throw n}},rm=async e=>{try{return(await Cp.get(`/artifacts/job/${e}`)).data}catch(t){throw t}},om=async e=>{try{await Cp.delete(`/artifacts/${e}`)}catch(t){throw t}},lm=async e=>{try{return(await Cp.post(`/artifacts/${e}/download-url`)).data}catch(t){throw t}},cm=async(e,t)=>{try{await Cp.post(`/artifacts/${e}/finalize-upload`,t)}catch(n){throw n}},dm=async e=>{try{await Cp.post("/artifacts/finalize-upload",e)}catch(t){throw t}},um=async(e,t)=>{try{return(await Cp.get(`/jobs/v0/${e}/artifact/${t}/get_test_cases`)).data}catch(n){throw n}},pm=async()=>{try{return(await Cp.get("/jobs/v0/entri/info")).data}catch(e){throw e}},mm=async()=>{try{return(await Cp.post("/user/cohort")).data}catch(e){throw e}},hm=async(e,t)=>{try{return(await Cp.post(`/rrweb/extract/${e}`,{events:t})).data}catch(n){throw n}},xm=Ze("deploy/checkDeployStatus",async({jobId:e,silent:t=!1},{getState:n,rejectWithValue:s})=>{if(!e)return s("No job ID provided");const i=n(),a=Date.now(),r=a-i.deploy.lastCheckedTimestamp,o="running"===i.deploy.deployStatus&&r<3e4;if(r<15e3&&t&&!o)return s("Rate limited");if(r<1e3&&!t)return s("Rate limited");try{const t=await Wp(e);if(!t||"object"!=typeof t)throw new Error("Invalid response format");if(!t.status)throw new Error("Missing status in response");return{response:t,timestamp:a,prevStatus:i.deploy.deployStatus}}catch(l){let e="Failed to get deployment status";return l.response&&l.response.data?l.response.data.detail?e=l.response.data.detail:l.response.data.message?e=l.response.data.message:l.response.data.error&&(e=l.response.data.error):l.message&&(e=l.message),l.response&&l.response.status>=400&&!t&&rn({title:"Deployment Error",description:e,variant:"destructive",duration:2e3}),s(e)}}),fm=Ze("deploy/deployApp",async({jobId:e,image:t,deployment_id:n,acknowledgements:s,db_mode:i},{rejectWithValue:a})=>{if(!e)return a("No job ID provided");try{return await Vp(e,t,n,s,i),{jobId:e}}catch(r){let e="Failed to deploy application";return r.response&&r.response.data?r.response.data.detail?e=r.response.data.detail:r.response.data.message?e=r.response.data.message:r.response.data.error&&(e=r.response.data.error):r.message&&(e=r.message),rn({title:"Deployment Error",description:e.includes("deploy in progress")?"A deployment is currently in progress. Please wait for it to complete before starting a new one.":e.includes("max apps per user reached: 5 active apps")?"Youve reached the maximum limit of 5 active deployments. To deploy a new app, please shut down one of your existing deployments.":e,variant:"destructive",duration:5e3}),a(e)}}),gm=Ze("deploy/getDeployLogs",async(e,{rejectWithValue:t})=>{if(!e)return t("No job ID provided");try{const t=await Gp(e),n=[];return t&&(t.build&&Array.isArray(t.build)&&t.build.forEach(e=>{e&&e.trim()&&n.push(e)}),t.manage_secrets&&Array.isArray(t.manage_secrets)&&t.manage_secrets.forEach(e=>{e&&e.trim()&&n.push(e)}),t.mongodb_migrate&&Array.isArray(t.mongodb_migrate)&&t.mongodb_migrate.forEach(e=>{e&&e.trim()&&n.push(e)}),t.deploy&&Array.isArray(t.deploy)&&t.deploy.forEach(e=>{e&&e.trim()&&n.push(e)}),t.health_check&&Array.isArray(t.health_check)&&t.health_check.forEach(e=>{e&&e.trim()&&n.push(e)})),n}catch(n){return t("Failed to fetch deploy logs")}}),vm=Ze("deploy/loadDeploymentHistory",async(e,{rejectWithValue:t})=>{if(!e)return t("No job ID provided");try{const t=await Zp(e);return t&&t.runs&&Array.isArray(t.runs)?t.runs:[]}catch(n){return t("Failed to load deployment history")}}),bm=Ze("deploy/shutDownDeployment",async(e,{rejectWithValue:t})=>{if(!e)return t("No job ID provided");try{return await Kp(e),{jobId:e}}catch(n){let e="Failed to shut down deployment";return n.response&&n.response.data?n.response.data.detail?e=n.response.data.detail:n.response.data.message?e=n.response.data.message:n.response.data.error&&(e=n.response.data.error):n.message&&(e=n.message),rn({title:"Shutdown Error",description:e,variant:"destructive",duration:2e3}),t(e)}}),ym=Ze("deploy/loadEnvironmentVariables",async(e,{getState:t,rejectWithValue:n})=>{if(!e)return n("No job ID provided");try{const n=t();if(n.deploy.modifiedEnvs&&n.deploy.modifiedEnvs.length>0)return n.deploy.modifiedEnvs;const s=await Yp(e);if(s&&s.envs){return Object.entries(s.envs).map(([e,t],n)=>({id:`env-${n}`,key:e,value:t,originalValue:t,version:0}))}return[]}catch(s){return n("Failed to load environment variables")}}),wm=Ge({name:"deploy",initialState:{deployStatus:"not_deployed",latestRunStatus:null,loading:!1,deploymentSteps:[],deploymentHistory:[],currentStepIndex:-1,deployUrl:"",customDomainUrl:"",runId:"",currentJobId:null,errorMessage:null,activeTabId:"",modifiedEnvs:[],lastCheckedTimestamp:0,customDomain:null,deployLogs:[]},reducers:{setActiveTabId:(e,t)=>{e.activeTabId=t.payload},saveEnvironmentVariables:(e,t)=>{e.modifiedEnvs=t.payload},resetDeployState:e=>{e.deployStatus="not_deployed",e.latestRunStatus=null,e.deploymentSteps=[],e.currentStepIndex=-1,e.deployUrl="",e.customDomainUrl="",e.runId="",e.errorMessage=null,e.customDomain=null},resetDeploymentSteps:e=>{e.deploymentSteps=[],e.currentStepIndex=-1},setCurrentJobId:(e,t)=>{e.currentJobId=t.payload},setCustomDomain:(e,t)=>{e.customDomain=t.payload}},extraReducers:e=>{e.addCase(xm.pending,(e,t)=>{t.meta.arg.silent||(e.loading=!0)}),e.addCase(xm.fulfilled,(e,t)=>{const{response:n,timestamp:s,prevStatus:i}=t.payload;e.lastCheckedTimestamp=s;let a=n.status;if(n.latest_run&&"running"===n.latest_run.status?a="running":n.latest_run&&n.latest_run.status&&"success"===n.status&&(a=n.latest_run.status),e.deployStatus,e.deployStatus=a,n.latest_run&&(e.latestRunStatus=n.latest_run.status),n.deploy_url&&(e.deployUrl=n.deploy_url),n.custom_domain)if(""!==n.custom_domain.domain&&n.custom_domain.status&&n.custom_domain.dns_records)if(e.customDomain={domain:n.custom_domain.domain,status:n.custom_domain.status,dns_records:Array.isArray(n.custom_domain.dns_records)?n.custom_domain.dns_records:[n.custom_domain.dns_records]},"verified"===n.custom_domain.status){const t=n.custom_domain.domain;e.customDomainUrl=t.startsWith("http")?t:`https://${t}`}else e.customDomainUrl="";else e.customDomain=null,e.customDomainUrl="";else e.customDomain=null,e.customDomainUrl="";if(n.latest_run&&n.latest_run.run_id&&"success"===n.latest_run.status?(e.runId=n.latest_run.run_id,n.latest_run.status&&(e.latestRunStatus=n.latest_run.status)):n.deployed_run_id&&(e.runId=n.deployed_run_id),n.latest_run&&n.latest_run.steps&&Array.isArray(n.latest_run.steps)){JSON.stringify(e.deploymentSteps)!==JSON.stringify(n.latest_run.steps)&&(e.deploymentSteps=n.latest_run.steps);let t=-1;if("running"===n.status&&n.latest_run.steps.every(e=>"pending"===e.status))t=0;else{const e=n.latest_run.steps.findIndex(e=>"running"===e.status);if(-1!==e)t=e;else{for(let e=0;e<n.latest_run.steps.length-1;e++)if("success"===n.latest_run.steps[e].status&&"pending"===n.latest_run.steps[e+1].status){t=e+1;break}if(-1===t){const e=n.latest_run.steps.findIndex(e=>"pending"===e.status);-1!==e?t=e:"success"===n.status&&(t=n.latest_run.steps.length-1)}}}e.currentStepIndex=t}e.errorMessage=null,e.loading=!1}),e.addCase(xm.rejected,(e,t)=>{"Rate limited"!==t.payload&&(e.errorMessage=t.payload,e.deployStatus="not_deployed",e.latestRunStatus=null,e.deploymentSteps=[],e.currentStepIndex=-1,e.loading=!1)}),e.addCase(fm.pending,e=>{e.loading=!0,e.errorMessage=null}),e.addCase(fm.fulfilled,(e,t)=>{e.deployStatus="running",e.latestRunStatus="running",e.currentJobId=t.payload.jobId,e.loading=!1,e.deploymentSteps=[],e.currentStepIndex=-1}),e.addCase(fm.rejected,(e,t)=>{e.errorMessage=t.payload,e.deployStatus="not_deployed",e.latestRunStatus=null,e.loading=!1}),e.addCase(vm.pending,e=>{e.loading=!0}),e.addCase(vm.fulfilled,(e,t)=>{e.deploymentHistory=t.payload,e.loading=!1}),e.addCase(vm.rejected,e=>{e.loading=!1}),e.addCase(bm.pending,e=>{e.loading=!0}),e.addCase(bm.fulfilled,e=>{e.deployStatus="not_deployed",e.latestRunStatus=null,e.loading=!1,e.deploymentHistory=[],e.deployUrl="",e.customDomainUrl="",e.runId="",e.deploymentSteps=[],e.currentStepIndex=-1}),e.addCase(bm.rejected,e=>{e.loading=!1}),e.addCase(gm.pending,e=>{e.loading=!0}),e.addCase(gm.fulfilled,(e,t)=>{e.deployLogs=t.payload,e.loading=!1}),e.addCase(gm.rejected,e=>{e.loading=!1}),e.addCase(ym.fulfilled,(e,t)=>{e.modifiedEnvs=t.payload})}}),{setActiveTabId:jm,saveEnvironmentVariables:Cm,resetDeployState:Nm,resetDeploymentSteps:Fm,setCurrentJobId:_m,setCustomDomain:km}=wm.actions,Sm=wm.reducer,Em=e=>e.deploy.deployStatus,Im=e=>e.deploy.latestRunStatus,Am=e=>e.deploy.deploymentSteps,Tm=e=>e.deploy.deploymentHistory,Dm=e=>e.deploy.currentStepIndex,Mm=e=>e.deploy.deployUrl,Lm=e=>e.deploy.customDomainUrl,Pm=e=>e.deploy.runId,Rm=e=>e.deploy.currentJobId,Om=e=>e.deploy.errorMessage,zm=e=>e.deploy.modifiedEnvs,Bm=e=>e.deploy.customDomain,Hm=e=>e.deploy.deployLogs,$m={isConnected:!1,isConnecting:!1,primaryAccount:null,installations:[],authWindowOpen:!1,lastConnectionCheck:0,connectionError:null},Um=Ge({name:"github",initialState:$m,reducers:{setConnected:(e,t)=>{e.isConnected=t.payload,e.isConnecting=!1,e.connectionError=null,e.lastConnectionCheck=Date.now()},setConnecting:(e,t)=>{e.isConnecting=t.payload,t.payload&&(e.connectionError=null)},setConnectionError:(e,t)=>{e.connectionError=t.payload,e.isConnecting=!1},setPrimaryAccount:(e,t)=>{e.primaryAccount=t.payload},setInstallations:(e,t)=>{e.installations=t.payload,e.primaryAccount&&(e.installations=e.installations.map(t=>({...t,isPrimary:t.account_login===e.primaryAccount})))},setAuthWindowOpen:(e,t)=>{e.authWindowOpen=t.payload},resetGitHubState:()=>$m,updateLastConnectionCheck:e=>{e.lastConnectionCheck=Date.now()}}}),{setConnected:Vm,setConnecting:Wm,setConnectionError:qm,setPrimaryAccount:Gm,setInstallations:Zm,setAuthWindowOpen:Ym,resetGitHubState:Km,updateLastConnectionCheck:Jm}=Um.actions,Qm=e=>e.github||$m,Xm=e=>{var t;return(null==(t=e.github)?void 0:t.isConnected)??!1},eh=e=>{var t;return Date.now()-((null==(t=e.github)?void 0:t.lastConnectionCheck)??0)>3e5},th=Um.reducer;var nh=class extends Error{constructor(e){super(e[0].message),t(this,"issues"),this.name="SchemaError",this.issues=e}},sh=(e=>(e.uninitialized="uninitialized",e.pending="pending",e.fulfilled="fulfilled",e.rejected="rejected",e))(sh||{});function ih(e){return{status:e,isUninitialized:"uninitialized"===e,isLoading:"pending"===e,isSuccess:"fulfilled"===e,isError:"rejected"===e}}var ah=Ye;function rh(e,t){if(e===t||!(ah(e)&&ah(t)||Array.isArray(e)&&Array.isArray(t)))return t;const n=Object.keys(t),s=Object.keys(e);let i=n.length===s.length;const a=Array.isArray(t)?[]:{};for(const r of n)a[r]=rh(e[r],t[r]),i&&(i=e[r]===a[r]);return i?e:a}function oh(e){let t=0;for(const n in e)t++;return t}var lh=e=>[].concat(...e);function ch(e){return null!=e}function dh(e,t){if(!e)return t;if(!t)return e;if(function(e){return new RegExp("(^|:)//").test(e)}(t))return t;const n=e.endsWith("/")||!t.startsWith("?")?"/":"";return e=(e=>e.replace(/\/$/,""))(e),`${e}${n}${t=(e=>e.replace(/^\//,""))(t)}`}function uh(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}var ph=()=>new Map,mh=(...e)=>fetch(...e),hh=e=>e.status>=200&&e.status<=299,xh=e=>/ion\/(vnd\.api\+)?json/.test(e.get("content-type")||"");function fh(e){if(!Ye(e))return e;const t={...e};for(const[n,s]of Object.entries(t))void 0===s&&delete t[n];return t}function gh({baseUrl:e,prepareHeaders:t=e=>e,fetchFn:n=mh,paramsSerializer:s,isJsonContentType:i=xh,jsonContentType:a="application/json",jsonReplacer:r,timeout:o,responseHandler:l,validateStatus:c,...d}={}){return async(p,m,h)=>{const{getState:x,extra:f,endpoint:g,forced:v,type:b}=m;let y,w,{url:j,headers:C=new Headers(d.headers),params:N,responseHandler:F=l??"json",validateStatus:_=c??hh,timeout:k=o,...S}="string"==typeof p?{url:p}:p,E=m.signal;k&&(w=new AbortController,m.signal.addEventListener("abort",w.abort),E=w.signal);let I={...d,signal:E,...S};C=new Headers(fh(C)),I.headers=await t(C,{getState:x,arg:p,extra:f,endpoint:g,forced:v,type:b,extraOptions:h})||C;const A=e=>"object"==typeof e&&(Ye(e)||Array.isArray(e)||"function"==typeof e.toJSON);if(!I.headers.has("content-type")&&A(I.body)&&I.headers.set("content-type",a),A(I.body)&&i(I.headers)&&(I.body=JSON.stringify(I.body,r)),N){const e=~j.indexOf("?")?"&":"?";j+=e+(s?s(N):new URLSearchParams(fh(N)))}j=dh(e,j);const T=new Request(j,I);y={request:new Request(j,I)};let D,M=!1,L=w&&setTimeout(()=>{M=!0,w.abort()},k);try{D=await n(T)}catch(z){return{error:{status:M?"TIMEOUT_ERROR":"FETCH_ERROR",error:String(z)},meta:y}}finally{L&&clearTimeout(L),null==w||w.signal.removeEventListener("abort",w.abort)}const P=D.clone();let R;y.response=P;let O="";try{let e;if(await Promise.all([u(D,F).then(e=>R=e,t=>e=t),P.text().then(e=>O=e,()=>{})]),e)throw e}catch(z){return{error:{status:"PARSING_ERROR",originalStatus:D.status,data:O,error:String(z)},meta:y}}return _(D,R)?{data:R,meta:y}:{error:{status:D.status,data:R},meta:y}};async function u(e,t){if("function"==typeof t)return t(e);if("content-type"===t&&(t=i(e.headers)?"json":"text"),"json"===t){const t=await e.text();return t.length?JSON.parse(t):null}return e.text()}}var vh=class{constructor(e,t=void 0){this.value=e,this.meta=t}},bh=et("__rtkq/focused"),yh=et("__rtkq/unfocused"),wh=et("__rtkq/online"),jh=et("__rtkq/offline");function Ch(e){return"query"===e.type}function Nh(e){return"infinitequery"===e.type}function Fh(e){return Ch(e)||Nh(e)}function _h(e,t,n,s,i,a){return function(e){return"function"==typeof e}(e)?e(t,n,s,i).filter(ch).map(kh).map(a):Array.isArray(e)?e.map(kh).map(a):[]}function kh(e){return"string"==typeof e?{type:e}:e}var Sh=Symbol("forceQueryFn"),Eh=e=>"function"==typeof e[Sh];var Ih=class extends nh{constructor(e,t,n,s){super(e),this.value=t,this.schemaName=n,this._bqMeta=s}},Ah=(e,t)=>Array.isArray(e)?e.includes(t):!!e;async function Th(e,t,n,s){const i=await e["~standard"].validate(t);if(i.issues)throw new Ih(i.issues,t,n,s);return i.value}function Dh(e){return e}var Mh=(e={})=>({...e,[ct]:!0});function Lh(e,{pages:t,pageParams:n},s){const i=t.length-1;return e.getNextPageParam(t[i],t,n[i],n,s)}function Ph(e,{pages:t,pageParams:n},s){var i;return null==(i=e.getPreviousPageParam)?void 0:i.call(e,t[0],t,n[0],n,s)}function Rh(e,t,n,s){return _h(n[e.meta.arg.endpointName][t],rt(e)?e.payload:void 0,at(e)?e.payload:void 0,e.meta.arg.originalArgs,"baseQueryMeta"in e.meta?e.meta.baseQueryMeta:void 0,s)}function Oh(e,t,n){const s=e[t];s&&n(s)}function zh(e){return("arg"in e?e.arg.fixedCacheKey:e.fixedCacheKey)??e.requestId}function Bh(e,t,n){const s=e[zh(t)];s&&n(s)}var Hh={};var $h=Symbol.for("RTKQ/skipToken"),Uh={status:"uninitialized"},Vh=nt(Uh,()=>{}),Wh=nt(Uh,()=>{});var qh=WeakMap?new WeakMap:void 0,Gh=({endpointName:e,queryArgs:t})=>{let n="";const s=null==qh?void 0:qh.get(t);if("string"==typeof s)n=s;else{const e=JSON.stringify(t,(e,t)=>(t="bigint"==typeof t?{$bigint:t.toString()}:t,t=Ye(t)?Object.keys(t).sort().reduce((e,n)=>(e[n]=t[n],e),{}):t));Ye(t)&&(null==qh||qh.set(t,e)),n=e}return`${e}(${n})`};function Zh(...e){return function(t){const n=Ke(e=>{var n;return null==(n=t.extractRehydrationInfo)?void 0:n.call(t,e,{reducerPath:t.reducerPath??"api"})}),s={reducerPath:"api",keepUnusedDataFor:60,refetchOnMountOrArgChange:!1,refetchOnFocus:!1,refetchOnReconnect:!1,invalidationBehavior:"delayed",...t,extractRehydrationInfo:n,serializeQueryArgs(e){let n=Gh;if("serializeQueryArgs"in e.endpointDefinition){const t=e.endpointDefinition.serializeQueryArgs;n=e=>{const n=t(e);return"string"==typeof n?n:Gh({...e,queryArgs:n})}}else t.serializeQueryArgs&&(n=t.serializeQueryArgs);return n(e)},tagTypes:[...t.tagTypes||[]]},i={endpointDefinitions:{},batch(e){e()},apiUid:Je(),extractRehydrationInfo:n,hasRehydrationInfo:Ke(e=>null!=n(e))},a={injectEndpoints:function(e){const t=e.endpoints({query:e=>({...e,type:"query"}),mutation:e=>({...e,type:"mutation"}),infiniteQuery:e=>({...e,type:"infinitequery"})});for(const[n,s]of Object.entries(t))if(!0!==e.overrideExisting&&n in i.endpointDefinitions){if("throw"===e.overrideExisting)throw new Error(Qe(39))}else{i.endpointDefinitions[n]=s;for(const e of r)e.injectEndpoint(n,s)}return a},enhanceEndpoints({addTagTypes:e,endpoints:t}){if(e)for(const n of e)s.tagTypes.includes(n)||s.tagTypes.push(n);if(t)for(const[n,s]of Object.entries(t))"function"==typeof s?s(i.endpointDefinitions[n]):Object.assign(i.endpointDefinitions[n]||{},s);return a}},r=e.map(e=>e.init(a,s,i));return a.injectEndpoints({endpoints:t.endpoints})}}function Yh(e,...t){return Object.assign(e,...t)}var Kh=({api:e,queryThunk:t,internalState:n,mwApi:s})=>{const i=`${e.reducerPath}/subscriptions`;let a=null,r=null;const{updateSubscriptionOptions:o,unsubscribeQueryResult:l}=e.internalActions,c=()=>n.currentSubscriptions,d={getSubscriptions:c,getSubscriptionCount:e=>{const t=c().get(e);return(null==t?void 0:t.size)??0},isRequestSubscribed:(e,t)=>{var n;const s=c();return!!(null==(n=null==s?void 0:s.get(e))?void 0:n.get(t))}};function u(e){return JSON.parse(JSON.stringify(Object.fromEntries([...e].map(([e,t])=>[e,Object.fromEntries(t)]))))}return(s,c)=>{if(a||(a=u(n.currentSubscriptions)),e.util.resetApiState.match(s))return a={},n.currentSubscriptions.clear(),r=null,[!0,!1];if(e.internalActions.internal_getRTKQSubscriptions.match(s))return[!1,d];const p=((n,s)=>{if(o.match(s)){const{queryCacheKey:e,requestId:t,options:i}=s.payload,a=n.get(e);return(null==a?void 0:a.has(t))&&a.set(t,i),!0}if(l.match(s)){const{queryCacheKey:e,requestId:t}=s.payload,i=n.get(e);return i&&i.delete(t),!0}if(e.internalActions.removeQueryResult.match(s))return n.delete(s.payload.queryCacheKey),!0;if(t.pending.match(s)){const{meta:{arg:e,requestId:t}}=s,i=uh(n,e.queryCacheKey,ph);return e.subscribe&&i.set(t,e.subscriptionOptions??i.get(t)??{}),!0}let i=!1;if(t.rejected.match(s)){const{meta:{condition:e,arg:t,requestId:a}}=s;if(e&&t.subscribe){const e=uh(n,t.queryCacheKey,ph);e.set(a,t.subscriptionOptions??e.get(a)??{}),i=!0}}return i})(n.currentSubscriptions,s);let m=!0;if(p){r||(r=setTimeout(()=>{const t=u(n.currentSubscriptions),[,s]=ht(a,()=>t);c.next(e.internalActions.subscriptionsUpdated(s)),a=t,r=null},500));const o="string"==typeof s.type&&!!s.type.startsWith(i),l=t.rejected.match(s)&&s.meta.condition&&!!s.meta.arg.subscribe;m=!o&&!l}return[m,!1]}},Jh=({reducerPath:e,api:t,queryThunk:n,context:s,internalState:i,selectors:{selectQueryEntry:a,selectConfig:r},getRunningQueryThunk:o,mwApi:l})=>{const{removeQueryResult:c,unsubscribeQueryResult:d,cacheEntriesUpserted:u}=t.internalActions,p=i.runningQueries.get(l.dispatch),m=it(d.match,n.fulfilled,n.rejected,u.match);function h(e){const t=i.currentSubscriptions.get(e);if(!t)return!1;const n=t.size>0,s=void 0!==(null==p?void 0:p[e]);return n||s}const x={};function f(e,t,n){const s=t.getState();for(const i of e){const e=a(s,i);(null==e?void 0:e.endpointName)&&g(i,e.endpointName,t,n)}}function g(e,t,n,i){const r=s.endpointDefinitions[t],l=(null==r?void 0:r.keepUnusedDataFor)??i.keepUnusedDataFor;if(l===1/0)return;const d=Math.max(0,Math.min(l,2147482.647));if(!h(e)){const t=x[e];t&&clearTimeout(t),x[e]=setTimeout(()=>{if(!h(e)){const t=a(n.getState(),e);if(null==t?void 0:t.endpointName){const e=n.dispatch(o(t.endpointName,t.originalArgs));null==e||e.abort()}n.dispatch(c({queryCacheKey:e}))}delete x[e]},1e3*d)}}return(e,n,i)=>{const a=n.getState(),o=r(a);if(m(e)){let t;if(u.match(e))t=e.payload.map(e=>e.queryDescription.queryCacheKey);else{const{queryCacheKey:n}=d.match(e)?e.payload:e.meta.arg;t=[n]}f(t,n,o)}if(t.util.resetApiState.match(e))for(const[t,s]of Object.entries(x))s&&clearTimeout(s),delete x[t];if(s.hasRehydrationInfo(e)){const{queries:t}=s.extractRehydrationInfo(e);f(Object.keys(t),n,o)}}},Qh=new Error("Promise never resolved before cacheEntryRemoved."),Xh=({api:e,reducerPath:t,context:n,queryThunk:s,mutationThunk:i,internalState:a,selectors:{selectQueryEntry:r,selectApiState:o}})=>{const l=ft(s),c=ft(i),d=rt(s,i),u={};function p(e,t,n){const s=u[e];(null==s?void 0:s.valueResolved)&&(s.valueResolved({data:t,meta:n}),delete s.valueResolved)}function m(e){const t=u[e];t&&(delete u[e],t.cacheEntryRemoved())}function h(t,s,i,a,r){const o=n.endpointDefinitions[t],l=null==o?void 0:o.onCacheEntryAdded;if(!l)return;const c={},d=new Promise(e=>{c.cacheEntryRemoved=e}),p=Promise.race([new Promise(e=>{c.valueResolved=e}),d.then(()=>{throw Qh})]);p.catch(()=>{}),u[i]=c;const m=e.endpoints[t].select(Fh(o)?s:i),h=a.dispatch((e,t,n)=>n),x={...a,getCacheEntry:()=>m(a.getState()),requestId:r,extra:h,updateCachedData:Fh(o)?n=>a.dispatch(e.util.updateQueryData(t,s,n)):void 0,cacheDataLoaded:p,cacheEntryRemoved:d},f=l(s,x);Promise.resolve(f).catch(e=>{if(e!==Qh)throw e})}return(n,a,o)=>{const x=function(t){if(l(t))return t.meta.arg.queryCacheKey;if(c(t))return t.meta.arg.fixedCacheKey??t.meta.requestId;return e.internalActions.removeQueryResult.match(t)?t.payload.queryCacheKey:e.internalActions.removeMutationResult.match(t)?zh(t.payload):""}(n);function f(e,t,n,s){const i=r(o,t),l=r(a.getState(),t);!i&&l&&h(e,s,t,a,n)}if(s.pending.match(n))f(n.meta.arg.endpointName,x,n.meta.requestId,n.meta.arg.originalArgs);else if(e.internalActions.cacheEntriesUpserted.match(n))for(const{queryDescription:e,value:t}of n.payload){const{endpointName:s,originalArgs:i,queryCacheKey:a}=e;f(s,a,n.meta.requestId,i),p(a,t,{})}else if(i.pending.match(n)){a.getState()[t].mutations[x]&&h(n.meta.arg.endpointName,n.meta.arg.originalArgs,x,a,n.meta.requestId)}else if(d(n))p(x,n.payload,n.meta.baseQueryMeta);else if(e.internalActions.removeQueryResult.match(n)||e.internalActions.removeMutationResult.match(n))m(x);else if(e.util.resetApiState.match(n))for(const e of Object.keys(u))m(e)}},ex=({api:e,context:{apiUid:t},reducerPath:n})=>(n,s)=>{e.util.resetApiState.match(n)&&s.dispatch(e.internalActions.middlewareRegistered(t))},tx=({reducerPath:e,context:t,context:{endpointDefinitions:n},mutationThunk:s,queryThunk:i,api:a,assertTagType:r,refetchQuery:o,internalState:l})=>{const{removeQueryResult:c}=a.internalActions,d=it(rt(s),at(s)),u=it(rt(s,i),ut(s,i));let p=[];function m(n,s){const i=s.getState(),r=i[e];if(p.push(...n),"delayed"===r.config.invalidationBehavior&&function(e){var t;const{queries:n,mutations:s}=e;for(const i of[n,s])for(const e in i)if("pending"===(null==(t=i[e])?void 0:t.status))return!0;return!1}(r))return;const d=p;if(p=[],0===d.length)return;const u=a.util.selectInvalidatedBy(i,d);t.batch(()=>{const e=Array.from(u.values());for(const{queryCacheKey:t}of e){const e=r.queries[t],n=uh(l.currentSubscriptions,t,ph);e&&(0===n.size?s.dispatch(c({queryCacheKey:t})):"uninitialized"!==e.status&&s.dispatch(o(e)))}})}return(e,t)=>{d(e)?m(Rh(e,"invalidatesTags",n,r),t):u(e)?m([],t):a.util.invalidateTags.match(e)&&m(_h(e.payload,void 0,void 0,void 0,void 0,r),t)}},nx=({reducerPath:e,queryThunk:t,api:n,refetchQuery:s,internalState:i})=>{const{currentPolls:a,currentSubscriptions:r}=i,o=new Set;let l=null;function c(e,t){o.add(e),l||(l=setTimeout(()=>{for(const e of o)u({queryCacheKey:e},t);o.clear(),l=null},0))}function d({queryCacheKey:t},n){const i=n.getState()[e],o=i.queries[t],l=r.get(t);if(!o||"uninitialized"===o.status)return;const{lowestPollingInterval:c,skipPollingIfUnfocused:u}=m(l);if(!Number.isFinite(c))return;const p=a.get(t);(null==p?void 0:p.timeout)&&(clearTimeout(p.timeout),p.timeout=void 0);const h=Date.now()+c;a.set(t,{nextPollTimestamp:h,pollingInterval:c,timeout:setTimeout(()=>{!i.config.focused&&u||n.dispatch(s(o)),d({queryCacheKey:t},n)},c)})}function u({queryCacheKey:t},n){const s=n.getState()[e].queries[t],i=r.get(t);if(!s||"uninitialized"===s.status)return;const{lowestPollingInterval:o}=m(i);if(!Number.isFinite(o))return void p(t);const l=a.get(t),c=Date.now()+o;(!l||c<l.nextPollTimestamp)&&d({queryCacheKey:t},n)}function p(e){const t=a.get(e);(null==t?void 0:t.timeout)&&clearTimeout(t.timeout),a.delete(e)}function m(e=new Map){let t=!1,n=Number.POSITIVE_INFINITY;for(const s of e.values())s.pollingInterval&&(n=Math.min(s.pollingInterval,n),t=s.skipPollingIfUnfocused||t);return{lowestPollingInterval:n,skipPollingIfUnfocused:t}}return(e,s)=>{(n.internalActions.updateSubscriptionOptions.match(e)||n.internalActions.unsubscribeQueryResult.match(e))&&c(e.payload.queryCacheKey,s),(t.pending.match(e)||t.rejected.match(e)&&e.meta.condition)&&c(e.meta.arg.queryCacheKey,s),(t.fulfilled.match(e)||t.rejected.match(e)&&!e.meta.condition)&&d(e.meta.arg,s),n.util.resetApiState.match(e)&&(!function(){for(const e of a.keys())p(e)}(),l&&(clearTimeout(l),l=null),o.clear())}},sx=({api:e,context:t,queryThunk:n,mutationThunk:s})=>{const i=pt(n,s),a=ut(n,s),r=rt(n,s),o={};return(n,s)=>{var l,c;if(i(n)){const{requestId:i,arg:{endpointName:a,originalArgs:r}}=n.meta,l=t.endpointDefinitions[a],c=null==l?void 0:l.onQueryStarted;if(c){const t={},n=new Promise((e,n)=>{t.resolve=e,t.reject=n});n.catch(()=>{}),o[i]=t;const d=e.endpoints[a].select(Fh(l)?r:i),u=s.dispatch((e,t,n)=>n),p={...s,getCacheEntry:()=>d(s.getState()),requestId:i,extra:u,updateCachedData:Fh(l)?t=>s.dispatch(e.util.updateQueryData(a,r,t)):void 0,queryFulfilled:n};c(r,p)}}else if(r(n)){const{requestId:e,baseQueryMeta:t}=n.meta;null==(l=o[e])||l.resolve({data:n.payload,meta:t}),delete o[e]}else if(a(n)){const{requestId:e,rejectedWithValue:t,baseQueryMeta:s}=n.meta;null==(c=o[e])||c.reject({error:n.payload??n.error,isUnhandledError:!t,meta:s}),delete o[e]}}};function ix(e){const{reducerPath:t,queryThunk:n,api:s,context:i,internalState:a}=e,{apiUid:r}=i,o={invalidateTags:et(`${t}/invalidateTags`)},l=e=>e.type.startsWith(`${t}/`),c=[ex,Jh,tx,nx,Xh,sx];return{middleware:n=>{let o=!1;const u={...e,internalState:a,refetchQuery:d,isThisApiSliceAction:l,mwApi:n},p=c.map(e=>e(u)),m=Kh(u),h=(({reducerPath:e,context:t,api:n,refetchQuery:s,internalState:i})=>{const{removeQueryResult:a}=n.internalActions;function r(n,r){const o=n.getState()[e],l=o.queries,c=i.currentSubscriptions;t.batch(()=>{for(const e of c.keys()){const t=l[e],i=c.get(e);if(!i||!t)continue;const d=[...i.values()];(d.some(e=>!0===e[r])||d.every(e=>void 0===e[r])&&o.config[r])&&(0===i.size?n.dispatch(a({queryCacheKey:e})):"uninitialized"!==t.status&&n.dispatch(s(t)))}})}return(e,t)=>{bh.match(e)&&r(t,"refetchOnFocus"),wh.match(e)&&r(t,"refetchOnReconnect")}})(u);return e=>a=>{if(!xt(a))return e(a);o||(o=!0,n.dispatch(s.internalActions.middlewareRegistered(r)));const c={...n,next:e},d=n.getState(),[u,x]=m(a,c,d);let f;if(f=u?e(a):x,n.getState()[t]&&(h(a,c,d),l(a)||i.hasRehydrationInfo(a)))for(const e of p)e(a,c,d);return f}},actions:o};function d(t){return e.api.endpoints[t.endpointName].initiate(t.originalArgs,{subscribe:!1,forceRefetch:!0})}}var ax=Symbol(),rx=({createSelector:e=tt}={})=>({name:ax,init(t,{baseQuery:n,tagTypes:s,reducerPath:i,serializeQueryArgs:a,keepUnusedDataFor:r,refetchOnMountOrArgChange:o,refetchOnFocus:l,refetchOnReconnect:c,invalidationBehavior:d,onSchemaFailure:u,catchSchemaFailure:p,skipSchemaValidation:m},h){Xe();const x=e=>e;Object.assign(t,{reducerPath:i,endpoints:{},internalActions:{onOnline:wh,onOffline:jh,onFocus:bh,onFocusLost:yh},util:{}});const f=function({serializeQueryArgs:e,reducerPath:t,createSelector:n}){const s=e=>Vh,i=e=>Wh;return{buildQuerySelector:function(e,t){return c(e,t,a)},buildInfiniteQuerySelector:function(e,t){const{infiniteQueryOptions:n}=t;return c(e,t,function(e){const t={...e,...ih(e.status)},{isLoading:s,isError:i,direction:a}=t,r="forward"===a,o="backward"===a;return{...t,hasNextPage:d(n,t.data,t.originalArgs),hasPreviousPage:u(n,t.data,t.originalArgs),isFetchingNextPage:s&&r,isFetchingPreviousPage:s&&o,isFetchNextPageError:i&&r,isFetchPreviousPageError:i&&o}})},buildMutationSelector:function(){return e=>{let t;return t="object"==typeof e?zh(e)??$h:e,n(t===$h?i:e=>{var n,s;return(null==(s=null==(n=r(e))?void 0:n.mutations)?void 0:s[t])??Wh},a)}},selectInvalidatedBy:function(e,n){const s=e[t],i=new Set;for(const t of n.filter(ch).map(kh)){const e=s.provided.tags[t.type];if(!e)continue;let n=(void 0!==t.id?e[t.id]:lh(Object.values(e)))??[];for(const t of n)i.add(t)}return lh(Array.from(i.values()).map(e=>{const t=s.queries[e];return t?[{queryCacheKey:e,endpointName:t.endpointName,originalArgs:t.originalArgs}]:[]}))},selectCachedArgsForQuery:function(e,t){return Object.values(o(e)).filter(e=>(null==e?void 0:e.endpointName)===t&&"uninitialized"!==e.status).map(e=>e.originalArgs)},selectApiState:r,selectQueries:o,selectMutations:function(e){var t;return null==(t=r(e))?void 0:t.mutations},selectQueryEntry:l,selectConfig:function(e){var t;return null==(t=r(e))?void 0:t.config}};function a(e){return{...e,...ih(e.status)}}function r(e){return e[t]}function o(e){var t;return null==(t=r(e))?void 0:t.queries}function l(e,t){var n;return null==(n=o(e))?void 0:n[t]}function c(t,i,a){return r=>{if(r===$h)return n(s,a);const o=e({queryArgs:r,endpointDefinition:i,endpointName:t});return n(e=>l(e,o)??Vh,a)}}function d(e,t,n){return!!t&&null!=Lh(e,t,n)}function u(e,t,n){return!(!t||!e.getPreviousPageParam)&&null!=Ph(e,t,n)}}({serializeQueryArgs:a,reducerPath:i,createSelector:e}),{selectInvalidatedBy:g,selectCachedArgsForQuery:v,buildQuerySelector:b,buildInfiniteQuerySelector:y,buildMutationSelector:w}=f;Yh(t.util,{selectInvalidatedBy:g,selectCachedArgsForQuery:v});const{queryThunk:j,infiniteQueryThunk:C,mutationThunk:N,patchQueryData:F,updateQueryData:_,upsertQueryData:k,prefetch:S,buildMatchThunkActions:E}=function({reducerPath:e,baseQuery:t,context:{endpointDefinitions:n},serializeQueryArgs:s,api:i,assertTagType:a,selectors:r,onSchemaFailure:o,catchSchemaFailure:l,skipSchemaValidation:c}){function d(e,t,n=0){const s=[t,...e];return n&&s.length>n?s.slice(0,-1):s}function u(e,t,n=0){const s=[...e,t];return n&&s.length>n?s.slice(1):s}const p=(e,t)=>e.query&&e[t]?e[t]:Dh,m=async(e,{signal:s,abort:i,rejectWithValue:a,fulfillWithValue:m,dispatch:x,getState:f,extra:g})=>{var v,b;const y=n[e.endpointName],{metaSchema:w,skipSchemaValidation:j=c}=y;try{let F=Dh;const _={signal:s,abort:i,dispatch:x,getState:f,extra:g,endpoint:e.endpointName,type:e.type,forced:"query"===e.type?h(e,f()):void 0,queryCacheKey:"query"===e.type?e.queryCacheKey:void 0},k="query"===e.type?e[Sh]:void 0;let S;const E=async(t,n,s,i)=>{if(null==n&&t.pages.length)return Promise.resolve({data:t});const a={queryArg:e.originalArgs,pageParam:n},r=await I(a),o=i?d:u;return{data:{pages:o(t.pages,r.data,s),pageParams:o(t.pageParams,n,s)},meta:r.meta}};async function I(e){let n;const{extraOptions:s,argSchema:i,rawResponseSchema:a,responseSchema:r}=y;if(i&&!Ah(j,"arg")&&(e=await Th(i,e,"argSchema",{})),k?n=k():y.query?(F=p(y,"transformResponse"),n=await t(y.query(e),_,s)):n=await y.queryFn(e,_,s,e=>t(e,_,s)),n.error)throw new vh(n.error,n.meta);let{data:o}=n;a&&!Ah(j,"rawResponse")&&(o=await Th(a,n.data,"rawResponseSchema",n.meta));let l=await F(o,n.meta,e);return r&&!Ah(j,"response")&&(l=await Th(r,l,"responseSchema",n.meta)),{...n,data:l}}if("query"===e.type&&"infiniteQueryOptions"in y){const{infiniteQueryOptions:A}=y,{maxPages:T=1/0}=A;let D;const M={pages:[],pageParams:[]},L=null==(v=r.selectQueryEntry(f(),e.queryCacheKey))?void 0:v.data,P=h(e,f())&&!e.direction||!L?M:L;if("direction"in e&&e.direction&&P.pages.length){const R="backward"===e.direction,O=(R?Ph:Lh)(A,P,e.originalArgs);D=await E(P,O,T,R)}else{const{initialPageParam:z=A.initialPageParam}=e,B=(null==L?void 0:L.pageParams)??[],H=B[0]??z,$=B.length;D=await E(P,H,T),k&&(D={data:D.data.pages[0]});for(let U=1;U<$;U++){const V=Lh(A,D.data,e.originalArgs);D=await E(D.data,V,T)}}S=D}else S=await I(e.originalArgs);return w&&!Ah(j,"meta")&&S.meta&&(S.meta=await Th(w,S.meta,"metaSchema",S.meta)),m(S.data,Mh({fulfilledTimeStamp:Date.now(),baseQueryMeta:S.meta}))}catch(C){let W=C;if(W instanceof vh){let q=p(y,"transformErrorResponse");const{rawErrorResponseSchema:G,errorResponseSchema:Z}=y;let{value:Y,meta:K}=W;try{G&&!Ah(j,"rawErrorResponse")&&(Y=await Th(G,Y,"rawErrorResponseSchema",K)),w&&!Ah(j,"meta")&&(K=await Th(w,K,"metaSchema",K));let J=await q(Y,K,e.originalArgs);return Z&&!Ah(j,"errorResponse")&&(J=await Th(Z,J,"errorResponseSchema",K)),a(J,Mh({baseQueryMeta:K}))}catch(N){W=N}}try{if(W instanceof Ih){const Q={endpoint:e.endpointName,arg:e.originalArgs,type:e.type,queryCacheKey:"query"===e.type?e.queryCacheKey:void 0};null==(b=y.onSchemaFailure)||b.call(y,W,Q),null==o||o(W,Q);const{catchSchemaFailure:X=l}=y;if(X)return a(X(W,Q),Mh({baseQueryMeta:W._bqMeta}))}}catch(N){W=N}throw W}};function h(e,t){const n=r.selectQueryEntry(t,e.queryCacheKey),s=r.selectConfig(t).refetchOnMountOrArgChange,i=null==n?void 0:n.fulfilledTimeStamp,a=e.forceRefetch??(e.subscribe&&s);return!!a&&(!0===a||(Number(new Date)-Number(i))/1e3>=a)}const x=()=>Ze(`${e}/executeQuery`,m,{getPendingMeta({arg:e}){const t=n[e.endpointName];return Mh({startedTimeStamp:Date.now(),...Nh(t)?{direction:e.direction}:{}})},condition(e,{getState:t}){var s;const i=t(),a=r.selectQueryEntry(i,e.queryCacheKey),o=null==a?void 0:a.fulfilledTimeStamp,l=e.originalArgs,c=null==a?void 0:a.originalArgs,d=n[e.endpointName],u=e.direction;return!(!Eh(e)&&("pending"===(null==a?void 0:a.status)||!h(e,i)&&(!Ch(d)||!(null==(s=null==d?void 0:d.forceRefetch)?void 0:s.call(d,{currentArg:l,previousArg:c,endpointState:a,state:i})))&&o&&!u))},dispatchConditionRejection:!0}),f=x(),g=x(),v=Ze(`${e}/executeMutation`,m,{getPendingMeta:()=>Mh({startedTimeStamp:Date.now()})});function b(e){return t=>{var n,s;return(null==(s=null==(n=null==t?void 0:t.meta)?void 0:n.arg)?void 0:s.endpointName)===e}}return{queryThunk:f,mutationThunk:v,infiniteQueryThunk:g,prefetch:(e,t,n)=>(s,a)=>{const r=(e=>"force"in e)(n)&&n.force,o=(e=>"ifOlderThan"in e)(n)&&n.ifOlderThan,l=(n=!0)=>{const s={forceRefetch:n,isPrefetch:!0};return i.endpoints[e].initiate(t,s)},c=i.endpoints[e].select(t)(a());if(r)s(l());else if(o){const e=null==c?void 0:c.fulfilledTimeStamp;if(!e)return void s(l());(Number(new Date)-Number(new Date(e)))/1e3>=o&&s(l())}else s(l(!1))},updateQueryData:(e,t,n,s=!0)=>(a,r)=>{const o=i.endpoints[e].select(t)(r()),l={patches:[],inversePatches:[],undo:()=>a(i.util.patchQueryData(e,t,l.inversePatches,s))};if("uninitialized"===o.status)return l;let c;if("data"in o)if(mt(o.data)){const[e,t,s]=ht(o.data,n);l.patches.push(...t),l.inversePatches.push(...s),c=e}else c=n(o.data),l.patches.push({op:"replace",path:[],value:c}),l.inversePatches.push({op:"replace",path:[],value:o.data});return 0===l.patches.length||a(i.util.patchQueryData(e,t,l.patches,s)),l},upsertQueryData:(e,t,n)=>s=>s(i.endpoints[e].initiate(t,{subscribe:!1,forceRefetch:!0,[Sh]:()=>({data:n})})),patchQueryData:(e,t,r,o)=>(l,c)=>{const d=n[e],u=s({queryArgs:t,endpointDefinition:d,endpointName:e});if(l(i.internalActions.queryResultPatched({queryCacheKey:u,patches:r})),!o)return;const p=i.endpoints[e].select(t)(c()),m=_h(d.providesTags,p.data,void 0,t,{},a);l(i.internalActions.updateProvidedBy([{queryCacheKey:u,providedTags:m}]))},buildMatchThunkActions:function(e,t){return{matchPending:dt(pt(e),b(t)),matchFulfilled:dt(rt(e),b(t)),matchRejected:dt(ut(e),b(t))}}}}({baseQuery:n,reducerPath:i,context:h,api:t,serializeQueryArgs:a,assertTagType:x,selectors:f,onSchemaFailure:u,catchSchemaFailure:p,skipSchemaValidation:m}),{reducer:I,actions:A}=function({reducerPath:e,queryThunk:t,mutationThunk:n,serializeQueryArgs:s,context:{endpointDefinitions:i,apiUid:a,extractRehydrationInfo:r,hasRehydrationInfo:o},assertTagType:l,config:c}){const d=et(`${e}/resetApiState`);function u(e,t,n,s){var a;e[a=t.queryCacheKey]??(e[a]={status:"uninitialized",endpointName:t.endpointName}),Oh(e,t.queryCacheKey,e=>{e.status="pending",e.requestId=n&&e.requestId?e.requestId:s.requestId,void 0!==t.originalArgs&&(e.originalArgs=t.originalArgs),e.startedTimeStamp=s.startedTimeStamp,Nh(i[s.arg.endpointName])&&"direction"in t&&(e.direction=t.direction)})}function p(e,t,n,s){Oh(e,t.arg.queryCacheKey,e=>{if(e.requestId!==t.requestId&&!s)return;const{merge:a}=i[t.arg.endpointName];if(e.status="fulfilled",a)if(void 0!==e.data){const{fulfilledTimeStamp:s,arg:i,baseQueryMeta:r,requestId:o}=t;let l=nt(e.data,e=>a(e,n,{arg:i.originalArgs,baseQueryMeta:r,fulfilledTimeStamp:s,requestId:o}));e.data=l}else e.data=n;else e.data=i[t.arg.endpointName].structuralSharing??1?rh(vt(e.data)?gt(e.data):e.data,n):n;delete e.error,e.fulfilledTimeStamp=t.fulfilledTimeStamp})}const m=Ge({name:`${e}/queries`,initialState:Hh,reducers:{removeQueryResult:{reducer(e,{payload:{queryCacheKey:t}}){delete e[t]},prepare:st()},cacheEntriesUpserted:{reducer(e,t){for(const n of t.payload){const{queryDescription:s,value:i}=n;u(e,s,!0,{arg:s,requestId:t.meta.requestId,startedTimeStamp:t.meta.timestamp}),p(e,{arg:s,requestId:t.meta.requestId,fulfilledTimeStamp:t.meta.timestamp,baseQueryMeta:{}},i,!0)}},prepare:e=>({payload:e.map(e=>{const{endpointName:t,arg:n,value:a}=e,r=i[t];return{queryDescription:{type:"query",endpointName:t,originalArgs:e.arg,queryCacheKey:s({queryArgs:n,endpointDefinition:r,endpointName:t})},value:a}}),meta:{[ct]:!0,requestId:Je(),timestamp:Date.now()}})},queryResultPatched:{reducer(e,{payload:{queryCacheKey:t,patches:n}}){Oh(e,t,e=>{e.data=ot(e.data,n.concat())})},prepare:st()}},extraReducers(e){e.addCase(t.pending,(e,{meta:t,meta:{arg:n}})=>{u(e,n,Eh(n),t)}).addCase(t.fulfilled,(e,{meta:t,payload:n})=>{p(e,t,n,Eh(t.arg))}).addCase(t.rejected,(e,{meta:{condition:t,arg:n,requestId:s},error:i,payload:a})=>{Oh(e,n.queryCacheKey,e=>{if(t);else{if(e.requestId!==s)return;e.status="rejected",e.error=a??i}})}).addMatcher(o,(e,t)=>{const{queries:n}=r(t);for(const[s,i]of Object.entries(n))"fulfilled"!==(null==i?void 0:i.status)&&"rejected"!==(null==i?void 0:i.status)||(e[s]=i)})}}),h=Ge({name:`${e}/mutations`,initialState:Hh,reducers:{removeMutationResult:{reducer(e,{payload:t}){const n=zh(t);n in e&&delete e[n]},prepare:st()}},extraReducers(e){e.addCase(n.pending,(e,{meta:t,meta:{requestId:n,arg:s,startedTimeStamp:i}})=>{s.track&&(e[zh(t)]={requestId:n,status:"pending",endpointName:s.endpointName,startedTimeStamp:i})}).addCase(n.fulfilled,(e,{payload:t,meta:n})=>{n.arg.track&&Bh(e,n,e=>{e.requestId===n.requestId&&(e.status="fulfilled",e.data=t,e.fulfilledTimeStamp=n.fulfilledTimeStamp)})}).addCase(n.rejected,(e,{payload:t,error:n,meta:s})=>{s.arg.track&&Bh(e,s,e=>{e.requestId===s.requestId&&(e.status="rejected",e.error=t??n)})}).addMatcher(o,(e,t)=>{const{mutations:n}=r(t);for(const[s,i]of Object.entries(n))"fulfilled"!==(null==i?void 0:i.status)&&"rejected"!==(null==i?void 0:i.status)||s===(null==i?void 0:i.requestId)||(e[s]=i)})}}),x=Ge({name:`${e}/invalidation`,initialState:{tags:{},keys:{}},reducers:{updateProvidedBy:{reducer(e,t){var n,s,i;for(const{queryCacheKey:a,providedTags:r}of t.payload){f(e,a);for(const{type:t,id:o}of r){const r=(s=(n=e.tags)[t]??(n[t]={}))[i=o||"__internal_without_id"]??(s[i]=[]);r.includes(a)||r.push(a)}e.keys[a]=r}},prepare:st()}},extraReducers(e){e.addCase(m.actions.removeQueryResult,(e,{payload:{queryCacheKey:t}})=>{f(e,t)}).addMatcher(o,(e,t)=>{var n,s,i;const{provided:a}=r(t);for(const[r,o]of Object.entries(a.tags??{}))for(const[t,l]of Object.entries(o)){const o=(s=(n=e.tags)[r]??(n[r]={}))[i=t||"__internal_without_id"]??(s[i]=[]);for(const t of l)o.includes(t)||o.push(t),e.keys[t]=a.keys[t]}}).addMatcher(it(rt(t),at(t)),(e,t)=>{g(e,[t])}).addMatcher(m.actions.cacheEntriesUpserted.match,(e,t)=>{g(e,t.payload.map(({queryDescription:e,value:t})=>({type:"UNKNOWN",payload:t,meta:{requestStatus:"fulfilled",requestId:"UNKNOWN",arg:e}})))})}});function f(e,t){var n;const s=e.keys[t]??[];for(const i of s){const s=i.type,a=i.id??"__internal_without_id",r=null==(n=e.tags[s])?void 0:n[a];r&&(e.tags[s][a]=r.filter(e=>e!==t))}delete e.keys[t]}function g(e,t){const n=t.map(e=>{const t=Rh(e,"providesTags",i,l),{queryCacheKey:n}=e.meta.arg;return{queryCacheKey:n,providedTags:t}});x.caseReducers.updateProvidedBy(e,x.actions.updateProvidedBy(n))}const v=Ge({name:`${e}/subscriptions`,initialState:Hh,reducers:{updateSubscriptionOptions(e,t){},unsubscribeQueryResult(e,t){},internal_getRTKQSubscriptions(){}}}),b=Ge({name:`${e}/internalSubscriptions`,initialState:Hh,reducers:{subscriptionsUpdated:{reducer:(e,t)=>ot(e,t.payload),prepare:st()}}}),y=Ge({name:`${e}/config`,initialState:{online:"undefined"==typeof navigator||void 0===navigator.onLine||navigator.onLine,focused:"undefined"==typeof document||"hidden"!==document.visibilityState,middlewareRegistered:!1,...c},reducers:{middlewareRegistered(e,{payload:t}){e.middlewareRegistered="conflict"!==e.middlewareRegistered&&a===t||"conflict"}},extraReducers:e=>{e.addCase(wh,e=>{e.online=!0}).addCase(jh,e=>{e.online=!1}).addCase(bh,e=>{e.focused=!0}).addCase(yh,e=>{e.focused=!1}).addMatcher(o,e=>({...e}))}}),w=lt({queries:m.reducer,mutations:h.reducer,provided:x.reducer,subscriptions:b.reducer,config:y.reducer});return{reducer:(e,t)=>w(d.match(t)?void 0:e,t),actions:{...y.actions,...m.actions,...v.actions,...b.actions,...h.actions,...x.actions,resetApiState:d}}}({context:h,queryThunk:j,mutationThunk:N,serializeQueryArgs:a,reducerPath:i,assertTagType:x,config:{refetchOnFocus:l,refetchOnReconnect:c,refetchOnMountOrArgChange:o,keepUnusedDataFor:r,reducerPath:i,invalidationBehavior:d}});Yh(t.util,{patchQueryData:F,updateQueryData:_,upsertQueryData:k,prefetch:S,resetApiState:A.resetApiState,upsertQueryEntries:A.cacheEntriesUpserted}),Yh(t.internalActions,A);const T={currentSubscriptions:new Map,currentPolls:new Map,runningQueries:new Map,runningMutations:new Map},{buildInitiateQuery:D,buildInitiateInfiniteQuery:M,buildInitiateMutation:L,getRunningMutationThunk:P,getRunningMutationsThunk:R,getRunningQueriesThunk:O,getRunningQueryThunk:z}=function({serializeQueryArgs:e,queryThunk:t,infiniteQueryThunk:n,mutationThunk:s,api:i,context:a,internalState:r}){const{runningQueries:o,runningMutations:l}=r,{unsubscribeQueryResult:c,removeMutationResult:d,updateSubscriptionOptions:u}=i.internalActions;return{buildInitiateQuery:function(e,t){return p(e,t)},buildInitiateInfiniteQuery:function(e,t){return p(e,t)},buildInitiateMutation:function(e){return(t,{track:n=!0,fixedCacheKey:i}={})=>(a,r)=>{const o=s({type:"mutation",endpointName:e,originalArgs:t,track:n,fixedCacheKey:i}),c=a(o),{requestId:u,abort:p,unwrap:m}=c,h=(x=e=>({error:e}),c.unwrap().then(e=>({data:e})).catch(x));var x;const f=Object.assign(h,{arg:c.arg,requestId:u,abort:p,unwrap:m,reset:()=>{a(d({requestId:u,fixedCacheKey:i}))}}),g=l.get(a)||{};return l.set(a,g),g[u]=f,f.then(()=>{delete g[u],oh(g)||l.delete(a)}),i&&(g[i]=f,f.then(()=>{g[i]===f&&(delete g[i],oh(g)||l.delete(a))})),f}},getRunningQueryThunk:function(t,n){return s=>{var i;const r=a.endpointDefinitions[t],l=e({queryArgs:n,endpointDefinition:r,endpointName:t});return null==(i=o.get(s))?void 0:i[l]}},getRunningMutationThunk:function(e,t){return e=>{var n;return null==(n=l.get(e))?void 0:n[t]}},getRunningQueriesThunk:function(){return e=>Object.values(o.get(e)||{}).filter(ch)},getRunningMutationsThunk:function(){return e=>Object.values(l.get(e)||{}).filter(ch)}};function p(s,a){const r=(l,{subscribe:d=!0,forceRefetch:p,subscriptionOptions:m,[Sh]:h,...x}={})=>(f,g)=>{var v;const b=e({queryArgs:l,endpointDefinition:a,endpointName:s});let y;const w={...x,type:"query",subscribe:d,forceRefetch:p,subscriptionOptions:m,endpointName:s,originalArgs:l,queryCacheKey:b,[Sh]:h};if(Ch(a))y=t(w);else{const{direction:e,initialPageParam:t}=x;y=n({...w,direction:e,initialPageParam:t})}const j=i.endpoints[s].select(l),C=f(y),N=j(g()),{requestId:F,abort:_}=C,k=N.requestId!==F,S=null==(v=o.get(f))?void 0:v[b],E=()=>j(g()),I=Object.assign(h?C.then(E):k&&!S?Promise.resolve(N):Promise.all([S,C]).then(E),{arg:l,requestId:F,subscriptionOptions:m,queryCacheKey:b,abort:_,async unwrap(){const e=await I;if(e.isError)throw e.error;return e.data},refetch:()=>f(r(l,{subscribe:!1,forceRefetch:!0})),unsubscribe(){d&&f(c({queryCacheKey:b,requestId:F}))},updateSubscriptionOptions(e){I.subscriptionOptions=e,f(u({endpointName:s,requestId:F,queryCacheKey:b,options:e}))}});if(!S&&!k&&!h){const e=(T=f,D={},(A=o).has(T)?A.get(T):A.set(T,D).get(T));e[b]=I,I.then(()=>{delete e[b],oh(e)||o.delete(f)})}var A,T,D;return I};return r}}({queryThunk:j,mutationThunk:N,infiniteQueryThunk:C,api:t,serializeQueryArgs:a,context:h,internalState:T});Yh(t.util,{getRunningMutationThunk:P,getRunningMutationsThunk:R,getRunningQueryThunk:z,getRunningQueriesThunk:O});const{middleware:B,actions:H}=ix({reducerPath:i,context:h,queryThunk:j,mutationThunk:N,infiniteQueryThunk:C,api:t,assertTagType:x,selectors:f,getRunningQueryThunk:z,internalState:T});return Yh(t.util,H),Yh(t,{reducer:I,middleware:B}),{name:ax,injectEndpoint(e,n){var s;const i=(s=t.endpoints)[e]??(s[e]={});Ch(n)&&Yh(i,{name:e,select:b(e,n),initiate:D(e,n)},E(j,e)),"mutation"===n.type&&Yh(i,{name:e,select:w(),initiate:L(e)},E(N,e)),Nh(n)&&Yh(i,{name:e,select:y(e,n),initiate:M(e,n)},E(j,e))}}}});function ox(e){return e.replace(e[0],e[0].toUpperCase())}function lx(e){return"infinitequery"===e.type}function cx(e,...t){return Object.assign(e,...t)}rx();var dx=Symbol();function ux(e){const t=De.useRef(e),n=De.useMemo(()=>rh(t.current,e),[e]);return De.useEffect(()=>{t.current!==n&&(t.current=n)},[n]),n}function px(e){const t=De.useRef(e);return De.useEffect(()=>{Ct(t.current,e)||(t.current=e)},[e]),Ct(t.current,e)?t.current:e}var mx=(()=>!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement))(),hx=(()=>"undefined"!=typeof navigator&&"ReactNative"===navigator.product)(),xx=(()=>mx||hx?De.useLayoutEffect:De.useEffect)(),fx=e=>e.isUninitialized?{...e,isUninitialized:!1,isFetching:!0,isLoading:void 0===e.data,status:sh.pending}:e;function gx(e,...t){const n={};return t.forEach(t=>{n[t]=e[t]}),n}var vx=["data","status","isLoading","isSuccess","isError","error"];var bx=Symbol(),yx=Zh(rx(),(({batch:e=bt,hooks:t={useDispatch:jt,useSelector:wt,useStore:yt},createSelector:n=tt,unstable__sideEffectsInRender:s=!1,...i}={})=>({name:bx,init(i,{serializeQueryArgs:a},r){const o=i,{buildQueryHooks:l,buildInfiniteQueryHooks:c,buildMutationHook:d,usePrefetch:u}=function({api:e,moduleOptions:{batch:t,hooks:{useDispatch:n,useSelector:s,useStore:i},unstable__sideEffectsInRender:a,createSelector:r},serializeQueryArgs:o,context:l}){const c=a?e=>e():De.useEffect;return{buildQueryHooks:function(s){const i=(e,t={})=>{const[n]=p(s,e,t);return h(n),De.useMemo(()=>({refetch:()=>x(n)}),[n])},a=({refetchOnReconnect:i,refetchOnFocus:a,pollingInterval:r=0,skipPollingIfUnfocused:o=!1}={})=>{const{initiate:l}=e.endpoints[s],d=n(),[u,p]=De.useState(dx),m=De.useRef(void 0),h=px({refetchOnReconnect:i,refetchOnFocus:a,pollingInterval:r,skipPollingIfUnfocused:o});c(()=>{var e,t;const n=null==(e=m.current)?void 0:e.subscriptionOptions;h!==n&&(null==(t=m.current)||t.updateSubscriptionOptions(h))},[h]);const x=De.useRef(h);c(()=>{x.current=h},[h]);const f=De.useCallback(function(e,n=!1){let s;return t(()=>{var t;null==(t=m.current)||t.unsubscribe(),m.current=s=d(l(e,{subscriptionOptions:x.current,forceRefetch:!n})),p(e)}),s},[d,l]),g=De.useCallback(()=>{var t,n;(null==(t=m.current)?void 0:t.queryCacheKey)&&d(e.internalActions.removeQueryResult({queryCacheKey:null==(n=m.current)?void 0:n.queryCacheKey}))},[d]);return De.useEffect(()=>()=>{var e;null==(e=null==m?void 0:m.current)||e.unsubscribe()},[]),De.useEffect(()=>{u===dx||m.current||f(u,!0)},[u,f]),De.useMemo(()=>[f,u,{reset:g}],[f,u,g])},r=m(s,d);return{useQueryState:r,useQuerySubscription:i,useLazyQuerySubscription:a,useLazyQuery(e){const[t,n,{reset:s}]=a(e),i=r(n,{...e,skip:n===dx}),o=De.useMemo(()=>({lastArg:n}),[n]);return De.useMemo(()=>[t,{...i,reset:s},o],[t,i,s,o])},useQuery(e,t){const n=i(e,t),s=r(e,{selectFromResult:e===$h||(null==t?void 0:t.skip)?void 0:fx,...t}),a=gx(s,...vx);return De.useDebugValue(a),De.useMemo(()=>({...s,...n}),[s,n])}}},buildInfiniteQueryHooks:function(e){const n=(n,s={})=>{const[i,a,r,o]=p(e,n,s),l=De.useRef(o);c(()=>{l.current=o},[o]);const d=De.useCallback(function(e,n){let s;return t(()=>{var t;null==(t=i.current)||t.unsubscribe(),i.current=s=a(r(e,{subscriptionOptions:l.current,direction:n}))}),s},[i,a,r]);h(i);const u=ux(s.skip?$h:n),m=De.useCallback(()=>x(i),[i]);return De.useMemo(()=>({trigger:d,refetch:m,fetchNextPage:()=>d(u,"forward"),fetchPreviousPage:()=>d(u,"backward")}),[m,d,u])},s=m(e,u);return{useInfiniteQueryState:s,useInfiniteQuerySubscription:n,useInfiniteQuery(e,t){const{refetch:i,fetchNextPage:a,fetchPreviousPage:r}=n(e,t),o=s(e,{selectFromResult:e===$h||(null==t?void 0:t.skip)?void 0:fx,...t}),l=gx(o,...vx,"hasNextPage","hasPreviousPage");return De.useDebugValue(l),De.useMemo(()=>({...o,fetchNextPage:a,fetchPreviousPage:r,refetch:i}),[o,a,r,i])}}},buildMutationHook:function(i){return({selectFromResult:a,fixedCacheKey:o}={})=>{const{select:l,initiate:c}=e.endpoints[i],d=n(),[u,p]=De.useState();De.useEffect(()=>()=>{(null==u?void 0:u.arg.fixedCacheKey)||null==u||u.reset()},[u]);const m=De.useCallback(function(e){const t=d(c(e,{fixedCacheKey:o}));return p(t),t},[d,c,o]),{requestId:h}=u||{},x=De.useMemo(()=>l({fixedCacheKey:o,requestId:null==u?void 0:u.requestId}),[o,u,l]),f=De.useMemo(()=>a?r([x],a):x,[a,x]),g=s(f,Ct),v=null==o?null==u?void 0:u.arg.originalArgs:void 0,b=De.useCallback(()=>{t(()=>{u&&p(void 0),o&&d(e.internalActions.removeMutationResult({requestId:h,fixedCacheKey:o}))})},[d,o,u,h]),y=gx(g,...vx,"endpointName");De.useDebugValue(y);const w=De.useMemo(()=>({...g,originalArgs:v,reset:b}),[g,v,b]);return De.useMemo(()=>[m,w],[m,w])}},usePrefetch:function(t,s){const i=n(),a=px(s);return De.useCallback((n,s)=>i(e.util.prefetch(t,n,{...a,...s})),[t,i,a])}};function d(e,t,n){if((null==t?void 0:t.endpointName)&&e.isUninitialized){const{endpointName:e}=t,s=l.endpointDefinitions[e];n!==$h&&o({queryArgs:t.originalArgs,endpointDefinition:s,endpointName:e})===o({queryArgs:n,endpointDefinition:s,endpointName:e})&&(t=void 0)}let s=e.isSuccess?e.data:null==t?void 0:t.data;void 0===s&&(s=e.data);const i=void 0!==s,a=e.isLoading,r=(!t||t.isLoading||t.isUninitialized)&&!i&&a,c=e.isSuccess||i&&(a&&!(null==t?void 0:t.isError)||e.isUninitialized);return{...e,data:s,currentData:e.data,isFetching:a,isLoading:r,isSuccess:c}}function u(e,t,n){if((null==t?void 0:t.endpointName)&&e.isUninitialized){const{endpointName:e}=t,s=l.endpointDefinitions[e];n!==$h&&o({queryArgs:t.originalArgs,endpointDefinition:s,endpointName:e})===o({queryArgs:n,endpointDefinition:s,endpointName:e})&&(t=void 0)}let s=e.isSuccess?e.data:null==t?void 0:t.data;void 0===s&&(s=e.data);const i=void 0!==s,a=e.isLoading,r=(!t||t.isLoading||t.isUninitialized)&&!i&&a,c=e.isSuccess||a&&i;return{...e,data:s,currentData:e.data,isFetching:a,isLoading:r,isSuccess:c}}function p(t,s,{refetchOnReconnect:i,refetchOnFocus:a,refetchOnMountOrArgChange:r,skip:o=!1,pollingInterval:d=0,skipPollingIfUnfocused:u=!1,...p}={}){const{initiate:m}=e.endpoints[t],h=n(),x=De.useRef(void 0);if(!x.current){const t=h(e.internalActions.internal_getRTKQSubscriptions());x.current=t}const f=ux(o?$h:s),g=px({refetchOnReconnect:i,refetchOnFocus:a,pollingInterval:d,skipPollingIfUnfocused:u}),v=px(p.initialPageParam),b=De.useRef(void 0);let{queryCacheKey:y,requestId:w}=b.current||{},j=!1;y&&w&&(j=x.current.isRequestSubscribed(y,w));const C=!j&&void 0!==b.current;return c(()=>{C&&(b.current=void 0)},[C]),c(()=>{var e;const n=b.current;if(f===$h)return null==n||n.unsubscribe(),void(b.current=void 0);const s=null==(e=b.current)?void 0:e.subscriptionOptions;if(n&&n.arg===f)g!==s&&n.updateSubscriptionOptions(g);else{null==n||n.unsubscribe();const e=h(m(f,{subscriptionOptions:g,forceRefetch:r,...lx(l.endpointDefinitions[t])?{initialPageParam:v}:{}}));b.current=e}},[h,m,r,f,g,C,v,t]),[b,h,m,g]}function m(t,n){return(a,{skip:o=!1,selectFromResult:l}={})=>{const{select:c}=e.endpoints[t],d=ux(o?$h:a),u=De.useRef(void 0),p=De.useMemo(()=>r([c(d),(e,t)=>t,e=>d],n,{memoizeOptions:{resultEqualityCheck:Ct}}),[c,d]),m=De.useMemo(()=>l?r([p],l,{devModeChecks:{identityFunctionCheck:"never"}}):p,[p,l]),h=s(e=>m(e,u.current),Ct),x=i(),f=p(x.getState(),u.current);return xx(()=>{u.current=f},[f]),h}}function h(e){De.useEffect(()=>()=>{var t,n;null==(n=null==(t=e.current)?void 0:t.unsubscribe)||n.call(t),e.current=void 0},[e])}function x(e){if(!e.current)throw new Error(Qe(38));return e.current.refetch()}}({api:i,moduleOptions:{batch:e,hooks:t,unstable__sideEffectsInRender:s,createSelector:n},serializeQueryArgs:a,context:r});return cx(o,{usePrefetch:u}),cx(r,{batch:e}),{injectEndpoint(e,t){if("query"===t.type){const{useQuery:t,useLazyQuery:n,useLazyQuerySubscription:s,useQueryState:a,useQuerySubscription:r}=l(e);cx(o.endpoints[e],{useQuery:t,useLazyQuery:n,useLazyQuerySubscription:s,useQueryState:a,useQuerySubscription:r}),i[`use${ox(e)}Query`]=t,i[`useLazy${ox(e)}Query`]=n}if(function(e){return"mutation"===e.type}(t)){const t=d(e);cx(o.endpoints[e],{useMutation:t}),i[`use${ox(e)}Mutation`]=t}else if(lx(t)){const{useInfiniteQuery:t,useInfiniteQuerySubscription:n,useInfiniteQueryState:s}=c(e);cx(o.endpoints[e],{useInfiniteQuery:t,useInfiniteQuerySubscription:n,useInfiniteQueryState:s}),i[`use${ox(e)}InfiniteQuery`]=t}}}}}))());const wx=async()=>{try{return xp()?await window.electron.ipcRenderer.invoke("get-app-version"):"1.0.21"}catch(e){return"1.0.18"}},jx=gh({baseUrl:qt.apiBaseUrl,prepareHeaders:async(e,{endpoint:t})=>{var n;const s=await Kt.auth.getSession();return(null==(n=s.data.session)?void 0:n.access_token)&&e.set("Authorization",`Bearer ${s.data.session.access_token}`),"transcribeAudio"!==t&&e.set("Content-Type","application/json"),e}}),Cx=gh({baseUrl:qt._file_upload_url,prepareHeaders:async e=>{var t;const n=await Kt.auth.getSession();(null==(t=n.data.session)?void 0:t.access_token)&&e.set("Authorization",`Bearer ${n.data.session.access_token}`);const s=qt.apiBaseUrl;if(s&&s.includes(".run.app")){const t=s.match(/agent-service-([^-]+)-\d+\..*\.run\.app/);t&&t[1]&&e.set("eph_name",t[1])}return e}}),Nx=yx({reducerPath:"api",baseQuery:jx,tagTypes:["GitHubInstallations","GitHubRepositories","GitHubBranches","GitHubUserDetails","PreviewURL","Referral","DownloadCode","Credits","ProModePayment","Budget","Jobs","Config","SubscriptionPlans","SubscriptionStatus","Workspace"],endpoints:e=>({archiveJob:e.mutation({query:({jobId:e,deletedBy:t})=>({url:`/jobs/v0/${e}/archive`,method:"POST",body:{deletedBy:t}})}),getGitHubUserDetails:e.query({query:()=>{let e="";try{const t=localStorage.getItem("pending_referral_code");if(t){e=JSON.parse(t).code}}catch(s){}const t=jp(),n={};return Object.keys(t).length>0&&(n.ads_metadata=t),{url:"/user/details"+(e?`?referral_code=${e}`:""),method:"POST",body:n}},providesTags:["GitHubUserDetails"],transformResponse:e=>{if(e.referral_message){try{const t={shouldShow:!0,message:e.referral_message,reward:e.reward_amount||5,timestamp:Date.now()};localStorage.setItem("referral_modal_data",JSON.stringify(t))}catch(t){}try{localStorage.removeItem("pending_referral_code")}catch(t){}}return e},transformErrorResponse:e=>{var t;return{id:null,github:{authorized:!1,account_name:""},referral_info:{referral_code:"",referrer_email:null,signed_up_at:""},github_installations:[],error:(null==(t=e.data)?void 0:t.detail)||"Failed to fetch user details"}}}),getGitHubInstallations:e.query({query:()=>"/github/installations",providesTags:["GitHubInstallations"],transformResponse:e=>{if(e.error)throw new Error(e.error);return(Array.isArray(e)?e:[]).map(e=>{var t,n,s;return{installation_id:(null==(t=e.account)?void 0:t.login)||e.account_login,account_login:(null==(n=e.account)?void 0:n.login)||e.account_login,account_type:e.target_type||e.account_type,user_github_login:(null==(s=e.account)?void 0:s.login)||e.user_github_login,app_slug:e.app_slug,isPrimary:!1,account:e.account,target_type:e.target_type}})},transformErrorResponse:e=>{var t;return{installations:[],error:(null==(t=e.data)?void 0:t.message)||"Failed to fetch installations"}}}),getGitHubRepositories:e.query({query:e=>e?`/github/repositories?account_login=${encodeURIComponent(e)}`:"/github/repositories",providesTags:(e,t,n)=>[{type:"GitHubRepositories",id:n||"ALL"}],transformResponse:(e,t,n)=>{if(e.error)throw new Error(e.error);const s=e.repositories||[];return n?s.filter(e=>{var t,s;return(null==(t=e.owner)?void 0:t.login)===n||(null==(s=e.full_name)?void 0:s.startsWith(`${n}/`))}):s},transformErrorResponse:e=>{var t;return{repositories:[],error:(null==(t=e.data)?void 0:t.message)||"Failed to fetch repositories"}}}),getGitHubBranches:e.query({query:({accountLogin:e,repoName:t})=>`/github/branches/${encodeURIComponent(e)}/${encodeURIComponent(t)}`,providesTags:(e,t,{accountLogin:n,repoName:s})=>[{type:"GitHubBranches",id:`${n}/${s}`}],transformResponse:e=>{if(e.error)throw new Error(e.error);return Array.isArray(e)?e:Array.isArray(e.branches)?e.branches:[]},transformErrorResponse:e=>{var t;return{branches:[],error:(null==(t=e.data)?void 0:t.message)||"Failed to fetch branches"}}}),createGitHubRepository:e.mutation({query:e=>({url:"/github/repositories",method:"POST",body:e}),invalidatesTags:["GitHubRepositories"]}),pushToGitHub:e.mutation({query:({jobId:e,data:t})=>({url:`/jobs/v0/push_to_github/${e}`,method:"POST",body:t}),invalidatesTags:["GitHubRepositories","GitHubBranches"]}),saveGitHubInstallation:e.mutation({query:({installationId:e,code:t})=>({url:"/github/installation",method:"POST",body:{installation_id:e,code:t}}),invalidatesTags:["GitHubInstallations","GitHubUserDetails"]}),getJobPreviewUrl:e.query({query:e=>`/jobs/v0/${e}/preview`,providesTags:(e,t,n)=>[{type:"PreviewURL",id:n}],transformResponse:e=>e,transformErrorResponse:e=>{var t;return{error:(null==(t=e.data)?void 0:t.message)||"Failed to fetch preview URL"}}}),getCodeDownloadUrl:e.query({query:e=>`/download/pod-backup/download-zip?job_id=${e}`,providesTags:(e,t,n)=>[{type:"DownloadCode",id:n}],transformResponse:e=>e,transformErrorResponse:e=>{var t;return{error:(null==(t=e.data)?void 0:t.message)||"Failed to fetch download URL"}}}),getCreditsBalance:e.query({query:e=>({url:"/credits/balance",params:(null==e?void 0:e.organization_id)?{organization_id:e.organization_id}:{}}),providesTags:["Credits"],transformResponse:e=>{if(e.error)throw new Error(e.error);return e},transformErrorResponse:e=>{var t,n;return{error:(null==(t=e.data)?void 0:t.message)||(null==(n=e.data)?void 0:n.detail)||"Failed to fetch credits balance",ecu_balance:0,top_up_credit_balance:0,monthly_credits_balance:0,monthly_credits_refresh_date:"",subscription:{id:"",name:"",status:"free",expires_at:!1,monthly_credit_limit:5,subscription_details:{id:"",amount:0}}}}}),checkProModePayment:e.query({query:({tag:e})=>`/payments/custom-payments/check?tag=${encodeURIComponent(e)}`,providesTags:["ProModePayment"],transformResponse:e=>e,transformErrorResponse:e=>{var t,n;return{exists:!1,error:(null==(t=e.data)?void 0:t.message)||(null==(n=e.data)?void 0:n.detail)||"Failed to check payment status"}}}),getSubscriptionPlans:e.query({query:e=>({url:"/payments/subscription/plans",params:(null==e?void 0:e.organization_id)?{organization_id:e.organization_id}:{}}),providesTags:["SubscriptionPlans"],transformResponse:e=>e,transformErrorResponse:e=>{var t,n;return{current_subscription:null,available_plans:[],error:(null==(t=e.data)?void 0:t.message)||(null==(n=e.data)?void 0:n.detail)||"Failed to fetch subscription plans"}}}),checkSubscriptionStatus:e.query({query:({paymentId:e,organizationId:t})=>({url:`/payments/${e}/status`,params:t?{organization_id:t}:{}}),providesTags:(e,t,{paymentId:n})=>[{type:"SubscriptionStatus",id:n}],transformResponse:e=>e,transformErrorResponse:e=>{var t,n,s,i;return{status:"failed",message:(null==(t=e.data)?void 0:t.message)||(null==(n=e.data)?void 0:n.detail)||"Failed to check subscription status",error:(null==(s=e.data)?void 0:s.message)||(null==(i=e.data)?void 0:i.detail)||"Failed to check subscription status"}}}),getBudget:e.query({query:({jobId:e,organization_id:t})=>({url:`/budget/${e}`,params:t?{organization_id:t}:{}}),providesTags:(e,t,{jobId:n})=>[{type:"Budget",id:n}],transformResponse:e=>{var t;if(!e.success)throw new Error((null==(t=e.data)?void 0:t.error)||"Failed to fetch budget");return e.data},transformErrorResponse:e=>{var t,n;return{error:(null==(t=e.data)?void 0:t.error)||(null==(n=e.data)?void 0:n.detail)||"Failed to fetch budget information"}}}),updateBudget:e.mutation({query:({jobId:e,amount:t,organization_id:n})=>({url:`/budget/${e}`,method:"PUT",body:{amount:t},params:n?{organization_id:n}:{}}),invalidatesTags:(e,t,{jobId:n})=>[{type:"Budget",id:n}],transformResponse:e=>{var t;if(!e.success)throw new Error((null==(t=e.data)?void 0:t.error)||"Failed to update budget");return e.data},transformErrorResponse:e=>{var t,n;return{error:(null==(t=e.data)?void 0:t.error)||(null==(n=e.data)?void 0:n.detail)||"Failed to update budget"}}}),getJobs:e.query({query:e=>{const t=`/jobs/v0/?limit=${(null==e?void 0:e.limit)||250}`;return(null==e?void 0:e.organization_id)?`${t}&organization_id=${encodeURIComponent(e.organization_id)}`:t},providesTags:(e,t,n)=>[{type:"Jobs",id:(null==n?void 0:n.organization_id)||"ALL"}],transformResponse:e=>(null==e?void 0:e.jobs)||[],transformErrorResponse:e=>{var t,n;return{error:(null==(t=e.data)?void 0:t.message)||(null==(n=e.data)?void 0:n.detail)||"Failed to fetch jobs"}}}),getJob:e.query({query:e=>`/jobs/v0/${e}/`,providesTags:(e,t,n)=>[{type:"Jobs",id:n}],transformResponse:e=>e,transformErrorResponse:e=>{var t,n;return{error:(null==(t=e.data)?void 0:t.message)||(null==(n=e.data)?void 0:n.detail)||"Failed to fetch job"}}}),getConfig:e.query({queryFn:async(e,t,n,s)=>{try{const t=await Cg(),n={app_version:t||await wx()};(null==e?void 0:e.organization_id)&&(n.organization_id=e.organization_id);const i=await s({url:"/repositories/config",params:n});return i.error?{error:i.error}:{data:i.data}}catch(i){return{error:{status:"CUSTOM_ERROR",error:i instanceof Error?i.message:"Failed to fetch config"}}}},providesTags:["Config"]}),uploadFileStream:e.mutation({queryFn:async({jobId:e,file:t,fileName:n,description:s},i)=>{const a=new URLSearchParams({job_id:e,file_name:n});s&&a.set("description",s);const r=await Cx({url:`/api/v1/files/stream?${a}`,method:"POST",body:t,headers:{"Content-Type":"application/octet-stream","Content-Length":t.size.toString()}},i,{});return r.error?{error:r.error}:{data:r.data}}}),submitHITL:e.mutation({query:({payload:e,client_ref_id:t,resume:n=!1,finalize_artifact_upload:s})=>{const i={client_ref_id:t,payload:{processor_type:"env_only",is_cloud:!0,env_image:e.env_image,branch:"",repository:"",...e,...e.testMode&&{test_mode_on:"true"}},model_name:e.model_name,resume:n};return s&&(i.finalize_artifact_upload=s),n&&(i.id=t),{url:"/jobs/v0/hitl-queue/",method:"POST",body:i}}}),deployExpoApp:e.mutation({query:e=>({url:`/jobs/v0/${e}/persist-environment`,method:"POST",body:{}}),invalidatesTags:(e,t,n)=>[{type:"Jobs",id:n}],transformResponse:e=>e,transformErrorResponse:e=>{var t,n;return{error:(null==(t=e.data)?void 0:t.detail)||(null==(n=e.data)?void 0:n.error)||"Failed to publish app"}}}),checkDeployStatus:e.query({query:({jobId:e,organization_id:t})=>({url:`/jobs/v0/deploy/${e}/latest`,params:t?{organization_id:t}:{}}),providesTags:(e,t,{jobId:n})=>[{type:"Jobs",id:`deploy-status-${n}`}],transformResponse:e=>{if(!e||"object"!=typeof e)throw new Error("Invalid response format");if(!e.status)throw new Error("Missing status in response");return e},transformErrorResponse:e=>{var t,n,s;let i="Failed to get deployment status";return(null==(t=e.data)?void 0:t.detail)?i=e.data.detail:(null==(n=e.data)?void 0:n.message)?i=e.data.message:(null==(s=e.data)?void 0:s.error)&&(i=e.data.error),{error:i}}}),deployApp:e.mutation({query:({jobId:e,image:t,deployment_id:n,acknowledgements:s,db_mode:i,organization_id:a})=>({url:"/jobs/v0/deploy",method:"POST",body:{job_id:e,image:t,deployment_id:n,acknowledgements:s,is_database_persist:i,...a&&{organization_id:a}}}),invalidatesTags:(e,t,{jobId:n})=>[{type:"Jobs",id:`deploy-status-${n}`},{type:"Jobs",id:n}],transformResponse:(e,t,{jobId:n})=>({jobId:n,status:"success",message:null==e?void 0:e.message}),transformErrorResponse:e=>{var t,n,s;let i="Failed to deploy application";return(null==(t=e.data)?void 0:t.detail)?i=e.data.detail:(null==(n=e.data)?void 0:n.message)?i=e.data.message:(null==(s=e.data)?void 0:s.error)&&(i=e.data.error),i.includes("deploy in progress")?i="A deployment is currently in progress. Please wait for it to complete before starting a new one.":i.includes("max apps per user reached: 5 active apps")&&(i="You've reached the maximum limit of 5 active deployments. To deploy a new app, please shut down one of your existing deployments."),{error:i}}}),rollbackDeployment:e.mutation({query:({jobId:e,image:t,organization_id:n})=>({url:"/jobs/v0/deploy",method:"POST",body:{job_id:e,image:t,acknowledgements:"rollback",is_database_persist:!0,...n&&{organization_id:n}}}),invalidatesTags:(e,t,{jobId:n})=>[{type:"Jobs",id:`deploy-status-${n}`},{type:"Jobs",id:n}],transformResponse:(e,t,{jobId:n})=>({jobId:n,status:"success",message:null==e?void 0:e.message}),transformErrorResponse:e=>{var t,n,s;let i="Failed to rollback deployment";return(null==(t=e.data)?void 0:t.detail)?i=e.data.detail:(null==(n=e.data)?void 0:n.message)?i=e.data.message:(null==(s=e.data)?void 0:s.error)&&(i=e.data.error),i.includes("deploy in progress")&&(i="A deployment is currently in progress. Please wait for it to complete before rolling back."),{error:i}}}),getDeploymentHistory:e.query({query:({jobId:e,organization_id:t})=>({url:`/jobs/v0/deploy/${e}/history`,params:t?{organization_id:t}:{}}),providesTags:(e,t,{jobId:n})=>[{type:"Jobs",id:`deployment-history-${n}`}],transformResponse:e=>{if(!e||"object"!=typeof e)throw new Error("Invalid response format");return e},transformErrorResponse:e=>{var t,n;return{error:(null==(t=e.data)?void 0:t.detail)||(null==(n=e.data)?void 0:n.error)||"Failed to load deployment history"}}}),registerDomain:e.mutation({query:({domain:e,jobId:t,organization_id:n})=>({url:"/jobs/v0/domains/register",method:"POST",body:{domain:e,job_id:t,...n&&{organization_id:n}}}),invalidatesTags:(e,t,{jobId:n})=>[{type:"Jobs",id:`deploy-status-${n}`}],transformResponse:e=>e,transformErrorResponse:e=>{var t,n;return{error:(null==(t=e.data)?void 0:t.detail)||(null==(n=e.data)?void 0:n.error)||"Failed to register domain"}}}),verifyDomain:e.mutation({query:({domain:e,jobId:t,organization_id:n})=>({url:"/jobs/v0/domains/verify",method:"POST",body:{domain:e,job_id:t,...n&&{organization_id:n}}}),invalidatesTags:(e,t,{jobId:n})=>[{type:"Jobs",id:`deploy-status-${n}`}],transformResponse:e=>e,transformErrorResponse:e=>{var t,n;return{error:(null==(t=e.data)?void 0:t.detail)||(null==(n=e.data)?void 0:n.error)||"Failed to verify domain"}}}),connectDomain:e.mutation({query:({domain:e,jobId:t,organization_id:n})=>({url:"/jobs/v0/domains/connect",method:"POST",body:{domain:e,job_id:t,...n&&{organization_id:n}}}),invalidatesTags:(e,t,{jobId:n})=>[{type:"Jobs",id:`deploy-status-${n}`}],transformResponse:e=>e,transformErrorResponse:e=>{var t,n;return{error:(null==(t=e.data)?void 0:t.detail)||(null==(n=e.data)?void 0:n.error)||"Failed to connect domain"}}}),unlinkDomain:e.mutation({query:({domain:e,jobId:t,organization_id:n})=>({url:`/jobs/v0/domains/${encodeURIComponent(e)}/apps/${t}`,method:"DELETE",params:n?{organization_id:n}:{}}),invalidatesTags:(e,t,{jobId:n})=>[{type:"Jobs",id:`deploy-status-${n}`}],transformResponse:e=>e,transformErrorResponse:e=>{var t,n;return{error:(null==(t=e.data)?void 0:t.detail)||(null==(n=e.data)?void 0:n.error)||"Failed to unlink domain"}}}),getDeploymentLogs:e.query({query:({jobId:e,organization_id:t})=>({url:`/jobs/v0/deploy/${e}/logs`,params:t?{organization_id:t}:{}}),providesTags:(e,t,{jobId:n})=>[{type:"Jobs",id:`deployment-logs-${n}`}],transformResponse:e=>{if(!e||"object"!=typeof e)throw new Error("Invalid response format");return e},transformErrorResponse:e=>{var t,n;return{error:(null==(t=e.data)?void 0:t.detail)||(null==(n=e.data)?void 0:n.error)||"Failed to load deployment logs"}}}),shutdownDeployment:e.mutation({query:({jobId:e,organization_id:t})=>({url:`/jobs/v0/deploy/${e}`,method:"DELETE",params:t?{organization_id:t}:{}}),invalidatesTags:(e,t,{jobId:n})=>[{type:"Jobs",id:`deploy-status-${n}`},{type:"Jobs",id:`deployment-history-${n}`}],transformResponse:e=>({message:(null==e?void 0:e.message)||"Deployment shut down successfully"}),transformErrorResponse:e=>{var t,n;return{error:(null==(t=e.data)?void 0:t.detail)||(null==(n=e.data)?void 0:n.error)||"Failed to shutdown deployment"}}}),getEnvironmentVariables:e.query({query:({jobId:e,organization_id:t})=>({url:`/jobs/v0/deploy/${e}/envs`,params:t?{organization_id:t}:{}}),providesTags:(e,t,{jobId:n})=>[{type:"Jobs",id:`env-vars-${n}`}],transformResponse:e=>e,transformErrorResponse:e=>{var t,n;return{error:(null==(t=e.data)?void 0:t.detail)||(null==(n=e.data)?void 0:n.error)||"Failed to get environment variables"}}}),updateEnvironmentVariables:e.mutation({query:({jobId:e,envs:t,organization_id:n})=>({url:`/jobs/v0/deploy/${e}/envs/bulk`,method:"PUT",body:{secrets_with_versions:t.reduce((e,t)=>(e[t.key]={value:t.value,version:t.version},e),{}),...n&&{organization_id:n}}}),invalidatesTags:(e,t,{jobId:n})=>[{type:"Jobs",id:`env-vars-${n}`}],transformResponse:e=>e,transformErrorResponse:e=>{var t,n;return{error:(null==(t=e.data)?void 0:t.detail)||(null==(n=e.data)?void 0:n.error)||"Failed to update environment variables"}}}),getDeployments:e.query({query:e=>{const t=e&&"organization_id"in e?e.organization_id:void 0;return{url:"/jobs/v0/deployments",params:t?{organization_id:t}:{}}},providesTags:["Jobs"],transformResponse:e=>e.map(e=>{var t,n,s;return{id:e.job_id,app_name:e.app_name||e.job_id,deployStatus:e.status||"success",deployUrl:e.deployed_url||"",custom_domain:(null==(t=e.custom_domain)?void 0:t.domain)||"",latest_run:{status:(null==(n=e.latest_run)?void 0:n.status)||e.status||"success",updated_at:(null==(s=e.latest_run)?void 0:s.updated_at)||e.updated_at||e.deployed_at||(new Date).toISOString()},description:e.description||"",deployment_id:e.deployment_id||e.job_id,title:e.title||"Untitled"}}),transformErrorResponse:e=>{var t,n;return{error:(null==(t=e.data)?void 0:t.detail)||(null==(n=e.data)?void 0:n.error)||"Failed to load deployments"}}}),restartEnvironment:e.mutation({query:({jobId:e,upgrade:t=!1})=>({params:{upgrade:t?"true":"false"},url:`/jobs/v0/${e}/restart-environment`,method:"POST"}),invalidatesTags:(e,t,{jobId:n})=>[{type:"Jobs",id:n}],transformResponse:e=>e,transformErrorResponse:e=>{var t,n;return{error:(null==(t=e.data)?void 0:t.detail)||(null==(n=e.data)?void 0:n.error)||"Failed to restart environment"}}}),pauseEnvironment:e.mutation({query:e=>({url:`/jobs/v0/${e}/pause-environment`,method:"POST"}),invalidatesTags:(e,t,n)=>[{type:"Jobs",id:n}],transformResponse:e=>{var t;if(!e.success)throw new Error((null==(t=e.data)?void 0:t.error)||"Failed to pause environment");return e.data},transformErrorResponse:e=>{var t,n;return{error:(null==(t=e.data)?void 0:t.detail)||(null==(n=e.data)?void 0:n.error)||"Failed to pause environment"}}}),createWorkspace:e.mutation({query:({name:e,description:t})=>({url:"/org/create",method:"POST",body:{name:e,description:t}}),invalidatesTags:["Workspace","GitHubUserDetails"],transformResponse:e=>e,transformErrorResponse:e=>{var t,n;return{error:(null==(t=e.data)?void 0:t.detail)||(null==(n=e.data)?void 0:n.error)||"Failed to create workspace"}}}),acceptInvitation:e.mutation({query:({invitation_id:e})=>({url:`/org/invitations/${e}/accept`,method:"POST"}),invalidatesTags:["Workspace","GitHubUserDetails"],transformResponse:e=>e,transformErrorResponse:e=>{var t,n;return{error:(null==(t=e.data)?void 0:t.detail)||(null==(n=e.data)?void 0:n.error)||"Failed to accept invitation"}}}),getOrganizationDetails:e.query({query:e=>`/org/${e}/details`,providesTags:(e,t,n)=>[{type:"Workspace",id:`org-details-${n}`}],transformResponse:e=>e,transformErrorResponse:e=>{var t,n;return{error:(null==(t=e.data)?void 0:t.detail)||(null==(n=e.data)?void 0:n.error)||"Failed to fetch organization details"}}}),changeUserRole:e.mutation({query:({org_id:e,user_id:t,new_role:n})=>({url:`/org/${e}/change-role/${t}`,method:"PATCH",body:{new_role:n}}),invalidatesTags:(e,t,{org_id:n})=>[{type:"Workspace",id:`org-details-${n}`},"GitHubUserDetails"],transformResponse:e=>e,transformErrorResponse:e=>{var t,n;return{error:(null==(t=e.data)?void 0:t.detail)||(null==(n=e.data)?void 0:n.error)||"Failed to change user role"}}}),inviteMembers:e.mutation({query:({org_id:e,invites:t})=>({url:`/org/${e}/invite`,method:"POST",body:{invites:t}}),invalidatesTags:(e,t,{org_id:n})=>[{type:"Workspace",id:`org-details-${n}`},"GitHubUserDetails"],transformResponse:e=>e,transformErrorResponse:e=>{var t,n;return{error:(null==(t=e.data)?void 0:t.detail)||(null==(n=e.data)?void 0:n.error)||"Failed to send invitations"}}}),leaveOrganization:e.mutation({query:({organization_id:e})=>({url:`/org/${e}/leave`,method:"POST"}),invalidatesTags:(e,t,{organization_id:n})=>[{type:"Workspace",id:`org-details-${n}`},"GitHubUserDetails"],transformResponse:e=>e,transformErrorResponse:e=>{var t,n;return{error:(null==(t=e.data)?void 0:t.detail)||(null==(n=e.data)?void 0:n.error)||"Failed to leave organization"}}}),rejectInvitation:e.mutation({query:({invitation_id:e})=>({url:`/org/invitations/${e}/reject`,method:"POST"}),invalidatesTags:()=>["GitHubUserDetails"],transformResponse:e=>e,transformErrorResponse:e=>{var t,n;return{error:(null==(t=e.data)?void 0:t.detail)||(null==(n=e.data)?void 0:n.error)||"Failed to reject invitation"}}}),cancelInvitation:e.mutation({query:({organization_id:e,invitation_id:t})=>({url:`/org/${e}/cancel-invitation/${t}`,method:"POST"}),invalidatesTags:(e,t,{organization_id:n})=>[{type:"Workspace",id:`org-details-${n}`},"GitHubUserDetails"],transformResponse:e=>e,transformErrorResponse:e=>{var t,n;return{error:(null==(t=e.data)?void 0:t.detail)||(null==(n=e.data)?void 0:n.error)||"Failed to remove the user"}}}),deactivateMember:e.mutation({query:({org_id:e,user_id:t})=>({url:`/org/${e}/deactivate-member/${t}`,method:"POST"}),invalidatesTags:(e,t,{org_id:n})=>[{type:"Workspace",id:`org-details-${n}`},"GitHubUserDetails"],transformResponse:e=>e,transformErrorResponse:e=>{var t,n;return{error:(null==(t=e.data)?void 0:t.detail)||(null==(n=e.data)?void 0:n.error)||"Failed to remove member"}}}),updateOrganization:e.mutation({query:({org_id:e,name:t})=>({url:`/org/${e}/update`,method:"PATCH",body:{name:t}}),invalidatesTags:(e,t,{org_id:n})=>[{type:"Workspace",id:`org-details-${n}`},"GitHubUserDetails"],transformResponse:e=>e,transformErrorResponse:e=>{var t,n;return{error:(null==(t=e.data)?void 0:t.detail)||(null==(n=e.data)?void 0:n.error)||"Failed to update organization"}}}),renameJobTitle:e.mutation({query:({job_id:e,title:t})=>({url:`/jobs/v0/${e}/title`,method:"POST",body:{title:t}}),invalidatesTags:(e,t,{job_id:n})=>[{type:"Workspace",id:`org-details-${n}`},"GitHubUserDetails"],transformResponse:e=>e,transformErrorResponse:e=>{var t,n;return{error:(null==(t=e.data)?void 0:t.detail)||(null==(n=e.data)?void 0:n.error)||"Failed to rename Job Title"}}}),transcribeAudio:e.mutation({query:({audio_file:e,language_code:t="en"})=>{const n=new FormData;return n.append("audio_file",e,e.name||"recording.mp3"),n.append("language_code",t),{url:"/transcription/transcribe",method:"POST",body:n,formData:!0}}}),enableAutoHITL:e.mutation({query:e=>({url:`/jobs/v0/auto-hitl/${e}`,method:"POST"}),invalidatesTags:["GitHubUserDetails"],transformResponse:e=>e,transformErrorResponse:e=>{var t,n;return{error:(null==(t=e.data)?void 0:t.detail)||(null==(n=e.data)?void 0:n.error)||"Failed to enable auto-HITL"}}})})}),{useGetGitHubUserDetailsQuery:Fx,useGetGitHubInstallationsQuery:_x,useGetGitHubRepositoriesQuery:kx,useGetGitHubBranchesQuery:Sx,useCreateGitHubRepositoryMutation:Ex,usePushToGitHubMutation:Ix,useSaveGitHubInstallationMutation:Ax,useLazyGetJobPreviewUrlQuery:Tx,useLazyGetCodeDownloadUrlQuery:Dx,useGetCreditsBalanceQuery:Mx,useLazyCheckProModePaymentQuery:Lx,useGetSubscriptionPlansQuery:Px,useCheckSubscriptionStatusQuery:Rx,useGetBudgetQuery:Ox,useUpdateBudgetMutation:zx,useGetJobsQuery:Bx,useLazyGetJobQuery:Hx,useGetConfigQuery:$x,useSubmitHITLMutation:Ux,useUploadFileStreamMutation:Vx,useDeployExpoAppMutation:Wx,useCheckDeployStatusQuery:qx,useDeployAppMutation:Gx,useRollbackDeploymentMutation:Zx,useShutdownDeploymentMutation:Yx,useGetDeploymentHistoryQuery:Kx,useRegisterDomainMutation:Jx,useVerifyDomainMutation:Qx,useConnectDomainMutation:Xx,useUnlinkDomainMutation:ef,useLazyGetDeploymentLogsQuery:tf,useGetEnvironmentVariablesQuery:nf,useUpdateEnvironmentVariablesMutation:sf,useGetDeploymentsQuery:af,useRestartEnvironmentMutation:rf,useCreateWorkspaceMutation:of,useAcceptInvitationMutation:lf,useGetOrganizationDetailsQuery:cf,useChangeUserRoleMutation:df,useInviteMembersMutation:uf,useLeaveOrganizationMutation:pf,useRejectInvitationMutation:mf,useCancelInvitationMutation:hf,useDeactivateMemberMutation:xf,useUpdateOrganizationMutation:ff,useRenameJobTitleMutation:gf,useArchiveJobMutation:vf,useTranscribeAudioMutation:bf,useEnableAutoHITLMutation:yf}=Nx,wf=yx({reducerPath:"universalKeyApi",baseQuery:gh({baseUrl:qt.apiBaseUrl,prepareHeaders:async e=>{var t;const n=await Kt.auth.getSession();return(null==(t=n.data.session)?void 0:t.access_token)&&e.set("Authorization",`Bearer ${n.data.session.access_token}`),e.set("Content-Type","application/json"),e}}),tagTypes:["EmergentKey","UserBudget"],endpoints:e=>({getEmergentKey:e.query({query:e=>{const t=new URLSearchParams;return e&&"organization_id"in e&&e.organization_id&&t.append("organization_id",e.organization_id),"/llm-router/v0/emergent-key"+(t.toString()?`?${t.toString()}`:"")},providesTags:["EmergentKey"],transformResponse:e=>e,transformErrorResponse:e=>{var t;return{error:(null==(t=e.data)?void 0:t.message)||"Failed to fetch emergent key"}}}),updateEmergentKeyConfig:e.mutation({query:e=>{const{organization_id:t,...n}=e,s=new URLSearchParams;return t&&s.append("organization_id",t),{url:"/llm-router/v0/emergent-key/config"+(s.toString()?`?${s.toString()}`:""),method:"PATCH",body:n}},invalidatesTags:["EmergentKey"],transformResponse:e=>e,transformErrorResponse:e=>{var t;return{error:(null==(t=e.data)?void 0:t.message)||"Failed to update emergent key config"}}}),toggleEmergentKey:e.mutation({query:e=>{const{organization_id:t,...n}=e,s=new URLSearchParams;return t&&s.append("organization_id",t),{url:"/llm-router/v0/emergent-key/toggle"+(s.toString()?`?${s.toString()}`:""),method:"POST",body:n}},invalidatesTags:["EmergentKey"],transformResponse:e=>e,transformErrorResponse:e=>{var t;return{error:(null==(t=e.data)?void 0:t.message)||"Failed to toggle emergent key"}}}),regenerateEmergentKey:e.mutation({query:e=>{const t=e||{},{organization_id:n,...s}=t,i=new URLSearchParams;return n&&i.append("organization_id",n),{url:"/llm-router/v0/emergent-key/regenerate"+(i.toString()?`?${i.toString()}`:""),method:"POST",body:s}},invalidatesTags:["EmergentKey"],transformResponse:e=>e,transformErrorResponse:e=>{var t;return{error:(null==(t=e.data)?void 0:t.message)||"Failed to regenerate emergent key"}}}),getUserBudget:e.query({query:e=>{const t=new URLSearchParams;return e&&"organization_id"in e&&e.organization_id&&t.append("organization_id",e.organization_id),"/llm-router/v0/budget"+(t.toString()?`?${t.toString()}`:"")},providesTags:["UserBudget"],transformResponse:e=>e,transformErrorResponse:e=>{var t;return{error:(null==(t=e.data)?void 0:t.message)||"Failed to fetch user budget"}}}),increaseBudget:e.mutation({query:e=>{const{organization_id:t,...n}=e,s=new URLSearchParams;return t&&s.append("organization_id",t),{url:"/llm-router/v0/budget/increase"+(s.toString()?`?${s.toString()}`:""),method:"POST",body:n}},invalidatesTags:["UserBudget"],transformResponse:e=>e,transformErrorResponse:e=>{var t;return{error:(null==(t=e.data)?void 0:t.message)||"Failed to increase budget"}}})})}),{useGetEmergentKeyQuery:jf,useLazyGetEmergentKeyQuery:Cf,useUpdateEmergentKeyConfigMutation:Nf,useToggleEmergentKeyMutation:Ff,useRegenerateEmergentKeyMutation:_f,useGetUserBudgetQuery:kf,useLazyGetUserBudgetQuery:Sf,useIncreaseBudgetMutation:Ef}=wf,If=yx({reducerPath:"promodeApi",baseQuery:gh({baseUrl:qt.apiBaseUrl,prepareHeaders:async e=>{var t;const n=await Kt.auth.getSession();return(null==(t=n.data.session)?void 0:t.access_token)&&e.set("Authorization",`Bearer ${n.data.session.access_token}`),e.set("Content-Type","application/json"),e}}),tagTypes:["ProModePrompts","AgentTools","MCP"],endpoints:e=>({getBasePrompts:e.query({query:e=>{let t="/prompts/base?include_prompt=true";return(null==e?void 0:e.organization_id)&&(t+=`&organization_id=${e.organization_id}`),t},providesTags:["ProModePrompts"],transformResponse:e=>e,transformErrorResponse:e=>{var t,n;return{error:(null==(t=e.data)?void 0:t.message)||(null==(n=e.data)?void 0:n.detail)||"Failed to fetch base prompts"}}}),getAgentTools:e.query({query:e=>{if("string"==typeof e)return`/prompts/agents/${encodeURIComponent(e)}/tools`;let t=`/prompts/agents/${encodeURIComponent(e.agentName)}/tools`;return e.organization_id&&(t+=`?organization_id=${e.organization_id}`),t},providesTags:["AgentTools"],transformResponse:e=>e,transformErrorResponse:e=>{var t,n;return{error:(null==(t=e.data)?void 0:t.message)||(null==(n=e.data)?void 0:n.detail)||"Failed to fetch agent tools"}}}),getUserPrompts:e.query({query:e=>{const{limit:t=50,offset:n=0,is_main_agent:s,organization_id:i}=e||{};let a=`/prompts/user?limit=${t}&offset=${n}`;return void 0!==s&&(a+=`&is_main_agent=${s}`),i&&(a+=`&organization_id=${i}`),a},providesTags:["ProModePrompts"],transformResponse:e=>e,transformErrorResponse:e=>{var t,n;return{error:(null==(t=e.data)?void 0:t.message)||(null==(n=e.data)?void 0:n.detail)||"Failed to fetch user prompts"}}}),createUserPrompt:e.mutation({query:e=>({url:"/prompts/user",method:"POST",body:e}),invalidatesTags:["ProModePrompts"],transformResponse:e=>e,transformErrorResponse:e=>{var t,n;return{error:(null==(t=e.data)?void 0:t.message)||(null==(n=e.data)?void 0:n.detail)||"Failed to create user prompt"}}}),updateUserPrompt:e.mutation({query:({id:e,data:t})=>({url:`/prompts/user/${e}`,method:"PUT",body:t}),invalidatesTags:["ProModePrompts"],transformResponse:e=>e,transformErrorResponse:e=>{var t,n;return{error:(null==(t=e.data)?void 0:t.message)||(null==(n=e.data)?void 0:n.detail)||"Failed to update user prompt"}}}),getUserPrompt:e.query({query:e=>`/prompts/user/${e}`,providesTags:(e,t,n)=>[{type:"ProModePrompts",id:n}],transformResponse:e=>e,transformErrorResponse:e=>{var t,n;return{error:(null==(t=e.data)?void 0:t.message)||(null==(n=e.data)?void 0:n.detail)||"Failed to fetch user prompt"}}}),deleteUserPrompt:e.mutation({query:e=>({url:`/prompts/user/${e}`,method:"DELETE"}),invalidatesTags:["ProModePrompts"],transformResponse:e=>e,transformErrorResponse:e=>{var t,n;return{error:(null==(t=e.data)?void 0:t.message)||(null==(n=e.data)?void 0:n.detail)||"Failed to delete user prompt"}}}),createMCP:e.mutation({query:e=>({url:"/mcp/",method:"POST",body:e}),invalidatesTags:["MCP"],transformResponse:e=>e,transformErrorResponse:e=>{var t,n;return{error:(null==(t=e.data)?void 0:t.detail)||(null==(n=e.data)?void 0:n.error)||"Failed to create MCP server"}}}),getMCPs:e.query({query:e=>{const{limit:t=50,offset:n=0,organization_id:s}=e||{};let i=`/mcp/?limit=${t}&offset=${n}`;return s&&(i+=`&organization_id=${encodeURIComponent(s)}`),i},providesTags:(e,t,n)=>[{type:"MCP",id:(null==n?void 0:n.organization_id)||"ALL"}],transformResponse:e=>e,transformErrorResponse:e=>{var t,n;return{error:(null==(t=e.data)?void 0:t.detail)||(null==(n=e.data)?void 0:n.error)||"Failed to fetch MCP servers"}}}),getMCPById:e.query({query:e=>`/mcp/${e}`,providesTags:(e,t,n)=>[{type:"MCP",id:n}],transformResponse:e=>e,transformErrorResponse:e=>{var t,n;return{error:(null==(t=e.data)?void 0:t.detail)||(null==(n=e.data)?void 0:n.error)||"Failed to fetch MCP server"}}}),updateMCP:e.mutation({query:({id:e,...t})=>({url:`/mcp/${e}`,method:"PUT",body:t}),invalidatesTags:(e,t,{id:n})=>[{type:"MCP",id:n},"MCP"],transformResponse:e=>e,transformErrorResponse:e=>{var t,n;return{error:(null==(t=e.data)?void 0:t.detail)||(null==(n=e.data)?void 0:n.error)||"Failed to update MCP server"}}}),deleteMCP:e.mutation({query:({id:e,organization_id:t})=>{let n=`/mcp/${e}`;return t&&(n+=`?organization_id=${encodeURIComponent(t)}`),{url:n,method:"DELETE"}},invalidatesTags:(e,t,{organization_id:n})=>[{type:"MCP",id:n||"ALL"},"MCP"],transformResponse:e=>({message:(null==e?void 0:e.message)||"MCP server deleted successfully"}),transformErrorResponse:e=>{var t,n;return{error:(null==(t=e.data)?void 0:t.detail)||(null==(n=e.data)?void 0:n.error)||"Failed to delete MCP server"}}})})}),{useLazyGetBasePromptsQuery:Af,useLazyGetAgentToolsQuery:Tf,useGetUserPromptsQuery:Df,useLazyGetUserPromptsQuery:Mf,useGetUserPromptQuery:Lf,useCreateUserPromptMutation:Pf,useUpdateUserPromptMutation:Rf,useCreateMCPMutation:Of,useGetMCPsQuery:zf,useLazyGetMCPsQuery:Bf,useUpdateMCPMutation:Hf,useDeleteMCPMutation:$f}=If,Uf=Ge({name:"menu",initialState:{isOpen:!1,showUniversalKeyTooltip:!1,showModelSelectorTooltip:!1,highlightBroMode:!1},reducers:{openMenu:e=>{e.isOpen=!0},closeMenu:e=>{e.isOpen=!1},toggleMenu:e=>{e.isOpen=!e.isOpen},setShowUniversalKeyTooltip:(e,t)=>{e.showUniversalKeyTooltip=t.payload},setShowModelSelectorTooltip:(e,t)=>{e.showModelSelectorTooltip=t.payload},setHighlightBroMode:(e,t)=>{e.highlightBroMode=t.payload}}}),{openMenu:Vf,closeMenu:Wf,toggleMenu:qf,setShowUniversalKeyTooltip:Gf,setShowModelSelectorTooltip:Zf,setHighlightBroMode:Yf}=Uf.actions,Kf=Uf.reducer,Jf=Ge({name:"admin",initialState:{isAdminMode:!1},reducers:{enableAdminMode:e=>{e.isAdminMode=!0},disableAdminMode:e=>{e.isAdminMode=!1},toggleAdminMode:e=>{e.isAdminMode=!e.isAdminMode}}}),{enableAdminMode:Qf,disableAdminMode:Xf,toggleAdminMode:eg}=Jf.actions,tg=Jf.reducer,ng=Ge({name:"mcp",initialState:{autoEnableServerId:null},reducers:{setAutoEnableServerId:(e,t)=>{e.autoEnableServerId=t.payload},clearAutoEnableServerId:e=>{e.autoEnableServerId=null}}}),{setAutoEnableServerId:sg,clearAutoEnableServerId:ig}=ng.actions,ag=ng.reducer,rg={key:"admin",storage:_d},og=Nt({reducer:lt({progress:Od,container:eu,commandQueue:au,tabs:Ft({key:"tabs",storage:Ed},Au),deploy:Sm,github:th,[Nx.reducerPath]:Nx.reducer,[wf.reducerPath]:wf.reducer,[If.reducerPath]:If.reducer,menu:Kf,admin:Ft(rg,tg),mcp:ag}),middleware:e=>e({serializableCheck:{ignoredActions:[_t,kt,St,Et,It,At]}}).concat(Nx.middleware,wf.middleware,If.middleware)}),lg=Tt(og);var cg,dg={};var ug=function(){if(cg)return dg;cg=1,Object.defineProperty(dg,"__esModule",{value:!0});const e=()=>"undefined"!=typeof window,t=(t,...n)=>function(e,t,n,s){return new(n||(n=Promise))(function(t,i){function a(e){try{o(s.next(e))}catch(t){i(t)}}function r(e){try{o(s.throw(e))}catch(t){i(t)}}function o(e){var s;e.done?t(e.value):(s=e.value,s instanceof n?s:new n(function(e){e(s)})).then(a,r)}o((s=s.apply(e,[])).next())})}(void 0,0,void 0,function*(){if(e()&&window.blitz)return yield window.blitz(t,...n);throw Error("Blitz is not available, make sure init function has been called.")}),n={init:t=>{try{return(t=>{if(!(((e,t)=>{try{const n=document.getElementById(t)||document.createElement("script");return n.id=t,n.innerText=e,n.crossOrigin="anonymous",document.head.appendChild(n),!0}catch(n){return!1}})(`var exports = { __esModule: true };window._blitzQueue = window._blitzQueue || [];function blitz() {_blitzQueue.push(arguments);}(function () {var a = document.createElement('script');a.type = 'text/javascript';a.async = !0;a.src = 'https://cdn.blitzllama.com/js/blitz.js';var b = document.getElementsByTagName('script')[0];b.parentNode.insertBefore(a, b);})();blitz('init', "${t}");`,"blitz-script")&&e()&&window.blitz))throw Error("Failed to initialize Blitz")})(t),!0}catch(n){return!1}},createUser:e=>{try{return t("createUser",e),!0}catch(n){return!1}},setUserName:e=>{try{return t("setUserName",e),!0}catch(n){return!1}},setUserEmail:e=>{try{return t("setUserEmail",e),!0}catch(n){return!1}},setUserAttribute:(e,n,s)=>{try{return t("setUserAttribute",e,n,s),!0}catch(i){return!1}},setUserProperties:e=>{try{return t("setUserProperties",e),!0}catch(n){return!1}},setSurveyLanguage:e=>{try{return t("setSurveyLanguage",e),!0}catch(n){return!1}},setSurveyTheme:e=>{try{return t("setSurveyTheme",e),!0}catch(n){return!1}},triggerEvent:(e,n)=>{try{return t("triggerEvent",e,n||""),!0}catch(s){return!1}},subscribeEvent:(e,n)=>{try{return t("subscribeEvent",e,n),!0}catch(s){return!1}},logout:()=>{try{return t("logout"),!0}catch(e){return!1}}};return dg.default=n,dg}();const pg=Te(ug);pg.init(qt.blitzApiKey);const mg=pg,hg=e=>{if(e){const t=e.user_metadata||{};mg.createUser(e.id),mg.setUserEmail(e.email||""),yd.identify(e.id,{name:t.name||e.email||"Unknown User",email:e.email||"unknown@example.com",isNewUser:!!t.is_new_user,signUpDate:e.created_at||"",lastSignIn:e.last_sign_in_at||"",authProvider:t.provider||"email",hasGithubConnected:!!t.github_connected,userRole:t.role||"user",referrer:document.referrer||localStorage.getItem("user_referrer")||"direct",utmSource:localStorage.getItem("utm_source")||"",utmMedium:localStorage.getItem("utm_medium")||"",utmCampaign:localStorage.getItem("utm_campaign")||""}),fg("user_identified",{userId:e.id,isNewUser:!!t.is_new_user,authProvider:t.provider||"email"})}else fg("user_session_ended")},xg=(e,t={})=>{const n=og.getState(),s=n.tabs.activeTab,i=n.tabs.tabStates[s]||{},a={userId:t.userId,jobId:i.jobId||t.jobId,containerId:i.containerId||t.containerId,tabId:s,...t,errorMessage:e instanceof Error?e.message:e,errorStack:e instanceof Error?e.stack:void 0};yd.capture("error",a)},fg=(e,t={})=>{const n=og.getState(),s=n.tabs.activeTab,i=n.tabs.tabStates[s]||{},a=new URLSearchParams(window.location.search),r={jobId:i.jobId||"",containerId:i.containerId||"",tabId:s||"",tabCount:Object.keys(n.tabs.tabStates||{}).length,currentPath:window.location.pathname,referrer:document.referrer,timestamp:(new Date).toISOString()};a.forEach((e,t)=>{r[`url_param_${t}`]=e}),Object.entries(t).forEach(([e,t])=>{void 0!==t&&("object"==typeof t&&null!==t?r[e]=JSON.stringify(t):"string"==typeof t||"number"==typeof t||"boolean"==typeof t?r[e]=t:null===t&&(r[e]=null))}),yd.capture(e,r)},gg=(e,t={})=>{fg(`auth_${e}`,{...t,timestamp:(new Date).toISOString()})},vg=(e,t={})=>{fg(`chat_${e}`,{...t,timestamp:(new Date).toISOString()})},bg=(e,t={})=>{fg(`tab_${e}`,{...t,timestamp:(new Date).toISOString()})},yg=(e,t={})=>{fg(`feature_${e}`,{...t,timestamp:(new Date).toISOString()})},wg=(e,t={})=>{fg(`task_${e}`,{...t,timestamp:(new Date).toISOString()})},jg=(e,t={})=>{fg(`onboarding_${e}`,{...t,timestamp:(new Date).toISOString()})},Cg=async()=>{var e;try{const t=null==(e=yd.getFeatureFlag("config_version"))?void 0:e.toString();return null==t?void 0:t.replace(/_/g,".")}catch{try{return await wx()}catch(t){return}}},Ng=e=>!0,Fg=()=>{try{const e=yd.getFeatureFlag("disable_inputs");return(!0===e||"true"===e)&&"true"===localStorage.getItem("mobile")}catch(e){return!1}},_g=()=>{try{const e=yd.getFeatureFlag("mobile_preview_enabled");return!0===e||"true"===e}catch(e){return!1}},kg=()=>{try{const e=yd.getFeatureFlag("github_fork_paywall");return!0===e||"true"===e}catch(e){return!1}},Sg=()=>{try{const e=yd.getFeatureFlag("price_crossed_out");return!0===e||"true"===e}catch(e){return!1}},Eg=()=>{try{const e=yd.getFeatureFlag("new_workspace_button");return!0===e||"true"===e}catch(e){return!1}},Ig=()=>{try{const e=yd.getFeatureFlag("public_private_feature");return!0===e||"true"===e}catch(e){return!1}},Ag=()=>{try{const e=yd.getFeatureFlag("buy_domain_feature");return!0===e||"true"===e}catch(e){return!1}},Tg=(e,t={})=>{fg(`chat_${e}`,{...t,timestamp:(new Date).toISOString()})},Dg=(e,t={})=>{fg(`landing_${e}`,{...t,timestamp:(new Date).toISOString(),page:"landing_page",url:window.location.href,referrer:document.referrer})},Mg=(e,t={})=>{fg(`test_mode_${e}`,{...t,timestamp:(new Date).toISOString()})},Lg=(e,t={})=>{fg(`voice_recording_${e}`,{...t,timestamp:(new Date).toISOString()})},Pg=()=>{try{const e=yd.getFeatureFlag("is_indian_user");return!0===e||"true"===e}catch(e){return!1}},Rg="event-ask-human",Og="event-finish-tool",zg="event-deployment-initiated",Bg="event-bulk-write",Hg="user-login";function $g(e,t){try{if(!(null==t?void 0:t.user_id))return;mg.triggerEvent(e,t)}catch(n){}}const Ug=De.createContext({user:null,session:null,userDetails:null,loading:!0,refreshSession:async()=>({success:!1}),signOut:async()=>{},signInWithEmail:async()=>({success:!1}),signUpWithEmail:async()=>({success:!1}),signInWithOAuth:async()=>({success:!1}),resetPassword:async()=>({success:!1}),updatePassword:async()=>({success:!1}),resendVerificationEmail:async()=>({success:!1}),verifyInviteCode:async()=>({success:!1})});function Vg({children:e}){const[t,s]=De.useState(null),[i,a]=De.useState(null),[r,o]=De.useState(!0),{toast:l}=on(),c=Me(),{data:d}=Fx(void 0,{skip:!t});De.useEffect(()=>{const{data:{subscription:e}}=Kt.auth.onAuthStateChange(async(e,t)=>{var n,i,r,o,l,c,d;if("SIGNED_OUT"===e)a(null),s(null),hg(null);else if(t&&(a(t),s(t.user),hg(t.user),"SIGNED_IN"===e&&t.user)){u(t.user),$g(Hg,{user_id:t.user.id,user_email:t.user.email,user_id_ends:null==(n=t.user.id)?void 0:n.slice(-1)});const e=sessionStorage.getItem("oauth_provider");if("true"===sessionStorage.getItem("oauth_login_pending")&&e){const n=new Date(t.user.created_at);(new Date).getTime()-n.getTime()<6e4?lp(e,t.user.id,t.user.email,{full_name:(null==(i=t.user.user_metadata)?void 0:i.full_name)||(null==(r=t.user.user_metadata)?void 0:r.name),avatar_url:null==(o=t.user.user_metadata)?void 0:o.avatar_url,provider:e}):(l=e,c=t.user.id,d=t.user.email,op("login",{method:l,user_id:c,user_email:d,login_page:window.location.pathname})),sessionStorage.removeItem("oauth_login_pending"),sessionStorage.removeItem("oauth_provider")}}});return(async()=>{try{const{data:{session:e}}=await Kt.auth.getSession();e?(a(e),s(e.user),hg(e.user)):hg(null)}catch(e){xg(e instanceof Error?e:String(e),{context:"auth_initialization"}),l({title:"Error",description:"Failed to initialize authentication.",variant:"destructive"})}finally{o(!1)}})(),()=>{e.unsubscribe()}},[l]);const u=async e=>{var t;try{if(null==(t=e.user_metadata)?void 0:t.utm_source)return;const n=localStorage.getItem("utm_source")||"",s=localStorage.getItem("utm_campaign")||"",i=localStorage.getItem("utm_medium")||"",a=localStorage.getItem("utm_content")||"",r=localStorage.getItem("utm_term")||"",o=localStorage.getItem("user_referrer")||"";if(n||s||i||a||r||o){const{error:t}=await Kt.auth.updateUser({data:{...e.user_metadata,utm_source:n,utm_campaign:s,utm_medium:i,utm_content:a,utm_term:r,user_referrer:o}})}}catch(n){}},p=async()=>{try{gg("logout",{userId:null==t?void 0:t.id}),Xu(),hg(null),window.location.href="/landing",(null==window?void 0:window.ReactNativeWebView)&&window.ReactNativeWebView.postMessage(JSON.stringify({type:"LOGOUT_EVENT"}))}catch(e){xg(e,{context:"sign_out"}),l({title:"Error",description:"Failed to sign out. Please try again.",variant:"destructive"})}},m={user:t,session:i,userDetails:d,loading:r,signOut:p,signInWithEmail:async(e,t)=>{var n;try{gg("login_attempt",{method:"email",email:e});const{data:s,error:i}=await Kt.auth.signInWithPassword({email:e,password:t});if(i)return"Email not confirmed"===i.message?(gg("login_failure",{method:"email",email:e,reason:"email_not_confirmed",needsVerification:!0}),c(`/verify?email=${encodeURIComponent(e)}`),{success:!1,error:{needsVerification:!0,message:i.message}}):(gg("login_failure",{method:"email",email:e,reason:i.message,errorCode:i.status||"unknown"}),{success:!1,error:i.message});gg("login_success",{method:"email",email:e,userId:null==(n=null==s?void 0:s.user)?void 0:n.id});return"true"!==localStorage.getItem("first_login_completed")&&(null==s?void 0:s.user)&&(localStorage.setItem("first_login_completed","true"),jg("first_login",{userId:s.user.id,method:"email",email:e})),{success:!0}}catch(s){return gg("login_failure",{method:"email",email:e,reason:s.message||"unknown_error",isException:!0}),{success:!1,error:s.message||"Failed to sign in"}}},signUpWithEmail:async(e,t,n)=>{try{gg("signup_attempt",{method:"email",email:t});const s=localStorage.getItem("utm_source")||"",i=localStorage.getItem("utm_campaign")||"",a=localStorage.getItem("utm_medium")||"",r=localStorage.getItem("utm_content")||"",o=localStorage.getItem("utm_term")||"",l=localStorage.getItem("user_referrer")||"",c=new URLSearchParams(window.location.search),d=c.toString()?`${window.location.origin}/activate?${c.toString()}`:`${window.location.origin}/activate`,{data:{user:u},error:p}=await Kt.auth.signUp({email:t,password:n,options:{emailRedirectTo:d,data:{full_name:e,utm_source:s,utm_campaign:i,utm_medium:a,utm_content:r,utm_term:o,user_referrer:l}}});return p?(gg("signup_failure",{method:"email",email:t,reason:p.message,error:p,errorCode:p.status||"unknown"}),{success:!1,error:p.message}):u&&u.identities&&0===u.identities.length?(gg("signup_failure",{method:"email",email:t,reason:"user_already_exists"}),{success:!1,error:"User already exists"}):u&&!u.email_verified?(gg("signup_success",{method:"email",email:t,userId:u.id,needsVerification:!0}),lp("email",u.id,t,{needs_verification:!0,full_name:e}),jg("first_login",{userId:u.id,method:"email",email:t,isSignup:!0,needsVerification:!0}),{success:!0,needsVerification:!0}):(gg("signup_success",{method:"email",email:t,userId:null==u?void 0:u.id}),(null==u?void 0:u.id)&&lp("email",u.id,t,{needs_verification:!1,full_name:e}),jg("first_login",{userId:null==u?void 0:u.id,method:"email",email:t,isSignup:!0}),{success:!0})}catch(s){return gg("signup_failure",{method:"email",email:t,error:s,reason:s.message||"unknown_error",isException:!0}),{success:!1,error:s.message||"Failed to sign up"}}},signInWithOAuth:async e=>{try{gg("login_attempt",{method:e});const n=new URLSearchParams(window.location.search),s=localStorage.getItem("pending_referral_code");if(s&&!n.has("referral")&&!n.has("ref"))try{const e=JSON.parse(s);e.code&&n.set("referral",e.code)}catch(t){n.set("referral",s)}const i=n.toString()?`${window.location.origin}/activate?${n.toString()}`:`${window.location.origin}/activate`,{error:a}=await Kt.auth.signInWithOAuth({provider:e,options:{redirectTo:i,..."github"===e?{scopes:"repo,read:user,user:email"}:{}}});return a?(gg("login_failure",{method:e,reason:a.message,error:a,errorCode:a.status||"unknown"}),{success:!1,error:a.message}):(sessionStorage.setItem("oauth_login_pending","true"),sessionStorage.setItem("oauth_provider",e),{success:!0})}catch(n){return gg("login_failure",{method:e,error:n,reason:n.message||"unknown_error",isException:!0}),{success:!1,error:n.message||`Failed to sign in with ${e}`}}},resetPassword:async e=>{try{const t=new URLSearchParams(window.location.search),n=t.toString()?`${window.location.origin}/reset-password?${t.toString()}`:`${window.location.origin}/reset-password`,{error:s}=await Kt.auth.resetPasswordForEmail(e,{redirectTo:n});return s?{success:!1,error:s.message}:{success:!0}}catch(t){return{success:!1,error:t.message||"Failed to send password reset email"}}},updatePassword:async e=>{try{const{error:t}=await Kt.auth.updateUser({password:e});return await p(),t?{success:!1,error:t.message}:{success:!0}}catch(t){return{success:!1,error:t.message||"Failed to update password"}}},resendVerificationEmail:async e=>{try{const t=new URLSearchParams(window.location.search),n=t.toString()?`${window.location.origin}/activate?${t.toString()}`:`${window.location.origin}/activate`,{error:s}=await Kt.auth.resend({type:"signup",email:e,options:{emailRedirectTo:n}});return s?{success:!1,error:s.message}:{success:!0}}catch(t){return{success:!1,error:t.message||"Failed to resend verification email"}}},verifyInviteCode:async(e,n)=>{try{const{data:s}=await Kt.functions.invoke("verify-invite-code",{body:{inviteCode:e.trim(),userId:n||(null==t?void 0:t.id)}});return null===s?{success:!1,error:"Failed to verify invite code"}:s.success?s.banned?{success:!1,banned:!0,error:"Your account has been banned"}:{success:!0}:{success:!1,error:s.error||"Failed to verify invite code"}}catch(s){return{success:!1,error:s.message||"Failed to verify invite code"}}},refreshSession:async()=>{try{const{data:e,error:t}=await Kt.auth.refreshSession();return t?(xg(t,{context:"refresh_session"}),{success:!1,error:t.message}):(e.session&&(a(e.session),s(e.session.user),hg(e.session.user)),{success:!0})}catch(e){return{success:!1,error:e.message||"Failed to refresh session"}}}};return n.jsx(Ug.Provider,{value:m,children:e})}const Wg=()=>{const e=De.useContext(Ug);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},qg=De.createContext({isLoading:!1,setIsLoading:()=>{}});function Gg({children:e}){const[t,s]=De.useState(!1);return n.jsx(qg.Provider,{value:{isLoading:t,setIsLoading:s},children:e})}const Zg=De.createContext(void 0);function Yg({children:e}){var t,s;const i=Le(),a=Me(),r=jt(),{user:o}=Wg(),{data:l,isLoading:c}=Fx(void 0,{skip:!o}),d=(null==(t=null==l?void 0:l.organizations)?void 0:t.some(e=>e.created_by===(null==o?void 0:o.id)))||!1,u=[{id:"personal",name:(null==(s=null==o?void 0:o.user_metadata)?void 0:s.name)?`${o.user_metadata.name}'s Personal Space`:"Personal Space",plan:"Free Plan",icon:""},...((null==l?void 0:l.organizations)||[]).map(e=>({id:e.organization_id,name:e.organization_name,plan:"ACTIVE"===e.status?"Team Plan":"Pending Payment",members:e.member_count,icon:"",status:e.status,role:e.role}))],p=De.useCallback(()=>{const e=i.pathname.split("/").filter(Boolean);if(0===e.length)return"personal";if("workspace"===e[0]&&e[1]){const t=e[1];return c&&o||u.find(e=>e.id===t)?t:"personal"}return"personal"},[i.pathname,u,c,o])();De.useEffect(()=>{r(_u("personal"===p?"/":`/workspace/${p}`))},[p,r]),De.useEffect(()=>{var e;if(o&&!c&&l)try{const t=localStorage.getItem("pending_invitation");if(!t)return;const n=JSON.parse(t);if(Date.now()-n.timestamp>864e5)return void localStorage.removeItem("pending_invitation");(null==(e=l.pending_invitations)?void 0:e.find(e=>e.id===n.invitation_id))||localStorage.removeItem("pending_invitation")}catch(t){localStorage.removeItem("pending_invitation")}},[o,l,c]);const m=De.useCallback(e=>{const t="personal"===e?"/":`/workspace/${e}`;i.pathname!==t&&(window.location.href=t),setTimeout(()=>{},100)},[a,i.pathname]),h=De.useCallback(()=>u.find(e=>e.id===p),[u,p]),x=De.useCallback(()=>"personal"===p,[p]),f=De.useCallback(()=>"personal"!==p,[p]),g=De.useCallback(()=>f()?p:void 0,[p,f]),v={currentWorkspace:p,workspaces:u,switchWorkspace:m,getCurrentWorkspaceData:h,isPersonalWorkspace:x,isOrganizationWorkspace:f,getCurrentOrganizationId:g,hasCreatedWorkspace:d};return n.jsx(Zg.Provider,{value:v,children:e})}function Kg(){const e=De.useContext(Zg);if(void 0===e)throw new Error("useWorkspace must be used within a WorkspaceProvider");return e}const Jg=De.createContext({credits:0,personalCredits:0,orgCredits:0,loading:!0,error:null,tier:"free",personalTier:"free",orgTier:"free",pro_mode:!1,refreshCredits:async()=>{},creditResponse:null,subscriptionPlansResponse:null,personalPlansResponse:null,upgradeDetails:null,currentSubscriptionDetail:null,getUpgradeTierName:()=>"Starter",dailyCreditsEnabled:!1,isTrulyFreeUser:()=>!1});function Qg({children:e}){var t,s,i,a,r,o,l;const{user:c}=Wg(),{getCurrentOrganizationId:d}=Kg(),u=Le(),p=d(),[m,h]=De.useState({id:"5d98824c-26c1-4dc4-822a-007ad1d5e684",amount:10,name:"Emergent Starter"}),[x,f]=De.useState(!1),[g,v]=De.useState("free"),[b,y]=De.useState(!1),[w,j]=De.useState(!1),[C,N]=De.useState(null),F=De.useRef(null),_=De.useRef(0),k=De.useRef(null),{data:S,isSuccess:E,isLoading:I}=Fx(void 0,{skip:!c}),{data:A,error:T,isLoading:D,refetch:M}=Mx(p?{organization_id:p}:void 0,{skip:!(null==(t=null==c?void 0:c.user_metadata)?void 0:t.invite_code)||!E,pollingInterval:0}),{data:L,error:P,isLoading:R,refetch:O}=Px(p?{organization_id:p}:void 0,{skip:!(null==(s=null==c?void 0:c.user_metadata)?void 0:s.invite_code)||!E,pollingInterval:0}),{data:z,error:B,isLoading:H,refetch:$}=Px(void 0,{skip:!(null==(i=null==c?void 0:c.user_metadata)?void 0:i.invite_code)||!E,pollingInterval:0}),{data:U,error:V,isLoading:W,refetch:q}=Mx(void 0,{skip:!(null==(a=null==c?void 0:c.user_metadata)?void 0:a.invite_code)||!E,pollingInterval:0}),[G,Z]=De.useState("free"),[Y,K]=De.useState("free"),[J,Q]=De.useState(0),X=(null==A?void 0:A.ecu_balance)||0,ee=(null==U?void 0:U.ecu_balance)||0,te=T&&_.current<3,ne=D||!!te||I||W,se=T&&_.current>=3?"object"==typeof T&&"data"in T&&(null==(r=T.data)?void 0:r.message)||"Failed to fetch credits balance":null,ie=(e,t)=>{if(null==e?void 0:e.current_subscription){const t=e.current_subscription.tier_name.toLowerCase();if(t.includes("team"))return"team";if(t.includes("emergent pro"))return"pro_mode";if(t.includes("standard"))return"standard";if(t.includes("starter"))return"starter";if(t.includes("pro"))return"pro"}const n=t||A;if(!n)return"free";if(!n.subscription||!n.subscription.id)return"free";const s=n.subscription.name.toLowerCase();return s.includes("team")?"team":s.includes("emergent pro")?"pro_mode":s.includes("standard")?"standard":s.includes("starter")?"starter":s.includes("pro")?"pro":"free"};De.useEffect(()=>{var e;(null==(e=null==c?void 0:c.user_metadata)?void 0:e.invite_code)&&E&&(M(),O())},[u.pathname,u.search,null==(o=null==c?void 0:c.user_metadata)?void 0:o.invite_code,E,M,O]),De.useEffect(()=>{var e;(null==(e=null==c?void 0:c.user_metadata)?void 0:e.invite_code)&&E&&(M(),O())},[p,null==(l=null==c?void 0:c.user_metadata)?void 0:l.invite_code,E,M,O]),De.useEffect(()=>{var e,t,n;const s=ie(L,A);v(s);const i=((e,t)=>{var n;if(null==e?void 0:e.current_subscription)return e.current_subscription.tier_name.toLowerCase().includes("emergent pro");const s=t||A;if(null==(n=null==s?void 0:s.subscription)?void 0:n.name)return s.subscription.name.toLowerCase().includes("emergent pro");return!1})(L,A);if(y(i),(null==L?void 0:L.current_subscription)?N({id:L.current_subscription.id,name:L.current_subscription.tier_name,amount:L.current_subscription.amount,ecu_credits:L.current_subscription.ecu_credits??0}):(null==A?void 0:A.subscription)&&A.subscription.id?N({id:A.subscription.id,name:A.subscription.name,amount:(null==(e=A.subscription.subscription_details)?void 0:e.amount)||0,ecu_credits:A.ecu_balance??0}):N(null),(null==A?void 0:A.daily_credits)?f(!0):f(!1),L&&L.plans){const e=null==(t=L.current_subscription)?void 0:t.tier_name.toLowerCase();let n;const s=[];Object.values(L.plans).forEach(e=>{e.monthly_plans&&s.push(...e.monthly_plans),e.yearly_plans&&s.push(...e.yearly_plans)}),s.length>0&&(n=s.find(t=>t.tier_name.toLowerCase()!==e)),n&&h({id:n.id,name:n.tier_name,amount:n.amount})}else(null==(n=null==A?void 0:A.subscription)?void 0:n.subscription_details)&&h({id:A.subscription.subscription_details.id,name:A.subscription.name,amount:A.subscription.subscription_details.amount})},[L,A]),De.useEffect(()=>{const e=ie(z,U);Z(e)},[z,U]),De.useEffect(()=>{if(d()&&L){const e=ie(L,A);K(e)}else if(d()&&A){const e=ie(void 0,A);K(e)}},[L,A,d]),De.useEffect(()=>{d()&&A&&Q(A.ecu_balance||0)},[A,d]),De.useEffect(()=>{var e,t;if(T&&c)if(_.current<3){_.current+=1,k.current&&clearTimeout(k.current);const e=1e3*Math.pow(2,_.current-1);k.current=setTimeout(()=>{M(),k.current=null},e)}else fg("credits_fetch_failed",{userId:c.id,errorType:"api_error",errorMessage:"object"==typeof T&&"data"in T&&(null==(e=T.data)?void 0:e.message)||"Failed to fetch credits balance",hasInviteCode:!!(null==(t=c.user_metadata)?void 0:t.invite_code),retryAttempts:_.current}),"object"==typeof T&&"data"in T&&xg(`Credits API returned error after ${_.current} attempts`,{userId:c.id,errorType:"api_response_error",apiResponse:T.data,context:"credits_fetch",retryAttempts:_.current});else T||(_.current=0,k.current&&(clearTimeout(k.current),k.current=null))},[T,c,M]),De.useEffect(()=>()=>{F.current&&clearTimeout(F.current),k.current&&clearTimeout(k.current)},[]);const ae={credits:X,personalCredits:ee,orgCredits:J,loading:ne,tier:g,personalTier:G,orgTier:Y,pro_mode:b,error:se,creditResponse:A||null,subscriptionPlansResponse:L||null,personalPlansResponse:z||null,refreshCredits:async()=>{if(!w&&(null==c?void 0:c.user_metadata.invite_code)&&E){_.current=0,k.current&&(clearTimeout(k.current),k.current=null),j(!0);try{await Promise.all([M(),q(),O()])}finally{F.current&&clearTimeout(F.current),F.current=setTimeout(()=>{j(!1),F.current=null},5e3)}}},upgradeDetails:m,currentSubscriptionDetail:C,getUpgradeTierName:(e="organization")=>{if("personal"===e)return"free"===G?"Free":"starter"===G?"Starter":"standard"===G?"Standard":"Pro";if(!m)return"Starter";const t=m.name.replaceAll(" ","").toLowerCase();return t.includes("standard")?"Standard":t.includes("starter")?"Starter":t.includes("pro")?"Pro":"Starter"},dailyCreditsEnabled:x,isTrulyFreeUser:()=>{var e;const t=(null==(e=null==S?void 0:S.organizations)?void 0:e.some(e=>"ACTIVE"===e.status))||!1;return"free"===G&&!t&&!0}};return n.jsx(Jg.Provider,{value:ae,children:e})}const Xg=()=>{const e=De.useContext(Jg);if(!e)throw new Error("useCredits must be used within a CreditsProvider");return e},ev="support@emergent.sh",tv=3e5,nv="https://help.emergent.sh/",sv="https://help.emergent.sh/articles/549475-deployments-and-custom-domains",iv="https://atlas-kb.com/atlas-e74243keac/articles/546580-understanding-preview-vs-deployed-links?preview=rghmutfqzwoexklyusxsfzqpjxbrkv",av="https://half-knave-03b.notion.site/Emergent-Tips-and-Tricks-1dc3b3a7b0618095921ac5850421bab5",rv={learnMore:"https://atlas-kb.com/atlas-e74243keac/articles/636555-chat-forking"},ov={discord:"https://discord.gg/X9cqNxYyG8"},lv="https://help.emergent.sh/",cv="https://help.emergent.sh",dv="https://emergententerprise.typeform.com/EmergentBiz",uv="https://expo.dev/client",pv="Use deployment agent to identify the issues. Sharing build error logs when trying to deploy the current app to production. Please analyze these error logs, debug why these are happening and fix them.",mv="I am using emergent deployments, a native functionality that containerizes and deploys applications to Kubernetes. My current deployment is failing with specific errors that need to be resolved through code modifications.The current environment that you are operating in is a sandboxed environment working with MongoDB , the environment where this application would be deployed operates with dedicated atlas provided mongodb.Please analyze the deployment errors below and modify my application code to resolve all issues preventing successful deployment.You should not make any docker related changes, you should only make code level changes that can make the deployment go through.",hv="--logs_identifier--",xv="https://assets.emergent.sh/assets",fv="https://assets.emergent.sh",gv={claude45background:`${fv}/claude_modal_bg.png`,claude45backgroundMobile:`${fv}/claude_mobile_modal_bg.png`,claudeText:`${fv}/ClaudeSonnet45.png`,webBg:`${fv}/product-hunt/web-background.png`,webButton:`${fv}/product-hunt/web-button.png`,mobileBg:`${fv}/product-hunt/mobile-background.png`,mobileButton:`${fv}/product-hunt/mobile-button.png`,icons:{code:`${xv}/code.svg`,info:`${xv}/info.svg`,preview:`${xv}/eye.svg`,history:`${xv}/history.svg`,deployCloud:`${xv}/DeployCloud.svg`,redeploy:`${xv}/RedeployNew.svg`,animatedSpinner:`${xv}/animated-spinner.gif`,github:`${xv}/github.svg`,githubIcon:`${xv}/github-icon.svg`,google:`${xv}/Google.svg`,submit:`${xv}/submit-arrow.svg`,task:`${xv}/task.svg`,branch:`${xv}/branch.svg`,branch2:`${xv}/branch2.svg`,emergentLogoNew:`${xv}/emergent-logo-new.svg`,emergentLogoNewBlack:`${xv}/emergent-logo-new-black.svg`,landingLight:`${xv}/landing-light.png`,bgPatternHome:`${xv}/bg_pattern_home.png`,infoSquare:`${xv}/info-square.svg`,paymentFailed:`${xv}/payment_failed.svg`,copyWhite:`${xv}/copy_white.svg`,eyeOff:`${xv}/eye_off.svg`},fork:{editNote:`${xv}/fork/edit_note.svg`,forkedFrom:`${xv}/fork/forked_from.svg`,session:`${xv}/fork/session.svg`,forkRed:`${xv}/fork/fork_red.svg`,paceCyan:`${xv}/fork/pace_cyan.svg`,matrixCode:`${xv}/fork/matrix_code.gif`,fork:`${xv}/fork/fork.svg`,forkFill:`${xv}/fork/fork-fill.svg`,completed:`${xv}/fork/completed.svg`,dollarCyan:`${xv}/fork/dollar_cyan.svg`,dropdownCyan:`${xv}/fork/dropdown_cyan.svg`,firstState:`${xv}/fork/first_state.svg`,likeCyan:`${xv}/fork/like_cyan.svg`,summary:`${xv}/fork/summary.svg`,summaryCyan:`${xv}/fork/summary_cyan.svg`},teams:{teamAssetDesktop:`${xv}/teams/team_asset_web.png`,teamAssetMobile:`${xv}/teams/team_asset_mobile.png`,org:`${xv}/teams/org.svg`,pendingDot:`${xv}/teams/pending_dot.svg`},landingPage:{landingBg:`${xv}/landing-page/landing-bg.png`,landingBgMobile:`${xv}/landing-page/landing-page-mobile.png`,customAgents:`${xv}/landing-page/custom-agents.png`,footerFiller:`${xv}/landing-page/footer-filler.gif`,landingFillerBackground:`${xv}/landing-page/landing-filler-background.png`,mobile:`${xv}/landing-page/mobile.png`,teams:`${xv}/landing-page/teams.png`,users:`${xv}/landing-page/users.png`},videos:{clouds:`${xv}/videos/clouds.mp4`,bgVid:`${xv}/bg-vid.mp4`},showcase:{whiteArrow:`${xv}/showcase/white_arrow.svg`,image1:`${xv}/showcase/1.png`,image2:`${xv}/showcase/2.png`,image3:`${xv}/showcase/3.png`,image4:`${xv}/showcase/4.png`,image6:`${xv}/showcase/6.png`},feature:{arrowDark:`${xv}/feature/arrow_dark.svg`},oauth:{emergent:`${xv}/oauth/emergent.svg`,envelopeDefault:`${xv}/oauth/envelope-default.svg`,foundationShield:`${xv}/oauth/foundation_shield.svg`,google:`${xv}/oauth/google.svg`,image4:`${xv}/oauth/image 4.png`,layerThree:`${xv}/oauth/layer-three.svg`,nftDefault:`${xv}/oauth/nft-default.svg`,sparkle:`${xv}/oauth/sparkle.svg`},pro:{proBg:`${xv}/pro/pro_bg.png`,secondBanner:`${xv}/pro/secondBanner.png`,darkrobot:`${xv}/pro/darkrobot.svg`,workbench:`${xv}/pro/workbench.svg`,book:`${xv}/pro/book.svg`,external:`${xv}/pro/external.svg`,next:`${xv}/pro/next.svg`,nextArrow:`${xv}/pro/nextArrow.svg`,backGray:`${xv}/pro/back-gray.svg`,bgSvg:`${xv}/pro/bg.svg`},universal:{add:`${xv}/universal/add.svg`,addActive:`${xv}/universal/add-active.svg`,alertBg:`${xv}/universal/alert-bg.svg`,check:`${xv}/universal/check.svg`,claude:`${xv}/universal/claude.svg`,copy:`${xv}/universal/copy.svg`,deleteRegenerate:`${xv}/universal/delete-regenerate.svg`,gemini:`${xv}/universal/gemini.svg`,infoGray:`${xv}/universal/info-gray.svg`,infoOrange:`${xv}/universal/info-orange.svg`,key:`${xv}/universal/key.svg`,nextArrow:`${xv}/universal/next-arrow.svg`,openai:`${xv}/universal/openai.svg`,saveContinue:`${xv}/universal/save-continue.svg`},ultra:{oneMillionUltra:`${xv}/ultra/1M+ultra.png`,oneMillionUltraMobile:`${xv}/ultra/1M+ultra_mobile.png`},mcp:{kuchbhi:`${xv}/mcp/kuchbhi.png`,kuchbhiMobile:`${xv}/mcp/kuchbhi_mobile.png`},deployment:{article:`${xv}/deployment/Article.svg`,goBack:`${xv}/deployment/GoBack.svg`,logWithError:`${xv}/deployment/LogWithError.svg`,logs:`${xv}/deployment/Logs.svg`,webDarkLink:`${xv}/deployment/WebDarkLink.svg`,carbonViewFilled:`${xv}/deployment/carbon_view-filled.svg`,dangerous:`${xv}/deployment/dangerous.svg`,dangerousActive:`${xv}/deployment/dangerous_active.svg`,database:`${xv}/deployment/database.svg`,keyAlert:`${xv}/deployment/key_alert.svg`,mdiCheckAll:`${xv}/deployment/mdi_check-all.svg`,replace:`${xv}/deployment/replace.svg`,replaceBlack:`${xv}/deployment/replace_black.svg`,replaceGrey:`${xv}/deployment/replace_grey.svg`,replaceOrange:`${xv}/deployment/replace_orange.svg`,stripe:`${xv}/deployment/stripe.svg`,timeGreyDeployed:`${xv}/deployment/time_grey_deployed.svg`,warningActive:`${xv}/deployment/warning_active.svg`,warningInactive:`${xv}/deployment/warning_inactive.svg`,webImage:`${xv}/deployment/webImage.svg`},referral:{coin:`${xv}/referral/coin.svg`,credited:`${xv}/referral/credited.svg`,external:`${xv}/referral/external.svg`,giftGreenWithoutGlow:`${xv}/referral/gift-green-withoutGlow.svg`,person:`${xv}/referral/person.svg`,referralImage:`${xv}/referral/referral.png`},payments:{external:`${xv}/payments/external.svg`,externalFilled:`${xv}/payments/external_filled.svg`,infoRed:`${xv}/payments/info-red.svg`,info:`${xv}/payments/info.svg`,question:`${xv}/payments/question.svg`},discountModal:{assetOff:`${xv}/discount-modal/asset_off.png`,bg:`${xv}/discount-modal/bg.png`,text:`${xv}/discount-modal/text.png`},robots:{research:`${xv}/robots/research.svg`,robot1:`${xv}/robots/robot_1.svg`,robot2:`${xv}/robots/robot_2.svg`,robot3:`${xv}/robots/robot_3.svg`,robot4:`${xv}/robots/robot_4.svg`,robot5:`${xv}/robots/robot_5.svg`,robot6:`${xv}/robots/robot_6.svg`,robot7:`${xv}/robots/robot_7.svg`,robot8:`${xv}/robots/robot_8.svg`,robot9:`${xv}/robots/robot_9.svg`,robot10:`${xv}/robots/robot_10.svg`},upload:{arrowNext:`${xv}/upload/arrow-next.svg`,blueCheck:`${xv}/upload/blue_check.svg`,close:`${xv}/upload/close.svg`,comment:`${xv}/upload/comment.svg`,commented:`${xv}/upload/commented.svg`,delete:`${xv}/upload/delete.svg`,deleteActive:`${xv}/upload/deleteActive.svg`,downloadWhite:`${xv}/upload/download_white.svg`,info:`${xv}/upload/info.svg`,moreIcon:`${xv}/upload/more_icon.svg`,noAssets:`${xv}/upload/no-assets.svg`,uploadNormal:`${xv}/upload/upload_normal.svg`},chips:{surprise:`${xv}/chips/surprise.svg`},panels:{close:`${xv}/panels/close.svg`,link:`${xv}/panels/link.svg`,phone:`${xv}/panels/phone.svg`,shareGray:`${xv}/panels/share-gray.svg`,share:`${xv}/panels/share.svg`},preview:{emergentBlue:`${xv}/preview/emergent_blue.svg`,flappybird:`${xv}/preview/flappybird.png`,gameBoy:`${xv}/preview/game_boy.svg`,gradientArrow:`${xv}/preview/gradient-arrow.svg`,greenArrow:`${xv}/preview/green_arrow.svg`,greenCheck:`${xv}/preview/green_check.svg`,pixelArrow:`${xv}/preview/pixel_arrow.svg`,play:`${xv}/preview/play.svg`,screen:`${xv}/preview/screen.svg`},github:{gitBranchDark:`${xv}/github/GitBranchDark.svg`,githubGreenDark:`${xv}/github/GithubGreenDark.svg`,arrowGreen:`${xv}/github/arrow_green.svg`,emergencyHome:`${xv}/github/emergency_home.svg`,emergencyHomePurple:`${xv}/github/emergency_home_purple.svg`,emergencyHomeRed:`${xv}/github/emergency_home_red.svg`,gitDot:`${xv}/github/git-dot.svg`,gitBranch:`${xv}/github/git_branch.svg`,githubBack:`${xv}/github/github_back.svg`,githubConnected:`${xv}/github/github_connected.svg`,shieldLock:`${xv}/github/shield_lock.svg`},menuIcons:{discord:`${xv}/menu-icons/discord.svg`,discordEndIcon:`${xv}/menu-icons/discord_end_icon.svg`,discordHover:`${xv}/menu-icons/discord_hover.svg`,github:`${xv}/menu-icons/github.svg`,logout:`${xv}/menu-icons/logout.svg`,menu:`${xv}/menu-icons/menu.svg`},files:{csv:`${xv}/files/csv.svg`,doc:`${xv}/files/doc.svg`,other:`${xv}/files/other.svg`,pdf:`${xv}/files/pdf.svg`,ppt:`${xv}/files/ppt.svg`,svg:`${xv}/files/svg.svg`,txt:`${xv}/files/txt.svg`,video:`${xv}/files/video.svg`,zip:`${xv}/files/zip.svg`},cat:{aiAppsBlack:`${xv}/cat/ai_apps_black.svg`,aiAppsWhite:`${xv}/cat/ai_apps_white.svg`,landingPageBlack:`${xv}/cat/landing_page_black.svg`,landingPageWhite:`${xv}/cat/landing_page_white.svg`,microSaasBlack:`${xv}/cat/micro_saas_black.svg`,microSaasWhite:`${xv}/cat/micro_saas_white.svg`,playBlack:`${xv}/cat/play_black.svg`,playWhite:`${xv}/cat/play_white.svg`},tabs:{homeTabIcon:`${xv}/tabs/HomeTab.svg`},subagent:{subagentPanelIcon:`${xv}/subagent/subagentPanel.svg`},tips:{arrowBack:`${xv}/tips/arrow-back.svg`},logo:{borderedLogoDark:`${xv}/logo/borded-logo-dark.svg`,logo:`${xv}/logo/logo.svg`},common:{bot:`${xv}/bot.svg`,githubDark:`${xv}/github_dark.svg`,infoSquaredBlack:`${xv}/info-squared-black.svg`,increaseBudget:`${xv}/increase_budget.svg`,arrowDownBig:`${xv}/ArrowDownBig.svg`,completeTick:`${xv}/Complete_Tick.svg`,copyable:`${xv}/Copyable.svg`,deployTime:`${xv}/DeployTime.svg`,dustBin:`${xv}/DustBin.svg`,eLogoNew:`${xv}/E-logo-new.png`,eLogo:`${xv}/E-logo.png`,githubGreen:`${xv}/GithubGreen.svg`,greenBranch:`${xv}/GreenBranch.svg`,hypeText:`${xv}/HypeText.svg`,joinedBuy:`${xv}/JoinedBuy.svg`,keyPurple:`${xv}/KeyPurple.svg`,landingAuthStar:`${xv}/Landing-Auth-Star.gif`,landingHeroE:`${xv}/Landing-Hero-E.gif`,line:`${xv}/Line.svg`,link:`${xv}/Link.svg`,lockedWeb:`${xv}/LockedWeb.svg`,lockedWebBlue:`${xv}/LockedWebBlue.svg`,plusIcon:`${xv}/PlusIcon.svg`,purpleDownArrow:`${xv}/PurpleDownArrow.svg`,rollbackTime:`${xv}/RollbackTime.svg`,settings:`${xv}/Settings.svg`,sparklingStar:`${xv}/SparklingStar.svg`,stars:`${xv}/Stars.svg`,subscriptionSuccess:`${xv}/SubscriptionSucess.svg`,timeRever:`${xv}/TimeRever.svg`,unlink:`${xv}/Unlink.svg`,whiteCopperCoin:`${xv}/WhiteCopperCoin.svg`,accountSettingsIcon:`${xv}/account-settings-icon.svg`,activeFile:`${xv}/active-file.svg`,adjustIcon:`${xv}/adjust-icon.svg`,agentSleeping:`${xv}/agentsleeping.svg`,alertFill:`${xv}/alert-fill.svg`,alertOrange:`${xv}/alert-orange.svg`,appleWhite:`${xv}/apple-white.svg`,arrowUpRight:`${xv}/arrow-up-right.svg`,arrowUploadReady:`${xv}/arrow-upload-ready.svg`,arrowUploadReadyDark:`${xv}/arrow_upload_ready_dark.svg`,attach:`${xv}/attach.svg`,attachmentCross:`${xv}/attachment-cross.svg`,badgeCheckGray:`${xv}/badge-check-gray.svg`,badgeCheckYellow:`${xv}/badge-check-yellow.svg`,badgeCheck:`${xv}/badge-check.svg`,banner:`${xv}/banner.svg`,bell:`${xv}/bell.svg`,buyCredit:`${xv}/buy_credit.svg`,captivePortal:`${xv}/captive_portal.svg`,close:`${xv}/close.svg`,controls:`${xv}/controls.svg`,copperCoin:`${xv}/copper-coin.svg`,copyPaperclip:`${xv}/copy-paperclip.svg`,copyPurple:`${xv}/copyPurple.svg`,deploy:`${xv}/deploy.svg`,discordLight:`${xv}/discordLight.svg`,expo:`${xv}/expo.svg`,eyeNew:`${xv}/eye_new.svg`,featured:`${xv}/featured.svg`,file:`${xv}/file.svg`,flowbiteRefreshOutline:`${xv}/flowbite_refresh-outline.svg`,fluentEmojiBell:`${xv}/fluent-emoji_bell.svg`,folderAdd:`${xv}/folder-add.svg`,folder:`${xv}/folder.svg`,foregroundImage:`${xv}/foreground-image.png`,githubConnect:`${xv}/github_connect.svg`,globeActive:`${xv}/globe_active.svg`,globeWhite:`${xv}/globe_white.svg`,greenLinkArrow:`${xv}/greenLinkArrow.svg`,iconamoonEditFill:`${xv}/iconamoon_edit-fill.svg`,infoSquare02:`${xv}/info-square-02-contained-filled.svg`,keyboardArrowUp:`${xv}/keyboard_arrow_up.svg`,lineMdLink:`${xv}/line-md_link.svg`,lock:`${xv}/lock.svg`,logoBlue:`${xv}/logo_blue.svg`,mail:`${xv}/mail.svg`,menuInfo:`${xv}/menu-info.svg`,mingcuteQuestionFill:`${xv}/mingcute_question-fill.svg`,newCoin:`${xv}/new_coin.svg`,notificationSound:`${xv}/notification-sound.mp3`,password:`${xv}/password.svg`,pause:`${xv}/pause.svg`,play:`${xv}/play.svg`,recordStopIcon:`${xv}/record-stop-icon.svg`,refresh:`${xv}/refresh.svg`,reply:`${xv}/reply.svg`,repo:`${xv}/repo.svg`,rightArrow:`${xv}/right-arrow.svg`,saveCloud:`${xv}/save-cloud.svg`,send:`${xv}/send.svg`,starsGif:`${xv}/stars.gif`,testFile:`${xv}/test-file.svg`,testModePreview:`${xv}/test-mode-preview.png`,visualEdit:`${xv}/visual_edit.svg`,webImage:`${xv}/webImage.svg`,whiteGithub:`${xv}/white-github.svg`},panelIcons:{panelEdit:`${xv}/panel_icons/panel_edit.json`,panelIntegration:`${xv}/panel_icons/panel_integration.json`,panelTesting:`${xv}/panel_icons/panel_testing.json`,panelVision:`${xv}/panel_icons/panel_vision.json`}},vv="USD",bv="INR",yv={[vv]:"$",[bv]:""},wv=!1;function jv(e){var t,n,s="";if("string"==typeof e||"number"==typeof e)s+=e;else if("object"==typeof e)if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=jv(e[t]))&&(s&&(s+=" "),s+=n)}else for(n in e)e[n]&&(s&&(s+=" "),s+=n);return s}function Cv(){for(var e,t,n=0,s="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=jv(e))&&(s&&(s+=" "),s+=t);return s}const Nv=e=>{const t=Sv(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:s}=e;return{getClassGroupId:e=>{const n=e.split("-");return""===n[0]&&1!==n.length&&n.shift(),Fv(n,t)||kv(e)},getConflictingClassGroupIds:(e,t)=>{const i=n[e]||[];return t&&s[e]?[...i,...s[e]]:i}}},Fv=(e,t)=>{var n;if(0===e.length)return t.classGroupId;const s=e[0],i=t.nextPart.get(s),a=i?Fv(e.slice(1),i):void 0;if(a)return a;if(0===t.validators.length)return;const r=e.join("-");return null==(n=t.validators.find(({validator:e})=>e(r)))?void 0:n.classGroupId},_v=/^\[(.+)\]$/,kv=e=>{if(_v.test(e)){const t=_v.exec(e)[1],n=null==t?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},Sv=e=>{const{theme:t,prefix:n}=e,s={nextPart:new Map,validators:[]};return Tv(Object.entries(e.classGroups),n).forEach(([e,n])=>{Ev(n,s,e,t)}),s},Ev=(e,t,n,s)=>{e.forEach(e=>{if("string"==typeof e){return void((""===e?t:Iv(t,e)).classGroupId=n)}if("function"==typeof e)return Av(e)?void Ev(e(s),t,n,s):void t.validators.push({validator:e,classGroupId:n});Object.entries(e).forEach(([e,i])=>{Ev(i,Iv(t,e),n,s)})})},Iv=(e,t)=>{let n=e;return t.split("-").forEach(e=>{n.nextPart.has(e)||n.nextPart.set(e,{nextPart:new Map,validators:[]}),n=n.nextPart.get(e)}),n},Av=e=>e.isThemeGetter,Tv=(e,t)=>t?e.map(([e,n])=>[e,n.map(e=>"string"==typeof e?t+e:"object"==typeof e?Object.fromEntries(Object.entries(e).map(([e,n])=>[t+e,n])):e)]):e,Dv=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,s=new Map;const i=(i,a)=>{n.set(i,a),t++,t>e&&(t=0,s=n,n=new Map)};return{get(e){let t=n.get(e);return void 0!==t?t:void 0!==(t=s.get(e))?(i(e,t),t):void 0},set(e,t){n.has(e)?n.set(e,t):i(e,t)}}},Mv=e=>{const{separator:t,experimentalParseClassName:n}=e,s=1===t.length,i=t[0],a=t.length,r=e=>{const n=[];let r,o=0,l=0;for(let u=0;u<e.length;u++){let c=e[u];if(0===o){if(c===i&&(s||e.slice(u,u+a)===t)){n.push(e.slice(l,u)),l=u+a;continue}if("/"===c){r=u;continue}}"["===c?o++:"]"===c&&o--}const c=0===n.length?e:e.substring(l),d=c.startsWith("!");return{modifiers:n,hasImportantModifier:d,baseClassName:d?c.substring(1):c,maybePostfixModifierPosition:r&&r>l?r-l:void 0}};return n?e=>n({className:e,parseClassName:r}):r},Lv=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(e=>{"["===e[0]?(t.push(...n.sort(),e),n=[]):n.push(e)}),t.push(...n.sort()),t},Pv=/\s+/;function Rv(){let e,t,n=0,s="";for(;n<arguments.length;)(e=arguments[n++])&&(t=Ov(e))&&(s&&(s+=" "),s+=t);return s}const Ov=e=>{if("string"==typeof e)return e;let t,n="";for(let s=0;s<e.length;s++)e[s]&&(t=Ov(e[s]))&&(n&&(n+=" "),n+=t);return n};function zv(e,...t){let n,s,i,a=function(o){const l=t.reduce((e,t)=>t(e),e());return n=(e=>({cache:Dv(e.cacheSize),parseClassName:Mv(e),...Nv(e)}))(l),s=n.cache.get,i=n.cache.set,a=r,r(o)};function r(e){const t=s(e);if(t)return t;const a=((e,t)=>{const{parseClassName:n,getClassGroupId:s,getConflictingClassGroupIds:i}=t,a=[],r=e.trim().split(Pv);let o="";for(let l=r.length-1;l>=0;l-=1){const e=r[l],{modifiers:t,hasImportantModifier:c,baseClassName:d,maybePostfixModifierPosition:u}=n(e);let p=Boolean(u),m=s(p?d.substring(0,u):d);if(!m){if(!p){o=e+(o.length>0?" "+o:o);continue}if(m=s(d),!m){o=e+(o.length>0?" "+o:o);continue}p=!1}const h=Lv(t).join(":"),x=c?h+"!":h,f=x+m;if(a.includes(f))continue;a.push(f);const g=i(m,p);for(let n=0;n<g.length;++n){const e=g[n];a.push(x+e)}o=e+(o.length>0?" "+o:o)}return o})(e,n);return i(e,a),a}return function(){return a(Rv.apply(null,arguments))}}const Bv=e=>{const t=t=>t[e]||[];return t.isThemeGetter=!0,t},Hv=/^\[(?:([a-z-]+):)?(.+)\]$/i,$v=/^\d+\/\d+$/,Uv=new Set(["px","full","screen"]),Vv=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Wv=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,qv=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Gv=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Zv=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Yv=e=>Jv(e)||Uv.has(e)||$v.test(e),Kv=e=>db(e,"length",ub),Jv=e=>Boolean(e)&&!Number.isNaN(Number(e)),Qv=e=>db(e,"number",Jv),Xv=e=>Boolean(e)&&Number.isInteger(Number(e)),eb=e=>e.endsWith("%")&&Jv(e.slice(0,-1)),tb=e=>Hv.test(e),nb=e=>Vv.test(e),sb=new Set(["length","size","percentage"]),ib=e=>db(e,sb,pb),ab=e=>db(e,"position",pb),rb=new Set(["image","url"]),ob=e=>db(e,rb,hb),lb=e=>db(e,"",mb),cb=()=>!0,db=(e,t,n)=>{const s=Hv.exec(e);return!!s&&(s[1]?"string"==typeof t?s[1]===t:t.has(s[1]):n(s[2]))},ub=e=>Wv.test(e)&&!qv.test(e),pb=()=>!1,mb=e=>Gv.test(e),hb=e=>Zv.test(e),xb=zv(()=>{const e=Bv("colors"),t=Bv("spacing"),n=Bv("blur"),s=Bv("brightness"),i=Bv("borderColor"),a=Bv("borderRadius"),r=Bv("borderSpacing"),o=Bv("borderWidth"),l=Bv("contrast"),c=Bv("grayscale"),d=Bv("hueRotate"),u=Bv("invert"),p=Bv("gap"),m=Bv("gradientColorStops"),h=Bv("gradientColorStopPositions"),x=Bv("inset"),f=Bv("margin"),g=Bv("opacity"),v=Bv("padding"),b=Bv("saturate"),y=Bv("scale"),w=Bv("sepia"),j=Bv("skew"),C=Bv("space"),N=Bv("translate"),F=()=>["auto",tb,t],_=()=>[tb,t],k=()=>["",Yv,Kv],S=()=>["auto",Jv,tb],E=()=>["","0",tb],I=()=>[Jv,tb];return{cacheSize:500,separator:":",theme:{colors:[cb],spacing:[Yv,Kv],blur:["none","",nb,tb],brightness:I(),borderColor:[e],borderRadius:["none","","full",nb,tb],borderSpacing:_(),borderWidth:k(),contrast:I(),grayscale:E(),hueRotate:I(),invert:E(),gap:_(),gradientColorStops:[e],gradientColorStopPositions:[eb,Kv],inset:F(),margin:F(),opacity:I(),padding:_(),saturate:I(),scale:I(),sepia:E(),skew:I(),space:_(),translate:_()},classGroups:{aspect:[{aspect:["auto","square","video",tb]}],container:["container"],columns:[{columns:[nb]}],"break-after":[{"break-after":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-before":[{"break-before":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top",tb]}],overflow:[{overflow:["auto","hidden","clip","visible","scroll"]}],"overflow-x":[{"overflow-x":["auto","hidden","clip","visible","scroll"]}],"overflow-y":[{"overflow-y":["auto","hidden","clip","visible","scroll"]}],overscroll:[{overscroll:["auto","contain","none"]}],"overscroll-x":[{"overscroll-x":["auto","contain","none"]}],"overscroll-y":[{"overscroll-y":["auto","contain","none"]}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[x]}],"inset-x":[{"inset-x":[x]}],"inset-y":[{"inset-y":[x]}],start:[{start:[x]}],end:[{end:[x]}],top:[{top:[x]}],right:[{right:[x]}],bottom:[{bottom:[x]}],left:[{left:[x]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Xv,tb]}],basis:[{basis:F()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",tb]}],grow:[{grow:E()}],shrink:[{shrink:E()}],order:[{order:["first","last","none",Xv,tb]}],"grid-cols":[{"grid-cols":[cb]}],"col-start-end":[{col:["auto",{span:["full",Xv,tb]},tb]}],"col-start":[{"col-start":S()}],"col-end":[{"col-end":S()}],"grid-rows":[{"grid-rows":[cb]}],"row-start-end":[{row:["auto",{span:[Xv,tb]},tb]}],"row-start":[{"row-start":S()}],"row-end":[{"row-end":S()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",tb]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",tb]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal","start","end","center","between","around","evenly","stretch"]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal","start","end","center","between","around","evenly","stretch","baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":["start","end","center","between","around","evenly","stretch","baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[f]}],mx:[{mx:[f]}],my:[{my:[f]}],ms:[{ms:[f]}],me:[{me:[f]}],mt:[{mt:[f]}],mr:[{mr:[f]}],mb:[{mb:[f]}],ml:[{ml:[f]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",tb,t]}],"min-w":[{"min-w":[tb,t,"min","max","fit"]}],"max-w":[{"max-w":[tb,t,"none","full","min","max","fit","prose",{screen:[nb]},nb]}],h:[{h:[tb,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[tb,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[tb,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[tb,t,"auto","min","max","fit"]}],"font-size":[{text:["base",nb,Kv]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Qv]}],"font-family":[{font:[cb]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",tb]}],"line-clamp":[{"line-clamp":["none",Jv,Qv]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Yv,tb]}],"list-image":[{"list-image":["none",tb]}],"list-style-type":[{list:["none","disc","decimal",tb]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[g]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[g]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:["solid","dashed","dotted","double","none","wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Yv,Kv]}],"underline-offset":[{"underline-offset":["auto",Yv,tb]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:_()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",tb]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",tb]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[g]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top",ab]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",ib]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},ob]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[h]}],"gradient-via-pos":[{via:[h]}],"gradient-to-pos":[{to:[h]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[o]}],"border-w-x":[{"border-x":[o]}],"border-w-y":[{"border-y":[o]}],"border-w-s":[{"border-s":[o]}],"border-w-e":[{"border-e":[o]}],"border-w-t":[{"border-t":[o]}],"border-w-r":[{"border-r":[o]}],"border-w-b":[{"border-b":[o]}],"border-w-l":[{"border-l":[o]}],"border-opacity":[{"border-opacity":[g]}],"border-style":[{border:["solid","dashed","dotted","double","none","hidden"]}],"divide-x":[{"divide-x":[o]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[o]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[g]}],"divide-style":[{divide:["solid","dashed","dotted","double","none"]}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["","solid","dashed","dotted","double","none"]}],"outline-offset":[{"outline-offset":[Yv,tb]}],"outline-w":[{outline:[Yv,Kv]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:k()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[g]}],"ring-offset-w":[{"ring-offset":[Yv,Kv]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",nb,lb]}],"shadow-color":[{shadow:[cb]}],opacity:[{opacity:[g]}],"mix-blend":[{"mix-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[s]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",nb,tb]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[u]}],saturate:[{saturate:[b]}],sepia:[{sepia:[w]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[s]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[u]}],"backdrop-opacity":[{"backdrop-opacity":[g]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[w]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[r]}],"border-spacing-x":[{"border-spacing-x":[r]}],"border-spacing-y":[{"border-spacing-y":[r]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",tb]}],duration:[{duration:I()}],ease:[{ease:["linear","in","out","in-out",tb]}],delay:[{delay:I()}],animate:[{animate:["none","spin","ping","pulse","bounce",tb]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[y]}],"scale-x":[{"scale-x":[y]}],"scale-y":[{"scale-y":[y]}],rotate:[{rotate:[Xv,tb]}],"translate-x":[{"translate-x":[N]}],"translate-y":[{"translate-y":[N]}],"skew-x":[{"skew-x":[j]}],"skew-y":[{"skew-y":[j]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",tb]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",tb]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":_()}],"scroll-mx":[{"scroll-mx":_()}],"scroll-my":[{"scroll-my":_()}],"scroll-ms":[{"scroll-ms":_()}],"scroll-me":[{"scroll-me":_()}],"scroll-mt":[{"scroll-mt":_()}],"scroll-mr":[{"scroll-mr":_()}],"scroll-mb":[{"scroll-mb":_()}],"scroll-ml":[{"scroll-ml":_()}],"scroll-p":[{"scroll-p":_()}],"scroll-px":[{"scroll-px":_()}],"scroll-py":[{"scroll-py":_()}],"scroll-ps":[{"scroll-ps":_()}],"scroll-pe":[{"scroll-pe":_()}],"scroll-pt":[{"scroll-pt":_()}],"scroll-pr":[{"scroll-pr":_()}],"scroll-pb":[{"scroll-pb":_()}],"scroll-pl":[{"scroll-pl":_()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",tb]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Yv,Kv,Qv]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}});function fb(...e){return xb(Cv(e))}const gb=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,vb=Cv,bb=(e,t)=>n=>{var s;if(null==(null==t?void 0:t.variants))return vb(e,null==n?void 0:n.class,null==n?void 0:n.className);const{variants:i,defaultVariants:a}=t,r=Object.keys(i).map(e=>{const t=null==n?void 0:n[e],s=null==a?void 0:a[e];if(null===t)return null;const r=gb(t)||gb(s);return i[e][r]}),o=n&&Object.entries(n).reduce((e,t)=>{let[n,s]=t;return void 0===s||(e[n]=s),e},{}),l=null==t||null===(s=t.compoundVariants)||void 0===s?void 0:s.reduce((e,t)=>{let{class:n,className:s,...i}=t;return Object.entries(i).every(e=>{let[t,n]=e;return Array.isArray(n)?n.includes({...a,...o}[t]):{...a,...o}[t]===n})?[...e,n,s]:e},[]);return vb(e,r,l,null==n?void 0:n.class,null==n?void 0:n.className)},yb=bb("inline-flex items-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-all duration-300 ease-in-out focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-20 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input/10 text-background hover:border-input/10 hover:bg-background",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80 px-4 py-3",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-12 pl-3 rounded-[28px] gap-2",sm:"h-9 pl-3 rounded-[28px] gap-2",lg:"h-11 pl-3 rounded-[28px] gap-2",icon:"h-10 w-10"},expandOnHover:{true:"pr-3 hover:pr-6 group",false:"pr-3"}},defaultVariants:{variant:"default",size:"default",expandOnHover:!1}}),wb=De.forwardRef(({className:e,variant:t,size:i,asChild:a=!1,children:r,rightIcon:o,expandOnHover:l,forceHover:c,...d},u)=>{const p=a?s:"button",m=Boolean(o);return n.jsxs(p,{className:fb(yb({variant:t,size:i,expandOnHover:l,className:e}),m&&"justify-between",!m&&"justify-center",c&&l&&"pr-6"),ref:u,...d,children:[n.jsx("div",{className:"flex items-center  w-full",children:r}),o&&n.jsx("div",{className:fb("flex items-center transition-transform duration-300 ease-in-out",l&&c&&"translate-x-2"),children:o})]})});wb.displayName="Button";const jb=({children:e,className:t="",containerClassName:s="",dotConfig:i})=>n.jsx("div",{className:`relative h-full md:min-h-screen w-full ${t}`,children:n.jsx("div",{className:`relative h-full md:min-h-screen z-10 ${s}`,children:e})}),Cb=De.createContext({});function Nb(e){const t=De.useRef(null);return null===t.current&&(t.current=e()),t.current}const Fb="undefined"!=typeof window,_b=Fb?De.useLayoutEffect:De.useEffect,kb=De.createContext(null),Sb=De.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class Eb extends De.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const e=t.offsetParent,n=e instanceof HTMLElement&&e.offsetWidth||0,s=this.props.sizeRef.current;s.height=t.offsetHeight||0,s.width=t.offsetWidth||0,s.top=t.offsetTop,s.left=t.offsetLeft,s.right=n-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function Ib({children:e,isPresent:t,anchorX:s}){const i=De.useId(),a=De.useRef(null),r=De.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:o}=De.useContext(Sb);return De.useInsertionEffect(()=>{const{width:e,height:n,top:l,left:c,right:d}=r.current;if(t||!a.current||!e||!n)return;const u="left"===s?`left: ${c}`:`right: ${d}`;a.current.dataset.motionPopId=i;const p=document.createElement("style");return o&&(p.nonce=o),document.head.appendChild(p),p.sheet&&p.sheet.insertRule(`\n          [data-motion-pop-id="${i}"] {\n            position: absolute !important;\n            width: ${e}px !important;\n            height: ${n}px !important;\n            ${u}px !important;\n            top: ${l}px !important;\n          }\n        `),()=>{document.head.removeChild(p)}},[t]),n.jsx(Eb,{isPresent:t,childRef:a,sizeRef:r,children:De.cloneElement(e,{ref:a})})}const Ab=({children:e,initial:t,isPresent:s,onExitComplete:i,custom:a,presenceAffectsLayout:r,mode:o,anchorX:l})=>{const c=Nb(Tb),d=De.useId(),u=De.useCallback(e=>{c.set(e,!0);for(const t of c.values())if(!t)return;i&&i()},[c,i]),p=De.useMemo(()=>({id:d,initial:t,isPresent:s,custom:a,onExitComplete:u,register:e=>(c.set(e,!1),()=>c.delete(e))}),r?[Math.random(),u]:[s,u]);return De.useMemo(()=>{c.forEach((e,t)=>c.set(t,!1))},[s]),De.useEffect(()=>{!s&&!c.size&&i&&i()},[s]),"popLayout"===o&&(e=n.jsx(Ib,{isPresent:s,anchorX:l,children:e})),n.jsx(kb.Provider,{value:p,children:e})};function Tb(){return new Map}function Db(e=!0){const t=De.useContext(kb);if(null===t)return[!0,null];const{isPresent:n,onExitComplete:s,register:i}=t,a=De.useId();De.useEffect(()=>{if(e)return i(a)},[e]);const r=De.useCallback(()=>e&&s&&s(a),[a,s,e]);return!n&&s?[!1,r]:[!0]}const Mb=e=>e.key||"";function Lb(e){const t=[];return De.Children.forEach(e,e=>{De.isValidElement(e)&&t.push(e)}),t}const Pb=({children:e,custom:t,initial:s=!0,onExitComplete:i,presenceAffectsLayout:a=!0,mode:r="sync",propagate:o=!1,anchorX:l="left"})=>{const[c,d]=Db(o),u=De.useMemo(()=>Lb(e),[e]),p=o&&!c?[]:u.map(Mb),m=De.useRef(!0),h=De.useRef(u),x=Nb(()=>new Map),[f,g]=De.useState(u),[v,b]=De.useState(u);_b(()=>{m.current=!1,h.current=u;for(let e=0;e<v.length;e++){const t=Mb(v[e]);p.includes(t)?x.delete(t):!0!==x.get(t)&&x.set(t,!1)}},[v,p.length,p.join("-")]);const y=[];if(u!==f){let e=[...u];for(let t=0;t<v.length;t++){const n=v[t],s=Mb(n);p.includes(s)||(e.splice(t,0,n),y.push(n))}return"wait"===r&&y.length&&(e=y),b(Lb(e)),g(u),null}const{forceRender:w}=De.useContext(Cb);return n.jsx(n.Fragment,{children:v.map(e=>{const f=Mb(e),g=!(o&&!c)&&(u===v||p.includes(f));return n.jsx(Ab,{isPresent:g,initial:!(m.current&&!s)&&void 0,custom:t,presenceAffectsLayout:a,mode:r,onExitComplete:g?void 0:()=>{if(!x.has(f))return;x.set(f,!0);let e=!0;x.forEach(t=>{t||(e=!1)}),e&&(null==w||w(),b(h.current),o&&(null==d||d()),i&&i())},anchorX:l,children:e},f)})})},Rb=e=>e;let Ob=Rb;const zb=!1,Bb=["read","resolveKeyframes","update","preRender","render","postRender"],Hb={value:null};function $b(e,t){let n=!1,s=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,r=Bb.reduce((e,n)=>(e[n]=function(e,t){let n=new Set,s=new Set,i=!1,a=!1;const r=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1},l=0;function c(t){r.has(t)&&(d.schedule(t),e()),l++,t(o)}const d={schedule:(e,t=!1,a=!1)=>{const o=a&&i?n:s;return t&&r.add(e),o.has(e)||o.add(e),e},cancel:e=>{s.delete(e),r.delete(e)},process:e=>{o=e,i?a=!0:(i=!0,[n,s]=[s,n],n.forEach(c),t&&Hb.value&&Hb.value.frameloop[t].push(l),l=0,n.clear(),i=!1,a&&(a=!1,d.process(e)))}};return d}(a,t?n:void 0),e),{}),{read:o,resolveKeyframes:l,update:c,preRender:d,render:u,postRender:p}=r,m=()=>{const a=performance.now();n=!1,i.delta=s?1e3/60:Math.max(Math.min(a-i.timestamp,40),1),i.timestamp=a,i.isProcessing=!0,o.process(i),l.process(i),c.process(i),d.process(i),u.process(i),p.process(i),i.isProcessing=!1,n&&t&&(s=!1,e(m))};return{schedule:Bb.reduce((t,a)=>{const o=r[a];return t[a]=(t,a=!1,r=!1)=>(n||(n=!0,s=!0,i.isProcessing||e(m)),o.schedule(t,a,r)),t},{}),cancel:e=>{for(let t=0;t<Bb.length;t++)r[Bb[t]].cancel(e)},state:i,steps:r}}const{schedule:Ub,cancel:Vb,state:Wb,steps:qb}=$b("undefined"!=typeof requestAnimationFrame?requestAnimationFrame:Rb,!0),Gb=De.createContext({strict:!1}),Zb={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Yb={};for(const Wae in Zb)Yb[Wae]={isEnabled:e=>Zb[Wae].some(t=>!!e[t])};const Kb=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Jb(e){return e.startsWith("while")||e.startsWith("drag")&&"draggable"!==e||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Kb.has(e)}let Qb=e=>!Jb(e);try{(Xb=require("@emotion/is-prop-valid").default)&&(Qb=e=>e.startsWith("on")?!Jb(e):Xb(e))}catch(Vae){}var Xb;function ey(e){if("undefined"==typeof Proxy)return e;const t=new Map;return new Proxy((...t)=>e(...t),{get:(n,s)=>"create"===s?e:(t.has(s)||t.set(s,e(s)),t.get(s))})}const ty=De.createContext({});function ny(e){return null!==e&&"object"==typeof e&&"function"==typeof e.start}function sy(e){return"string"==typeof e||Array.isArray(e)}const iy=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],ay=["initial",...iy];function ry(e){return ny(e.animate)||ay.some(t=>sy(e[t]))}function oy(e){return Boolean(ry(e)||e.variants)}function ly(e){const{initial:t,animate:n}=function(e,t){if(ry(e)){const{initial:t,animate:n}=e;return{initial:!1===t||sy(t)?t:void 0,animate:sy(n)?n:void 0}}return!1!==e.inherit?t:{}}(e,De.useContext(ty));return De.useMemo(()=>({initial:t,animate:n}),[cy(t),cy(n)])}function cy(e){return Array.isArray(e)?e.join(" "):e}const dy=Symbol.for("motionComponentSymbol");function uy(e){return e&&"object"==typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}function py(e,t,n){return De.useCallback(s=>{s&&e.onMount&&e.onMount(s),t&&(s?t.mount(s):t.unmount()),n&&("function"==typeof n?n(s):uy(n)&&(n.current=s))},[t])}const{schedule:my}=$b(queueMicrotask,!1),hy=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),xy="data-"+hy("framerAppearId"),fy=De.createContext({});function gy(e,t,n,s,i){var a,r;const{visualElement:o}=De.useContext(ty),l=De.useContext(Gb),c=De.useContext(kb),d=De.useContext(Sb).reducedMotion,u=De.useRef(null);s=s||l.renderer,!u.current&&s&&(u.current=s(e,{visualState:t,parent:o,props:n,presenceContext:c,blockInitialAnimation:!!c&&!1===c.initial,reducedMotionConfig:d}));const p=u.current,m=De.useContext(fy);!p||p.projection||!i||"html"!==p.type&&"svg"!==p.type||function(e,t,n,s){const{layoutId:i,layout:a,drag:r,dragConstraints:o,layoutScroll:l,layoutRoot:c}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:vy(e.parent)),e.projection.setOptions({layoutId:i,layout:a,alwaysMeasureLayout:Boolean(r)||o&&uy(o),visualElement:e,animationType:"string"==typeof a?a:"both",initialPromotionConfig:s,layoutScroll:l,layoutRoot:c})}(u.current,n,i,m);const h=De.useRef(!1);De.useInsertionEffect(()=>{p&&h.current&&p.update(n,c)});const x=n[xy],f=De.useRef(Boolean(x)&&!(null===(a=window.MotionHandoffIsComplete)||void 0===a?void 0:a.call(window,x))&&(null===(r=window.MotionHasOptimisedAnimation)||void 0===r?void 0:r.call(window,x)));return _b(()=>{p&&(h.current=!0,window.MotionIsMounted=!0,p.updateFeatures(),my.render(p.render),f.current&&p.animationState&&p.animationState.animateChanges())}),De.useEffect(()=>{p&&(!f.current&&p.animationState&&p.animationState.animateChanges(),f.current&&(queueMicrotask(()=>{var e;null===(e=window.MotionHandoffMarkAsComplete)||void 0===e||e.call(window,x)}),f.current=!1))}),p}function vy(e){if(e)return!1!==e.options.allowProjection?e.projection:vy(e.parent)}function by({preloadedFeatures:e,createVisualElement:t,useRender:s,useVisualState:i,Component:a}){var r,o;function l(e,r){let o;const l={...De.useContext(Sb),...e,layoutId:yy(e)},{isStatic:c}=l,d=ly(e),u=i(e,c);if(!c&&Fb){De.useContext(Gb).strict;const e=function(e){const{drag:t,layout:n}=Yb;if(!t&&!n)return{};const s={...t,...n};return{MeasureLayout:(null==t?void 0:t.isEnabled(e))||(null==n?void 0:n.isEnabled(e))?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}(l);o=e.MeasureLayout,d.visualElement=gy(a,u,l,t,e.ProjectionNode)}return n.jsxs(ty.Provider,{value:d,children:[o&&d.visualElement?n.jsx(o,{visualElement:d.visualElement,...l}):null,s(a,e,py(u,d.visualElement,r),u,c,d.visualElement)]})}e&&function(e){for(const t in e)Yb[t]={...Yb[t],...e[t]}}(e),l.displayName=`motion.${"string"==typeof a?a:`create(${null!==(o=null!==(r=a.displayName)&&void 0!==r?r:a.name)&&void 0!==o?o:""})`}`;const c=De.forwardRef(l);return c[dy]=a,c}function yy({layoutId:e}){const t=De.useContext(Cb).id;return t&&void 0!==e?t+"-"+e:e}const wy=e=>t=>"string"==typeof t&&t.startsWith(e),jy=wy("--"),Cy=wy("var(--"),Ny=e=>!!Cy(e)&&Fy.test(e.split("/*")[0].trim()),Fy=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,_y={};const ky=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Sy=new Set(ky);function Ey(e,{layout:t,layoutId:n}){return Sy.has(e)||e.startsWith("origin")||(t||void 0!==n)&&(!!_y[e]||"opacity"===e)}const Iy=e=>Boolean(e&&e.getVelocity),Ay=(e,t)=>t&&"number"==typeof e?t.transform(e):e,Ty=(e,t,n)=>n>t?t:n<e?e:n,Dy={test:e=>"number"==typeof e,parse:parseFloat,transform:e=>e},My={...Dy,transform:e=>Ty(0,1,e)},Ly={...Dy,default:1},Py=e=>({test:t=>"string"==typeof t&&t.endsWith(e)&&1===t.split(" ").length,parse:parseFloat,transform:t=>`${t}${e}`}),Ry=Py("deg"),Oy=Py("%"),zy=Py("px"),By=Py("vh"),Hy=Py("vw"),$y={...Oy,parse:e=>Oy.parse(e)/100,transform:e=>Oy.transform(100*e)},Uy={borderWidth:zy,borderTopWidth:zy,borderRightWidth:zy,borderBottomWidth:zy,borderLeftWidth:zy,borderRadius:zy,radius:zy,borderTopLeftRadius:zy,borderTopRightRadius:zy,borderBottomRightRadius:zy,borderBottomLeftRadius:zy,width:zy,maxWidth:zy,height:zy,maxHeight:zy,top:zy,right:zy,bottom:zy,left:zy,padding:zy,paddingTop:zy,paddingRight:zy,paddingBottom:zy,paddingLeft:zy,margin:zy,marginTop:zy,marginRight:zy,marginBottom:zy,marginLeft:zy,backgroundPositionX:zy,backgroundPositionY:zy},Vy={rotate:Ry,rotateX:Ry,rotateY:Ry,rotateZ:Ry,scale:Ly,scaleX:Ly,scaleY:Ly,scaleZ:Ly,skew:Ry,skewX:Ry,skewY:Ry,distance:zy,translateX:zy,translateY:zy,translateZ:zy,x:zy,y:zy,z:zy,perspective:zy,transformPerspective:zy,opacity:My,originX:$y,originY:$y,originZ:zy},Wy={...Dy,transform:Math.round},qy={...Uy,...Vy,zIndex:Wy,size:zy,fillOpacity:My,strokeOpacity:My,numOctaves:Wy},Gy={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Zy=ky.length;function Yy(e,t,n){const{style:s,vars:i,transformOrigin:a}=e;let r=!1,o=!1;for(const l in t){const e=t[l];if(Sy.has(l))r=!0;else if(jy(l))i[l]=e;else{const t=Ay(e,qy[l]);l.startsWith("origin")?(o=!0,a[l]=t):s[l]=t}}if(t.transform||(r||n?s.transform=function(e,t,n){let s="",i=!0;for(let a=0;a<Zy;a++){const r=ky[a],o=e[r];if(void 0===o)continue;let l=!0;if(l="number"==typeof o?o===(r.startsWith("scale")?1:0):0===parseFloat(o),!l||n){const e=Ay(o,qy[r]);l||(i=!1,s+=`${Gy[r]||r}(${e}) `),n&&(t[r]=e)}}return s=s.trim(),n?s=n(t,i?"":s):i&&(s="none"),s}(t,e.transform,n):s.transform&&(s.transform="none")),o){const{originX:e="50%",originY:t="50%",originZ:n=0}=a;s.transformOrigin=`${e} ${t} ${n}`}}const Ky=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Jy(e,t,n){for(const s in t)Iy(t[s])||Ey(s,n)||(e[s]=t[s])}function Qy(e,t){const n={};return Jy(n,e.style||{},e),Object.assign(n,function({transformTemplate:e},t){return De.useMemo(()=>{const n={style:{},transform:{},transformOrigin:{},vars:{}};return Yy(n,t,e),Object.assign({},n.vars,n.style)},[t])}(e,t)),n}function Xy(e,t){const n={},s=Qy(e,t);return e.drag&&!1!==e.dragListener&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=!0===e.drag?"none":"pan-"+("x"===e.drag?"y":"x")),void 0===e.tabIndex&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=s,n}const ew=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function tw(e){return"string"==typeof e&&!e.includes("-")&&!!(ew.indexOf(e)>-1||/[A-Z]/u.test(e))}const nw={offset:"stroke-dashoffset",array:"stroke-dasharray"},sw={offset:"strokeDashoffset",array:"strokeDasharray"};function iw(e,t,n){return"string"==typeof e?e:zy.transform(t+n*e)}function aw(e,{attrX:t,attrY:n,attrScale:s,originX:i,originY:a,pathLength:r,pathSpacing:o=1,pathOffset:l=0,...c},d,u){if(Yy(e,c,u),d)return void(e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox));e.attrs=e.style,e.style={};const{attrs:p,style:m,dimensions:h}=e;p.transform&&(h&&(m.transform=p.transform),delete p.transform),h&&(void 0!==i||void 0!==a||m.transform)&&(m.transformOrigin=function(e,t,n){return`${iw(t,e.x,e.width)} ${iw(n,e.y,e.height)}`}(h,void 0!==i?i:.5,void 0!==a?a:.5)),void 0!==t&&(p.x=t),void 0!==n&&(p.y=n),void 0!==s&&(p.scale=s),void 0!==r&&function(e,t,n=1,s=0,i=!0){e.pathLength=1;const a=i?nw:sw;e[a.offset]=zy.transform(-s);const r=zy.transform(t),o=zy.transform(n);e[a.array]=`${r} ${o}`}(p,r,o,l,!1)}const rw=()=>({style:{},transform:{},transformOrigin:{},vars:{},attrs:{}}),ow=e=>"string"==typeof e&&"svg"===e.toLowerCase();function lw(e,t,n,s){const i=De.useMemo(()=>{const n={style:{},transform:{},transformOrigin:{},vars:{},attrs:{}};return aw(n,t,ow(s),e.transformTemplate),{...n.attrs,style:{...n.style}}},[t]);if(e.style){const t={};Jy(t,e.style,e),i.style={...t,...i.style}}return i}function cw(e=!1){return(t,n,s,{latestValues:i},a)=>{const r=(tw(t)?lw:Xy)(n,i,a,t),o=function(e,t,n){const s={};for(const i in e)"values"===i&&"object"==typeof e.values||(Qb(i)||!0===n&&Jb(i)||!t&&!Jb(i)||e.draggable&&i.startsWith("onDrag"))&&(s[i]=e[i]);return s}(n,"string"==typeof t,e),l=t!==De.Fragment?{...o,...r,ref:s}:{},{children:c}=n,d=De.useMemo(()=>Iy(c)?c.get():c,[c]);return De.createElement(t,{...l,children:d})}}function dw(e){const t=[{},{}];return null==e||e.values.forEach((e,n)=>{t[0][n]=e.get(),t[1][n]=e.getVelocity()}),t}function uw(e,t,n,s){if("function"==typeof t){const[i,a]=dw(s);t=t(void 0!==n?n:e.custom,i,a)}if("string"==typeof t&&(t=e.variants&&e.variants[t]),"function"==typeof t){const[i,a]=dw(s);t=t(void 0!==n?n:e.custom,i,a)}return t}const pw=e=>Array.isArray(e),mw=e=>pw(e)?e[e.length-1]||0:e;function hw(e){const t=Iy(e)?e.get():e;return n=t,Boolean(n&&"object"==typeof n&&n.mix&&n.toValue)?t.toValue():t;var n}const xw=e=>(t,n)=>{const s=De.useContext(ty),i=De.useContext(kb),a=()=>function({scrapeMotionValuesFromProps:e,createRenderState:t,onUpdate:n},s,i,a){const r={latestValues:fw(s,i,a,e),renderState:t()};return n&&(r.onMount=e=>n({props:s,current:e,...r}),r.onUpdate=e=>n(e)),r}(e,t,s,i);return n?a():Nb(a)};function fw(e,t,n,s){const i={},a=s(e,{});for(const p in a)i[p]=hw(a[p]);let{initial:r,animate:o}=e;const l=ry(e),c=oy(e);t&&c&&!l&&!1!==e.inherit&&(void 0===r&&(r=t.initial),void 0===o&&(o=t.animate));let d=!!n&&!1===n.initial;d=d||!1===r;const u=d?o:r;if(u&&"boolean"!=typeof u&&!ny(u)){const t=Array.isArray(u)?u:[u];for(let n=0;n<t.length;n++){const s=uw(e,t[n]);if(s){const{transitionEnd:e,transition:t,...n}=s;for(const s in n){let e=n[s];if(Array.isArray(e)){e=e[d?e.length-1:0]}null!==e&&(i[s]=e)}for(const s in e)i[s]=e[s]}}}return i}function gw(e,t,n){var s;const{style:i}=e,a={};for(const r in i)(Iy(i[r])||t.style&&Iy(t.style[r])||Ey(r,e)||void 0!==(null===(s=null==n?void 0:n.getValue(r))||void 0===s?void 0:s.liveStyle))&&(a[r]=i[r]);return a}const vw={useVisualState:xw({scrapeMotionValuesFromProps:gw,createRenderState:Ky})};function bw(e,t){try{t.dimensions="function"==typeof e.getBBox?e.getBBox():e.getBoundingClientRect()}catch(n){t.dimensions={x:0,y:0,width:0,height:0}}}function yw(e,{style:t,vars:n},s,i){Object.assign(e.style,t,i&&i.getProjectionStyles(s));for(const a in n)e.style.setProperty(a,n[a])}const ww=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function jw(e,t,n,s){yw(e,t,void 0,s);for(const i in t.attrs)e.setAttribute(ww.has(i)?i:hy(i),t.attrs[i])}function Cw(e,t,n){const s=gw(e,t,n);for(const i in e)if(Iy(e[i])||Iy(t[i])){s[-1!==ky.indexOf(i)?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i]=e[i]}return s}const Nw=["x","y","width","height","cx","cy","r"],Fw={useVisualState:xw({scrapeMotionValuesFromProps:Cw,createRenderState:rw,onUpdate:({props:e,prevProps:t,current:n,renderState:s,latestValues:i})=>{if(!n)return;let a=!!e.drag;if(!a)for(const o in i)if(Sy.has(o)){a=!0;break}if(!a)return;let r=!t;if(t)for(let o=0;o<Nw.length;o++){const n=Nw[o];e[n]!==t[n]&&(r=!0)}r&&Ub.read(()=>{bw(n,s),Ub.render(()=>{aw(s,i,ow(n.tagName),e.transformTemplate),jw(n,s)})})}})};function _w(e,t){return function(n,{forwardMotionProps:s}={forwardMotionProps:!1}){return by({...tw(n)?Fw:vw,preloadedFeatures:e,useRender:cw(s),createVisualElement:t,Component:n})}}function kw(e,t,n){const s=e.getProps();return uw(s,t,void 0!==n?n:s.custom,e)}function Sw(e,t){return e?e[t]||e.default||e:void 0}const Ew=new Set(["width","height","top","left","right","bottom",...ky]);function Iw(e,t){-1===e.indexOf(t)&&e.push(t)}function Aw(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class Tw{constructor(){this.subscriptions=[]}add(e){return Iw(this.subscriptions,e),()=>Aw(this.subscriptions,e)}notify(e,t,n){const s=this.subscriptions.length;if(s)if(1===s)this.subscriptions[0](e,t,n);else for(let i=0;i<s;i++){const s=this.subscriptions[i];s&&s(e,t,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function Dw(e,t){return t?e*(1e3/t):0}let Mw;function Lw(){Mw=void 0}const Pw={now:()=>(void 0===Mw&&Pw.set(Wb.isProcessing||zb?Wb.timestamp:performance.now()),Mw),set:e=>{Mw=e,queueMicrotask(Lw)}};class Rw{constructor(e,t={}){this.version="12.5.0",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(e,t=!0)=>{const n=Pw.now();this.updatedAt!==n&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(e),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),t&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){var t;this.current=e,this.updatedAt=Pw.now(),null===this.canTrackVelocity&&void 0!==e&&(this.canTrackVelocity=(t=this.current,!isNaN(parseFloat(t))))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new Tw);const n=this.events[e].add(t);return"change"===e?()=>{n(),Ub.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){t&&this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e,t)}setWithVelocity(e,t,n){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Pw.now();if(!this.canTrackVelocity||void 0===this.prevFrameValue||e-this.updatedAt>30)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,30);return Dw(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ow(e,t){return new Rw(e,t)}function zw(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Ow(n))}function Bw(e,t){const n=e.getValue("willChange");if(s=n,Boolean(Iy(s)&&s.add))return n.add(t);var s}function Hw(e){return e.props[xy]}function $w(e){let t;return()=>(void 0===t&&(t=e()),t)}const Uw=$w(()=>void 0!==window.ScrollTimeline);class Vw{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,t){for(let n=0;n<this.animations.length;n++)this.animations[n][e]=t}attachTimeline(e,t){const n=this.animations.map(n=>Uw()&&n.attachTimeline?n.attachTimeline(e):"function"==typeof t?t(n):void 0);return()=>{n.forEach((e,t)=>{e&&e(),this.animations[t].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let t=0;t<this.animations.length;t++)e=Math.max(e,this.animations[t].duration);return e}runAll(e){this.animations.forEach(t=>t[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class Ww extends Vw{then(e,t){return Promise.all(this.animations).then(e).catch(t)}}const qw=e=>1e3*e,Gw=e=>e/1e3;function Zw(e){return"function"==typeof e}function Yw(e,t){e.timeline=t,e.onfinish=null}const Kw=e=>Array.isArray(e)&&"number"==typeof e[0],Jw={linearEasing:void 0};function Qw(e,t){const n=$w(e);return()=>{var e;return null!==(e=Jw[t])&&void 0!==e?e:n()}}const Xw=Qw(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch(e){return!1}return!0},"linearEasing"),ej=(e,t,n)=>{const s=t-e;return 0===s?1:(n-e)/s},tj=(e,t,n=10)=>{let s="";const i=Math.max(Math.round(t/n),2);for(let a=0;a<i;a++)s+=e(ej(0,i-1,a))+", ";return`linear(${s.substring(0,s.length-2)})`};function nj(e){return Boolean("function"==typeof e&&Xw()||!e||"string"==typeof e&&(e in ij||Xw())||Kw(e)||Array.isArray(e)&&e.every(nj))}const sj=([e,t,n,s])=>`cubic-bezier(${e}, ${t}, ${n}, ${s})`,ij={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:sj([0,.65,.55,1]),circOut:sj([.55,0,1,.45]),backIn:sj([.31,.01,.66,-.59]),backOut:sj([.33,1.53,.69,.99])};function aj(e,t){return e?"function"==typeof e&&Xw()?tj(e,t):Kw(e)?sj(e):Array.isArray(e)?e.map(e=>aj(e,t)||ij.easeOut):ij[e]:void 0}const rj=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e;function oj(e,t,n,s){if(e===t&&n===s)return Rb;const i=t=>function(e,t,n,s,i){let a,r,o=0;do{r=t+(n-t)/2,a=rj(r,s,i)-e,a>0?n=r:t=r}while(Math.abs(a)>1e-7&&++o<12);return r}(t,0,1,e,n);return e=>0===e||1===e?e:rj(i(e),t,s)}const lj=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,cj=e=>t=>1-e(1-t),dj=oj(.33,1.53,.69,.99),uj=cj(dj),pj=lj(uj),mj=e=>(e*=2)<1?.5*uj(e):.5*(2-Math.pow(2,-10*(e-1))),hj=e=>1-Math.sin(Math.acos(e)),xj=cj(hj),fj=lj(hj),gj=e=>/^0[^.\s]+$/u.test(e);function vj(e){return"number"==typeof e?0===e:null===e||("none"===e||"0"===e||gj(e))}const bj=e=>Math.round(1e5*e)/1e5,yj=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;const wj=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,jj=(e,t)=>n=>Boolean("string"==typeof n&&wj.test(n)&&n.startsWith(e)||t&&!function(e){return null==e}(n)&&Object.prototype.hasOwnProperty.call(n,t)),Cj=(e,t,n)=>s=>{if("string"!=typeof s)return s;const[i,a,r,o]=s.match(yj);return{[e]:parseFloat(i),[t]:parseFloat(a),[n]:parseFloat(r),alpha:void 0!==o?parseFloat(o):1}},Nj={...Dy,transform:e=>Math.round((e=>Ty(0,255,e))(e))},Fj={test:jj("rgb","red"),parse:Cj("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:s=1})=>"rgba("+Nj.transform(e)+", "+Nj.transform(t)+", "+Nj.transform(n)+", "+bj(My.transform(s))+")"};const _j={test:jj("#"),parse:function(e){let t="",n="",s="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),s=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),s=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,s+=s,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:i?parseInt(i,16)/255:1}},transform:Fj.transform},kj={test:jj("hsl","hue"),parse:Cj("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:s=1})=>"hsla("+Math.round(e)+", "+Oy.transform(bj(t))+", "+Oy.transform(bj(n))+", "+bj(My.transform(s))+")"},Sj={test:e=>Fj.test(e)||_j.test(e)||kj.test(e),parse:e=>Fj.test(e)?Fj.parse(e):kj.test(e)?kj.parse(e):_j.parse(e),transform:e=>"string"==typeof e?e:e.hasOwnProperty("red")?Fj.transform(e):kj.transform(e)},Ej=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;const Ij="number",Aj="color",Tj=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Dj(e){const t=e.toString(),n=[],s={color:[],number:[],var:[]},i=[];let a=0;const r=t.replace(Tj,e=>(Sj.test(e)?(s.color.push(a),i.push(Aj),n.push(Sj.parse(e))):e.startsWith("var(")?(s.var.push(a),i.push("var"),n.push(e)):(s.number.push(a),i.push(Ij),n.push(parseFloat(e))),++a,"${}")).split("${}");return{values:n,split:r,indexes:s,types:i}}function Mj(e){return Dj(e).values}function Lj(e){const{split:t,types:n}=Dj(e),s=t.length;return e=>{let i="";for(let a=0;a<s;a++)if(i+=t[a],void 0!==e[a]){const t=n[a];i+=t===Ij?bj(e[a]):t===Aj?Sj.transform(e[a]):e[a]}return i}}const Pj=e=>"number"==typeof e?0:e;const Rj={test:function(e){var t,n;return isNaN(e)&&"string"==typeof e&&((null===(t=e.match(yj))||void 0===t?void 0:t.length)||0)+((null===(n=e.match(Ej))||void 0===n?void 0:n.length)||0)>0},parse:Mj,createTransformer:Lj,getAnimatableNone:function(e){const t=Mj(e);return Lj(e)(t.map(Pj))}},Oj=new Set(["brightness","contrast","saturate","opacity"]);function zj(e){const[t,n]=e.slice(0,-1).split("(");if("drop-shadow"===t)return e;const[s]=n.match(yj)||[];if(!s)return e;const i=n.replace(s,"");let a=Oj.has(t)?1:0;return s!==n&&(a*=100),t+"("+a+i+")"}const Bj=/\b([a-z-]*)\(.*?\)/gu,Hj={...Rj,getAnimatableNone:e=>{const t=e.match(Bj);return t?t.map(zj).join(" "):e}},$j={...qy,color:Sj,backgroundColor:Sj,outlineColor:Sj,fill:Sj,stroke:Sj,borderColor:Sj,borderTopColor:Sj,borderRightColor:Sj,borderBottomColor:Sj,borderLeftColor:Sj,filter:Hj,WebkitFilter:Hj},Uj=e=>$j[e];function Vj(e,t){let n=Uj(e);return n!==Hj&&(n=Rj),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const Wj=new Set(["auto","none","0"]);const qj=e=>180*e/Math.PI,Gj=e=>{const t=qj(Math.atan2(e[1],e[0]));return Yj(t)},Zj={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:Gj,rotateZ:Gj,skewX:e=>qj(Math.atan(e[1])),skewY:e=>qj(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},Yj=e=>((e%=360)<0&&(e+=360),e),Kj=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),Jj=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),Qj={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Kj,scaleY:Jj,scale:e=>(Kj(e)+Jj(e))/2,rotateX:e=>Yj(qj(Math.atan2(e[6],e[5]))),rotateY:e=>Yj(qj(Math.atan2(-e[2],e[0]))),rotateZ:Gj,rotate:Gj,skewX:e=>qj(Math.atan(e[4])),skewY:e=>qj(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function Xj(e){return e.includes("scale")?1:0}function eC(e,t){if(!e||"none"===e)return Xj(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,i;if(n)s=Qj,i=n;else{const t=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=Zj,i=t}if(!i)return Xj(t);const a=s[t],r=i[1].split(",").map(tC);return"function"==typeof a?a(r):r[a]}function tC(e){return parseFloat(e.trim())}const nC=e=>e===Dy||e===zy,sC=new Set(["x","y","z"]),iC=ky.filter(e=>!sC.has(e));const aC={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>eC(t,"x"),y:(e,{transform:t})=>eC(t,"y")};aC.translateX=aC.x,aC.translateY=aC.y;const rC=new Set;let oC=!1,lC=!1;function cC(){if(lC){const e=Array.from(rC).filter(e=>e.needsMeasurement),t=new Set(e.map(e=>e.element)),n=new Map;t.forEach(e=>{const t=function(e){const t=[];return iC.forEach(n=>{const s=e.getValue(n);void 0!==s&&(t.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),t}(e);t.length&&(n.set(e,t),e.render())}),e.forEach(e=>e.measureInitialState()),t.forEach(e=>{e.render();const t=n.get(e);t&&t.forEach(([t,n])=>{var s;null===(s=e.getValue(t))||void 0===s||s.set(n)})}),e.forEach(e=>e.measureEndState()),e.forEach(e=>{void 0!==e.suspendedScrollY&&window.scrollTo(0,e.suspendedScrollY)})}lC=!1,oC=!1,rC.forEach(e=>e.complete()),rC.clear()}function dC(){rC.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(lC=!0)})}class uC{constructor(e,t,n,s,i,a=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=n,this.motionValue=s,this.element=i,this.isAsync=a}scheduleResolve(){this.isScheduled=!0,this.isAsync?(rC.add(this),oC||(oC=!0,Ub.read(dC),Ub.resolveKeyframes(cC))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:n,motionValue:s}=this;for(let i=0;i<e.length;i++)if(null===e[i])if(0===i){const i=null==s?void 0:s.get(),a=e[e.length-1];if(void 0!==i)e[0]=i;else if(n&&t){const s=n.readValue(t,a);null!=s&&(e[0]=s)}void 0===e[0]&&(e[0]=a),s&&void 0===i&&s.set(e[0])}else e[i]=e[i-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),rC.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,rC.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const pC=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),mC=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function hC(e,t,n=1){const[s,i]=function(e){const t=mC.exec(e);if(!t)return[,];const[,n,s,i]=t;return[`--${null!=n?n:s}`,i]}(e);if(!s)return;const a=window.getComputedStyle(t).getPropertyValue(s);if(a){const e=a.trim();return pC(e)?parseFloat(e):e}return Ny(i)?hC(i,t,n+1):i}const xC=e=>t=>t.test(e),fC=[Dy,zy,Oy,Ry,Hy,By,{test:e=>"auto"===e,parse:e=>e}],gC=e=>fC.find(xC(e));class vC extends uC{constructor(e,t,n,s,i){super(e,t,n,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:n}=this;if(!t||!t.current)return;super.readKeyframes();for(let o=0;o<e.length;o++){let n=e[o];if("string"==typeof n&&(n=n.trim(),Ny(n))){const s=hC(n,t.current);void 0!==s&&(e[o]=s),o===e.length-1&&(this.finalKeyframe=n)}}if(this.resolveNoneKeyframes(),!Ew.has(n)||2!==e.length)return;const[s,i]=e,a=gC(s),r=gC(i);if(a!==r)if(nC(a)&&nC(r))for(let o=0;o<e.length;o++){const t=e[o];"string"==typeof t&&(e[o]=parseFloat(t))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,n=[];for(let s=0;s<e.length;s++)vj(e[s])&&n.push(s);n.length&&function(e,t,n){let s,i=0;for(;i<e.length&&!s;){const t=e[i];"string"==typeof t&&!Wj.has(t)&&Dj(t).values.length&&(s=e[i]),i++}if(s&&n)for(const a of t)e[a]=Vj(n,s)}(e,n,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:n}=this;if(!e||!e.current)return;"height"===n&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=aC[n](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const s=t[t.length-1];void 0!==s&&e.getValue(n,s).jump(s,!1)}measureEndState(){var e;const{element:t,name:n,unresolvedKeyframes:s}=this;if(!t||!t.current)return;const i=t.getValue(n);i&&i.jump(this.measuredOrigin,!1);const a=s.length-1,r=s[a];s[a]=aC[n](t.measureViewportBox(),window.getComputedStyle(t.current)),null!==r&&void 0===this.finalKeyframe&&(this.finalKeyframe=r),(null===(e=this.removedTransforms)||void 0===e?void 0:e.length)&&this.removedTransforms.forEach(([e,n])=>{t.getValue(e).set(n)}),this.resolveNoneKeyframes()}}const bC=(e,t)=>"zIndex"!==t&&(!("number"!=typeof e&&!Array.isArray(e))||!("string"!=typeof e||!Rj.test(e)&&"0"!==e||e.startsWith("url(")));const yC=e=>null!==e;function wC(e,{repeat:t,repeatType:n="loop"},s){const i=e.filter(yC),a=t&&"loop"!==n&&t%2==1?0:i.length-1;return a&&void 0!==s?s:i[a]}class jC{constructor({autoplay:e=!0,delay:t=0,type:n="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:a="loop",...r}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Pw.now(),this.options={autoplay:e,delay:t,type:n,repeat:s,repeatDelay:i,repeatType:a,...r},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt&&this.resolvedAt-this.createdAt>40?this.resolvedAt:this.createdAt}get resolved(){return this._resolved||this.hasAttemptedResolve||(dC(),cC()),this._resolved}onKeyframesResolved(e,t){this.resolvedAt=Pw.now(),this.hasAttemptedResolve=!0;const{name:n,type:s,velocity:i,delay:a,onComplete:r,onUpdate:o,isGenerator:l}=this.options;if(!l&&!function(e,t,n,s){const i=e[0];if(null===i)return!1;if("display"===t||"visibility"===t)return!0;const a=e[e.length-1],r=bC(i,t),o=bC(a,t);return!(!r||!o)&&(function(e){const t=e[0];if(1===e.length)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}(e)||("spring"===n||Zw(n))&&s)}(e,n,s,i)){if(!a)return o&&o(wC(e,this.options,t)),r&&r(),void this.resolveFinishedPromise();this.options.duration=0}const c=this.initPlayback(e,t);!1!==c&&(this._resolved={keyframes:e,finalKeyframe:t,...c},this.onPostResolved())}onPostResolved(){}then(e,t){return this.currentFinishedPromise.then(e,t)}flatten(){this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear")}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const CC=2e4;function NC(e){let t=0;let n=e.next(t);for(;!n.done&&t<CC;)t+=50,n=e.next(t);return t>=CC?1/0:t}const FC=(e,t,n)=>e+(t-e)*n;function _C(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function kC(e,t){return n=>n>0?t:e}const SC=(e,t,n)=>{const s=e*e,i=n*(t*t-s)+s;return i<0?0:Math.sqrt(i)},EC=[_j,Fj,kj];function IC(e){const t=(n=e,EC.find(e=>e.test(n)));var n;if(!Boolean(t))return!1;let s=t.parse(e);return t===kj&&(s=function({hue:e,saturation:t,lightness:n,alpha:s}){e/=360,n/=100;let i=0,a=0,r=0;if(t/=100){const s=n<.5?n*(1+t):n+t-n*t,o=2*n-s;i=_C(o,s,e+1/3),a=_C(o,s,e),r=_C(o,s,e-1/3)}else i=a=r=n;return{red:Math.round(255*i),green:Math.round(255*a),blue:Math.round(255*r),alpha:s}}(s)),s}const AC=(e,t)=>{const n=IC(e),s=IC(t);if(!n||!s)return kC(e,t);const i={...n};return e=>(i.red=SC(n.red,s.red,e),i.green=SC(n.green,s.green,e),i.blue=SC(n.blue,s.blue,e),i.alpha=FC(n.alpha,s.alpha,e),Fj.transform(i))},TC=(e,t)=>n=>t(e(n)),DC=(...e)=>e.reduce(TC),MC=new Set(["none","hidden"]);function LC(e,t){return n=>FC(e,t,n)}function PC(e){return"number"==typeof e?LC:"string"==typeof e?Ny(e)?kC:Sj.test(e)?AC:zC:Array.isArray(e)?RC:"object"==typeof e?Sj.test(e)?AC:OC:kC}function RC(e,t){const n=[...e],s=n.length,i=e.map((e,n)=>PC(e)(e,t[n]));return e=>{for(let t=0;t<s;t++)n[t]=i[t](e);return n}}function OC(e,t){const n={...e,...t},s={};for(const i in n)void 0!==e[i]&&void 0!==t[i]&&(s[i]=PC(e[i])(e[i],t[i]));return e=>{for(const t in s)n[t]=s[t](e);return n}}const zC=(e,t)=>{const n=Rj.createTransformer(t),s=Dj(e),i=Dj(t);return s.indexes.var.length===i.indexes.var.length&&s.indexes.color.length===i.indexes.color.length&&s.indexes.number.length>=i.indexes.number.length?MC.has(e)&&!i.values.length||MC.has(t)&&!s.values.length?function(e,t){return MC.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}(e,t):DC(RC(function(e,t){var n;const s=[],i={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const r=t.types[a],o=e.indexes[r][i[r]],l=null!==(n=e.values[o])&&void 0!==n?n:0;s[a]=l,i[r]++}return s}(s,i),i.values),n):kC(e,t)};function BC(e,t,n){if("number"==typeof e&&"number"==typeof t&&"number"==typeof n)return FC(e,t,n);return PC(e)(e,t)}function HC(e,t,n){const s=Math.max(t-5,0);return Dw(n-e(s),t-s)}const $C=100,UC=10,VC=1,WC=0,qC=800,GC=.3,ZC=.3,YC={granular:.01,default:2},KC={granular:.005,default:.5},JC=.01,QC=10,XC=.05,eN=1,tN=.001;function nN({duration:e=qC,bounce:t=GC,velocity:n=WC,mass:s=VC}){let i,a,r=1-t;r=Ty(XC,eN,r),e=Ty(JC,QC,Gw(e)),r<1?(i=t=>{const s=t*r,i=s*e,a=s-n,o=iN(t,r),l=Math.exp(-i);return tN-a/o*l},a=t=>{const s=t*r*e,a=s*n+n,o=Math.pow(r,2)*Math.pow(t,2)*e,l=Math.exp(-s),c=iN(Math.pow(t,2),r);return(-i(t)+tN>0?-1:1)*((a-o)*l)/c}):(i=t=>Math.exp(-t*e)*((t-n)*e+1)-.001,a=t=>Math.exp(-t*e)*(e*e*(n-t)));const o=function(e,t,n){let s=n;for(let i=1;i<sN;i++)s-=e(s)/t(s);return s}(i,a,5/e);if(e=qw(e),isNaN(o))return{stiffness:$C,damping:UC,duration:e};{const t=Math.pow(o,2)*s;return{stiffness:t,damping:2*r*Math.sqrt(s*t),duration:e}}}const sN=12;function iN(e,t){return e*Math.sqrt(1-t*t)}const aN=["duration","bounce"],rN=["stiffness","damping","mass"];function oN(e,t){return t.some(t=>void 0!==e[t])}function lN(e=ZC,t=GC){const n="object"!=typeof e?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:s,restDelta:i}=n;const a=n.keyframes[0],r=n.keyframes[n.keyframes.length-1],o={done:!1,value:a},{stiffness:l,damping:c,mass:d,duration:u,velocity:p,isResolvedFromDuration:m}=function(e){let t={velocity:WC,stiffness:$C,damping:UC,mass:VC,isResolvedFromDuration:!1,...e};if(!oN(e,rN)&&oN(e,aN))if(e.visualDuration){const n=e.visualDuration,s=2*Math.PI/(1.2*n),i=s*s,a=2*Ty(.05,1,1-(e.bounce||0))*Math.sqrt(i);t={...t,mass:VC,stiffness:i,damping:a}}else{const n=nN(e);t={...t,...n,mass:VC},t.isResolvedFromDuration=!0}return t}({...n,velocity:-Gw(n.velocity||0)}),h=p||0,x=c/(2*Math.sqrt(l*d)),f=r-a,g=Gw(Math.sqrt(l/d)),v=Math.abs(f)<5;let b;if(s||(s=v?YC.granular:YC.default),i||(i=v?KC.granular:KC.default),x<1){const e=iN(g,x);b=t=>{const n=Math.exp(-x*g*t);return r-n*((h+x*g*f)/e*Math.sin(e*t)+f*Math.cos(e*t))}}else if(1===x)b=e=>r-Math.exp(-g*e)*(f+(h+g*f)*e);else{const e=g*Math.sqrt(x*x-1);b=t=>{const n=Math.exp(-x*g*t),s=Math.min(e*t,300);return r-n*((h+x*g*f)*Math.sinh(s)+e*f*Math.cosh(s))/e}}const y={calculatedDuration:m&&u||null,next:e=>{const t=b(e);if(m)o.done=e>=u;else{let n=0;x<1&&(n=0===e?qw(h):HC(b,e,t));const a=Math.abs(n)<=s,l=Math.abs(r-t)<=i;o.done=a&&l}return o.value=o.done?r:t,o},toString:()=>{const e=Math.min(NC(y),CC),t=tj(t=>y.next(e*t).value,e,30);return e+"ms "+t}};return y}function cN({keyframes:e,velocity:t=0,power:n=.8,timeConstant:s=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:r,min:o,max:l,restDelta:c=.5,restSpeed:d}){const u=e[0],p={done:!1,value:u},m=e=>void 0===o?l:void 0===l||Math.abs(o-e)<Math.abs(l-e)?o:l;let h=n*t;const x=u+h,f=void 0===r?x:r(x);f!==x&&(h=f-u);const g=e=>-h*Math.exp(-e/s),v=e=>f+g(e),b=e=>{const t=g(e),n=v(e);p.done=Math.abs(t)<=c,p.value=p.done?f:n};let y,w;const j=e=>{var t;(t=p.value,void 0!==o&&t<o||void 0!==l&&t>l)&&(y=e,w=lN({keyframes:[p.value,m(p.value)],velocity:HC(v,e,p.value),damping:i,stiffness:a,restDelta:c,restSpeed:d}))};return j(0),{calculatedDuration:null,next:e=>{let t=!1;return w||void 0!==y||(t=!0,b(e),j(e)),void 0!==y&&e>=y?w.next(e-y):(!t&&b(e),p)}}}const dN=oj(.42,0,1,1),uN=oj(0,0,.58,1),pN=oj(.42,0,.58,1),mN={linear:Rb,easeIn:dN,easeInOut:pN,easeOut:uN,circIn:hj,circInOut:fj,circOut:xj,backIn:uj,backInOut:pj,backOut:dj,anticipate:mj},hN=e=>{if(Kw(e)){Ob(4===e.length);const[t,n,s,i]=e;return oj(t,n,s,i)}return"string"==typeof e?mN[e]:e};function xN(e,t,{clamp:n=!0,ease:s,mixer:i}={}){const a=e.length;if(Ob(a===t.length),1===a)return()=>t[0];if(2===a&&t[0]===t[1])return()=>t[1];const r=e[0]===e[1];e[0]>e[a-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=function(e,t,n){const s=[],i=n||BC,a=e.length-1;for(let r=0;r<a;r++){let n=i(e[r],e[r+1]);if(t){const e=Array.isArray(t)?t[r]||Rb:t;n=DC(e,n)}s.push(n)}return s}(t,s,i),l=o.length,c=n=>{if(r&&n<e[0])return t[0];let s=0;if(l>1)for(;s<e.length-2&&!(n<e[s+1]);s++);const i=ej(e[s],e[s+1],n);return o[s](i)};return n?t=>c(Ty(e[0],e[a-1],t)):c}function fN(e){const t=[0];return function(e,t){const n=e[e.length-1];for(let s=1;s<=t;s++){const i=ej(0,t,s);e.push(FC(n,1,i))}}(t,e.length-1),t}function gN({duration:e=300,keyframes:t,times:n,ease:s="easeInOut"}){const i=(e=>Array.isArray(e)&&"number"!=typeof e[0])(s)?s.map(hN):hN(s),a={done:!1,value:t[0]},r=function(e,t){return e.map(e=>e*t)}(n&&n.length===t.length?n:fN(t),e),o=xN(r,t,{ease:Array.isArray(i)?i:(l=t,c=i,l.map(()=>c||pN).splice(0,l.length-1))});var l,c;return{calculatedDuration:e,next:t=>(a.value=o(t),a.done=t>=e,a)}}const vN=e=>{const t=({timestamp:t})=>e(t);return{start:()=>Ub.update(t,!0),stop:()=>Vb(t),now:()=>Wb.isProcessing?Wb.timestamp:Pw.now()}},bN={decay:cN,inertia:cN,tween:gN,keyframes:gN,spring:lN},yN=e=>e/100;class wN extends jC{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,"idle"===this.state)return;this.teardown();const{onStop:e}=this.options;e&&e()};const{name:t,motionValue:n,element:s,keyframes:i}=this.options,a=(null==s?void 0:s.KeyframeResolver)||uC;this.resolver=new a(i,(e,t)=>this.onKeyframesResolved(e,t),t,n,s),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:t="keyframes",repeat:n=0,repeatDelay:s=0,repeatType:i,velocity:a=0}=this.options,r=Zw(t)?t:bN[t]||gN;let o,l;r!==gN&&"number"!=typeof e[0]&&(o=DC(yN,BC(e[0],e[1])),e=[0,100]);const c=r({...this.options,keyframes:e});"mirror"===i&&(l=r({...this.options,keyframes:[...e].reverse(),velocity:-a})),null===c.calculatedDuration&&(c.calculatedDuration=NC(c));const{calculatedDuration:d}=c,u=d+s;return{generator:c,mirroredGenerator:l,mapPercentToKeyframes:o,calculatedDuration:d,resolvedDuration:u,totalDuration:u*(n+1)-s}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),"paused"!==this.pendingPlayState&&e?this.state=this.pendingPlayState:this.pause()}tick(e,t=!1){const{resolved:n}=this;if(!n){const{keyframes:e}=this.options;return{done:!0,value:e[e.length-1]}}const{finalKeyframe:s,generator:i,mirroredGenerator:a,mapPercentToKeyframes:r,keyframes:o,calculatedDuration:l,totalDuration:c,resolvedDuration:d}=n;if(null===this.startTime)return i.next(0);const{delay:u,repeat:p,repeatType:m,repeatDelay:h,onUpdate:x}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-c/this.speed,this.startTime)),t?this.currentTime=e:null!==this.holdTime?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const f=this.currentTime-u*(this.speed>=0?1:-1),g=this.speed>=0?f<0:f>c;this.currentTime=Math.max(f,0),"finished"===this.state&&null===this.holdTime&&(this.currentTime=c);let v=this.currentTime,b=i;if(p){const e=Math.min(this.currentTime,c)/d;let t=Math.floor(e),n=e%1;!n&&e>=1&&(n=1),1===n&&t--,t=Math.min(t,p+1);Boolean(t%2)&&("reverse"===m?(n=1-n,h&&(n-=h/d)):"mirror"===m&&(b=a)),v=Ty(0,1,n)*d}const y=g?{done:!1,value:o[0]}:b.next(v);r&&(y.value=r(y.value));let{done:w}=y;g||null===l||(w=this.speed>=0?this.currentTime>=c:this.currentTime<=0);const j=null===this.holdTime&&("finished"===this.state||"running"===this.state&&w);return j&&void 0!==s&&(y.value=wC(o,this.options,s)),x&&x(y.value),j&&this.finish(),y}get duration(){const{resolved:e}=this;return e?Gw(e.calculatedDuration):0}get time(){return Gw(this.currentTime)}set time(e){e=qw(e),this.currentTime=e,null!==this.holdTime||0===this.speed?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=Gw(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved)return void(this.pendingPlayState="running");if(this.isStopped)return;const{driver:e=vN,onPlay:t,startTime:n}=this.options;this.driver||(this.driver=e(e=>this.tick(e))),t&&t();const s=this.driver.now();null!==this.holdTime?this.startTime=s-this.holdTime:this.startTime?"finished"===this.state&&(this.startTime=s):this.startTime=null!=n?n:this.calcStartTime(),"finished"===this.state&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;this._resolved?(this.state="paused",this.holdTime=null!==(e=this.currentTime)&&void 0!==e?e:0):this.pendingPlayState="paused"}complete(){"running"!==this.state&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){null!==this.cancelTime&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const jN=new Set(["opacity","clipPath","filter","transform"]);function CN(e,t,n,{delay:s=0,duration:i=300,repeat:a=0,repeatType:r="loop",ease:o="easeInOut",times:l}={}){const c={[t]:n};l&&(c.offset=l);const d=aj(o,i);Array.isArray(d)&&(c.easing=d);return e.animate(c,{delay:s,duration:i,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:a+1,direction:"reverse"===r?"alternate":"normal"})}const NN=$w(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));const FN={anticipate:mj,backInOut:pj,circInOut:fj};class _N extends jC{constructor(e){super(e);const{name:t,motionValue:n,element:s,keyframes:i}=this.options;this.resolver=new vC(i,(e,t)=>this.onKeyframesResolved(e,t),t,n,s),this.resolver.scheduleResolve()}initPlayback(e,t){let{duration:n=300,times:s,ease:i,type:a,motionValue:r,name:o,startTime:l}=this.options;if(!r.owner||!r.owner.current)return!1;var c;if("string"==typeof i&&Xw()&&i in FN&&(i=FN[i]),Zw((c=this.options).type)||"spring"===c.type||!nj(c.ease)){const{onComplete:t,onUpdate:r,motionValue:o,element:l,...c}=this.options,d=function(e,t){const n=new wN({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let s={done:!1,value:e[0]};const i=[];let a=0;for(;!s.done&&a<2e4;)s=n.sample(a),i.push(s.value),a+=10;return{times:void 0,keyframes:i,duration:a-10,ease:"linear"}}(e,c);1===(e=d.keyframes).length&&(e[1]=e[0]),n=d.duration,s=d.times,i=d.ease,a="keyframes"}const d=CN(r.owner.current,o,e,{...this.options,duration:n,times:s,ease:i});return d.startTime=null!=l?l:this.calcStartTime(),this.pendingTimeline?(Yw(d,this.pendingTimeline),this.pendingTimeline=void 0):d.onfinish=()=>{const{onComplete:n}=this.options;r.set(wC(e,this.options,t)),n&&n(),this.cancel(),this.resolveFinishedPromise()},{animation:d,duration:n,times:s,type:a,ease:i,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:t}=e;return Gw(t)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:t}=e;return Gw(t.currentTime||0)}set time(e){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.currentTime=qw(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:t}=e;return t.playbackRate}set speed(e){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:t}=e;return t.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:t}=e;return t.startTime}attachTimeline(e){if(this._resolved){const{resolved:t}=this;if(!t)return Rb;const{animation:n}=t;Yw(n,e)}else this.pendingTimeline=e;return Rb}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:t}=e;"finished"===t.playState&&this.updateFinishedPromise(),t.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,"idle"===this.state)return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:t,keyframes:n,duration:s,type:i,ease:a,times:r}=e;if("idle"===t.playState||"finished"===t.playState)return;if(this.time){const{motionValue:e,onUpdate:t,onComplete:o,element:l,...c}=this.options,d=new wN({...c,keyframes:n,duration:s,type:i,ease:a,times:r,isGenerator:!0}),u=qw(this.time);e.setWithVelocity(d.sample(u-10).value,d.sample(u).value,10)}const{onStop:o}=this.options;o&&o(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:t,name:n,repeatDelay:s,repeatType:i,damping:a,type:r}=e;if(!(t&&t.owner&&t.owner.current instanceof HTMLElement))return!1;const{onUpdate:o,transformTemplate:l}=t.owner.getProps();return NN()&&n&&jN.has(n)&&!o&&!l&&!s&&"mirror"!==i&&0!==a&&"inertia"!==r}}const kN={type:"spring",stiffness:500,damping:25,restSpeed:10},SN={type:"keyframes",duration:.8},EN={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},IN=(e,{keyframes:t})=>t.length>2?SN:Sy.has(e)?e.startsWith("scale")?{type:"spring",stiffness:550,damping:0===t[1]?2*Math.sqrt(550):30,restSpeed:10}:kN:EN;const AN=(e,t,n,s={},i,a)=>r=>{const o=Sw(s,e)||{},l=o.delay||s.delay||0;let{elapsed:c=0}=s;c-=qw(l);let d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...o,delay:-c,onUpdate:e=>{t.set(e),o.onUpdate&&o.onUpdate(e)},onComplete:()=>{r(),o.onComplete&&o.onComplete()},name:e,motionValue:t,element:a?void 0:i};(function({when:e,delay:t,delayChildren:n,staggerChildren:s,staggerDirection:i,repeat:a,repeatType:r,repeatDelay:o,from:l,elapsed:c,...d}){return!!Object.keys(d).length})(o)||(d={...d,...IN(e,d)}),d.duration&&(d.duration=qw(d.duration)),d.repeatDelay&&(d.repeatDelay=qw(d.repeatDelay)),void 0!==d.from&&(d.keyframes[0]=d.from);let u=!1;if((!1===d.type||0===d.duration&&!d.repeatDelay)&&(d.duration=0,0===d.delay&&(u=!0)),d.allowFlatten=!o.type&&!o.ease,u&&!a&&void 0!==t.get()){const e=wC(d.keyframes,o);if(void 0!==e)return Ub.update(()=>{d.onUpdate(e),d.onComplete()}),new Ww([])}return!a&&_N.supports(d)?new _N(d):new wN(d)};function TN({protectedKeys:e,needsAnimating:t},n){const s=e.hasOwnProperty(n)&&!0!==t[n];return t[n]=!1,s}function DN(e,t,{delay:n=0,transitionOverride:s,type:i}={}){var a;let{transition:r=e.getDefaultTransition(),transitionEnd:o,...l}=t;s&&(r=s);const c=[],d=i&&e.animationState&&e.animationState.getState()[i];for(const u in l){const t=e.getValue(u,null!==(a=e.latestValues[u])&&void 0!==a?a:null),s=l[u];if(void 0===s||d&&TN(d,u))continue;const i={delay:n,...Sw(r||{},u)};let o=!1;if(window.MotionHandoffAnimation){const t=Hw(e);if(t){const e=window.MotionHandoffAnimation(t,u,Ub);null!==e&&(i.startTime=e,o=!0)}}Bw(e,u),t.start(AN(u,t,s,e.shouldReduceMotion&&Ew.has(u)?{type:!1}:i,e,o));const p=t.animation;p&&c.push(p)}return o&&Promise.all(c).then(()=>{Ub.update(()=>{o&&function(e,t){const n=kw(e,t);let{transitionEnd:s={},transition:i={},...a}=n||{};a={...a,...s};for(const r in a)zw(e,r,mw(a[r]))}(e,o)})}),c}function MN(e,t,n={}){var s;const i=kw(e,t,"exit"===n.type?null===(s=e.presenceContext)||void 0===s?void 0:s.custom:void 0);let{transition:a=e.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(a=n.transitionOverride);const r=i?()=>Promise.all(DN(e,i,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(s=0)=>{const{delayChildren:i=0,staggerChildren:r,staggerDirection:o}=a;return function(e,t,n=0,s=0,i=1,a){const r=[],o=(e.variantChildren.size-1)*s,l=1===i?(e=0)=>e*s:(e=0)=>o-e*s;return Array.from(e.variantChildren).sort(LN).forEach((e,s)=>{e.notify("AnimationStart",t),r.push(MN(e,t,{...a,delay:n+l(s)}).then(()=>e.notify("AnimationComplete",t)))}),Promise.all(r)}(e,t,i+s,r,o,n)}:()=>Promise.resolve(),{when:l}=a;if(l){const[e,t]="beforeChildren"===l?[r,o]:[o,r];return e().then(()=>t())}return Promise.all([r(),o(n.delay)])}function LN(e,t){return e.sortNodePosition(t)}function PN(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let s=0;s<n;s++)if(t[s]!==e[s])return!1;return!0}const RN=ay.length;function ON(e){if(!e)return;if(!e.isControllingVariants){const t=e.parent&&ON(e.parent)||{};return void 0!==e.props.initial&&(t.initial=e.props.initial),t}const t={};for(let n=0;n<RN;n++){const s=ay[n],i=e.props[s];(sy(i)||!1===i)&&(t[s]=i)}return t}const zN=[...iy].reverse(),BN=iy.length;function HN(e){return t=>Promise.all(t.map(({animation:t,options:n})=>function(e,t,n={}){let s;if(e.notify("AnimationStart",t),Array.isArray(t)){const i=t.map(t=>MN(e,t,n));s=Promise.all(i)}else if("string"==typeof t)s=MN(e,t,n);else{const i="function"==typeof t?kw(e,t,n.custom):t;s=Promise.all(DN(e,i,n))}return s.then(()=>{e.notify("AnimationComplete",t)})}(e,t,n)))}function $N(e){let t=HN(e),n=WN(),s=!0;const i=t=>(n,s)=>{var i;const a=kw(e,s,"exit"===t?null===(i=e.presenceContext)||void 0===i?void 0:i.custom:void 0);if(a){const{transition:e,transitionEnd:t,...s}=a;n={...n,...s,...t}}return n};function a(a){const{props:r}=e,o=ON(e.parent)||{},l=[],c=new Set;let d={},u=1/0;for(let t=0;t<BN;t++){const p=zN[t],m=n[p],h=void 0!==r[p]?r[p]:o[p],x=sy(h),f=p===a?m.isActive:null;!1===f&&(u=t);let g=h===o[p]&&h!==r[p]&&x;if(g&&s&&e.manuallyAnimateOnMount&&(g=!1),m.protectedKeys={...d},!m.isActive&&null===f||!h&&!m.prevProp||ny(h)||"boolean"==typeof h)continue;const v=UN(m.prevProp,h);let b=v||p===a&&m.isActive&&!g&&x||t>u&&x,y=!1;const w=Array.isArray(h)?h:[h];let j=w.reduce(i(p),{});!1===f&&(j={});const{prevResolvedValues:C={}}=m,N={...C,...j},F=t=>{b=!0,c.has(t)&&(y=!0,c.delete(t)),m.needsAnimating[t]=!0;const n=e.getValue(t);n&&(n.liveStyle=!1)};for(const e in N){const t=j[e],n=C[e];if(d.hasOwnProperty(e))continue;let s=!1;s=pw(t)&&pw(n)?!PN(t,n):t!==n,s?null!=t?F(e):c.add(e):void 0!==t&&c.has(e)?F(e):m.protectedKeys[e]=!0}m.prevProp=h,m.prevResolvedValues=j,m.isActive&&(d={...d,...j}),s&&e.blockInitialAnimation&&(b=!1);b&&(!(g&&v)||y)&&l.push(...w.map(e=>({animation:e,options:{type:p}})))}if(c.size){const t={};if("boolean"!=typeof r.initial){const n=kw(e,Array.isArray(r.initial)?r.initial[0]:r.initial);n&&n.transition&&(t.transition=n.transition)}c.forEach(n=>{const s=e.getBaseTarget(n),i=e.getValue(n);i&&(i.liveStyle=!0),t[n]=null!=s?s:null}),l.push({animation:t})}let p=Boolean(l.length);return!s||!1!==r.initial&&r.initial!==r.animate||e.manuallyAnimateOnMount||(p=!1),s=!1,p?t(l):Promise.resolve()}return{animateChanges:a,setActive:function(t,s){var i;if(n[t].isActive===s)return Promise.resolve();null===(i=e.variantChildren)||void 0===i||i.forEach(e=>{var n;return null===(n=e.animationState)||void 0===n?void 0:n.setActive(t,s)}),n[t].isActive=s;const r=a(t);for(const e in n)n[e].protectedKeys={};return r},setAnimateFunction:function(n){t=n(e)},getState:()=>n,reset:()=>{n=WN(),s=!0}}}function UN(e,t){return"string"==typeof t?t!==e:!!Array.isArray(t)&&!PN(t,e)}function VN(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function WN(){return{animate:VN(!0),whileInView:VN(),whileHover:VN(),whileTap:VN(),whileDrag:VN(),whileFocus:VN(),exit:VN()}}class qN{constructor(e){this.isMounted=!1,this.node=e}update(){}}let GN=0;const ZN={animation:{Feature:class extends qN{constructor(e){super(e),e.animationState||(e.animationState=$N(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();ny(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),null===(e=this.unmountControls)||void 0===e||e.call(this)}}},exit:{Feature:class extends qN{constructor(){super(...arguments),this.id=GN++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const s=this.node.animationState.setActive("exit",!e);t&&!e&&s.then(()=>{t(this.id)})}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}}},YN={x:!1,y:!1};function KN(){return YN.x||YN.y}function JN(e,t,n,s={passive:!0}){return e.addEventListener(t,n,s),()=>e.removeEventListener(t,n)}const QN=e=>"mouse"===e.pointerType?"number"!=typeof e.button||e.button<=0:!1!==e.isPrimary;function XN(e){return{point:{x:e.pageX,y:e.pageY}}}function eF(e,t,n,s){return JN(e,t,(e=>t=>QN(t)&&e(t,XN(t)))(n),s)}function tF({top:e,left:t,right:n,bottom:s}){return{x:{min:t,max:n},y:{min:e,max:s}}}function nF(e){return e.max-e.min}function sF(e,t,n,s=.5){e.origin=s,e.originPoint=FC(t.min,t.max,e.origin),e.scale=nF(n)/nF(t),e.translate=FC(n.min,n.max,e.origin)-e.originPoint,(e.scale>=.9999&&e.scale<=1.0001||isNaN(e.scale))&&(e.scale=1),(e.translate>=-.01&&e.translate<=.01||isNaN(e.translate))&&(e.translate=0)}function iF(e,t,n,s){sF(e.x,t.x,n.x,s?s.originX:void 0),sF(e.y,t.y,n.y,s?s.originY:void 0)}function aF(e,t,n){e.min=n.min+t.min,e.max=e.min+nF(t)}function rF(e,t,n){e.min=t.min-n.min,e.max=e.min+nF(t)}function oF(e,t,n){rF(e.x,t.x,n.x),rF(e.y,t.y,n.y)}const lF=()=>({x:{min:0,max:0},y:{min:0,max:0}});function cF(e){return[e("x"),e("y")]}function dF(e){return void 0===e||1===e}function uF({scale:e,scaleX:t,scaleY:n}){return!dF(e)||!dF(t)||!dF(n)}function pF(e){return uF(e)||mF(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function mF(e){return hF(e.x)||hF(e.y)}function hF(e){return e&&"0%"!==e}function xF(e,t,n){return n+t*(e-n)}function fF(e,t,n,s,i){return void 0!==i&&(e=xF(e,i,s)),xF(e,n,s)+t}function gF(e,t=0,n=1,s,i){e.min=fF(e.min,t,n,s,i),e.max=fF(e.max,t,n,s,i)}function vF(e,{x:t,y:n}){gF(e.x,t.translate,t.scale,t.originPoint),gF(e.y,n.translate,n.scale,n.originPoint)}const bF=.999999999999,yF=1.0000000000001;function wF(e,t){e.min=e.min+t,e.max=e.max+t}function jF(e,t,n,s,i=.5){gF(e,t,n,FC(e.min,e.max,i),s)}function CF(e,t){jF(e.x,t.x,t.scaleX,t.scale,t.originX),jF(e.y,t.y,t.scaleY,t.scale,t.originY)}function NF(e,t){return tF(function(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),s=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}(e.getBoundingClientRect(),t))}const FF=({current:e})=>e?e.ownerDocument.defaultView:null,_F=(e,t)=>Math.abs(e-t);class kF{constructor(e,t,{transformPagePoint:n,contextWindow:s,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!this.lastMoveEvent||!this.lastMoveEventInfo)return;const e=IF(this.lastMoveEventInfo,this.history),t=null!==this.startEvent,n=function(e,t){const n=_F(e.x,t.x),s=_F(e.y,t.y);return Math.sqrt(n**2+s**2)}(e.offset,{x:0,y:0})>=3;if(!t&&!n)return;const{point:s}=e,{timestamp:i}=Wb;this.history.push({...s,timestamp:i});const{onStart:a,onMove:r}=this.handlers;t||(a&&a(this.lastMoveEvent,e),this.startEvent=this.lastMoveEvent),r&&r(this.lastMoveEvent,e)},this.handlePointerMove=(e,t)=>{this.lastMoveEvent=e,this.lastMoveEventInfo=SF(t,this.transformPagePoint),Ub.update(this.updatePoint,!0)},this.handlePointerUp=(e,t)=>{this.end();const{onEnd:n,onSessionEnd:s,resumeAnimation:i}=this.handlers;if(this.dragSnapToOrigin&&i&&i(),!this.lastMoveEvent||!this.lastMoveEventInfo)return;const a=IF("pointercancel"===e.type?this.lastMoveEventInfo:SF(t,this.transformPagePoint),this.history);this.startEvent&&n&&n(e,a),s&&s(e,a)},!QN(e))return;this.dragSnapToOrigin=i,this.handlers=t,this.transformPagePoint=n,this.contextWindow=s||window;const a=SF(XN(e),this.transformPagePoint),{point:r}=a,{timestamp:o}=Wb;this.history=[{...r,timestamp:o}];const{onSessionStart:l}=t;l&&l(e,IF(a,this.history)),this.removeListeners=DC(eF(this.contextWindow,"pointermove",this.handlePointerMove),eF(this.contextWindow,"pointerup",this.handlePointerUp),eF(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Vb(this.updatePoint)}}function SF(e,t){return t?{point:t(e.point)}:e}function EF(e,t){return{x:e.x-t.x,y:e.y-t.y}}function IF({point:e},t){return{point:e,delta:EF(e,TF(t)),offset:EF(e,AF(t)),velocity:DF(t,.1)}}function AF(e){return e[0]}function TF(e){return e[e.length-1]}function DF(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,s=null;const i=TF(e);for(;n>=0&&(s=e[n],!(i.timestamp-s.timestamp>qw(t)));)n--;if(!s)return{x:0,y:0};const a=Gw(i.timestamp-s.timestamp);if(0===a)return{x:0,y:0};const r={x:(i.x-s.x)/a,y:(i.y-s.y)/a};return r.x===1/0&&(r.x=0),r.y===1/0&&(r.y=0),r}function MF(e,t,n){return{min:void 0!==t?e.min+t:void 0,max:void 0!==n?e.max+n-(e.max-e.min):void 0}}function LF(e,t){let n=t.min-e.min,s=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,s]=[s,n]),{min:n,max:s}}const PF=.35;function RF(e,t,n){return{min:OF(e,t),max:OF(e,n)}}function OF(e,t){return"number"==typeof e?e:e[t]||0}const zF=new WeakMap;class BF{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic={x:{min:0,max:0},y:{min:0,max:0}},this.visualElement=e}start(e,{snapToCursor:t=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&!1===n.isPresent)return;const{dragSnapToOrigin:s}=this.getProps();this.panSession=new kF(e,{onSessionStart:e=>{const{dragSnapToOrigin:n}=this.getProps();n?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(XN(e).point)},onStart:(e,t)=>{const{drag:n,dragPropagation:s,onDragStart:i}=this.getProps();if(n&&!s&&(this.openDragLock&&this.openDragLock(),this.openDragLock="x"===(a=n)||"y"===a?YN[a]?null:(YN[a]=!0,()=>{YN[a]=!1}):YN.x||YN.y?null:(YN.x=YN.y=!0,()=>{YN.x=YN.y=!1}),!this.openDragLock))return;var a;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),cF(e=>{let t=this.getAxisMotionValue(e).get()||0;if(Oy.test(t)){const{projection:n}=this.visualElement;if(n&&n.layout){const s=n.layout.layoutBox[e];if(s){t=nF(s)*(parseFloat(t)/100)}}}this.originPoint[e]=t}),i&&Ub.postRender(()=>i(e,t)),Bw(this.visualElement,"transform");const{animationState:r}=this.visualElement;r&&r.setActive("whileDrag",!0)},onMove:(e,t)=>{const{dragPropagation:n,dragDirectionLock:s,onDirectionLock:i,onDrag:a}=this.getProps();if(!n&&!this.openDragLock)return;const{offset:r}=t;if(s&&null===this.currentDirection)return this.currentDirection=function(e,t=10){let n=null;Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x");return n}(r),void(null!==this.currentDirection&&i&&i(this.currentDirection));this.updateAxis("x",t.point,r),this.updateAxis("y",t.point,r),this.visualElement.render(),a&&a(e,t)},onSessionEnd:(e,t)=>this.stop(e,t),resumeAnimation:()=>cF(e=>{var t;return"paused"===this.getAnimationState(e)&&(null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.play())})},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:s,contextWindow:FF(this.visualElement)})}stop(e,t){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:s}=t;this.startAnimation(s);const{onDragEnd:i}=this.getProps();i&&Ub.postRender(()=>i(e,t))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,n){const{drag:s}=this.getProps();if(!n||!HF(e,s,this.currentDirection))return;const i=this.getAxisMotionValue(e);let a=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(a=function(e,{min:t,max:n},s){return void 0!==t&&e<t?e=s?FC(t,e,s.min):Math.max(e,t):void 0!==n&&e>n&&(e=s?FC(n,e,s.max):Math.min(e,n)),e}(a,this.constraints[e],this.elastic[e])),i.set(a)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):null===(e=this.visualElement.projection)||void 0===e?void 0:e.layout,i=this.constraints;t&&uy(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):this.constraints=!(!t||!s)&&function(e,{top:t,left:n,bottom:s,right:i}){return{x:MF(e.x,n,i),y:MF(e.y,t,s)}}(s.layoutBox,t),this.elastic=function(e=PF){return!1===e?e=0:!0===e&&(e=PF),{x:RF(e,"left","right"),y:RF(e,"top","bottom")}}(n),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&cF(e=>{!1!==this.constraints&&this.getAxisMotionValue(e)&&(this.constraints[e]=function(e,t){const n={};return void 0!==t.min&&(n.min=t.min-e.min),void 0!==t.max&&(n.max=t.max-e.min),n}(s.layoutBox[e],this.constraints[e]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!uy(e))return!1;const n=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=function(e,t,n){const s=NF(e,n),{scroll:i}=t;return i&&(wF(s.x,i.offset.x),wF(s.y,i.offset.y)),s}(n,s.root,this.visualElement.getTransformPagePoint());let a=function(e,t){return{x:LF(e.x,t.x),y:LF(e.y,t.y)}}(s.layout.layoutBox,i);if(t){const e=t(function({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}(a));this.hasMutatedConstraints=!!e,e&&(a=tF(e))}return a}startAnimation(e){const{drag:t,dragMomentum:n,dragElastic:s,dragTransition:i,dragSnapToOrigin:a,onDragTransitionEnd:r}=this.getProps(),o=this.constraints||{},l=cF(r=>{if(!HF(r,t,this.currentDirection))return;let l=o&&o[r]||{};a&&(l={min:0,max:0});const c=s?200:1e6,d=s?40:1e7,u={type:"inertia",velocity:n?e[r]:0,bounceStiffness:c,bounceDamping:d,timeConstant:750,restDelta:1,restSpeed:10,...i,...l};return this.startAxisValueAnimation(r,u)});return Promise.all(l).then(r)}startAxisValueAnimation(e,t){const n=this.getAxisMotionValue(e);return Bw(this.visualElement,e),n.start(AN(e,n,0,t,this.visualElement,!1))}stopAnimation(){cF(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){cF(e=>{var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.pause()})}getAnimationState(e){var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,n=this.visualElement.getProps(),s=n[t];return s||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){cF(t=>{const{drag:n}=this.getProps();if(!HF(t,n,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(t);if(s&&s.layout){const{min:n,max:a}=s.layout.layoutBox[t];i.set(e[t]-FC(n,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:n}=this.visualElement;if(!uy(t)||!n||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};cF(e=>{const t=this.getAxisMotionValue(e);if(t&&!1!==this.constraints){const n=t.get();s[e]=function(e,t){let n=.5;const s=nF(e),i=nF(t);return i>s?n=ej(t.min,t.max-s,e.min):s>i&&(n=ej(e.min,e.max-i,t.min)),Ty(0,1,n)}({min:n,max:n},this.constraints[e])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),cF(t=>{if(!HF(t,e,null))return;const n=this.getAxisMotionValue(t),{min:i,max:a}=this.constraints[t];n.set(FC(i,a,s[t]))})}addListeners(){if(!this.visualElement.current)return;zF.set(this.visualElement,this);const e=eF(this.visualElement.current,"pointerdown",e=>{const{drag:t,dragListener:n=!0}=this.getProps();t&&n&&this.start(e)}),t=()=>{const{dragConstraints:e}=this.getProps();uy(e)&&e.current&&(this.constraints=this.resolveRefConstraints())},{projection:n}=this.visualElement,s=n.addEventListener("measure",t);n&&!n.layout&&(n.root&&n.root.updateScroll(),n.updateLayout()),Ub.read(t);const i=JN(window,"resize",()=>this.scalePositionWithinConstraints()),a=n.addEventListener("didUpdate",({delta:e,hasLayoutChanged:t})=>{this.isDragging&&t&&(cF(t=>{const n=this.getAxisMotionValue(t);n&&(this.originPoint[t]+=e[t].translate,n.set(n.get()+e[t].translate))}),this.visualElement.render())});return()=>{i(),e(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:n=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:a=PF,dragMomentum:r=!0}=e;return{...e,drag:t,dragDirectionLock:n,dragPropagation:s,dragConstraints:i,dragElastic:a,dragMomentum:r}}}function HF(e,t,n){return!(!0!==t&&t!==e||null!==n&&n!==e)}const $F=e=>(t,n)=>{e&&Ub.postRender(()=>e(t,n))};const UF={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function VF(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const WF={correct:(e,t)=>{if(!t.target)return e;if("string"==typeof e){if(!zy.test(e))return e;e=parseFloat(e)}return`${VF(e,t.target.x)}% ${VF(e,t.target.y)}%`}},qF={correct:(e,{treeScale:t,projectionDelta:n})=>{const s=e,i=Rj.parse(e);if(i.length>5)return s;const a=Rj.createTransformer(e),r="number"!=typeof i[0]?1:0,o=n.x.scale*t.x,l=n.y.scale*t.y;i[0+r]/=o,i[1+r]/=l;const c=FC(o,l,.5);return"number"==typeof i[2+r]&&(i[2+r]/=c),"number"==typeof i[3+r]&&(i[3+r]/=c),a(i)}};class GF extends De.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n,layoutId:s}=this.props,{projection:i}=e;!function(e){for(const t in e)_y[t]=e[t],jy(t)&&(_y[t].isCSSVariable=!0)}(YF),i&&(t.group&&t.group.add(i),n&&n.register&&s&&n.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),UF.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:n,drag:s,isPresent:i}=this.props,a=n.projection;return a?(a.isPresent=i,s||e.layoutDependency!==t||void 0===t||e.isPresent!==i?a.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?a.promote():a.relegate()||Ub.postRender(()=>{const e=a.getStack();e&&e.members.length||this.safeToRemove()})),null):null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),my.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(s),n&&n.deregister&&n.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function ZF(e){const[t,s]=Db(),i=De.useContext(Cb);return n.jsx(GF,{...e,layoutGroup:i,switchLayoutGroup:De.useContext(fy),isPresent:t,safeToRemove:s})}const YF={borderRadius:{...WF,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:WF,borderTopRightRadius:WF,borderBottomLeftRadius:WF,borderBottomRightRadius:WF,boxShadow:qF};const KF=(e,t)=>e.depth-t.depth;class JF{constructor(){this.children=[],this.isDirty=!1}add(e){Iw(this.children,e),this.isDirty=!0}remove(e){Aw(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(KF),this.isDirty=!1,this.children.forEach(e)}}const QF=["TopLeft","TopRight","BottomLeft","BottomRight"],XF=QF.length,e_=e=>"string"==typeof e?parseFloat(e):e,t_=e=>"number"==typeof e||zy.test(e);function n_(e,t){return void 0!==e[t]?e[t]:e.borderRadius}const s_=a_(0,.5,xj),i_=a_(.5,.95,Rb);function a_(e,t,n){return s=>s<e?0:s>t?1:n(ej(e,t,s))}function r_(e,t){e.min=t.min,e.max=t.max}function o_(e,t){r_(e.x,t.x),r_(e.y,t.y)}function l_(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function c_(e,t,n,s,i){return e=xF(e-=t,1/n,s),void 0!==i&&(e=xF(e,1/i,s)),e}function d_(e,t,[n,s,i],a,r){!function(e,t=0,n=1,s=.5,i,a=e,r=e){Oy.test(t)&&(t=parseFloat(t),t=FC(r.min,r.max,t/100)-r.min);if("number"!=typeof t)return;let o=FC(a.min,a.max,s);e===a&&(o-=t),e.min=c_(e.min,t,n,o,i),e.max=c_(e.max,t,n,o,i)}(e,t[n],t[s],t[i],t.scale,a,r)}const u_=["x","scaleX","originX"],p_=["y","scaleY","originY"];function m_(e,t,n,s){d_(e.x,t,u_,n?n.x:void 0,s?s.x:void 0),d_(e.y,t,p_,n?n.y:void 0,s?s.y:void 0)}function h_(e){return 0===e.translate&&1===e.scale}function x_(e){return h_(e.x)&&h_(e.y)}function f_(e,t){return e.min===t.min&&e.max===t.max}function g_(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function v_(e,t){return g_(e.x,t.x)&&g_(e.y,t.y)}function b_(e){return nF(e.x)/nF(e.y)}function y_(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class w_{constructor(){this.members=[]}add(e){Iw(this.members,e),e.scheduleRender()}remove(e){if(Aw(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(e){const t=this.members.findIndex(t=>e===t);if(0===t)return!1;let n;for(let s=t;s>=0;s--){const e=this.members[s];if(!1!==e.isPresent){n=e;break}}return!!n&&(this.promote(n),!0)}promote(e,t){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,t&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;!1===s&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:n}=e;t.onExitComplete&&t.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const j_=["","X","Y","Z"],C_={visibility:"hidden"};let N_=0;function F_(e,t,n,s){const{latestValues:i}=t;i[e]&&(n[e]=i[e],t.setStaticValue(e,0),s&&(s[e]=0))}function __(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=Hw(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:t,layoutId:s}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",Ub,!(t||s))}const{parent:s}=e;s&&!s.hasCheckedOptimisedAppear&&__(s)}function k_({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:s,resetTransform:i}){return class{constructor(e={},n=(null==t?void 0:t())){this.id=N_++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(I_),this.nodes.forEach(R_),this.nodes.forEach(O_),this.nodes.forEach(A_)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=e,this.root=n?n.root||n:this,this.path=n?[...n.path,n]:[],this.parent=n,this.depth=n?n.depth+1:0;for(let t=0;t<this.path.length;t++)this.path[t].shouldResetTransform=!0;this.root===this&&(this.nodes=new JF)}addEventListener(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new Tw),this.eventHandlers.get(e).add(t)}notifyListeners(e,...t){const n=this.eventHandlers.get(e);n&&n.notify(...t)}hasListeners(e){return this.eventHandlers.has(e)}mount(t,n=this.root.hasTreeAnimated){if(this.instance)return;var s;this.isSVG=(s=t)instanceof SVGElement&&"svg"!==s.tagName,this.instance=t;const{layoutId:i,layout:a,visualElement:r}=this.options;if(r&&!r.current&&r.mount(t),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),n&&(a||i)&&(this.isLayoutDirty=!0),e){let n;const s=()=>this.root.updateBlockedByResize=!1;e(t,()=>{this.root.updateBlockedByResize=!0,n&&n(),n=function(e,t){const n=Pw.now(),s=({timestamp:i})=>{const a=i-n;a>=t&&(Vb(s),e(a-t))};return Ub.read(s,!0),()=>Vb(s)}(s,250),UF.hasAnimatedSinceResize&&(UF.hasAnimatedSinceResize=!1,this.nodes.forEach(P_))})}i&&this.root.registerSharedNode(i,this),!1!==this.options.animate&&r&&(i||a)&&this.addEventListener("didUpdate",({delta:e,hasLayoutChanged:t,hasRelativeLayoutChanged:n,layout:s})=>{if(this.isTreeAnimationBlocked())return this.target=void 0,void(this.relativeTarget=void 0);const i=this.options.transition||r.getDefaultTransition()||V_,{onLayoutAnimationStart:a,onLayoutAnimationComplete:o}=r.getProps(),l=!this.targetLayout||!v_(this.targetLayout,s),c=!t&&n;if(this.options.layoutRoot||this.resumeFrom||c||t&&(l||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(e,c);const t={...Sw(i,"layout"),onPlay:a,onComplete:o};(r.shouldReduceMotion||this.options.layoutRoot)&&(t.delay=0,t.type=!1),this.startAnimation(t)}else t||P_(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=s})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const e=this.getStack();e&&e.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Vb(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(z_),this.animationId++)}getTransformTemplate(){const{visualElement:e}=this.options;return e&&e.getProps().transformTemplate}willUpdate(e=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked())return void(this.options.onExitComplete&&this.options.onExitComplete());if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&__(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let i=0;i<this.path.length;i++){const e=this.path[i];e.shouldResetTransform=!0,e.updateScroll("snapshot"),e.options.layoutRoot&&e.willUpdate(!1)}const{layoutId:t,layout:n}=this.options;if(void 0===t&&!n)return;const s=this.getTransformTemplate();this.prevTransformTemplateValue=s?s(this.latestValues,""):void 0,this.updateSnapshot(),e&&this.notifyListeners("willUpdate")}update(){this.updateScheduled=!1;if(this.isUpdateBlocked())return this.unblockUpdate(),this.clearAllSnapshots(),void this.nodes.forEach(D_);this.isUpdating||this.nodes.forEach(M_),this.isUpdating=!1,this.nodes.forEach(L_),this.nodes.forEach(S_),this.nodes.forEach(E_),this.clearAllSnapshots();const e=Pw.now();Wb.delta=Ty(0,1e3/60,e-Wb.timestamp),Wb.timestamp=e,Wb.isProcessing=!0,qb.update.process(Wb),qb.preRender.process(Wb),qb.render.process(Wb),Wb.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,my.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(T_),this.sharedNodes.forEach(B_)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ub.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ub.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){!this.snapshot&&this.instance&&(this.snapshot=this.measure(),!this.snapshot||nF(this.snapshot.measuredBox.x)||nF(this.snapshot.measuredBox.y)||(this.snapshot=void 0))}updateLayout(){if(!this.instance)return;if(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead()||this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let n=0;n<this.path.length;n++){this.path[n].updateScroll()}const e=this.layout;this.layout=this.measure(!1),this.layoutCorrected={x:{min:0,max:0},y:{min:0,max:0}},this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:t}=this.options;t&&t.notify("LayoutMeasure",this.layout.layoutBox,e?e.layoutBox:void 0)}updateScroll(e="measure"){let t=Boolean(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===e&&(t=!1),t){const t=s(this.instance);this.scroll={animationId:this.root.animationId,phase:e,isRoot:t,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:t}}}resetTransform(){if(!i)return;const e=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,t=this.projectionDelta&&!x_(this.projectionDelta),n=this.getTransformTemplate(),s=n?n(this.latestValues,""):void 0,a=s!==this.prevTransformTemplateValue;e&&(t||pF(this.latestValues)||a)&&(i(this.instance,s),this.shouldResetTransform=!1,this.scheduleRender())}measure(e=!0){const t=this.measurePageBox();let n=this.removeElementScroll(t);var s;return e&&(n=this.removeTransform(n)),G_((s=n).x),G_(s.y),{animationId:this.root.animationId,measuredBox:t,layoutBox:n,latestValues:{},source:this.id}}measurePageBox(){var e;const{visualElement:t}=this.options;if(!t)return{x:{min:0,max:0},y:{min:0,max:0}};const n=t.measureViewportBox();if(!((null===(e=this.scroll)||void 0===e?void 0:e.wasRoot)||this.path.some(Y_))){const{scroll:e}=this.root;e&&(wF(n.x,e.offset.x),wF(n.y,e.offset.y))}return n}removeElementScroll(e){var t;const n={x:{min:0,max:0},y:{min:0,max:0}};if(o_(n,e),null===(t=this.scroll)||void 0===t?void 0:t.wasRoot)return n;for(let s=0;s<this.path.length;s++){const t=this.path[s],{scroll:i,options:a}=t;t!==this.root&&i&&a.layoutScroll&&(i.wasRoot&&o_(n,e),wF(n.x,i.offset.x),wF(n.y,i.offset.y))}return n}applyTransform(e,t=!1){const n={x:{min:0,max:0},y:{min:0,max:0}};o_(n,e);for(let s=0;s<this.path.length;s++){const e=this.path[s];!t&&e.options.layoutScroll&&e.scroll&&e!==e.root&&CF(n,{x:-e.scroll.offset.x,y:-e.scroll.offset.y}),pF(e.latestValues)&&CF(n,e.latestValues)}return pF(this.latestValues)&&CF(n,this.latestValues),n}removeTransform(e){const t={x:{min:0,max:0},y:{min:0,max:0}};o_(t,e);for(let n=0;n<this.path.length;n++){const e=this.path[n];if(!e.instance)continue;if(!pF(e.latestValues))continue;uF(e.latestValues)&&e.updateSnapshot();const s=lF();o_(s,e.measurePageBox()),m_(t,e.latestValues,e.snapshot?e.snapshot.layoutBox:void 0,s)}return pF(this.latestValues)&&m_(t,this.latestValues),t}setTargetDelta(e){this.targetDelta=e,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(e){this.options={...this.options,...e,crossfade:void 0===e.crossfade||e.crossfade}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Wb.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(e=!1){var t;const n=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=n.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=n.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=n.isSharedProjectionDirty);const s=Boolean(this.resumingFrom)||this!==n;if(!(e||s&&this.isSharedProjectionDirty||this.isProjectionDirty||(null===(t=this.parent)||void 0===t?void 0:t.isProjectionDirty)||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:i,layoutId:a}=this.options;if(this.layout&&(i||a)){if(this.resolvedRelativeTargetAt=Wb.timestamp,!this.targetDelta&&!this.relativeTarget){const e=this.getClosestProjectingParent();e&&e.layout&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},oF(this.relativeTargetOrigin,this.layout.layoutBox,e.layout.layoutBox),o_(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}var r,o,l;if(this.relativeTarget||this.targetDelta)if(this.target||(this.target={x:{min:0,max:0},y:{min:0,max:0}},this.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}}),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),r=this.target,o=this.relativeTarget,l=this.relativeParent.target,aF(r.x,o.x,l.x),aF(r.y,o.y,l.y)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):o_(this.target,this.layout.layoutBox),vF(this.target,this.targetDelta)):o_(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const e=this.getClosestProjectingParent();e&&Boolean(e.resumingFrom)===Boolean(this.resumingFrom)&&!e.options.layoutScroll&&e.target&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},oF(this.relativeTargetOrigin,this.target,e.target),o_(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(this.parent&&!uF(this.parent.latestValues)&&!mF(this.parent.latestValues))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return Boolean((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var e;const t=this.getLead(),n=Boolean(this.resumingFrom)||this!==t;let s=!0;if((this.isProjectionDirty||(null===(e=this.parent)||void 0===e?void 0:e.isProjectionDirty))&&(s=!1),n&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(s=!1),this.resolvedRelativeTargetAt===Wb.timestamp&&(s=!1),s)return;const{layout:i,layoutId:a}=this.options;if(this.isTreeAnimating=Boolean(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!i&&!a)return;o_(this.layoutCorrected,this.layout.layoutBox);const r=this.treeScale.x,o=this.treeScale.y;!function(e,t,n,s=!1){const i=n.length;if(!i)return;let a,r;t.x=t.y=1;for(let o=0;o<i;o++){a=n[o],r=a.projectionDelta;const{visualElement:i}=a.options;i&&i.props.style&&"contents"===i.props.style.display||(s&&a.options.layoutScroll&&a.scroll&&a!==a.root&&CF(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),r&&(t.x*=r.x.scale,t.y*=r.y.scale,vF(e,r)),s&&pF(a.latestValues)&&CF(e,a.latestValues))}t.x<yF&&t.x>bF&&(t.x=1),t.y<yF&&t.y>bF&&(t.y=1)}(this.layoutCorrected,this.treeScale,this.path,n),!t.layout||t.target||1===this.treeScale.x&&1===this.treeScale.y||(t.target=t.layout.layoutBox,t.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}});const{target:l}=t;l?(this.projectionDelta&&this.prevProjectionDelta?(l_(this.prevProjectionDelta.x,this.projectionDelta.x),l_(this.prevProjectionDelta.y,this.projectionDelta.y)):this.createProjectionDeltas(),iF(this.projectionDelta,this.layoutCorrected,l,this.latestValues),this.treeScale.x===r&&this.treeScale.y===o&&y_(this.projectionDelta.x,this.prevProjectionDelta.x)&&y_(this.projectionDelta.y,this.prevProjectionDelta.y)||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",l))):this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender())}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(e=!0){var t;if(null===(t=this.options.visualElement)||void 0===t||t.scheduleRender(),e){const e=this.getStack();e&&e.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDeltaWithTransform={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}}}setAnimationOrigin(e,t=!1){const n=this.snapshot,s=n?n.latestValues:{},i={...this.latestValues},a={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!t;const r={x:{min:0,max:0},y:{min:0,max:0}},o=(n?n.source:void 0)!==(this.layout?this.layout.source:void 0),l=this.getStack(),c=!l||l.members.length<=1,d=Boolean(o&&!c&&!0===this.options.crossfade&&!this.path.some(U_));let u;this.animationProgress=0,this.mixTargetDelta=t=>{const n=t/1e3;var l,p,m,h,x,f;H_(a.x,e.x,n),H_(a.y,e.y,n),this.setTargetDelta(a),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(oF(r,this.layout.layoutBox,this.relativeParent.layout.layoutBox),m=this.relativeTarget,h=this.relativeTargetOrigin,x=r,f=n,$_(m.x,h.x,x.x,f),$_(m.y,h.y,x.y,f),u&&(l=this.relativeTarget,p=u,f_(l.x,p.x)&&f_(l.y,p.y))&&(this.isProjectionDirty=!1),u||(u={x:{min:0,max:0},y:{min:0,max:0}}),o_(u,this.relativeTarget)),o&&(this.animationValues=i,function(e,t,n,s,i,a){i?(e.opacity=FC(0,void 0!==n.opacity?n.opacity:1,s_(s)),e.opacityExit=FC(void 0!==t.opacity?t.opacity:1,0,i_(s))):a&&(e.opacity=FC(void 0!==t.opacity?t.opacity:1,void 0!==n.opacity?n.opacity:1,s));for(let r=0;r<XF;r++){const i=`border${QF[r]}Radius`;let a=n_(t,i),o=n_(n,i);void 0===a&&void 0===o||(a||(a=0),o||(o=0),0===a||0===o||t_(a)===t_(o)?(e[i]=Math.max(FC(e_(a),e_(o),s),0),(Oy.test(o)||Oy.test(a))&&(e[i]+="%")):e[i]=o)}(t.rotate||n.rotate)&&(e.rotate=FC(t.rotate||0,n.rotate||0,s))}(i,s,this.latestValues,n,d,c)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=n},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(e){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Vb(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ub.update(()=>{UF.hasAnimatedSinceResize=!0,this.currentAnimation=function(e,t,n){const s=Iy(e)?e:Ow(e);return s.start(AN("",s,t,n)),s.animation}(0,1e3,{...e,onUpdate:t=>{this.mixTargetDelta(t),e.onUpdate&&e.onUpdate(t)},onStop:()=>{},onComplete:()=>{e.onComplete&&e.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const e=this.getStack();e&&e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const e=this.getLead();let{targetWithTransforms:t,target:n,layout:s,latestValues:i}=e;if(t&&n&&s){if(this!==e&&this.layout&&s&&Z_(this.options.animationType,this.layout.layoutBox,s.layoutBox)){n=this.target||{x:{min:0,max:0},y:{min:0,max:0}};const t=nF(this.layout.layoutBox.x);n.x.min=e.target.x.min,n.x.max=n.x.min+t;const s=nF(this.layout.layoutBox.y);n.y.min=e.target.y.min,n.y.max=n.y.min+s}o_(t,n),CF(t,i),iF(this.projectionDeltaWithTransform,this.layoutCorrected,t,i)}}registerSharedNode(e,t){this.sharedNodes.has(e)||this.sharedNodes.set(e,new w_);this.sharedNodes.get(e).add(t);const n=t.options.initialPromotionConfig;t.promote({transition:n?n.transition:void 0,preserveFollowOpacity:n&&n.shouldPreserveFollowOpacity?n.shouldPreserveFollowOpacity(t):void 0})}isLead(){const e=this.getStack();return!e||e.lead===this}getLead(){var e;const{layoutId:t}=this.options;return t&&(null===(e=this.getStack())||void 0===e?void 0:e.lead)||this}getPrevLead(){var e;const{layoutId:t}=this.options;return t?null===(e=this.getStack())||void 0===e?void 0:e.prevLead:void 0}getStack(){const{layoutId:e}=this.options;if(e)return this.root.sharedNodes.get(e)}promote({needsReset:e,transition:t,preserveFollowOpacity:n}={}){const s=this.getStack();s&&s.promote(this,n),e&&(this.projectionDelta=void 0,this.needsReset=!0),t&&this.setOptions({transition:t})}relegate(){const e=this.getStack();return!!e&&e.relegate(this)}resetSkewAndRotation(){const{visualElement:e}=this.options;if(!e)return;let t=!1;const{latestValues:n}=e;if((n.z||n.rotate||n.rotateX||n.rotateY||n.rotateZ||n.skewX||n.skewY)&&(t=!0),!t)return;const s={};n.z&&F_("z",e,s,this.animationValues);for(let i=0;i<j_.length;i++)F_(`rotate${j_[i]}`,e,s,this.animationValues),F_(`skew${j_[i]}`,e,s,this.animationValues);e.render();for(const i in s)e.setStaticValue(i,s[i]),this.animationValues&&(this.animationValues[i]=s[i]);e.scheduleRender()}getProjectionStyles(e){var t,n;if(!this.instance||this.isSVG)return;if(!this.isVisible)return C_;const s={visibility:""},i=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,s.opacity="",s.pointerEvents=hw(null==e?void 0:e.pointerEvents)||"",s.transform=i?i(this.latestValues,""):"none",s;const a=this.getLead();if(!this.projectionDelta||!this.layout||!a.target){const t={};return this.options.layoutId&&(t.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,t.pointerEvents=hw(null==e?void 0:e.pointerEvents)||""),this.hasProjected&&!pF(this.latestValues)&&(t.transform=i?i({},""):"none",this.hasProjected=!1),t}const r=a.animationValues||a.latestValues;this.applyTransformsToTarget(),s.transform=function(e,t,n){let s="";const i=e.x.translate/t.x,a=e.y.translate/t.y,r=(null==n?void 0:n.z)||0;if((i||a||r)&&(s=`translate3d(${i}px, ${a}px, ${r}px) `),1===t.x&&1===t.y||(s+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:e,rotate:t,rotateX:i,rotateY:a,skewX:r,skewY:o}=n;e&&(s=`perspective(${e}px) ${s}`),t&&(s+=`rotate(${t}deg) `),i&&(s+=`rotateX(${i}deg) `),a&&(s+=`rotateY(${a}deg) `),r&&(s+=`skewX(${r}deg) `),o&&(s+=`skewY(${o}deg) `)}const o=e.x.scale*t.x,l=e.y.scale*t.y;return 1===o&&1===l||(s+=`scale(${o}, ${l})`),s||"none"}(this.projectionDeltaWithTransform,this.treeScale,r),i&&(s.transform=i(r,s.transform));const{x:o,y:l}=this.projectionDelta;s.transformOrigin=`${100*o.origin}% ${100*l.origin}% 0`,a.animationValues?s.opacity=a===this?null!==(n=null!==(t=r.opacity)&&void 0!==t?t:this.latestValues.opacity)&&void 0!==n?n:1:this.preserveOpacity?this.latestValues.opacity:r.opacityExit:s.opacity=a===this?void 0!==r.opacity?r.opacity:"":void 0!==r.opacityExit?r.opacityExit:0;for(const c in _y){if(void 0===r[c])continue;const{correct:e,applyTo:t,isCSSVariable:n}=_y[c],i="none"===s.transform?r[c]:e(r[c],a);if(t){const e=t.length;for(let n=0;n<e;n++)s[t[n]]=i}else n?this.options.visualElement.renderState.vars[c]=i:s[c]=i}return this.options.layoutId&&(s.pointerEvents=a===this?hw(null==e?void 0:e.pointerEvents)||"":"none"),s}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(e=>{var t;return null===(t=e.currentAnimation)||void 0===t?void 0:t.stop()}),this.root.nodes.forEach(D_),this.root.sharedNodes.clear()}}}function S_(e){e.updateLayout()}function E_(e){var t;const n=(null===(t=e.resumeFrom)||void 0===t?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:t,measuredBox:s}=e.layout,{animationType:i}=e.options,a=n.source!==e.layout.source;"size"===i?cF(e=>{const s=a?n.measuredBox[e]:n.layoutBox[e],i=nF(s);s.min=t[e].min,s.max=s.min+i}):Z_(i,n.layoutBox,t)&&cF(s=>{const i=a?n.measuredBox[s]:n.layoutBox[s],r=nF(t[s]);i.max=i.min+r,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[s].max=e.relativeTarget[s].min+r)});const r={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};iF(r,t,n.layoutBox);const o={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};a?iF(o,e.applyTransform(s,!0),n.measuredBox):iF(o,t,n.layoutBox);const l=!x_(r);let c=!1;if(!e.resumeFrom){const s=e.getClosestProjectingParent();if(s&&!s.resumeFrom){const{snapshot:i,layout:a}=s;if(i&&a){const r={x:{min:0,max:0},y:{min:0,max:0}};oF(r,n.layoutBox,i.layoutBox);const o={x:{min:0,max:0},y:{min:0,max:0}};oF(o,t,a.layoutBox),v_(r,o)||(c=!0),s.options.layoutRoot&&(e.relativeTarget=o,e.relativeTargetOrigin=r,e.relativeParent=s)}}}e.notifyListeners("didUpdate",{layout:t,snapshot:n,delta:o,layoutDelta:r,hasLayoutChanged:l,hasRelativeLayoutChanged:c})}else if(e.isLead()){const{onExitComplete:t}=e.options;t&&t()}e.options.transition=void 0}function I_(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=Boolean(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function A_(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function T_(e){e.clearSnapshot()}function D_(e){e.clearMeasurements()}function M_(e){e.isLayoutDirty=!1}function L_(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function P_(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function R_(e){e.resolveTargetDelta()}function O_(e){e.calcProjection()}function z_(e){e.resetSkewAndRotation()}function B_(e){e.removeLeadSnapshot()}function H_(e,t,n){e.translate=FC(t.translate,0,n),e.scale=FC(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function $_(e,t,n,s){e.min=FC(t.min,n.min,s),e.max=FC(t.max,n.max,s)}function U_(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}const V_={duration:.45,ease:[.4,0,.1,1]},W_=e=>"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),q_=W_("applewebkit/")&&!W_("chrome/")?Math.round:Rb;function G_(e){e.min=q_(e.min),e.max=q_(e.max)}function Z_(e,t,n){return"position"===e||"preserve-aspect"===e&&(s=b_(t),i=b_(n),a=.2,!(Math.abs(s-i)<=a));var s,i,a}function Y_(e){var t;return e!==e.root&&(null===(t=e.scroll)||void 0===t?void 0:t.wasRoot)}const K_=k_({attachResizeListener:(e,t)=>JN(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),J_={current:void 0},Q_=k_({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!J_.current){const e=new K_({});e.mount(window),e.setOptions({layoutScroll:!0}),J_.current=e}return J_.current},resetTransform:(e,t)=>{e.style.transform=void 0!==t?t:"none"},checkIsScrollRoot:e=>Boolean("fixed"===window.getComputedStyle(e).position)}),X_={pan:{Feature:class extends qN{constructor(){super(...arguments),this.removePointerDownListener=Rb}onPointerDown(e){this.session=new kF(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:FF(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:n,onPanEnd:s}=this.node.getProps();return{onSessionStart:$F(e),onStart:$F(t),onMove:n,onEnd:(e,t)=>{delete this.session,s&&Ub.postRender(()=>s(e,t))}}}mount(){this.removePointerDownListener=eF(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}},drag:{Feature:class extends qN{constructor(e){super(e),this.removeGroupControls=Rb,this.removeListeners=Rb,this.controls=new BF(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Rb}unmount(){this.removeGroupControls(),this.removeListeners()}},ProjectionNode:Q_,MeasureLayout:ZF}};function ek(e,t){const n=function(e){if(e instanceof EventTarget)return[e];if("string"==typeof e){const t=document.querySelectorAll(e);return t?Array.from(t):[]}return Array.from(e)}(e),s=new AbortController;return[n,{passive:!0,...t,signal:s.signal},()=>s.abort()]}function tk(e){return!("touch"===e.pointerType||KN())}function nk(e,t,n){const{props:s}=e;e.animationState&&s.whileHover&&e.animationState.setActive("whileHover","Start"===n);const i=s["onHover"+n];i&&Ub.postRender(()=>i(t,XN(t)))}function sk(e,t){const n=`${t}PointerCapture`;if(e.target instanceof Element&&n in e.target&&void 0!==e.pointerId)try{e.target[n](e.pointerId)}catch(s){}}const ik=(e,t)=>!!t&&(e===t||ik(e,t.parentElement)),ak=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);const rk=new WeakSet;function ok(e){return t=>{"Enter"===t.key&&e(t)}}function lk(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}function ck(e){return QN(e)&&!KN()}function dk(e,t,n={}){const[s,i,a]=ek(e,n),r=e=>{const n=e.currentTarget;if(!n||!ck(e)||rk.has(n))return;rk.add(n),sk(e,"set");const s=t(n,e),a=(e,t)=>{n.removeEventListener("pointerup",r),n.removeEventListener("pointercancel",o),sk(e,"release"),ck(e)&&rk.has(n)&&(rk.delete(n),"function"==typeof s&&s(e,{success:t}))},r=e=>{const t=!!e.isTrusted&&(s=e,i=n instanceof Element?n.getBoundingClientRect():{left:0,top:0,right:window.innerWidth,bottom:window.innerHeight},s.clientX<i.left||s.clientX>i.right||s.clientY<i.top||s.clientY>i.bottom);var s,i;a(e,!t&&(!(n instanceof Element)||ik(n,e.target)))},o=e=>{a(e,!1)};n.addEventListener("pointerup",r,i),n.addEventListener("pointercancel",o,i),n.addEventListener("lostpointercapture",o,i)};return s.forEach(e=>{let t=!1;var s;(e=n.useGlobalTarget?window:e)instanceof HTMLElement&&(t=!0,s=e,ak.has(s.tagName)||-1!==s.tabIndex||null!==e.getAttribute("tabindex")||(e.tabIndex=0)),e.addEventListener("pointerdown",r,i),t&&e.addEventListener("focus",e=>((e,t)=>{const n=e.currentTarget;if(!n)return;const s=ok(()=>{if(rk.has(n))return;lk(n,"down");const e=ok(()=>{lk(n,"up")});n.addEventListener("keyup",e,t),n.addEventListener("blur",()=>lk(n,"cancel"),t)});n.addEventListener("keydown",s,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),t)})(e,i),i)}),a}function uk(e,t,n){const{props:s}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&s.whileTap&&e.animationState.setActive("whileTap","Start"===n);const i=s["onTap"+("End"===n?"":n)];i&&Ub.postRender(()=>i(t,XN(t)))}const pk=new WeakMap,mk=new WeakMap,hk=e=>{const t=pk.get(e.target);t&&t(e)},xk=e=>{e.forEach(hk)};function fk(e,t,n){const s=function({root:e,...t}){const n=e||document;mk.has(n)||mk.set(n,{});const s=mk.get(n),i=JSON.stringify(t);return s[i]||(s[i]=new IntersectionObserver(xk,{root:e,...t})),s[i]}(t);return pk.set(e,n),s.observe(e),()=>{pk.delete(e),s.unobserve(e)}}const gk={some:0,all:1};const vk={inView:{Feature:class extends qN{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:n,amount:s="some",once:i}=e,a={root:t?t.current:void 0,rootMargin:n,threshold:"number"==typeof s?s:gk[s]};return fk(this.node.current,a,e=>{const{isIntersecting:t}=e;if(this.isInView===t)return;if(this.isInView=t,i&&!t&&this.hasEnteredView)return;t&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",t);const{onViewportEnter:n,onViewportLeave:s}=this.node.getProps(),a=t?n:s;a&&a(e)})}mount(){this.startObserver()}update(){if("undefined"==typeof IntersectionObserver)return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(function({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}(e,t))&&this.startObserver()}unmount(){}}},tap:{Feature:class extends qN{mount(){const{current:e}=this.node;e&&(this.unmount=dk(e,(e,t)=>(uk(this.node,t,"Start"),(e,{success:t})=>uk(this.node,e,t?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}},focus:{Feature:class extends qN{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch(t){e=!0}e&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=DC(JN(this.node.current,"focus",()=>this.onFocus()),JN(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}},hover:{Feature:class extends qN{mount(){const{current:e}=this.node;e&&(this.unmount=function(e,t,n={}){const[s,i,a]=ek(e,n),r=e=>{if(!tk(e))return;const{target:n}=e,s=t(n,e);if("function"!=typeof s||!n)return;const a=e=>{tk(e)&&(s(e),n.removeEventListener("pointerleave",a))};n.addEventListener("pointerleave",a,i)};return s.forEach(e=>{e.addEventListener("pointerenter",r,i)}),a}(e,(e,t)=>(nk(this.node,t,"Start"),e=>nk(this.node,e,"End"))))}unmount(){}}}},bk={layout:{ProjectionNode:Q_,MeasureLayout:ZF}},yk={current:null},wk={current:!1};const jk=[...fC,Sj,Rj],Ck=new WeakMap;const Nk=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Fk{scrapeMotionValuesFromProps(e,t,n){return{}}constructor({parent:e,props:t,presenceContext:n,reducedMotionConfig:s,blockInitialAnimation:i,visualState:a},r={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=uC,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const e=Pw.now();this.renderScheduledAt<e&&(this.renderScheduledAt=e,Ub.render(this.render,!1,!0))};const{latestValues:o,renderState:l,onUpdate:c}=a;this.onUpdate=c,this.latestValues=o,this.baseTarget={...o},this.initialValues=t.initial?{...o}:{},this.renderState=l,this.parent=e,this.props=t,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=r,this.blockInitialAnimation=Boolean(i),this.isControllingVariants=ry(t),this.isVariantNode=oy(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(e&&e.current);const{willChange:d,...u}=this.scrapeMotionValuesFromProps(t,{},this);for(const p in u){const e=u[p];void 0!==o[p]&&Iy(e)&&e.set(o[p],!1)}}mount(e){this.current=e,Ck.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,t)=>this.bindToMotionValue(t,e)),wk.current||function(){if(wk.current=!0,Fb)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>yk.current=e.matches;e.addListener(t),t()}else yk.current=!1}(),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||yk.current),this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Vb(this.notifyUpdate),Vb(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const n=Sy.has(e);n&&this.onBindTransform&&this.onBindTransform();const s=t.on("change",t=>{this.latestValues[e]=t,this.props.onUpdate&&Ub.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)}),i=t.on("renderRequest",this.scheduleRender);let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{s(),i(),a&&a(),t.owner&&t.stop()})}sortNodePosition(e){return this.current&&this.sortInstanceNodePosition&&this.type===e.type?this.sortInstanceNodePosition(this.current,e.current):0}updateFeatures(){let e="animation";for(e in Yb){const t=Yb[e];if(!t)continue;const{isEnabled:n,Feature:s}=t;if(!this.features[e]&&s&&n(this.props)&&(this.features[e]=new s(this)),this.features[e]){const t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):{x:{min:0,max:0},y:{min:0,max:0}}}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let n=0;n<Nk.length;n++){const t=Nk[n];this.propEventSubscriptions[t]&&(this.propEventSubscriptions[t](),delete this.propEventSubscriptions[t]);const s=e["on"+t];s&&(this.propEventSubscriptions[t]=this.on(t,s))}this.prevMotionValues=function(e,t,n){for(const s in t){const i=t[s],a=n[s];if(Iy(i))e.addValue(s,i);else if(Iy(a))e.addValue(s,Ow(i,{owner:e}));else if(a!==i)if(e.hasValue(s)){const t=e.getValue(s);!0===t.liveStyle?t.jump(i):t.hasAnimated||t.set(i)}else{const t=e.getStaticValue(s);e.addValue(s,Ow(void 0!==t?t:i,{owner:e}))}}for(const s in n)void 0===t[s]&&e.removeValue(s);return t}(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const n=this.values.get(e);t!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return void 0===n&&void 0!==t&&(n=Ow(null===t?void 0:t,{owner:this}),this.addValue(e,n)),n}readValue(e,t){var n;let s=void 0===this.latestValues[e]&&this.current?null!==(n=this.getBaseTargetFromProps(this.props,e))&&void 0!==n?n:this.readValueFromInstance(this.current,e,this.options):this.latestValues[e];var i;return null!=s&&("string"==typeof s&&(pC(s)||gj(s))?s=parseFloat(s):(i=s,!jk.find(xC(i))&&Rj.test(t)&&(s=Vj(e,t))),this.setBaseTarget(e,Iy(s)?s.get():s)),Iy(s)?s.get():s}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:n}=this.props;let s;if("string"==typeof n||"object"==typeof n){const i=uw(this.props,n,null===(t=this.presenceContext)||void 0===t?void 0:t.custom);i&&(s=i[e])}if(n&&void 0!==s)return s;const i=this.getBaseTargetFromProps(this.props,e);return void 0===i||Iy(i)?void 0!==this.initialValues[e]&&void 0===s?void 0:this.baseTarget[e]:i}on(e,t){return this.events[e]||(this.events[e]=new Tw),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class _k extends Fk{constructor(){super(...arguments),this.KeyframeResolver=vC}sortInstanceNodePosition(e,t){return 2&e.compareDocumentPosition(t)?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:n}){delete t[e],delete n[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Iy(e)&&(this.childSubscription=e.on("change",e=>{this.current&&(this.current.textContent=`${e}`)}))}}class kk extends _k{constructor(){super(...arguments),this.type="html",this.renderInstance=yw}readValueFromInstance(e,t){if(Sy.has(t))return((e,t)=>{const{transform:n="none"}=getComputedStyle(e);return eC(n,t)})(e,t);{const s=(n=e,window.getComputedStyle(n)),i=(jy(t)?s.getPropertyValue(t):s[t])||0;return"string"==typeof i?i.trim():i}var n}measureInstanceViewportBox(e,{transformPagePoint:t}){return NF(e,t)}build(e,t,n){Yy(e,t,n.transformTemplate)}scrapeMotionValuesFromProps(e,t,n){return gw(e,t,n)}}class Sk extends _k{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=lF,this.updateDimensions=()=>{this.current&&!this.renderState.dimensions&&bw(this.current,this.renderState)}}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(Sy.has(t)){const e=Uj(t);return e&&e.default||0}return t=ww.has(t)?t:hy(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,n){return Cw(e,t,n)}onBindTransform(){this.current&&!this.renderState.dimensions&&Ub.postRender(this.updateDimensions)}build(e,t,n){aw(e,t,this.isSVGTag,n.transformTemplate)}renderInstance(e,t,n,s){jw(e,t,0,s)}mount(e){this.isSVGTag=ow(e.tagName),super.mount(e)}}const Ek=ey(_w({...ZN,...vk,...X_,...bk},(e,t)=>tw(e)?new Sk(t):new kk(t,{allowProjection:e!==De.Fragment})));function Ik({className:e=""}){return n.jsxs("svg",{className:`h-5 w-5 animate-spin ${e}`,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}
/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ak=(...e)=>e.filter((e,t,n)=>Boolean(e)&&""!==e.trim()&&n.indexOf(e)===t).join(" ").trim();
/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
var Tk={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};
/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dk=De.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:i="",children:a,iconNode:r,...o},l)=>De.createElement("svg",{ref:l,...Tk,width:t,height:t,stroke:e,strokeWidth:s?24*Number(n)/Number(t):n,className:Ak("lucide",i),...o},[...r.map(([e,t])=>De.createElement(e,t)),...Array.isArray(a)?a:[a]])),Mk=(e,t)=>{const n=De.forwardRef(({className:n,...s},i)=>{return De.createElement(Dk,{ref:i,iconNode:t,className:Ak(`lucide-${a=e,a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,n),...s});var a});return n.displayName=`${e}`,n},Lk=Mk("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]),Pk=Mk("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]),Rk=Mk("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),Ok=Mk("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),zk=Mk("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]),Bk=Mk("Bug",[["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M9 7.13v-1a3.003 3.003 0 1 1 6 0v1",key:"d7y7pr"}],["path",{d:"M12 20c-3.3 0-6-2.7-6-6v-3a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v3c0 3.3-2.7 6-6 6",key:"xs1cw7"}],["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M6.53 9C4.6 8.8 3 7.1 3 5",key:"32zzws"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"M3 21c0-2.1 1.7-3.9 3.8-4",key:"4p0ekp"}],["path",{d:"M20.97 5c0 2.1-1.6 3.8-3.5 4",key:"18gb23"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M17.2 17c2.1.1 3.8 1.9 3.8 4",key:"k3fwyw"}]]),Hk=Mk("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),$k=Mk("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),Uk=Mk("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),Vk=Mk("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),Wk=Mk("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),qk=Mk("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),Gk=Mk("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),Zk=Mk("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),Yk=Mk("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),Kk=Mk("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),Jk=Mk("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),Qk=Mk("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),Xk=Mk("ClipboardCheck",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]]),eS=Mk("Clipboard",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}]]),tS=Mk("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),nS=Mk("Coffee",[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]]),sS=Mk("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),iS=Mk("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),aS=Mk("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),rS=Mk("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]),oS=Mk("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]),lS=Mk("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),cS=Mk("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]),dS=Mk("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]),uS=Mk("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]),pS=Mk("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),mS=Mk("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),hS=Mk("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),xS=Mk("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),fS=Mk("MessageCircleWarning",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]),gS=Mk("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]),vS=Mk("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]),bS=Mk("Pipette",[["path",{d:"m2 22 1-1h3l9-9",key:"1sre89"}],["path",{d:"M3 21v-3l9-9",key:"hpe2y6"}],["path",{d:"m15 6 3.4-3.4a2.1 2.1 0 1 1 3 3L18 9l.4.4a2.1 2.1 0 1 1-3 3l-3.8-3.8a2.1 2.1 0 1 1 3-3l.4.4Z",key:"196du1"}]]),yS=Mk("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]),wS=Mk("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),jS=Mk("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]),CS=Mk("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]),NS=Mk("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),FS=Mk("RotateCw",[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]]),_S=Mk("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),kS=Mk("ServerCrash",[["path",{d:"M6 10H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v4a2 2 0 0 1-2 2h-2",key:"4b9dqc"}],["path",{d:"M6 14H4a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-4a2 2 0 0 0-2-2h-2",key:"22nnkd"}],["path",{d:"M6 6h.01",key:"1utrut"}],["path",{d:"M6 18h.01",key:"uhywen"}],["path",{d:"m13 6-4 6h6l-4 6",key:"14hqih"}]]),SS=Mk("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]),ES=Mk("Share",[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]]),IS=Mk("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]),AS=Mk("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),TS=Mk("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),DS=Mk("Undo2",[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11",key:"f3b9sd"}]]),MS=Mk("Undo",[["path",{d:"M3 7v6h6",key:"1v2h90"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13",key:"1r6uu6"}]]),LS=Mk("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),PS=Mk("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]),RS=Mk("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),OS=f,zS=g,BS=De.forwardRef(({className:e,children:t,...s},r)=>n.jsxs(i,{ref:r,className:fb("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm font-normal shadow-sm ring-offset-background data-[placeholder]:text-tertiary focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1 group",e),...s,children:[t,n.jsx(a,{asChild:!0,children:n.jsx(Vk,{className:"h-4 w-4 opacity-50 transition-transform duration-200 group-data-[state=open]:rotate-180"})})]}));
/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */BS.displayName=i.displayName;const HS=De.forwardRef(({className:e,...t},s)=>n.jsx(r,{ref:s,className:fb("flex cursor-default items-center justify-center py-1",e),...t,children:n.jsx(Gk,{className:"w-4 h-4"})}));HS.displayName=r.displayName;const $S=De.forwardRef(({className:e,...t},s)=>n.jsx(o,{ref:s,className:fb("flex cursor-default items-center justify-center py-1",e),...t,children:n.jsx(Vk,{className:"w-4 h-4"})}));$S.displayName=o.displayName;const US=De.forwardRef(({className:e,children:t,position:s="popper",...i},a)=>n.jsx(l,{children:n.jsxs(c,{ref:a,className:fb("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===s&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:s,...i,children:[n.jsx(HS,{}),n.jsx(d,{className:fb("p-1","popper"===s&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),n.jsx($S,{})]})}));US.displayName=c.displayName;De.forwardRef(({className:e,...t},s)=>n.jsx(u,{ref:s,className:fb("py-1.5 pl-8 pr-2 text-base font-semibold",e),...t})).displayName=u.displayName;const VS=De.forwardRef(({className:e,children:t,...s},i)=>n.jsxs(p,{ref:i,className:fb("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-base outline-none focus:bg-[#222] focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...s,children:[n.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:n.jsx(m,{children:n.jsx(Uk,{className:"w-4 h-4"})})}),n.jsx(h,{children:t})]}));VS.displayName=p.displayName;De.forwardRef(({className:e,...t},s)=>n.jsx(x,{ref:s,className:fb("-mx-1 my-1 h-px bg-muted",e),...t})).displayName=x.displayName;const WS=Te(Lt()),qS=De.forwardRef(({className:e,type:t,...s},i)=>n.jsx("input",{type:t,className:fb("flex h-10 w-full rounded-md border border-input bg-background px-4 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:i,...s}));qS.displayName="Input";const GS={CREDIT_BALANCE_BUTTON_CLICKED:"credit_balance_button_clicked",BUY_CREDITS_BUTTON_CLICKED:"buy_credits_button_clicked",TIER_UPGRADE_BUTTON_CLICKED:"tier_upgrade_button_clicked",PLAN_UPGRADE_BUTTON_CLICKED:"plan_upgrade_button_clicked",CONTACT_US_BUTTON_CLICKED:"payment_modal_contact_us_button_clicked",BUY_CREDITS_MODAL_EVENTS:{MODAL_OPENED:"buy_credits_modal_opened",MODAL_CLOSED:"buy_credits_modal_closed",BUNDLE_SELECTED:"credit_bundle_selected",BUNDLE_PURCHASE_CLICKED:"credit_bundle_purchase_clicked",CUSTOM_AMOUNT_INPUT_CHANGED:"custom_amount_input_changed",CUSTOM_AMOUNT_PURCHASE_CLICKED:"custom_amount_purchase_clicked",CUSTOM_AMOUNT_VALIDATION_ERROR:"custom_amount_validation_error",PRICING_INFO_LEARN_MORE_CLICKED:"pricing_info_learn_more_clicked",PAYMENT_LOADING_MODAL_OPENED:"payment_loading_modal_opened"},BUY_CREDITS_AUTO_POPUP_SHOWN:"buy_credits_auto_popup_shown"},ZS="job_name_updated",YS="job_deleted",KS="social_share_clicked",JS={MCP_INTRODUCTION_MODAL_OPENED:"mcp_introduction_modal_opened",MCP_INTRODUCTION_MODAL_CLOSED:"mcp_introduction_modal_closed",BRO_MODE_INTRODUCTION_MODAL_OPENED:"bro_mode_introduction_modal_opened",BRO_MODE_INTRODUCTION_MODAL_CLOSED:"bro_mode_introduction_modal_closed",BRO_MODE_INTRODUCTION_TRY_CLICKED:"bro_mode_introduction_try_clicked",BRO_MODE_INTRODUCTION_LEARN_MORE_CLICKED:"bro_mode_introduction_learn_more_clicked",VISUAL_EDITS_MODAL_OPENED:"visual_edits_modal_opened",VISUAL_EDITS_MODAL_CLOSED:"visual_edits_modal_closed",VISUAL_EDITS_MODAL_GOT_IT_CLICKED:"visual_edits_modal_got_it_clicked",VISUAL_EDITS_MODAL_LEARN_MORE_CLICKED:"visual_edits_modal_learn_more_clicked",SUBSCRIPTION_PAYMENT_RESULT_MODAL_EVENTS:{PAYMENT_STATUS_POLLING_STARTED:"payment_status_polling_started"},PAYMENT_LOADING_MODAL_OPENED:"payment_loading_modal_opened",UPDATE_TIER_CLICKED:"update_tier_clicked"},QS=GS,XS={ADVANCED_CONTROL_CLICKED:"advanced_control_button_clicked",ATTACH_FILE_CLICKED:"attach_file_button_clicked",SELECT_TEMPLATE_UPDATED:"select_template_value_updated",BUDGET_VALUE_UPDATED:"budget_value_updated",MODEL_VALUE_UPDATED:"model_value_updated",RECENT_TASK_OPENED:"recent_task_clicked",REFERRAL_ICON_CLICKED:"referral_icon_clicked",REFERRAL_TERM_CONDITION_CLICKED:"referral_terms_and_condition_clicked",NEW_JOB_CREATED:"created_new_job",FOOTER_EVENTS:{HOME_BUTTON_CLICKED:"footer_home_button_clicked",AFFILIATES_BUTTON_CLICKED:"footer_affiliates_button_clicked",PRIVACY_POLICY_BUTTON_CLICKED:"footer_privacy_policy_button_clicked",TERM_OF_SERVICE_BUTTON_CLICKED:"footer_term_of_service_button_clicked"},GITHUB_EVENTS:{CONNECT_TO_GITHUB_ICON_CLICKED:"connect_to_github_icon_clicked",CONNECT_TO_GITHUB_CTA_CLICKED:"connect_to_github_cta_clicked",GITHUB_REPO_TAB_CHANGED:"github_repo_category_changed"},USER_MENU_EVENTS:{ACCOUNT_SETTING_CLICKED:"user_menu_account_setting_clicked",HELP_CENTER_CLICKED:"user_menu_help_center_clicked",JOIN_DISCORD_CLICKED:"user_menu_join_discord_clicked"}},eE={UPGRADE_PLAN_CLICKED:"setting_upgrade_plan_clicked",UNIVERSAL_KEYS_EVENTS:{UNIVERSAL_KEY_TAB_OPENED:"universal_key_tab_opened",UNIVERSAL_KEY_COPIED:"copied_universal_key",UNIVERSAL_KEY_TOGGLED:"toggled_universal_key",UNIVERSAL_KEY_REGENERATE_CTA_CLICKED:"regenerate_universal_key_cta_clicked",UNIVERSAL_KEY_REGENERATED:"regenerated_universal_key",ADD_BALANCE_CTA_CLICKED:"add_balance_cta_clicked",TRANSFER_CREDIT_UPDATED:"updated_transfer_credit_value",CREDIT_TRANSFERED:"transfer_credit_cta_clicked",AUTO_RECHARGE_TOGGLE_CLICKED:"auto_recharge_toggle_clicked",AUTO_RECHARGE_CONFIRMED:"auto_recharge_credit_save_cta_clicked",AUTO_RECHARGE_UPDATED_VALUE:"auto_recharge_updated_value"},MANAGE_AGENTS_EVENTS:{MANAGE_AGENTS_TAB_OPENED:"manage_agents_tab_opened",NEW_AGENT_CREATION:"creating_new_agent",NEW_SUB_AGENT_CREATION:"creating_new_sub_agent",EXISTING_AGENT_OPENED:"existing_agent_opened",NEW_MCP_CREATED:"new_mcp_created"},LLM_PROVIDER_TOGGLED:"llm_provider_toggled"},tE={WAKE_UP_AGENT:"wake_up_agent_clicked"},nE="chat_screen_buy_credits_button_clicked";function sE({selectedImage:e,setSelectedImage:t,globalConfig:s,label:i="Docker Image",description:a,isCloudFlow:r}){var o,l,c;const{toast:d}=on(),[u,p]=De.useState([]),[m,h]=De.useState(!0),[x,f]=De.useState(!1),[g,v]=De.useState({}),[b,y]=De.useState({}),[w,j]=De.useState(!1),C=xp();De.useEffect(()=>{(async()=>{if(C)try{h(!0);const e=await fp.listImages();p(e)}catch(e){d({title:"Error",description:"Failed to fetch Docker images",variant:"destructive"})}finally{h(!1)}else h(!1)})()},[C]);const N=e=>{var t;const n=null==(t=null==s?void 0:s.templates)?void 0:t.find(t=>(null==t?void 0:t.env_image)===e);if(n)return(null==n?void 0:n.name)||(null==n?void 0:n.env_image);const i=null==u?void 0:u.find(t=>(null==t?void 0:t.env_image)===e);return i?(null==i?void 0:i.repo_name)||(null==i?void 0:i.env_image):""};return n.jsxs("div",{children:[n.jsx("div",{className:"flex items-center justify-between mb-2",children:n.jsx("p",{className:"text-[#FFFFFF50] font-['Inter'] text-sm",children:i})}),x?n.jsx(qS,{id:"imageInput",value:e,onChange:e=>{var n,s;t(null==(n=null==e?void 0:e.target)?void 0:n.value),fg(XS.SELECT_TEMPLATE_UPDATED,{selectedImage:N(null==(s=null==e?void 0:e.target)?void 0:s.value)})},placeholder:"Enter container image name/tag",className:"mb-4"}):n.jsxs(OS,{value:e,onValueChange:e=>{t(e),fg(XS.SELECT_TEMPLATE_UPDATED,{selectedImage:N(e)})},disabled:m,open:w,onOpenChange:j,children:[n.jsx(BS,{className:"w-full h-14 bg-[#FFFFFF0A] border border-[#ffffff12] rounded-lg text-[#DDDDE6] hover:border-[#ffffff30] transition-colors data-[state=open]:border-[#ffffff30] ",children:m?n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(hS,{className:"w-4 h-4 animate-spin"}),n.jsx("span",{children:"Loading images..."})]}):n.jsx(zS,{placeholder:"Select an image",children:(()=>{var t;const n=null==(t=null==s?void 0:s.templates)?void 0:t.find(t=>t.env_image===e);if(n)return n.name||n.env_image;const i=u.find(t=>t.env_image===e);return i?i.repo_name||i.env_image:e||"Select an image"})()})}),n.jsx(US,{className:"bg-[#131314] border border-[#222]",children:u.length>0||(null==(o=null==s?void 0:s.templates)?void 0:o.length)>0?n.jsx(n.Fragment,{children:r?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"py-2 px-2 text-xs font-medium text-[#666]",children:"Select Template"}),null==(l=null==s?void 0:s.templates)?void 0:l.filter(e=>e.is_cloud_flow).map((e,t)=>n.jsx(VS,{value:e.env_image,className:"relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-base outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 text-[#DDDDE6] hover:bg-[#222] focus:bg-[#222]",children:n.jsx("div",{className:"flex items-center justify-between w-full",children:n.jsx("span",{className:"truncate",children:e.name||e.env_image})})},`cloud-${e.env_image}-${t}`))]}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"py-2 px-2 text-xs font-medium text-[#666]",children:"Template Docker Images"}),null==(c=null==s?void 0:s.templates)?void 0:c.filter(e=>!e.is_cloud_flow).map((e,t)=>{const s=u.find(t=>t.env_image===e.env_image);return s&&e.image_tag&&(s.digest,e.image_tag),g[e.env_image],n.jsx(VS,{value:e.env_image,className:"relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-base outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 text-[#DDDDE6] hover:bg-[#222] focus:bg-[#222]",children:n.jsx("div",{className:"flex items-center justify-between w-full",children:n.jsx("span",{className:"truncate",children:e.name||e.env_image})})},`template-${e.env_image}-${t}`)}),n.jsx("div",{className:"h-px bg-[#222] my-2"}),n.jsx("div",{className:"py-2 px-2 text-xs font-medium text-[#666]",children:"Local Docker Images"}),u.filter(e=>{var t;return!(null==(t=null==s?void 0:s.templates)?void 0:t.some(t=>t.env_image===e.env_image))}).map((e,t)=>n.jsx(VS,{value:e.env_image,className:"relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-base outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 text-[#DDDDE6] hover:bg-[#222] focus:bg-[#222]",children:n.jsx("div",{className:"flex items-center justify-between w-full",children:n.jsx("span",{className:"truncate",children:e.env_image})})},`local-${e.env_image}-${t}`))]})}):n.jsx("div",{className:"py-6 text-center text-sm text-[#666]",children:m?"Loading images...":"No images found"})})]}),!e&&n.jsx("p",{className:"mt-1 text-sm text-destructive",children:"Container image is required"})]})}const iE=De.forwardRef(({className:e,...t},s)=>n.jsx(v,{ref:s,className:fb("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:n.jsx(b,{className:fb("flex items-center justify-center text-current"),children:n.jsx(Uk,{className:"h-4 w-4"})})}));iE.displayName=v.displayName;const aE=bb("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function rE({className:e,variant:t,...s}){return n.jsx("div",{className:fb(aE({variant:t}),e),...s})}const oE=I,lE=A;De.forwardRef(({className:e,inset:t,children:s,...i},a)=>n.jsxs(y,{ref:a,className:fb("flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...i,children:[s,n.jsx(qk,{className:"ml-auto"})]})).displayName=y.displayName;De.forwardRef(({className:e,...t},s)=>n.jsx(w,{ref:s,className:fb("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t})).displayName=w.displayName;const cE=De.forwardRef(({className:e,sideOffset:t=4,...s},i)=>n.jsx(j,{children:n.jsx(C,{ref:i,sideOffset:t,className:fb("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...s})}));cE.displayName=C.displayName;De.forwardRef(({className:e,inset:t,...s},i)=>n.jsx(N,{ref:i,className:fb("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...s})).displayName=N.displayName;De.forwardRef(({className:e,children:t,checked:s,...i},a)=>n.jsxs(F,{ref:a,className:fb("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:s,...i,children:[n.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:n.jsx(_,{children:n.jsx(Uk,{className:"h-4 w-4"})})}),t]})).displayName=F.displayName;De.forwardRef(({className:e,children:t,...s},i)=>n.jsxs(k,{ref:i,className:fb("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...s,children:[n.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:n.jsx(_,{children:n.jsx(Qk,{className:"h-2 w-2 fill-current"})})}),t]})).displayName=k.displayName;De.forwardRef(({className:e,inset:t,...s},i)=>n.jsx(S,{ref:i,className:fb("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...s})).displayName=S.displayName;De.forwardRef(({className:e,...t},s)=>n.jsx(E,{ref:s,className:fb("-mx-1 my-1 h-px bg-muted",e),...t})).displayName=E.displayName;const dE=({description:e})=>n.jsxs(T,{children:[n.jsx(D,{asChild:!0,children:n.jsx("button",{className:"inline-flex items-center ml-2 text-[#666] hover:text-[#999] focus:outline-none",children:n.jsx(mS,{size:14})})}),n.jsx(M,{children:n.jsxs(L,{className:"max-w-xs bg-[#1A1A1A] text-[#DDDDE6] text-sm px-4 py-2.5 rounded-lg shadow-lg z-[9999]",sideOffset:5,children:[e,n.jsx(P,{className:"fill-[#1A1A1A]"})]})})]});function uE({selectedSkills:e=[],setSelectedSkills:t,skills:s,loadingSkills:i,label:a="Skills",description:r}){return n.jsxs("div",{children:[n.jsxs("p",{className:"text-[#999] font-['Inter'] mb-2",children:[a,r&&n.jsx(dE,{description:r})]}),n.jsxs(oE,{children:[n.jsx(lE,{asChild:!0,children:n.jsxs(wb,{variant:"outline",role:"combobox",disabled:i,className:fb("w-full h-12 bg-[#0E0E0F] border border-[#222] rounded-lg text-[#DDDDE6] hover:border-[#333] transition-colors relative data-[state=open]:border-[#333] md:text-base ",!e.length&&"text-muted-foreground"),children:[n.jsx("div",{className:"absolute left-4 inset-y-0 flex items-center md:text-base",children:i?n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(hS,{className:"h-4 w-4 animate-spin"}),n.jsx("span",{children:"Loading skills..."})]}):0===e.length?"Select skills":`${e.length} selected`}),n.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2",children:n.jsx(Vk,{className:"h-4 w-4 shrink-0"})})]})}),n.jsx(cE,{className:"w-[var(--radix-dropdown-menu-trigger-width)] p-1 bg-[#131314] border border-[#222]",children:n.jsxs("div",{className:"max-h-[300px] overflow-y-auto",children:[(s||[]).map(s=>n.jsxs("div",{className:"flex items-center space-x-3 px-3 py-2 hover:bg-[#1A1A1A] rounded-md cursor-pointer",onClick:()=>{(null==e?void 0:e.includes(s.name))?t(e.filter(e=>e!==s.name)):t([...e,s.name])},children:[n.jsx(iE,{checked:null==e?void 0:e.includes(s.name),className:"border-[#666]"}),n.jsxs("div",{className:"text-[#DDDDE6] md:text-base",children:[s.name,n.jsxs("div",{className:"text-xs text-[#666]",children:["Version: ",s.latest_version]})]})]},s.id)),0===s.length&&!i&&n.jsx("div",{className:"p-2 text-[#666] text-center",children:"No skills available"})]})})]}),(null==e?void 0:e.length)>0&&n.jsx("div",{className:"flex gap-1 mt-2 flex-wrap",children:null==e?void 0:e.map(s=>n.jsxs(rE,{variant:"secondary",className:"bg-[#222] text-[#DDDDE6] hover:bg-[#333]",children:[s,n.jsxs("button",{className:"ml-1 ring-offset-background rounded-full outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",onKeyDown:n=>{"Enter"===n.key&&t(e.filter(e=>e!==s))},onClick:()=>t(e.filter(e=>e!==s)),children:[n.jsx(RS,{className:"h-3 w-3"}),n.jsxs("span",{className:"sr-only",children:["Remove ",s]})]})]},s))})]})}var pE=async(e,t=100,n="auto",s="auto",i=null,a=null)=>{if(!(e instanceof Blob))throw new TypeError(`Expected a Blob or File, but got ${typeof e}.`);if(0===e.size)throw new Error("Failed to load the image. The file might be corrupt or empty.");if(t<=0)throw new RangeError("Quality must be greater than 0.");if("number"==typeof n&&n<0||"number"==typeof s&&s<0)throw new RangeError("Invalid width or height value!");let r=i?(e=>({png:"image/png",webp:"image/webp",bmp:"image/bmp",gif:"image/gif",jpeg:"image/jpeg"}[e]||"image/jpeg"))(i):e.type,o=t<1?t:t/100;return new Promise((t,i)=>{let l=new FileReader;l.onload=()=>{let e=new Image;e.src=l.result,e.onload=()=>{let l=document.createElement("canvas"),c=((e,t="auto",n="auto")=>{let s="auto"===t||0===t,i="auto"===n||0===n;if(!s&&!i)return{width:t,height:n};if(!s){let n=e.naturalWidth/t;return{width:t,height:Math.round(100*(e.naturalHeight/n+Number.EPSILON))/100}}if(!i){let t=e.naturalHeight/n;return{width:Math.round(100*(e.naturalWidth/t+Number.EPSILON))/100,height:n}}return{width:e.naturalWidth,height:e.naturalHeight}})(e,n,s);l.width=c.width,l.height=c.height;let d=l.getContext("2d");d?(a&&"image/png"===r&&(d.fillStyle=a,d.fillRect(0,0,l.width,l.height)),d.drawImage(e,0,0,l.width,l.height),l.toBlob(e=>{if(null===e)return i(new Error("Failed to generate image blob."));t(new Blob([e],{type:r}))},r,o)):i(new Error("Failed to get canvas context."))},e.onerror=()=>{i(new Error("Failed to load the image. The file might be corrupt or empty."))}},l.onerror=()=>i(new Error("Failed to read the blob as a Data URL.")),l.readAsDataURL(e)})};
/*!
* image-resize-compress
* Copyright(c) 2024 lef Duarte
* MIT Licensed
*/function mE({maxWidth:e=2e3,maxHeight:t=2e3,quality:n=30,format:s="jpeg"}={}){const i=De.useCallback(async(i,a)=>{try{const r={maxWidth:(null==a?void 0:a.maxWidth)||e,maxHeight:(null==a?void 0:a.maxHeight)||t,quality:(null==a?void 0:a.quality)||n,format:(null==a?void 0:a.format)||s},o=await pE(i,r.quality,r.maxWidth,r.maxHeight,r.format),l=await new Promise((e,t)=>{const n=new FileReader;n.onloadend=()=>{const t=n.result.split(",")[1];e(t)},n.onerror=t,n.readAsDataURL(o)}),c=(i.size-o.size)/i.size*100;return{blob:o,base64:l,originalSize:i.size,compressedSize:o.size,compressionRatio:c}}catch(r){return null}},[e,t,n,s]),a=De.useCallback(async(e,t)=>{try{const n=e.map(e=>i(e,t));return await Promise.all(n)}catch(n){return e.map(()=>null)}},[i]),r=De.useCallback(e=>{switch(e){case"jpeg":default:return"image/jpeg";case"webp":return"image/webp";case"png":return"image/png"}},[]),o=De.useCallback(async n=>n.size>1048576||new Promise(s=>{const i=new Image;i.onload=()=>{const n=i.width>e||i.height>t;URL.revokeObjectURL(i.src),s(n)},i.onerror=()=>{URL.revokeObjectURL(i.src),s(!0)},i.src=URL.createObjectURL(n)}),[e,t]);return{compressImage:i,compressImages:a,getMimeType:r,shouldCompress:o}}function hE({maxImages:e=5,maxSizeInMB:t=5,maxPixelDimensions:n=8e3,maxPixelDimensionsMultiple:s=2e3,initialImages:i=[],onImagesChange:a}={}){const[r,o]=De.useState(i),[l,c]=De.useState(!1),{toast:d}=on(),{compressImage:u,getMimeType:p}=mE({maxWidth:2e3,maxHeight:2e3,quality:30,format:"jpeg"}),m=De.useCallback(async e=>{try{const t=await u(e);return t?{mime_type:p("jpeg"),img_base64:t.base64,originalFile:e}:null}catch(t){return null}},[u,p]),h=De.useCallback(async(e,t)=>new Promise(i=>{const a=new Image,r=t?s:n;a.onload=()=>{const e=a.width<=r&&a.height<=r;URL.revokeObjectURL(a.src),i({width:a.width,height:a.height,isValid:e,maxDimension:r})},a.onerror=()=>{URL.revokeObjectURL(a.src),i({width:0,height:0,isValid:!1,maxDimension:r})},a.src=URL.createObjectURL(e)}),[n,s]),x=De.useCallback(async s=>{var i;if(!s||0===s.length)return;const l=Array.isArray(s)?s:Array.from(s);if(r.length+l.length>e)return void d({title:"Too many images",description:`You can only upload a maximum of ${e} images`,variant:"destructive"});const u=1024*t*1024,p=l.filter(e=>e.size>u);if(p.length>0)return void d({title:"File too large",description:`${p.length>1?"Some files are":"File is"} larger than ${t}MB limit`,variant:"destructive"});const x=["image/jpeg","image/png","image/gif","image/webp"];if(l.filter(e=>!x.includes(e.type)).length>0)return void d({title:"Invalid file type",description:"Only JPEG, PNG, GIF, and WebP images are allowed",variant:"destructive"});const f=r.length+l.length>1,g=await Promise.all(l.map(e=>h(e,f))),v=g.filter(e=>!e.isValid);if(v.length>0){const e=(null==(i=g[0])?void 0:i.maxDimension)||n,t=f?"multiple images":"single image";return void d({title:"Image dimensions too large",description:`${v.length>1?"Some images have":"Image has"} dimensions larger than ${e}x${e} pixels (limit for ${t})`,variant:"destructive"})}c(!0);try{const e=l.map(e=>m(e)),t=(await Promise.all(e)).filter(e=>null!==e),n=[...r,...t];o(n),null==a||a(n)}catch(b){d({title:"Error",description:"Failed to process images. Please try again.",variant:"destructive"})}finally{c(!1)}},[r,e,t,n,a,m,h,d]),f=De.useCallback(()=>{const e=document.createElement("input");return e.type="file",e.accept="image/jpeg,image/png,image/gif,image/webp",e.multiple=!0,e.style.display="none",e.onchange=t=>{const n=t.target;x(n.files),document.body.removeChild(e)},e},[x]),g=De.useCallback(()=>{const e=f();document.body.appendChild(e),setTimeout(()=>{e.click()},0)},[f]),v=De.useCallback(e=>{const t=[...r];t.splice(e,1),o(t),null==a||a(t)},[r,a]),b=De.useCallback(()=>{o([]),null==a||a([])},[a]);return{images:r,isProcessing:l,openFilePicker:g,removeImage:v,handleImageSelect:x,clearImages:b}}const xE=["image/jpeg","image/png","image/gif","image/webp"],fE=["image/jpeg","image/png","image/gif","image/webp"],gE=5242880,vE={maxWidth:2e3,maxHeight:2e3,quality:30,format:"jpeg"},bE=e=>{const t=e.type.startsWith("image/"),n="image/svg+xml"===e.type,s=xE.includes(e.type),i=fE.includes(e.type);return t?n||t&&!i?{strategy:"artifact_only",needsCompression:!1,canSendToAgent:!1,supportsDualMode:!1}:t&&!s&&i?{strategy:"dual_mode",needsCompression:!1,canSendToAgent:!0,supportsDualMode:!0}:t&&s&&i?{strategy:"compress_and_dual",needsCompression:!0,canSendToAgent:!0,supportsDualMode:!0}:{strategy:"artifact_only",needsCompression:!1,canSendToAgent:!1,supportsDualMode:!1}:{strategy:"artifact_only",needsCompression:!1,canSendToAgent:!1,supportsDualMode:!1}},yE=async(e,t)=>{try{const n=await t(e);if(!n)return{shouldUseBase64:!1};n.compressedSize;return n.compressedSize<=gE?{shouldUseBase64:!0,base64Data:n.base64,compressedSize:n.compressedSize}:{shouldUseBase64:!1,compressedSize:n.compressedSize}}catch(n){return{shouldUseBase64:!1}}},wE=async e=>new Promise((t,n)=>{const s=new FileReader;s.onload=()=>{const e=s.result.split(",")[1];t(e)},s.onerror=n,s.readAsDataURL(e)}),jE=De.forwardRef(({className:e,...t},s)=>n.jsx("textarea",{className:fb("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 ring-offset-background placeholder:text-white/20 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 ",e),ref:s,...t}));jE.displayName="Textarea";const CE=({className:e,size:t=200,duration:s=15,anchor:i=90,borderWidth:a=1.5,colorFrom:r="#ffaa40",colorTo:o="#9c40ff",delay:l=0})=>n.jsx("div",{style:{"--size":t,"--duration":s,"--anchor":i,"--border-width":a,"--color-from":r,"--color-to":o,"--delay":`-${l}s`},className:fb("pointer-events-none absolute inset-0 rounded-[inherit] [border:calc(var(--border-width)*1px)_solid_transparent]","![mask-clip:padding-box,border-box] ![mask-composite:intersect] [mask:linear-gradient(transparent,transparent),linear-gradient(white,white)]","after:absolute after:aspect-square after:w-[calc(var(--size)*1px)] after:animate-border-beam after:[animation-delay:var(--delay)] after:[background:linear-gradient(to_left,var(--color-from),var(--color-to),transparent)] after:[offset-anchor:calc(var(--anchor)*1%)_50%] after:[offset-path:rect(0_auto_auto_0_round_calc(var(--size)*1px))]",e)}),NE=({width:e=20,height:t=20,fill:s="#E6E6E6",className:i=""})=>n.jsx("svg",{width:e,height:t,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:i,children:n.jsx("path",{d:"M9.93305 11.8684C9.14357 11.8684 8.47252 11.5921 7.91989 11.0395C7.36726 10.4868 7.09094 9.81579 7.09094 9.02631V3.3421C7.09094 2.55263 7.36726 1.88158 7.91989 1.32895C8.47252 0.776316 9.14357 0.5 9.93305 0.5C10.7225 0.5 11.3936 0.776316 11.9462 1.32895C12.4988 1.88158 12.7752 2.55263 12.7752 3.3421V9.02631C12.7752 9.81579 12.4988 10.4868 11.9462 11.0395C11.3936 11.5921 10.7225 11.8684 9.93305 11.8684ZM8.98568 17.5526V15.5868C7.53305 15.3816 6.28978 14.7658 5.25589 13.7395C4.222 12.7132 3.59421 11.4658 3.37252 9.99737C3.34094 9.72894 3.412 9.5 3.58568 9.31052C3.75936 9.12105 3.98042 9.02631 4.24884 9.02631C4.51726 9.02631 4.74242 9.11726 4.92431 9.29916C5.10621 9.48105 5.22842 9.70589 5.29094 9.97368C5.512 11.0789 6.06084 11.9868 6.93747 12.6974C7.8141 13.4079 8.81263 13.7632 9.93305 13.7632C11.0699 13.7632 12.0725 13.4041 12.9409 12.686C13.8094 11.9679 14.3541 11.0638 14.5752 9.97368C14.6383 9.70526 14.7608 9.48042 14.9427 9.29916C15.1246 9.11789 15.3495 9.02695 15.6173 9.02631C15.885 9.02568 16.1061 9.12042 16.2804 9.31052C16.4547 9.50063 16.5258 9.72958 16.4936 9.99737C16.2725 11.4342 15.6488 12.6737 14.6225 13.7158C13.5962 14.7579 12.3488 15.3816 10.8804 15.5868V17.5526C10.8804 17.821 10.7895 18.0462 10.6076 18.2281C10.4257 18.41 10.2008 18.5006 9.93305 18.5C9.66526 18.4994 9.44042 18.4084 9.25852 18.2272C9.07663 18.0459 8.98568 17.821 8.98568 17.5526Z",fill:s})}),FE=({width:e=20,height:t=20,fill:s="black",className:i=""})=>n.jsxs("svg",{width:e,height:t,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:i,children:[n.jsx("g",{clipPath:"url(#clip0_5272_57732)",children:n.jsx("path",{d:"M7 13.75H13C13.2125 13.75 13.3907 13.6781 13.5345 13.5343C13.6782 13.3906 13.75 13.2125 13.75 13V7C13.75 6.7875 13.6782 6.60933 13.5345 6.4655C13.3907 6.32183 13.2125 6.25 13 6.25H7C6.7875 6.25 6.60942 6.32183 6.46575 6.4655C6.32192 6.60933 6.25 6.7875 6.25 7V13C6.25 13.2125 6.32192 13.3906 6.46575 13.5343C6.60942 13.6781 6.7875 13.75 7 13.75ZM10.0067 20C8.62775 20 7.33192 19.7375 6.11925 19.2125C4.90642 18.6875 3.84583 17.9708 2.9375 17.0625C2.02917 16.1542 1.3125 15.093 0.7875 13.879C0.2625 12.665 0 11.3678 0 9.9875C0 8.60717 0.2625 7.31 0.7875 6.096C1.3125 4.882 2.02917 3.825 2.9375 2.925C3.84583 2.025 4.907 1.3125 6.121 0.7875C7.335 0.2625 8.63217 0 10.0125 0C11.3928 0 12.69 0.2625 13.904 0.7875C15.118 1.3125 16.175 2.025 17.075 2.925C17.975 3.825 18.6875 4.88333 19.2125 6.1C19.7375 7.31667 20 8.61442 20 9.99325C20 11.3723 19.7375 12.6681 19.2125 13.8807C18.6875 15.0936 17.975 16.1527 17.075 17.058C16.175 17.9632 15.1167 18.6798 13.9 19.208C12.6833 19.736 11.3856 20 10.0067 20Z",fill:s})}),n.jsx("defs",{children:n.jsx("clipPath",{id:"clip0_5272_57732",children:n.jsx("rect",{width:"20",height:"20",fill:"white"})})})]}),_E=gv.icons.githubIcon,kE=gv.github.githubConnected,SE=({isConnected:e,isActive:t,githubUrl:s,githubTooltip:i,handleGithubSettings:a,onClearGithubUrl:r})=>{const o=()=>e?kE:_E;return s?n.jsxs("div",{className:"relative flex items-center bg-[#2EE572]/5 border border-[#2EE572]/20 rounded-[30px] px-3 group",children:[n.jsxs(wb,{className:fb("pointer-events-auto flex items-center gap-1 p-0 justify-center h-9 bg-transparent hover:bg-transparent"),type:"button",onClick:a,children:[n.jsx("img",{src:o(),alt:"GitHub Repository",className:fb("transition-transform duration-200 transform size-4 md:size-5",e&&"scale-[1.2] mt-[2px] mr-1.5")}),n.jsx("span",{className:"text-sm font-medium text-[#2EE572] truncate max-w-[100px]",children:s.split("/").pop()})]}),n.jsx("button",{title:"Clear selected repository",type:"button",onClick:e=>{e.stopPropagation(),r()},className:"z-10 w-0 overflow-hidden transition-all duration-200 bg-transparent rounded-full hover:bg-transparent group-hover:w-auto group-hover:pl-1",children:n.jsx(RS,{size:16,className:"text-[#2ee571cd]"})})]}):n.jsxs(T,{children:[n.jsx(D,{asChild:!0,children:n.jsx(wb,{className:fb("p-2 pointer-events-auto rounded-[30px] flex items-center justify-center h-[32px]  md:h-9 transition-all ease-out duration-100  gap-2","bg-white bg-opacity-5 text-[#CCCCCC] hover:bg-white/10"),type:"button",onClick:a,children:n.jsxs("div",{className:"relative flex items-center gap-1",children:[n.jsx("div",{className:"relative flex items-center",children:n.jsx("img",{src:o(),alt:"GitHub",className:fb("size-5 transition-transform duration-200 transform",e&&"scale-[1.4] mt-[2px]")})}),e&&n.jsx(Vk,{className:"w-4 h-4 transition-transform duration-200 "+(t?"rotate-180":"")})]})})}),i&&n.jsx(M,{children:n.jsx(L,{className:"max-w-xs bg-[#fff] text-[#0f0f10] font-medium tracking-[-0.3px] text-sm px-4 py-2.5 rounded-lg shadow-lg z-[9999]",sideOffset:5,asChild:!0,children:n.jsxs(Ek.div,{initial:{opacity:0,y:-2,scale:1},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:1},transition:{type:"tween",ease:"easeOut",duration:.4},children:[i,n.jsx(P,{className:"fill-[#fff]"})]})})})]})},EE=R,IE=T,AE=D,TE=De.forwardRef(({className:e,sideOffset:t=4,...s},i)=>n.jsx(L,{ref:i,sideOffset:t,className:fb("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md",e),...s}));TE.displayName=L.displayName;const DE=P,ME=({size:e=24,color:t="currentColor",className:s})=>n.jsxs("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:s,children:[n.jsx("path",{d:"M3.5 11.75L11.6718 3.57843C12.7763 2.47386 14.5673 2.47386 15.6718 3.57843C16.7763 4.683 16.7763 6.47386 15.6718 7.57843M15.6718 7.57843L9.5 13.75M15.6718 7.57843C16.7763 6.47386 18.5673 6.47386 19.6718 7.57843C20.7763 8.683 20.7763 10.4739 19.6718 11.5784L12.7073 18.5429C12.3168 18.9334 12.3168 19.5666 12.7073 19.9571L14 21.2498",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),n.jsx("path",{d:"M17.4999 9.74933L11.3282 15.9211C10.2237 17.0256 8.43274 17.0256 7.32825 15.9211C6.22375 14.8165 6.22375 13.0256 7.32825 11.9211L13.4999 5.74951",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),LE=({size:e=16,color:t="#E8E8E6",className:s})=>n.jsx("svg",{width:e,height:e,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:s,children:n.jsx("path",{d:"M8.43865 1.6001C9.07985 1.6001 9.59961 2.11988 9.59961 2.76103C9.59961 2.91653 9.70969 3.08344 9.90745 3.16182C9.96233 3.18356 10.0168 3.20625 10.0707 3.22979L10.1434 3.25557C10.3127 3.30343 10.4748 3.26076 10.5714 3.16416C11.0255 2.71063 11.7614 2.71115 12.2152 3.16494L12.8347 3.78447L12.9145 3.87275C13.2869 4.32919 13.2605 5.00287 12.8347 5.42823C12.7245 5.53847 12.6851 5.73408 12.7699 5.92823L12.8379 6.09228L12.8714 6.16182C12.9581 6.31554 13.1026 6.40008 13.2386 6.4001C13.8798 6.4001 14.3996 6.91988 14.3996 7.56103V8.43914C14.3996 9.08034 13.8798 9.6001 13.2386 9.6001C13.1026 9.6001 12.9582 9.68466 12.8714 9.83842L12.8379 9.90794C12.8161 9.96274 12.7934 10.0174 12.7699 10.0712C12.685 10.2655 12.7243 10.4615 12.8347 10.5719C13.2886 11.0259 13.2886 11.7618 12.8347 12.2157L12.2152 12.8352C11.7613 13.2891 11.0254 13.2891 10.5714 12.8352C10.4749 12.7387 10.3127 12.6961 10.1434 12.7439L10.0707 12.7704C10.0171 12.7938 9.96273 12.8159 9.90817 12.8376C9.71041 12.916 9.59977 13.0828 9.59961 13.2384C9.59961 13.8798 9.07929 14.4001 8.43793 14.4001H7.56133C6.91993 14.4001 6.39961 13.8798 6.39961 13.2384C6.39946 13.1022 6.31496 12.9576 6.16133 12.8712L6.09179 12.8376C6.03681 12.8159 5.98177 12.7932 5.92774 12.7696C5.73338 12.685 5.53792 12.7251 5.42774 12.8352C5.00238 13.261 4.32871 13.2874 3.87227 12.915L3.78399 12.8352L3.16445 12.2157C2.71067 11.7619 2.71015 11.026 3.16367 10.5719L3.20195 10.5267C3.27081 10.4288 3.29609 10.289 3.25508 10.1439L3.2293 10.0712C3.20576 10.0173 3.18307 9.96282 3.16133 9.90794C3.08295 9.71018 2.91604 9.6001 2.76055 9.6001C2.11939 9.6001 1.59961 9.08034 1.59961 8.43914V7.56103C1.59961 6.91988 2.11939 6.4001 2.76055 6.4001C2.91602 6.40008 3.0823 6.28987 3.16055 6.09228L3.2293 5.92823L3.25508 5.85557C3.29607 5.71039 3.27089 5.5705 3.20195 5.47275L3.16367 5.42823C2.70998 4.97453 2.70998 4.23817 3.16367 3.78447L3.78399 3.16416L3.87227 3.08447C4.32858 2.71224 5.00237 2.7388 5.42774 3.16416C5.53798 3.27438 5.73335 3.31456 5.92774 3.22979C5.98196 3.20613 6.03661 3.18288 6.09179 3.16103C6.28938 3.08279 6.39959 2.91651 6.39961 2.76103C6.39961 2.11988 6.91939 1.6001 7.56055 1.6001H8.43865ZM7.56055 2.4001C7.36123 2.4001 7.19961 2.56171 7.19961 2.76103C7.19959 3.29991 6.83431 3.72823 6.38633 3.90557C6.33973 3.92402 6.2931 3.94261 6.24727 3.96259C5.80447 4.15569 5.24263 4.11185 4.86133 3.73057C4.7377 3.60693 4.54707 3.59094 4.40664 3.68369L4.35039 3.73057L3.73008 4.35088C3.5888 4.49215 3.5888 4.72054 3.73008 4.86182C4.0875 5.21926 4.14847 5.73546 3.99571 6.16338L3.96211 6.24775C3.94212 6.29359 3.92353 6.34022 3.90508 6.38682C3.72775 6.8348 3.29942 7.20008 2.76055 7.2001C2.56123 7.2001 2.39961 7.36171 2.39961 7.56103V8.43914C2.39961 8.6385 2.56123 8.8001 2.76055 8.8001C3.29942 8.8001 3.7276 9.16562 3.90508 9.61338C3.92339 9.65954 3.94228 9.70546 3.96211 9.7509C4.15545 10.1938 4.11127 10.756 3.73008 11.1376C3.58863 11.2791 3.58858 11.5086 3.73008 11.6501L4.34961 12.2696L4.40664 12.3165C4.54705 12.4091 4.73779 12.3932 4.86133 12.2696C5.24267 11.888 5.80509 11.8436 6.24805 12.0368C6.29363 12.0567 6.33998 12.0755 6.38633 12.0939L6.46914 12.1306C6.87835 12.3258 7.19946 12.7333 7.19961 13.2384C7.19961 13.4379 7.36175 13.6001 7.56133 13.6001H8.43793C8.63745 13.6001 8.79961 13.4379 8.79961 13.2384C8.79977 12.6995 9.16505 12.2714 9.61289 12.0939C9.65905 12.0755 9.70497 12.0567 9.75041 12.0368L9.83473 12.0032C10.263 11.8502 10.7794 11.9119 11.1371 12.2696C11.2786 12.4111 11.5081 12.4111 11.6496 12.2696L12.2691 11.6501C12.4106 11.5086 12.4106 11.2791 12.2691 11.1376C11.8876 10.7561 11.8433 10.194 12.0371 9.7509C12.057 9.7053 12.0758 9.6589 12.0942 9.61258L12.1309 9.52978C12.3263 9.12114 12.7336 8.8001 13.2386 8.8001C13.438 8.8001 13.5996 8.6385 13.5996 8.43914V7.56103C13.5996 7.36171 13.438 7.2001 13.2386 7.2001C12.7334 7.20008 12.3261 6.8787 12.1309 6.46963L12.0942 6.38682L12.0363 6.24854C11.8426 5.8055 11.8875 5.24315 12.2691 4.86182C12.3927 4.73827 12.4086 4.54754 12.316 4.40713L12.2691 4.3501L11.6496 3.73057C11.5259 3.60685 11.3348 3.59112 11.1942 3.68369L11.1371 3.73057C10.7555 4.11176 10.1933 4.15594 9.75041 3.96259L9.61289 3.90557C9.16513 3.72809 8.79961 3.29991 8.79961 2.76103C8.79961 2.56171 8.63801 2.4001 8.43865 2.4001H7.56055ZM7.99961 5.6001C9.32513 5.6001 10.3996 6.67462 10.3996 8.0001C10.3996 9.32562 9.32513 10.4001 7.99961 10.4001C6.67413 10.4001 5.59961 9.32562 5.59961 8.0001C5.59961 6.67462 6.67413 5.6001 7.99961 5.6001ZM7.99961 6.4001C7.11595 6.4001 6.39961 7.11644 6.39961 8.0001C6.39961 8.88378 7.11595 9.6001 7.99961 9.6001C8.88329 9.6001 9.59961 8.88378 9.59961 8.0001C9.59961 7.11644 8.88329 6.4001 7.99961 6.4001Z",fill:t})}),PE=({size:e=20,primaryColor:t="#80FFF9",secondaryColor:s="#1D1D1E",className:i,...a})=>n.jsxs("svg",{width:e,height:e,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:i,...a,children:[n.jsx("path",{d:"M14.5039 4C15.8846 4 17.0039 5.11929 17.0039 6.5V13.5C17.0039 14.8807 15.8846 16 14.5039 16H5.50391C4.12319 16 3.00391 14.8807 3.00391 13.5V6.5C3.00391 5.11929 4.12319 4 5.50391 4H14.5039Z",fill:t}),n.jsx("path",{d:"M5 12C5 10.8954 5.89543 10 7 10H13C14.1046 10 15 10.8954 15 12C15 13.1046 14.1046 14 13 14H7C5.89543 14 5 13.1046 5 12Z",fill:s}),n.jsx("rect",{width:"2",height:"2",rx:"1",transform:"matrix(1 0 0 -1 7 13)",fill:t}),n.jsx("rect",{width:"2",height:"2",rx:"1",transform:"matrix(1 0 0 -1 11 13)",fill:t}),n.jsx("rect",{y:"9.00195",width:"2",height:"4",rx:"1",fill:t}),n.jsx("rect",{x:"18",y:"9.00195",width:"2",height:"4",rx:"1",fill:t})]}),RE=De.createContext(void 0);function OE({children:e}){const[t,s]=De.useState(new Map);return n.jsx(RE.Provider,{value:{openModal:e=>{s(t=>{const n=new Map(t);return n.set(e.type,e),n})},closeModal:e=>{s(e?t=>{const n=new Map(t);return n.delete(e),n}:new Map)},updateModal:(e,t)=>{s(n=>{const s=new Map(n),i=s.get(e);return i&&s.set(e,{...i,...t}),s})},activeModals:t},children:e})}function zE(){const e=De.useContext(RE);if(!e)throw new Error("useModal must be used within a ModalProvider");return e}function BE(){const{openModal:e,closeModal:t,activeModals:n}=zE();return{open:t=>e({type:"upgrade-tier",...t}),close:()=>t("upgrade-tier"),isOpen:n.has("upgrade-tier"),config:n.get("upgrade-tier")}}function HE(){const{openModal:e,closeModal:t,activeModals:n}=zE();return{open:(t={})=>e({type:"account-settings",...t}),close:()=>t("account-settings"),isOpen:n.has("account-settings"),config:n.get("account-settings")}}function $E(){const{openModal:e,closeModal:t,activeModals:n}=zE();return{open:()=>e({type:"account-settings",initialTab:"universal-key"}),close:()=>t("account-settings"),isOpen:n.has("account-settings"),config:n.get("account-settings")}}function UE(){const{openModal:e,closeModal:t,activeModals:n}=zE();return{open:(t={})=>e({type:"buy-credits",...t}),close:()=>t("buy-credits"),isOpen:n.has("buy-credits"),config:n.get("buy-credits")}}function VE(){const{openModal:e,closeModal:t,activeModals:n}=zE();return{open:(t={})=>e({type:"team-workspace",...t}),close:()=>t("team-workspace"),isOpen:n.has("team-workspace"),config:n.get("team-workspace")}}function WE(){var e;const t=VE();return{open:e=>{let n={organizationId:e.organizationId,organizationName:e.organizationName,mode:e.mode||"invite",backendEnabled:e.backendEnabled||!1};t.open(n)},close:()=>t.close(),isOpen:t.isOpen&&"invite"===(null==(e=t.config)?void 0:e.mode),config:t.config}}function qE(){const{openModal:e,closeModal:t,activeModals:n}=zE();return{open:(t={})=>e({type:"referral",...t}),close:()=>t("referral"),isOpen:n.has("referral"),config:n.get("referral")}}function GE(){const{openModal:e,closeModal:t,activeModals:n}=zE();return{open:t=>e({type:"data-details",...t}),close:()=>t("data-details"),isOpen:n.has("data-details"),config:n.get("data-details")}}function ZE(){const{openModal:e,closeModal:t,activeModals:n}=zE();return{open:(t={})=>e({type:"new-mcp-server",...t}),close:()=>t("new-mcp-server"),isOpen:n.has("new-mcp-server"),config:n.get("new-mcp-server")}}function YE(){const{openModal:e,closeModal:t,updateModal:n,activeModals:s}=zE();return{open:(t={})=>e({type:"mcp-tools",...t}),close:()=>t("mcp-tools"),update:e=>n("mcp-tools",e),isOpen:s.has("mcp-tools"),config:s.get("mcp-tools")}}const KE=()=>{const{openModal:e,closeModal:t,activeModals:n}=zE();return{open:t=>e({type:"share-preview",...t}),close:()=>t("share-preview"),isOpen:n.has("share-preview"),config:n.get("share-preview")}},JE=({size:e=16,color:t="#E8E8E6",className:s})=>n.jsx("svg",{width:e,height:e,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:s,children:n.jsx("path",{d:"M14 6.5C14 6.63261 13.9473 6.75979 13.8536 6.85355C13.7598 6.94732 13.6326 7 13.5 7C13.3674 7 13.2402 6.94732 13.1464 6.85355C13.0527 6.75979 13 6.63261 13 6.5V3.7075L8.85437 7.85375C8.76055 7.94757 8.63331 8.00028 8.50062 8.00028C8.36794 8.00028 8.2407 7.94757 8.14688 7.85375C8.05305 7.75993 8.00035 7.63268 8.00035 7.5C8.00035 7.36732 8.05305 7.24007 8.14688 7.14625L12.2925 3H9.5C9.36739 3 9.24021 2.94732 9.14645 2.85355C9.05268 2.75979 9 2.63261 9 2.5C9 2.36739 9.05268 2.24021 9.14645 2.14645C9.24021 2.05268 9.36739 2 9.5 2H13.5C13.6326 2 13.7598 2.05268 13.8536 2.14645C13.9473 2.24021 14 2.36739 14 2.5V6.5ZM11.5 8C11.3674 8 11.2402 8.05268 11.1464 8.14645C11.0527 8.24021 11 8.36739 11 8.5V13H3V5H7.5C7.63261 5 7.75979 4.94732 7.85355 4.85355C7.94732 4.75979 8 4.63261 8 4.5C8 4.36739 7.94732 4.24021 7.85355 4.14645C7.75979 4.05268 7.63261 4 7.5 4H3C2.73478 4 2.48043 4.10536 2.29289 4.29289C2.10536 4.48043 2 4.73478 2 5V13C2 13.2652 2.10536 13.5196 2.29289 13.7071C2.48043 13.8946 2.73478 14 3 14H11C11.2652 14 11.5196 13.8946 11.7071 13.7071C11.8946 13.5196 12 13.2652 12 13V8.5C12 8.36739 11.9473 8.24021 11.8536 8.14645C11.7598 8.05268 11.6326 8 11.5 8Z",fill:t,fillOpacity:"0.4"})}),QE=()=>{const[e,t]=De.useState(!1);return De.useEffect(()=>{const e=()=>{t(window.innerWidth<768)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),{isMobile:e}};function XE(e){return!!e&&(!e.includes("+")&&(e.endsWith("@emergentbase.com")||e.endsWith("@emergent.sh")))}function eI(){const{user:e}=Wg(),t=wt(e=>e.admin.isAdminMode);if(!e||!e.email)return!1;const n=XE(e.email);return!!t&&n}const tI=Pe.createContext({drawerRef:{current:null},overlayRef:{current:null},onPress:()=>{},onRelease:()=>{},onDrag:()=>{},onNestedDrag:()=>{},onNestedOpenChange:()=>{},onNestedRelease:()=>{},openProp:void 0,dismissible:!1,isOpen:!1,isDragging:!1,keyboardIsOpen:{current:!1},snapPointsOffset:null,snapPoints:null,handleOnly:!1,modal:!1,shouldFade:!1,activeSnapPoint:null,onOpenChange:()=>{},setActiveSnapPoint:()=>{},closeDrawer:()=>{},direction:"bottom",shouldAnimate:{current:!0},shouldScaleBackground:!1,setBackgroundColorOnScale:!0,noBodyStyles:!1,container:null,autoFocus:!1}),nI=()=>{const e=Pe.useContext(tI);if(!e)throw new Error("useDrawerContext must be used within a Drawer.Root");return e};function sI(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}function iI(){return rI(/^iPad/)||rI(/^Mac/)&&navigator.maxTouchPoints>1}function aI(){return rI(/^iPhone/)||iI()}function rI(e){return"undefined"!=typeof window&&null!=window.navigator?e.test(window.navigator.platform):void 0}!function(e){if("undefined"==typeof document)return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}("[data-vaul-drawer]{touch-action:none;will-change:transform;transition:transform .5s cubic-bezier(.32, .72, 0, 1);animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=open]{animation-name:slideFromBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=closed]{animation-name:slideToBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=open]{animation-name:slideFromTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=closed]{animation-name:slideToTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=open]{animation-name:slideFromLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=closed]{animation-name:slideToLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=open]{animation-name:slideFromRight}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=closed]{animation-name:slideToRight}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--initial-transform,100%),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--initial-transform,100%),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-overlay][data-vaul-snap-points=false]{animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-overlay][data-vaul-snap-points=false][data-state=open]{animation-name:fadeIn}[data-vaul-overlay][data-state=closed]{animation-name:fadeOut}[data-vaul-animate=false]{animation:none!important}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:0;transition:opacity .5s cubic-bezier(.32, .72, 0, 1)}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:1}[data-vaul-drawer]:not([data-vaul-custom-container=true])::after{content:'';position:absolute;background:inherit;background-color:inherit}[data-vaul-drawer][data-vaul-drawer-direction=top]::after{top:initial;bottom:100%;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=bottom]::after{top:100%;bottom:initial;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=left]::after{left:initial;right:100%;top:0;bottom:0;width:200%}[data-vaul-drawer][data-vaul-drawer-direction=right]::after{left:100%;right:initial;top:0;bottom:0;width:200%}[data-vaul-overlay][data-vaul-snap-points=true]:not([data-vaul-snap-points-overlay=true]):not(\n[data-state=closed]\n){opacity:0}[data-vaul-overlay][data-vaul-snap-points-overlay=true]{opacity:1}[data-vaul-handle]{display:block;position:relative;opacity:.7;background:#e2e2e4;margin-left:auto;margin-right:auto;height:5px;width:32px;border-radius:1rem;touch-action:pan-y}[data-vaul-handle]:active,[data-vaul-handle]:hover{opacity:1}[data-vaul-handle-hitarea]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:max(100%,2.75rem);height:max(100%,2.75rem);touch-action:inherit}@media (hover:hover) and (pointer:fine){[data-vaul-drawer]{user-select:none}}@media (pointer:fine){[data-vaul-handle-hitarea]:{width:100%;height:100%}}@keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes fadeOut{to{opacity:0}}@keyframes slideFromBottom{from{transform:translate3d(0,var(--initial-transform,100%),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToBottom{to{transform:translate3d(0,var(--initial-transform,100%),0)}}@keyframes slideFromTop{from{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToTop{to{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}}@keyframes slideFromLeft{from{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToLeft{to{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}}@keyframes slideFromRight{from{transform:translate3d(var(--initial-transform,100%),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToRight{to{transform:translate3d(var(--initial-transform,100%),0,0)}}");const oI="undefined"!=typeof window?De.useLayoutEffect:De.useEffect;function lI(...e){return(...t)=>{for(let n of e)"function"==typeof n&&n(...t)}}const cI="undefined"!=typeof document&&window.visualViewport;function dI(e){let t=window.getComputedStyle(e);return/(auto|scroll)/.test(t.overflow+t.overflowX+t.overflowY)}function uI(e){for(dI(e)&&(e=e.parentElement);e&&!dI(e);)e=e.parentElement;return e||document.scrollingElement||document.documentElement}const pI=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);let mI,hI=0;function xI(e={}){let{isDisabled:t}=e;oI(()=>{if(!t)return hI++,1===hI&&aI()&&(mI=function(){let e,t=0,n=n=>{e=uI(n.target),e===document.documentElement&&e===document.body||(t=n.changedTouches[0].pageY)},s=n=>{if(!e||e===document.documentElement||e===document.body)return void n.preventDefault();let s=n.changedTouches[0].pageY,i=e.scrollTop,a=e.scrollHeight-e.clientHeight;0!==a&&((i<=0&&s>t||i>=a&&s<t)&&n.preventDefault(),t=s)},i=e=>{let t=e.target;vI(t)&&t!==document.activeElement&&(e.preventDefault(),t.style.transform="translateY(-2000px)",t.focus(),requestAnimationFrame(()=>{t.style.transform=""}))},a=e=>{let t=e.target;vI(t)&&(t.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{t.style.transform="",cI&&(cI.height<window.innerHeight?requestAnimationFrame(()=>{gI(t)}):cI.addEventListener("resize",()=>gI(t),{once:!0}))}))},r=()=>{window.scrollTo(0,0)},o=window.pageXOffset,l=window.pageYOffset,c=lI(function(e,t,n){let s=e.style[t];return e.style[t]=n,()=>{e.style[t]=s}}(document.documentElement,"paddingRight",window.innerWidth-document.documentElement.clientWidth+"px"));window.scrollTo(0,0);let d=lI(fI(document,"touchstart",n,{passive:!1,capture:!0}),fI(document,"touchmove",s,{passive:!1,capture:!0}),fI(document,"touchend",i,{passive:!1,capture:!0}),fI(document,"focus",a,!0),fI(window,"scroll",r));return()=>{c(),d(),window.scrollTo(o,l)}}()),()=>{hI--,0===hI&&(null==mI||mI())}},[t])}function fI(e,t,n,s){return e.addEventListener(t,n,s),()=>{e.removeEventListener(t,n,s)}}function gI(e){let t=document.scrollingElement||document.documentElement;for(;e&&e!==t;){let t=uI(e);if(t!==document.documentElement&&t!==document.body&&t!==e){let n=t.getBoundingClientRect().top,s=e.getBoundingClientRect().top;e.getBoundingClientRect().bottom>t.getBoundingClientRect().bottom+24&&(t.scrollTop+=s-n)}e=t.parentElement}}function vI(e){return e instanceof HTMLInputElement&&!pI.has(e.type)||e instanceof HTMLTextAreaElement||e instanceof HTMLElement&&e.isContentEditable}function bI(...e){return De.useCallback(function(...e){return t=>e.forEach(e=>function(e,t){"function"==typeof e?e(t):null!=e&&(e.current=t)}(e,t))}(...e),e)}const yI=new WeakMap;function wI(e,t,n=!1){if(!(e&&e instanceof HTMLElement))return;let s={};Object.entries(t).forEach(([t,n])=>{t.startsWith("--")?e.style.setProperty(t,n):(s[t]=e.style[t],e.style[t]=n)}),n||yI.set(e,s)}const jI=e=>{switch(e){case"top":case"bottom":return!0;case"left":case"right":return!1;default:return e}};function CI(e,t){if(!e)return null;const n=window.getComputedStyle(e),s=n.transform||n.webkitTransform||n.mozTransform;let i=s.match(/^matrix3d\((.+)\)$/);return i?parseFloat(i[1].split(", ")[jI(t)?13:12]):(i=s.match(/^matrix\((.+)\)$/),i?parseFloat(i[1].split(", ")[jI(t)?5:4]):null)}function NI(e,t){if(!e)return()=>{};const n=e.style.cssText;return Object.assign(e.style,t),()=>{e.style.cssText=n}}const FI={DURATION:.5,EASE:[.32,.72,0,1]},_I=16,kI="vaul-dragging";function SI(e){const t=Pe.useRef(e);return Pe.useEffect(()=>{t.current=e}),Pe.useMemo(()=>(...e)=>null==t.current?void 0:t.current.call(t,...e),[])}function EI({prop:e,defaultProp:t,onChange:n=()=>{}}){const[s,i]=function({defaultProp:e,onChange:t}){const n=Pe.useState(e),[s]=n,i=Pe.useRef(s),a=SI(t);return Pe.useEffect(()=>{i.current!==s&&(a(s),i.current=s)},[s,i,a]),n}({defaultProp:t,onChange:n}),a=void 0!==e,r=a?e:s,o=SI(n);return[r,Pe.useCallback(t=>{if(a){const n="function"==typeof t?t(e):t;n!==e&&o(n)}else i(t)},[a,e,i,o])]}let II=null;const AI=Pe.forwardRef(function({...e},t){const{overlayRef:n,snapPoints:s,onRelease:i,shouldFade:a,isOpen:r,modal:o,shouldAnimate:l}=nI(),c=bI(t,n),d=s&&s.length>0;if(!o)return null;const u=Pe.useCallback(e=>i(e),[i]);return Pe.createElement(O,{onMouseUp:u,ref:c,"data-vaul-overlay":"","data-vaul-snap-points":r&&d?"true":"false","data-vaul-snap-points-overlay":r&&a?"true":"false","data-vaul-animate":(null==l?void 0:l.current)?"true":"false",...e})});AI.displayName="Drawer.Overlay";const TI=Pe.forwardRef(function({onPointerDownOutside:e,style:t,onOpenAutoFocus:n,...s},i){const{drawerRef:a,onPress:r,onRelease:o,onDrag:l,keyboardIsOpen:c,snapPointsOffset:d,activeSnapPointIndex:u,modal:p,isOpen:m,direction:h,snapPoints:x,container:f,handleOnly:g,shouldAnimate:v,autoFocus:b}=nI(),[y,w]=Pe.useState(!1),j=bI(i,a),C=Pe.useRef(null),N=Pe.useRef(null),F=Pe.useRef(!1),_=x&&x.length>0;!function(){const{direction:e,isOpen:t,shouldScaleBackground:n,setBackgroundColorOnScale:s,noBodyStyles:i}=nI(),a=Pe.useRef(null),r=De.useMemo(()=>document.body.style.backgroundColor,[]);function o(){return(window.innerWidth-26)/window.innerWidth}Pe.useEffect(()=>{if(t&&n){a.current&&clearTimeout(a.current);const t=document.querySelector("[data-vaul-drawer-wrapper]")||document.querySelector("[vaul-drawer-wrapper]");if(!t)return;s&&!i&&NI(document.body,{background:"black"}),NI(t,{transformOrigin:jI(e)?"top":"left",transitionProperty:"transform, border-radius",transitionDuration:`${FI.DURATION}s`,transitionTimingFunction:`cubic-bezier(${FI.EASE.join(",")})`});const n=NI(t,{borderRadius:"8px",overflow:"hidden",...jI(e)?{transform:`scale(${o()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`}:{transform:`scale(${o()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`}});return()=>{n(),a.current=window.setTimeout(()=>{r?document.body.style.background=r:document.body.style.removeProperty("background")},1e3*FI.DURATION)}}},[t,n,r])}();function k(e){C.current=null,F.current=!1,o(e)}return Pe.useEffect(()=>{_&&window.requestAnimationFrame(()=>{w(!0)})},[]),Pe.createElement(z,{"data-vaul-drawer-direction":h,"data-vaul-drawer":"","data-vaul-delayed-snap-points":y?"true":"false","data-vaul-snap-points":m&&_?"true":"false","data-vaul-custom-container":f?"true":"false","data-vaul-animate":(null==v?void 0:v.current)?"true":"false",...s,ref:j,style:d&&d.length>0?{"--snap-point-height":`${d[null!=u?u:0]}px`,...t}:t,onPointerDown:e=>{g||(null==s.onPointerDown||s.onPointerDown.call(s,e),C.current={x:e.pageX,y:e.pageY},r(e))},onOpenAutoFocus:e=>{null==n||n(e),b||e.preventDefault()},onPointerDownOutside:t=>{null==e||e(t),p&&!t.defaultPrevented?c.current&&(c.current=!1):t.preventDefault()},onFocusOutside:e=>{p||e.preventDefault()},onPointerMove:e=>{if(N.current=e,g)return;if(null==s.onPointerMove||s.onPointerMove.call(s,e),!C.current)return;const t=e.pageY-C.current.y,n=e.pageX-C.current.x,i="touch"===e.pointerType?10:2,a=((e,t,n=0)=>{if(F.current)return!0;const s=Math.abs(e.y),i=Math.abs(e.x),a=i>s,r=["bottom","right"].includes(t)?1:-1;if("left"===t||"right"===t){if(!(e.x*r<0)&&i>=0&&i<=n)return a}else if(!(e.y*r<0)&&s>=0&&s<=n)return!a;return F.current=!0,!0})({x:n,y:t},h,i);a?l(e):(Math.abs(n)>i||Math.abs(t)>i)&&(C.current=null)},onPointerUp:e=>{null==s.onPointerUp||s.onPointerUp.call(s,e),C.current=null,F.current=!1,o(e)},onPointerOut:e=>{null==s.onPointerOut||s.onPointerOut.call(s,e),k(N.current)},onContextMenu:e=>{null==s.onContextMenu||s.onContextMenu.call(s,e),N.current&&k(N.current)}})});TI.displayName="Drawer.Content";Pe.forwardRef(function({preventCycle:e=!1,children:t,...n},s){const{closeDrawer:i,isDragging:a,snapPoints:r,activeSnapPoint:o,setActiveSnapPoint:l,dismissible:c,handleOnly:d,isOpen:u,onPress:p,onDrag:m}=nI(),h=Pe.useRef(null),x=Pe.useRef(!1);function f(){h.current&&window.clearTimeout(h.current),x.current=!1}return Pe.createElement("div",{onClick:function(){x.current?f():window.setTimeout(()=>{!function(){if(a||e||x.current)return void f();if(f(),!r||0===r.length)return void(c||i());if(o===r[r.length-1]&&c)return void i();const t=r.findIndex(e=>e===o);if(-1===t)return;const n=r[t+1];l(n)}()},120)},onPointerCancel:f,onPointerDown:e=>{d&&p(e),h.current=window.setTimeout(()=>{x.current=!0},250)},onPointerMove:e=>{d&&m(e)},ref:s,"data-vaul-drawer-visible":u?"true":"false","data-vaul-handle":"","aria-hidden":"true",...n},Pe.createElement("span",{"data-vaul-handle-hitarea":"","aria-hidden":"true"},t))}).displayName="Drawer.Handle";const DI={Root:function({open:e,onOpenChange:t,children:n,onDrag:s,onRelease:i,snapPoints:a,shouldScaleBackground:r=!1,setBackgroundColorOnScale:o=!0,closeThreshold:l=.25,scrollLockTimeout:c=100,dismissible:d=!0,handleOnly:u=!1,fadeFromIndex:p=a&&a.length-1,activeSnapPoint:m,setActiveSnapPoint:h,fixed:x,modal:f=!0,onClose:g,nested:v,noBodyStyles:b=!1,direction:y="bottom",defaultOpen:w=!1,disablePreventScroll:j=!0,snapToSequentialPoint:C=!1,preventScrollRestoration:N=!1,repositionInputs:F=!0,onAnimationEnd:_,container:k,autoFocus:S=!1}){var E,I;const[A=!1,T]=EI({defaultProp:w,prop:e,onChange:e=>{null==t||t(e),e||v||de(),setTimeout(()=>{null==_||_(e)},1e3*FI.DURATION),e&&!f&&"undefined"!=typeof window&&window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"}),e||(document.body.style.pointerEvents="auto")}}),[D,M]=Pe.useState(!1),[L,P]=Pe.useState(!1),[R,O]=Pe.useState(!1),z=Pe.useRef(null),B=Pe.useRef(null),H=Pe.useRef(null),$=Pe.useRef(null),U=Pe.useRef(null),W=Pe.useRef(!1),q=Pe.useRef(null),G=Pe.useRef(0),Z=Pe.useRef(!1),Y=Pe.useRef(!w),K=Pe.useRef(0),J=Pe.useRef(null),Q=Pe.useRef((null==(E=J.current)?void 0:E.getBoundingClientRect().height)||0),X=Pe.useRef((null==(I=J.current)?void 0:I.getBoundingClientRect().width)||0),ee=Pe.useRef(0),te=Pe.useCallback(e=>{a&&e===re.length-1&&(B.current=new Date)},[]),{activeSnapPoint:ne,activeSnapPointIndex:se,setActiveSnapPoint:ie,onRelease:ae,snapPointsOffset:re,onDrag:oe,shouldFade:le,getPercentageDragged:ce}=function({activeSnapPointProp:e,setActiveSnapPointProp:t,snapPoints:n,drawerRef:s,overlayRef:i,fadeFromIndex:a,onSnapPointChange:r,direction:o="bottom",container:l,snapToSequentialPoint:c}){const[d,u]=EI({prop:e,defaultProp:null==n?void 0:n[0],onChange:t}),[p,m]=Pe.useState("undefined"!=typeof window?{innerWidth:window.innerWidth,innerHeight:window.innerHeight}:void 0);Pe.useEffect(()=>{function e(){m({innerWidth:window.innerWidth,innerHeight:window.innerHeight})}return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);const h=Pe.useMemo(()=>d===(null==n?void 0:n[n.length-1])||null,[n,d]),x=Pe.useMemo(()=>{var e;return null!=(e=null==n?void 0:n.findIndex(e=>e===d))?e:null},[n,d]),f=n&&n.length>0&&(a||0===a)&&!Number.isNaN(a)&&n[a]===d||!n,g=Pe.useMemo(()=>{const e=l?{width:l.getBoundingClientRect().width,height:l.getBoundingClientRect().height}:"undefined"!=typeof window?{width:window.innerWidth,height:window.innerHeight}:{width:0,height:0};var t;return null!=(t=null==n?void 0:n.map(t=>{const n="string"==typeof t;let s=0;if(n&&(s=parseInt(t,10)),jI(o)){const i=n?s:p?t*e.height:0;return p?"bottom"===o?e.height-i:-e.height+i:i}const i=n?s:p?t*e.width:0;return p?"right"===o?e.width-i:-e.width+i:i}))?t:[]},[n,p,l]),v=Pe.useMemo(()=>null!==x?null==g?void 0:g[x]:null,[g,x]),b=Pe.useCallback(e=>{var t;const l=null!=(t=null==g?void 0:g.findIndex(t=>t===e))?t:null;r(l),wI(s.current,{transition:`transform ${FI.DURATION}s cubic-bezier(${FI.EASE.join(",")})`,transform:jI(o)?`translate3d(0, ${e}px, 0)`:`translate3d(${e}px, 0, 0)`}),g&&l!==g.length-1&&void 0!==a&&l!==a&&l<a?wI(i.current,{transition:`opacity ${FI.DURATION}s cubic-bezier(${FI.EASE.join(",")})`,opacity:"0"}):wI(i.current,{transition:`opacity ${FI.DURATION}s cubic-bezier(${FI.EASE.join(",")})`,opacity:"1"}),u(null==n?void 0:n[Math.max(l,0)])},[s.current,n,g,a,i,u]);return Pe.useEffect(()=>{if(d||e){var t;const s=null!=(t=null==n?void 0:n.findIndex(t=>t===e||t===d))?t:-1;g&&-1!==s&&"number"==typeof g[s]&&b(g[s])}},[d,e,n,g,b]),{isLastSnapPoint:h,activeSnapPoint:d,shouldFade:f,getPercentageDragged:function(e,t){if(!n||"number"!=typeof x||!g||void 0===a)return null;const s=x===a-1;if(x>=a&&t)return 0;if(s&&!t)return 1;if(!f&&!s)return null;const i=s?x+1:x-1,r=s?g[i]-g[i-1]:g[i+1]-g[i],o=e/Math.abs(r);return s?1-o:o},setActiveSnapPoint:u,activeSnapPointIndex:x,onRelease:function({draggedDistance:e,closeDrawer:t,velocity:s,dismissible:r}){if(void 0===a)return;const l="bottom"===o||"right"===o?(null!=v?v:0)-e:(null!=v?v:0)+e,d=0===x,u=e>0;if(x===a-1&&wI(i.current,{transition:`opacity ${FI.DURATION}s cubic-bezier(${FI.EASE.join(",")})`}),!c&&s>2&&!u)return void(r?t():b(g[0]));if(!c&&s>2&&u&&g&&n)return void b(g[n.length-1]);const p=null==g?void 0:g.reduce((e,t)=>"number"!=typeof e||"number"!=typeof t?e:Math.abs(t-l)<Math.abs(e-l)?t:e),m=jI(o)?window.innerHeight:window.innerWidth;if(s>.4&&Math.abs(e)<.4*m){const e=u?1:-1;if(e>0&&h&&n)return void b(g[n.length-1]);if(d&&e<0&&r&&t(),null===x)return;return void b(g[x+e])}b(p)},onDrag:function({draggedDistance:e}){if(null===v)return;const t="bottom"===o||"right"===o?v-e:v+e;("bottom"===o||"right"===o)&&t<g[g.length-1]||("top"===o||"left"===o)&&t>g[g.length-1]||wI(s.current,{transform:jI(o)?`translate3d(0, ${t}px, 0)`:`translate3d(${t}px, 0, 0)`})},snapPointsOffset:g}}({snapPoints:a,activeSnapPointProp:m,setActiveSnapPointProp:h,drawerRef:J,fadeFromIndex:p,overlayRef:z,onSnapPointChange:te,direction:y,container:k,snapToSequentialPoint:C});xI({isDisabled:!A||L||!f||R||!D||!F||!j});const{restorePositionSetting:de}=function({isOpen:e,modal:t,nested:n,hasBeenOpened:s,preventScrollRestoration:i,noBodyStyles:a}){const[r,o]=Pe.useState(()=>"undefined"!=typeof window?window.location.href:""),l=Pe.useRef(0),c=Pe.useCallback(()=>{if(sI()&&null===II&&e&&!a){II={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left,height:document.body.style.height,right:"unset"};const{scrollX:e,innerHeight:t}=window;document.body.style.setProperty("position","fixed","important"),Object.assign(document.body.style,{top:-l.current+"px",left:-e+"px",right:"0px",height:"auto"}),window.setTimeout(()=>window.requestAnimationFrame(()=>{const e=t-window.innerHeight;e&&l.current>=t&&(document.body.style.top=-(l.current+e)+"px")}),300)}},[e]),d=Pe.useCallback(()=>{if(sI()&&null!==II&&!a){const e=-parseInt(document.body.style.top,10),t=-parseInt(document.body.style.left,10);Object.assign(document.body.style,II),window.requestAnimationFrame(()=>{i&&r!==window.location.href?o(window.location.href):window.scrollTo(t,e)}),II=null}},[r]);return Pe.useEffect(()=>{function e(){l.current=window.scrollY}return e(),window.addEventListener("scroll",e),()=>{window.removeEventListener("scroll",e)}},[]),Pe.useEffect(()=>{if(t)return()=>{"undefined"!=typeof document&&(document.querySelector("[data-vaul-drawer]")||d())}},[t,d]),Pe.useEffect(()=>{!n&&s&&(e?(!window.matchMedia("(display-mode: standalone)").matches&&c(),t||window.setTimeout(()=>{d()},500)):d())},[e,s,r,t,n,c,d]),{restorePositionSetting:d}}({isOpen:A,modal:f,nested:null!=v&&v,hasBeenOpened:D,preventScrollRestoration:N,noBodyStyles:b});function ue(){return(window.innerWidth-26)/window.innerWidth}function pe(e,t){var n;let s=e;const i=null==(n=window.getSelection())?void 0:n.toString(),a=J.current?CI(J.current,y):null,r=new Date;if("SELECT"===s.tagName)return!1;if(s.hasAttribute("data-vaul-no-drag")||s.closest("[data-vaul-no-drag]"))return!1;if("right"===y||"left"===y)return!0;if(B.current&&r.getTime()-B.current.getTime()<500)return!1;if(null!==a&&("bottom"===y?a>0:a<0))return!0;if(i&&i.length>0)return!1;if(U.current&&r.getTime()-U.current.getTime()<c&&0===a)return U.current=r,!1;if(t)return U.current=r,!1;for(;s;){if(s.scrollHeight>s.clientHeight){if(0!==s.scrollTop)return U.current=new Date,!1;if("dialog"===s.getAttribute("role"))return!0}s=s.parentNode}return!0}function me(e){!function(){if(!L||!J.current)return;J.current.classList.remove(kI),W.current=!1,P(!1),$.current=new Date}(),null==g||g(),e||T(!1),setTimeout(()=>{a&&ie(a[0])},1e3*FI.DURATION)}function he(){if(!J.current)return;const e=document.querySelector("[data-vaul-drawer-wrapper]"),t=CI(J.current,y);wI(J.current,{transform:"translate3d(0, 0, 0)",transition:`transform ${FI.DURATION}s cubic-bezier(${FI.EASE.join(",")})`}),wI(z.current,{transition:`opacity ${FI.DURATION}s cubic-bezier(${FI.EASE.join(",")})`,opacity:"1"}),r&&t&&t>0&&A&&wI(e,{borderRadius:"8px",overflow:"hidden",...jI(y)?{transform:`scale(${ue()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`,transformOrigin:"top"}:{transform:`scale(${ue()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`,transformOrigin:"left"},transitionProperty:"transform, border-radius",transitionDuration:`${FI.DURATION}s`,transitionTimingFunction:`cubic-bezier(${FI.EASE.join(",")})`},!0)}return Pe.useEffect(()=>{window.requestAnimationFrame(()=>{Y.current=!0})},[]),Pe.useEffect(()=>{var e;function t(){if(!J.current||!F)return;if(vI(document.activeElement)||Z.current){var e;const t=(null==(e=window.visualViewport)?void 0:e.height)||0,n=window.innerHeight;let s=n-t;const i=J.current.getBoundingClientRect().height||0,r=i>.8*n;ee.current||(ee.current=i);const o=J.current.getBoundingClientRect().top;if(Math.abs(K.current-s)>60&&(Z.current=!Z.current),a&&a.length>0&&re&&se){s+=re[se]||0}if(K.current=s,i>t||Z.current){const e=J.current.getBoundingClientRect().height;let n=e;e>t&&(n=t-(r?o:26)),J.current.style.height=x?e-Math.max(s,0)+"px":`${Math.max(n,t-o)}px`}else(function(){const e=navigator.userAgent;return"undefined"!=typeof window&&(/Firefox/.test(e)&&/Mobile/.test(e)||/FxiOS/.test(e))})()||(J.current.style.height=`${ee.current}px`);a&&a.length>0&&!Z.current?J.current.style.bottom="0px":J.current.style.bottom=`${Math.max(s,0)}px`}}return null==(e=window.visualViewport)||e.addEventListener("resize",t),()=>{var e;return null==(e=window.visualViewport)?void 0:e.removeEventListener("resize",t)}},[se,a,re]),Pe.useEffect(()=>(A&&(wI(document.documentElement,{scrollBehavior:"auto"}),B.current=new Date),()=>{!function(e,t){if(!(e&&e instanceof HTMLElement))return;let n=yI.get(e);n&&(e.style[t]=n[t])}(document.documentElement,"scrollBehavior")}),[A]),Pe.useEffect(()=>{f||window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"})},[f]),Pe.createElement(V,{defaultOpen:w,onOpenChange:e=>{(d||e)&&(e?M(!0):me(!0),T(e))},open:A},Pe.createElement(tI.Provider,{value:{activeSnapPoint:ne,snapPoints:a,setActiveSnapPoint:ie,drawerRef:J,overlayRef:z,onOpenChange:t,onPress:function(e){var t,n;(d||a)&&(J.current&&!J.current.contains(e.target)||(Q.current=(null==(t=J.current)?void 0:t.getBoundingClientRect().height)||0,X.current=(null==(n=J.current)?void 0:n.getBoundingClientRect().width)||0,P(!0),H.current=new Date,aI()&&window.addEventListener("touchend",()=>W.current=!1,{once:!0}),e.target.setPointerCapture(e.pointerId),G.current=jI(y)?e.pageY:e.pageX))},onRelease:function(e){if(!L||!J.current)return;J.current.classList.remove(kI),W.current=!1,P(!1),$.current=new Date;const t=CI(J.current,y);if(!e||!pe(e.target,!1)||!t||Number.isNaN(t))return;if(null===H.current)return;const n=$.current.getTime()-H.current.getTime(),s=G.current-(jI(y)?e.pageY:e.pageX),r=Math.abs(s)/n;if(r>.05&&(O(!0),setTimeout(()=>{O(!1)},200)),a){return ae({draggedDistance:s*("bottom"===y||"right"===y?1:-1),closeDrawer:me,velocity:r,dismissible:d}),void(null==i||i(e,!0))}if("bottom"===y||"right"===y?s>0:s<0)return he(),void(null==i||i(e,!0));if(r>.4)return me(),void(null==i||i(e,!1));var o;const c=Math.min(null!=(o=J.current.getBoundingClientRect().height)?o:0,window.innerHeight);var u;const p=Math.min(null!=(u=J.current.getBoundingClientRect().width)?u:0,window.innerWidth),m="left"===y||"right"===y;if(Math.abs(t)>=(m?p:c)*l)return me(),void(null==i||i(e,!1));null==i||i(e,!0),he()},onDrag:function(e){var t;if(J.current&&L){const n="bottom"===y||"right"===y?1:-1,i=(G.current-(jI(y)?e.pageY:e.pageX))*n,o=i>0,l=a&&!d&&!o;if(l&&0===se)return;const c=Math.abs(i),u=document.querySelector("[data-vaul-drawer-wrapper]");let m=c/("bottom"===y||"top"===y?Q.current:X.current);const h=ce(c,o);if(null!==h&&(m=h),l&&m>=1)return;if(!W.current&&!pe(e.target,o))return;if(J.current.classList.add(kI),W.current=!0,wI(J.current,{transition:"none"}),wI(z.current,{transition:"none"}),a&&oe({draggedDistance:i}),o&&!a){const e=(t=i,8*(Math.log(t+1)-2)),s=Math.min(-1*e,0)*n;return void wI(J.current,{transform:jI(y)?`translate3d(0, ${s}px, 0)`:`translate3d(${s}px, 0, 0)`})}const x=1-m;if((le||p&&se===p-1)&&(null==s||s(e,m),wI(z.current,{opacity:`${x}`,transition:"none"},!0)),u&&z.current&&r){const e=Math.min(ue()+m*(1-ue()),1),t=8-8*m,n=Math.max(0,14-14*m);wI(u,{borderRadius:`${t}px`,transform:jI(y)?`scale(${e}) translate3d(0, ${n}px, 0)`:`scale(${e}) translate3d(${n}px, 0, 0)`,transition:"none"},!0)}if(!a){const e=c*n;wI(J.current,{transform:jI(y)?`translate3d(0, ${e}px, 0)`:`translate3d(${e}px, 0, 0)`})}}},dismissible:d,shouldAnimate:Y,handleOnly:u,isOpen:A,isDragging:L,shouldFade:le,closeDrawer:me,onNestedDrag:function(e,t){if(t<0)return;const n=(window.innerWidth-_I)/window.innerWidth,s=n+t*(1-n),i=t*_I-16;wI(J.current,{transform:jI(y)?`scale(${s}) translate3d(0, ${i}px, 0)`:`scale(${s}) translate3d(${i}px, 0, 0)`,transition:"none"})},onNestedOpenChange:function(e){const t=e?(window.innerWidth-_I)/window.innerWidth:1,n=e?-16:0;q.current&&window.clearTimeout(q.current),wI(J.current,{transition:`transform ${FI.DURATION}s cubic-bezier(${FI.EASE.join(",")})`,transform:jI(y)?`scale(${t}) translate3d(0, ${n}px, 0)`:`scale(${t}) translate3d(${n}px, 0, 0)`}),!e&&J.current&&(q.current=setTimeout(()=>{const e=CI(J.current,y);wI(J.current,{transition:"none",transform:jI(y)?`translate3d(0, ${e}px, 0)`:`translate3d(${e}px, 0, 0)`})},500))},onNestedRelease:function(e,t){const n=jI(y)?window.innerHeight:window.innerWidth,s=t?(n-_I)/n:1,i=t?-16:0;t&&wI(J.current,{transition:`transform ${FI.DURATION}s cubic-bezier(${FI.EASE.join(",")})`,transform:jI(y)?`scale(${s}) translate3d(0, ${i}px, 0)`:`scale(${s}) translate3d(${i}px, 0, 0)`})},keyboardIsOpen:Z,modal:f,snapPointsOffset:re,activeSnapPointIndex:se,direction:y,shouldScaleBackground:r,setBackgroundColorOnScale:o,noBodyStyles:b,container:k,autoFocus:S}},n))},Content:TI,Overlay:AI,Trigger:B,Portal:function(e){const t=nI(),{container:n=t.container,...s}=e;return Pe.createElement(W,{container:n,...s})},Close:U,Title:H,Description:$};function MI({...e}){return n.jsx(DI.Root,{"data-slot":"drawer",...e})}function LI({...e}){return n.jsx(DI.Trigger,{"data-slot":"drawer-trigger",...e})}function PI({...e}){return n.jsx(DI.Portal,{"data-slot":"drawer-portal",...e})}function RI({...e}){return n.jsx(DI.Close,{"data-slot":"drawer-close",...e})}function OI({className:e,...t}){return n.jsx(DI.Overlay,{"data-slot":"drawer-overlay",className:fb("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/60",e),...t})}function zI({className:e,children:t,handleColor:s="bg-[#252525]/15",...i}){return n.jsxs(PI,{"data-slot":"drawer-portal",children:[n.jsx(OI,{}),n.jsx(DI.Content,{"data-slot":"drawer-content",className:fb("group/drawer-content bg-background fixed z-50 flex h-auto flex-col","data-[vaul-drawer-direction=top]:inset-x-0 data-[vaul-drawer-direction=top]:top-0 data-[vaul-drawer-direction=top]:mb-24 data-[vaul-drawer-direction=top]:max-h-[99vh] data-[vaul-drawer-direction=top]:rounded-b-lg data-[vaul-drawer-direction=top]:border-b","data-[vaul-drawer-direction=bottom]:inset-x-0 data-[vaul-drawer-direction=bottom]:bottom-0 data-[vaul-drawer-direction=bottom]:mt-24 data-[vaul-drawer-direction=bottom]:max-h-[99vh] data-[vaul-drawer-direction=bottom]:rounded-t-2xl data-[vaul-drawer-direction=bottom]:border-none data-[vaul-drawer-direction=bottom]:bg-transparent","data-[vaul-drawer-direction=right]:inset-y-0 data-[vaul-drawer-direction=right]:right-0 data-[vaul-drawer-direction=right]:w-3/4 data-[vaul-drawer-direction=right]:border-l data-[vaul-drawer-direction=right]:sm:max-w-sm","data-[vaul-drawer-direction=left]:inset-y-0 data-[vaul-drawer-direction=left]:left-0 data-[vaul-drawer-direction=left]:w-3/4 data-[vaul-drawer-direction=left]:border-r data-[vaul-drawer-direction=left]:sm:max-w-sm",e),...i,children:n.jsxs("div",{className:"relative flex justify-center",children:[n.jsx("div",{className:fb(["mx-auto absolute top-5 z-50 h-1 w-[44px] shrink-0 rounded-full group-data-[vaul-drawer-direction=bottom]/drawer-content:block",s])}),t]})})]})}function BI({className:e,...t}){return n.jsx("div",{"data-slot":"drawer-header",className:fb("flex flex-col gap-0.5 p-4 group-data-[vaul-drawer-direction=bottom]/drawer-content:text-center group-data-[vaul-drawer-direction=top]/drawer-content:text-center md:gap-1.5 md:text-left",e),...t})}function HI({className:e,...t}){return n.jsx("div",{"data-slot":"drawer-footer",className:fb("mt-auto flex flex-col gap-2 p-4",e),...t})}function $I({className:e,...t}){return n.jsx(DI.Title,{"data-slot":"drawer-title",className:fb("text-foreground font-semibold",e),...t})}function UI({className:e,...t}){return n.jsx(DI.Description,{"data-slot":"drawer-description",className:fb("text-muted-foreground text-sm",e),...t})}function VI({trigger:e,title:t,description:s,children:i,footer:a,open:r,onOpenChange:o,maxWidth:l="max-w-sm",contentPadding:c="p-3",showDefaultFooter:d=!0,handleColor:u="bg-[#252525]/15",onSubmit:p,onCancel:m,submitText:h="Submit",cancelText:x="Cancel",submitDisabled:f=!1,customerHeader:g,triggerColor:v,showCancel:b=!1}){return n.jsxs(MI,{open:r,onOpenChange:o,children:[n.jsx(LI,{asChild:!0,children:e}),n.jsx(zI,{handleColor:u,children:n.jsxs("div",{className:`mx-auto w-full bg-[#111112] border border-[#333333] rounded-t-[24px] ${l}`,children:[g,(t||s)&&n.jsxs(BI,{children:[t&&n.jsx($I,{children:t}),s&&n.jsx(UI,{children:s}),b&&n.jsx("button",{type:"button",title:"Close",onClick:()=>{null==m||m()},className:"absolute flex items-center justify-center w-8 h-8 p-1 rounded-full top-3 right-4 bg-white/5 hover:bg-white/10",children:n.jsx(RS,{className:"w-5 h-5"})})]}),n.jsx("div",{className:fb("pb-0",c),children:i}),(a||d)&&n.jsx(HI,{className:"bg-[#111112]",children:a||n.jsxs(n.Fragment,{children:[n.jsx(wb,{onClick:()=>{null==p||p()},disabled:f,children:h}),n.jsx(RI,{asChild:!0,children:n.jsx(wb,{variant:"outline",onClick:()=>{null==m||m()},children:x})})]})})]})})]})}const WI=({checked:e,onCheckedChange:t,disabled:s=!1,className:i="",checkedColor:a="#29BCCC"})=>n.jsx("button",{title:"Toggle Key Status",type:"button",role:"switch","aria-checked":e?"true":"false",disabled:s,onClick:n=>{n.stopPropagation(),!s&&t(!e)},className:`relative inline-flex h-8 w-14 items-center rounded-full transition-colors focus:outline-none disabled:opacity-50 disabled:cursor-not-allowed ${i}`,style:{backgroundColor:e?a:"#131314"},children:n.jsx(Pt.div,{className:"relative",animate:{x:e?28:4},transition:{type:"spring",stiffness:500,damping:30},children:n.jsxs("div",{className:"relative w-6 h-6",children:[n.jsx("div",{className:"absolute inset-0 rounded-full",style:{background:"rgba(255, 255, 255, 0.05)"}}),n.jsx("div",{className:"absolute inset-0 rounded-full",style:{background:"\n                linear-gradient(180deg, #242528 0%, #111113 100%),\n                linear-gradient(180deg, rgba(255, 255, 255, 0) 0%, rgba(255, 255, 255, 0.2) 100%)\n              ",filter:"\n                drop-shadow(0px 0.85px 2.12px rgba(0, 0, 0, 0.36))\n                drop-shadow(0px 3.6px 3.6px rgba(0, 0, 0, 0.31))\n                drop-shadow(0px 8.27px 5.09px rgba(0, 0, 0, 0.18))\n                drop-shadow(0px 14.84px 5.93px rgba(0, 0, 0, 0.05))\n                drop-shadow(0px 23.1px 6.57px rgba(0, 0, 0, 0.01))\n              "}}),n.jsx("div",{className:"absolute inset-0 rounded-full",style:{background:"\n                radial-gradient(circle at center,\n                  rgba(255, 255, 255, 0.1) 0%,\n                  rgba(255, 255, 255, 0.03) 50%,\n                  transparent 100%\n                )\n              ",boxShadow:"\n                inset 0px 1.48px 2.97px rgba(255, 255, 255, 0.03),\n                inset 0px 1.27px 0.85px rgba(255, 255, 255, 0.02),\n                inset 0px 0.21px 0.21px rgba(255, 255, 255, 0.1)\n              "}})]})})}),qI=({size:e=24,color:t="#CCCCCC",className:s=""})=>n.jsx("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:s,children:n.jsx("path",{d:"M5.74011 12.8965C5.28525 12.3384 5.31804 11.5154 5.83817 10.9953L13.4172 3.4163L13.5254 3.31823C14.0836 2.86338 14.9065 2.89617 15.4267 3.4163C15.9468 3.93643 15.9796 4.75938 15.5247 5.31753L15.4267 5.42577L8.85238 12L15.4267 18.5743C15.9816 19.1293 15.9816 20.0288 15.4267 20.5838C14.8717 21.1387 13.9721 21.1387 13.4172 20.5838L5.83817 13.0048L5.74011 12.8965Z",fill:t})}),GI=({size:e=24,color:t="#C4C4CC",className:s=""})=>n.jsx("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:s,style:{width:e,height:e},children:n.jsx("path",{d:"M14.5 4.9999C13.9696 4.9999 13.4609 5.21061 13.0858 5.58568C12.7107 5.96076 12.5 6.46946 12.5 6.9999C12.5 7.53033 12.7107 8.03904 13.0858 8.41411C13.4609 8.78918 13.9696 8.9999 14.5 8.9999C15.0304 8.9999 15.5391 8.78918 15.9142 8.41411C16.2893 8.03904 16.5 7.53033 16.5 6.9999C16.5 6.46946 16.2893 5.96076 15.9142 5.58568C15.5391 5.21061 15.0304 4.9999 14.5 4.9999ZM10.626 5.9999C10.8484 5.14166 11.3496 4.38158 12.0507 3.83897C12.7519 3.29636 13.6134 3.00195 14.5 3.00195C15.3866 3.00195 16.2481 3.29636 16.9493 3.83897C17.6504 4.38158 18.1516 5.14166 18.374 5.9999H20C20.2652 5.9999 20.5196 6.10525 20.7071 6.29279C20.8946 6.48033 21 6.73468 21 6.9999C21 7.26511 20.8946 7.51947 20.7071 7.707C20.5196 7.89454 20.2652 7.9999 20 7.9999H18.374C18.1516 8.85814 17.6504 9.61822 16.9493 10.1608C16.2481 10.7034 15.3866 10.9978 14.5 10.9978C13.6134 10.9978 12.7519 10.7034 12.0507 10.1608C11.3496 9.61822 10.8484 8.85814 10.626 7.9999H4C3.73478 7.9999 3.48043 7.89454 3.29289 7.707C3.10536 7.51947 3 7.26511 3 6.9999C3 6.73468 3.10536 6.48033 3.29289 6.29279C3.48043 6.10525 3.73478 5.9999 4 5.9999H10.626ZM9.5 14.9999C8.96957 14.9999 8.46086 15.2106 8.08579 15.5857C7.71071 15.9608 7.5 16.4695 7.5 16.9999C7.5 17.5303 7.71071 18.039 8.08579 18.4141C8.46086 18.7892 8.96957 18.9999 9.5 18.9999C10.0304 18.9999 10.5391 18.7892 10.9142 18.4141C11.2893 18.039 11.5 17.5303 11.5 16.9999C11.5 16.4695 11.2893 15.9608 10.9142 15.5857C10.5391 15.2106 10.0304 14.9999 9.5 14.9999ZM5.626 15.9999C5.84844 15.1417 6.34957 14.3816 7.05074 13.839C7.7519 13.2964 8.6134 13.002 9.5 13.002C10.3866 13.002 11.2481 13.2964 11.9493 13.839C12.6504 14.3816 13.1516 15.1417 13.374 15.9999H20C20.2652 15.9999 20.5196 16.1053 20.7071 16.2928C20.8946 16.4803 21 16.7347 21 16.9999C21 17.2651 20.8946 17.5195 20.7071 17.707C20.5196 17.8945 20.2652 17.9999 20 17.9999H13.374C13.1516 18.8581 12.6504 19.6182 11.9493 20.1608C11.2481 20.7034 10.3866 20.9978 9.5 20.9978C8.6134 20.9978 7.7519 20.7034 7.05074 20.1608C6.34957 19.6182 5.84844 18.8581 5.626 17.9999H4C3.73478 17.9999 3.48043 17.8945 3.29289 17.707C3.10536 17.5195 3 17.2651 3 16.9999C3 16.7347 3.10536 16.4803 3.29289 16.2928C3.48043 16.1053 3.73478 15.9999 4 15.9999H5.626Z",fill:t})}),ZI=({size:e=20,className:t="",gradientId:s="mcp-gradient"})=>{const i=`${s}-clip`;return n.jsxs("svg",{width:e,height:e,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:t,style:{width:`${e}px`,height:`${e}px`},children:[n.jsx("g",{clipPath:`url(#${i})`,children:n.jsx("path",{d:"M18.667 4.33105H20V15.665H18.667V16.998H1.33301V15.665H0V4.33105H1.33301V2.99805H18.667V4.33105ZM2 7.33203V12.665H3.66699V8.99902H4.33301V12.665H5.66602V8.99902H6.33301V12.665H8V7.33203H2ZM9 7.33203V12.665H13V10.999H10.667V8.99902H13V7.33203H9ZM14 7.33203V12.665H15.667V10.999H18.333V7.33203H14ZM16.667 8.66504V9.66504H15.667V8.66504H16.667Z",fill:`url(#${s})`})}),n.jsxs("defs",{children:[n.jsxs("linearGradient",{id:s,x1:"1.75",y1:"0.548044",x2:"8.73257",y2:"20.107",gradientUnits:"userSpaceOnUse",children:[n.jsx("stop",{stopColor:"#FFF4DF"}),n.jsx("stop",{offset:"1",stopColor:"#F49B57"})]}),n.jsx("clipPath",{id:i,children:n.jsx("rect",{width:"20",height:"20",fill:"white"})})]})]})},YI=({className:e="",color:t="#E6E6E6",size:s=20,style:i})=>n.jsxs("svg",{width:s,height:s,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,style:i,children:[n.jsx("mask",{id:`mask0_3584_37997_${Math.random()}`,style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"20",height:"20",children:n.jsx("rect",{width:"20",height:"20",fill:"#D9D9D9"})}),n.jsx("g",{mask:`url(#mask0_3584_37997_${Math.random()})`,children:n.jsx("path",{d:"M9.99935 18.3327C8.86046 18.3327 7.78407 18.1139 6.77018 17.6764C5.75629 17.2389 4.87088 16.6417 4.11393 15.8848C3.35699 15.1278 2.75977 14.2424 2.32227 13.2285C1.88477 12.2146 1.66602 11.1382 1.66602 9.99935C1.66602 8.84657 1.88477 7.76671 2.32227 6.75977C2.75977 5.75282 3.35699 4.87088 4.11393 4.11393C4.87088 3.35699 5.75629 2.75977 6.77018 2.32227C7.78407 1.88477 8.86046 1.66602 9.99935 1.66602C11.1521 1.66602 12.232 1.88477 13.2389 2.32227C14.2459 2.75977 15.1278 3.35699 15.8848 4.11393C16.6417 4.87088 17.2389 5.75282 17.6764 6.75977C18.1139 7.76671 18.3327 8.84657 18.3327 9.99935C18.3327 11.1382 18.1139 12.2146 17.6764 13.2285C17.2389 14.2424 16.6417 15.1278 15.8848 15.8848C15.1278 16.6417 14.2459 17.2389 13.2389 17.6764C12.232 18.1139 11.1521 18.3327 9.99935 18.3327ZM9.99935 16.6243C10.3605 16.1243 10.673 15.6035 10.9368 15.0618C11.2007 14.5202 11.416 13.9438 11.5827 13.3327H8.41602C8.58268 13.9438 8.79796 14.5202 9.06185 15.0618C9.32574 15.6035 9.63824 16.1243 9.99935 16.6243ZM7.83268 16.291C7.58268 15.8327 7.36393 15.357 7.17643 14.8639C6.98893 14.3709 6.83268 13.8605 6.70768 13.3327H4.24935C4.65213 14.0271 5.1556 14.6313 5.75977 15.1452C6.36393 15.6591 7.0549 16.041 7.83268 16.291ZM12.166 16.291C12.9438 16.041 13.6348 15.6591 14.2389 15.1452C14.8431 14.6313 15.3466 14.0271 15.7493 13.3327H13.291C13.166 13.8605 13.0098 14.3709 12.8223 14.8639C12.6348 15.357 12.416 15.8327 12.166 16.291ZM3.54102 11.666H6.37435C6.33268 11.3882 6.30143 11.1139 6.2806 10.8431C6.25977 10.5723 6.24935 10.291 6.24935 9.99935C6.24935 9.70768 6.25977 9.42643 6.2806 9.1556C6.30143 8.88477 6.33268 8.61046 6.37435 8.33268H3.54102C3.47157 8.61046 3.41949 8.88477 3.38477 9.1556C3.35004 9.42643 3.33268 9.70768 3.33268 9.99935C3.33268 10.291 3.35004 10.5723 3.38477 10.8431C3.41949 11.1139 3.47157 11.3882 3.54102 11.666ZM8.04102 11.666H11.9577C11.9993 11.3882 12.0306 11.1139 12.0514 10.8431C12.0723 10.5723 12.0827 10.291 12.0827 9.99935C12.0827 9.70768 12.0723 9.42643 12.0514 9.1556C12.0306 8.88477 11.9993 8.61046 11.9577 8.33268H8.04102C7.99935 8.61046 7.9681 8.88477 7.94727 9.1556C7.92643 9.42643 7.91602 9.70768 7.91602 9.99935C7.91602 10.291 7.92643 10.5723 7.94727 10.8431C7.9681 11.1139 7.99935 11.3882 8.04102 11.666ZM13.6243 11.666H16.4577C16.5271 11.3882 16.5792 11.1139 16.6139 10.8431C16.6487 10.5723 16.666 10.291 16.666 9.99935C16.666 9.70768 16.6487 9.42643 16.6139 9.1556C16.5792 8.88477 16.5271 8.61046 16.4577 8.33268H13.6243C13.666 8.61046 13.6973 8.88477 13.7181 9.1556C13.7389 9.42643 13.7493 9.70768 13.7493 9.99935C13.7493 10.291 13.7389 10.5723 13.7181 10.8431C13.6973 11.1139 13.666 11.3882 13.6243 11.666ZM13.291 6.66602H15.7493C15.3466 5.97157 14.8431 5.3674 14.2389 4.85352C13.6348 4.33963 12.9438 3.95768 12.166 3.70768C12.416 4.16602 12.6348 4.64171 12.8223 5.13477C13.0098 5.62782 13.166 6.13824 13.291 6.66602ZM8.41602 6.66602H11.5827C11.416 6.0549 11.2007 5.47852 10.9368 4.93685C10.673 4.39518 10.3605 3.87435 9.99935 3.37435C9.63824 3.87435 9.32574 4.39518 9.06185 4.93685C8.79796 5.47852 8.58268 6.0549 8.41602 6.66602ZM4.24935 6.66602H6.70768C6.83268 6.13824 6.98893 5.62782 7.17643 5.13477C7.36393 4.64171 7.58268 4.16602 7.83268 3.70768C7.0549 3.95768 6.36393 4.33963 5.75977 4.85352C5.1556 5.3674 4.65213 5.97157 4.24935 6.66602Z",fill:t})})]});var KI,JI,QI,XI,eA,tA={exports:{}};function nA(){if(JI)return KI;JI=1;return KI="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}function sA(){if(XI)return QI;XI=1;var e=nA();function t(){}function n(){}return n.resetWarningCache=t,QI=function(){function s(t,n,s,i,a,r){if(r!==e){var o=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw o.name="Invariant Violation",o}}function i(){return s}s.isRequired=s;var a={array:s,bigint:s,bool:s,func:s,number:s,object:s,string:s,symbol:s,any:s,arrayOf:i,element:s,elementType:s,instanceOf:i,node:s,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:t};return a.PropTypes=a,a}}function iA(){return eA||(eA=1,tA.exports=sA()()),tA.exports}const aA=Te(iA()),rA=({size:e=24,color:t="white",opacity:s=.3,className:i="",...a})=>n.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:e,viewBox:"0 0 24 24",fill:"none",className:i,style:{opacity:s},...a,children:[n.jsx("mask",{id:"mask0_3643_39837",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"24",height:"24",children:n.jsx("rect",{width:"24",height:"24",fill:"#D9D9D9"})}),n.jsx("g",{mask:"url(#mask0_3643_39837)",children:n.jsx("path",{d:"M6.12129 21.7843C5.58252 21.7843 5.12129 21.5925 4.73762 21.2088C4.35395 20.8251 4.16211 20.3639 4.16211 19.8251V10.0292C4.16211 9.49044 4.35395 9.02922 4.73762 8.64554C5.12129 8.26187 5.58252 8.07003 6.12129 8.07003H7.10089V6.11085C7.10089 4.75575 7.57844 3.60065 8.53354 2.64554C9.48864 1.69044 10.6437 1.21289 11.9988 1.21289C13.3539 1.21289 14.509 1.69044 15.4642 2.64554C16.4193 3.60065 16.8968 4.75575 16.8968 6.11085V8.07003H17.8764C18.4152 8.07003 18.8764 8.26187 19.2601 8.64554C19.6437 9.02922 19.8356 9.49044 19.8356 10.0292V19.8251C19.8356 20.3639 19.6437 20.8251 19.2601 21.2088C18.8764 21.5925 18.4152 21.7843 17.8764 21.7843H6.12129ZM11.9988 16.8864C12.5376 16.8864 12.9988 16.6945 13.3825 16.3109C13.7662 15.9272 13.958 15.466 13.958 14.9272C13.958 14.3884 13.7662 13.9272 13.3825 13.5435C12.9988 13.1598 12.5376 12.968 11.9988 12.968C11.4601 12.968 10.9988 13.1598 10.6152 13.5435C10.2315 13.9272 10.0397 14.3884 10.0397 14.9272C10.0397 15.466 10.2315 15.9272 10.6152 16.3109C10.9988 16.6945 11.4601 16.8864 11.9988 16.8864ZM9.06007 8.07003H14.9376V6.11085C14.9376 5.29452 14.6519 4.60065 14.0805 4.02922C13.509 3.45779 12.8152 3.17207 11.9988 3.17207C11.1825 3.17207 10.4886 3.45779 9.91721 4.02922C9.34578 4.60065 9.06007 5.29452 9.06007 6.11085V8.07003Z",fill:t})})]});rA.propTypes={size:aA.oneOfType([aA.number,aA.string]),color:aA.string,opacity:aA.number,className:aA.string,onClick:aA.func,onMouseEnter:aA.func,onMouseLeave:aA.func,style:aA.object,"aria-label":aA.string,"aria-hidden":aA.bool,role:aA.string,id:aA.string,"data-testid":aA.string};const oA=({size:e=24,width:t,height:s,color:i="#224BC6",className:a})=>{const r=t||e,o=s||e;return n.jsx("svg",{width:r,height:o,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:a,children:n.jsx("path",{d:"M10.8213 5.93167C10.9705 5.48892 11.6047 5.48889 11.7539 5.93167L12.6582 8.61721C13.1079 9.95302 14.1686 11.002 15.5205 11.4463L18.2383 12.3389C18.6866 12.4862 18.6866 13.1134 18.2383 13.2608L15.5205 14.1543C14.1686 14.5986 13.1079 15.6466 12.6582 16.9824L11.7539 19.668C11.6048 20.111 10.9704 20.111 10.8213 19.668L9.917 16.9824C9.46731 15.6467 8.40659 14.5986 7.0547 14.1543L4.33595 13.2608C3.88806 13.1132 3.88798 12.4863 4.33595 12.3389L7.0547 11.4463C8.40665 11.002 9.46729 9.95302 9.917 8.61721L10.8213 5.93167ZM16.8984 4.13284C16.9581 3.95574 17.2118 3.9557 17.2715 4.13284L17.6084 5.13382C17.804 5.71436 18.2649 6.17014 18.8526 6.36331L19.8652 6.69632C20.0445 6.7553 20.0446 7.00555 19.8652 7.06448L18.8526 7.39749C18.2648 7.59072 17.8039 8.04628 17.6084 8.62698L17.2715 9.62698C17.2118 9.80417 16.9581 9.80417 16.8984 9.62698L16.5615 8.62698C16.366 8.04634 15.905 7.59076 15.3174 7.39749L14.3047 7.06448C14.1254 7.00554 14.1254 6.75525 14.3047 6.69632L15.3174 6.36331C15.905 6.1701 16.3659 5.71433 16.5615 5.13382L16.8984 4.13284Z",fill:i})})},lA=({size:e=36,color:t="#E57E5C",className:s="",...i})=>n.jsxs("svg",{width:e,height:e,viewBox:"0 0 36 36",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:s,...i,children:[n.jsx("path",{d:"M17.1016 10.4995C17.1016 10.0025 17.5039 9.6001 18.001 9.6001C18.498 9.6001 18.9004 10.0025 18.9004 10.4995V17.1001H25.501C25.998 17.1001 26.4004 17.5025 26.4004 17.9995C26.4004 18.4966 25.998 18.8989 25.501 18.8989H18.001C17.5039 18.8989 17.1016 18.4966 17.1016 17.9995V10.4995Z",fill:t}),n.jsx("path",{d:"M17.9922 4.50098C21.5724 4.50103 25.0064 5.92262 27.5381 8.4541C30.0698 10.9858 31.4922 14.4206 31.4922 18.001C31.492 21.5811 30.0696 25.0143 27.5381 27.5459C25.0064 30.0775 21.5724 31.5009 17.9922 31.501C17.4954 31.5007 17.0928 31.0965 17.0928 30.5996V30.5967C17.093 30.1 17.4955 29.6966 17.9922 29.6963C21.0938 29.6962 24.0694 28.4645 26.2627 26.2715C28.4559 24.0782 29.6883 21.1027 29.6885 18.001C29.6885 14.8991 28.456 11.9239 26.2627 9.73047C24.0693 7.53708 21.0941 6.30376 17.9922 6.30371C17.7537 6.30356 17.5251 6.20868 17.3564 6.04004C17.1879 5.87138 17.0929 5.64275 17.0928 5.4043V5.40039C17.0928 4.90353 17.4954 4.50129 17.9922 4.50098ZM8.98535 19.5C9.53736 19.5002 9.98409 19.947 9.98438 20.499V24.5H13.9961C14.5482 24.5 14.9958 24.947 14.9961 25.499C14.9961 26.0514 14.5484 26.499 13.9961 26.499H9.98438V30.5C9.98438 31.0522 9.53754 31.4998 8.98535 31.5C8.4331 31.4999 7.98535 31.0523 7.98535 30.5V26.499H3.99512C3.44288 26.4989 2.99609 26.0513 2.99609 25.499C2.99643 24.947 3.44309 24.5001 3.99512 24.5H7.98535V20.499C7.98564 19.947 8.43327 19.5001 8.98535 19.5ZM5.99219 12C6.82052 12.0001 7.49219 12.6716 7.49219 13.5C7.49203 14.3282 6.82043 14.9999 5.99219 15C5.16386 15 4.49235 14.3283 4.49219 13.5C4.49219 12.6716 5.16376 12 5.99219 12ZM8.99414 7.5C9.82257 7.5 10.4941 8.17157 10.4941 9C10.494 9.82829 9.82247 10.5 8.99414 10.5C8.1659 10.4999 7.4943 9.82823 7.49414 9C7.49414 8.17164 8.1658 7.50011 8.99414 7.5ZM13.4941 4.5C14.3226 4.5 14.9941 5.17157 14.9941 6C14.9941 6.82843 14.3226 7.5 13.4941 7.5C12.6658 7.49989 11.9941 6.82836 11.9941 6C11.9941 5.17164 12.6658 4.50011 13.4941 4.5Z",fill:t})]}),cA=De.forwardRef(({className:e,...t},s)=>n.jsx(q,{className:fb("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:s,children:n.jsx(G,{className:fb("pointer-events-none block h-4 w-4 rounded-full bg-[#FFFFFF] shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0 ")})}));cA.displayName=q.displayName;const dA=({width:e=20,height:t=20,fill:s="#E58D73",className:i})=>n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:t,viewBox:"0 0 20 20",fill:"none",className:i,children:n.jsx("path",{d:"M5.13405 12.64L8.28605 10.88L8.33405 10.72L8.28605 10.64H8.12605L7.59805 10.608L5.80605 10.56L4.23805 10.48L2.71805 10.4L2.33405 10.32L1.99805 9.84L2.03005 9.6L2.35005 9.392L2.81405 9.424L3.82205 9.504L5.34205 9.6L6.44605 9.664L8.07805 9.856H8.33405L8.36605 9.744L8.28605 9.68L8.22205 9.616L6.63805 8.56L4.94205 7.44L4.04605 6.784L3.56605 6.464L3.32605 6.144L3.23005 5.472L3.66205 4.992L4.25405 5.04L4.39805 5.072L4.99005 5.536L6.27005 6.512L7.91805 7.76L8.15805 7.952L8.25405 7.888L8.27005 7.84L8.15805 7.664L7.27805 6L6.31805 4.336L5.88605 3.648L5.77405 3.232C5.72605 3.072 5.71005 2.912 5.71005 2.752L6.19005 2.08L6.47805 2L7.15005 2.096L7.40605 2.32L7.82205 3.28L8.47805 4.768L9.51805 6.784L9.83805 7.392L9.99805 7.936L10.046 8.096H10.158V8.016L10.238 6.864L10.398 5.472L10.558 3.68L10.606 3.168L10.862 2.56L11.342 2.24L11.758 2.416L12.078 2.88L12.03 3.168L11.854 4.4L11.438 6.336L11.198 7.648H11.342L11.502 7.472L12.158 6.608L13.262 5.232L13.742 4.672L14.318 4.08L14.686 3.792H15.374L15.87 4.544L15.646 5.328L14.942 6.224L14.35 6.976L13.502 8.112L12.99 9.024L13.038 9.088H13.15L15.07 8.672L16.094 8.496L17.31 8.288L17.87 8.544L17.934 8.8L17.71 9.344L16.398 9.664L14.862 9.984L12.574 10.512L12.542 10.528L12.574 10.576L13.598 10.672L14.046 10.704H15.134L17.15 10.864L17.678 11.184L17.982 11.616L17.934 11.936L17.118 12.352L16.03 12.096L13.47 11.488L12.606 11.28H12.478V11.344L13.214 12.064L14.542 13.264L16.238 14.816L16.318 15.2L16.11 15.52L15.886 15.488L14.414 14.368L13.838 13.888L12.558 12.8H12.478V12.912L12.766 13.344L14.334 15.696L14.414 16.416L14.302 16.64L13.886 16.8L13.454 16.704L12.526 15.424L11.566 13.984L10.814 12.672L10.734 12.736L10.27 17.568L10.062 17.808L9.58205 18L9.18205 17.68L8.95805 17.2L9.18205 16.208L9.43805 14.928L9.64605 13.904L9.83805 12.64L9.95005 12.224V12.192H9.83805L8.87805 13.52L7.43805 15.488L6.28605 16.704L6.01405 16.816L5.53405 16.576L5.58205 16.128L5.83805 15.76L7.43805 13.712L8.39805 12.448L9.03805 11.712L9.02205 11.632H8.97405L4.75005 14.384L3.99805 14.48L3.67805 14.16L3.71005 13.68L3.87005 13.52L5.15005 12.64H5.13405Z",fill:s})}),uA=gv.common.logoBlue;let pA=null;const mA=({models:e,selectedModelId:t,onModelChange:s,className:i,disabled:a=!1,placeholder:r="Select Model",currentUserTier:o="free",isEmergentUser:l=!1,onUpgradeRequired:c,buttonClassName:d})=>{var u;const[p,m]=De.useState(!1),[h,x]=De.useState({top:0,left:0,width:320}),[f,g]=De.useState(!1),v=De.useRef(Math.random().toString(36).substring(2,15)),b=De.useRef(null),y=De.useRef(null),w=De.useRef(null),j=Le(),C=jt(),N=wt(e=>{var t;return null==(t=e.menu)?void 0:t.showModelSelectorTooltip}),F=wt(e=>{var t;return null==(t=e.menu)?void 0:t.highlightBroMode}),{isOrganizationWorkspace:_}=Kg(),k=e.filter(e=>!e.unavailable_tier||o!==e.unavailable_tier),S=e.find(e=>e.id===t),E=()=>{if(!y.current)return;const e=y.current.getBoundingClientRect(),t=Math.min(50*k.length+16,300),n=e.width;let s=e.bottom+8,i=e.left;s+t>window.innerHeight&&(s=e.top-t-8),i+n>window.innerWidth&&(i=window.innerWidth-n-16),i<0&&(i=16),x({top:s,left:i,width:n})};De.useEffect(()=>{F&&N?pA||(pA=v.current,E(),m(!0),g(!0)):N&&!Pu("hasSeenModelSelectorTooltip",!1)&&"/"===j.pathname?pA||(pA=v.current,E(),m(!0),Uu()):N||pA!==v.current||(pA=null,p&&(m(!1),g(!1)))},[N,j.pathname,F]),De.useEffect(()=>()=>{pA===v.current&&(pA=null)},[]),De.useEffect(()=>{const e=e=>{if(!b.current||!y.current)return;const t=e.target;!p||b.current.contains(t)||y.current.contains(t)||w.current&&w.current.contains(t)||(m(!1),N&&pA===v.current&&(C(Zf(!1)),pA===v.current&&(pA=null)),f&&(g(!1),C(Yf(!1))))},t=()=>{p&&E()};return p&&(document.addEventListener("mousedown",e),window.addEventListener("scroll",t,!0),window.addEventListener("resize",t)),()=>{document.removeEventListener("mousedown",e),window.removeEventListener("scroll",t,!0),window.removeEventListener("resize",t)}},[p]);const I=t=>{const n=e.find(e=>e.id===t);if(n&&(i=n,!_()&&i.user_tier&&o!==i.user_tier))return c&&c(),void m(!1);var i;s(t),m(!1),N&&(C(Zf(!1)),pA===v.current&&(pA=null)),F&&C(Yf(!1))},A=()=>{Uu(),C(Zf(!1)),pA===v.current&&(pA=null)};return n.jsxs("div",{className:fb("relative w-full",i),children:[n.jsxs("button",{ref:y,type:"button",disabled:a,className:fb("h-[56px] bg-[#FFFFFF0A] w-full border border-[#ffffff12] rounded-lg px-4 flex items-center gap-2 transition-colors duration-200 hover:border-[#333]",p&&"border-[#80FFF9] bg-[#5CD2E51A] text-[#80FFF9]",a&&"opacity-50 cursor-not-allowed",d),onClick:e=>{e.stopPropagation(),a||(p||E(),m(!p))},children:[(null==(u=null==S?void 0:S.name.toLowerCase())?void 0:u.includes("composite"))?n.jsx("img",{src:uA,alt:"Emergent Logo",width:20,height:20,className:"hidden md:block"}):(null==S?void 0:S.icon)?n.jsx(S.icon,{className:fb("hidden md:block",p&&"text-[#80FFF9]")}):null,n.jsx("span",{className:fb("text-[#DDDDE6] flex-1 text-[14px] flex flex-nowrap whitespace-nowrap capitalize",p&&"text-[#80FFF9]",!S&&"text-[#999]"),children:S?S.name:r}),n.jsx(Vk,{className:fb("w-5 h-5 transition-transform duration-200 text-[#DDDDE6]",p&&"rotate-180 text-[#80FFF9]")})]}),p&&Re.createPortal(n.jsx("div",{ref:b,className:"fixed z-[9999] bg-[#131314] border border-[#222] rounded-lg shadow-lg overflow-y-auto max-h-[300px]",style:{top:`${h.top}px`,left:`${h.left}px`,width:`${h.width}px`,minWidth:"320px"},children:n.jsx("div",{className:"flex flex-col p-2",children:k.map(e=>{return n.jsx("div",{className:fb("flex items-center px-2 md:min-h-[40px] rounded-[8px] py-[6px] text-[#DDDDE6] hover:bg-[#2D2D2F]/40 font-medium cursor-pointer relative",t===e.id&&"text-[#80FFF9]"),onClick:t=>{t.stopPropagation(),I(e.id)},children:n.jsxs("div",{className:"flex items-start justify-between w-full",children:[n.jsxs("div",{className:"flex items-start gap-2",children:[n.jsx("div",{className:"min-w-[15px] flex items-center justify-center",children:e.name&&e.name.toLowerCase().includes("composite")?n.jsx("div",{className:"w-5 h-5 flex items-center justify-center rounded-[20px] bg-white/10",children:n.jsx("img",{src:uA,alt:"Emergent Logo",width:16,height:16,className:"hidden md:block"})}):e.icon?n.jsx("div",{className:"w-5 h-5 flex items-center justify-center rounded-[20px] bg-white/10",children:n.jsx(e.icon,{className:fb("hidden md:block w-4 h-4",t===e.id&&"text-[#80FFF9]")})}):null}),n.jsxs("div",{className:"flex flex-col",children:[n.jsxs("span",{className:"text-[12px] text-nowrap flex items-center gap-[2px] md:text-[13px] text-[#E8E8E6]",children:[e.name,"pro_mode"==e.user_tier&&n.jsx(oA,{color:"#FF8C66"})]}),e.description&&n.jsx("span",{className:"text-[10px] md:text-[12px] text-[#8A8F98] font-inter",children:e.description})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:["pro_mode"==e.user_tier&&n.jsx("div",{className:"bg-[#FF8C661A] px-[6px] flex items-center justify-center rounded-[6px] h-[18px]",children:n.jsx("span",{className:"text-[#FF8C66] text-xs font-['Inter'] font-medium",children:(s=e.name,"Claude 4.5 Sonnet"===s?"Beta":"PRO")})}),t===e.id&&!e.showNew&&n.jsx(Uk,{className:"h-4 w-4 text-[#66EAFF]"})]})]})},e.id);var s})})}),document.body),p&&N&&pA===v.current&&"/"===j.pathname&&Re.createPortal(n.jsxs(Pt.div,{ref:w,initial:{opacity:0,x:-6},animate:{opacity:1,x:0},exit:{opacity:0,x:-6},transition:{duration:.3,ease:"easeOut"},className:"fixed z-[9999] max-w-[280px] p-4 bg-[#FFFFFF] border-[#2E2F34] text-white shadow-2xl rounded-[12px]",style:{backdropFilter:"blur(20px)",...(()=>{const e=k.findIndex(e=>e.name.toLowerCase().includes("extended"));if(-1===e)return{top:h.top,left:h.left+340};return{top:h.top+8+40*e+20-60,left:h.left+340}})()},children:[n.jsxs("div",{className:"flex flex-col gap-4",children:[n.jsxs("div",{className:"flex flex-col gap-2",children:[n.jsxs("div",{className:"flex items-center gap-[2px]",children:[n.jsx(dA,{fill:"#000000"}),n.jsx("span",{className:"text-[15px] font-['Inter'] font-semibold text-[#0F0F10]",children:"pro_mode"===o?"Try Now":"Try Claude 4.5 - 1M context"})]}),n.jsx("p",{className:"text-[12px] font-medium font-['Inter'] text-[#0F0F1080] leading-[16px]",children:"pro_mode"===o?"Experience Anthropic's latest 4.5 sonnet model with 1M context window":"Get your hands on Anthropic's latest 4.5 sonnet model with 1M context window"})]}),n.jsx("div",{className:"flex items-center justify-end w-full gap-2",children:n.jsxs("button",{onClick:e=>{e.stopPropagation(),e.preventDefault(),"pro_mode"===o?A():c&&(A(),c())},className:"px-3 py-[6px] flex gap-2 items-center justify-center bg-[#0B0B0B] hover:bg-[#333333] font-['Inter'] rounded-[6px] text-[#FFFFFF] text-[12px] font-medium transition-colors",type:"button",children:["pro_mode"===o?"Try Now":"Upgrade to Pro",n.jsx(oA,{color:"#ffffff"})]})})]}),n.jsxs("div",{className:"absolute z-[999] flex items-center justify-center transform -translate-y-1/2 -left-[24px] top-1/2",children:[n.jsx("div",{className:"w-2 h-2 bg-white rounded-full"}),n.jsx("div",{className:"bg-white min-w-4 min-h-[1px] mr-[2px]"})]})]}),document.body),p&&f&&F&&Re.createPortal(n.jsxs(Pt.div,{ref:w,initial:{opacity:0,x:-6},animate:{opacity:1,x:0},exit:{opacity:0,x:-6},transition:{duration:.3,ease:"easeOut"},className:"fixed z-[9999] max-w-[280px] p-3 bg-[#FFFFFF] border-[#2E2F34] text-white shadow-2xl rounded-[12px]",style:{backdropFilter:"blur(20px)",top:h.top+8+0+20-30,left:h.left+340},children:[n.jsxs("div",{className:"flex flex-col gap-3",children:[n.jsxs("div",{className:"flex flex-col gap-1",children:[n.jsx("div",{className:"flex items-center gap-[6px]",children:n.jsx("span",{className:"text-[15px] font-['Inter'] font-semibold text-[#0F0F10]",children:"Try Claude 4.5 Sonnet"})}),n.jsx("p",{className:"text-[12px] font-medium font-['Inter'] text-[#0F0F1080] leading-[16px]",children:"Experience Anthropic's latest 4.5 sonnet model with enhanced reasoning and deep context understanding."})]}),n.jsx("div",{className:"flex items-center justify-end w-full gap-2",children:n.jsxs("button",{onClick:e=>{e.stopPropagation(),e.preventDefault();const t=k.find(e=>"Claude 4.5 Sonnet"===e.name);t&&I(t.id),g(!1),C(Yf(!1)),C(Zf(!1))},className:"px-[8px] py-[2px] flex gap-2 items-center justify-center bg-[#0B0B0B] hover:bg-[#333333] font-['Inter'] rounded-[6px] text-[#FFFFFF] text-[12px] font-medium transition-colors",type:"button",children:["Try Now",n.jsx(oA,{color:"#ffffff",size:20})]})})]}),n.jsxs("div",{className:"absolute z-[999] flex items-center justify-center transform -translate-y-1/2 -left-[24px] top-1/2",children:[n.jsx("div",{className:"w-2 h-2 bg-white rounded-full"}),n.jsx("div",{className:"bg-white min-w-4 min-h-[1px] mr-[2px]"})]})]}),document.body)]})},hA=({privacy:e,iconSize:t=20,textClassName:s="font-medium font-inter text-[#FFFFFF]"})=>n.jsx(n.Fragment,{children:"public"===e?n.jsxs(n.Fragment,{children:[n.jsx(YI,{size:t}),n.jsx("span",{className:s,children:"Public"})]}):n.jsxs(n.Fragment,{children:[n.jsx(rA,{size:t,color:"#ffffff",opacity:1}),n.jsx("span",{className:s,children:"Private"})]})}),xA=gv.common.copyPaperclip,fA=gv.common.logoBlue,gA=gv.common.copperCoin,vA=gv.universal.claude,bA=gv.universal.openai,yA=gv.icons.submit,wA=gv.icons.github,jA=gv.github.githubConnected;let CA=null;const NA=(e,t)=>{var n,s;if(!t)return{model:null,name:null,icon:bA};if("bro-mode"===t)return{model:{id:"bro-mode",name:"Bro Mode",description:"Advanced AI with enhanced reasoning"},name:"Bro Mode",icon:vA};const i=e.find(e=>e.id===t),a=null==i?void 0:i.name,r=(null==(n=null==a?void 0:a.toLowerCase())?void 0:n.includes("composite"))?fA:(null==(s=null==a?void 0:a.toLowerCase())?void 0:s.includes("claude"))?vA:bA;return{model:i,name:a,icon:r}},FA=({value:e,onChange:t,placeholder:s="",maxHeight:i="200px",onAttachClick:a,onSubmit:r,disabled:o,onPaste:l,attachIcon:c,attachTooltip:d,githubTooltip:u,isSubmitting:p,handleSettingsClick:m,handleGithubSettings:h,showGithubSettings:x,showControls:f,className:g,hasUserConnectedGithub:v,githubUrl:b,onClearGithubUrl:y,handleExperimentalChange:w,experimentalEnabled:j,isUploadAssetEnabled:C=!1,userPrompts:N=[],isLoadingUserPrompts:F=!1,selectedCustomAgent:_=null,onCustomAgentChange:k,shouldShowUserPrompts:S=!1,mobileEnabled:E=!1,onMobileEnabled:I,e15Enabled:A=!1,onE15Enabled:R,prototypeEnabled:O=!1,onPrototypeEnabled:z,showMobileAgentIntro:B=!1,onMobileAgentIntroShown:H,selectedImage:$,setSelectedImage:U,globalConfig:V,perInstanceCostLimit:W,setPerInstanceCostLimit:q,availableModels:G=[],selectedModelId:Z,onModelChange:Y,showModelSelector:K=!1,onPrivacyChange:J,ultraMode:Q=!1,onUltraModeChange:X,testMode:ee=!1,onTestModeChange:te,selectedMcpTools:ne=[],onMcpToolsChange:se,onFocusChange:ie,isRecording:ae=!1,isTranscribing:re=!1,onVoiceClick:oe})=>{var le,ce;const{tier:de,isTrulyFreeUser:ue}=Xg(),{data:pe}=Fx(),me=eI(),{toast:he}=on(),xe=(()=>{try{const e=yd.getFeatureFlag("test_mode_enabled");return!0===e||"true"===e}catch(e){return!1}})()&&me,fe=jt(),ge=wt(e=>{var t;return null==(t=e.menu)?void 0:t.showModelSelectorTooltip}),ve=wt(e=>{var t;return null==(t=e.menu)?void 0:t.highlightBroMode}),{isOrganizationWorkspace:be,currentWorkspace:ye}=Kg(),{setTabs:we,setActiveTab:je}=Oee(),Ce=Le(),[Ne,Fe]=De.useState(""),[_e,ke]=De.useState(!1),Se=De.useRef(Math.random().toString(36).substring(2,15)),[Ee,Ie]=De.useState(0),[Ae,Te]=De.useState(!1),[Me,Pe]=De.useState(!1),[Oe,ze]=De.useState(),Be=()=>"free"===de,[He,$e]=De.useState(()=>void 0!==j?j:Be()),Ue=void 0!==j?j:He;De.useEffect(()=>{void 0!==j&&$e(j)},[j]),De.useEffect(()=>{if(void 0===j){const e=Be();$e(e)}},[de,j]),De.useEffect(()=>{w(!!Ue)},[Ue]);const[Ve,We]=De.useState(!1),[qe,Ge]=De.useState({top:0,left:0}),[Ze,Ye]=De.useState(!1),[Ke,Je]=De.useState(!1),[Qe,Xe]=De.useState({top:0,left:0}),[et,tt]=De.useState("free"===de?"public":"private"),[nt,st]=De.useState(!1),it=HE(),at=BE(),[rt,ot]=De.useState(!1),[lt,ct]=De.useState("main"),{getCurrentOrganizationId:dt}=Kg(),ut=dt(),{data:pt}=zf(ut?{organization_id:ut}:void 0,{skip:!1}),mt=W||"5",[ht,xt]=De.useState(!1);De.useEffect(()=>{J&&J(et)},[et,J]),De.useEffect(()=>{tt("free"===de?"public":"private")},[de]);const[ft,gt]=De.useState(Pu("hasSeenMobileAgentIntro",!1)),{isMobile:vt}=QE(),bt=De.useRef(null),yt=De.useRef(null),Ct=De.useRef(null),Nt=De.useRef(null),Ft=De.useRef(null),_t=(e=>{try{const t=yd.getFeatureFlag("feature_referral");return!0===t||"true"===t||e}catch(t){return!1}})(me),kt=(e=>{try{const t=yd.getFeatureFlag("feature_custom_agents");return!0===t||"true"===t||e}catch(t){return!1}})(me)||"pro_mode"===de||(null==pe?void 0:pe.is_pro_enabled),St=Ig(),Et=(null==V?void 0:V.e15_experimental)&&("pro_mode"===de||be()||me),It=null==V?void 0:V.prototype_agent_experimental,At=K&&G.length>0&&!vt,Tt=["a dashboard for...","a beautiful landing page for...","an app for...","a clone of netflix...","a game where..."];De.useEffect(()=>{const e=setTimeout(()=>{Lt()},_e?50:100);return()=>clearTimeout(e)},[Ne,_e]),De.useEffect(()=>{ve&&ge&&vt&&(ot(!0),ct("models"),setTimeout(()=>{fe(Yf(!1)),fe(Zf(!1))},500))},[ve,ge,vt,fe]);const Dt=()=>{if(!Ct.current)return;const e=Ct.current.getBoundingClientRect();let t=e.bottom+8,n=e.left;t+120>window.innerHeight&&(t=e.top-120-8),n+180>window.innerWidth&&(n=window.innerWidth-180-16),n<0&&(n=16),Ge({top:t,left:n})},Mt=()=>{if(!Ft.current)return;const e=Ft.current.getBoundingClientRect();let t=e.bottom+8,n=e.left;n+276>window.innerWidth&&(n=window.innerWidth-276-16),t+124>window.innerHeight&&(t=e.top-124-8),n<16&&(n=16),Xe({top:t,left:n})};De.useEffect(()=>{const e=e=>{if(!yt.current||!Ct.current)return;const t=e.target;!Ve||yt.current.contains(t)||Ct.current.contains(t)||We(!1)},t=()=>{Ve&&Dt()};return Ve&&(document.addEventListener("mousedown",e),window.addEventListener("scroll",t,!0),window.addEventListener("resize",t)),()=>{document.removeEventListener("mousedown",e),window.removeEventListener("scroll",t,!0),window.removeEventListener("resize",t)}},[Ve]),De.useEffect(()=>{const e=e=>{if(!Nt.current||!Ft.current)return;const t=e.target;!Ke||Nt.current.contains(t)||Ft.current.contains(t)||Je(!1)},t=()=>{Ke&&Mt()};return Ke&&(document.addEventListener("mousedown",e),window.addEventListener("scroll",t,!0),window.addEventListener("resize",t)),()=>{document.removeEventListener("mousedown",e),window.removeEventListener("scroll",t,!0),window.removeEventListener("resize",t)}},[Ke]),De.useEffect(()=>{B&&!ft&&(Dt(),We(!0),setTimeout(()=>{xt(!0)},300),null==H||H())},[B,ft,H]),De.useEffect(()=>{ge&&K&&G.length>0&&"/"===Ce.pathname?vt&&(CA||(CA=Se.current,ct("main"),ot(!0)),fe(Zf(!1))):ge||CA!==Se.current||(CA=null)},[ge,vt,K,G.length,fe,Ce.pathname]),De.useEffect(()=>()=>{CA===Se.current&&(CA=null)},[]);const Lt=()=>{const e=Tt[Ee%Tt.length];if(_e||Ne!==e)return _e&&""===Ne?(ke(!1),void Ie(Ee+1)):void Fe(_e?e.substring(0,Ne.length-1):e.substring(0,Ne.length+1));setTimeout(()=>{ke(!0)},2e3)};De.useEffect(()=>{const e=bt.current;if(e){e.style.height="auto";const t=Math.min(e.scrollHeight,parseInt(i));e.style.height=`${t}px`}},[e,i]),De.useEffect(()=>{if(!f){const e=setInterval(()=>{Pe(e=>!e)},1e3);return()=>clearInterval(e)}},[f]);const Pt=()=>{const e=`create-agent-${Date.now()}-${Math.random().toString(36).substring(2,11)}`;we(t=>[...t,{id:e,title:"Create New Agent",tabHeading:"Create New Agent",path:"/create-agent",level:"personal"!==ye?"organization":"user",organization_id:"personal"!==ye?ye:void 0,state:{tabId:e,fromTextarea:!0,workspaceContext:{isOrganizationWorkspace:"personal"!==ye,currentOrganizationId:"personal"!==ye?ye:void 0}}}]),je(e),We(!1)},Rt=()=>{be()?it.open({initialTab:"shared-agents"}):it.open({initialTab:"manage-agents"}),We(!1)},Ot=De.useCallback(()=>{xt(!1),gt(!0),Lu("hasSeenMobileAgentIntro",!0)},[]),zt=e=>{e.stopPropagation(),$e(!1),w(!1),null==k||k(null),We(!1),I(!0),R(!1),z(!1)},Bt=e=>{let t="Custom Agent";return"base_main_prompt"==e?t="React + FastAPI Agent":"base_main_nextjs_prompt"==e?t="NextJS Agent":"base_main_expo_prompt"==e?t="Mobile Agent":"base_python_prompt"==e&&(t="Python Agent"),t};return n.jsxs(n.Fragment,{children:[Oe&&vt&&n.jsx("div",{className:"fixed top-0 bottom-0 z-[-1] left-0 right-0 w-full h-full bg-black/20 backdrop-blur-lg"}),n.jsxs("div",{className:fb(`${g} relative rounded-t-[18px] md:rounded-[18px] z-[1] w-full overflow-clip ${Ae?"ring-2 ring-[#80FFF9] ring-opacity-70":""} flex flex-col justify-between border border-[#333333] bg-[#18181A]`),onDragOver:e=>{e.preventDefault(),e.stopPropagation()},onDragEnter:e=>{e.preventDefault(),e.stopPropagation(),Te(!0)},onDragLeave:e=>{e.preventDefault(),e.stopPropagation(),e.currentTarget.contains(e.relatedTarget)||Te(!1)},onDrop:e=>{e.preventDefault(),e.stopPropagation(),Te(!1);const t=e.dataTransfer.files;if(t.length>0){const e=new Event("custom-file-drop",{bubbles:!0});if(Object.defineProperty(e,"files",{value:t,writable:!1}),document.dispatchEvent(e),l){const e={clipboardData:{files:t,items:Array.from(t).map(e=>({kind:"file",type:e.type,getAsFile:()=>e}))},preventDefault:()=>{}};l(e)}else a()}},children:[Ae&&n.jsx("div",{className:"absolute inset-0 z-10 flex items-center justify-center bg-[#141415]/90 rounded-[18px]",children:n.jsx("div",{className:"text-[#80FFF9] text-center",children:n.jsx("p",{className:"font-medium font-brockmann",children:"Drop files here"})})}),n.jsx(jE,{id:"mainTaskInput",ref:bt,value:e,onChange:t,onKeyDown:e=>{"Enter"===e.key&&(e.ctrlKey||e.metaKey)&&(e.preventDefault(),o||p||r())},onFocus:()=>{ze(!0),null==ie||ie(!0)},onBlur:()=>{ze(!1),null==ie||ie(!1)},placeholder:"",className:fb("h-full relative w-full bg-[#18181A]   rounded-t-[18px] text-[16px] resize-none min-h-[120px] md:min-h-[100px] p-3 pb-4 md:p-4 border-0 focus:ring-0 focus-visible:ring-0 focus-visible:ring-offset-0 caret-[#80FFF9] font-brockmann font-medium overflow-auto",Oe&&"max-md:mt-[68px]"),onPaste:l,style:{maxHeight:i,transition:"height 0.1s ease-out"}}),n.jsx("button",{type:"button",className:fb("absolute rounded-full top-2.5 left-2.5 size-9 items-center justify-center  bg-white/5 hidden",Oe&&"max-md:flex max-md:visible"),title:"Close Dropdown",onClick:()=>{ze(!1)},children:n.jsx(RS,{size:20})}),""===e&&n.jsx("div",{className:fb("absolute top-0 left-0 max-md:p-3 md:p-4 pointer-events-none text-white/30 font-[Inter] font-medium text-[16px]",Oe&&"max-md:top-[68px]"),children:n.jsx("span",{children:`Build me ${Ne}`})}),n.jsxs("div",{className:"flex items-center justify-between w-full p-2.5  bg-[#18181A] ",children:[n.jsxs("div",{className:"flex flex-row items-center gap-2",children:[n.jsx("div",{className:"rounded-lg bg-none",children:n.jsxs(T,{children:[n.jsx(D,{asChild:!0,children:n.jsx("button",{className:fb("p-2 pointer-events-auto rounded-[30px] group/paperclip  flex items-center justify-center size-9 hover:bg-white/10 bg-white bg-opacity-5 "),type:"button",onClick:a,children:n.jsx("img",{src:xA,alt:"Attach",className:"transition-transform duration-200 transform min-w-4 min-h-4 md:size-5 group-hover/paperclip:rotate-45"})})}),d&&n.jsx(M,{children:n.jsx(L,{className:"max-w-xs bg-[#fff] text-[#0f0f10] font-medium tracking-[-0.3px] text-sm px-4 py-2.5 rounded-lg shadow-lg z-[9999]",sideOffset:5,asChild:!0,children:n.jsxs(Ek.div,{initial:{opacity:0,y:-2,scale:1},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:1},transition:{type:"tween",ease:"easeOut",duration:.4},children:[d,n.jsx(P,{className:"fill-[#fff]"})]})})})]})}),n.jsx("div",{className:"relative rounded-lg max-md:hidden bg-none",children:n.jsx(SE,{isConnected:v||!!b,isActive:x||!!b,githubUrl:b,githubTooltip:u,handleGithubSettings:h||(()=>{}),onClearGithubUrl:y})}),!ue()&&n.jsx("div",{className:"relative rounded-lg bg-none",children:n.jsxs("button",{ref:Ct,type:"button",className:fb("p-2 pl-3 h-9 max-w-[150px] min-w-0 flex items-center gap-1.5 transition-colors duration-200 rounded-[30px] bg-white/5 hover:bg-white/10 ",Ve&&"bg-[#80FFF91A] text-[#80FFF9]"),onClick:e=>{e.stopPropagation(),vt?Ye(!0):(Ve||Dt(),We(!Ve))},children:[n.jsx(PE,{size:20,className:fb("shrink-0",Ve&&"text-[#80FFF9]"),primaryColor:Ve?"#80FFF9":"#fff"}),n.jsxs("span",{className:fb("grow text-[#E6E6E6] text-[12px]  md:text-[14px] whitespace-nowrap capitalize truncate",Ve&&"text-[#80FFF9]"),children:[_&&((null==(le=N.find(e=>e.id===_))?void 0:le.prompt_name.replaceAll("_user"," ").replaceAll("_"," "))||"Custom Agent"),!_&&!E&&!A&&!O&&n.jsxs(n.Fragment,{children:["E-1",Ue?n.jsx("span",{children:".1"}):""]}),!_&&A&&!O&&n.jsx(n.Fragment,{children:"E-1.5"}),!_&&O&&n.jsx(n.Fragment,{children:"Prototype"}),!_&&E&&!O&&n.jsx(n.Fragment,{children:"Mobile"})]}),n.jsx(Vk,{className:"shrink-0 size-4 opacity-30 transition-transform duration-200 "+(Ve?"rotate-180":"")})]})}),!ue()&&!vt&&n.jsx("div",{className:"relative rounded-lg bg-none",children:n.jsx(EE,{children:n.jsxs(T,{delayDuration:0,children:[n.jsx(D,{asChild:!0,children:n.jsxs("div",{title:"Fix",className:fb("transition-colors duration-200 hover:opacity-80 h-9 text-[14px] font-medium flex items-center gap-1 hover:bg-[#FFFFFF]/10 p-2 rounded-full cursor-pointer",Q?"bg-[#FF8C661A]":"bg-[#FFFFFF0D]"),onClick:e=>{e.preventDefault(),"pro_mode"===de||be()?null==X||X(!Q):(ot(!1),at.open({triggerLocation:"default"}))},children:[n.jsx(lA,{size:20,color:Q?"#FF8C66":"#E6E6E6"})," ",n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsxs("div",{className:fb("flex items-center gap-[2px]",Q?"text-[#FF8C66]":""),children:[" ","Ultra"]})," ",n.jsx(cA,{checked:Q,onCheckedChange:e=>{"pro_mode"===de||be()?null==X||X(e):(ot(!1),at.open({triggerLocation:"default"}))},onClick:e=>e.stopPropagation(),className:"data-[state=unchecked]:bg-[#3B3B3B] data-[state=checked]:bg-[#FF8C66] scale-[0.8]"})]})]})}),n.jsx(L,{className:" bg-[#fff] text-[#0f0f10] font-medium tracking-[-0.3px] text-sm px-4 py-2.5 rounded-lg shadow-lg z-[9999] max-w-[200px]",sideOffset:5,asChild:!0,children:n.jsxs(Ek.div,{initial:{opacity:0,y:-2,scale:1},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:1},transition:{type:"tween",ease:"easeOut",duration:.4},children:[n.jsxs("div",{className:"flex flex-col gap-1",children:[n.jsx("div",{className:"font-semibold font-inter",children:"Ultra thinking with 16k thinking tokens"}),n.jsx("div",{className:"text-xs opacity-50 font-inter text-[#0F0F10]",children:"Allow agent to reason deeply through complex problems"})]}),n.jsx(P,{className:"fill-[#fff]"})]})})]})})}),vt&&Q&&n.jsxs("button",{title:"Ultra Thinking",type:"button",className:fb("transition-colors duration-200 hover:opacity-80 h-[40px] w-[40px] justify-center flex items-center gap-[6px] hover:bg-[#FFFFFF]/10 p-2 rounded-full",Q?"bg-[#FF8C661A]":"bg-[#FFFFFF0D]"),onClick:e=>{e.preventDefault(),"pro_mode"===de||be()?null==X||X(!Q):(ot(!1),at.open({triggerLocation:"default"}))},children:[n.jsx(lA,{size:20,color:Q?"#FF8C66":"#E6E6E6"})," "]}),At&&n.jsx("div",{className:"relative rounded-full bg-none",children:n.jsx(mA,{models:G,selectedModelId:Z,onModelChange:Y||(()=>{}),buttonClassName:"rounded-full p-2 max-h-9 bg-white/5 border-none gap-1 [&>svg:last-child]:opacity-30 [&>svg:last-child]:size-4 [&>svg:last-child]:ml-0.5",className:"max-h-9",currentUserTier:de,isEmergentUser:me,onUpgradeRequired:()=>at.open({})})}),Ve&&!vt&&Re.createPortal(n.jsx("div",{ref:yt,className:"fixed z-[9999] md:w-[300px] bg-[#191918] border border-[#303030] rounded-[10px] shadow-lg overflow-y-auto model-dropdown max-h-[300px]",style:{top:`${qe.top}px`,left:`${qe.left}px`},children:n.jsxs("div",{className:"flex flex-col p-2",children:[n.jsx("div",{className:fb("px-2 md:min-h-[40px] rounded-[8px] py-[6px] text-[#DDDDE6] hover:bg-[#2D2D2F]/40 font-medium cursor-pointer",!Ue&&!E&&!A&&!O&&!_&&" text-[#80FFF9]"),onClick:e=>{e.stopPropagation(),$e(!1),w(!1),null==k||k(null),We(!1),I(!1),R(!1),z(!1)},children:n.jsxs("div",{className:"flex items-center justify-between w-full",children:[n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:"text-[12px] md:text-[13px] text-[#E8E8E6]",children:"E-1"}),n.jsx("span",{className:"text-[10px] md:text-[12px] text-[#8A8F98] font-inter",children:"Stable & thorough"})]}),!Ue&&!E&&!A&&!O&&!_&&n.jsx(Uk,{className:"h-4 w-4 text-[#66EAFF]"})]})}),n.jsx("div",{className:fb("px-2 min-h-[40px] rounded-[8px] py-[6px] text-[#DDDDE6] hover:bg-[#2D2D2F]/40 font-medium cursor-pointer",Ue&&!E&&!A&&!O&&!_&&" text-[#80FFF9]"),onClick:e=>{e.stopPropagation(),$e(!0),w(!0),null==k||k(null),We(!1),I(!1),R(!1),z(!1)},children:n.jsxs("div",{className:"flex items-center justify-between w-full",children:[n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:"flex items-center text-[12px] md:text-[13px] text-[#E8E8E6]",children:"E-1.1"}),n.jsx("span",{className:"text-[10px] md:text-[12px] text-[#FFFFFF]/50 font-inter",children:"Fast & flexible"})]}),Ue&&!A&&!O&&!_&&n.jsx(Uk,{className:"h-4 w-4 text-[#80FFF9]"})]})}),Et&&n.jsx("div",{className:fb("px-2 min-h-[40px] rounded-[8px] py-[6px] text-[#DDDDE6] hover:bg-[#2D2D2F]/40 font-medium cursor-pointer",A&&!E&&!O&&!_&&" text-[#80FFF9]"),onClick:e=>{e.stopPropagation(),$e(!1),w(!1),null==k||k(null),We(!1),I(!1),R(!0),z(!1)},children:n.jsxs("div",{className:"flex items-center justify-between w-full",children:[n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:"flex items-center text-[12px] md:text-[13px] text-[#E8E8E6]",children:"E-1.5"}),n.jsx("span",{className:"text-[10px] md:text-[12px] text-[#FFFFFF]/50 font-inter",children:"Focused & Diligent"})]}),A&&!_?n.jsx(Uk,{className:"h-4 w-4 text-[#80FFF9]"}):n.jsx("span",{className:"text-[12px] bg-[#F49B571A] text-[#F49B57] rounded-full px-2 py-[2px]",children:"Beta"})]})}),It&&n.jsx("div",{className:fb("px-2 min-h-[40px] rounded-[8px] py-[6px] text-[#DDDDE6] hover:bg-[#2D2D2F]/40 font-medium cursor-pointer",O&&!E&&!_&&" text-[#80FFF9]"),onClick:e=>{e.stopPropagation(),$e(!1),w(!1),null==k||k(null),We(!1),I(!1),R(!1),z(!0)},children:n.jsxs("div",{className:"flex items-center justify-between w-full",children:[n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:"flex items-center text-[12px] md:text-[13px] text-[#E8E8E6]",children:"Prototype"}),n.jsx("span",{className:"text-[10px] md:text-[12px] text-[#FFFFFF]/50 font-inter",children:"Frontend Only Apps"})]}),O&&!_&&n.jsx(Uk,{className:"h-4 w-4 text-[#80FFF9]"})]})}),n.jsx(EE,{children:n.jsxs(T,{open:!vt&&ht||void 0,delayDuration:ft?0:9999999,children:[n.jsx(D,{asChild:!0,children:n.jsx("div",{className:fb("relative transition-all duration-200",ht?"before:absolute before:inset-[-4px] bg-[#2D2D2F]/40 rounded-[8px] before:shadow-lg before:pointer-events-none":""),children:n.jsx("div",{className:fb("px-2 min-h-[40px] rounded-[8px] py-[6px] text-[#DDDDE6] hover:bg-[#2D2D2F]/40 font-medium cursor-pointer",E&&!_&&" text-[#80FFF9]"),onClick:e=>{ht&&Ot(),zt(e)},children:n.jsxs("div",{className:"flex items-center justify-between w-full",children:[n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:"flex items-center text-[12px] md:text-[13px] text-[#E8E8E6]",children:"Mobile"}),n.jsx("span",{className:"text-[10px] md:text-[12px] text-[#FFFFFF]/50 font-inter",children:"Agent for mobile apps"})]}),E&&!_&&n.jsx(Uk,{className:"h-4 w-4 text-[#80FFF9]"})]})})})}),n.jsx(L,{side:"right",align:"center",sideOffset:30,className:fb(ft?"bg-[#DDDDE6] font-['Inter'] text-black border-0":"relative p-0 bg-none border-none bg-transparent"),children:ft?null:n.jsxs(Ek.div,{initial:{opacity:0,x:-6},animate:{opacity:1,x:0},exit:{opacity:0,x:-6},transition:{duration:.3,ease:"easeOut"},className:"max-w-[280px] p-4 bg-[#FFFFFF] border-[#2E2F34] text-white shadow-2xl rounded-[12px]",style:{backdropFilter:"blur(20px)"},children:[n.jsxs("div",{className:"flex flex-col gap-4",children:[n.jsxs("div",{className:"flex flex-col gap-2",children:[n.jsx("div",{className:"flex items-center justify-between",children:n.jsx("span",{className:"text-[16px] font-['Inter'] font-semibold text-[#0F0F10]",children:"Introducing Mobile agent"})}),n.jsx("p",{className:"text-[12px] font-medium font-['Inter'] text-[#0F0F1080] leading-[16px]",children:"Select Mobile agent from the agent dropdown and start building mobile apps."})]}),n.jsxs("div",{className:"flex items-center justify-end w-full gap-2",children:[n.jsx("button",{onClick:()=>{window.open(cv,"_blank")},className:"px-3 py-[6px] bg-[#0B0B0B24] hover:bg-[#0B0B0B]/20 font-['Inter'] rounded-[6px] text-[#000000]/50 text-[12px] font-medium transition-colors",type:"button",children:"Learn More"}),n.jsx("button",{onClick:e=>{e.stopPropagation(),Ot()},className:"px-3 py-[6px] bg-[#0B0B0B] hover:bg-[#333333] font-['Inter'] rounded-[6px] text-[#FFFFFF] text-[12px] font-medium transition-colors",type:"button",children:"Okay, Got it"})]})]}),n.jsxs("div",{className:"absolute z-[999] flex items-center justify-center transform -translate-y-1/2 -left-[24px] top-1/2",children:[n.jsx("div",{className:"w-2 h-2 bg-white rounded-full"}),n.jsx("div",{className:"bg-white min-w-4 min-h-[1px] mr-[2px]"})]})]})})]})}),(S||be())&&n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"h-px bg-[#242424] my-2"}),F&&n.jsx("div",{className:"px-3 py-2 text-[#8A8F98] text-[12px] md:text-[13px]",children:"Loading custom agents..."}),!F&&N.map(e=>n.jsx("div",{className:fb("px-2 min-h-[40px] rounded-[8px] py-[6px] text-[#DDDDE6] hover:bg-[#2D2D2F]/40 font-medium cursor-pointer",_===e.id&&" text-[#80FFF9]"),onClick:t=>{t.stopPropagation(),null==k||k(e.id),We(!1)},children:n.jsxs("div",{className:"flex items-center justify-between w-full",children:[n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:"text-[12px] md:text-[13px] truncate max-w-[160px] capitalize",children:e.prompt_name.replaceAll("_"," ").replaceAll("_user","")}),n.jsx("span",{className:"text-[10px] md:text-[12px] text-[#FFFFFF]/50",children:Bt(e.parent_prompt)})]}),_===e.id&&n.jsx(Uk,{className:"h-4 w-4 text-[#80FFF9] flex-shrink-0"})]})},e.id)),!F&&N.length>0&&n.jsx(n.Fragment,{children:n.jsx("div",{className:"h-px bg-[#242424] my-2"})}),n.jsxs("div",{className:"px-2 py-[6px] text-[#DDDDE6] group hover:bg-[#F8FF990F] font-medium cursor-pointer rounded-[8px] flex items-center gap-2",onClick:e=>{e.stopPropagation(),Pt()},children:[n.jsx(wS,{className:"w-4 h-4 group-hover:text-[#F8FF99] text-[#E8E8E6]"}),n.jsx("span",{className:"text-[13px] group-hover:text-[#F8FF99] md:text-[13px]",children:"Create New Agent"})]}),n.jsxs("div",{className:"px-2 py-[6px] justify-between text-[#DDDDE6] hover:bg-[#2D2D2F]/40 font-medium cursor-pointer rounded-[8px] flex items-center gap-2",onClick:e=>{e.stopPropagation(),Rt()},children:[n.jsxs("div",{className:"flex items-center gap-[6px]",children:[n.jsx(LE,{size:16,color:"#E8E8E6"}),n.jsxs("span",{className:"text-[12px] md:text-[13px]",children:[" ","Manage Agents"]})]}),n.jsx(JE,{})]})]})]})}),document.body),St&&Ke&&!vt&&Re.createPortal(n.jsxs("div",{ref:Nt,className:"fixed z-[9999] bg-[#18181A] border border-[#242424] rounded-[12px] shadow-lg overflow-hidden",style:{top:`${Qe.top}px`,left:`${Qe.left}px`},children:[n.jsxs("div",{className:"flex items-center px-4 py-3 hover:bg-[#242424] cursor-pointer transition-colors",onClick:()=>{yg("privacy_selection_changed",{selectedPrivacy:"public",previousPrivacy:et,source:"dropdown",userTier:de}),tt("public"),Je(!1)},children:[n.jsx("div",{className:"min-w-[20px] min-h-[20px] max-w-[20px] max-h-[20px] rounded-full border border-white flex items-center justify-center mr-4",children:"public"===et&&n.jsx("div",{className:"w-[10px] h-[10px] rounded-full bg-[#D9D9D9]"})}),n.jsxs("div",{className:"flex flex-col gap-[2px]",children:[n.jsxs("div",{className:fb("flex items-center gap-1 text-sm font-medium text-white/60","public"===et&&"text-white"),children:["Public"," ",n.jsx(YI,{size:14,className:fb("public"!==et&&"opacity-60")})]}),n.jsx("div",{className:fb("text-xs text-white/50","public"===et&&"text-white"),children:"Anyone can view and explore"})]})]}),n.jsxs("div",{className:"flex items-center px-4 py-3 hover:bg-[#242424] cursor-pointer transition-colors",onClick:()=>{yg("privacy_selection_changed",{selectedPrivacy:"private",previousPrivacy:et,source:"dropdown",userTier:de,wasBlocked:"free"===de}),"free"===de?(st(!1),at.open({triggerLocation:"default"})):tt("private"),Je(!1)},children:[n.jsx("div",{className:"min-w-[20px] min-h-[20px] max-w-[20px] max-h-[20px] rounded-full border border-white flex items-center justify-center mr-4",children:"private"===et&&n.jsx("div",{className:"w-[10px] h-[10px] rounded-full bg-[#D9D9D9]"})}),n.jsx("div",{className:"flex items-center",children:n.jsxs("div",{className:"flex flex-col gap-[2px]",children:[n.jsxs("div",{className:fb("flex items-center gap-1 text-sm font-medium text-white/60","private"===et&&"text-white"),children:["Private"," ",n.jsx(rA,{size:14,opacity:"private"===et?1:.3})]}),n.jsx("div",{className:fb("text-xs text-white/50","private"===et&&"text-white"),children:"Only visible to yourself, unless shared"})]})})]})]}),document.body)]}),n.jsxs("div",{className:"flex items-center gap-2",children:[St&&"free"===de&&n.jsxs("button",{ref:Ft,type:"button",className:fb("rounded-full gap-1 h-9 max-md:w-9 flex items-center justify-center p-2 text-[12px] md:text-[14px] font-medium transition-colors","free"===de?Ke?"bg-[#80FFF91A] text-[#80FFF9] hover:bg-white/10":"bg-[#FFFFFF0D] text-[#E6E6E6] hover:bg-white/10":"bg-[#FFFFFF0D] text-[#E6E6E6] cursor-default opacity-80"),onClick:e=>{e.stopPropagation(),yg("privacy_button_clicked",{currentPrivacy:et,userTier:de,isFreeUser:"free"===de,isMobile:vt,action:"free"!==de?"disabled_click":vt?"open_mobile_sheet":"toggle_dropdown"}),"free"===de&&(vt?st(!0):(Ke||Mt(),Je(!Ke)))},children:["public"===et?n.jsx(YI,{size:20,color:Ke?"#80FFF9":void 0}):n.jsx(rA,{size:18,color:Ke?"#80FFF9":"#ffffff",opacity:1}),!vt&&("public"===et?"Public":"Private")]}),n.jsx(EE,{children:n.jsxs(T,{delayDuration:0,children:[n.jsx(D,{asChild:!0,children:n.jsx("button",{className:fb("p-2 rounded-full flex items-center justify-center hover:bg-white/10  ","size-9",f?"bg-[#66EAFF0D] border-[#66EAFF1F] border-[1px]":"bg-white bg-opacity-5"),type:"button",onClick:()=>{vt?(ct("main"),ot(!0)):null==m||m(),fg(XS.ADVANCED_CONTROL_CLICKED)},children:n.jsx(Ek.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},transition:{duration:.3,ease:"easeOut"},children:f?n.jsx(GI,{color:"#66eaff",size:18}):Me?n.jsx(ZI,{size:18}):n.jsx(GI,{className:"w-6 h-6 max-md",color:"#ccc",size:18})},f?"options":Me?"mcp":"options")})}),n.jsx(L,{className:"max-w-xs bg-[#fff] text-[#0f0f10] font-medium tracking-[-0.3px] text-sm px-4 py-2.5 rounded-lg shadow-lg z-[9999]",sideOffset:5,asChild:!0,children:n.jsxs(Ek.div,{initial:{opacity:0,y:-2,scale:1},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:1},transition:{type:"tween",ease:"easeOut",duration:.4},children:["Advanced Controls",n.jsx(P,{className:"fill-[#fff]"})]})})]})}),oe&&n.jsx("div",{className:"rounded-lg bg-none",children:n.jsxs(T,{children:[n.jsx(D,{asChild:!0,children:n.jsx("button",{className:fb("p-2 pointer-events-auto rounded-[30px] flex items-center justify-center size-9 transition-colors duration-200",ae?"bg-white text-black hover:bg-white":"bg-white bg-opacity-5 hover:bg-white hover:bg-opacity-5",re&&"opacity-50 cursor-not-allowed"),type:"button",onClick:()=>{Lg(ae?"recording_stopped":"recording_started",{component:"TextareaWithAttachmentV2"}),oe()},disabled:re,children:re?n.jsx(hS,{className:"w-4 h-4 md:w-5 md:h-5 animate-spin"}):ae?n.jsx(Ek.div,{animate:{scale:[1,1.2,1]},transition:{duration:1.5,repeat:1/0,ease:"easeInOut"},children:n.jsx(FE,{width:"16",height:"16",fill:"currentColor",className:"md:size-[18px]"})}):n.jsx(NE,{width:"16",height:"16",fill:"currentColor",className:"md:size-[18px]"})})}),n.jsx(M,{children:n.jsx(L,{className:"max-w-xs bg-[#fff] text-[#0f0f10] font-medium tracking-[-0.3px] text-sm px-4 py-2.5 rounded-lg shadow-lg z-[9999]",sideOffset:5,asChild:!0,children:n.jsxs(Ek.div,{initial:{opacity:0,y:-2,scale:1},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:1},transition:{type:"tween",ease:"easeOut",duration:.4},children:[re?"Transcribing audio...":ae?"Stop recording":"Start voice recording",n.jsx(P,{className:"fill-[#fff]"})]})})})]})}),n.jsx(wb,{disabled:o,className:"px-[24px] md:py-[8px] rounded-[30px] h-9 w-[44px] md:w-[56px] text-white transition-colors bg-[#ECECEC] flex items-center justify-center",onClick:r,type:"button",children:n.jsx("div",{className:"flex items-center justify-center w-full",children:p?n.jsx(hS,{className:"w-5 h-5 text-black animate-spin"}):n.jsx("img",{src:yA,alt:"Submit",className:"min-w-6 min-h-6 max-w-6 max-h-6"})})})]})]}),!_t&&!kt&&n.jsx(CE,{size:250,duration:12,delay:9,colorFrom:"#80FFF9",colorTo:"transparent"}),n.jsx(VI,{open:rt,onOpenChange:e=>{ot(e),e||ct("main")},trigger:n.jsx("div",{}),showDefaultFooter:!1,contentPadding:"p-0",maxWidth:"max-w-full",children:n.jsxs("div",{className:"max-h-[70vh] pb-4 overflow-y-auto bg-[#111112] rounded-t-[24px]",children:[n.jsxs("div",{className:"flex items-center sticky z-[100] top-0 justify-center w-full py-4 border-b border-[#242424] bg-[#111112]",children:["main"!==lt&&n.jsx(wb,{variant:"ghost",size:"sm",onClick:()=>ct("main"),className:"absolute w-8 h-8 p-1 left-4 hover:bg-white/10",children:n.jsx(qI,{})}),n.jsx("span",{className:"font-medium font-inter text-[18px]",children:"main"===lt?"Advanced Controls":"models"===lt?"Select Model":"templates"===lt?"Select Template":"mcp-tools"===lt?"Select MCP Tools":"Custom Agents"}),n.jsx("button",{type:"button",title:"Close",onClick:()=>{ot(!1)},className:"absolute p-1 rounded-full top-4 right-4 bg-white/5 hover:bg-white/10",children:n.jsx(RS,{className:"w-4 h-4"})})]}),"main"===lt&&n.jsxs("div",{className:"p-4 space-y-4 text-white",children:[n.jsxs("div",{title:"Ultra Mode",className:fb("transition-colors duration-200 w-full hover:opacity-80 min-h-[40px] text-[16px] font-medium flex items-center gap-[6px] p-4 rounded-[8px] justify-between cursor-pointer",Q?"bg-[#FF8C661A]":"bg-[#FFFFFF0D]"),onClick:e=>{e.preventDefault(),"pro_mode"===de||be()?null==X||X(!Q):(ot(!1),at.open({triggerLocation:"default"}))},children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(lA,{size:24,color:Q?"#FF8C66":"#E6E6E6"}),n.jsxs("div",{className:fb("flex items-center font-inter font-medium gap-[2px]",Q?"text-[#FF8C66]":""),children:["Ultra thinking ",n.jsx(oA,{color:"#FF8C66",size:20})]})]}),n.jsx(cA,{checked:Q,onCheckedChange:e=>{"pro_mode"===de||be()?null==X||X(e):(ot(!1),at.open({triggerLocation:"default"}))},onClick:e=>e.stopPropagation(),className:"data-[state=unchecked]:bg-[#3B3B3B] data-[state=checked]:bg-[#FF8C66]"})]}),xe&&n.jsxs("div",{title:"Test Mode",className:fb("transition-colors duration-200 w-full hover:opacity-80 min-h-[40px] text-[16px] font-medium flex items-center gap-[6px] p-4 rounded-[8px] justify-between cursor-pointer",ee?"bg-[#66EAFF1A]":"bg-[#FFFFFF0D]"),onClick:e=>{e.preventDefault(),null==te||te(!ee)},children:[n.jsx("div",{className:"flex items-center gap-2",children:n.jsx("div",{className:fb("flex items-center font-inter font-medium gap-[2px]",ee?"text-[#66EAFF]":""),children:"Test Mode"})}),n.jsx(cA,{checked:ee,onCheckedChange:e=>{null==te||te(e)},onClick:e=>e.stopPropagation(),className:"data-[state=unchecked]:bg-[#3B3B3B] data-[state=checked]:bg-[#66EAFF]"})]}),K&&G.length>0&&n.jsx("div",{className:"flex w-full",onClick:()=>ct("models"),children:n.jsxs("div",{className:"flex flex-col w-full gap-2",children:[n.jsx("span",{className:"font-medium text-[#898F99] text-[14px] font-inter",children:"Select Model"}),n.jsxs("div",{className:" rounded-[12px] p-3 px-4 border border-[#242424] w-full flex items-center justify-between gap-3",children:[(()=>{var e;const t=NA(G,Z);return n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("img",{alt:"Modal Icon",src:t.icon,className:"w-5 h-5"}),n.jsx("span",{className:"font-medium font-inter text-[#FFFFFF]",children:t.name||"Select model"}),"pro_mode"==(null==(e=t.model)?void 0:e.user_tier)&&n.jsx("div",{className:"bg-[#FF8C661A] px-[6px] flex items-center justify-center rounded-[6px] h-[18px]",children:n.jsx("span",{className:"text-[#FF8C66] text-xs font-['Inter'] font-medium",children:"PRO"})})]})})(),n.jsx(qI,{className:"w-4 h-4 rotate-180",color:"#DDDDE6"})]})]})}),n.jsxs("div",{className:"flex flex-col gap-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"font-medium text-[#898F99] text-[14px] font-inter",children:"Select MCP Tools"}),n.jsx("span",{className:"font-medium px-2 py-[2px] bg-[#FFBD66] text-[#19191A] rounded-[6px]  text-[12px] font-inter",children:"new"})]}),n.jsxs("button",{type:"button",onClick:()=>ct("mcp-tools"),className:fb("w-full rounded-[12px] p-3 px-4 border border-[#242424] text-[#DDDDE6] hover:border-[#333] transition-colors flex items-center justify-between gap-3",ne&&ne.length>0&&"pl-3"),children:[n.jsxs("div",{className:"flex items-center flex-1 gap-3 overflow-hidden",children:[(!ne||0===ne.length)&&n.jsx(ME,{size:20}),n.jsx("div",{className:"flex flex-wrap items-center flex-1 gap-2 overflow-hidden",children:ne&&ne.length>0?n.jsxs("div",{className:"flex flex-wrap items-center flex-1 gap-2 overflow-hidden",children:[ne.slice(0,1).map((e,t)=>{const s=null==pt?void 0:pt.find(t=>t.id===e);return s?n.jsxs("div",{className:"flex items-center gap-2 bg-[#FFFFFF]/10 px-2 py-1 rounded-full",children:[s.icon?n.jsx("img",{src:s.icon,alt:s.display_name,className:"flex-shrink-0 w-4 h-4 rounded-sm"}):n.jsx(ME,{size:16}),n.jsx("span",{className:"text-sm text-[#DDDDE6] flex-shrink-0",children:s.display_name})]},`${e}-${t}`):null}),ne.length>1&&n.jsx("div",{className:"flex items-center gap-2 bg-[#FFFFFF]/10 px-2 py-1 rounded-full",children:n.jsxs("span",{className:"text-sm text-[#DDDDE6]",children:["+",ne.length-1," more"]})})]}):n.jsx("span",{className:"font-medium font-inter text-[#FFFFFF]",children:"Select MCP Tools"})})]}),n.jsx(qI,{className:"flex-shrink-0 w-4 h-4 rotate-180",color:"#DDDDE6"})]})]}),n.jsx("div",{className:"flex",onClick:()=>null==h?void 0:h(),children:n.jsxs("div",{className:"flex flex-col w-full gap-2",children:[n.jsx("span",{className:"font-medium text-[#898F99] text-[14px] font-inter",children:"GitHub"}),n.jsxs("div",{className:" rounded-[12px] p-3 px-4 border border-[#242424] flex items-center justify-between gap-3",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("img",{src:v&&b?jA:wA,alt:"GitHub",className:"w-6 h-6"}),n.jsx("span",{className:"font-medium font-inter text-[#FFFFFF]",children:v?b?b.split("/").pop():"Select repository":"Connect to GitHub"})]}),n.jsx(qI,{className:"w-4 h-4 rotate-180",color:"#DDDDE6"})]})]})}),n.jsx("div",{className:"flex w-full",onClick:()=>ct("templates"),children:n.jsxs("div",{className:"flex flex-col w-full gap-2",children:[n.jsx("span",{className:"font-medium text-[#898F99] text-[14px] font-inter",children:"Select Template"}),n.jsxs("div",{className:" w-full rounded-[12px] p-3 px-4 border flex items-center justify-between gap-2 border-[#242424]",children:[n.jsx("span",{className:"font-medium font-inter text-[#FFFFFF]",children:(()=>{var e;if(!$)return"Default template";const t=null==(e=null==V?void 0:V.templates)?void 0:e.find(e=>e.env_image===$);return(null==t?void 0:t.name)||(null==t?void 0:t.env_image)||$})()}),n.jsx(qI,{className:"w-4 h-4 rotate-180",color:"#DDDDE6"})]})]})}),St&&"free"!==de&&n.jsxs("div",{className:"flex flex-col gap-2",children:[n.jsx("span",{className:"font-medium text-[#898F99] text-[14px] font-inter",children:"Privacy"}),n.jsx("div",{className:"rounded-[12px] p-3 px-4 border border-[#242424] flex items-center gap-3",children:n.jsx(hA,{privacy:et})})]}),n.jsxs("div",{className:"flex flex-col gap-2",children:[n.jsx("span",{className:"font-medium text-[#898F99] text-[14px] font-inter",children:"Budget (Credits)"}),n.jsxs("div",{className:" rounded-[12px] border border-[#242424] relative",children:[n.jsx("button",{type:"button",title:"Decrease budget",onClick:()=>{const e=parseInt(mt);if(e>1){const t=(e-1).toString();null==q||q(t)}},className:"absolute left-3 top-1/2 transform -translate-y-1/2 z-10 w-[32px] h-[32px] flex items-center justify-center text-[#666] hover:text-[#999] transition-colors hover:bg-[#0F181A] rounded-sm",children:n.jsx(gS,{className:"h-4 w-4 text-[#DDDDE6]"})}),n.jsxs("div",{className:"flex items-center justify-center p-3 px-4",children:[n.jsx("img",{alt:"Budget",className:"text-[#B4A456] w-5 h-5 mr-2",src:gA}),n.jsx("input",{type:"number",min:"1",step:"1",value:mt,onChange:e=>{"0"!==e.target.value&&(null==q||q(e.target.value))},placeholder:"5",className:"w-16 bg-transparent text-center focus:outline-none text-[#FFFFFF] font-inter text-lg font-semibold [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none"})]}),n.jsx("button",{type:"button",title:"Increase budget",onClick:()=>{const e=(parseInt(mt)+1).toString();null==q||q(e)},className:"absolute right-3 top-1/2 transform -translate-y-1/2 z-10 w-[32px] h-[32px] flex items-center justify-center text-[#666] hover:text-[#999] transition-colors hover:bg-[#0F181A] rounded-sm",children:n.jsx(wS,{className:"h-4 w-4 text-[#DDDDE6]"})})]})]})]}),"models"===lt&&n.jsx("div",{className:"p-4 space-y-3",children:G.map(e=>n.jsx("div",{className:"p-4 rounded-[12px] cursor-pointer transition-colors bg-[#FFFFFF05]",onClick:()=>{if(!((e,t,n=!1)=>!!n||(e.user_tier?t===e.user_tier:!e.unavailable_tier||t!==e.unavailable_tier))(e,de,be()))return ot(!1),at.open({}),void ct("main");null==Y||Y(e.id),ct("main")},children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex items-start gap-2",children:[n.jsx("img",{alt:"Logo",className:"w-6 h-6 mt-1",src:NA([e],e.id).icon}),n.jsxs("div",{className:"flex flex-col",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:fb("font-medium font-inter text-[#E6E6E6]",Z===e.id&&"text-[#5CD2E5]"),children:e.name}),"pro_mode"==e.user_tier&&n.jsx("div",{className:"bg-[#FF8C661A] px-[6px] flex items-center justify-center rounded-[6px] h-[18px]",children:n.jsx("span",{className:"text-[#FF8C66] text-xs font-['Inter'] font-medium",children:"PRO"})})]}),e.description&&n.jsx("div",{className:"text-[14px] font-inter text-white/50",children:e.description})]})]}),Z===e.id&&n.jsx(Uk,{className:"h-6 w-6 text-[#5CD2E5]"})]})},e.id))}),"templates"===lt&&n.jsx("div",{className:"p-4 space-y-3",children:null==(ce=null==V?void 0:V.templates)?void 0:ce.map(e=>n.jsx("div",{className:"p-4 rounded-[12px] cursor-pointer transition-colors bg-[#FFFFFF05]",onClick:()=>{null==U||U(e.env_image),ct("main")},children:n.jsxs("div",{className:fb("flex items-start justify-between"),children:[n.jsx("div",{children:n.jsx("div",{className:fb("font-medium text-white",$==e.env_image&&"text-[#5CD2E5]"),children:e.name||e.env_image})}),$===e.env_image&&n.jsx(Uk,{className:"h-6 w-6 text-[#5CD2E5]"})]})},e.env_image))}),"mcp-tools"===lt&&n.jsx("div",{className:"p-4 space-y-3",children:pt&&Array.isArray(pt)&&pt.length>0?[...pt].sort((e,t)=>new Date(t.created_at).getTime()-new Date(e.created_at).getTime()).map(e=>{const t=(null==ne?void 0:ne.includes(e.id))||!1;return n.jsx("div",{className:"p-4 rounded-[12px] relative transition-colors bg-[#FFFFFF05] hover:bg-[#FFFFFF08]",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex items-start flex-1 min-w-0 gap-3",children:[n.jsx("div",{className:"flex items-center justify-center min-w-10 min-h-10 bg-[#272729] rounded-[12px]",children:e.icon?n.jsx("img",{src:e.icon,alt:e.display_name,className:"flex-shrink-0 w-6 h-6 rounded-sm"}):n.jsx(ME,{size:24})}),n.jsxs("div",{className:"flex flex-col flex-1 min-w-0",children:[n.jsx("div",{className:fb("font-medium font-inter text-[#E6E6E6]"),children:e.display_name}),e.description&&n.jsx("div",{className:"text-[14px] font-inter truncate text-white/50 mb-1",children:e.description})]})]}),"public"===e.type&&e.key_required?n.jsxs("button",{type:"button",className:"text-[#C4C4CC] backdrop-blur-lg flex items-center gap-1 px-[10px] rounded-full py-[6px] font-medium bg-[#FFFFFF14]",title:"Configure Button",onClick:()=>{he({title:"Configuration Required",description:"Please open the desktop app to configure this MCP server.",duration:5e3})},children:[n.jsx(LE,{size:20,color:"#E6E6E6"}),"Configure"]}):n.jsx(WI,{checked:t,onCheckedChange:t=>{if(!("pro_mode"===de||me||(null==pe?void 0:pe.is_pro_enabled)||be()))return ot(!1),he({title:"Pro Feature",description:"MCP tools are available for Pro users. Upgrade to use this feature.",duration:5e3}),void at.open({});if(t){const t=[...ne||[],e.id];null==se||se(t)}else{const t=(null==ne?void 0:ne.filter(t=>t!==e.id))||[];null==se||se(t)}},disabled:!1,checkedColor:"#F49B57"})]})},e.id)}):n.jsxs("div",{className:"p-8 text-center",children:[n.jsx(ME,{size:48,className:"mx-auto mb-4 opacity-50"}),n.jsx("div",{className:"mb-2 font-medium text-white/70",children:"No MCP tools available"}),n.jsx("div",{className:"text-sm text-white/50",children:"Contact your administrator to set up MCP tools"})]})})]})}),St&&n.jsxs(VI,{open:nt,onOpenChange:st,title:"Privacy Settings",showDefaultFooter:!1,maxWidth:"max-w-sm",contentPadding:"p-0",showCancel:!0,onCancel:()=>{st(!1)},trigger:n.jsx(n.Fragment,{}),children:[n.jsx("div",{className:"h-[1px] w-full bg-[#242424]"}),n.jsxs("div",{className:"p-4",children:[n.jsxs("div",{className:"flex items-center py-4 transition-colors cursor-pointer",onClick:()=>{yg("privacy_selection_changed",{selectedPrivacy:"public",previousPrivacy:et,source:"mobile_bottom_sheet",userTier:de}),tt("public"),st(!1)},children:[n.jsx("div",{className:"min-w-[20px] min-h-[20px] max-w-[20px] max-h-[20px] rounded-full border border-white flex items-center justify-center mr-4",children:"public"===et&&n.jsx("div",{className:"w-[10px] h-[10px] rounded-full bg-[#D9D9D9]"})}),n.jsxs("div",{className:"flex flex-col gap-[2px]",children:[n.jsxs("div",{className:fb("flex items-center gap-1 text-sm font-medium text-white/60","public"===et&&"text-white"),children:["Public"," ",n.jsx(YI,{size:14,className:fb("public"!==et&&"opacity-60")})]}),n.jsx("div",{className:fb("text-xs text-white/50","public"===et&&"text-white"),children:"Anyone can view and explore"})]})]}),n.jsxs("div",{className:"flex items-center py-4 transition-colors cursor-pointer",onClick:()=>{yg("privacy_selection_changed",{selectedPrivacy:"private",previousPrivacy:et,source:"mobile_bottom_sheet",userTier:de,wasBlocked:"free"===de}),"free"===de?(st(!1),at.open({triggerLocation:"default"})):tt("private"),st(!1)},children:[n.jsx("div",{className:"min-w-[20px] min-h-[20px] max-w-[20px] max-h-[20px] rounded-full border border-white flex items-center justify-center mr-4",children:"private"===et&&n.jsx("div",{className:"w-[10px] h-[10px] rounded-full bg-[#D9D9D9]"})}),n.jsx("div",{className:"flex items-center",children:n.jsxs("div",{className:"flex flex-col gap-[2px]",children:[n.jsxs("div",{className:fb("flex items-center gap-1 text-sm font-medium text-white/60","private"===et&&"text-white"),children:["Private"," ",n.jsx(rA,{size:14,opacity:"private"===et?1:.3})]}),n.jsx("div",{className:fb("text-xs text-white/50","private"===et&&"text-white"),children:"Only visible to yourself, unless shared"})]})})]})]})]}),n.jsxs(VI,{open:Ze,onOpenChange:Ye,title:"Select Agent",showDefaultFooter:!1,maxWidth:"max-w-sm",contentPadding:"p-0",showCancel:!0,onCancel:()=>{Ye(!1)},trigger:n.jsx(n.Fragment,{}),children:[n.jsx("div",{className:"h-[1px] w-full bg-[#242424]"}),n.jsxs("div",{className:"flex flex-col gap-2 p-4 max-h-[70dvh] overflow-y-auto",children:[n.jsx("div",{className:fb("h-auto p-4 text-[#DDDDE6] hover:bg-[#2D2D2F]/40 bg-[#FFFFFF]/5 rounded-[12px] font-medium cursor-pointer",!Ue&&!E&&!A&&!O&&!_&&" text-[#80FFF9]"),onClick:e=>{e.stopPropagation(),$e(!1),w(!1),null==k||k(null),Ye(!1),I(!1),R(!1),z(!1)},children:n.jsxs("div",{className:"flex items-start justify-between w-full",children:[n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:"text-[16px] text-[#E8E8E6]",children:"E-1"}),n.jsx("span",{className:"text-[14px] text-[#8A8F98] font-inter",children:"Stable & thorough"})]}),!Ue&&!E&&!A&&!O&&!_&&n.jsx(Uk,{className:"h-4 w-4 text-[#66EAFF]"})]})}),n.jsx("div",{className:fb("bg-[#FFFFFF]/5 h-auto rounded-[12px] p-4 text-[#DDDDE6] hover:bg-[#2D2D2F]/40 font-medium cursor-pointer",Ue&&!E&&!A&&!O&&!_&&" text-[#80FFF9]"),onClick:e=>{e.stopPropagation(),$e(!0),w(!0),null==k||k(null),Ye(!1),I(!1),R(!1),z(!1)},children:n.jsxs("div",{className:"flex items-start justify-between w-full",children:[n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:"flex items-center text-[16px] text-[#E8E8E6]",children:"E-1.1"}),n.jsx("span",{className:"text-[14px] text-[#FFFFFF]/50 font-inter",children:"Fast & flexible"})]}),Ue&&!A&&!O&&!_&&n.jsx(Uk,{className:"h-4 w-4 text-[#80FFF9]"})]})}),Et&&n.jsx("div",{className:fb("bg-[#FFFFFF]/5 h-auto rounded-[12px] p-4 text-[#DDDDE6] hover:bg-[#2D2D2F]/40 font-medium cursor-pointer",A&&!E&&!O&&!_&&" text-[#80FFF9]"),onClick:e=>{e.stopPropagation(),$e(!1),w(!1),null==k||k(null),Ye(!1),I(!1),R(!0),z(!1)},children:n.jsxs("div",{className:"flex items-start justify-between w-full",children:[n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:"flex items-center text-[16px] text-[#E8E8E6]",children:"E-1.5"}),n.jsx("span",{className:"text-[14px] text-[#FFFFFF]/50 font-inter",children:"Focused & Diligent"})]}),A&&!_?n.jsx(Uk,{className:"h-4 w-4 text-[#80FFF9]"}):n.jsx("span",{className:"text-[12px] bg-[#F49B571A] text-[#F49B57] rounded-full px-2 py-[2px]",children:"Beta"})]})}),It&&n.jsx("div",{className:fb("bg-[#FFFFFF]/5 h-auto rounded-[12px] p-4 text-[#DDDDE6] hover:bg-[#2D2D2F]/40 font-medium cursor-pointer",O&&!E&&!_&&" text-[#80FFF9]"),onClick:e=>{e.stopPropagation(),$e(!1),w(!1),null==k||k(null),Ye(!1),I(!1),R(!1),z(!0)},children:n.jsxs("div",{className:"flex items-start justify-between w-full",children:[n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:"flex items-center text-[16px] text-[#E8E8E6]",children:"Prototype"}),n.jsx("span",{className:"text-[14px] text-[#FFFFFF]/50 font-inter",children:"Experimental Agent"})]}),O&&!_&&n.jsx(Uk,{className:"h-4 w-4 text-[#80FFF9]"})]})}),n.jsx("div",{className:fb("bg-[#FFFFFF]/5 rounded-[12px] h-auto p-4  text-[#DDDDE6] hover:bg-[#2D2D2F]/40 font-medium cursor-pointer",E&&!_&&" text-[#80FFF9]"),onClick:e=>{ht&&Ot(),zt(e),Ye(!1)},children:n.jsxs("div",{className:"flex items-start justify-between w-full",children:[n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:"flex items-center text-[16px] text-[#E8E8E6]",children:"Mobile"}),n.jsx("span",{className:"text-[14px] text-[#FFFFFF]/50 font-inter",children:"Agent for mobile apps"})]}),E&&!_&&n.jsx(Uk,{className:"h-4 w-4 text-[#80FFF9]"})]})}),(S||be())&&n.jsxs(n.Fragment,{children:[n.jsx("div",{className:" bg-[#242424] my-2"}),F&&n.jsx("div",{className:"px-3 py-2 text-[#8A8F98] text-[12px] md:text-[13px]",children:"Loading custom agents..."}),!F&&N.map(e=>n.jsx("div",{className:fb("bg-[#FFFFFF]/5 rounded-[12px] h-auto  p-4 text-[#DDDDE6] hover:bg-[#2D2D2F]/40 font-medium cursor-pointer",_===e.id&&" text-[#80FFF9]"),onClick:t=>{t.stopPropagation(),null==k||k(e.id),Ye(!1)},children:n.jsxs("div",{className:"flex items-start justify-between w-full",children:[n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:"text-[16px] truncate max-w-[160px] capitalize",children:e.prompt_name.replaceAll("_"," ").replaceAll("_user","")}),n.jsx("span",{className:"text-[14px] text-[#FFFFFF]/50",children:Bt(e.parent_prompt)})]}),_===e.id&&n.jsx(Uk,{className:"h-4 w-4 text-[#80FFF9] flex-shrink-0"})]})},e.id)),!F&&N.length>0&&n.jsx(n.Fragment,{children:n.jsx("div",{className:"h-px bg-[#242424] my-2"})}),n.jsxs("div",{className:"px-2 py-[6px] text-[#DDDDE6] group hover:bg-[#F8FF990F] font-medium cursor-pointer rounded-[8px] flex items-center gap-2",onClick:e=>{e.stopPropagation(),Pt(),Ye(!1)},children:[n.jsx(wS,{className:"w-4 h-4 group-hover:text-[#F8FF99] text-[#E8E8E6]"}),n.jsx("span",{className:"text-[16px] group-hover:text-[#F8FF99] md:text-[13px]",children:"Create New Agent"})]}),n.jsxs("div",{className:"px-2 py-[6px] justify-between text-[#DDDDE6] hover:bg-[#2D2D2F]/40 font-medium cursor-pointer rounded-[8px] flex items-center gap-2",onClick:e=>{e.stopPropagation(),Rt(),Ye(!1)},children:[n.jsxs("div",{className:"flex items-center gap-[6px]",children:[n.jsx(LE,{size:16,color:"#E8E8E6"}),n.jsxs("span",{className:"text-[16px] md:text-[13px]",children:[" ","Manage Agents"]})]}),n.jsx(JE,{})]})]})]})]})]})]})},_A=V,kA=De.forwardRef(({className:e,...t},s)=>n.jsx(B,{ref:s,className:fb("focus:outline-none focus:ring-0 focus-visible:ring-0 focus-visible:ring-offset-0 focus-visible:outline-none",e),...t}));kA.displayName=B.displayName;const SA=W,EA=De.forwardRef(({className:e,...t},s)=>n.jsx(U,{ref:s,className:fb("focus:outline-none focus:ring-0 focus-visible:ring-0 focus-visible:ring-offset-0 focus-visible:outline-none",e),...t}));EA.displayName=U.displayName;const IA=De.forwardRef(({className:e,...t},s)=>n.jsx(O,{ref:s,className:fb("fixed inset-0 z-[60] bg-[#0e0e0f50] backdrop-blur-[5px] data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 focus:outline-none focus:ring-0 focus-visible:ring-0 focus-visible:ring-offset-0 focus-visible:outline-none",e),...t}));IA.displayName=O.displayName;const AA=De.forwardRef(({className:e,children:t,...s},i)=>{const a=De.useRef(!0);return De.useEffect(()=>{a.current=!0;const e=setTimeout(()=>{a.current=!1},300);return()=>clearTimeout(e)},[]),n.jsxs(SA,{children:[n.jsx(IA,{}),n.jsx(z,{ref:i,className:fb("fixed left-[50%] top-[50%] z-[60] grid w-full translate-x-[-50%] translate-y-[-50%] gap-0 bg-[#0E0E0F] border border-[#242424] rounded-[16px] shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] overflow-hidden focus:outline-none focus:ring-0 focus-visible:ring-0 focus-visible:ring-offset-0 focus-visible:outline-none",e),onOpenAutoFocus:e=>{e.preventDefault()},onInteractOutside:e=>{const t=e.target;t&&t.closest&&t.closest("[data-radix-dialog-content]")&&e.preventDefault()},onClick:e=>{e.stopPropagation()},...s,children:t})]})});AA.displayName=z.displayName;const TA=({className:e,...t})=>n.jsx("div",{className:fb("flex flex-col space-y-1.5 text-center sm:text-left bg-[#111112] border-b border-[#242424] p-6 focus:outline-none focus:ring-0 focus-visible:ring-0 focus-visible:ring-offset-0 focus-visible:outline-none",e),...t});TA.displayName="DialogHeader";const DA=({className:e,...t})=>n.jsx("div",{className:fb("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2 bg-[#111112] border-t border-[#242424] p-6 focus:outline-none focus:ring-0 focus-visible:ring-0 focus-visible:ring-offset-0 focus-visible:outline-none",e),...t});DA.displayName="DialogFooter";const MA=De.forwardRef(({className:e,...t},s)=>n.jsx(H,{ref:s,className:fb("text-[24px] font-[500] leading-[32px] text-[#DDDDE6] focus:outline-none focus:ring-0 focus-visible:ring-0 focus-visible:ring-offset-0 focus-visible:outline-none",e),...t}));MA.displayName=H.displayName;const LA=De.forwardRef(({className:e,...t},s)=>n.jsx($,{ref:s,className:fb("text-[15px] font-[500] leading-[24px] text-[#737780] font-['Inter'] focus:outline-none focus:ring-0 focus-visible:ring-0 focus-visible:ring-offset-0 focus-visible:outline-none",e),...t}));LA.displayName=$.displayName;const PA=({height:e="100%",gridHeight:t="500%",top:s="0",gridSizeX:i=20,gridSizeY:a=15,gridLineWidth:r=1,gridOpacity:o=.4,fadeIntensity:l=70,backgroundColor:c="#0F0F10",showFade:d=!0})=>{const u={container:{position:"absolute",inset:0,top:s,width:"100%",height:e,opacity:.8,backgroundColor:c,filter:"backdrop(blur(100px))"},gridContainer:{position:"relative",width:"100%",height:"100%",overflow:"hidden",perspective:"450px"},gridFade:{position:"absolute",zIndex:10,width:"100%",height:"100%",background:d?`radial-gradient(ellipse at 50% 50%, rgba(15, 15, 16, 0) 0%, rgba(15, 15, 16, 1) ${l}%)`:"transparent"},gridLines:{width:"100%",height:t,backgroundImage:`\n                linear-gradient(to right, rgba(128, 128, 128, ${o}) ${r}px, transparent ${r/2}px),\n                linear-gradient(to bottom, rgba(128, 128, 128, ${o}) ${r}px, transparent ${r/2}px)\n            `,backgroundSize:`${i}px ${a}px`,transformOrigin:"100% 0 0",animation:"retro-grid-animation 15s linear infinite"}};return n.jsxs("div",{style:u.container,className:"pointer-events-none md:overflow-auto",children:[n.jsx("style",{children:"\n        @keyframes retro-grid-animation {\n            0% {\n                transform: rotateX(45deg) translateY(-50%);\n            }\n            100% {\n                transform: rotateX(45deg) translateY(0);\n            }\n        }\n    "}),n.jsxs("div",{style:u.gridContainer,children:[n.jsx("div",{style:u.gridFade}),n.jsx("div",{style:u.gridLines})]})]})},RA=gv.logo.borderedLogoDark;function OA({triggerElement:e=null,defaultView:t="login",onSuccess:s,open:i,onOpenChange:a,openView:r,enableWelcomeModal:o=!1}){const[l,c]=De.useState(t),d=Me();return n.jsxs(_A,{open:i,onOpenChange:a,children:[n.jsx(kA,{asChild:!0,children:e}),n.jsxs(AA,{className:"max-w-[90vw] w-[900px] bg-[#131314] border-[#ffffff12] text-white md:max-h-[90vh] md:min-h-[628px] overflow-y-auto p-0",children:[n.jsxs(EA,{className:"absolute top-4 right-4 z-30 opacity-70 hover:opacity-100 transition-opacity",children:[n.jsx(RS,{className:"h-6 w-6 text-white"}),n.jsx("span",{className:"sr-only",children:"Close"})]}),n.jsx("div",{className:"flex flex-col gap-8 justify-center py-8 md:pb-[66px] md:pt-[56px] relative z-20",children:n.jsx("div",{className:"mt-6 space-y-6 max-w-[568px] mx-auto flex flex-col items-center w-full",children:n.jsxs("div",{className:"flex flex-col items-center w-full p-8 pt-0 space-y-6 text-center",children:[n.jsx("div",{className:"flex justify-center",children:n.jsx("img",{src:RA,className:"h-12 mb-4 md:h-24 w-fit",alt:"Emergent Logo"})}),n.jsxs("div",{className:"flex flex-col gap-2",children:[n.jsx("h2",{className:"text-[20px] text-nowrap md:text-[40px] font-brockmann font-medium text-white",children:"Continue with Emergent"}),n.jsx("div",{className:"inline-block text-[#898E98]",children:n.jsx("span",{className:" text-[13px] md:text-[16px] text-wrap md:whitespace-nowrap",children:"To use Emergent, Create a new account or log into an existing one."})})]}),n.jsxs("div",{className:"flex flex-col w-full pt-4 space-y-3  md:space-y-4 max-w-[414px] items-center",children:[n.jsx("button",{onClick:()=>d("/login"),className:"max-h-[40px] md:max-h-[56px] relative justify-center border-2 border-[#000000] rounded-[28px] text-white bg-[#1A1A1A] hover:bg-[#1D1D1D] w-full flex items-center gap-3 py-4 text-base font-semibold leading-6 tracking-wide transition-colors px-14",children:"Log In"}),n.jsx("button",{onClick:()=>d("/register"),className:"max-h-[40px] md:max-h-[56px] relative justify-center w-full flex items-center gap-3 py-4 text-base font-semibold leading-6 tracking-wide text-black transition-colors bg-white rounded-[28px] hover:bg-gray-100 px-14",children:"Sign Up"})]})]})})}),n.jsx(PA,{height:"50%",top:"50%",gridSizeX:70,gridSizeY:30,fadeIntensity:90,gridLineWidth:.3,gridOpacity:.6,backgroundColor:"#131314"})]})]})}const zA=gv.chips.surprise;function BA({config:e,showChips:t,onChipClick:s,hideRefreshButton:i=!1}){const[a,r]=De.useState({}),[o,l]=De.useState([]),[c,d]=De.useState(new Set),[u,p]=De.useState(0),{tier:m,isTrulyFreeUser:h}=Xg();De.useEffect(()=>{if((null==e?void 0:e.prompt_suggestions)&&Array.isArray(e.prompt_suggestions)){const t=e.prompt_suggestions.reduce((e,t)=>(e[t.category]||(e[t.category]=[]),e[t.category].push(t),e),{});r(t)}},[e]);const x=(e=!1)=>Object.keys(a).map(t=>{const n=a[t];if(e&&c.size>0){const e=n.filter(e=>!c.has(`${e.category}-${e.label}`)),t=e.length>0?e:n;return t[Math.floor(Math.random()*t.length)]}return n[Math.floor(Math.random()*n.length)]}),f=e=>{const t=new Set(c);e.forEach(e=>{t.add(`${e.category}-${e.label}`)});const n=Object.values(a).flat().length;if(t.size>.8*n){const t=new Set(e.map(e=>`${e.category}-${e.label}`));d(t)}else d(t)};De.useEffect(()=>{if(0===o.length&&Object.keys(a).length>0){const e=x(!1);l(e),f(e)}},[a]);const g=(null==e?void 0:e.prompt_suggestions)&&Array.isArray(e.prompt_suggestions)&&e.prompt_suggestions.length>0;return n.jsx(Pb,{mode:"wait",children:t&&g&&o.length>0&&n.jsx(Ek.div,{initial:{opacity:0,y:10,height:0},animate:{opacity:1,y:0,height:"auto"},exit:{opacity:0,y:-10,height:0},transition:{duration:.3,ease:"easeInOut",height:{duration:.3,ease:"easeInOut"}},className:"space-y-4",children:n.jsxs(Ek.div,{className:"flex  relative items-center pt-4 flex-wrap gap-[6px]  justify-between w-full   md:gap-[16px]",variants:{hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.05,delayChildren:.4}},exit:{opacity:0,transition:{staggerChildren:.03,staggerDirection:-1}}},initial:"hidden",animate:"visible",exit:"exit",children:[n.jsxs("div",{className:"flex flex-wrap gap-[6px] md:gap-3 justify-center  w-full",children:[o.map((e,t)=>n.jsxs(Ek.button,{variants:{hidden:{opacity:0,scale:1,y:4},visible:{opacity:1,scale:1,y:0,transition:{duration:.5,ease:"easeInOut"}},exit:{opacity:0,scale:1,y:-4,transition:{duration:.5,ease:"easeInOut"}}},onClick:()=>(e=>{s(e.prompt)})(e),whileHover:{y:-4,transition:{duration:.2,ease:"easeOut"}},whileTap:{scale:.95,transition:{duration:.1}},className:"group relative flex text-[#FFFFFF80] hover:text-[#FFFFFF] items-center gap-[6px] p-[6px] md:p-[10px] pr-[12px] bg-[#131314] hover:bg-[#18181A] border border-transparent  hover:border-[#323232] rounded-[8px] transition-colors duration-200 cursor-pointer "+(h()?"border-opacity-0":""),children:[n.jsx("img",{src:e.icon_url,alt:"Surprise",className:"w-4 h-4"}),n.jsx("span",{className:"text-sm leading-4 font-medium font-brockmann group-hover:drop-shadow-[0_0_8px_rgba(255,255,255,0.3)] transition-all duration-200",children:e.label})]},`${e.category}-${e.label}-${t}`)),n.jsxs(Ek.button,{variants:{hidden:{opacity:0,scale:1,y:4},visible:{opacity:1,scale:1,y:0,transition:{duration:.5,ease:"easeInOut"}},exit:{opacity:0,scale:1,y:-4,transition:{duration:.5,ease:"easeInOut"}}},onClick:()=>{const e=Object.values(a).flat(),t=e[Math.floor(Math.random()*e.length)];s(t.prompt)},whileHover:{y:-4,transition:{duration:.2,ease:"easeOut"}},whileTap:{scale:.95,transition:{duration:.1}},className:"group flex items-center gap-2 p-[6px] text-[14px]  md:p-[10px] pr-[12px] bg-[#131314] font-medium text-[#FFFFFF80] hover:text-[#FFFFFF] border border-[#232324] border-opacity-0 hover:bg-[#18181A] hover:border-[#323232] rounded-[8px] font-brockmann "+(h()?"border-opacity-0":""),children:[n.jsx("img",{src:zA,alt:"Surprise",className:"w-4 h-4"}),n.jsx("span",{className:"leading-4 group-hover:drop-shadow-[0_0_8px_rgba(255,255,255,0.3)] transition-all duration-200",children:"Surprise Me"})]})]}),!i&&n.jsx(Ek.button,{variants:{hidden:{opacity:0,scale:1,y:4},visible:{opacity:1,scale:1,y:0,transition:{duration:.5,ease:"easeInOut"}},exit:{opacity:0,scale:1,y:-4,transition:{duration:.5,ease:"easeInOut"}}},onClick:async()=>{p(e=>e+180);const e=x(!0);l(e),f(e)},whileTap:{scale:.95,transition:{duration:.1}},className:"group hidden md:absolute right-0 md:flex items-center gap-2 p-[6px]  md:p-[10px] text-[#7B7B80] hover:text-white hover:bg-[#18181A] rounded-[8px]  transition-colors duration-200",title:"Refresh suggestions",children:n.jsx(Ek.div,{animate:{rotate:u},transition:{duration:.5,ease:"easeInOut"},children:n.jsx(NS,{className:"w-4 h-4"})})})]})},"chips-container")})}function HA(e){return["/verify","/activate","/reset-password","/login","/register","/oauth"].some(t=>e.includes(t))}function $A(){const e=jt(),t=Le(),{toast:n}=on(),s=wt(Qm),i=wt(Xm),a=wt(eh),r=HA(t.pathname),{user:o}=Wg(),{data:l,error:c,isLoading:d,refetch:u}=Fx(void 0,{skip:!a||r||!o,pollingInterval:3e5}),{data:p=[],isLoading:m}=_x(void 0,{skip:!i}),h=De.useCallback(async(t=!1)=>{try{t||e(Wm(!0));const n=await u();if(n.data){const s=n.data.github.authorized,i=n.data.github.account_name;if(t||(e(Vm(s)),e(Gm(i))),s&&i){e(Zm([{installation_id:i,account_login:i,account_type:"User",user_github_login:i,app_slug:"emergent-ai",isPrimary:!0,account:{login:i,id:0,type:"User"},target_type:"User"}]))}return s}throw new Error("Failed to fetch user details")}catch(n){const s=n.message||"Failed to check GitHub connection";return t||e(qm(s)),!1}},[e,u]),x=De.useCallback(async()=>{try{e(Wm(!0)),f()}catch(t){e(qm(t.message||"Authentication failed"))}},[e]),f=De.useCallback(t=>{const{isPopup:n=!1,onSuccess:s,pollingEnabled:i=!0}=t||{};try{const t=Gt;if(n){e(Ym(!0));const n=window.open(t,"github-auth","width=600,height=700");if(i&&n){const t=setInterval(()=>{try{n.closed&&(clearInterval(t),e(Ym(!1)),setTimeout(()=>{h().then(e=>{e&&s&&s()})},1e3))}catch(i){}},1e3)}}else window.open(t,"_blank")}catch(a){e(qm(a.message||"Failed to open GitHub installation")),e(Ym(!1))}},[e,h]),[g]=Ax(),v=De.useCallback(async(t,s)=>{try{const e=await g({installationId:t,code:s}).unwrap();if(e.success)return n({title:"GitHub Connected",description:"Successfully connected to GitHub!"}),await h(),!0;throw new Error(e.error||"Failed to save installation")}catch(i){const t=i.message||"Failed to save GitHub installation";return e(qm(t)),n({title:"GitHub Connection Failed",description:t,variant:"destructive"}),!1}},[g,n,e,h]);return De.useEffect(()=>{p.length>0&&e(Zm(p))},[p,e]),De.useEffect(()=>{l&&(e(Vm(l.github.authorized)),e(Gm(l.github.account_name)))},[l,e]),De.useEffect(()=>{c&&e(qm("Failed to fetch user details"))},[c,e]),{isConnected:s.isConnected,isConnecting:s.isConnecting,primaryAccount:s.primaryAccount,installations:s.installations,connectionError:s.connectionError,authWindowOpen:s.authWindowOpen,isLoadingUserDetails:d,isLoadingInstallations:m,checkGitHubConnection:h,authenticate:x,redirectToGitHubInstallation:f,saveInstallation:v,setIsConnected:t=>e(Vm(t)),setIsConnecting:t=>e(Wm(t))}}var UA=De.forwardRef((e,t)=>n.jsx(Z.label,{...e,ref:t,onMouseDown:t=>{var n;t.target.closest("button, input, select, textarea")||(null==(n=e.onMouseDown)||n.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));UA.displayName="Label";var VA=UA;const WA=bb("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),qA=De.forwardRef(({className:e,...t},s)=>n.jsx(VA,{ref:s,className:fb(WA(),e),...t}));function GA({tabs:e,activeTab:t,onTabChange:s,className:i,fontSize:a="text-base",activeTabBgColor:r="bg-[#272729]",fontColor:o="text-white",padding:l="py-2 md:py-3"}){return n.jsx("div",{className:fb("w-full",i),children:n.jsx("div",{className:"grid w-full grid-cols-2 rounded-xl",children:e.map(e=>n.jsxs("button",{onClick:()=>s(e.id),className:fb(`rounded-lg ${l} ${o} font-[Brockmann] ${a} flex justify-center items-center gap-2 font-medium transition-colors`,t===e.id?r:"opacity-30"),children:[e.icon,e.label]},e.id))})})}function ZA({tabId:e,activeTab:t,children:s,className:i}){return e!==t?null:n.jsx("div",{className:fb("mt-4",i),children:s})}function YA({hoverIcon:e,icon:t,className:s,children:i,onClick:a,hoveringEndIcon:r,buttonClassName:o,loadingState:l=!1,loadingNode:c,disabled:d=!1}){const[u,p]=De.useState(!1);return n.jsxs(Pt.button,{disabled:d,onClick:a,type:"button",onMouseEnter:()=>p(!0),onMouseLeave:()=>p(!1),className:fb("flex font-medium max-h-[36px] px-0 py-[10px] text-[14px] gap-3 justify-between items-center",s),transition:{duration:.15},children:[n.jsxs("div",{className:fb("flex items-center gap-3"),children:[t&&!l&&n.jsx(Pt.img,{src:u&&e?e:t,alt:"icon",className:"w-5 h-5 transition-all ease-in-out group-hover/rotate:-rotate-12",initial:{opacity:1},animate:{},transition:{duration:.2}}),l&&c,n.jsx(Pt.span,{animate:{},transition:{duration:.2},children:i})]}),r&&n.jsx(Pt.img,{src:r,alt:"end icon",className:"w-5 h-5",initial:{opacity:0,x:-5},animate:{opacity:u?1:0,x:u?0:-5},transition:{duration:.2}})]})}qA.displayName=VA.displayName;const KA=gv.common.whiteGithub,JA=gv.common.githubGreen,QA=gv.common.greenLinkArrow;function XA({className:e}){const{isConnecting:t,setIsConnecting:s,redirectToGitHubInstallation:i,setIsConnected:a,isConnected:r}=$A();De.useEffect(()=>{r&&t&&s(!1)},[r,t,s]);const o=async()=>{try{const e=await Tp();return!(!e||!e.github||!0!==e.github.authorized)&&(a(!0),rn({title:"Success",description:"Successfully connected to GitHub"}),!0)}catch(e){return!1}finally{s(!1)}};return n.jsx(YA,{disabled:t,loadingNode:n.jsx(hS,{className:"animate-spin"}),loadingState:t,hoveringEndIcon:QA,hoverIcon:JA,icon:KA,className:fb(" hover:bg-[#2EE5720F] px-[10px] w-full hover:text-[#2EE572] opacity-70 hover:opacity-100 rounded-[8px]",e),onClick:async()=>{try{s(!0),fg(XS.GITHUB_EVENTS.CONNECT_TO_GITHUB_CTA_CLICKED),i({isPopup:!0,pollingEnabled:!1,onSuccess:async()=>{await o()&&window.location.reload()}}),(()=>{let e=0;const t=setInterval(async()=>{e++;const n=await o();(n||e>=10)&&(clearInterval(t),n?window.location.reload():e>=10&&s(!1))},3e3);setTimeout(()=>{clearInterval(t),s(!1)},31e3)})()}catch(e){s(!1),rn({title:"Error",description:"Failed to connect to GitHub",variant:"destructive"})}},children:"Connect to Github"})}function eT(e,t){if(!e||!t)return e||[];return e.map(e=>({...e,isPrimary:e.account_login===t})).sort((e,t)=>e.isPrimary?-1:t.isPrimary?1:"Organization"===e.account_type&&"Organization"!==t.account_type?-1:"Organization"!==e.account_type&&"Organization"===t.account_type?1:e.account_login.localeCompare(t.account_login))}function tT({color:e="#2EE572",size:t=16,innerSize:s=8,animate:i=!1,className:a}){const r=`${e}20`;return n.jsxs("div",{className:fb("rounded-full flex items-center justify-center",i&&"relative",a),style:{width:`${t}px`,height:`${t}px`,backgroundColor:r},children:[n.jsx("div",{className:fb("rounded-full",i&&"animate-pulse"),style:{width:`${s}px`,height:`${s}px`,backgroundColor:e}}),i&&n.jsx("div",{className:"absolute inset-0 rounded-full opacity-75 animate-ping",style:{backgroundColor:r}})]})}const nT=gv.common.lock,sT=gv.common.repo,iT=gv.icons.branch,aT=gv.icons.githubIcon,rT=gv.feature.arrowDark,oT=De.forwardRef(({githubUrl:e,branchName:t,onGithubUrlChange:s,onBranchNameChange:i,className:a,onClose:r},o)=>{var l,c,d,u,p;const[m,h]=De.useState("private"),[x,f]=De.useState(!1),[g,v]=De.useState(""),[b,y]=De.useState(""),[w,j]=De.useState(""),[C,N]=De.useState(""),[F,_]=De.useState(""),[k,S]=De.useState([]),[E,I]=De.useState([]),[A,T]=De.useState(""),[D,M]=De.useState(""),[L,P]=De.useState(""),[R,O]=De.useState(!1),[z,B]=De.useState(!1),[H,$]=De.useState([]),[U,V]=De.useState([]),[W,q]=De.useState(null),[G,Z]=De.useState(!1),[Y,K]=De.useState(!1),[J,Q]=De.useState(!1),[X,ee]=De.useState(!1),[te,ne]=De.useState(!1),[se,ie]=De.useState(""),[ae,re]=De.useState(!1),[oe,le]=De.useState(!1),{isMobile:ce}=QE(),[de,ue]=De.useState(!!ce),{user:pe}=Wg(),[me,he]=De.useState(window.innerHeight),xe=ce&&me<.75*window.screen.height,fe=()=>`absolute z-50 w-full bg-[#131314] border border-[#242424] rounded-md shadow-lg overflow-y-auto ${xe?"bottom-full mb-1 max-h-[30vh]":"top-full max-h-[40vh]"}`,ge=De.useRef(null),ve=De.useRef(null),be=De.useRef(null),ye=De.useRef(null),we=De.useRef(null),[je,Ce]=De.useState(""),Ne=De.useRef(!1),[Fe,_e]=De.useState(null),ke=e=>{_e(e)},[Se,Ee]=De.useState([]),Ie=De.useRef(null),{redirectToGitHubInstallation:Ae,isConnected:Te}=$A(),{data:Me=[],isLoading:Pe,refetch:Re}=_x(),Oe=HA(Le().pathname),{data:ze}=Fx(void 0,{skip:Oe||!pe}),{data:Be,isFetching:He,error:$e,refetch:Ue}=Sx(Fe?{accountLogin:Fe.accountLogin,repoName:Fe.repoName}:{accountLogin:"",repoName:""},{skip:!Fe}),{data:Ve=[],isLoading:We}=kx(F&&"add-new-account"!==F?F:"",{skip:!F||"add-new-account"===F});De.useImperativeHandle(o,()=>({reset:()=>{v(""),y(""),j(""),N(""),ie(""),_(""),S([]),I([]),T(""),M(""),P(""),$([]),V([]),K(!1),Q(!1),ee(!1),ne(!1),q(null),we.current=null,Ce(""),ke(null)}}));const qe=[{id:"private",label:"Private Repository",icon:n.jsx("img",{src:nT,alt:"Lock"})},{id:"public",label:"Public Repository",icon:n.jsx(YI,{className:"w-5 h-5"})}];De.useEffect(()=>{e&&("public"===m?j(e):v(e)),t&&("public"===m?N(t):y(t))},[]);const Ge=e=>{f(!0),h(e),fg(XS.GITHUB_EVENTS.GITHUB_REPO_TAB_CHANGED,{selectedTab:e}),"public"===e?(s(w),i(C)):(s(g),i(b)),setTimeout(()=>{f(!1)},100)};De.useEffect(()=>{O(Pe)},[Pe]),De.useEffect(()=>{B(We)},[We]),De.useEffect(()=>{Z(He)},[He]),De.useEffect(()=>{if(Be){$(Be),V(Be),Ne.current=!1;const e=Be.find(e=>"main"===e.name||"master"===e.name);e?Xe(e.name):Be.length>0&&Xe(Be[0].name)}else $e&&(q("Failed to fetch branches. Please try again."),$([]),V([]),Ne.current=!1)},[Be,$e]),De.useEffect(()=>{if(!F||"add-new-account"===F)return;const e=Ve||[];S(e),""===A.trim()&&I(e)},[F,null==Ve?void 0:Ve.length,A]),De.useEffect(()=>{const e=setTimeout(()=>{if(""===A.trim())I(k);else{const e=A.toLowerCase(),t=k.filter(t=>t.name.toLowerCase().includes(e)||t.full_name.toLowerCase().includes(e));I(t)}},100);return()=>clearTimeout(e)},[k,A]),De.useEffect(()=>{const e="public"===m?L:D;if(""===e.trim())V(H);else{const t=e.toLowerCase(),n=H.filter(e=>e.name.toLowerCase().includes(t));V(n)}},[H,D,L,m]),De.useEffect(()=>{const e=()=>{he(window.innerHeight)};return window.addEventListener("resize",e),window.addEventListener("orientationchange",e),window.visualViewport&&window.visualViewport.addEventListener("resize",e),()=>{window.removeEventListener("resize",e),window.removeEventListener("orientationchange",e),window.visualViewport&&window.visualViewport.removeEventListener("resize",e)}},[]),De.useEffect(()=>{const e=e=>{setTimeout(()=>{!ae||e.target.closest(".installation-dropdown")||e.target.closest(".installation-input")||re(!1),!ge.current||ge.current.contains(e.target)||ge.current.contains(document.activeElement)||K(!1),!ve.current||ve.current.contains(e.target)||ve.current.contains(document.activeElement)||Q(!1),!be.current||be.current.contains(e.target)||be.current.contains(document.activeElement)||ee(!1),!ye.current||ye.current.contains(e.target)||ye.current.contains(document.activeElement)||ne(!1)},50)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e),Ie.current&&clearTimeout(Ie.current)}},[]);const Ze=(e,t=!1)=>{if(!e)return;if(Ne.current&&!t)return;Ne.current=!0;const[n,s]=e.split("/");if(!n||!s)return q("Invalid repository name format"),void(Ne.current=!1);const a=(null==Fe?void 0:Fe.accountLogin)===n&&(null==Fe?void 0:Fe.repoName)===s;a||t||($([]),V([]),M(""),"public"===m?N(""):y(""),i("")),q(null),ke({accountLogin:n,repoName:s}),(t||a)&&setTimeout(async()=>{try{const e=await Ue();if(e.data){$(e.data),V(e.data);const t=e.data.find(e=>"main"===e.name||"master"===e.name);t?Xe(t.name):e.data.length>0&&Xe(e.data[0].name)}}catch(e){}},100)},Ye=e=>`https://github.com/${e}`,Ke=e=>{if(!e)return"";const t=e.match(/github\.com\/([\w.-]+\/[\w.-]+)/);if(t){let e=t[1];return e.endsWith(".git")&&(e=e.slice(0,-4)),e}return""},Je=e=>{"add-new-account"!==e?(_(e),S([]),I([]),$([]),i(""),Ce("")):et()},Qe=e=>{"public"===m?(j(e),N("")):(v(e),y("")),s(e),i(""),$([]),V([]),M("");const t=Ke(e);t&&(we.current=null,setTimeout(()=>{Ze(t,!0)},100))},Xe=e=>{"public"===m?N(e):y(e),i(e)},et=async()=>{try{le(!0),q(null),Ae({isPopup:!0,onSuccess:()=>{Re()}})}catch(e){q(e instanceof Error?e.message:"An unexpected error occurred")}finally{le(!1)}},tt=()=>{"public"===m?(j(""),N(""),ie("")):(v(""),y("")),s(""),i(""),we.current=null,ke(null),$([]),V([]),M(""),P("")},nt=e=>{const t=e.target.value;if(ie(""),!t)return j(""),void("public"===m&&s(""));const n=(e=>{if(!e)return"";let t=e.endsWith(".git")?e.slice(0,-4):e;return t.startsWith("http://")?t=t.replace("http://","https://"):t.startsWith("https://")||(t=`https://${t}`),t})(t);if(!(i=n)||!/^https?:\/\/github\.com\/[\w.-]+\/[\w.-]+(\.git)?$/.test(i))return ie("Please enter a valid GitHub repository URL"),void j(t);var i;if(j(n),"public"===m){s(n);const e=Ke(n);e&&e!==Ke(w)&&(we.current=null,setTimeout(()=>{Ze(e,!0)},100))}},st=R||z||G||x;De.useEffect(()=>{const e="public"===m?w:g;if(e){if("public"===m?C:b);else if(H.length>0){const e=H.find(e=>"main"===e.name||"master"===e.name);Xe(e?e.name:H[0].name)}if(0===H.length&&!G&&Fe&&!Ne.current){const t=Ke(e);t&&(we.current&&we.current===t||(we.current=t,Ze(t)))}}},[m,H,G,w,C,g,b,Fe]),De.useEffect(()=>{var e;if(!Me||0===Me.length||!(null==(e=null==ze?void 0:ze.github)?void 0:e.account_name)||Se.length>0)return;(()=>{var e,t;try{const n=ze.github.account_name,s=eT(Me,n),i=(null==(e=s.find(e=>e.isPrimary))?void 0:e.installation_id)||(null==(t=s[0])?void 0:t.installation_id);_(i),Ee(s)}catch(n){q("Failed to process GitHub installations. Please try again.")}})()},[null==Me?void 0:Me.length,null==(l=null==ze?void 0:ze.github)?void 0:l.account_name,Se.length]);return ce?n.jsx("div",{className:fb("space-y-4 relative",a),children:n.jsx(VI,{trigger:n.jsx("div",{}),title:"",open:!0,onOpenChange:e=>{!e&&r&&r()},onCancel:()=>{ue(!1),r&&r()},maxWidth:"max-w-full",showDefaultFooter:!1,footer:n.jsx(wb,{onClick:()=>{r&&r()},children:n.jsxs("div",{className:"flex items-center justify-center w-full gap-4",children:["Submit",n.jsx("img",{src:rT,alt:"Arrow",className:"w-5 h-5"})]})}),children:n.jsxs("div",{className:"space-y-4 h-[70dvh] overflow-y-auto px-0",children:[n.jsx(GA,{tabs:qe,activeTab:m,onTabChange:Ge,className:"w-full p-2 rounded-2xl",fontSize:"text-sm",fontColor:"text-white/80",padding:"py-3"}),x&&n.jsx("div",{className:"flex items-center justify-center py-8",children:n.jsx(hS,{className:"h-8 w-8 text-[#4ADE80] animate-spin"})}),!x&&n.jsxs(n.Fragment,{children:[n.jsx(ZA,{tabId:"public",activeTab:m,className:"px-2 py-0 pt-2 pb-6",children:n.jsx("div",{className:"flex flex-col gap-6",children:n.jsxs("div",{className:"flex flex-col items-center gap-6",children:[n.jsxs("div",{className:"flex flex-col flex-1 w-full gap-2",children:[n.jsx("div",{className:"flex items-center justify-between gap-1",children:n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(YI,{className:"w-5 h-5 text-[#898F99]"}),n.jsx(qA,{htmlFor:"public-repo-selector",className:"text-[#898F99] font-[Inter] text-sm font-medium",children:"Repository URL"})]})}),n.jsx("div",{className:"flex items-center gap-2",children:n.jsxs("div",{className:"relative flex-1",ref:be,children:[n.jsxs("div",{className:fb("flex items-center justify-between w-full h-14 bg-[#131314] border rounded-[8px] p-3 text-white repository-input",x&&"opacity-70 cursor-not-allowed",X&&"border-white/50",se?"border-[#FF4545]":"border-[#242424]"),onClick:e=>{e.preventDefault(),e.stopPropagation(),x||ee(!0)},children:[n.jsxs("div",{className:"flex items-center w-full",children:[n.jsx(_S,{className:"h-4 w-4 text-[#8F8F98] mr-2"}),n.jsx(qS,{type:"text",value:w,onChange:nt,onClick:e=>{e.stopPropagation(),x||ee(!0)},onFocus:e=>{e.stopPropagation(),x||ee(!0)},onBlur:e=>{var t;const n=e.relatedTarget;(null==(t=be.current)?void 0:t.contains(n))||setTimeout(()=>{var e;(null==(e=be.current)?void 0:e.contains(document.activeElement))||ee(!1)},150)},placeholder:"Enter a GitHub repository URL",className:"w-full p-0 bg-transparent border-0 focus-visible:ring-0 focus-visible:ring-offset-0 text-[#C4C4CC] font-medium font-['Inter']",disabled:x})]}),n.jsx("div",{className:"flex items-center justify-center w-8 h-8 ml-2 cursor-pointer",onClick:e=>{e.preventDefault(),e.stopPropagation(),x||ee(!X)},children:x?n.jsx(hS,{className:"h-5 w-5 animate-spin text-[#8F8F98]"}):n.jsx(Vk,{className:fb("h-5 w-5 transition-transform duration-200",X?"transform rotate-180":"","text-[#8F8F98]")})})]}),X&&n.jsx("div",{className:fe(),children:n.jsxs("div",{className:"p-2",children:[n.jsxs("div",{className:"px-3 py-2 text-[#8F8F98] text-sm",children:["Enter a GitHub repository URL (e.g., https://github.com/username/repo)",n.jsx("br",{}),n.jsx("span",{className:"text-[#6B7280] text-xs",children:"Only GitHub URLs are supported. .git suffix will be automatically removed."})]}),!se&&!!Ke(w)&&n.jsxs("div",{className:"px-3 min-h-[40px] rounded-[8px] py-2 text-[#DDDDE6] hover:bg-[#2D2D2F]/40 font-medium cursor-pointer flex items-center justify-between",onClick:()=>{Qe(w),ee(!1)},children:[n.jsx("div",{className:"flex items-center gap-2",children:n.jsx("span",{children:Ke(w)})}),n.jsx(Uk,{className:"h-4 w-4 text-[#1BB4CC]"})]})]})}),w&&n.jsx(wb,{type:"button",variant:"ghost",size:"icon",onClick:e=>{e.preventDefault(),e.stopPropagation(),tt(),ee(!1),ne(!1)},className:"absolute w-8 h-8 transform -translate-y-1/2 rounded-full right-10 top-1/2 hover:bg-transparent focus:outline-none",title:"Clear selected repository",children:n.jsx(RS,{className:"h-4 w-4 text-[#8F8F98] mx-auto"})})]})}),se&&n.jsx("div",{className:"text-[#FF4545] text-sm font-medium font-['Inter'] mt-1",children:se})]}),n.jsxs("div",{className:"flex flex-col items-start flex-1 w-full gap-2",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("img",{alt:"Branch",src:iT,className:"w-5 h-5"}),n.jsx(qA,{htmlFor:"public-branch-name",className:"text-[#898F99] font-[Inter] text-sm font-medium",children:"Branch"})]}),n.jsxs("div",{className:"relative w-full",ref:ye,children:[n.jsxs("div",{className:fb("flex items-center justify-between w-full h-14 bg-[#131314] border border-[#242424] rounded-[8px] p-3 text-white repository-input",(x||!w)&&"opacity-70 cursor-not-allowed",te&&"border-white/50"),onClick:e=>{e.preventDefault(),e.stopPropagation(),!x&&w&&ne(!0)},children:[n.jsx("div",{className:"relative flex items-center w-full",children:n.jsx(qS,{type:"text",value:te?L:C,onClick:e=>{e.stopPropagation(),!x&&w&&(ne(!0),P(""))},onFocus:e=>{e.stopPropagation(),!x&&w&&(ne(!0),P(""))},onBlur:e=>{var t;const n=e.relatedTarget;(null==(t=ye.current)?void 0:t.contains(n))||setTimeout(()=>{var e;(null==(e=ye.current)?void 0:e.contains(document.activeElement))||(ne(!1),P(""))},150)},onChange:e=>{e.stopPropagation(),te&&P(e.target.value)},placeholder:G?"Loading branches...":0===H.length&&w?"No branches found":w?"Enter or select branch name":"Select a repository first",className:"w-full p-0 bg-transparent border-0 focus-visible:ring-0 focus-visible:ring-offset-0 text-[#C4C4CC] font-medium font-['Inter']",disabled:x||!w})}),n.jsx("div",{className:"flex items-center justify-center w-8 h-8 ml-2 cursor-pointer",onClick:e=>{e.preventDefault(),e.stopPropagation(),!x&&w&&ne(!te)},children:x?n.jsx(hS,{className:"h-5 w-5 animate-spin text-[#8F8F98]"}):n.jsx(Vk,{className:fb("h-5 w-5 transition-transform duration-200",te?"transform rotate-180":"",w?"text-[#8F8F98]":"text-[#8F8F98]/50",x||!w?"opacity-50 cursor-not-allowed":"")})})]}),te&&w&&n.jsx("div",{className:fe(),children:n.jsx("div",{className:"py-1 overflow-y-auto",children:G?null:0===H.length?n.jsx("div",{className:"px-3 py-2 text-[#8F8F98] text-sm",children:"No branches available for this repository"}):n.jsx(n.Fragment,{children:0===U.length?n.jsx("div",{className:"px-3 py-2 text-[#8F8F98] text-sm",children:L?"No matching branches found":"No branches found"}):n.jsx("div",{className:"flex flex-col gap-[6px] p-2",children:U.map(e=>n.jsx("div",{className:fb("px-3 min-h-[40px] rounded-[8px] py-2 text-[#DDDDE6] hover:bg-[#2D2D2F]/40 font-medium cursor-pointer",e.name===C&&"bg-[#172426] text-[#1BB4CC] hover:bg-[#172426] hover:text-[#1BB4CC]"),onClick:t=>{t.preventDefault(),t.stopPropagation(),P(""),ne(!1),setTimeout(()=>{Xe(e.name)},50)},children:n.jsxs("div",{className:"flex items-center justify-between w-full",children:[n.jsx("span",{children:e.name}),e.name===C&&n.jsx(Uk,{className:"h-4 w-4 text-[#1BB4CC]"})]})},e.name))})})})})]})]})]})})}),n.jsx(ZA,{tabId:"private",activeTab:m,className:"px-2 py-0 pt-2 pb-6",children:R?n.jsx("div",{className:"flex items-center justify-center py-8",children:n.jsx(hS,{className:"h-8 w-8 text-[#4ADE80] animate-spin"})}):Te?n.jsxs("div",{className:"flex flex-col gap-6",children:[n.jsxs("div",{className:"flex flex-col gap-2",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("img",{alt:"GitHub",src:aT,className:"w-4 h-4"}),n.jsx(qA,{htmlFor:"installation-selector",className:"text-[#898F99] font-[Inter] text-sm font-medium",children:"Connected Organizations"})]}),n.jsxs("div",{className:"flex items-center gap-1 font-[Inter] text-sm font-medium text-[#2EE572]",children:[n.jsx(tT,{color:"#2EE572",size:20,innerSize:8,animate:!0,className:""})," ",(null==(it=Se.find(e=>e.isPrimary))?void 0:it.installation_id)||"Primary Account"]})]}),n.jsxs("div",{className:"relative",children:[n.jsxs("div",{className:`flex items-center justify-between w-full h-14 bg-[#131314] border ${ae?"border-white/50":"border-[#242424]"} rounded-md p-3 text-white installation-input`,onClick:()=>{K(!1),Q(!1),re(!ae)},children:[n.jsx("div",{className:"flex items-center w-full",children:n.jsx("div",{className:"relative flex-1",children:F?n.jsxs("div",{className:"flex items-center",children:[(null==(at=Se.find(e=>e.installation_id===F))?void 0:at.account_login)||"Select a GitHub account","User"===(null==(rt=Se.find(e=>e.installation_id===F))?void 0:rt.account_type)&&!(null==(ot=Se.find(e=>e.installation_id===F))?void 0:ot.isPrimary)&&n.jsx("span",{className:"text-xs text-[#DDDDE6] rounded-full bg-[#FFFFFF0D] ml-1 px-2 py-1 font-['Inter'] font-medium",children:"Collaborator"})]}):n.jsx("span",{className:"text-[#8F8F98]",children:"Select a GitHub account"})})}),n.jsx(Vk,{className:"h-4 w-4 text-[#898F99] transition-transform "+(ae?"rotate-180":"")})]}),Se.length>0&&ae&&n.jsx("div",{className:`${fe()} installation-dropdown`,children:n.jsxs("div",{className:"flex flex-col gap-[6px] p-2",children:[Se.map(e=>n.jsx("div",{className:fb("px-3 min-h-[40px] rounded-[8px] py-2  text-[#DDDDE6] hover:bg-[#2D2D2F]/40 font-medium cursor-pointer",F===e.installation_id&&"bg-[#172426] text-[#1BB4CC] hover:bg-[#172426] hover:text-[#1BB4CC]"),onClick:()=>{Je(e.installation_id),re(!1)},children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{children:e.account_login}),"User"===e.account_type&&!e.isPrimary&&n.jsx("span",{className:"text-xs text-[#DDDDE6] rounded-full bg-[#FFFFFF0D] ml-1 px-2 py-1 font-['Inter'] font-medium",children:"Collaborator"})]}),F===e.installation_id&&n.jsx(Uk,{className:"h-4 w-4 text-[#1BB4CC]"})]})},e.installation_id)),n.jsx("div",{className:"border-t border-[#ffffff12] my-1"}),n.jsx("div",{className:"px-3 min-h-[40px] rounded-[8px] py-2 text-[#4ADE80] hover:bg-[#172426] hover:text-[#4ADE80] font-medium cursor-pointer",onClick:()=>{et(),re(!1)},children:n.jsxs("div",{className:"flex items-center gap-2",children:[oe?n.jsx(hS,{className:"w-4 h-4 animate-spin"}):n.jsx(wS,{className:"w-4 h-4"}),oe?"Adding Account...":"Add New Github Organizations"]})})]})})]})]}),n.jsxs("div",{className:"flex flex-col items-center w-full gap-4 md:flex-row",children:[n.jsxs("div",{className:"flex flex-col flex-1 w-full gap-2 md:w-fit",children:[n.jsx("div",{className:"flex items-center justify-between gap-1",children:n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("img",{alt:"Repository",src:sT,className:"w-5 h-5"}),n.jsx(qA,{htmlFor:"repo-selector",className:"text-[#898F99] font-[Inter] text-sm font-medium",children:"Select Repo"})]})}),n.jsx("div",{className:"flex items-center gap-2",children:n.jsxs("div",{className:"relative flex-1",ref:ge,children:[n.jsxs("div",{className:fb("flex items-center justify-between w-full h-14 bg-[#131314] border border-[#242424] rounded-[8px] p-3 text-white repository-input",(!F||z&&0===k.length)&&"opacity-70 cursor-not-allowed",Y&&"border-white/50"),onClick:e=>{e.preventDefault(),e.stopPropagation(),F&&!z&&k.length>0&&(re(!1),K(!0))},children:[n.jsxs("div",{className:"flex items-center w-full",children:[n.jsx(_S,{className:"h-4 w-4 text-[#8F8F98] mr-2"}),n.jsx(qS,{type:"text",value:A,onChange:e=>{e.stopPropagation(),T(e.target.value)},onClick:e=>{e.stopPropagation(),F&&!z&&k.length>0&&(re(!1),K(!0))},onFocus:e=>{e.stopPropagation(),F&&!z&&k.length>0&&(re(!1),K(!0))},onBlur:e=>{var t;const n=e.relatedTarget;(null==(t=ge.current)?void 0:t.contains(n))||setTimeout(()=>{var e;(null==(e=ge.current)?void 0:e.contains(document.activeElement))||K(!1)},150)},placeholder:z?"Loading repositories...":0===k.length?"No repositories found":je?`Selected: ${je}`:"Search for a repository",className:"w-full p-0  bg-transparent border-0 focus-visible:ring-0 focus-visible:ring-offset-0 text-[#C4C4CC] font-medium font-['Inter']",disabled:!F||z&&0===k.length})]}),n.jsx("div",{className:"flex items-center justify-center w-8 h-8 cursor-pointer",onClick:e=>{e.preventDefault(),e.stopPropagation(),F&&!z&&k.length>0&&(re(!1),K(!Y))},children:z?n.jsx(hS,{className:"h-5 w-5 animate-spin text-[#8F8F98]"}):n.jsx(Vk,{className:fb("h-5 w-5 transition-transform duration-200",Y?"transform rotate-180":"",F&&0!==k.length?"text-[#8F8F98]":"text-[#8F8F98]/50",!F||z||0===k.length?"opacity-50 cursor-not-allowed":"")})})]}),g&&n.jsx(wb,{type:"button",variant:"ghost",size:"icon",onClick:e=>{e.preventDefault(),e.stopPropagation(),tt(),Ce(""),T(""),K(!1),Q(!1)},className:"absolute w-8 h-8 transform -translate-y-1/2 rounded-full right-10 top-1/2 hover:bg-transparent focus:outline-none",title:"Clear selected repository",children:n.jsx(RS,{className:"h-4 w-4 text-[#8F8F98] mx-auto"})}),Y&&F&&n.jsx("div",{className:fe(),children:n.jsx("div",{className:"py-1 overflow-y-auto",children:z?n.jsxs("div",{className:"flex items-center justify-center p-4",children:[n.jsx(hS,{className:"h-5 w-5 text-[#4ADE80] animate-spin mr-2"}),n.jsx("span",{className:"text-white",children:"Loading repositories..."})]}):0===E.length?n.jsx("div",{className:"px-3 py-2 text-[#8F8F98] text-sm",children:A?"No repositories match your search":"No repositories found"}):n.jsx("div",{className:"flex flex-col gap-[6px] p-2",children:E.map(e=>n.jsx("div",{className:fb("px-3 min-h-[40px] rounded-[8px] py-2 text-[#DDDDE6] hover:bg-[#2D2D2F]/40 font-medium cursor-pointer",je===e.name&&"bg-[#172426] text-[#1BB4CC] hover:bg-[#172426] hover:text-[#1BB4CC]"),onClick:t=>{t.preventDefault(),t.stopPropagation(),Ce(e.name),T(e.name),M(""),K(!1),setTimeout(()=>{Qe(Ye(e.full_name))},50)},children:n.jsxs("div",{className:"flex items-center justify-between w-full",children:[n.jsx("span",{children:e.name}),je===e.name&&n.jsx(Uk,{className:"h-4 w-4 text-[#1BB4CC]"})]})},e.id))})})})]})})]}),n.jsxs("div",{className:"flex flex-col items-start w-full gap-2 md:w-fit",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("img",{alt:"Branch",src:iT,className:"w-5 h-5"}),n.jsx(qA,{htmlFor:"branch-name",className:"text-[#898F99] font-[Inter] text-sm font-medium",children:"Select Branch"})]}),n.jsxs("div",{className:"relative w-full md:w-48",ref:ve,children:[n.jsxs("div",{className:fb("flex items-center justify-between w-full h-14 bg-[#131314] border border-[#242424] rounded-[8px] p-3 text-white repository-input",(!g||G)&&"opacity-70 cursor-not-allowed",J&&"border-white/50"),onClick:e=>{e.preventDefault(),e.stopPropagation(),g&&!G&&(re(!1),K(!1),Q(!0))},children:[n.jsx("div",{className:"relative flex items-center w-full",children:n.jsx(qS,{type:"text",value:J?D:b,onClick:e=>{e.stopPropagation(),g&&!G&&(re(!1),K(!1),Q(!0),M(""))},onFocus:e=>{e.stopPropagation(),g&&!G&&(re(!1),K(!1),Q(!0),M(""))},onBlur:e=>{var t;const n=e.relatedTarget;(null==(t=ve.current)?void 0:t.contains(n))||setTimeout(()=>{var e;(null==(e=ve.current)?void 0:e.contains(document.activeElement))||(Q(!1),M(""))},150)},onChange:e=>{e.stopPropagation(),J&&M(e.target.value)},placeholder:G?"Loading branches...":0===H.length&&g?"No branches found":g?"Enter or select branch name":"Select a repository first",className:"w-full p-0 bg-transparent border-0 focus-visible:ring-0 focus-visible:ring-offset-0 text-[#C4C4CC] font-medium font-['Inter']",disabled:!g||G})}),n.jsx("div",{className:"flex items-center justify-center w-8 h-8 ml-2 cursor-pointer",onClick:e=>{e.preventDefault(),e.stopPropagation(),g&&!G&&(re(!1),K(!1),Q(!J))},children:G?n.jsx(hS,{className:"h-5 w-5 animate-spin text-[#8F8F98]"}):n.jsx(Vk,{className:fb("h-5 w-5 transition-transform duration-200",J?"transform rotate-180":"",g?"text-[#8F8F98]":"text-[#8F8F98]/50",!g||G?"opacity-50 cursor-not-allowed":"")})})]}),J&&g&&n.jsx("div",{className:`${fe()} rounded-[8px]`,children:n.jsx("div",{className:"py-1 overflow-y-auto",children:G?null:0===H.length?n.jsx("div",{className:"px-3 py-2 text-[#8F8F98] text-sm",children:"No branches available for this repository"}):n.jsx(n.Fragment,{children:0===U.length?n.jsx("div",{className:"px-3 py-2 text-[#8F8F98] text-sm",children:D?"No matching branches found":"No branches found"}):n.jsx("div",{className:"flex flex-col gap-[6px] p-2",children:U.map(e=>n.jsx("div",{className:fb("px-3 min-h-[40px] rounded-[8px] py-2 text-[#DDDDE6] hover:bg-[#2D2D2F]/40 font-medium cursor-pointer",e.name===b&&"bg-[#172426] text-[#1BB4CC] hover:bg-[#172426] hover:text-[#1BB4CC]"),onClick:t=>{t.preventDefault(),t.stopPropagation(),M(""),Q(!1),setTimeout(()=>{Xe(e.name)},50)},children:n.jsxs("div",{className:"flex items-center justify-between w-full",children:[n.jsx("span",{children:e.name}),e.name===b&&n.jsx(Uk,{className:"h-4 w-4 text-[#1BB4CC]"})]})},e.name))})})})})]})]})]}),W&&n.jsx("p",{className:"text-[#FF4545] font-[Inter] text-sm font-medium",children:W}),!st&&!W&&Se.length>0&&F&&"add-new-account"!==F&&0===k.length&&n.jsx("p",{className:"text-[#DDDDE6]/50 font-[Inter] text-sm font-medium",children:"No repositories found for this account"}),!st&&!W&&A&&0===E.length&&k.length>0&&n.jsx("p",{className:"text-[#DDDDE6]/50 font-[Inter] text-sm font-medium",children:"No repositories match your search"}),!st&&!G&&!W&&g&&!G&&0===H.length&&n.jsx("p",{className:"text-[#DDDDE6]/50 font-[Inter] text-sm font-medium",children:"No branches found for this repository. Please check if the repository is empty or has any branches."})]}):n.jsxs("div",{className:"relative p-6 overflow-hidden rounded-lg",children:[n.jsx("div",{className:"absolute inset-0 overflow-hidden",children:n.jsx("div",{className:"absolute inset-0",style:{backgroundImage:"repeating-linear-gradient(\n                        45deg,\n                        transparent,\n                        transparent 4px,\n                        rgba(255, 255, 255, 0.03) 4px,\n                        rgba(255, 255, 255, 0.03) 6px,\n                        transparent 6px,\n                        transparent 10px\n                      )"}})}),n.jsxs("div",{className:"relative z-10 flex flex-col items-center justify-between space-y-8",children:[n.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[n.jsx("h2",{className:"text-base text-center font-['Inter'] font-bold text-white",children:"Github Authentication Required"}),n.jsx("p",{className:"text-[#5C5F66] text-base text-center font-['Inter'] max-w-md",children:"Connect your GitHub account to access all your private and public repositories."})]}),n.jsx("div",{className:"flex items-center justify-center",children:n.jsx(XA,{className:"rounded-full px-4 bg-[#009939] hover:bg-[#00993950] transition-all ease-in-out opacity-100"})})]})]})})]})]})})}):n.jsxs("div",{className:fb("space-y-4 border border-[#ffffff12] rounded-xl bg-gradient-to-br from-[#131314] via-[#161618] to-[#1A1A1C] backdrop-blur-sm",a),children:[n.jsx(GA,{tabs:qe,activeTab:m,onTabChange:Ge,className:"w-full p-2.5 pb-0 bg-white/02"}),x&&n.jsx("div",{className:"flex items-center justify-center py-8",children:n.jsx(hS,{className:"h-8 w-8 text-[#4ADE80] animate-spin"})}),!x&&n.jsxs(n.Fragment,{children:[n.jsx(ZA,{tabId:"public",activeTab:m,className:"px-2.5 pt-2 pb-6",children:n.jsx("div",{className:"flex flex-col gap-6",children:n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("div",{className:"flex flex-col flex-1 gap-2",children:[n.jsx("div",{className:"flex items-center justify-between gap-1",children:n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(YI,{className:"w-5 h-5 text-[#898F99]"}),n.jsx(qA,{htmlFor:"public-repo-selector",className:"text-[#898F99] font-[Inter] text-sm font-medium",children:"Repository URL"})]})}),n.jsx("div",{className:"flex items-center gap-2",children:n.jsxs("div",{className:"relative flex-1",ref:be,children:[n.jsxs("div",{className:fb("flex items-center justify-between w-full h-14 bg-[#131314] border rounded-[8px] p-3 text-white repository-input",x&&"opacity-70 cursor-not-allowed",X&&"border-white/50",se?"border-[#FF4545]":"border-[#242424]"),onClick:e=>{e.preventDefault(),e.stopPropagation(),x||ee(!0)},children:[n.jsxs("div",{className:"flex items-center w-full",children:[n.jsx(_S,{className:"h-4 w-4 text-[#8F8F98] mr-2"}),n.jsx(qS,{type:"text",value:w,onChange:nt,onClick:e=>{e.stopPropagation(),x||ee(!0)},onFocus:e=>{e.stopPropagation(),x||ee(!0)},onBlur:e=>{var t;const n=e.relatedTarget;(null==(t=be.current)?void 0:t.contains(n))||setTimeout(()=>{var e;(null==(e=be.current)?void 0:e.contains(document.activeElement))||ee(!1)},150)},placeholder:"Enter a GitHub repository URL",className:"w-full p-0 bg-transparent border-0 focus-visible:ring-0 focus-visible:ring-offset-0 text-[#C4C4CC] font-medium font-['Inter']",disabled:x})]}),n.jsx("div",{className:"flex items-center justify-center w-8 h-8 ml-2 cursor-pointer",onClick:e=>{e.preventDefault(),e.stopPropagation(),x||ee(!X)},children:x?n.jsx(hS,{className:"h-5 w-5 animate-spin text-[#8F8F98]"}):n.jsx(Vk,{className:fb("h-5 w-5 transition-transform duration-200",X?"transform rotate-180":"","text-[#8F8F98]")})})]}),X&&n.jsx("div",{className:"absolute z-50 w-full top-full bg-[#131314] border border-[#242424] rounded-md shadow-lg max-h-[40vh] overflow-y-auto",children:n.jsxs("div",{className:"p-2",children:[n.jsxs("div",{className:"px-3 py-2 text-[#8F8F98] text-sm",children:["Enter a GitHub repository URL (e.g., https://github.com/username/repo)",n.jsx("br",{}),n.jsx("span",{className:"text-[#6B7280] text-xs",children:"Only GitHub URLs are supported. .git suffix will be automatically removed."})]}),!se&&!!Ke(w)&&n.jsxs("div",{className:"px-3 min-h-[40px] rounded-[8px] py-2 text-[#DDDDE6] hover:bg-[#2D2D2F]/40 font-medium cursor-pointer flex items-center justify-between",onClick:()=>{Qe(w),ee(!1)},children:[n.jsx("div",{className:"flex items-center gap-2",children:n.jsx("span",{children:Ke(w)})}),n.jsx(Uk,{className:"h-4 w-4 text-[#1BB4CC]"})]})]})}),w&&n.jsx(wb,{type:"button",variant:"ghost",size:"icon",onClick:e=>{e.preventDefault(),e.stopPropagation(),tt(),ee(!1),ne(!1)},className:"absolute w-8 h-8 transform -translate-y-1/2 rounded-full right-10 top-1/2 hover:bg-transparent focus:outline-none",title:"Clear selected repository",children:n.jsx(RS,{className:"h-4 w-4 text-[#8F8F98] mx-auto"})})]})}),se&&n.jsx("div",{className:"text-[#FF4545] text-sm font-medium font-['Inter'] mt-1",children:se})]}),n.jsxs("div",{className:"flex flex-col gap-2",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("img",{alt:"Branch",src:iT,className:"w-5 h-5"}),n.jsx(qA,{htmlFor:"public-branch-name",className:"text-[#898F99] font-[Inter] text-sm font-medium",children:"Branch"})]}),n.jsxs("div",{className:"relative w-48",ref:ye,children:[n.jsxs("div",{className:fb("flex items-center justify-between w-full h-14 bg-[#131314] border border-[#242424] rounded-[8px] p-3 text-white repository-input",(x||!w)&&"opacity-70 cursor-not-allowed",te&&"border-white/50"),onClick:e=>{e.preventDefault(),e.stopPropagation(),!x&&w&&ne(!0)},children:[n.jsx("div",{className:"relative flex items-center w-full",children:n.jsx(qS,{type:"text",value:te?L:C,onClick:e=>{e.stopPropagation(),!x&&w&&(ne(!0),P(""))},onFocus:e=>{e.stopPropagation(),!x&&w&&(ne(!0),P(""))},onBlur:e=>{var t;const n=e.relatedTarget;(null==(t=ye.current)?void 0:t.contains(n))||setTimeout(()=>{var e;(null==(e=ye.current)?void 0:e.contains(document.activeElement))||(ne(!1),P(""))},150)},onChange:e=>{e.stopPropagation(),te&&P(e.target.value)},placeholder:G?"Loading branches...":0===H.length&&w?"No branches found":w?"Enter or select branch name":"Select a repository first",className:"w-full p-0 bg-transparent border-0 focus-visible:ring-0 focus-visible:ring-offset-0 text-[#C4C4CC] font-medium font-['Inter']",disabled:x||!w})}),n.jsx("div",{className:"flex items-center justify-center w-8 h-8 ml-2 cursor-pointer",onClick:e=>{e.preventDefault(),e.stopPropagation(),!x&&w&&ne(!te)},children:x?n.jsx(hS,{className:"h-5 w-5 animate-spin text-[#8F8F98]"}):n.jsx(Vk,{className:fb("h-5 w-5 transition-transform duration-200",te?"transform rotate-180":"",w?"text-[#8F8F98]":"text-[#8F8F98]/50",x||!w?"opacity-50 cursor-not-allowed":"")})})]}),te&&w&&n.jsx("div",{className:"absolute z-50 w-full top-full bg-[#131314] border border-[#242424] rounded-md shadow-lg max-h-[40vh] overflow-y-auto",children:n.jsx("div",{className:"py-1 overflow-y-auto",children:G?null:0===H.length?n.jsx("div",{className:"px-3 py-2 text-[#8F8F98] text-sm",children:"No branches available for this repository"}):n.jsx(n.Fragment,{children:0===U.length?n.jsx("div",{className:"px-3 py-2 text-[#8F8F98] text-sm",children:L?"No matching branches found":"No branches found"}):n.jsx("div",{className:"flex flex-col gap-[6px] p-2",children:U.map(e=>n.jsx("div",{className:fb("px-3 min-h-[40px] rounded-[8px] py-2 text-[#DDDDE6] hover:bg-[#2D2D2F]/40 font-medium cursor-pointer",e.name===C&&"bg-[#172426] text-[#1BB4CC] hover:bg-[#172426] hover:text-[#1BB4CC]"),onClick:t=>{t.preventDefault(),t.stopPropagation(),P(""),ne(!1),setTimeout(()=>{Xe(e.name)},50)},children:n.jsxs("div",{className:"flex items-center justify-between w-full",children:[n.jsx("span",{children:e.name}),e.name===C&&n.jsx(Uk,{className:"h-4 w-4 text-[#1BB4CC]"})]})},e.name))})})})})]})]})]})})}),n.jsx(ZA,{tabId:"private",activeTab:m,className:"px-6 py-0 pt-2 pb-6",children:R?n.jsx("div",{className:"flex items-center justify-center py-8",children:n.jsx(hS,{className:"h-8 w-8 text-[#4ADE80] animate-spin"})}):Te?n.jsxs("div",{className:"flex flex-col gap-6",children:[n.jsxs("div",{className:"flex flex-col gap-2",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("img",{alt:"GitHub",src:aT,className:"w-4 h-4"}),n.jsx(qA,{htmlFor:"installation-selector",className:"text-[#898F99] font-[Inter] text-sm font-medium",children:"Connected Organizations"})]}),n.jsxs("div",{className:"flex items-center gap-1 font-[Inter] text-sm font-medium text-[#2EE572]",children:[n.jsx(tT,{color:"#2EE572",size:20,innerSize:8,animate:!0,className:""})," ",(null==(c=Se.find(e=>e.isPrimary))?void 0:c.installation_id)||"Primary Account"]})]}),n.jsxs("div",{className:"relative",children:[n.jsxs("div",{className:`flex items-center justify-between w-full h-14 bg-[#131314] border ${ae?"border-white/50":"border-[#242424]"} rounded-md p-3 text-white installation-input`,onClick:()=>{K(!1),Q(!1),re(!ae)},children:[n.jsx("div",{className:"flex items-center w-full",children:n.jsx("div",{className:"relative flex-1",children:F?n.jsxs("div",{className:"flex items-center",children:[(null==(d=Se.find(e=>e.installation_id===F))?void 0:d.account_login)||"Select a GitHub account","User"===(null==(u=Se.find(e=>e.installation_id===F))?void 0:u.account_type)&&!(null==(p=Se.find(e=>e.installation_id===F))?void 0:p.isPrimary)&&n.jsx("span",{className:"text-xs text-[#DDDDE6] rounded-full bg-[#FFFFFF0D] ml-1 px-2 py-1 font-['Inter'] font-medium",children:"Collaborator"})]}):n.jsx("span",{className:"text-[#8F8F98]",children:"Select a GitHub account"})})}),n.jsx(Vk,{className:"h-4 w-4 text-[#898F99] transition-transform "+(ae?"rotate-180":"")})]}),Se.length>0&&ae&&n.jsx("div",{className:"absolute z-50 w-full top-full bg-[#131314] border border-[#242424] rounded-md shadow-lg max-h-[40vh] overflow-y-auto installation-dropdown",children:n.jsxs("div",{className:"flex flex-col gap-[6px] p-2",children:[Se.map(e=>n.jsx("div",{className:fb("px-3 min-h-[40px] rounded-[8px] py-2  text-[#DDDDE6] hover:bg-[#2D2D2F]/40 font-medium cursor-pointer",F===e.installation_id&&"bg-[#172426] text-[#1BB4CC] hover:bg-[#172426] hover:text-[#1BB4CC]"),onClick:()=>{Je(e.installation_id),re(!1)},children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{children:e.account_login}),"User"===e.account_type&&!e.isPrimary&&n.jsx("span",{className:"text-xs text-[#DDDDE6] rounded-full bg-[#FFFFFF0D] ml-1 px-2 py-1 font-['Inter'] font-medium",children:"Collaborator"})]}),F===e.installation_id&&n.jsx(Uk,{className:"h-4 w-4 text-[#1BB4CC]"})]})},e.installation_id)),n.jsx("div",{className:"border-t border-[#ffffff12] my-1"}),n.jsx("div",{className:"px-3 min-h-[40px] rounded-[8px] py-2 text-[#4ADE80] hover:bg-[#172426] hover:text-[#4ADE80] font-medium cursor-pointer",onClick:()=>{et(),re(!1)},children:n.jsxs("div",{className:"flex items-center gap-2",children:[oe?n.jsx(hS,{className:"w-4 h-4 animate-spin"}):n.jsx(wS,{className:"w-4 h-4"}),oe?"Adding Account...":"Add New Github Organizations"]})})]})})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("div",{className:"flex flex-col flex-1 gap-2",children:[n.jsx("div",{className:"flex items-center justify-between gap-1",children:n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("img",{alt:"Repository",src:sT,className:"w-5 h-5"}),n.jsx(qA,{htmlFor:"repo-selector",className:"text-[#898F99] font-[Inter] text-sm font-medium",children:"Select Repo"})]})}),n.jsx("div",{className:"flex items-center gap-2",children:n.jsxs("div",{className:"relative flex-1",ref:ge,children:[n.jsxs("div",{className:fb("flex items-center justify-between w-full h-14 bg-[#131314] border border-[#242424] rounded-[8px] p-3 text-white repository-input",(!F||z&&0===k.length)&&"opacity-70 cursor-not-allowed",Y&&"border-white/50"),onClick:e=>{e.preventDefault(),e.stopPropagation(),F&&!z&&k.length>0&&(re(!1),K(!0))},children:[n.jsxs("div",{className:"flex items-center w-full",children:[n.jsx(_S,{className:"h-4 w-4 text-[#8F8F98] mr-2"}),n.jsx(qS,{type:"text",value:A,onChange:e=>{e.stopPropagation(),T(e.target.value)},onClick:e=>{e.stopPropagation(),F&&!z&&k.length>0&&(re(!1),K(!0))},onFocus:e=>{e.stopPropagation(),F&&!z&&k.length>0&&(re(!1),K(!0))},onBlur:e=>{var t;const n=e.relatedTarget;(null==(t=ge.current)?void 0:t.contains(n))||setTimeout(()=>{var e;(null==(e=ge.current)?void 0:e.contains(document.activeElement))||K(!1)},150)},placeholder:z?"Loading repositories...":0===k.length?"No repositories found":je?`Selected: ${je}`:"Search for a repository",className:"w-full p-0  bg-transparent border-0 focus-visible:ring-0 focus-visible:ring-offset-0 text-[#C4C4CC] font-medium font-['Inter']",disabled:!F||z&&0===k.length})]}),n.jsx("div",{className:"flex items-center justify-center w-8 h-8 cursor-pointer",onClick:e=>{e.preventDefault(),e.stopPropagation(),F&&!z&&k.length>0&&(re(!1),K(!Y))},children:z?n.jsx(hS,{className:"h-5 w-5 animate-spin text-[#8F8F98]"}):n.jsx(Vk,{className:fb("h-5 w-5 transition-transform duration-200",Y?"transform rotate-180":"",F&&0!==k.length?"text-[#8F8F98]":"text-[#8F8F98]/50",!F||z||0===k.length?"opacity-50 cursor-not-allowed":"")})})]}),g&&n.jsx(wb,{type:"button",variant:"ghost",size:"icon",onClick:e=>{e.preventDefault(),e.stopPropagation(),tt(),Ce(""),T(""),K(!1),Q(!1)},className:"absolute w-8 h-8 transform -translate-y-1/2 rounded-full right-10 top-1/2 hover:bg-transparent focus:outline-none",title:"Clear selected repository",children:n.jsx(RS,{className:"h-4 w-4 text-[#8F8F98] mx-auto"})}),Y&&F&&n.jsx("div",{className:"absolute top-full w-full bg-[#131314] border border-[#242424] rounded-md shadow-lg z-50",children:n.jsx("div",{className:"max-h-[40vh] overflow-y-auto py-1",children:z?n.jsxs("div",{className:"flex items-center justify-center p-4",children:[n.jsx(hS,{className:"h-5 w-5 text-[#4ADE80] animate-spin mr-2"}),n.jsx("span",{className:"text-white",children:"Loading repositories..."})]}):0===E.length?n.jsx("div",{className:"px-3 py-2 text-[#8F8F98] text-sm",children:A?"No repositories match your search":"No repositories found"}):n.jsx("div",{className:"flex flex-col gap-[6px] p-2",children:E.map(e=>n.jsx("div",{className:fb("px-3 min-h-[40px] rounded-[8px] py-2 text-[#DDDDE6] hover:bg-[#2D2D2F]/40 font-medium cursor-pointer",je===e.name&&"bg-[#172426] text-[#1BB4CC] hover:bg-[#172426] hover:text-[#1BB4CC]"),onClick:t=>{t.preventDefault(),t.stopPropagation(),Ce(e.name),T(e.name),M(""),K(!1),setTimeout(()=>{Qe(Ye(e.full_name))},50)},children:n.jsxs("div",{className:"flex items-center justify-between w-full",children:[n.jsx("span",{children:e.name}),je===e.name&&n.jsx(Uk,{className:"h-4 w-4 text-[#1BB4CC]"})]})},e.id))})})})]})})]}),n.jsxs("div",{className:"flex flex-col items-start gap-2",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("img",{alt:"Branch",src:iT,className:"w-5 h-5"}),n.jsx(qA,{htmlFor:"branch-name",className:"text-[#898F99] font-[Inter] text-sm font-medium",children:"Select Branch"})]}),n.jsxs("div",{className:"relative w-48",ref:ve,children:[n.jsxs("div",{className:fb("flex items-center justify-between w-full h-14 bg-[#131314] border border-[#242424] rounded-[8px] p-3 text-white repository-input",(!g||G)&&"opacity-70 cursor-not-allowed",J&&"border-white/50"),onClick:e=>{e.preventDefault(),e.stopPropagation(),g&&!G&&(re(!1),K(!1),Q(!0))},children:[n.jsx("div",{className:"relative flex items-center w-full",children:n.jsx(qS,{type:"text",value:J?D:b,onClick:e=>{e.stopPropagation(),g&&!G&&(re(!1),K(!1),Q(!0),M(""))},onFocus:e=>{e.stopPropagation(),g&&!G&&(re(!1),K(!1),Q(!0),M(""))},onBlur:e=>{var t;const n=e.relatedTarget;(null==(t=ve.current)?void 0:t.contains(n))||setTimeout(()=>{var e;(null==(e=ve.current)?void 0:e.contains(document.activeElement))||(Q(!1),M(""))},150)},onChange:e=>{e.stopPropagation(),J&&M(e.target.value)},placeholder:G?"Loading branches...":0===H.length&&g?"No branches found":g?"Enter or select branch name":"Select a repository first",className:"w-full p-0 bg-transparent border-0 focus-visible:ring-0 focus-visible:ring-offset-0 text-[#C4C4CC] font-medium font-['Inter']",disabled:!g||G})}),n.jsx("div",{className:"flex items-center justify-center w-8 h-8 ml-2 cursor-pointer",onClick:e=>{e.preventDefault(),e.stopPropagation(),g&&!G&&(re(!1),K(!1),Q(!J))},children:G?n.jsx(hS,{className:"h-5 w-5 animate-spin text-[#8F8F98]"}):n.jsx(Vk,{className:fb("h-5 w-5 transition-transform duration-200",J?"transform rotate-180":"",g?"text-[#8F8F98]":"text-[#8F8F98]/50",!g||G?"opacity-50 cursor-not-allowed":"")})})]}),J&&g&&n.jsx("div",{className:"absolute top-full w-full bg-[#131314] border border-[#242424] rounded-[8px] shadow-lg z-50",children:n.jsx("div",{className:"max-h-[40vh] overflow-y-auto py-1",children:G?null:0===H.length?n.jsx("div",{className:"px-3 py-2 text-[#8F8F98] text-sm",children:"No branches available for this repository"}):n.jsx(n.Fragment,{children:0===U.length?n.jsx("div",{className:"px-3 py-2 text-[#8F8F98] text-sm",children:D?"No matching branches found":"No branches found"}):n.jsx("div",{className:"flex flex-col gap-[6px] p-2",children:U.map(e=>n.jsx("div",{className:fb("px-3 min-h-[40px] rounded-[8px] py-2 text-[#DDDDE6] hover:bg-[#2D2D2F]/40 font-medium cursor-pointer",e.name===b&&"bg-[#172426] text-[#1BB4CC] hover:bg-[#172426] hover:text-[#1BB4CC]"),onClick:t=>{t.preventDefault(),t.stopPropagation(),M(""),Q(!1),setTimeout(()=>{Xe(e.name)},50)},children:n.jsxs("div",{className:"flex items-center justify-between w-full",children:[n.jsx("span",{children:e.name}),e.name===b&&n.jsx(Uk,{className:"h-4 w-4 text-[#1BB4CC]"})]})},e.name))})})})})]})]})]}),W&&n.jsx("p",{className:"text-[#FF4545] font-[Inter] text-sm font-medium",children:W}),!st&&!W&&Se.length>0&&F&&"add-new-account"!==F&&0===k.length&&n.jsx("p",{className:"text-[#DDDDE6]/50 font-[Inter] text-sm font-medium",children:"No repositories found for this account"}),!st&&!W&&A&&0===E.length&&k.length>0&&n.jsx("p",{className:"text-[#DDDDE6]/50 font-[Inter] text-sm font-medium",children:"No repositories match your search"}),!st&&!G&&!W&&g&&!G&&0===H.length&&n.jsx("p",{className:"text-[#DDDDE6]/50 font-[Inter] text-sm font-medium",children:"No branches found for this repository. Please check if the repository is empty or has any branches."})]}):n.jsxs("div",{className:"relative p-6 overflow-hidden rounded-lg",children:[n.jsx("div",{className:"absolute inset-0 overflow-hidden",children:n.jsx("div",{className:"absolute inset-0",style:{backgroundImage:"repeating-linear-gradient(\n                        45deg,\n                        transparent,\n                        transparent 4px,\n                        rgba(255, 255, 255, 0.05) 4px,\n                        rgba(255, 255, 255, 0.05) 6px,\n                        transparent 6px,\n                        transparent 10px\n                      )"}})}),n.jsxs("div",{className:"relative z-10 flex items-start justify-between",children:[n.jsxs("div",{className:"flex flex-col items-start space-y-2",children:[n.jsx("h2",{className:"text-base font-['Inter'] font-bold text-white",children:"Github Authentication Required"}),n.jsx("p",{className:"text-[#5C5F66] text-base font-['Inter'] max-w-md",children:"Connect your GitHub account to access all your private and public repositories."})]}),n.jsx("div",{className:"flex items-center justify-center",children:n.jsx(XA,{className:"rounded-full px-4 bg-[#009939] hover:bg-[#00993950] transition-all ease-in-out opacity-100"})})]})]})})]})]});var it,at,rt,ot}),lT=()=>{const e=Le(),{user:t}=Wg(),n=HA(e.pathname),{data:s,isLoading:i,refetch:a}=Fx(void 0,{skip:n||!t}),r=De.useMemo(()=>{if(!(null==s?void 0:s.referral_info))return null;const{referral_code:e,referrer_email:t,subscription_reward_amount:n,total_referral_credits_earned:i,number_of_invitations:a}=s.referral_info;return{referralCode:e||"",referrerEmail:t||null,isReferred:!!t,canApplyReferralCode:!t,subscription_reward_amount:n||50,total_referral_credits_earned:i||0,number_of_invitations:a||0}},[s]),o=De.useMemo(()=>!!(null==r?void 0:r.isReferred),[r]),l=De.useMemo(()=>!!(null==r?void 0:r.canApplyReferralCode),[r]),c=De.useCallback(async()=>{if(!(null==r?void 0:r.referralCode))return!1;try{return await navigator.clipboard.writeText(r.referralCode),!0}catch(e){return!1}},[null==r?void 0:r.referralCode]),d=De.useCallback(e=>{if(!e||"string"!=typeof e)return!1;const t=e.trim();if(t.length<3||t.length>50)return!1;return/^[a-zA-Z0-9]+$/.test(t)},[]),u=i,p=De.useCallback(()=>{!n&&t&&a()},[n,t,a]);return{referralInfo:r,isLoading:u,copyReferralCode:c,isValidReferralCode:d,refetch:p,isUserReferred:o,canUserApplyReferral:l}},cT=({size:e=24,color:t="#DD99FF",className:s="",...i})=>n.jsxs("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:s,...i,children:[n.jsx("circle",{opacity:"0.16",cx:"12",cy:"12",r:"10.8",fill:t}),n.jsx("path",{d:"M11.1361 16.3201H12.8641V12.8641H16.3201V11.1361H12.8641V7.68011H11.1361V11.1361H7.68011V12.8641H11.1361V16.3201ZM12.0001 20.6401C10.8049 20.6401 9.68171 20.4133 8.63051 19.9597C7.57931 19.5061 6.66491 18.8905 5.88731 18.1129C5.10971 17.3353 4.49411 16.4209 4.04051 15.3697C3.58691 14.3185 3.36011 13.1953 3.36011 12.0001C3.36011 10.8049 3.58691 9.68171 4.04051 8.63051C4.49411 7.57931 5.10971 6.66491 5.88731 5.88731C6.66491 5.10971 7.57931 4.49411 8.63051 4.04051C9.68171 3.58691 10.8049 3.36011 12.0001 3.36011C13.1953 3.36011 14.3185 3.58691 15.3697 4.04051C16.4209 4.49411 17.3353 5.10971 18.1129 5.88731C18.8905 6.66491 19.5061 7.57931 19.9597 8.63051C20.4133 9.68171 20.6401 10.8049 20.6401 12.0001C20.6401 13.1953 20.4133 14.3185 19.9597 15.3697C19.5061 16.4209 18.8905 17.3353 18.1129 18.1129C17.3353 18.8905 16.4209 19.5061 15.3697 19.9597C14.3185 20.4133 13.1953 20.6401 12.0001 20.6401Z",fill:t})]}),dT=(e,t=!1)=>{if(!e)return"";const n={month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0};return t&&(n.second="2-digit",n.hour12=!1),new Date(e).toLocaleString("en-US",n)},uT=e=>e?new Date(e).toLocaleString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1}):"",pT=e=>e?new Date(e).toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric"}):"",mT=({size:e=24,color:t="#4D4D4D",className:s="",...i})=>n.jsxs("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:s,...i,children:[n.jsx("path",{d:"M8.92217 10.6793C8.92217 10.404 9.14532 10.0213 9.42058 10.0213H15.4016C15.6769 10.0213 15.9 10.404 15.9 10.6793C15.9 10.9546 15.6769 11.3373 15.4016 11.3373H9.42058C9.14532 11.3373 8.92217 10.9546 8.92217 10.6793Z",fill:t}),n.jsx("path",{d:"M8.92217 13.6703C8.92217 13.395 9.14532 13.0123 9.42058 13.0123H14.4048C14.68 13.0123 14.9032 13.395 14.9032 13.6703C14.9032 13.9456 14.68 14.3283 14.4048 14.3283H9.42058C9.14532 14.3283 8.92217 13.9456 8.92217 13.6703Z",fill:t}),n.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.9158 6.93867C10.9158 6.74035 10.9946 6.55016 11.1348 6.40993C11.275 6.2697 11.4652 6.19092 11.6635 6.19092H16.8969C17.69 6.19092 18.4506 6.50604 19.0115 7.06696C19.5723 7.62788 19.8874 8.38865 19.8874 9.18191V15.1639C19.8874 15.9571 19.5723 16.7179 19.0115 17.2788C18.4506 17.8398 17.69 18.1549 16.8969 18.1549H7.98813L5.21394 20.9265C5.10938 21.031 4.97623 21.1021 4.83129 21.1309C4.68635 21.1597 4.53613 21.1449 4.3996 21.0883C4.26307 21.0318 4.14635 20.936 4.0642 20.8132C3.98204 20.6904 3.93812 20.5459 3.93799 20.3981L3.93799 11.9236C3.93799 11.7253 4.01676 11.5351 4.15696 11.3949C4.29717 11.2547 4.48733 11.1759 4.68561 11.1759C4.8839 11.1759 5.07406 11.2547 5.21427 11.3949C5.35447 11.5351 5.43324 11.7253 5.43324 11.9236V18.5936L7.37009 16.6594H16.8969C17.2934 16.6594 17.6737 16.5018 17.9542 16.2214C18.2346 15.9409 18.3921 15.5605 18.3921 15.1639V9.18191C18.3921 8.78528 18.2346 8.40489 17.9542 8.12443C17.6737 7.84397 17.2934 7.68641 16.8969 7.68641H11.6635C11.4652 7.68641 11.275 7.60763 11.1348 7.4674C10.9946 7.32717 10.9158 7.13698 10.9158 6.93867Z",fill:t}),n.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.24564 2.5311C4.30119 2.37566 4.40342 2.24119 4.53835 2.14611C4.67327 2.05103 4.83429 2 4.99933 2C5.16438 2 5.32539 2.05103 5.46032 2.14611C5.59524 2.24119 5.69748 2.37566 5.75303 2.5311L6.33597 4.17616C6.37578 4.28846 6.44015 4.39045 6.52438 4.4747C6.60862 4.55895 6.71059 4.62333 6.82287 4.66314L8.46899 5.24618C8.62441 5.30174 8.75885 5.40399 8.85392 5.53894C8.94898 5.67389 9 5.83493 9 6C9 6.16508 8.94898 6.32612 8.85392 6.46106C8.75885 6.59601 8.62441 6.69826 8.46899 6.75382L6.82287 7.33686C6.71059 7.37668 6.60862 7.44106 6.52438 7.52531C6.44015 7.60955 6.37578 7.71155 6.33597 7.82384L5.75303 9.4689C5.69748 9.62435 5.59524 9.75882 5.46032 9.85389C5.32539 9.94897 5.16438 10 4.99933 10C4.83429 10 4.67327 9.94897 4.53835 9.85389C4.40342 9.75882 4.30119 9.62435 4.24564 9.4689L3.6627 7.82251C3.62289 7.71021 3.55852 7.60822 3.47428 7.52397C3.39005 7.43972 3.28808 7.37534 3.1758 7.33553L1.53102 6.75382C1.37559 6.69826 1.24115 6.59601 1.14609 6.46106C1.05102 6.32612 1 6.16508 1 6C1 5.83493 1.05102 5.67389 1.14609 5.53894C1.24115 5.40399 1.37559 5.30174 1.53102 5.24618L3.17713 4.66314C3.28941 4.62333 3.39138 4.55895 3.47562 4.4747C3.55985 4.39045 3.62422 4.28846 3.66403 4.17616L4.24564 2.5311Z",fill:t})]}),hT=({size:e=24,color:t="#4D4D4D",className:s="",...i})=>n.jsx("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:s,...i,children:n.jsx("path",{d:"M7.125 2C5.74609 2 4.625 3.12109 4.625 4.5V19.5C4.625 20.8789 5.74609 22 7.125 22H15.875C17.2539 22 18.375 20.8789 18.375 19.5V4.5C18.375 3.12109 17.2539 2 15.875 2H7.125ZM10.25 18.875H12.75C13.0938 18.875 13.375 19.1562 13.375 19.5C13.375 19.8438 13.0938 20.125 12.75 20.125H10.25C9.90625 20.125 9.625 19.8438 9.625 19.5C9.625 19.1562 9.90625 18.875 10.25 18.875Z",fill:t})}),xT=({size:e=24,width:t,height:s,color:i="#4D4D4D",fill:a,className:r,style:o,onClick:l,...c})=>{const d=t||e,u=s||e,p=a||i;return n.jsx("svg",{width:d,height:u,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:r,style:o,onClick:l,...c,children:n.jsx("path",{d:"M20.1846 13.5137C20.1662 14.4446 20.1332 15.2279 20.0996 15.833C20.0751 16.2761 20.0434 16.719 20.0059 17.1611L20.0039 17.1826L20 17.2314C19.9903 17.8612 19.6891 18.4137 19.248 18.8652C18.8017 19.3212 18.1851 19.7039 17.4707 20.0127C16.0399 20.6315 14.1052 21 12 21C9.89486 21 7.96008 20.632 6.5293 20.0137C5.8149 19.7045 5.19835 19.3216 4.75195 18.8652C4.31086 18.4141 4.0096 17.861 4 17.2314L3.99316 17.1611L3.9707 16.8848C3.94378 16.5345 3.91987 16.1838 3.90039 15.833C3.85827 15.0605 3.83036 14.2872 3.81543 13.5137C4.29536 13.9275 4.88626 14.2829 5.5293 14.5752C7.21607 15.3419 9.50412 15.7998 12 15.7998C14.4959 15.7998 16.7839 15.3419 18.4707 14.5752C19.1137 14.2829 19.7046 13.9271 20.1846 13.5137ZM9.2002 17.2998C8.98815 17.2998 8.78477 17.3843 8.63477 17.5342C8.48482 17.6841 8.40048 17.8876 8.40039 18.0996C8.40039 18.3118 8.48474 18.516 8.63477 18.666C8.78476 18.8158 8.98821 18.9004 9.2002 18.9004C9.4122 18.9003 9.61566 18.8159 9.76562 18.666C9.91565 18.516 10 18.3118 10 18.0996C9.99991 17.8876 9.91557 17.6841 9.76562 17.5342C9.61565 17.3842 9.41226 17.2999 9.2002 17.2998ZM6.59961 16.5996C6.38762 16.5997 6.1841 16.6841 6.03418 16.834C5.88415 16.984 5.7998 17.1882 5.7998 17.4004C5.79992 17.6124 5.88425 17.8159 6.03418 17.9658C6.18411 18.1157 6.38759 18.2001 6.59961 18.2002C6.81178 18.2002 7.01599 18.1158 7.16602 17.9658C7.3159 17.8159 7.40028 17.6124 7.40039 17.4004C7.40039 17.1882 7.31604 16.984 7.16602 16.834C7.01599 16.684 6.81178 16.5996 6.59961 16.5996ZM4 5.59961C4 6.24218 4.30382 6.80594 4.75195 7.26465C5.19835 7.72065 5.8149 8.10429 6.5293 8.41309C7.96009 9.03187 9.89443 9.40039 12 9.40039C14.1056 9.40039 16.0399 9.03148 17.4707 8.41309C18.1851 8.1039 18.8011 7.72102 19.2471 7.26465C19.6957 6.80589 20 6.22667 20 5.58398L20.0303 6.11816C20.0491 6.47015 20.0744 6.97252 20.0996 7.5752C20.1424 8.60158 20.1847 9.92137 20.1963 11.2861C20.145 11.9916 19.465 12.804 17.9746 13.4814C16.4762 14.163 14.364 14.5996 12 14.5996C9.63601 14.5996 7.52378 14.1632 6.02539 13.4824C4.5347 12.8044 3.85491 11.9913 3.80371 11.2861C3.81571 9.92103 3.85759 8.60153 3.90039 7.5752C3.92794 6.91655 3.96097 6.25773 3.99902 5.59961L4 5.58203V5.59961ZM9.2002 11.0996C8.98819 11.0996 8.78476 11.1842 8.63477 11.334C8.48474 11.484 8.40039 11.6882 8.40039 11.9004C8.40052 12.1124 8.48485 12.3159 8.63477 12.4658C8.78476 12.6156 8.98818 12.7002 9.2002 12.7002C9.41223 12.7001 9.61565 12.6157 9.76562 12.4658C9.91554 12.3159 9.99987 12.1124 10 11.9004C10 11.6882 9.91565 11.484 9.76562 11.334C9.61566 11.1841 9.41223 11.0997 9.2002 11.0996ZM6.59961 10.4004C6.38765 10.4005 6.1841 10.4839 6.03418 10.6338C5.88415 10.7838 5.7998 10.988 5.7998 11.2002C5.79988 11.4122 5.88426 11.6157 6.03418 11.7656C6.18411 11.9156 6.38758 11.9999 6.59961 12C6.81178 12 7.01599 11.9157 7.16602 11.7656C7.31589 11.6157 7.40032 11.4122 7.40039 11.2002C7.40039 10.988 7.31604 10.7838 7.16602 10.6338C7.01599 10.4838 6.81175 10.4004 6.59961 10.4004ZM12 3C13.9814 3 15.7466 3.34777 16.9941 3.8877C17.6189 4.15769 18.0869 4.46482 18.3896 4.77441C18.9037 5.3003 18.9038 5.8999 18.3896 6.42578C18.0864 6.73538 17.6189 7.04152 16.9941 7.31152C15.7465 7.85111 13.9816 8.20019 12 8.2002C10.0184 8.2002 8.25345 7.85151 7.00586 7.31152C6.38106 7.04152 5.91315 6.73538 5.61035 6.42578C5.09617 5.8999 5.09625 5.3003 5.61035 4.77441C5.91355 4.46482 6.38106 4.15769 7.00586 3.8877C8.25344 3.34818 10.0186 3 12 3Z",fill:p})})},fT=({size:e=24,width:t,height:s,color:i="#4D4D4D",fill:a,className:r,style:o,onClick:l,...c})=>{const d=t||e,u=s||e,p=a||i;return n.jsx("svg",{width:d,height:u,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:r,style:o,onClick:l,...c,children:n.jsx("path",{d:"M12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2ZM12.5107 7.7373C12.1812 6.92076 11.9035 6.64719 11.5078 7.62207C10.6422 9.69969 9.60868 10.6895 7.57422 11.5469C7.36996 11.6412 7.00239 11.8057 7 12C7.00264 12.1942 7.36761 12.3578 7.57422 12.4521C9.60626 13.3071 10.6422 14.3002 11.5078 16.3779C11.9082 17.37 12.1869 17.0582 12.5107 16.2627C13.3788 14.2545 14.3482 13.3223 16.3955 12.4521C16.61 12.3499 16.9637 12.2143 17 12.0107V11.9873C16.9641 11.785 16.6125 11.6473 16.3955 11.5449V11.5469C14.3485 10.6768 13.3787 9.74605 12.5107 7.7373Z",fill:p})})},gT=({size:e=24,width:t,height:s,color:i="#4D4D4D",fill:a,className:r,style:o,onClick:l,...c})=>{const d=t||e,u=s||e,p=a||i;return n.jsx("svg",{width:d,height:u,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:r,style:o,onClick:l,...c,children:n.jsx("path",{d:"M18.72 14.7602C19.07 13.9102 19.26 13.0002 19.26 12.0002C19.26 11.2802 19.15 10.5902 18.96 9.95019C18.31 10.1002 17.63 10.1802 16.92 10.1802C15.466 10.1818 14.0329 9.83371 12.7415 9.16541C11.4502 8.49711 10.3384 7.52815 9.5 6.34019C8.60396 8.51093 6.91172 10.2568 4.77 11.2202C4.73 11.4702 4.73 11.7402 4.73 12.0002C4.73 12.9549 4.91804 13.9003 5.2834 14.7823C5.64875 15.6643 6.18425 16.4658 6.85933 17.1409C8.22272 18.5042 10.0719 19.2702 12 19.2702C13.05 19.2702 14.06 19.0402 14.97 18.6302C15.54 19.7202 15.8 20.2602 15.78 20.2602C14.14 20.8102 12.87 21.0802 12 21.0802C9.58 21.0802 7.27 20.1302 5.57 18.4202C4.53505 17.3901 3.76627 16.1237 3.33 14.7302H2V10.1802H3.09C3.42024 8.5727 4.17949 7.0846 5.28719 5.87378C6.39489 4.66296 7.80971 3.7746 9.38153 3.30295C10.9534 2.8313 12.6235 2.79396 14.2149 3.1949C15.8062 3.59583 17.2593 4.42008 18.42 5.58019C19.6798 6.83577 20.5393 8.43648 20.89 10.1802H22V14.7302H21.94L18.38 18.0002L13.08 17.4002V15.7302H17.91L18.72 14.7602ZM9.27 11.7702C9.57 11.7702 9.86 11.8902 10.07 12.1102C10.281 12.323 10.3995 12.6105 10.3995 12.9102C10.3995 13.2099 10.281 13.4974 10.07 13.7102C9.86 13.9202 9.57 14.0402 9.27 14.0402C8.64 14.0402 8.13 13.5402 8.13 12.9102C8.13 12.2802 8.64 11.7702 9.27 11.7702ZM14.72 11.7702C15.35 11.7702 15.85 12.2802 15.85 12.9102C15.85 13.5402 15.35 14.0402 14.72 14.0402C14.09 14.0402 13.58 13.5402 13.58 12.9102C13.58 12.6078 13.7001 12.3179 13.9139 12.1041C14.1277 11.8903 14.4177 11.7702 14.72 11.7702Z",fill:p})})},vT=({width:e=20,height:t=20,fill:s="white",className:i,style:a,...r})=>n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:t,viewBox:"0 0 20 20",fill:"none",className:i,style:a,...r,children:n.jsx("path",{d:"M5.66504 11.9571C6.06881 11.9574 6.39941 12.2879 6.39941 12.6915C6.3992 13.0949 6.06867 13.4247 5.66504 13.4249H4.59277C5.19315 14.3275 6.00712 15.068 6.96289 15.5802C7.91877 16.0924 8.98667 16.3612 10.0713 16.3614C12.7448 16.3614 15.044 14.7683 16.0869 12.4855C16.2265 12.17 16.5788 12.0157 16.9092 12.089C17.015 12.1142 17.1141 12.1629 17.1992 12.2306C17.2842 12.2982 17.354 12.3833 17.4023 12.4806C17.4506 12.5778 17.477 12.6846 17.4795 12.7931C17.482 12.9017 17.4599 13.01 17.416 13.1095C16.1454 15.8914 13.3397 17.8292 10.0713 17.8292C7.33177 17.8292 4.92251 16.4636 3.46094 14.379V15.6271C3.46094 16.0308 3.13052 16.3614 2.72656 16.3614C2.32268 16.3613 1.99219 16.0307 1.99219 15.6271V12.6915C1.99219 12.2879 2.32268 11.9572 2.72656 11.9571H5.66504ZM10.0713 6.6007C10.1417 6.60074 10.2103 6.62124 10.2695 6.65929C10.3288 6.69738 10.3761 6.75149 10.4053 6.81554L11.2129 8.60656L13.0049 9.42101C13.069 9.4502 13.124 9.49753 13.1621 9.55675C13.2001 9.61588 13.2207 9.68472 13.2207 9.75499C13.2207 9.82524 13.2001 9.89411 13.1621 9.95324C13.124 10.0125 13.069 10.0598 13.0049 10.089L11.2129 10.8966L10.3975 12.6876C10.3683 12.7515 10.3217 12.8058 10.2627 12.8439C10.2034 12.882 10.1339 12.9025 10.0635 12.9025C9.99313 12.9024 9.92441 12.8819 9.86523 12.8439C9.80601 12.8058 9.75871 12.7516 9.72949 12.6876L8.92188 10.9034L7.12988 10.089C6.84344 9.95685 6.84344 9.5463 7.12988 9.41417L8.92188 8.60656L9.7373 6.81554C9.76645 6.75162 9.81301 6.69737 9.87207 6.65929C9.93132 6.6212 10.0008 6.6007 10.0713 6.6007ZM3.87891 4.98058C3.98712 4.97005 4.09691 4.98385 4.19922 5.02062C4.30136 5.0574 4.39409 5.11659 4.4707 5.19347C4.7056 5.4357 4.75681 5.81695 4.57324 6.09581C4.10325 6.80037 3.75782 7.60043 3.58887 8.4591C3.52277 8.78938 3.21479 9.01766 2.87695 9.01769C2.76803 9.01771 2.65994 8.99305 2.56152 8.9464C2.46336 8.89979 2.37639 8.83227 2.30762 8.74816C2.23874 8.66387 2.19014 8.56475 2.16406 8.4591C2.138 8.35347 2.13549 8.24342 2.15723 8.13683C2.36107 7.12385 2.76303 6.16035 3.33984 5.30285C3.40022 5.21268 3.48009 5.13689 3.57324 5.08117C3.66643 5.02546 3.77083 4.99112 3.87891 4.98058ZM15.6641 5.19347C15.9871 4.86328 16.5377 4.92151 16.7949 5.30285C17.3605 6.15431 17.7645 7.10921 17.9775 8.13683C17.9993 8.24342 17.9968 8.35347 17.9707 8.4591C17.9446 8.56475 17.896 8.66387 17.8271 8.74816C17.7583 8.8324 17.6706 8.89978 17.5723 8.9464C17.4739 8.99295 17.3666 9.01771 17.2578 9.01769C16.92 9.01767 16.611 8.78939 16.5449 8.4591C16.3686 7.6005 16.0315 6.80032 15.5615 6.09581C15.3706 5.8096 15.4218 5.4357 15.6641 5.19347ZM10.8018 2.56554C10.8018 2.09577 11.2282 1.7509 11.6836 1.83898C12.7117 2.05187 13.674 2.4555 14.5186 3.02062C14.9076 3.2776 14.9589 3.82808 14.6211 4.15831C14.3787 4.4005 14.0042 4.45168 13.7178 4.26085C13.0201 3.79114 12.2196 3.4463 11.3604 3.27745C11.0299 3.2114 10.8018 2.90313 10.8018 2.56554ZM8.45117 1.83898C8.90654 1.7509 9.33301 2.09577 9.33301 2.56554C9.33294 2.90304 9.10523 3.2108 8.76758 3.26964C7.9083 3.4458 7.11521 3.78429 6.41016 4.25402C6.12371 4.44486 5.74823 4.39273 5.50586 4.1505C5.18321 3.82755 5.23466 3.27749 5.61621 3.02062C6.46074 2.4555 7.42306 2.05187 8.45117 1.83898Z",fill:s})}),bT=gv.panelIcons.panelTesting,yT=gv.panelIcons.panelEdit,wT=gv.panelIcons.panelVision,jT=gv.panelIcons.panelIntegration,CT=[{key:"testing",color:"#4D320F",bgColor:"#BBA1E5",icon:"code",iconColor:"#4D320F",text:"Testing Agent",runningText:"is Running",beforeBorder:"before:border-[#BBA1E520]",panelLottie:bT,gradients:{running:"linear-gradient(to bottom, rgba(255, 255, 255, 0.05) 0%, rgba(187, 161, 229, 0.3) 100%)",waiting:"linear-gradient(to bottom, rgba(255, 255, 255, 0.05) 0%, rgba(187, 161, 229, 0.2) 100%)",stopping:"linear-gradient(to bottom, rgba(255, 255, 255, 0.05) 0%, rgba(244, 155, 87, 0.2) 100%)"}},{key:"replace",color:"#4D320F",bgColor:"#F8CC55",icon:"code",iconColor:"#4D320F",text:"Edit Agent",runningText:"is Running",beforeBorder:"before:border-[#4D320F20]",panelLottie:yT,gradients:{running:"linear-gradient(to bottom, rgba(255, 255, 255, 0.05) 0%, rgba(248, 204, 85, 0.2) 100%)",waiting:"linear-gradient(to bottom, rgba(255, 255, 255, 0.05) 0%, rgba(248, 204, 85, 0.2) 100%)",stopping:"linear-gradient(to bottom, rgba(255, 255, 255, 0.05) 0%, rgba(244, 155, 87, 0.2) 100%)"}},{key:"vision",color:"#661F3D",bgColor:"#E5A8A1",icon:"vision",iconColor:"#661F3D",text:"Image Agent",runningText:"is Running",beforeBorder:"before:border-[#E5A8A120]",panelLottie:wT,gradients:{running:"linear-gradient(to bottom, rgba(255, 255, 255, 0.05) 0%, rgba(229, 168, 161, 0.2) 100%)",waiting:"linear-gradient(to bottom, rgba(255, 255, 255, 0.05) 0%, rgba(229, 168, 161, 0.2) 100%)",stopping:"linear-gradient(to bottom, rgba(255, 255, 255, 0.05) 0%, rgba(244, 155, 87, 0.2) 100%)"}},{key:"support",color:"#661F3D",bgColor:"#E5A8A1",icon:"vision",iconColor:"#661F3D",text:"Support Agent",runningText:"is Running",beforeBorder:"before:border-[#E5A8A120]",panelLottie:wT,gradients:{running:"linear-gradient(to bottom, rgba(255, 255, 255, 0.05) 0%, rgba(229, 168, 161, 0.2) 100%)",waiting:"linear-gradient(to bottom, rgba(255, 255, 255, 0.05) 0%, rgba(229, 168, 161, 0.2) 100%)",stopping:"linear-gradient(to bottom, rgba(255, 255, 255, 0.05) 0%, rgba(244, 155, 87, 0.2) 100%)"}},{key:"troubleshoot",color:"#661F3D",bgColor:"#E5A8A1",icon:"vision",iconColor:"#661F3D",text:"Triage Agent",runningText:"is Running",beforeBorder:"before:border-[#E5A8A120]",panelLottie:wT,gradients:{running:"linear-gradient(to bottom, rgba(255, 255, 255, 0.05) 0%, rgba(229, 168, 161, 0.2) 100%)",waiting:"linear-gradient(to bottom, rgba(255, 255, 255, 0.05) 0%, rgba(229, 168, 161, 0.2) 100%)",stopping:"linear-gradient(to bottom, rgba(255, 255, 255, 0.05) 0%, rgba(244, 155, 87, 0.2) 100%)"}},{key:"integration",color:"#243045",bgColor:"#A1BFE5",icon:"integration",iconColor:"#243045",text:"Integration Agent",runningText:"is Running",beforeBorder:"before:border-[#A1BFE520]",panelLottie:jT,gradients:{running:"linear-gradient(to bottom, rgba(255, 255, 255, 0.05) 0%, rgba(161, 191, 229, 0.3) 100%)",waiting:"linear-gradient(to bottom, rgba(255, 255, 255, 0.05) 0%, rgba(161, 191, 229, 0.2) 100%)",stopping:"linear-gradient(to bottom, rgba(255, 255, 255, 0.05) 0%, rgba(244, 155, 87, 0.2) 100%)"}},{key:"design",color:"#243045",bgColor:"#A1BFE5",icon:"design",iconColor:"#243045",text:"Design Agent",runningText:"is Running",beforeBorder:"before:border-[#A1BFE520]",panelLottie:jT,gradients:{running:"linear-gradient(to bottom, rgba(255, 255, 255, 0.05) 0%, rgba(161, 191, 229, 0.3) 100%)",waiting:"linear-gradient(to bottom, rgba(255, 255, 255, 0.05) 0%, rgba(161, 191, 229, 0.2) 100%)",stopping:"linear-gradient(to bottom, rgba(255, 255, 255, 0.05) 0%, rgba(244, 155, 87, 0.2) 100%)"}},{key:"deployment",color:"#4D320F",bgColor:"#BBA1E5",icon:"code",iconColor:"#4D320F",text:"Reviewer Agent",runningText:"is Running",beforeBorder:"before:border-[#BBA1E520]",panelLottie:bT,gradients:{running:"linear-gradient(to bottom, rgba(255, 255, 255, 0.05) 0%, rgba(187, 161, 229, 0.3) 100%)",waiting:"linear-gradient(to bottom, rgba(255, 255, 255, 0.05) 0%, rgba(187, 161, 229, 0.2) 100%)",stopping:"linear-gradient(to bottom, rgba(255, 255, 255, 0.05) 0%, rgba(244, 155, 87, 0.2) 100%)"}}],NT=e=>{if(!e)return"Subagent";const t=e.includes("testing"),n=e.includes("integration"),s=e.includes("vision"),i=e.includes("troubleshoot"),a=e.includes("support"),r=e.includes("replace"),o=e.includes("design"),l=e.includes("deployment");return t?"Testing Agent":n?"Integration Agent":s?"Image Agent":i?"Triage Agent":a?"Support Agent":r?"Edit Agent":o?"Design Agent":l?"Reviewer Agent":"Subagent"},FT=e=>{const t=(e=>{if(!e)return"Subagent";const t=e.includes("testing"),n=e.includes("integration"),s=e.includes("vision"),i=e.includes("troubleshoot"),a=e.includes("support"),r=e.includes("replace"),o=e.includes("design"),l=e.includes("deployment");return t?"testing":n?"integration":s?"vision":i?"troubleshoot":a?"support":r?"replace":o?"design":l?"deployment":"Subagent"})(e);return CT.find(e=>e.key===t)||CT[0]},_T=(e,t="USD")=>"USD"===t?.2*e:"INR"===t?17*e:e;function kT(e,t=!0){const n=function(e){const t="string"==typeof e?parseFloat(e):e;if(isNaN(t))return"0";const[n,s]=t.toString().split("."),i=n.replace(/\B(?=(\d{3})+(?!\d))/g,",");return s?`${i}.${s}`:i}(e);return t?`${n}`:`$${n}`}function ST(){const{toast:e}=on(),{user:t}=Wg(),[n,s]=De.useState(!1),[i,a]=De.useState(null),[r,o]=De.useState(!1),{upgradeDetails:l,subscriptionPlansResponse:c,tier:d}=Xg(),[u,p]=De.useState({isLoading:!1,isSuccess:!1,isError:!1}),[m,h]=De.useState(null),[x,f]=De.useState({showModal:!1,status:"success"}),[g,v]=De.useState(!1),b=c,y=De.useMemo(()=>{if(null==b?void 0:b.topup_bundles){const e=b.topup_bundles.map((e,t)=>({amount:e.credits,price:e.amount,selected:1===t,discount:e.bonus_credits?e.credits-(e.original_credits||e.credits):0,currency:e.currency}));return null===m&&e.length>1&&h(e[1].amount),e}return null===m&&h(250),[{amount:100,price:20,selected:!1,discount:0,currency:"USD"},{amount:250,price:50,selected:!0,discount:0,currency:"USD"},{amount:500,price:100,selected:!1,discount:0,currency:"USD"},{amount:3e3,price:500,selected:!1,discount:20,currency:"USD"},{amount:6e3,price:1e3,selected:!1,discount:20,currency:"USD"}]},[null==b?void 0:b.topup_bundles,m]),w=(e,t,n,s)=>{p({isLoading:!0,isSuccess:!1,isError:!1,paymentType:e,amount:t,currency:n,planName:s})},j=(e,t)=>{p({isLoading:!1,isSuccess:!1,isError:!0,errorMessage:e,paymentType:t})},C=()=>{p({isLoading:!1,isSuccess:!1,isError:!1})},N=(e,t,n,s,i)=>{f({showModal:!0,status:e,planName:t,errorMessage:n,paymentId:s,organizationId:i})},F=async(n,s,i)=>{var a,r,o,l;try{const d=!0===(null==i?void 0:i.isSubscription),u=null==i?void 0:i.planId,p=(null==(r=null==(a=null==i?void 0:i.planName)?void 0:a.toLowerCase())?void 0:r.includes("team"))?"Team":(null==i?void 0:i.planName)||"Pro Plan",m=d?0:(null==n?void 0:n.price)||10,h=(null==n?void 0:n.currency)||"USD";let x;w(d?"subscription":"credits",null==n?void 0:n.amount,h,d?p:void 0);try{const e=null==n?void 0:n.couponCode;x=await Pp(m,d,u,s,h,e)}catch(c){return C(),void e({title:"Error",description:(null==(l=null==(o=c.response)?void 0:o.data)?void 0:l.detail)||"Failed to create checkout session. Please try again.",variant:"destructive"})}if("ORGANIZATION"===(null==x?void 0:x.userType)&&(s=null==x?void 0:x.userId),(null==x?void 0:x.paymentId)&&up(x.paymentId,m,h,d?(null==p?void 0:p.toLowerCase().includes("team"))?"team_subscription":"subscription":"credits"),"RAZORPAY"===(null==x?void 0:x.paymentGateway)){let e;try{e=await Rp(x.paymentId,s)}catch(c){return C(),void j("Error checking payment status. Please try again.",d?"subscription":"credits")}if("RAZORPAY"===e.paymentGateway&&(e.razorpayOrderId||e.razorpaySubscriptionId)){const n=document.createElement("script");n.src="https://checkout.razorpay.com/v1/checkout.js",n.async=!0,n.id="razorpay-checkout-script",n.onload=()=>{var n,i,a,r;const o={key:e.keyId,amount:e.razorpayOrderId?100*e.amount:void 0,currency:e.currency||"INR",name:"Emergent",description:d?"Subscription":"Credits Top-up",image:"https://emergent-website-migrate.s3.us-west-2.amazonaws.com/website/emergent_square.png",order_id:e.razorpayOrderId,subscription_id:e.razorpaySubscriptionId,handler:async function(e){d&&N("pending",p,void 0,x.paymentId,s);try{const e=await Rp(x.paymentId,s);if(d)N(e.status,p,"failed"===e.status?"Payment verification failed":void 0,x.paymentId,s);else if(e&&"success"===e.status){const e=new URLSearchParams;e.set("payment_id",x.paymentId),e.set("payment_status","success"),s&&e.set("organization_id",s),window.location.href=`${window.location.pathname}?${e.toString()}`}else{const e=new URLSearchParams;e.set("payment_id",x.paymentId),e.set("payment_status","failed"),s&&e.set("organization_id",s),window.location.href=`${window.location.pathname}?${e.toString()}`}}catch(c){if(d)N("failed",p,"Error verifying payment",x.paymentId,s);else{const e=new URLSearchParams;e.set("payment_id",x.paymentId),e.set("payment_status","failed"),s&&e.set("organization_id",s),window.location.href=`${window.location.pathname}?${e.toString()}`}}},prefill:{email:(null==t?void 0:t.email)||"",name:(null==(n=null==t?void 0:t.user_metadata)?void 0:n.custom_name)||(null==(a=null==(i=null==t?void 0:t.user_metadata)?void 0:i.full_name)?void 0:a.split(" ")[0])||(null==(r=null==t?void 0:t.email)?void 0:r.split("@")[0])||""},theme:{color:"#ffffff",font:{family:"Inter",size:14}},modal:{ondismiss:function(){if(d)N("cancelled",p,void 0,x.paymentId,s);else{const e=new URLSearchParams;e.set("payment_id",x.paymentId),e.set("payment_status","cancelled"),s&&e.set("organization_id",s),window.location.href=`${window.location.pathname}?${e.toString()}`}}}},l=new window.Razorpay(o);C(),l.open()},n.onerror=()=>{C(),j("Failed to load payment gateway",d?"subscription":"credits"),_()},document.body.appendChild(n)}else C(),j("Failed to get Razorpay order details",d?"subscription":"credits")}else window.location.href=x.url}catch(c){C(),j("Error processing payment. Please try again.",(null==i?void 0:i.isSubscription)?"subscription":"credits")}},_=()=>{const e=document.getElementById("razorpay-checkout-script");e&&e.parentNode&&e.parentNode.removeChild(e)};return De.useEffect(()=>()=>{_()},[]),{isLoading:n,processingBundleAmount:i,isUpgradeLoading:r,bundles:y,selectedBundleAmount:m,handleBundleSelect:e=>{h(e)},getSelectedBundle:()=>y.find(e=>e.amount===m),handleBuyCredits:async(n,i,r=!1)=>{var o,l,c,u;s(!0),a(n.amount);try{w("credits",n.amount,n.currency),(null==t?void 0:t.id)&&((e,t,n,s,i=!1,a)=>{const r=localStorage.getItem("utm_source")||void 0,o=localStorage.getItem("utm_campaign")||void 0,l=localStorage.getItem("utm_medium")||void 0;op("topup_intent",{user_id:e,credits_amount:t,price_usd:n,user_tier:s,is_custom_amount:i,organization_id:a||"personal",checkout_type:"stripe",utm_source:r,utm_campaign:o,utm_medium:l,page_url:window.location.href,page_path:window.location.pathname})})(t.id,n.amount,n.price,d||"free",r,i);const e=await Pp(n.price,!1,void 0,i,n.currency);(null==e?void 0:e.paymentId)&&up(e.paymentId,n.price,n.currency,"credits"),(null==e?void 0:e.url)&&(window.location.href=e.url)}catch(p){j((null==(l=null==(o=p.response)?void 0:o.data)?void 0:l.detail)||"Failed to create checkout session. Please try again.","credits"),e({title:"Error",description:(null==(u=null==(c=p.response)?void 0:c.data)?void 0:u.detail)||"Failed to create checkout session. Please try again.",variant:"destructive"})}finally{s(!1),a(null)}},handleRazorpayPayment:F,handleUpgradeToPro:async t=>{var n,s,i,a;o(!0);try{if(!(null==l?void 0:l.id))throw new Error("No Subscription available at this moment for this account");w("subscription",void 0,"USD","Pro Plan");const e=await Pp(0,!0,null==l?void 0:l.id,t,"USD");(null==e?void 0:e.paymentId)&&up(e.paymentId,0,"USD","subscription"),(null==e?void 0:e.url)&&(window.location.href=e.url)}catch(r){j((null==(s=null==(n=r.response)?void 0:n.data)?void 0:s.detail)||"Failed to create checkout session. Please try again.","subscription"),e({title:"Error",description:(null==(a=null==(i=r.response)?void 0:i.data)?void 0:a.detail)||"Failed to create checkout session. Please try again.",variant:"destructive"})}finally{o(!1)}},handleUpgradeToProMode:async t=>{var n,s,i,a,r,l;o(!0);try{w("subscription",void 0,t,"Pro Mode");let e=null;if(null==c?void 0:c.plans){const t=c.plans.emergent_pro;t&&(e=(null==(n=t.monthly_plans)?void 0:n[0])||(null==(s=t.yearly_plans)?void 0:s[0]))}else{const t=(null==c?void 0:c.available_plans)||(null==c?void 0:c.personal_plans);t&&(e=t.find(e=>e.tier_name.toLowerCase().includes("pro")))}if(!e)throw new Error("Emergent Pro plan is not available for upgrade at this moment");if(t.toUpperCase()===bv){const n={amount:0,price:0,selected:!1,discount:0,currency:t||"USD"};await F(n,"",{isSubscription:!0,planId:e.id,planName:"pro",planType:"personal"})}else{const n=await Pp(0,!0,e.id,void 0,t||"USD");(null==n?void 0:n.paymentId)&&up(n.paymentId,0,t||"USD","subscription"),(null==n?void 0:n.url)&&(window.location.href=n.url)}}catch(d){j((null==(a=null==(i=d.response)?void 0:i.data)?void 0:a.detail)||d.message||"An error occurred during upgrade","subscription"),e({title:"Error",description:(null==(l=null==(r=d.response)?void 0:r.data)?void 0:l.detail)||"Failed to create checkout session. Please try again.",variant:"destructive"})}finally{o(!1)}},handleManageSubscription:async(t="",n)=>{o(!0);try{let s;n.toUpperCase()===bv?(s=await zp(t),"success"===(null==s?void 0:s.status)?(v(!0),e({title:"Subscription Cancelled",description:s.message,variant:"default"})):e({title:"Error",description:s.detail,variant:"destructive"})):(s=await Op(),s&&s.url?window.location.href=s.url:e({title:"Error",description:s.detail,variant:"destructive"}))}catch(s){e({title:"Error",description:"Failed to get subscription management URL",variant:"destructive"})}finally{o(!1)}},paymentModalState:u,showPaymentLoading:w,showPaymentSuccess:(e,t,n,s,i)=>{p({isLoading:!1,isSuccess:!0,isError:!1,successData:e,paymentType:t,amount:n,currency:s,planName:i})},showPaymentError:j,hidePaymentModals:C,subscriptionPaymentResult:x,showSubscriptionPaymentResult:N,hideSubscriptionPaymentResult:()=>{f({showModal:!1,status:"success"})},subscriptionCancelledSuccessfully:g,setSubscriptionCancelledSuccessfully:v,cleanupRazorpayScript:_}}var ET="dot_88b245";const IT=({size:e=40,color:t="black",speed:s=1.5})=>n.jsx("div",{className:"container_f5d1e6",style:{"--uib-size":e+"px","--uib-color":t,"--uib-speed":s+"s"},children:n.jsxs("div",{className:"inner_0ac679",children:[n.jsx("div",{className:ET}),n.jsx("div",{className:ET}),n.jsx("div",{className:ET}),n.jsx("div",{className:ET}),n.jsx("div",{className:ET}),n.jsx("div",{className:ET})]})});const AT=({size:e=40,color:t="black",speed:s=.9,stroke:i=5})=>n.jsx("div",{className:"container_2e2e0b",style:{"--uib-size":e+"px","--uib-color":t,"--uib-speed":s+"s","--uib-stroke":i+"px"},children:n.jsx("div",{className:"inner_010d1a"})});function TT({isOpen:e,paymentType:t,amount:s,planName:i}){const a=()=>"subscription"===t?i||"Pro":null;return e?(De.useEffect(()=>{fg(JS.PAYMENT_LOADING_MODAL_OPENED,{paymentType:t,amount:s,planName:i})},[t,s,i]),Re.createPortal(n.jsx(Rt,{children:n.jsxs("div",{className:"fixed inset-0 z-[9999]",children:[n.jsx(Pt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"absolute inset-0 bg-[#18181A]"}),n.jsx("div",{className:"relative w-full h-full overflow-y-auto",children:n.jsx(Pt.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},transition:{duration:.2,ease:"easeOut"},className:"min-h-full w-full flex items-center justify-center bg-[#18181A] px-4 py-8",onClick:e=>e.stopPropagation(),children:n.jsx("div",{className:"relative max-w-[90%] md:max-w-[611px] bg-[#1C1C1F] text-white border-[#2E2F34] p-6 md:p-[94px] md:px-[120px] rounded-[20px] w-full min-h-[400px] md:min-h-[500px] flex flex-col justify-center",children:n.jsx("div",{className:"flex flex-col items-center justify-center py-6 flex-1",children:n.jsxs(Pt.div,{className:"flex flex-col items-center justify-center gap-[48px] font-brockmann",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[n.jsx("div",{className:"relative",children:n.jsx(IT,{size:"32",speed:"1.75",color:"#80FFF9"})}),n.jsxs("div",{className:"flex flex-col items-center gap-1",children:[n.jsxs("div",{className:"flex items-center flex-col",children:[n.jsx("p",{className:"font-['Brockmann'] font-medium text-[24px] md:text-[32px] leading-[32px] md:leading-[40px] tracking-[-0.02em] text-center text-white",children:"credits"===t?`Processing ${s} credits purchase`:"Setting up your"}),a()&&n.jsxs("span",{className:"font-['Brockmann'] font-medium text-[24px] md:text-[32px] leading-[32px] md:leading-[40px] tracking-[-0.02em] text-center text-[#F3CA5F] drop-shadow-[0px_0px_20px_rgba(243,202,95,0.4)] [text-shadow:0px_0.73px_0.73px_rgba(0,0,0,0.1)]",children:[a()," plan"]})]}),n.jsx("span",{className:"font-['Inter'] mt-2 font-medium text-[16px] leading-[20px] text-[#FFFFFF]/60 text-center",children:"credits"===t?"Redirecting to payment gateway, please wait...":"This will just take a moment"})]})]})})})})})]})}),document.body)):null}const DT=({children:e,onClick:t,variant:s="dark",size:i="md",glowing:a=!1,animated:r=!1,elevationEffect:o=!1,fullWidthOnMobile:l=!1,className:c="",disabled:d,type:u="button",...p})=>{const[m,h]=De.useState(!1),[x,f]=De.useState(.15);De.useEffect(()=>{if(!a||!r)return;const e=setInterval(()=>{f(e=>{const t=e+(.05*Math.random()-.025);return Math.max(.1,Math.min(.3,t))})},100);return()=>clearInterval(e)},[a,r]);const g=a?{position:"relative",zIndex:0}:{},v=o?"transform transition-all duration-800 hover:-translate-y-2 \n       hover:shadow-[0px_19px_41px_0px_hsla(0,0%,100%,0.1),0px_75px_75px_0px_hsla(0,0%,100%,0.15),0px_169px_101px_0px_hsla(0,0%,100%,0.1),0px_300px_120px_0px_hsla(0,0%,100%,0.03),0px_469px_131px_0px_hsla(0,0%,100%,0)]\n       shadow-[0px_19px_41px_0px_hsla(0,0%,100%,0.1),0px_75px_75px_0px_hsla(0,0%,100%,0.1),0px_169px_101px_0px_hsla(0,0%,100%,0.1),0px_300px_120px_0px_hsla(0,0%,100%,0.03),0px_469px_131px_0px_hsla(0,0%,100%,0)]":"",b=o?{transition:"all 800ms cubic-bezier(0.34, 1.56, 0.64, 1)"}:{};return n.jsxs("div",{className:"relative inline-block w-full "+(l?"":"max-md:w-[85%]"),children:[a&&n.jsx("div",{className:"absolute inset-0 rounded-full blur-xl transition-opacity "+(r?"duration-500":""),style:{background:"dark"===s?"rgba(255, 255, 255, 0.2)":"rgba(26, 26, 26, 0.2)",opacity:m?2*x:x,transform:"scale(1.2)",zIndex:-1}}),n.jsx("button",{type:u,disabled:d,onClick:t,onMouseEnter:()=>h(!0),onMouseLeave:()=>h(!1),className:`relative justify-center font-semibold leading-6 tracking-wide flex items-center gap-3 ${{sm:"py-2 px-6 text-sm",md:"py-4 px-14 text-base",lg:"py-5 px-16 text-lg"}[i]} ${{dark:"border-2 border-black rounded-full text-white bg-[#1A1A1A] hover:bg-[#1D1D1D]",light:"border-2 border-black rounded-full text-black bg-white hover:bg-gray-100"}[s]} ${v} ${c} before:absolute before:inset-0 before:-m-1 before:rounded-full before:border before:border-[#FFFFFF26] before:-z-10 disabled:bg-[#999999] disabled:cursor-not-allowed max-md:h-[40px]`,style:{...g,...b},...p,children:e})]})},MT=({width:e=40,height:t=40,className:s="",onClick:i,role:a="button",tabIndex:r=0,...o})=>n.jsxs("svg",{width:e,height:t,viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:s,onClick:i,onKeyDown:e=>{!i||"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),i())},role:i?a:void 0,tabIndex:i?r:void 0,style:{cursor:"pointer",outline:"none"},...o,children:[n.jsx("rect",{width:"40",height:"40",rx:"10",fill:"white",fillOpacity:"0.06"}),n.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.308 13.308C13.7186 12.8973 14.3844 12.8973 14.7951 13.308L20 18.5129L25.2048 13.308C25.6156 12.8973 26.2813 12.8973 26.692 13.308C27.1027 13.7186 27.1027 14.3844 26.692 14.7951L21.4871 20L26.692 25.2048C27.1027 25.6156 27.1027 26.2813 26.692 26.692C26.2813 27.1026 25.6156 27.1026 25.2048 26.692L20 21.4871L14.7951 26.692C14.3844 27.1026 13.7186 27.1026 13.308 26.692C12.8973 26.2813 12.8973 25.6156 13.308 25.2048L18.5129 20L13.308 14.7951C12.8973 14.3844 12.8973 13.7186 13.308 13.308Z",fill:"currentColor"})]}),LT=gv.common.subscriptionSuccess,PT=gv.common.rightArrow,RT=gv.icons.paymentFailed;function OT({isOpen:e,onOpenChange:t,status:s,planName:i,errorMessage:a,paymentId:r,organizationId:o,onClose:l}){const[c,d]=De.useState(s),[u,p]=De.useState(a),[m,h]=De.useState(!1),[x,f]=De.useState(void 0),{switchWorkspace:g,isPersonalWorkspace:v,isOrganizationWorkspace:b}=Kg(),y=Me(),{user:w}=Wg();De.useEffect(()=>{if(!e||!r||"pending"!==s)return;fg(JS.SUBSCRIPTION_PAYMENT_RESULT_MODAL_EVENTS.PAYMENT_STATUS_POLLING_STARTED,{paymentId:r,organizationId:o,status:s,planName:i}),h(!0),d("pending");let t=0;const n=4e3;let a=[],l=!0;const c=async()=>{if(l)try{const e=await Rp(r,o);if(!l)return;if("success"===e.status){d("success"),(null==e?void 0:e.ecu_amount)&&f(e.ecu_amount);try{const t=r?`gtm_razorpay_success_${r}`:void 0;if(!(t?sessionStorage.getItem(t):"1")&&(null==w?void 0:w.id)){dp(w.id,i||"",i||"",(null==e?void 0:e.ecu_amount)||x||0,void 0,Boolean(o),o,void 0,r,!0);const n=r?pp(r):null;if(n){const t=e.amount||n.amount,s=e.currency||n.currency;hp(w.id,r||"",t,s,n.category),mp(r||"")}t&&sessionStorage.setItem(t,"1")}}catch{}return void h(!1)}if("failed"===e.status)return d("failed"),p("Payment verification failed"),void h(!1);if(t++,t<10&&l){const e=setTimeout(c,n);a.push(e)}else l&&(d("failed"),p("Payment verification timed out. Please check your subscription status."),h(!1))}catch(e){if(!l)return;if(t++,t<10&&l){const e=setTimeout(c,n);a.push(e)}else l&&(d("failed"),p("Error verifying payment status"),h(!1))}},u=setTimeout(c,n);return a.push(u),()=>{l=!1,a.forEach(e=>clearTimeout(e)),a=[],h(!1)}},[e,r,o,s]),De.useEffect(()=>{d(s),p(a)},[s,a]);const j=()=>"success"===c?i?`${i} Plan Activated`:"Subscription Activated":"cancelled"===c?"Payment failed":"pending"===c?"Verifying Payment":"Payment Failed",C=()=>"success"===c?x?`You now have ${x} credits refreshed monthly.`:i?`Your ${i} subscription is now active and ready to use.`:"Your subscription is now active and ready to use.":"cancelled"===c?n.jsxs(n.Fragment,{children:["Your payment could not be processed.",n.jsx("br",{}),"Please try again"]}):"pending"===c?"Please wait while we verify your payment...":u||"There was an issue processing your payment. Please try again.",N=()=>{if("pending"!==c&&!m)if("success"===c){null==l||l();const e=i&&(i.toLowerCase().includes("team")||i.toLowerCase().includes("teams")||i.toLowerCase().includes("organization")||i.toLowerCase().includes("org"))||!1,t=i&&(i.toLowerCase().includes("pro")||i.toLowerCase().includes("standard")||i.toLowerCase().includes("starter")||i.toLowerCase().includes("personal"))||!1;v();const n=b();e&&o?(g(o),y(`/workspace/${o}`)):t&&n?(g("personal"),y("/")):window.location.reload()}else t(!1)};return e?Re.createPortal(n.jsx(Rt,{children:n.jsxs("div",{className:"fixed inset-0 z-[9999]",children:[n.jsx(Pt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"absolute inset-0 bg-[#18181A]",onClick:N}),n.jsx("div",{className:"relative w-full h-full overflow-y-auto",children:n.jsx(Pt.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},transition:{duration:.2,ease:"easeOut"},className:"min-h-full w-full flex items-center justify-center bg-[#18181A] px-4 py-8",onClick:e=>e.stopPropagation(),children:n.jsxs("div",{className:"relative max-w-[95%] md:max-w-[600px] bg-[#1C1C1F] text-white border-[#2E2F34] p-6 md:p-12 rounded-[20px] w-full min-h-[400px] md:min-h-[500px] flex flex-col justify-center",children:[("success"===c||"cancelled"===c)&&n.jsx("button",{onClick:N,className:"absolute top-4 right-4 md:top-6 md:right-6 text-gray-400 hover:text-white transition-colors z-[9999]",children:n.jsx(MT,{width:32,height:32,className:"md:w-8 md:h-8 rounded-full"})}),n.jsx("div",{className:"flex flex-col items-center justify-center py-8 md:py-16 max-w-full overflow-hidden flex-1",children:n.jsxs(Pt.div,{className:"flex flex-col items-center justify-center gap-4 md:gap-6 font-brockmann w-full max-w-full",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:["success"===c?n.jsx("img",{src:LT,alt:"Success",className:"w-12 h-12 md:w-16 md:h-16"}):"pending"===c?n.jsx(IT,{size:"32",speed:"1.75",color:"#80FFF9"}):n.jsx("img",{src:RT,alt:"Failed",className:"w-12 h-12 md:w-16 md:h-16"}),n.jsxs("div",{className:"flex flex-col items-center max-w-full px-4",children:[n.jsx("p",{className:"text-[16px] md:text-[24px] lg:text-[28px] md:leading-[32px] font-medium text-center break-words",children:"success"===c?n.jsx("span",{className:"font-['Brockmann'] font-medium text-[24px] md:text-[32px] leading-[32px] md:leading-[40px] tracking-[-0.02em] text-center text-[#F3CA5F] drop-shadow-[0px_0px_20px_rgba(243,202,95,0.4)] [text-shadow:0px_0.73px_0.73px_rgba(0,0,0,0.1)]",children:j()}):n.jsx("span",{className:"font-['Brockmann'] font-medium text-[24px] md:text-[32px] leading-[32px] md:leading-[40px] tracking-[-0.02em] text-center text-white",children:j()})}),"pending"===c?n.jsx("span",{className:"font-['Brockmann'] font-medium text-[18px] leading-[24px] tracking-normal text-[#666666] text-center",children:C()}):"success"===c?x?n.jsxs("span",{className:"font-['Brockmann'] font-medium text-[18px] leading-[24px] tracking-normal text-[#666666] text-center",children:["You now have ",n.jsxs("span",{className:"font-['Brockmann'] font-medium text-[18px] leading-[24px] tracking-normal text-[#666666] text-white",children:[x," credits"]})," refreshed monthly."]}):n.jsx("span",{className:"font-['Brockmann'] font-medium text-[18px] leading-[24px] tracking-normal text-[#666666] text-center",children:i?`Your ${i} subscription is now active and ready to use.`:"Your subscription is now active and ready to use."}):n.jsx("span",{className:"font-['Brockmann'] font-medium text-[18px] leading-[24px] tracking-normal text-center text-[#666666]",children:C()})]}),"pending"!==c&&n.jsx(DT,{onClick:N,variant:"light",className:`w-full h-[45px] md:h-[48px] max-w-[280px] md:max-w-[320px] mx-auto text-center ${m?"opacity-50 cursor-not-allowed":""} flex rounded-[30px] p-2 gap-2 bg-white drop-shadow-[0px_0px_20px_rgba(255,255,255,0.4)] [box-shadow:inset_0px_2.18px_3.64px_1.45px_rgba(255,255,255,0.4)]`,type:"button",disabled:m,children:n.jsxs("span",{className:"px-4 py-3 font-['Brockmann'] font-semibold text-[16px] leading-[24px] tracking-[-0.02em] text-[#0E0E0F] whitespace-nowrap flex items-center gap-2",children:["success"===c?"Start Vibing":"cancelled"===c?"Retry Payment":"pending"===c?"Please Wait":"Close","success"===c&&n.jsx("img",{src:PT,alt:"Arrow",className:"w-6 h-6"})]})})]})})]})})})]})}),document.body):null}function zT({isOpen:e,onClose:t,onConfirm:s,title:i="Cancel Subscription",message:a="Are you sure you want to cancel your subscription? This action cannot be undone and you will lose access to premium features.",confirmText:r="Yes, Cancel",cancelText:o="Keep Subscription",planName:l="Pro"}){if(!e)return null;return Re.createPortal(n.jsx("div",{className:"fixed inset-0 z-[10000] flex items-center justify-center bg-black/60 backdrop-blur-sm",onClick:e=>{e.target===e.currentTarget&&t()},children:n.jsx("div",{className:"bg-[#1C1C1F] rounded-[20px] p-6 mx-4 w-[80%] md:w-[45%] relative",children:n.jsxs("div",{className:"flex flex-col",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsxs("h1",{className:"text-2xl font-['Brockmann'] font-medium text-white leading-8 drop-shadow-[0_0_20px_rgba(243,202,95,0.4)] mb-4 mr-4",children:["Cancel ",n.jsxs("span",{className:"text-[#F3CA5F] drop-shadow-[0_0.73px_0.73px_rgba(0,0,0,0.1)] tracking-[-0.02em]",children:[l,"?"]})]}),n.jsx("button",{onClick:t,className:"absolute top-6 right-6 text-gray-400 hover:text-white transition-colors",children:n.jsx(MT,{width:32,height:32,className:"rounded-full"})})]}),n.jsxs("div",{children:[n.jsxs("p",{className:"text-base font-['Inter'] font-medium leading-6 text-white opacity-60 mb-4",children:["Your ",l," subscription will remain active until the end of your current billing cycle. After that, you'll lose access to all the ",l," features."]}),n.jsx("p",{className:"text-base font-['Inter'] font-medium leading-6 text-white opacity-60 mb-[52px]",children:"Are you sure you want to cancel the subscription?"})]}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-end",children:[n.jsx("button",{onClick:t,className:"rounded-[10px] px-5 py-2.5 gap-1.5 bg-white/[0.04] text-[15px] font-medium leading-5 tracking-[-0.2px] text-white font-['Brockmann']",children:"Keep subscription"}),n.jsx("button",{onClick:s,className:"rounded-[10px] px-5 py-2.5 gap-1.5 bg-[#CC5252] text-[15px] font-semibold leading-5 tracking-[-0.2px] text-white font-['Brockmann']",children:"Yes, Cancel Subscription"})]})]})})}),document.body)}const BT=De.createContext(null),HT="success",$T="error",UT="info",VT="top-left",WT="top-center",qT="top-right",GT="bottom-left",ZT="bottom-center",YT="bottom-right",KT=({color:e="#5FE55C"})=>n.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[n.jsx("path",{d:"M10 19C8.755 19 7.585 18.7638 6.49 18.2913C5.395 17.8188 4.4425 17.1775 3.6325 16.3675C2.8225 15.5575 2.18125 14.605 1.70875 13.51C1.23625 12.415 1 11.245 1 10C1 8.755 1.23625 7.585 1.70875 6.49C2.18125 5.395 2.8225 4.4425 3.6325 3.6325C4.4425 2.8225 5.395 2.18125 6.49 1.70875C7.585 1.23625 8.755 1 10 1C11.245 1 12.415 1.23625 13.51 1.70875C14.605 2.18125 15.5575 2.8225 16.3675 3.6325C17.1775 4.4425 17.8188 5.395 18.2913 6.49C18.7638 7.585 19 8.755 19 10C19 11.245 18.7638 12.415 18.2913 13.51C17.8188 14.605 17.1775 15.5575 16.3675 16.3675C15.5575 17.1775 14.605 17.8188 13.51 18.2913C12.415 18.7638 11.245 19 10 19Z",fill:e}),n.jsx("path",{d:"M13.7155 7C13.8953 7 14.0623 7.03135 14.2164 7.09406C14.3706 7.15677 14.5076 7.24666 14.6275 7.36371C14.7474 7.48077 14.8373 7.61246 14.8972 7.75878C14.9572 7.9051 14.9914 8.07023 15 8.25418C15 8.4214 14.9679 8.58236 14.9037 8.73704C14.8394 8.89172 14.7474 9.02759 14.6275 9.14465L9.52794 14.13C9.40805 14.2471 9.26889 14.337 9.11047 14.3997C8.95204 14.4624 8.7872 14.4958 8.61593 14.5C8.44466 14.5 8.27981 14.4686 8.12139 14.4059C7.96296 14.3432 7.82381 14.2513 7.70392 14.13L5.37893 11.8599C5.25905 11.7429 5.16699 11.607 5.10276 11.4523C5.03854 11.2977 5.00428 11.1367 5 10.9695C5 10.7939 5.03425 10.6309 5.10276 10.4804C5.17127 10.3298 5.26333 10.1961 5.37893 10.079C5.49454 9.96196 5.62942 9.87416 5.78356 9.81564C5.9377 9.75711 6.10683 9.72366 6.29094 9.7153C6.46221 9.7153 6.62706 9.74666 6.78548 9.80936C6.94391 9.87207 7.08307 9.96196 7.20295 10.079L8.61593 11.4586L12.8035 7.36371C12.9234 7.24666 13.0625 7.15677 13.2209 7.09406C13.3794 7.03135 13.5442 7 13.7155 7Z",fill:"#172218"})]}),JT=({color:e="#5FE55C"})=>n.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.42462 4.42462C4.76684 4.08242 5.32167 4.08242 5.66389 4.42462L10.0013 8.76204L14.3387 4.42462C14.6809 4.08242 15.2357 4.08242 15.578 4.42462C15.9202 4.76684 15.9202 5.32167 15.578 5.66388L11.2405 10.0013L15.578 14.3386C15.9202 14.6809 15.9202 15.2357 15.578 15.578C15.2357 15.9202 14.6809 15.9202 14.3387 15.578L10.0013 11.2405L5.66389 15.578C5.32167 15.9202 4.76684 15.9202 4.42462 15.578C4.08242 15.2357 4.08242 14.6809 4.42462 14.3386L8.76205 10.0013L4.42462 5.66388C4.08242 5.32167 4.08242 4.76684 4.42462 4.42462Z",fill:e})}),QT=({toast:e,onRemove:t,position:s})=>{const[i,a]=De.useState(!1);De.useEffect(()=>{const n=Math.min(e.duration||2e3,2e3),s=setTimeout(()=>{a(!0),setTimeout(()=>{t(e.id)},300)},n);return()=>clearTimeout(s)},[e.id,e.duration,t]);const r=()=>{switch(e.type){case HT:return"#5FE55C";case $T:return"#FF8080";default:return"#5FE55C"}};return n.jsxs("div",{className:`flex items-center p-4 rounded-xl  min-w-fit pointer-events-auto ${(()=>{if(i)return"animate-out slide-out-to-bottom-full duration-300 ease-in";switch(s){case VT:case GT:return"animate-in slide-in-from-left-full duration-300 ease-out";case qT:case YT:return"animate-in slide-in-from-right-full duration-300 ease-out";case WT:return"animate-in slide-in-from-top-full duration-300 ease-out";default:return"animate-in slide-in-from-bottom-full duration-300 ease-out"}})()}`,style:(()=>{switch(e.type){case HT:return{background:"radial-gradient(50% 50% at 50% 50%, rgba(95, 229, 92, 0.15) 0%, rgba(95, 229, 92, 0.08) 100%)",backdropFilter:"blur(25px)"};case $T:return{background:"radial-gradient(50% 50% at 50% 50%, rgba(255, 128, 128, 0.15) 0%, rgba(255, 128, 128, 0.08) 100%)",backdropFilter:"blur(25px)"};default:return{background:"radial-gradient(50% 50% at 50% 50%, rgba(95, 229, 92, 0.15) 0%, rgba(95, 229, 92, 0.08) 100%)",backdropFilter:"blur(25px)"}}})(),onClick:e=>e.stopPropagation(),children:[e.type===HT?n.jsx(KT,{}):null,n.jsx("span",{className:"ml-2 text-[16px] flex-1 font-medium leading-5 whitespace-pre-line break-words",style:{color:r(),textShadow:(()=>{switch(e.type){case HT:return"0 0 20px rgba(95, 229, 92, 0.20)";case $T:return"0 0 20px rgba(239, 68, 68, 0.20)";default:return"0 0 20px rgba(95, 229, 92, 0.20)"}})(),fontFamily:'Brockmann, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif',fontSize:"16px",fontWeight:"500",lineHeight:"20px",letterSpacing:"-0.2px"},children:e.message}),n.jsx("button",{title:"Close",onClick:()=>{a(!0),setTimeout(()=>{t(e.id)},300)},className:"flex-shrink-0 ml-6 transition-opacity cursor-pointer pointer-events-auto opacity-60 hover:opacity-80",type:"button",children:n.jsx(JT,{color:r()})})]})},XT=({toasts:e,removeToast:t,position:s})=>{if(0===e.length)return null;return Re.createPortal(n.jsx("div",{className:(()=>{switch(s){case VT:return"fixed top-4 left-4 z-[99999] flex flex-col gap-3 max-md:left-2 max-md:right-2 max-md:w-auto";case WT:return"fixed top-4 left-1/2 transform -translate-x-1/2 z-[99999] flex flex-col gap-3 max-md:left-2 max-md:right-2 max-md:transform-none max-md:translate-x-0";case qT:return"fixed top-4 right-4 z-[99999] flex flex-col gap-3 max-md:left-2 max-md:right-2";case GT:return"fixed bottom-4 left-4 z-[99999] flex flex-col-reverse gap-3 max-md:left-2 max-md:right-2 max-md:w-auto";case ZT:return"fixed bottom-4 left-1/2 transform z-[99999] -translate-x-1/2 z-[9999] flex flex-col-reverse gap-3 max-md:left-2 max-md:right-2 max-md:transform-none max-md:translate-x-0";case YT:return"fixed bottom-4 right-4 z-[99999] flex flex-col-reverse gap-3 max-md:left-2 max-md:right-2";default:return"fixed bottom-4 left-1/2 z-[99999] transform -translate-x-1/2 z-[9999] flex flex-col-reverse gap-3 max-md:left-2 max-md:right-2 max-md:transform-none max-md:translate-x-0"}})(),children:e.map(e=>n.jsx(QT,{toast:e,onRemove:t,position:s},e.id))}),document.body)},eD=({children:e})=>{const[t,s]=De.useState([]),[i,a]=De.useState(ZT),r=e=>{s(t=>t.filter(t=>t.id!==e))},o={addToast:(e,t=HT,n=2e3,i)=>{const a=Date.now()+Math.random(),r={id:a,message:e,type:t,duration:Math.min(n,2e3),uniqueId:i};return s(e=>{if(i){const t=e.findIndex(e=>e.uniqueId===i);if(-1!==t){const n=[...e];return n[t]=r,n}}return[...e,r]}),a},removeToast:r,removeAllToasts:()=>{s([])},toasts:t,position:i,changePosition:e=>{a(e)}};return n.jsxs(BT.Provider,{value:o,children:[e,n.jsx(XT,{toasts:t,removeToast:r,position:i})]})},tD=()=>{const e=De.useContext(BT);if(!e)throw new Error("useNewToast must be used within a ToastProvider");const{addToast:t,removeToast:n,removeAllToasts:s,changePosition:i}=e;return{newToast:{success:(e,n,s)=>t(e,HT,n,s),error:(e,n,s)=>t(e,$T,n,s),info:(e,n,s)=>t(e,UT,n,s)},removeToast:n,removeAllToasts:s,changePosition:i}},nD=({size:e=24,width:t,height:s,className:i="",fill:a,gradientColors:r={start:"#FFF4DF",end:"#FFD702"}})=>{const o=t||e,l=s||e,c=`team-people-gradient-${Math.random().toString(36).substring(2,11)}`;return n.jsxs("svg",{width:o,height:l,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:i,children:[n.jsx("path",{d:"M12 4.28906C11.6627 4.28906 11.3286 4.35551 11.0169 4.48461C10.7053 4.6137 10.4221 4.80292 10.1835 5.04146C9.945 5.28 9.75578 5.56319 9.62669 5.87486C9.49759 6.18653 9.43114 6.52057 9.43114 6.85792C9.43114 7.19527 9.49759 7.52931 9.62669 7.84098C9.75578 8.15265 9.945 8.43584 10.1835 8.67438C10.4221 8.91292 10.7053 9.10214 11.0169 9.23123C11.3286 9.36033 11.6627 9.42678 12 9.42678C12.6813 9.42678 13.3347 9.15613 13.8165 8.67438C14.2982 8.19262 14.5689 7.53922 14.5689 6.85792C14.5689 6.17662 14.2982 5.52322 13.8165 5.04146C13.3347 4.55971 12.6813 4.28906 12 4.28906ZM17.7857 5.57221C17.2742 5.57221 16.7837 5.77539 16.422 6.13707C16.0603 6.49875 15.8571 6.98929 15.8571 7.50078C15.8571 8.01227 16.0603 8.50281 16.422 8.86448C16.7837 9.22616 17.2742 9.42935 17.7857 9.42935C18.2972 9.42935 18.7877 9.22616 19.1494 8.86448C19.5111 8.50281 19.7143 8.01227 19.7143 7.50078C19.7143 6.98929 19.5111 6.49875 19.1494 6.13707C18.7877 5.77539 18.2972 5.57221 17.7857 5.57221ZM6.21429 5.57221C5.7028 5.57221 5.21226 5.77539 4.85058 6.13707C4.4889 6.49875 4.28571 6.98929 4.28571 7.50078C4.28571 8.01227 4.4889 8.50281 4.85058 8.86448C5.21226 9.22616 5.7028 9.42935 6.21429 9.42935C6.72578 9.42935 7.21631 9.22616 7.57799 8.86448C7.93967 8.50281 8.14286 8.01227 8.14286 7.50078C8.14286 6.98929 7.93967 6.49875 7.57799 6.13707C7.21631 5.77539 6.72578 5.57221 6.21429 5.57221ZM8.14286 11.9918C8.14523 11.6523 8.28174 11.3276 8.5226 11.0885C8.76346 10.8493 9.08913 10.7151 9.42857 10.7151H14.5714C14.9124 10.7151 15.2394 10.8505 15.4806 11.0916C15.7217 11.3328 15.8571 11.6598 15.8571 12.0008V15.8579C15.8575 16.2626 15.7941 16.6648 15.6694 17.0498C15.3847 17.9224 14.7983 18.6649 14.0154 19.1441C13.2325 19.6232 12.3044 19.8075 11.3978 19.664C10.4912 19.5204 9.6655 19.0584 9.06893 18.3608C8.47236 17.6632 8.14402 16.7758 8.14286 15.8579V11.9918ZM6.85714 12.0008C6.85714 11.5315 6.98186 11.0931 7.20171 10.7151H4.28571C3.94472 10.7151 3.6177 10.8505 3.37658 11.0916C3.13546 11.3328 3 11.6598 3 12.0008V15.2151C2.99983 15.7413 3.12886 16.2596 3.37578 16.7243C3.6227 17.189 3.97994 17.586 4.41614 17.8804C4.85234 18.1748 5.35415 18.3576 5.8775 18.4127C6.40085 18.4679 6.92974 18.3937 7.41771 18.1966C7.04845 17.4719 6.85633 16.67 6.85714 15.8566V12.0008ZM17.1429 12.0008V15.8579C17.1429 16.7001 16.941 17.4946 16.5823 18.1966C17.0703 18.3937 17.5991 18.4679 18.1225 18.4127C18.6459 18.3576 19.1477 18.1748 19.5839 17.8804C20.0201 17.586 20.3773 17.189 20.6242 16.7243C20.8711 16.2596 21.0002 15.7413 21 15.2151V12.0008C21 11.6598 20.8645 11.3328 20.6234 11.0916C20.3823 10.8505 20.0553 10.7151 19.7143 10.7151H16.7983C17.0169 11.0931 17.1429 11.5315 17.1429 12.0008Z",fill:a||`url(#${c})`}),!a&&n.jsx("defs",{children:n.jsxs("linearGradient",{id:c,x1:"4.575",y1:"1.59014",x2:"13.4881",y2:"21.9877",gradientUnits:"userSpaceOnUse",children:[n.jsx("stop",{stopColor:r.start}),n.jsx("stop",{offset:"1",stopColor:r.end})]})})]})},sD=({size:e=20,width:t,height:s,fill:i="#E6E6E6",className:a,onClick:r,style:o})=>{const l=t||e,c=s||e;return n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:l,height:c,viewBox:"0 0 20 20",fill:"none",className:a,onClick:r,style:o,children:n.jsx("path",{d:"M14.6377 3C16.4946 3.00001 18 4.50536 18 6.3623V12.8555C17.9998 14.7122 16.4945 16.2178 14.6377 16.2178H5.3623C3.50549 16.2178 2.00021 14.7122 2 12.8555V6.3623C2.00001 4.50536 3.50536 3.00001 5.3623 3H14.6377ZM3.15918 7.87012V12.8555C3.15939 14.0719 4.14582 15.0576 5.3623 15.0576H14.6377C15.8542 15.0576 16.8406 14.0719 16.8408 12.8555V7.87012H3.15918ZM8.2168 10.3086C8.56715 10.3446 8.84072 10.6402 8.84082 11C8.84082 11.3599 8.56724 11.6564 8.2168 11.6924L8.14453 11.6963H5.3623C4.97811 11.6963 4.66699 11.3842 4.66699 11C4.6671 10.6159 4.97818 10.3047 5.3623 10.3047H8.14453L8.2168 10.3086ZM5.3623 4.15918C4.14569 4.15919 3.15919 5.14569 3.15918 6.3623V6.71094H16.8408V6.3623C16.8408 5.14569 15.8543 4.15919 14.6377 4.15918H5.3623Z",fill:i})})},iD=({size:e=32,width:t,height:s,className:i="",onClick:a,style:r,fillStart:o="white",fillEnd:l="white"})=>{const c=t||e,d=s||e,u=`paint0_linear_collab_${Math.random().toString(36).substr(2,9)}`;return n.jsxs("svg",{width:c,height:d,viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:i,onClick:a,style:r,children:[n.jsx("path",{d:"M13.3291 16.959C13.6453 17.9178 14.1369 18.8099 14.7793 19.5889C13.7779 20.3746 12.5718 20.8562 11.3047 20.9766V27.999H4.11523V20.0273C4.11523 19.4739 4.33528 18.9431 4.72656 18.5518C5.11793 18.1604 5.64868 17.9404 6.20215 17.9404H10.6787C11.1738 17.9496 11.6657 17.8544 12.1221 17.6621C12.5784 17.4698 12.9898 17.1839 13.3291 16.8232V16.959ZM15.1543 11.8252C15.5241 11.7771 15.8996 11.8621 16.2129 12.0645C16.5263 12.267 16.7581 12.5745 16.8662 12.9316L17.7217 15.4883C17.9554 16.2028 18.4094 16.8251 19.0186 17.2656C19.6277 17.706 20.3607 17.9423 21.1123 17.9404H25.5996C26.1531 17.9404 26.6838 18.1604 27.0752 18.5518C27.4664 18.9431 27.6865 19.474 27.6865 20.0273V27.999H20.4863V20.9766C19.2121 20.85 18.0018 20.3565 17.002 19.5566C16.0021 18.7567 15.2556 17.6842 14.8525 16.4688L13.9756 13.8291C13.9027 13.6202 13.8758 13.3979 13.8975 13.1777C13.9191 12.9576 13.9884 12.7444 14.1006 12.5537C14.2128 12.3631 14.3659 12.2 14.5479 12.0742C14.7297 11.9485 14.9364 11.8629 15.1543 11.8252ZM7.72559 11.3037C8.0613 11.3037 8.39394 11.3706 8.7041 11.499C9.01411 11.6275 9.29591 11.8155 9.5332 12.0527C9.77056 12.2901 9.95942 12.5717 10.0879 12.8818C10.2163 13.192 10.2822 13.5247 10.2822 13.8604C10.2822 14.196 10.2163 14.5287 10.0879 14.8389C9.95943 15.149 9.77057 15.4306 9.5332 15.668C9.29583 15.9053 9.01425 16.0942 8.7041 16.2227C8.39394 16.3511 8.0613 16.417 7.72559 16.417C7.38988 16.417 7.05722 16.3511 6.74707 16.2227C6.43694 16.0942 6.15534 15.9053 5.91797 15.668C5.68068 15.4307 5.49272 15.1489 5.36426 14.8389C5.23579 14.5287 5.16895 14.1961 5.16895 13.8604C5.16896 13.5247 5.2358 13.192 5.36426 12.8818C5.49273 12.5719 5.6807 12.29 5.91797 12.0527C6.15526 11.8155 6.43706 11.6275 6.74707 11.499C7.05722 11.3706 7.38988 11.3037 7.72559 11.3037ZM24.0654 11.3037C24.4011 11.3037 24.7338 11.3706 25.0439 11.499C25.354 11.6275 25.6357 11.8155 25.873 12.0527C26.1104 12.2901 26.2993 12.5718 26.4277 12.8818C26.5562 13.192 26.6221 13.5247 26.6221 13.8604C26.6221 14.5384 26.3525 15.1885 25.873 15.668C25.3936 16.1473 24.7434 16.417 24.0654 16.417C23.3876 16.4169 22.7372 16.1473 22.2578 15.668C21.7785 15.1886 21.5098 14.5382 21.5098 13.8604C21.5098 13.5247 21.5756 13.192 21.7041 12.8818C21.8325 12.5719 22.0206 12.29 22.2578 12.0527C22.4952 11.8153 22.7777 11.6275 23.0879 11.499C23.3979 11.3707 23.7299 11.3038 24.0654 11.3037ZM20.7637 6.17969C21.0392 6.17978 21.3036 6.28914 21.499 6.4834C21.6933 6.67884 21.8027 6.94321 21.8027 7.21875C21.8027 7.49441 21.6934 7.75958 21.499 7.95508L20.0273 9.43652C19.9304 9.53414 19.8154 9.61212 19.6885 9.66504C19.5614 9.71798 19.4248 9.74508 19.2871 9.74512C19.1495 9.74512 19.0128 9.71794 18.8857 9.66504C18.7586 9.61208 18.6429 9.53429 18.5459 9.43652C18.4481 9.33952 18.3704 9.22383 18.3174 9.09668C18.2644 8.96956 18.2373 8.83301 18.2373 8.69531C18.2373 8.55761 18.2644 8.42105 18.3174 8.29395C18.3703 8.16696 18.4483 8.05199 18.5459 7.95508L20.0273 6.4834C20.2228 6.28906 20.488 6.17969 20.7637 6.17969ZM9.99023 6.31543C10.2323 6.28952 10.4759 6.34872 10.6787 6.4834L12.2021 7.95508C12.2998 8.05199 12.3778 8.16697 12.4307 8.29395C12.4836 8.42105 12.5107 8.55761 12.5107 8.69531C12.5107 8.833 12.4836 8.96957 12.4307 9.09668C12.3777 9.22383 12.2999 9.33952 12.2021 9.43652C12.1047 9.53323 11.9885 9.60921 11.8613 9.66113C11.7343 9.71301 11.5982 9.74005 11.4609 9.73926C11.3167 9.7457 11.1727 9.72196 11.0381 9.66992C10.9035 9.61787 10.7811 9.53827 10.6787 9.43652L9.24902 7.95508C9.10859 7.75628 9.04164 7.51414 9.06055 7.27148C9.07952 7.02874 9.18287 6.79963 9.35254 6.625C9.5222 6.45041 9.74817 6.34137 9.99023 6.31543ZM15.374 4C15.6506 4.00001 15.9157 4.11012 16.1113 4.30566C16.3069 4.50124 16.4169 4.7664 16.417 5.04297V7.12988C16.417 7.40662 16.307 7.67248 16.1113 7.86816C15.9157 8.06368 15.6506 8.17381 15.374 8.17383C15.0973 8.17383 14.8314 8.06385 14.6357 7.86816C14.4402 7.6725 14.3301 7.40653 14.3301 7.12988V5.04297C14.3302 4.76651 14.4403 4.50121 14.6357 4.30566C14.8314 4.10998 15.0973 4 15.374 4Z",fill:`url(#${u})`}),n.jsx("defs",{children:n.jsxs("linearGradient",{id:u,x1:"15.9009",y1:"4",x2:"15.9009",y2:"27.999",gradientUnits:"userSpaceOnUse",children:[n.jsx("stop",{stopColor:o}),n.jsx("stop",{offset:"1",stopColor:l,stopOpacity:"0.6"})]})})]})},aD=({size:e=20,color:t="#CCCCCC",className:s})=>n.jsx("svg",{width:e,height:e,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:s,children:n.jsx("path",{d:"M3.33398 16.6654V14.332C3.33398 13.8598 3.45551 13.4258 3.69857 13.0299C3.94162 12.6341 4.26454 12.332 4.66732 12.1237C5.52843 11.6931 6.40343 11.3702 7.29232 11.1549C8.18121 10.9397 9.08398 10.832 10.0007 10.832H10.2923C10.1395 11.082 10.025 11.3494 9.94857 11.6341C9.87218 11.9188 9.83398 12.207 9.83398 12.4987C9.08398 12.5126 8.33746 12.6133 7.5944 12.8008C6.85135 12.9883 6.12565 13.2626 5.41732 13.6237C5.29232 13.6931 5.19162 13.7904 5.11523 13.9154C5.03885 14.0404 5.00065 14.1793 5.00065 14.332V14.9987H10.8965L12.5632 16.6654H3.33398ZM10.0007 9.9987C9.08398 9.9987 8.29926 9.67231 7.64648 9.01953C6.99371 8.36675 6.66732 7.58203 6.66732 6.66536C6.66732 5.7487 6.99371 4.96398 7.64648 4.3112C8.29926 3.65842 9.08398 3.33203 10.0007 3.33203C10.9173 3.33203 11.702 3.65842 12.3548 4.3112C13.0076 4.96398 13.334 5.7487 13.334 6.66536C13.334 7.58203 13.0076 8.36675 12.3548 9.01953C11.702 9.67231 10.9173 9.9987 10.0007 9.9987ZM10.0007 8.33203C10.459 8.33203 10.8513 8.16884 11.1777 7.84245C11.5041 7.51606 11.6673 7.1237 11.6673 6.66536C11.6673 6.20703 11.5041 5.81467 11.1777 5.48828C10.8513 5.16189 10.459 4.9987 10.0007 4.9987C9.54232 4.9987 9.14996 5.16189 8.82357 5.48828C8.49718 5.81467 8.33398 6.20703 8.33398 6.66536C8.33398 7.1237 8.49718 7.51606 8.82357 7.84245C9.14996 8.16884 9.54232 8.33203 10.0007 8.33203ZM14.9173 16.6654L12.0007 13.7487C11.8201 13.5681 11.6916 13.3737 11.6152 13.1654C11.5388 12.957 11.5007 12.7487 11.5007 12.5404C11.5007 12.0959 11.6604 11.7001 11.9798 11.3529C12.2993 11.0056 12.709 10.832 13.209 10.832C13.5979 10.832 13.9034 10.9223 14.1257 11.1029C14.3479 11.2834 14.6118 11.5265 14.9173 11.832C15.1951 11.5543 15.4486 11.3181 15.6777 11.1237C15.9069 10.9293 16.2229 10.832 16.6257 10.832C17.1395 10.832 17.5527 11.0091 17.8652 11.3633C18.1777 11.7174 18.334 12.1168 18.334 12.5612C18.334 12.7695 18.2923 12.9779 18.209 13.1862C18.1257 13.3945 18.0007 13.582 17.834 13.7487L14.9173 16.6654Z",fill:t})}),rD=({size:e=24,color:t="#B3F8FF",className:s})=>n.jsx("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:s,children:n.jsx("path",{d:"M20.1818 18.3619H22V20.18H2V18.3619H3.81818V4.7255C3.81818 4.48439 3.91396 4.25316 4.08445 4.08267C4.25494 3.91219 4.48617 3.81641 4.72727 3.81641H13.8182C14.0593 3.81641 14.2905 3.91219 14.461 4.08267C14.6315 4.25316 14.7273 4.48439 14.7273 4.7255V18.3619H18.3636V11.0891H16.5455V9.27095H19.2727C19.5138 9.27095 19.7451 9.36673 19.9156 9.53722C20.086 9.70771 20.1818 9.93894 20.1818 10.18V18.3619ZM5.63636 5.63459V18.3619H12.9091V5.63459H5.63636ZM7.45455 11.0891H11.0909V12.9073H7.45455V11.0891ZM7.45455 7.45277H11.0909V9.27095H7.45455V7.45277Z",fill:t})}),oD=({size:e=24,color:t="#CCCCCC",className:s=""})=>n.jsxs("svg",{width:e,height:e,viewBox:"0 0 25 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:s,children:[n.jsx("path",{opacity:"0.5",d:"M22.6518 9.13063C22.634 8.85133 22.3245 8.7023 22.0884 8.85255L16.8328 12.197C15.5325 13.025 14.6836 13.5655 13.7507 13.7807C12.9279 13.9705 12.0727 13.9705 11.2498 13.7807C10.3169 13.5655 9.46808 13.025 8.16776 12.197L2.9122 8.85255C2.6761 8.7023 2.36654 8.85132 2.34878 9.13061C2.30018 9.89445 2.30023 10.7967 2.3003 11.8818L2.3003 12.041C2.30029 13.3049 2.30029 14.3101 2.36655 15.1211C2.4344 15.9515 2.57633 16.6597 2.9067 17.3081C3.44011 18.3549 4.29123 19.2061 5.3381 19.7395C5.98649 20.0698 6.69462 20.2118 7.52509 20.2796C8.33605 20.3459 9.3412 20.3459 10.6051 20.3459H14.3954C15.6593 20.3459 16.6645 20.3459 17.4755 20.2796C18.306 20.2118 19.0141 20.0698 19.6625 19.7395C20.7094 19.2061 21.5605 18.3549 22.0939 17.3081C22.4243 16.6597 22.5662 15.9515 22.634 15.1211C22.7003 14.3101 22.7003 13.305 22.7003 12.0411L22.7003 11.8818C22.7004 10.7967 22.7004 9.89446 22.6518 9.13063Z",fill:t}),n.jsx("path",{d:"M14.3951 3.65625H10.6048C9.34094 3.65624 8.33573 3.65624 7.52475 3.7225C6.69429 3.79035 5.98616 3.93228 5.33776 4.26265C4.42781 4.72629 3.66575 5.42999 3.13168 6.29362C3.00542 6.49781 3.07782 6.76123 3.28036 6.89012L9.01514 10.5395C10.517 11.4952 11.083 11.8404 11.6663 11.9749C12.2149 12.1014 12.785 12.1014 13.3336 11.9749C13.9169 11.8404 14.4829 11.4952 15.9848 10.5395L21.7196 6.8901C21.9221 6.76122 21.9945 6.49779 21.8682 6.29361C21.3342 5.42998 20.5721 4.72629 19.6622 4.26265C19.0138 3.93228 18.3056 3.79035 17.4752 3.7225C16.6642 3.65624 15.659 3.65624 14.3951 3.65625Z",fill:t})]}),lD=gv.fork.fork,cD=gv.github.gitDot,dD="free",uD="Pro",pD="Standard",mD="Starter",hD=12,xD=750,fD=1,gD=2,vD=3,bD={background:"\n      linear-gradient(90deg, #ffffff30, #00000050),\n      #F3CA5F\n    ",backgroundSize:"cover",backgroundPosition:"center",backgroundBlendMode:"overlay, normal",boxShadow:"\n      0px 0px 20px 0px #F3CA5F66,\n      0px 2.18px 3.64px 1.45px #FFFFFF66 inset,\n      0px -1.45px 0px 0px #00000033 inset,\n      0px 0.73px 0.73px 0.73px #0000001A\n    "},yD={background:"#fff",backgroundSize:"cover",backgroundPosition:"center",backgroundBlendMode:"overlay, normal"};function wD({isOpen:e,onOpenChange:t,organizationId:s,organizationName:i,planType:a="personal",triggerLocation:r="default",shouldShowModelSelectorTooltipAfterClose:o=!1,onReturnFlow:l}){var c,d;const{toast:u}=on(),{newToast:p}=tD(),[m,h]=De.useState(null),[x,f]=De.useState(null),[g,v]=De.useState(!1),[b,y]=De.useState(!1),w=jt(),{hasCreatedWorkspace:j}=Kg(),{user:C,userDetails:N}=Wg(),{subscriptionPlansResponse:F,personalPlansResponse:_,tier:k,personalTier:S,creditResponse:E,dailyCreditsEnabled:I,loading:A}=Xg();"razorpay"===(null==N?void 0:N.payment_provider)&&(null==N||N.country_code);const T=null==(c=null==N?void 0:N.organizations)?void 0:c.find(e=>e.created_by===(null==C?void 0:C.id)&&"PENDING"!==e.status),D=null==(d=null==N?void 0:N.organizations)?void 0:d.some(e=>e.created_by===(null==C?void 0:C.id)&&"PENDING"===e.status),{data:M}=Mx(void 0,{skip:!C}),{data:L,isLoading:P}=Px(s?{organization_id:s}:void 0,{skip:!s}),{data:R}=Mx(s?{organization_id:s}:void 0,{skip:!s}),O="personal"===a?_:s&&L?L:F,z="personal"===a?A:s?P:A,B=e=>{if(!(null==e?void 0:e.plans))return[];const t=[];return Object.values(e.plans).forEach(e=>{e.monthly_plans&&t.push(...e.monthly_plans),e.yearly_plans&&t.push(...e.yearly_plans)}),t},H=(e,t)=>{const n=B(O);return t?n.filter(e=>e.billing_period===t):n},$="personal"===a?null==_?void 0:_.current_subscription:s&&L?null==L?void 0:L.current_subscription:null==O?void 0:O.current_subscription,U=s&&R?R:E,{handleManageSubscription:V,isUpgradeLoading:W,handleRazorpayPayment:q,paymentModalState:G,hidePaymentModals:Z,subscriptionPaymentResult:Y,hideSubscriptionPaymentResult:K,subscriptionCancelledSuccessfully:J}=ST(),[Q,X]=De.useState("monthly"),ee=De.useRef(vv),te=ee.current.toUpperCase()===bv,[ne,se]=De.useState(null),[ie,ae]=De.useState(!1),[re,oe]=De.useState(""),[le,ce]=De.useState(!1),[de,ue]=De.useState(""),{isMobile:pe}=QE(),me=kg(),he=(()=>{try{const e=yd.getFeatureFlag("enterprise_plan_enabled");return!0===e||"true"===e}catch(e){return!1}})();De.useEffect(()=>{e&&($&&(X("YEARLY"===$.billing_period?"annually":"monthly"),Ne($.tier_name)&&f($.id)),v(!1))},[e,$]);const xe=e=>{t(e),o&&setTimeout(()=>{Ju(),w(Zf(!0))},300),l&&setTimeout(()=>{l()},300)},fe=e=>{X(e)},ge=async(e,t)=>{h(e.id);try{if(te){const n={amount:0,price:0,selected:!1,discount:0,currency:ee.current||"USD",couponCode:null==ne?void 0:ne.code};await q(n,t,{isSubscription:!0,planId:e.id,planName:e.tier_name,planType:a})}else{const{url:n}=await Pp(0,!0,e.id,t);n&&(window.location.href=n)}}catch(n){u({title:"Error",description:n.response.data.detail,variant:"destructive"})}finally{h(null)}},ve=()=>!!((null==M?void 0:M.daily_credits)&&M&&M.daily_credit_per_day>0),be=()=>n.jsx(n.Fragment,{children:ve()?n.jsxs("div",{className:"flex items-start",children:[n.jsx(fT,{fill:"#CCC",className:"w-5 h-5 mr-2 mt-0.5"}),n.jsx("span",{className:"text-[14px] leading-5",children:n.jsx("span",{className:"text-[#ccc] font-medium font-inter ",children:M.daily_credit_per_day===M.daily_credit_max_per_window?`${M.daily_credit_max_per_window} free monthly credits`:`${M.daily_credit_per_day} daily credits (upto ${M.daily_credit_max_per_window} per month)`})})]}):null}),ye=De.useMemo(()=>n.jsxs(n.Fragment,{children:[me&&n.jsxs("div",{className:"flex items-start",children:[n.jsx("img",{title:"Github",src:cD,className:"w-5 h-5 mr-2 mt-0.5"}),n.jsx("span",{className:"text-[14px] leading-5",children:n.jsx("span",{className:"text-[#CCC] font-inter",children:"Save to Github"})})]}),me&&n.jsxs("div",{className:"flex items-start",children:[n.jsx("img",{title:"Fork",src:lD,className:"w-5 h-5 mr-2 mt-0.5"}),n.jsx("span",{className:"text-[14px] leading-5",children:n.jsx("span",{className:"text-[#CCC] font-inter",children:"Fork"})})]})]}),[me]),we=async e=>{if("free-tier"!==e.id){h(e.id);try{if(null==C?void 0:C.id){const t=(null==$?void 0:$.tier_name)||"free",n=je(e.tier_name),i="YEARLY"===e.billing_period?"yearly":"monthly",o="team"===a||!!s;cp(C.id,t,n,i,o,s,r)}const t="team"===a&&s;if(te){const n={amount:0,price:0,selected:!1,discount:0,currency:ee.current||"USD",couponCode:null==ne?void 0:ne.code};await q(n,t?s:void 0,{isSubscription:!0,planId:e.id,planName:e.tier_name,planType:a})}else{const{url:n}=await Pp(0,!0,e.id,t?s:void 0);n&&(window.location.href=n)}}catch(t){u({title:"Error",description:t.response.data.detail,variant:"destructive"})}finally{h(null)}}else u({title:"Downgrade to Free",description:"Please contact support to downgrade to the free tier.",variant:"default"})},je=e=>{const t=Le(e);return t.includes("teams")?"Team":t.includes("standard")?pD:t.includes("starter")?mD:t.includes("pro")?uD:e},Ce=e=>je(e)===uD,Ne=e=>{const t=je(e);return t===pD||t===mD},Fe=e=>"Team"===je(e),_e=e=>"YEARLY"===e.billing_period?Math.ceil(Math.round(e.amount/hD*100)/100):e.amount,ke=()=>n.jsxs("div",{className:"flex items-center",children:[n.jsx(hS,{className:"w-4 h-4 mr-2 animate-spin"}),n.jsx("span",{children:"Processing..."})]}),Se=()=>{var e;return"initiated_cancellation"===(null==(e=null==U?void 0:U.subscription)?void 0:e.status)},Ee=()=>"personal"===a?!$:k===dD,Ie=e=>Ce(e)||Fe(e)?bD:yD,Ae=(e,t)=>fb("w-full p-[10px] max-h-[40px] pr-[16px] text-[14px] leading-5 font-semibold rounded-full items-center flex justify-center","font-brockmann text-black tracking-[-0.2px] gap-1"),Te=e=>{const t="gap-1 mb-4 font-semibold flex items-center font-['Inter']";return Fe(e)?fb(t,"text-transparent bg-clip-text"):fb(t,Ce(e)?"text-[#F3CA5F]":"text-[#fff]")},Me=(e,t)=>{const n="rounded-full py-[8px] px-3 font-inter font-medium",s="bg-[#252529]";return"monthly"===t?fb(n,"max-md:w-full","monthly"===e&&s):fb(n,"flex-1 text-nowrap flex items-center justify-center gap-1","annually"===e&&s)},Le=e=>e.toLowerCase().replace(/\s+/g,""),Pe=e=>{if(!Ee()&&$&&"YEARLY"===$.billing_period&&"monthly"===Q&&Le(e.tier_name)===Le($.tier_name)&&"MONTHLY"===e.billing_period)return!0;if("personal"===a&&Fe(e.tier_name)&&j){const t=null==F?void 0:F.current_subscription;if(t&&"YEARLY"===t.billing_period&&"monthly"===Q&&Le(e.tier_name)===Le(t.tier_name)&&"MONTHLY"===e.billing_period)return!0}return!1},Oe=e=>Fe(e.tier_name)?n.jsx(Ze,{}):Ce(e.tier_name)?n.jsx(Ge,{}):Ne(e.tier_name)?n.jsx(Ke,{}):null,ze=(e,t)=>{const n=$&&Le(e.tier_name)===Le($.tier_name);if(n&&$){if("MONTHLY"===$.billing_period&&"YEARLY"===e.billing_period)return"Upgrade to Annual";if("YEARLY"===$.billing_period&&"MONTHLY"===e.billing_period)return"Downgrade to Monthly";if($.billing_period===e.billing_period){if($.id===e.id)return"Current Plan";if(e.ecu_credits&&$.ecu_credits){if(e.ecu_credits>$.ecu_credits)return"Upgrade Current Plan";if(e.ecu_credits<$.ecu_credits)return"Downgrade Current Plan"}return e.amount>$.amount?"Upgrade Current Plan":e.amount<$.amount?"Downgrade Current Plan":"Current Plan"}}if("free-tier"===e.id)return`Downgrade to ${je(e.tier_name)}`;if($&&"MONTHLY"===$.billing_period&&"YEARLY"===e.billing_period&&!n)return`Upgrade to ${je(e.tier_name)}`;if(!!!s&&Fe(e.tier_name))return D?"Payment Pending":`Upgrade to ${je(e.tier_name)}`;const i="upgrade"===(e=>{if(!$)return"upgrade";if("team"===a&&!$.tier_name.toLowerCase().includes("team"))return"upgrade";if("personal"===a&&$.tier_name.toLowerCase().includes("team"))return"downgrade";const t=e=>{const t=e.toLowerCase().replace(/\s+/g,"");return t.includes("free")?0:t.includes("standard")||t.includes("starter")?1:t.includes("pro")?2:t.includes("teams")?3:4},n=t($.tier_name),s=t(e.tier_name);return s>n?"upgrade":s<n?"downgrade":e.amount>$.amount?"upgrade":"downgrade"})(e)?"Upgrade":"Downgrade";return`${i} to ${je(e.tier_name)}`},Be=e=>{if("YEARLY"!==e.billing_period)return null;const t=H(0,"MONTHLY"),n=null==t?void 0:t.find(t=>Le(t.tier_name)===Le(e.tier_name)&&t.ecu_credits===e.ecu_credits);return(null==n?void 0:n.amount)||null},He=De.useMemo(()=>B(O).some(e=>"YEARLY"===e.billing_period),[O,a,s]),$e=De.useMemo(()=>Ee()&&!pe&&"personal"===a,[Ee,pe,a,k,$]),Ue=De.useMemo(()=>{const e={};if(!(null==O?void 0:O.plans))return[];const t="team"===a||!!s,n=T&&"PENDING"!==T.status;Object.entries(O.plans).forEach(([s,i])=>{var r,o,l;const c="annually"===Q?i.yearly_plans:i.monthly_plans;if(c&&c.length>0){ee.current=(null==(l=null==(o=null==(r=null==c?void 0:c.team_plans)?void 0:r[0])?void 0:o.currency)?void 0:l.toUpperCase())||"USD";const s=c[0].tier_name,i=Le(s),d=i.includes("team");if(t&&!d)return;if("personal"===a&&d&&n)return;if(i.includes("standard")||i.includes("starter")){const t=[...c].sort((e,t)=>(e.ecu_credits||0)-(t.ecu_credits||0)),n=t[0];e[s]||(e[s]=[]),e[s].push({...n,variants:t})}else c.forEach(t=>{e[t.tier_name]||(e[t.tier_name]=[]),e[t.tier_name].push(t)})}});const i=[];Object.values(e).forEach(e=>{var t,n;e.length>0&&(ee.current=(null==(n=null==(t=e[0])?void 0:t.currency)?void 0:n.toUpperCase())||"USD"),i.push(...e)});const r=e=>{const t=Le(e);return t.includes("standard")||t.includes("starter")?fD:t.includes("pro")?gD:t.includes("teams")||t.includes("team")?4:vD};return i.sort((e,t)=>r(e.tier_name)-r(t.tier_name))},[O,a,$,Q,s,T]),Ve=e=>e.includes("md:max-w-md")?"md:max-w-md":e.includes("md:max-w-3xl")?"md:max-w-3xl":e.includes("md:max-w-5xl")?"md:max-w-5xl":(e.includes("md:max-w-7xl"),"md:max-w-7xl"),We=De.useMemo(()=>{const e=(e=>{const t=he?1:0;return e.length+t})(Ue),t=(e=>1===e?"md:grid-cols-1 md:max-w-md md:mx-auto":2===e?"md:grid-cols-2 md:max-w-3xl md:mx-auto":3===e?"md:grid-cols-3 md:max-w-5xl md:mx-auto":"md:grid-cols-4 md:max-w-7xl md:mx-auto")(e);return{totalCards:e,gridColumns:t,maxWidth:Ve(t)}},[Ue,a,$e,pe,he]),qe=()=>{(async e=>{if(!e.trim())return p.error("Please enter a coupon code"),void ue("Please enter a coupon code");ce(!0),ue("");try{const t=e.toUpperCase();let n=0;switch(t){case"INSIDEIIMUPI40":n=40;break;case"INSIDEIIMCARD40":n=10;break;case"STUDENTCARD50":case"STUDENTUPI50":n=50;break;default:return p.error("Invalid coupon code"),ue("Invalid coupon code"),void ce(!1)}se({code:t,discount:n}),p.success("Coupon Applied! The discount will be auto applied at the checkout"),ae(!1),oe(""),ue("")}catch(t){ue("Failed to validate coupon. Please try again.")}finally{ce(!1)}})(re)},Ge=()=>n.jsxs("div",{className:"flex-grow space-y-2",children:[n.jsxs("div",{className:"flex items-start",children:[n.jsx(oA,{color:"#CCC",className:"w-5 h-5 mr-2 mt-0.5"}),n.jsx("span",{className:"text-[14px] leading-5",children:n.jsx("span",{className:"text-[#CCC] font-medium font-inter",children:"Everything in Standard"})})]}),n.jsxs("div",{className:"flex items-start",children:[n.jsx(dA,{fill:"#FF8C66",className:"w-5 h-5 mr-2 mt-0.5"}),n.jsx("span",{className:"text-[14px] leading-5",children:n.jsx("span",{className:"text-[#FF8C66] font-medium font-inter",children:"1M context window"})}),n.jsx(oA,{color:"#FF8C66",className:"ml-1 mt-0.5",size:20})]}),n.jsxs("div",{className:"flex items-start",children:[n.jsx(lA,{color:"#FF8C66",className:"w-5 h-5 mr-2 mt-0.5"}),n.jsx("span",{className:"text-[14px] leading-5",children:n.jsx("span",{className:"text-[#FF8C66] font-medium font-inter",children:"Ultra thinking"})}),n.jsx(oA,{color:"#FF8C66",className:"ml-1 mt-0.5",size:20})]}),n.jsxs("div",{className:"flex items-start",children:[n.jsx(mT,{color:"#CCC",className:"w-5 h-5 mr-2 mt-0.5"}),n.jsx("span",{className:"text-[14px] leading-5",children:n.jsx("span",{className:"font-medium text-[#CCC] font-inter",children:"System Prompt Edit"})})]}),n.jsxs("div",{className:"flex items-start",children:[n.jsx(PE,{primaryColor:"#CCC",className:"w-5 h-5 mr-2 mt-0.5"}),n.jsx("span",{className:"text-[14px] leading-5",children:n.jsx("span",{className:"text-[#CCC] font-inter",children:"Ability to build Custom Agents"})})]}),n.jsxs("div",{className:"flex items-start",children:[n.jsx(hT,{color:"#CCC",className:"w-5 h-5 mr-2 mt-0.5"}),n.jsx("span",{className:"text-[14px] leading-5",children:n.jsx("span",{className:"text-[#CCC] font-inter",children:"Mobile App Development"})})]}),n.jsxs("div",{className:"flex items-start",children:[n.jsx(xT,{fill:"#CCC",className:"w-5 h-5 mr-2 mt-0.5"}),n.jsx("span",{className:"text-[14px] leading-5",children:n.jsx("span",{className:"text-[#CCC] font-inter",children:"2x Bigger Machine"})})]}),n.jsxs("div",{className:"flex items-start",children:[n.jsx(fT,{fill:"#CCC",className:"w-5 h-5 mr-2 mt-0.5"}),n.jsx("span",{className:"text-[14px] leading-5",children:n.jsxs("span",{className:"text-[#CCC] font-inter",children:[xD," Monthly Credits"]})})]}),ve()?be():null,n.jsxs("div",{className:"flex items-start",children:[n.jsx(gT,{fill:"#CCC",className:"w-5 h-5 mr-2 mt-0.5"}),n.jsx("span",{className:"text-[14px] leading-5",children:n.jsx("span",{className:"text-[#CCC] font-inter",children:"Priority Support"})})]})]}),Ze=()=>n.jsxs("div",{className:"flex-grow space-y-2",children:[n.jsxs("div",{className:"flex items-start",children:[n.jsx(oA,{color:"#CCC",className:"w-5 h-5 mr-2 mt-0.5"}),n.jsx("span",{className:"text-[14px] leading-5",children:n.jsx("span",{className:"font-medium font-inter text-[#CCC]",children:"Everything in Pro"})})]}),n.jsxs("div",{className:"flex items-start",children:[n.jsx(fT,{fill:"#CCC",className:"w-5 h-5 mr-2 mt-0.5"}),n.jsx("span",{className:"text-[14px] leading-5",children:n.jsx("span",{className:"text-[#CCC] font-inter",children:"Shared team pool: 1250 credits per month"})})]}),n.jsxs("div",{className:"flex items-start",children:[n.jsx(sD,{fill:"#CCC",className:"w-5 h-5 mr-2 mt-0.5"}),n.jsx("span",{className:"text-[14px] leading-5",children:n.jsx("span",{className:"text-[#CCC] font-inter",children:"Central billing and administration"})})]}),n.jsxs("div",{className:"flex items-start",children:[n.jsx(iD,{fillStart:"#ccc",className:"w-5 h-5 mr-2 mt-0.5"}),n.jsx("span",{className:"text-[14px] leading-5",children:n.jsx("span",{className:"text-[#CCC] font-inter",children:"Collaborative workspace"})})]}),n.jsxs("div",{className:"flex items-start",children:[n.jsx(aD,{className:"w-5 h-5 mr-2 mt-0.5 text-[#ccc]"}),n.jsx("span",{className:"text-[14px] leading-5",children:n.jsx("span",{className:"text-[#CCC] font-inter",children:"Upto 5 members in a team"})})]}),n.jsxs("div",{className:"flex items-start",children:[n.jsx(gT,{fill:"#CCC",className:"w-5 h-5 mr-2 mt-0.5"}),n.jsx("span",{className:"text-[14px] leading-5",children:n.jsx("span",{className:"text-[#CCC] font-inter",children:"For additional members and team support, contact us"})})]})]}),Ye=()=>n.jsxs("div",{className:"flex-grow space-y-2",children:[n.jsxs("div",{className:"flex items-start",children:[n.jsx(nD,{fill:"#CCC",className:"w-5 h-5 mr-2 mt-0.5"}),n.jsx("span",{className:"text-[14px] leading-5",children:n.jsx("span",{className:"font-medium font-inter text-[#CCC]",children:"Everything in Teams"})})]}),n.jsxs("div",{className:"flex items-start",children:[n.jsx(Uk,{className:"w-5 h-5 mr-2 mt-0.5"}),n.jsx("span",{className:"text-[14px] leading-5",children:n.jsx("span",{className:"text-[#CCC] font-inter",children:"Single sign-on (SSO)"})})]}),n.jsxs("div",{className:"flex items-start",children:[n.jsx(gT,{fill:"#CCC",className:"w-5 h-5 mr-2 mt-0.5"}),n.jsx("span",{className:"text-[14px] leading-5",children:n.jsx("span",{className:"text-[#CCC] font-inter",children:"Dedicated Enterprise Support"})})]})]}),Ke=()=>n.jsxs("div",{className:"flex-grow space-y-2",children:[n.jsxs("div",{className:"flex items-start",children:[n.jsx(hT,{color:"#CCC",className:"w-5 h-5 mr-2 mt-0.5"}),n.jsx("span",{className:"text-[14px] leading-5",children:n.jsx("span",{className:"text-[#CCC]  font-inter",children:"Mobile App Development"})})]}),n.jsxs("div",{className:"flex items-start",children:[n.jsx(rA,{color:"#CCC",opacity:1,className:"w-5 h-5 mr-2 mt-0.5"}),n.jsx("span",{className:"text-[14px] leading-5",children:n.jsx("span",{className:"text-[#CCC]  font-inter",children:"Private Apps"})})]}),ve()?be():null,n.jsxs("div",{className:"flex items-start",children:[n.jsx(vT,{fill:"#ccc",className:"w-5 h-5 mr-2 mt-0.5"}),n.jsx("span",{className:"text-[14px] leading-5",children:n.jsx("span",{className:"text-[#ccc] font-inter",children:"Ability to buy additional credits"})})]}),ye]}),Je=()=>n.jsxs("div",{className:"flex-grow space-y-2 md:space-y-2",children:[ve()?be():null,n.jsxs("div",{className:"flex items-start",children:[n.jsx(Uk,{className:"w-5 h-5 text-white mr-2 mt-0.5"}),n.jsx("span",{className:"text-[14px] leading-5",children:n.jsx("span",{className:"text-gray-400 font-inter",children:"Basic access to all features"})})]})]});return e?z?Re.createPortal(n.jsx(Rt,{children:n.jsx(Pt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 z-[9999] bg-black/50 flex items-center justify-center",children:n.jsx(Pt.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.2},className:"bg-[#1C1C1F] border border-[#2E2F34] rounded-[20px] p-8 max-w-md mx-4 text-center",children:n.jsxs("div",{className:"flex flex-col items-center gap-4",children:[n.jsx("div",{className:"w-8 h-8 border-2 border-[#F3CA5F] border-t-transparent rounded-full animate-spin"}),n.jsx("div",{className:"font-medium text-white",children:"Loading latest plans..."}),n.jsx("div",{className:"text-sm text-gray-400",children:"Please wait while we fetch the most up-to-date pricing"})]})})})}),document.body):n.jsxs(n.Fragment,{children:[Re.createPortal(n.jsx(Rt,{children:n.jsxs("div",{className:"fixed inset-0 z-[9999]",children:[n.jsx(Pt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"absolute inset-0 bg-[#18181A]",onClick:()=>xe(!1)}),wv,n.jsx("div",{className:"relative w-full h-full overflow-y-auto",children:n.jsxs(Pt.div,{className:"min-h-full w-full flex items-center justify-center bg-[#18181A] px-4 py-8",onClick:e=>e.stopPropagation(),children:[n.jsx("button",{type:"button",onClick:()=>xe(!1),disabled:null!==m,className:fb("fixed top-4 right-4 md:right-6 z-[1000] p-2 bg-[#FFFFFF1A] backdrop-blur-lg hover:bg-[#242424] rounded-full transition-colors",null!==m&&"opacity-50 cursor-not-allowed",wv),"aria-label":"Close modal",children:n.jsx(RS,{className:"w-5 h-5 text-[#FFFFFF]"})}),n.jsxs("div",{className:"flex flex-col w-full mx-auto max-w-8xl md:items-center",children:[n.jsx("div",{className:"flex items-start justify-start w-full mb-8 md:justify-center md:items-center",children:n.jsxs("div",{className:"flex flex-col items-start justify-center gap-1 md:items-center",children:[n.jsx("h2",{className:"text-[22px] md:text-[28px] font-medium text-[#E6E6E6]",children:"team"===a?"team"===a&&$&&$.tier_name.toLowerCase().includes("team")?`Manage plan for ${i}`:`Choose plan for ${i}`:Ee()?"Choose your plan":"Manage your plan"}),Ee()?n.jsx("span",{className:"text-[#FFFFFF]/40 md:text-center max-md:text-[16px] text-start md:text-nowrap font-inter font-medium",children:"team"===a?`Select a team plan for ${i} workspace.`:"Pick a plan that best suits you. Upgrade or downgrade at any time."}):n.jsxs("span",{className:"text-[#FFFFFF]/40 md:text-center max-md:text-[16px] text-start md:text-nowrap font-inter font-medium",children:[Se()?"Plan cancels on":"Monthly credits refreshes on",n.jsx("span",{className:"text-[#FFFFFF] font-inter font-medium ml-1",children:pT((()=>{if(null==U?void 0:U.subscription){if(Se()){const e=U.subscription.expires_at;return"string"==typeof e?e:void 0}return U.monthly_credits_refresh_date||void 0}})())})]})]})}),He&&n.jsxs("div",{className:"bg-[#151517] rounded-full flex items-center text-[14px] border-[#FFFFFF1F] border p-1 mb-4",children:[n.jsx("button",{type:"button",onClick:()=>fe("monthly"),className:Me(Q,"monthly"),children:"Monthly"}),n.jsxs("button",{type:"button",onClick:()=>fe("annually"),className:Me(Q,"annually"),children:["Annually"," ",n.jsxs("div",{className:" text-[#f3ca5f] font-inter text-[14px] font-semibold rounded-full",children:["Save ",17,"%"]})]})]}),ee.current===bv&&"personal"===a&&n.jsx("div",{className:"mb-6",children:ne?n.jsxs("div",{className:"flex items-center justify-center duration-300 animate-in fade-in-0 slide-in-from-top-2",children:[n.jsxs("div",{className:"flex",children:[n.jsxs("svg",{className:"self-center",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[n.jsx("path",{d:"M10 18C8.89333 18 7.85333 17.79 6.88 17.37C5.90667 16.95 5.06 16.38 4.34 15.66C3.62 14.94 3.05 14.0933 2.63 13.12C2.21 12.1467 2 11.1067 2 10C2 8.89333 2.21 7.85333 2.63 6.88C3.05 5.90667 3.62 5.06 4.34 4.34C5.06 3.62 5.90667 3.05 6.88 2.63C7.85333 2.21 8.89333 2 10 2C11.1067 2 12.1467 2.21 13.12 2.63C14.0933 3.05 14.94 3.62 15.66 4.34C16.38 5.06 16.95 5.90667 17.37 6.88C17.79 7.85333 18 8.89333 18 10C18 11.1067 17.79 12.1467 17.37 13.12C16.95 14.0933 16.38 14.94 15.66 15.66C14.94 16.38 14.0933 16.95 13.12 17.37C12.1467 17.79 11.1067 18 10 18Z",fill:"#5FE55C"}),n.jsx("path",{d:"M13.1332 7C13.285 7 13.426 7.02648 13.5562 7.07943C13.6864 7.13239 13.8021 7.20829 13.9033 7.30713C14.0046 7.40598 14.0805 7.51719 14.1311 7.64075C14.1817 7.76431 14.2107 7.90375 14.2179 8.05909C14.2179 8.2003 14.1908 8.33621 14.1365 8.46683C14.0823 8.59745 14.0046 8.71219 13.9033 8.81104L9.59703 13.0209C9.49579 13.1198 9.37828 13.1957 9.2445 13.2486C9.11072 13.3016 8.97152 13.3298 8.82689 13.3333C8.68226 13.3333 8.54306 13.3069 8.40928 13.2539C8.2755 13.2009 8.15799 13.1233 8.05675 13.0209L6.09343 11.104C5.99219 11.0051 5.91445 10.8904 5.86021 10.7598C5.80598 10.6291 5.77705 10.4932 5.77344 10.352C5.77344 10.2037 5.80236 10.0661 5.86021 9.93896C5.91807 9.81187 5.9958 9.6989 6.09343 9.60006C6.19105 9.50121 6.30494 9.42707 6.43511 9.37765C6.56527 9.32822 6.70809 9.29998 6.86357 9.29292C7.0082 9.29292 7.1474 9.3194 7.28118 9.37235C7.41496 9.42531 7.53247 9.50121 7.63371 9.60006L8.82689 10.765L12.363 7.30713C12.4643 7.20829 12.5818 7.13239 12.7156 7.07943C12.8493 7.02648 12.9885 7 13.1332 7Z",fill:"#172218"})]}),n.jsx("span",{className:"ml-1 text-[#5FE55C] font-inter text-[14px] font-medium leading-[20px] uppercaseRetry",children:ne.code})]}),n.jsx("button",{onClick:()=>{se(null),oe(""),ue(""),ae(!1)},className:"ml-2 text-white/50 font-inter text-[16px] font-medium leading-[20px]",children:"Remove"})]}):ie?n.jsx("div",{className:"relative min-w-[300px] animate-in fade-in-0 slide-in-from-top-2 duration-300",children:n.jsxs("div",{className:"relative w-full flex items-center rounded-[12px] pl-4 pr-2 py-2 transition-colors "+(de?"border border-[rgba(255,128,128,0.30)]":"border border-white/10 focus-within:border-[rgba(255,255,255,0.20)]"),children:[n.jsx("input",{type:"text",value:re,onChange:e=>oe(e.target.value.toUpperCase()),onKeyDown:e=>{"Enter"===e.key&&re.trim()&&!le&&(e.preventDefault(),qe())},placeholder:"Enter code",className:"bg-transparent flex-1  text-white placeholder-[#FFF]/30 focus:outline-none text-[14px] font-medium",autoFocus:!0}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("button",{onClick:()=>{ae(!1),oe(""),ue("")},className:"flex items-center justify-center transition-colors rounded-full w-7 h-7 bg-white/10",children:n.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:n.jsx("path",{d:"M12 4L4 12M4 4L12 12",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",opacity:"0.60"})})}),n.jsx("button",{onClick:qe,disabled:le||!re.trim(),className:"w-7 h-7 rounded-full flex items-center justify-center transition-colors bg-white "+(re?"cursor-pointer":"bg-opacity-20"),children:n.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{d:"M15.2803 5.73438C15.505 5.7344 15.7279 5.77923 15.9355 5.86523C16.143 5.95126 16.3324 6.07652 16.4912 6.23535C16.812 6.55627 16.9921 6.99252 16.9922 7.44629C16.9921 7.89995 16.8119 8.33539 16.4912 8.65625L9.49219 15.6562C9.32753 15.8209 9.13115 15.9509 8.91602 16.04C8.70088 16.1291 8.47016 16.1758 8.2373 16.1758C8.00442 16.1758 7.77376 16.1291 7.55859 16.04C7.34344 15.9509 7.14711 15.8209 6.98242 15.6562L3.50488 12.1787L3.50586 12.1777C3.34717 12.0219 3.21871 11.8372 3.13086 11.6328C3.04131 11.4243 2.99426 11.1996 2.99219 10.9727C2.99021 10.7454 3.03406 10.5189 3.12012 10.3086C3.20611 10.0986 3.33273 9.9076 3.49316 9.74707C3.65383 9.58641 3.84538 9.45911 4.05566 9.37305C4.26593 9.28703 4.49157 9.24317 4.71875 9.24512C4.94571 9.24712 5.17033 9.29429 5.37891 9.38379C5.58311 9.47151 5.76809 9.59938 5.92383 9.75781H5.9248L8.23633 12.0693L14.0693 6.23535C14.2281 6.07648 14.4175 5.95128 14.625 5.86523C14.8326 5.77923 15.0556 5.73442 15.2803 5.73438ZM7.53223 15.1064C7.6247 15.1989 7.73564 15.2722 7.85645 15.3223C7.94697 15.3597 8.04252 15.3829 8.13965 15.3926L8.04297 15.3779C7.97906 15.3652 7.91596 15.3463 7.85547 15.3213C7.73474 15.2712 7.62464 15.1979 7.53223 15.1055L5.5957 13.1689L7.53223 15.1064ZM8.61816 15.3213C8.59576 15.3306 8.57276 15.3381 8.5498 15.3457C8.57263 15.3381 8.59588 15.3315 8.61816 15.3223C8.64819 15.3098 8.6774 15.2955 8.70605 15.2803C8.67763 15.2954 8.64804 15.3089 8.61816 15.3213ZM16.0029 8.03711C15.9836 8.06074 15.9632 8.08366 15.9414 8.10547L8.94141 15.1055C8.89525 15.1516 8.84502 15.1934 8.79102 15.2295L8.86914 15.1719C8.89447 15.1512 8.91921 15.1296 8.94238 15.1064L15.9414 8.10645C15.9852 8.06266 16.0238 8.01464 16.0576 7.96387L16.0029 8.03711ZM3.83984 10.6035C3.82804 10.6324 3.81746 10.6617 3.80859 10.6914C3.79983 10.721 3.7929 10.751 3.78711 10.7812V10.7803C3.79875 10.7197 3.81639 10.6599 3.83984 10.6025C3.85147 10.5742 3.8646 10.5465 3.87891 10.5195L3.83984 10.6035Z",fill:"black"})})})]})]})}):n.jsx("div",{className:"text-center duration-300 animate-in fade-in-0 slide-in-from-top-2",children:n.jsx("button",{onClick:e=>{e.preventDefault(),e.stopPropagation(),ae(!0)},className:"text-white/50 hover:text-white/40 font-inter text-[14px] font-medium leading-[20px]",children:"Have a promo code?"})})}),n.jsxs("div",{className:fb("flex flex-col gap-4 w-full","md:grid md:gap-6 md:justify-center",We.gridColumns),children:[Ue.map(e=>{const t=e.variants,i=t&&x?t.find(e=>e.id===x)||t[0]:(null==t?void 0:t[0])||e,o=$&&i.id===$.id&&i.billing_period===$.billing_period,l=(e=>{if(!Ee()&&$&&"MONTHLY"===$.billing_period&&"annually"===Q&&Le(e.tier_name)===Le($.tier_name)&&"YEARLY"===e.billing_period)return!0;if("personal"===a&&Fe(e.tier_name)&&j){const t=null==F?void 0:F.current_subscription;if(t&&"MONTHLY"===t.billing_period&&"annually"===Q&&Le(e.tier_name)===Le(t.tier_name)&&"YEARLY"===e.billing_period)return!0}return!1})(i);return Pe(i),n.jsxs("div",{className:fb("rounded-[16px] pb-6 p-6 flex flex-col relative transition-colors duration-200 w-full min-h-[300px] md:min-h-[400px]","bg-[#262629]"),children:[Fe(e.tier_name)?n.jsx("div",{children:n.jsxs("h3",{className:Te(e.tier_name),style:{background:"linear-gradient(152.98deg, #FFF4DF -8.63%, #FFD702 95.68%)",backgroundClip:"text",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",textShadow:"0 0 40px rgba(255, 215, 2, 0.4)"},children:[je(e.tier_name)," ",n.jsx(nD,{size:24,className:"ml-1"})]})}):n.jsxs("h3",{className:Te(e.tier_name),children:[je(e.tier_name)," ",Ce(e.tier_name)&&n.jsx(oA,{color:"#F3CA5F",size:24,height:24,width:24})]}),n.jsx("div",{className:"flex flex-col mb-6",children:n.jsxs("div",{className:"flex items-baseline",children:[Sg()&&"YEARLY"===i.billing_period&&Be(i)&&n.jsxs("span",{className:"font-semibold text-[24px] tracking-[-0.2px] text-[#FFFFFF88] line-through mr-4 relative",children:[kT(Be(i)||0,ee.current===bv)," ",n.jsx("span",{className:"absolute inset-0 transform -translate-y-1/2 border-t-2 border-red-400 top-1/2"})]}),n.jsxs("span",{className:"font-semibold text-[32px] tracking-[-0.2px]",children:[kT(_e(i),ee.current===bv)," "]}),n.jsx("span",{className:"ml-2 text-[#E6E6E6] font-medium font-inter",children:"/ month"})]})}),o?n.jsxs("button",{type:"button",className:"bg-[#FFFFFF29] text-[#FFFFFF] rounded-full flex text-[14px] gap-2 font-semibold w-full p-[10px] max-h-[40px] pr-[16px] items-center justify-center",children:["Current Active Plan",(Ce(e.tier_name)||Fe(e.tier_name))&&n.jsx(oA,{color:"#ffffff",size:24,height:24,width:24})]}):l?n.jsxs("button",{type:"button",style:Ie(e.tier_name),className:Ae(),onClick:()=>{"personal"===a&&Fe(i.tier_name)?(e=>{if(null==C?void 0:C.id){const t=(null==$?void 0:$.tier_name)||"free";cp(C.id,t,je(e.tier_name),"yearly",!0,null==T?void 0:T.id,r,ee.current)}T?ge(e,T.id):we(e)})(i):(e=>{if(!$)return;const t=H(0,"YEARLY");let n;if(n=e&&e.ecu_credits?null==t?void 0:t.find(t=>t.tier_name.toLowerCase()===e.tier_name.toLowerCase()&&t.ecu_credits===e.ecu_credits):null==t?void 0:t.find(e=>e.tier_name.toLowerCase()===$.tier_name.toLowerCase()),n){if(null==C?void 0:C.id){const e=$.tier_name;cp(C.id,e,e,"yearly","team"===a||!!s,s,r)}we(n)}})(i),fg(JS.UPDATE_TIER_CLICKED,{planType:a,plan:e,selectedVariant:i,currency:ee.current})},disabled:null!==m,children:[null!==m?ke():"Upgrade to Annual",(Ce(e.tier_name)||Fe(e.tier_name))&&n.jsx(oA,{color:"#0F0F10",size:24,height:24,width:24})]}):n.jsxs("button",{type:"button",style:Ie(e.tier_name),className:Ae(),onClick:()=>{"personal"===a&&Fe(i.tier_name)&&Pe(i)?p.info("Please contact support to downgrade your team subscription"):we(i),fg(QS.PLAN_UPGRADE_BUTTON_CLICKED,{planType:a,plan:e,selectedVariant:i,currency:ee.current})},disabled:m===i.id,children:[m===i.id?ke():ze(i),(Ce(e.tier_name)||Fe(e.tier_name))&&n.jsx(oA,{color:"#0F0F10",size:24,height:24,width:24})]}),t&&t.length>1&&Ne(e.tier_name)&&n.jsxs("div",{className:"relative mt-2",children:[n.jsxs("button",{type:"button",onClick:()=>v(!g),className:fb("w-full px-3 py-2 bg-[#262629] rounded-full border border-[#FFFFFF1F] flex items-center justify-between hover:bg-[#313134] transition-colors hover:border-[#FFFFFF4D]",g&&"border-[#FFFFFF4D] bg-[#313134] "),children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(fT,{color:"#FFFFFF",size:20}),n.jsxs("span",{className:"text-[14px] font-inter font-medium text-white",children:[i.ecu_credits," ","credits/month"]})]}),n.jsx(Vk,{className:fb("w-6 h-6 text-[#FFFFFF]/30 transition-transform",g&&"rotate-180")})]}),g&&n.jsx("div",{className:"absolute top-full left-0 gap-2  flex flex-col right-0 mt-1 p-2 bg-[#1A1A1C] border border-[#3A3A3B] rounded-lg overflow-hidden z-10",children:t.map(e=>n.jsxs("button",{type:"button",onClick:()=>{f(e.id),v(!1)},className:fb("w-full  rounded-[8px] text-left p-2 hover:bg-[#FFFFFF0F] transition-colors flex items-center text-white/60 justify-between",i.id===e.id&&"bg-[#80FFF90F] text-[#80FFF9]"),children:[n.jsxs("span",{className:"text-[14px] font-medium font-inter",children:[e.ecu_credits," credits/month"]}),i.id===e.id&&n.jsx(Uk,{color:"#80FFF9",size:20})]},e.id))})]}),n.jsx("div",{className:"mb-6"}),Oe(i)]},e.id)}),he&&n.jsxs("div",{className:"bg-[#66F0FF1A] rounded-[16px] pb-6 p-6 flex flex-col transition-colors duration-200 w-full",children:[n.jsxs("h3",{className:"mb-2 text-[16px] flex items-center gap-1 font-semibold text-[#B2F8FF] font-['Inter']",children:["Enterprise ",n.jsx(rD,{})]}),n.jsx("span",{className:"text-[#B2F8FF]/50 text-[14px] font-inter font-medium mb-6 md:mb-9 ",children:"Enterprise-grade features for your entire organization"}),n.jsxs("button",{type:"button",className:"w-full mb-6 p-[10px] max-h-[40px] pr-[16px] gap-[10px] text-[14px] font-semibold rounded-full items-center flex justify-center bg-[#66F0FF] text-[#293333] border-[#66F0FF1F]",onClick:()=>{fg("enterprise_demo_clicked",{userId:(null==C?void 0:C.id)||"",userEmail:(null==C?void 0:C.email)||"",userName:(null==N?void 0:N.name)||(null==C?void 0:C.email)||"",currentTier:(null==$?void 0:$.tier_name)||"free",source:"upgrade_tier_modal",timestamp:(new Date).toISOString(),currency:ee.current}),window.open(dv,"_blank","noopener,noreferrer")},children:["Book a demo ",n.jsx(oD,{color:"#293333"})]}),n.jsx(Ye,{})]}),Ee()&&pe&&"personal"===a&&n.jsxs("div",{className:"bg-[#262629] rounded-[16px] pb-6 p-6 flex flex-col transition-colors duration-200 w-full min-h-[350px]",children:[n.jsx("h3",{className:"mb-2 text-[16px] font-semibold text-[#E6E6E6] font-['Inter']",children:"Free"}),n.jsxs("div",{className:"flex items-baseline mb-6",children:[n.jsxs("span",{className:"font-semibold text-[32px] tracking-[-0.2px]",children:[kT(0,ee.current===bv)," "]}),n.jsx("span",{className:"ml-2 text-[#E6E6E6] font-medium font-inter",children:"/ month"})]}),n.jsx("button",{type:"button",className:"w-full mb-6 md:mb-10 p-[10px] min-h-[48px] pr-[16px] text-[14px] leading-5 font-semibold rounded-full items-center flex justify-center bg-white/15 text-white border-[#3A3A3B] hover:bg-[#3A3A3B]",children:"Current Active Plan"}),n.jsx(Je,{})]})]}),$e&&n.jsxs("div",{className:fb("bg-[#262629] rounded-[16px] pb-6 p-6 transition-colors duration-200 w-full flex justify-between mt-5 mx-auto",We.maxWidth),children:[n.jsxs("div",{className:"flex flex-col",children:[n.jsx("h3",{className:"mb-2 text-[16px] font-semibold text-[#E6E6E6] font-['Inter']",children:"Free"}),n.jsxs("div",{className:"flex items-baseline mb-6",children:[n.jsxs("span",{className:"font-semibold text-[32px] tracking-[-0.2px]",children:[kT(0,ee.current===bv)," "]}),n.jsx("span",{className:"ml-2 text-[#E6E6E6] font-medium font-inter",children:"/ month"})]}),n.jsx(Je,{})]}),n.jsx("button",{type:"button",className:" mb-6 md:mb-10 p-[10px] max-h-[40px] px-[24px] text-[14px] leading-5 font-semibold rounded-full items-center flex justify-center bg-white/15 text-white border-[#FFFFFF1F] hover:bg-[#3A3A3B]",onClick:()=>{xe(!1),setTimeout(()=>{const e=document.getElementById("mainTaskInput");e&&e.focus()},300)},children:"Start Building"})]}),Ee()&&n.jsx("div",{className:"flex items-center justify-center w-full mt-6 flex-nowrap",children:n.jsxs("span",{className:"text-[#FFFFFF66] font-inter text-[14px] flex gap-2 text-center text-nowrap",children:["Need help?"," ",n.jsxs("a",{href:nv,target:"_blank",rel:"noopener noreferrer",className:"text-[#FFFFFF] font-inter flex items-center gap-2",children:["Contact Us ",n.jsx(JE,{color:"#FFFFFF"})]})]})}),!Ee()&&n.jsxs("div",{className:fb("flex flex-col-reverse items-center justify-between w-full gap-4 max-md:pt-6 md:flex-row md:pt-4 mx-auto",We.maxWidth),children:[n.jsx("div",{className:"flex justify-center flex-nowrap",children:n.jsxs("span",{className:"text-[#FFFFFF66] font-inter text-[14px] flex gap-2 text-center text-nowrap",children:["Need help?"," ",n.jsxs("a",{href:nv,target:"_blank",rel:"noopener noreferrer",className:"text-[#FFFFFF] font-inter flex items-center gap-2",onClick:()=>fg(QS.CONTACT_US_BUTTON_CLICKED,{currency:ee.current}),children:["Contact Us ",n.jsx(JE,{color:"#FFFFFF"})]})]})}),Ee()||te&&Se()||J?null:n.jsx("button",{type:"button",onClick:()=>{var e;"team"===a&&s?p.info("Please contact support to manage your subscription"):te?y(!0):V(null==(e=null==U?void 0:U.subscription)?void 0:e.id,ee.current)},disabled:W,className:fb("text-[#FFFFFF66] max-md:w-full max-md:min-h-[48px] justify-center text-[14px] py-2 px-4 rounded-full flex items-center gap-1",W&&"opacity-50 cursor-not-allowed"),children:W?ke():n.jsxs(n.Fragment,{children:[Se()?"Resume":"Cancel"," Subscription",n.jsx(qI,{className:"rotate-180",color:"#FFFFFF66",size:16})]})})]})]})]})})]})}),document.body),G.isLoading&&n.jsx(TT,{isOpen:G.isLoading,onOpenChange:Z,paymentType:G.paymentType||"subscription",amount:G.amount,currency:G.currency,planName:G.planName}),n.jsx(OT,{isOpen:Y.showModal,onOpenChange:K,status:Y.status,planName:Y.planName,errorMessage:Y.errorMessage,paymentId:Y.paymentId,organizationId:Y.organizationId,onClose:()=>{K(),t(!1)}}),n.jsx(zT,{isOpen:b,onClose:()=>{y(!1)},onConfirm:()=>{var e;y(!1),V(null==(e=null==U?void 0:U.subscription)?void 0:e.id,ee.current)},planName:(null==$?void 0:$.tier_name)||"Pro"})]}):null}const jD=gv.common.bot,CD=gv.pro.secondBanner,ND=gv.feature.arrowDark,FD=[{number:"1",title:"Define Your Agent's Personality & Role",description:"Describe who your agent is and what they're great at."},{number:"2",title:"Map Out the Workflow & Logic",description:"Break down how they should approach tasks step by step."},{number:"3",title:"Add Guardrails for Better Decisions",description:"Establish do's and don'ts so your agent makes the right decisions."}],_D=({isOpen:e,onOpenChange:t})=>{const{user:s}=Wg(),{currentWorkspace:i}=Kg(),{isMobile:a}=QE(),{setTabs:r,setActiveTab:o}=Oee();return n.jsx(_A,{open:e,onOpenChange:t,children:n.jsxs(AA,{className:"md:w-[900px] max-h-[80vh] max-w-[90vw] md:h-[650px] p-0 bg-[#18181A] rounded-2xl overflow-hidden",children:[n.jsx(EA,{className:"absolute z-10 flex items-center justify-center w-8 h-8 text-white transition-all duration-200 rounded-full md:w-10 md:h-10 backdrop-blur-lg top-4 right-4 md:right-6 md:top-6 hover:bg-white/10",children:n.jsx(RS,{className:"w-6 h-6 md:w-6 md:h-6"})}),n.jsxs("div",{className:"relative flex w-[inherit] h-full max-md:flex-col-reverse",children:[n.jsxs("div",{className:"flex flex-col justify-center flex-1 gap-4 md:px-[40px] md:py-12",children:[n.jsxs("div",{className:"flex flex-col gap-2",children:[n.jsxs("div",{className:"flex flex-col gap-8 max-md:px-5 max-md:pt-6",children:[n.jsx("img",{src:jD,alt:"Custom Agents",className:"w-12 h-12 max-md:hidden"}),n.jsx(Pt.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},className:"text-[20px] md:text-[28px] leading-[32px] font-semibold tracking-[-2%] text-white",children:"Introducing Custom Agents"})]}),n.jsx(Pt.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"text-[#737780] max-md:px-5 text-[14px] font-['Inter'] md:text-[15px] text-wrap whitespace-pre-wrap break-words leading-[20px] md:leading-[24px]",children:"Create and monetize expert-level AI agents tailored to custom use cases."})]}),n.jsx(Pt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},className:"flex flex-col gap-[16px] max-md:px-5",children:FD.map((e,t)=>n.jsx("div",{className:"flex items-start gap-4 bg-[#80FFF908] p-4 rounded-[8px]",children:n.jsxs("div",{className:"flex flex-col gap-1",children:[n.jsx("h3",{className:"text-[16px] text-[#80FFF9] font-medium",children:e.title}),n.jsx("p",{className:"text-[14px] font-[500] text-[#80FFF966] font-['Inter']",children:e.description})]})},t))}),n.jsx(Pt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.7},className:"sticky max-md:px-5 bottom-4 max-md:pb-6",children:n.jsxs("button",{type:"button",onClick:()=>{const e=`create-agent-${Date.now()}-${Math.random().toString(36).substring(2,11)}`;r(t=>[...t,{id:e,title:"Create New Agent",path:"/create-agent",level:i&&"personal"!==i?"organization":"user",organization_id:i&&"personal"!==i?i:void 0,created_by:null==s?void 0:s.id,state:{tabId:e,fromModal:!0}}]),o(e),t(!1)},className:"flex items-center max-md:max-h-[48px] mt-4 md:mt-[36px] justify-center w-full gap-4 text-[16px] font-semibold text-black transition-all duration-200 transform bg-white shadow-lg h-14 rounded-xl hover:bg-gray-100 hover:shadow-xl hover:-translate-y-1",children:["Create Your First Agent",n.jsx("img",{src:ND,alt:"Arrow",className:"w-5 h-5"})]})})]}),n.jsx("div",{className:"relative max-md:max-h-[200px] flex-1 overflow-hidden bg-gradient-to-br from-[#DD99FF20] to-[#BB77DD20]",children:n.jsx("img",{src:CD,alt:"Right Banner",className:"object-cover w-full h-full md:object-fill "})})]})]})})},kD=()=>{const[e,t]=De.useState(!1),{user:n}=Wg(),s=eI(),{getCurrentOrganizationId:i}=Kg(),a=i(),{data:r,isLoading:o,error:l,refetch:c}=$x(a?{organization_id:a}:void 0,{pollingInterval:3e5});return De.useEffect(()=>{r&&t(SD(r,n||void 0,s))},[r,n,s]),{config:r,loading:o,error:l?new Error("Failed to fetch config"):null,refetch:c,universalKeyEnabled:e}},SD=(e,t,n)=>{var s,i;if(n)return!0;if(!0===(null==(s=null==e?void 0:e.feature_flags)?void 0:s.universal_key))return!0;if(Array.isArray(null==(i=null==e?void 0:e.feature_flags)?void 0:i.universal_key)&&(null==t?void 0:t.id)){const n=t.id.slice(-1).toLowerCase();return e.feature_flags.universal_key.includes(n)}return!1},ED=({width:e=20,height:t=20,fill:s="white",className:i})=>n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:t,viewBox:"0 0 20 20",fill:"none",className:i,children:n.jsx("path",{d:"M8.13671 7.82399V6.30398C8.13671 6.17596 8.18431 6.07991 8.29527 6.01598L11.3241 4.256C11.7364 4.01602 12.228 3.90406 12.7353 3.90406C14.6382 3.90406 15.8434 5.3921 15.8434 6.97604C15.8434 7.088 15.8434 7.21602 15.8274 7.34404L12.6877 5.488C12.4975 5.37605 12.3071 5.37605 12.1169 5.488L8.13671 7.82399ZM15.209 13.7441V10.112C15.209 9.88789 15.1138 9.7279 14.9236 9.61594L10.9434 7.27995L12.2437 6.5279C12.3547 6.46397 12.4499 6.46397 12.5609 6.5279L15.5896 8.28789C16.4619 8.79996 17.0484 9.88789 17.0484 10.9438C17.0484 12.1598 16.335 13.2798 15.209 13.7439V13.7441ZM7.20114 10.544L5.90086 9.77608C5.78989 9.71215 5.7423 9.6161 5.7423 9.48808V5.96811C5.7423 4.25615 7.04259 2.96006 8.80278 2.96006C9.46883 2.96006 10.0871 3.18413 10.6106 3.58409L7.48672 5.40816C7.29649 5.52012 7.20129 5.68011 7.20129 5.90418V10.5442L7.20114 10.544ZM9.99999 12.176L8.13671 11.12V8.8801L9.99999 7.82414L11.8631 8.8801V11.12L9.99999 12.176ZM11.1972 17.0401C10.5311 17.0401 9.91282 16.816 9.3894 16.4161L12.5132 14.5919C12.7034 14.48 12.7987 14.3201 12.7987 14.096V9.45596L14.1149 10.2239C14.2258 10.2878 14.2734 10.3839 14.2734 10.5119V14.0319C14.2734 15.7438 12.9572 17.0401 11.1972 17.0401ZM7.43898 13.4721L4.41018 11.7121C3.53797 11.2 2.95134 10.1121 2.95134 9.05615C2.95134 7.82414 3.68077 6.72015 4.80657 6.25611V9.9041C4.80657 10.1282 4.90177 10.2882 5.092 10.4001L9.05638 12.72L7.75609 13.4721C7.64513 13.5361 7.54993 13.5361 7.43898 13.4721ZM7.26465 16.0961C5.47278 16.0961 4.15658 14.736 4.15658 13.056C4.15658 12.928 4.17249 12.8 4.18826 12.672L7.3121 14.4961C7.50234 14.608 7.69273 14.608 7.88297 14.4961L11.8631 12.1762V13.6962C11.8631 13.8242 11.8155 13.9202 11.7045 13.9841L8.67574 15.7441C8.26344 15.9841 7.77185 16.0961 7.26451 16.0961H7.26465ZM11.1972 18C13.1159 18 14.7174 16.624 15.0823 14.8C16.8582 14.3359 18 12.6559 18 10.944C18 9.82396 17.5243 8.73603 16.668 7.95201C16.7473 7.61598 16.7949 7.27995 16.7949 6.94407C16.7949 4.65612 14.9554 2.944 12.8305 2.944C12.4025 2.944 11.9901 3.00794 11.5778 3.15201C10.8642 2.44799 9.88099 2 8.80278 2C6.88403 2 5.28254 3.37593 4.91768 5.19999C3.14173 5.66404 2 7.34404 2 9.056C2 10.176 2.47567 11.264 3.33197 12.048C3.25269 12.384 3.20509 12.72 3.20509 13.0559C3.20509 15.3438 5.04456 17.0559 7.16946 17.0559C7.59753 17.0559 8.00984 16.9921 8.42215 16.848C9.13565 17.552 10.1188 18 11.1972 18Z",fill:s})}),ID=gv.chips.surprise;function AD({config:e,showChips:t,onChipClick:s}){const[i,a]=De.useState({}),[r,o]=De.useState([]),[l,c]=De.useState(new Set),[d,u]=De.useState(0),{isTrulyFreeUser:p}=Xg();De.useEffect(()=>{if((null==e?void 0:e.prompt_suggestions)&&Array.isArray(e.prompt_suggestions)){const t=e.prompt_suggestions.reduce((e,t)=>(e[t.category]||(e[t.category]=[]),e[t.category].push(t),e),{});a(t)}},[e]);const m=(e=!1)=>Object.keys(i).map(t=>{const n=i[t];if(e&&l.size>0){const e=n.filter(e=>!l.has(`${e.category}-${e.label}`)),t=e.length>0?e:n;return t[Math.floor(Math.random()*t.length)]}return n[Math.floor(Math.random()*n.length)]}),h=e=>{const t=new Set(l);e.forEach(e=>{t.add(`${e.category}-${e.label}`)});const n=Object.values(i).flat().length;if(t.size>.8*n){const t=new Set(e.map(e=>`${e.category}-${e.label}`));c(t)}else c(t)};De.useEffect(()=>{if(0===r.length&&Object.keys(i).length>0){const e=m(!1);o(e),h(e)}},[i]);const x=(null==e?void 0:e.prompt_suggestions)&&Array.isArray(e.prompt_suggestions)&&e.prompt_suggestions.length>0;return n.jsx(Pb,{mode:"wait",children:t&&x&&r.length>0&&n.jsxs("div",{className:"flex gap-3 p-2 px-3 pb-3 overflow-x-auto overflow-clip hide-scrollbars",children:[r.map((e,t)=>n.jsxs(Ek.button,{initial:{opacity:0,y:4},animate:{opacity:1,y:0},exit:{opacity:0,y:-4},transition:{duration:.3,ease:"easeInOut",delay:.05*t},onClick:()=>(e=>{s(e.prompt)})(e),whileTap:{scale:.95,transition:{duration:.1}},className:"group relative min-w-fit pl-3 py-4 pr-4 flex text-[#FFFFFF] hover:text-[#FFFFFF] items-center gap-[6px] bg-[#18181A] rounded-[12px] transition-colors duration-200 cursor-pointer "+(p()?"border-opacity-0":""),children:[n.jsx("img",{src:e.icon_url,alt:"Chip icon",className:"w-4 h-4"}),n.jsx("span",{className:"text-sm leading-4 font-medium font-brockmann drop-shadow-[0_0_8px_rgba(255,255,255,0.3)] transition-all duration-200",children:e.label})]},`${e.category}-${e.label}-${t}`)),n.jsxs(Ek.button,{initial:{opacity:0,y:4},animate:{opacity:1,y:0},exit:{opacity:0,y:-4},transition:{duration:.3,ease:"easeInOut",delay:.05*r.length},onClick:()=>{const e=Object.values(i).flat(),t=e[Math.floor(Math.random()*e.length)];s(t.prompt)},whileTap:{scale:.95,transition:{duration:.1}},className:"group relative min-w-fit pl-3 py-4 pr-4 flex text-[#FFFFFF] hover:text-[#FFFFFF] items-center gap-[6px] bg-[#18181A] rounded-[12px] transition-colors duration-200 cursor-pointer "+(p()?"border-opacity-0":""),children:[n.jsx("img",{src:ID,alt:"Surprise",className:"w-4 h-4"}),n.jsx("span",{className:"text-sm leading-4 font-medium font-brockmann drop-shadow-[0_0_8px_rgba(255,255,255,0.3)] transition-all duration-200",children:"Surprise Me"})]}),n.jsx(Ek.button,{initial:{opacity:0,y:4},animate:{opacity:1,y:0},exit:{opacity:0,y:-4},transition:{duration:.3,ease:"easeInOut",delay:.05*(r.length+1)},onClick:async()=>{u(e=>e+180);const e=m(!0);o(e),h(e)},whileTap:{scale:.95,transition:{duration:.1}},className:"group relative min-w-fit p-4 flex text-[#7B7B80] hover:text-white items-center gap-[6px] bg-[#18181A] hover:bg-[#202022] rounded-[12px] transition-colors duration-200 cursor-pointer",title:"Refresh suggestions",children:n.jsx(Ek.div,{animate:{rotate:d},transition:{duration:.5,ease:"easeInOut"},children:n.jsx(NS,{className:"w-4 h-4"})})})]})})}const TD=gv.common.attachmentCross,DD=gv.common.attach,MD=gv.common.close,LD=gv.common.copperCoin;function PD({tabId:e,onClearTabId:t,isReferralModalOpen:s,setIsReferralModalOpen:i,isCustomAgentsModalOpen:a,setIsCustomAgentsModalOpen:r,showMobileAgentIntro:o,onMobileAgentIntroShown:l,jobsLength:c}){const{toast:d}=on(),{config:u,loading:p}=kD(),[m,{isLoading:h}]=bf(),{getTabState:x,updateTabState:f,setTabs:g,setActiveTab:v}=Oee(),{session:b,user:y}=Wg(),{tier:w,isTrulyFreeUser:j}=Xg(),{getCurrentOrganizationId:C,isOrganizationWorkspace:N}=Kg(),{isConnected:F}=$A(),_=eI(),{data:k}=Fx(),S=!0,E=Ig()&&"free"!==w,[I,A]=De.useState([]),[T,D]=De.useState(!1),{compressImage:M}=mE(vE),L=C(),P=L?{organization_id:L}:{},{data:O,isLoading:z}=Df(P,{skip:!("pro_mode"===w||_||(null==k?void 0:k.is_pro_enabled)||N())}),{data:B}=zf(L?{organization_id:L}:void 0,{skip:!1}),[H,$]=De.useState({taskInput:"",selectedImage:"",selectedAgent:"",selectedModel:"",perInstanceCostLimit:"25",selectedSkills:[],selectedImages:[],loadingImages:!1,githubUrl:"",branchName:"",projectType:"new_app",selectedCustomAgent:null,privacy:"free"===w?"public":"private",ultraMode:!1,testMode:"pro_mode"===w,selectedMcpTools:[]}),[U,V]=De.useState(!1),[W,q]=De.useState(!1),[G,Z]=De.useState(!1),[Y,K]=De.useState(!0),[J,Q]=De.useState(!1),[X,ee]=De.useState(!1),[te,ne]=De.useState(!1),[se,ie]=De.useState(!1),[ae,re]=De.useState(!1),[oe,le]=De.useState(null),ce=h,de=YE(),[ue,pe]=De.useState(!1),me=()=>"free"===w&&!(()=>{try{return!0===yd.getFeatureFlag("e1_enabled")}catch(e){return!1}})(),he=(e,t,n=!1)=>!!n||(e.user_tier?t===e.user_tier:!e.unavailable_tier||t!==e.unavailable_tier),xe=()=>{if(!(null==u?void 0:u.model_list))return"";const e=u.model_list.find(e=>he(e,w,N()));return(null==e?void 0:e.name)||""},[fe,ge]=De.useState(()=>me()),[ve,be]=De.useState(!1),[ye,we]=De.useState(!1),[je,Ce]=De.useState([]),{isMobile:Ne}=QE(),Fe=De.useRef(!1),_e=De.useRef(null),ke=De.useRef(new Set),Se=De.useRef(null),Ee=e=>{$(t=>({...t,...e}))};De.useEffect(()=>{var t,n,s;if(!e||!u)return;if(ke.current.has(e))return;const i=x(e),a=null==(n=null==(t=u.form_layouts)?void 0:t.new_app)?void 0:n.cloud,r=(null==a?void 0:a.defaults)||{},o=xe(),l=localStorage.getItem("landingPageTask");Ee({taskInput:l||(i.task||r.taskDescription||""),selectedImage:i.selectedImage||r.dockerImage||"",selectedAgent:i.selectedAgent||r.agent||"",selectedModel:i.model_name||o||r.baseModel||"",perInstanceCostLimit:i.per_instance_cost_limit||(null==(s=r.budget)?void 0:s.toString())||"25",selectedSkills:i.agentic_skills||r.skills||[],selectedImages:i.selectedImages||[],githubUrl:i.repository||"",branchName:i.branch||"",projectType:i.projectType||"new_app",selectedCustomAgent:i.selectedCustomAgent||null,selectedMcpTools:i.selectedMcpServerIds||[]}),l&&localStorage.removeItem("landingPageTask"),ke.current.add(e)},[u,x,e,w]),De.useEffect(()=>{if(!(null==u?void 0:u.model_list)||!H.selectedModel)return;const e=u.model_list.find(e=>e.name===H.selectedModel);if(e&&!he(e,w,N())){const e=xe();e&&Ee({selectedModel:e})}},[w,H.selectedModel,u]),De.useEffect(()=>{Ee({testMode:"pro_mode"===w})},[w]),De.useEffect(()=>{if(!e||0===ke.current.size)return;const t=x(e).selectedMcpServerIds||[];JSON.stringify(t)!==JSON.stringify(Se.current)&&(Se.current=t,Ee({selectedMcpTools:t}))},[e,x]),De.useEffect(()=>{if(!e||0===ke.current.size)return;const t={task:H.taskInput,selectedImage:H.selectedImage,image:H.selectedImage,selectedAgent:H.selectedAgent,model_name:H.selectedModel,per_instance_cost_limit:H.perInstanceCostLimit,agentic_skills:H.selectedSkills,selectedImages:H.selectedImages,repository:H.githubUrl,branch:H.branchName,projectType:H.projectType,selectedCustomAgent:H.selectedCustomAgent,privacy:H.privacy,ultraMode:H.ultraMode,testMode:H.testMode,selectedMcpServerIds:H.selectedMcpTools,isCloudFlow:!0};f(e,t)},[H,e,f]),De.useEffect(()=>{(null==u?void 0:u.skills)&&Ce(u.skills)},[u]),De.useEffect(()=>{var e;if(H.selectedAgent&&u){const t=null==(e=u.agent_names)?void 0:e.find(e=>e.name===H.selectedAgent);if(null==t?void 0:t.sub_agents){const e=t.sub_agents.filter(e=>je.some(t=>t.name===e));Ee({selectedSkills:e})}else Ee({selectedSkills:[]})}},[H.selectedAgent,je,u]),De.useEffect(()=>{var e,t,n,s,i,a,r,o,l,c,d,p,m;if(!u)return;const h=null==(t=null==(e=u.form_layouts)?void 0:e.new_app)?void 0:t.cloud,x=(null==h?void 0:h.defaults)||{};ye&&u.prototype_agent_experimental?Ee({selectedAgent:u.prototype_agent_experimental.agent||x.agent||"",selectedImage:u.prototype_agent_experimental.dockerImage||x.dockerImage||"",perInstanceCostLimit:(null==(n=u.prototype_agent_experimental.budget)?void 0:n.toString())||(null==(s=x.budget)?void 0:s.toString())||"25",selectedModel:u.prototype_agent_experimental.baseModel||x.baseModel||""}):ve&&u.e15_experimental?Ee({selectedAgent:u.e15_experimental.agent||x.agent||"",selectedImage:u.e15_experimental.dockerImage||x.dockerImage||"",perInstanceCostLimit:(null==(i=u.e15_experimental.budget)?void 0:i.toString())||(null==(a=x.budget)?void 0:a.toString())||"25",selectedModel:u.e15_experimental.baseModel||x.baseModel||""}):fe&&u.e1_experimental?Ee({selectedAgent:u.e1_experimental.agent||x.agent||"",selectedImage:u.e1_experimental.dockerImage||x.dockerImage||"",perInstanceCostLimit:(null==(r=u.e1_experimental.budget)?void 0:r.toString())||(null==(o=x.budget)?void 0:o.toString())||"25"}):Ee(ue?{selectedAgent:(null==(c=null==(l=u.agent_names)?void 0:l.find(e=>"expo_fullstack_v0"===e.name))?void 0:c.name)||"",selectedImage:(null==(p=null==(d=u.templates)?void 0:d.find(e=>"expo"===e.id))?void 0:p.env_image)||""}:{selectedAgent:x.agent||"",selectedImage:x.dockerImage||"",perInstanceCostLimit:(null==(m=x.budget)?void 0:m.toString())||"25"})},[fe,ve,ye,u,ue]),De.useEffect(()=>{""!==H.taskInput||Y||K(!0)},[H.taskInput,Y]),De.useEffect(()=>{if(!y)return;const e=me();ge(e)},[y,w]),De.useEffect(()=>{const t=C();g(n=>n.some(t=>t.id===e)?n:[...n,{id:e,title:"Setting up Task",path:"/not-defined",state:{tabId:e,sourceTabId:e,isCloudFlow:!0},status:!1,isCloudFlow:!0,...t&&{organization_id:t,level:"organization"}}]),f(e,{isCloudFlow:!0,...t&&{organization_id:t,level:"organization"}})},[e,C]);const Ie=hE({maxImages:5,maxSizeInMB:5,maxPixelDimensions:8e3,maxPixelDimensionsMultiple:2e3,onImagesChange:e=>Ee({selectedImages:e})});De.useEffect(()=>{Ee({loadingImages:Ie.isProcessing})},[Ie.isProcessing]);const Ae=e=>{Ee({taskInput:e}),ge(!0),pe(!1)},Te=e=>{ge(e)},Me=e=>{be(e)},Le=e=>{we(e)},Pe=()=>{Ee({githubUrl:"",branchName:""}),_e.current&&_e.current.reset()},Re=t=>{if(!t||0===t.length)return;const n=Array.from(t);if(I.length+n.length>5)return void d({title:"Too many attachments",description:"Maximum 5 attachments allowed",variant:"destructive"});const s=n.filter(e=>e.size>209715200);if(s.length>0)return void d({title:"File too large",description:`Files must be smaller than 200MB. ${s.length} file(s) exceed this limit.`,variant:"destructive"});const i=[...I,...n];A(i);const a=x(e);f(e,{...a,selectedFiles:i}),d({title:"Files selected",description:`${n.length} file(s) selected for upload`})},Oe=()=>{{const e=document.createElement("input");e.type="file",e.multiple=!0,e.style.display="none",e.onchange=t=>{const n=t.target;n.files&&Re(n.files),document.body.removeChild(e)},document.body.appendChild(e),e.click()}fg(XS.ATTACH_FILE_CLICKED)},ze=t=>{const n=I.filter((e,n)=>n!==t);A(n);const s=x(e);f(e,{...s,selectedFiles:n})},Be=async e=>{try{Lg("transcription_started",{component:"ChatInput",audioSize:e.size});const t=new File([e],"recording.mp3",{type:"audio/mp3"}),n=await m({audio_file:t,language_code:"en"}).unwrap();if(!n.text)throw new Error("No transcription data received");{const e=H.taskInput,t=e?`${e} ${n.text}`:n.text;Ee({taskInput:t}),Lg("transcription_completed",{component:"ChatInput",textLength:n.text.length})}}catch(t){Lg("transcription_failed",{component:"ChatInput",error:t instanceof Error?t.message:"Unknown error"}),d({title:"Transcription Error",description:"Failed to transcribe audio. Please try again.",variant:"destructive"})}},He=()=>{ae?oe&&ae&&(oe.stop(),re(!1),le(null)):(async()=>{try{const e=await navigator.mediaDevices.getUserMedia({audio:!0}),t=new MediaRecorder(e),n=[];t.ondataavailable=e=>{n.push(e.data)},t.onstop=async()=>{const t=new Blob(n,{type:"audio/mp3"});await Be(t),e.getTracks().forEach(e=>e.stop())},t.start(),le(t),re(!0)}catch(e){d({title:"Recording Error",description:"Could not access microphone. Please check permissions.",variant:"destructive"})}})()},$e=e=>{var t,n,s;const i=null==(n=null==(t=null==u?void 0:u.form_layouts)?void 0:t[H.projectType])?void 0:n.cloud,a=null==(s=null==i?void 0:i.fields)?void 0:s.find(t=>t.id===e);return!1!==(null==a?void 0:a.show)},Ue=WS(async()=>{var n,s,i,a;try{if(Fe.current)return;if(Fe.current=!0,ee(!0),wg("submitted",{userId:null==y?void 0:y.id,projectType:H.projectType,isCloudFlow:!0,taskInputLength:H.taskInput.length,taskInput:H.taskInput.substring(0,100),hasImages:H.selectedImages.length>0,imageCount:H.selectedImages.length,selectedModel:H.selectedModel,selectedAgent:H.selectedAgent,budget:H.perInstanceCostLimit,tabId:e}),!H.selectedImage||!H.taskInput)return void d({title:"Error",description:"Please fill in all required fields",variant:"destructive"});if(H.githubUrl&&!H.branchName)return void d({title:"Branch Required",description:"Please select a branch for the GitHub repository",variant:"destructive"});let r=[],o=[];if(I&&I.length>0){D(!0);try{const e=await(async(e,t,n)=>{const s=[],i=[...e],a=new Map;for(let o=0;o<e.length;o++){const i=e[o];null==n||n(o+1,e.length);const l=bE(i);if("compress_and_dual"===l.strategy){const e=await yE(i,t);if(a.set(i.name,e),e.shouldUseBase64&&e.base64Data){const t={mime_type:"image/jpeg",img_base64:e.base64Data};s.push(t)}}else if("dual_mode"===l.strategy&&i.size<=gE)try{const e=await wE(i),t={mime_type:i.type,img_base64:e};s.push(t)}catch(r){}}return{base64Images:s,filesToUploadAsArtifacts:i,compressedImageData:a}})(I,M,(e,t)=>{});r=e.base64Images,o=e.filesToUploadAsArtifacts}finally{D(!1)}}const l=[...H.selectedImages||[],...r],c=C(),p={...{task:H.taskInput,selectedImage:H.selectedImage,image:H.selectedImage,selectedAgent:H.selectedAgent,model_name:H.selectedModel,per_instance_cost_limit:H.perInstanceCostLimit,agentic_skills:H.selectedSkills,selectedImages:l,repository:H.githubUrl,branch:H.branchName||"",projectType:H.projectType,selectedCustomAgent:H.selectedCustomAgent,privacy:H.privacy,ultraMode:H.ultraMode,testMode:H.testMode,test_mode_on:H.testMode,selectedMcpTools:(null==(n=null==H?void 0:H.selectedMcpTools)?void 0:n.flatMap(e=>(null==e?void 0:e.mcpServers)?Object.keys(e.mcpServers):[]))||[],selectedMcpServers:H.selectedMcpTools,...c&&{organization_id:c,level:"organization"},fromCreateTask:!0,tabId:e,parentTabId:e,isCloudFlow:!0,client_ref_id:null,needsApiCall:!0,pending_client_ref_id:crypto.randomUUID(),id:e,title:"Setting up Task",path:"/chat",experimental:fe,e15Enabled:ve,selectedFiles:o,base64_image_list:l.length>0?l:void 0,state:{tabId:e,sourceTabId:e}},...H.selectedCustomAgent?{user_prompt_id:H.selectedCustomAgent}:{prompt_name:ye&&(null==(s=null==u?void 0:u.prototype_agent_experimental)?void 0:s.agent)?u.prototype_agent_experimental.agent:ve&&(null==(i=null==u?void 0:u.e15_experimental)?void 0:i.agent)?u.e15_experimental.agent:fe&&(null==(a=null==u?void 0:u.e1_experimental)?void 0:a.agent)?u.e1_experimental.agent:"auto_prompt_selector_dev"}};Ie.clearImages(),Ee({selectedImages:[]}),pe(!1),A([]),f(e,p),g(t=>t.some(t=>t.id===e)?t.map(t=>t.id===e?{...t,path:"/chat",title:"Setting up Task",state:p,...c&&{organization_id:c,level:"organization"}}:t):[...t,{id:e,title:"Setting up Task",path:"/chat",state:p,...c&&{organization_id:c,level:"organization"}}]),v(e),Pe(),t()}catch(r){d({title:"Error",description:"Failed to create task. Please try again.",variant:"destructive"}),wg("abandoned",{userId:null==y?void 0:y.id,reason:"submission_error",error:String(r),tabId:e})}finally{Fe.current=!1,ee(!1)}},700),Ve=async()=>{var t;if(fg(XS.NEW_JOB_CREATED,{isUserLoggedIn:b&&y}),b&&y){const s=x(e),i=[];if(I&&I.length>0)for(const e of I)if(e.type.startsWith("image/"))try{const t=await new Promise((t,n)=>{const s=new FileReader;s.onload=()=>{const e=s.result.split(",")[1];t(e)},s.onerror=n,s.readAsDataURL(e)});i.push({mime_type:e.type,img_base64:t})}catch(n){}const a=[...H.selectedImages||[],...i],r=C(),o={...s,selectedImages:a,base64_image_list:a.length>0?a:void 0,selectedMcpTools:(null==(t=null==H?void 0:H.selectedMcpTools)?void 0:t.flatMap(e=>(null==e?void 0:e.mcpServers)?Object.keys(e.mcpServers):[]))||[],selectedMcpServers:H.selectedMcpTools,jobsLength:c,needsApiCall:!0,...r&&{organization_id:r,level:"organization"}};f(e,o),setTimeout(()=>{Ue()},100)}else ne(!0)},We=e=>{fg(XS.BUDGET_VALUE_UPDATED,{updatedValue:e})};return u?n.jsxs(n.Fragment,{children:[n.jsx(OA,{enableWelcomeModal:!0,open:te,onOpenChange:ne,defaultView:"signup",onSuccess:e=>{}}),n.jsx(_D,{isOpen:a,onOpenChange:r}),n.jsx(wD,{isOpen:se,onOpenChange:ie}),n.jsx(R,{delayDuration:200,children:n.jsx("div",{className:"relative w-full",children:n.jsxs("div",{className:"w-full max-w-4xl mx-auto max-md:pt-0 md:p-6",children:[n.jsx(Ek.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3,ease:"easeOut"},children:n.jsxs("div",{className:"max-md:fixed max-md:bottom-0 max-md:left-0 max-md:right-0",children:[0===I.length&&n.jsx("div",{className:"md:hidden",children:n.jsx(AD,{config:u,showChips:Y&&!U&&!J&&(Ne||!W),taskInput:H.taskInput,onChipClick:Ae,onSurpriseMe:()=>{}})}),n.jsxs("div",{className:fb("md:bg-[#FFFFFF0D]  max-md:rounded-t-[18px] md:rounded-[18px] ","p-[0px]"),style:{background:Ne||j()?"transparent":"none"},onMouseEnter:()=>{},onMouseLeave:()=>{},children:[n.jsx("div",{className:"relative max-md:hidden",children:n.jsx(Pb,{mode:"wait",children:!j()&&!1})}),n.jsxs("div",{children:[I.length>0&&Ne&&n.jsx("div",{className:"max-w-[94%] mx-auto bg-[#18181A] border border-[#222] border-b-0 rounded-t-[18px] p-3",children:n.jsxs("div",{className:"flex flex-wrap gap-3",children:[(H.loadingImages||T)&&n.jsxs("div",{className:"flex items-center justify-center w-full py-4",children:[n.jsx(hS,{className:"h-6 w-6 text-[#999] animate-spin mr-2"}),n.jsx("span",{className:"text-[#999]",children:T?"Processing and compressing files...":"Processing files..."})]}),!H.loadingImages&&!T&&I.map((e,t)=>{var s;const i=e.type.startsWith("image/"),a=i?URL.createObjectURL(e):null;return n.jsxs("div",{className:"relative w-12 h-12 rounded-md border border-[#333] group",children:[i&&a?n.jsx("img",{src:a,alt:e.name,className:"w-full h-full object-cover z-[1] rounded-md"}):n.jsx("div",{className:"w-full h-full bg-[#2A2A2C] rounded-md flex items-center justify-center z-[1]",children:n.jsx("span",{className:"text-[#999] text-xs font-mono",children:(null==(s=e.name.split(".").pop())?void 0:s.toUpperCase())||"FILE"})}),n.jsx("button",{type:"button",onClick:()=>ze(t),className:"absolute top-[-8px] right-[-8px] bg-transparent z-[2] rounded-full p-1 transition-opacity","aria-label":"Remove file",children:n.jsx("div",{className:"p-1 bg-white rounded-full",children:n.jsx("img",{src:TD,alt:"Remove file",className:"w-3 h-3"})})})]},`${e.name}-${t}`)})]})}),n.jsx("div",{className:"relative w-full ",children:n.jsx(FA,{value:H.taskInput,onChange:t=>{Ee({taskInput:t.target.value}),t.target.value.length%50==0&&wg("started",{userId:null==y?void 0:y.id,taskInputLength:t.target.value.length,isTyping:!0,tabId:e})},handleExperimentalChange:Te,experimentalEnabled:fe,e15Enabled:ve,onE15Enabled:Me,prototypeEnabled:ye,onPrototypeEnabled:Le,ultraMode:H.ultraMode,onUltraModeChange:e=>Ee({ultraMode:e}),testMode:H.testMode,onTestModeChange:e=>Ee({testMode:e}),className:"relative bg-[#18181A] w-full rounded-t-[12px] md:rounded-b-[12px] text-[#DDDDE6]\n                    placeholder:text-[#666] md:text-base focus-visible:ring-1 focus:ring-1 z-10",onAttachClick:Oe,attachIcon:DD,attachTooltip:"Attach files & images",isUploadAssetEnabled:S,onPaste:e=>{var t;const n=null==(t=e.clipboardData)?void 0:t.items;if(n){const t=Array.from(n).filter(e=>"file"===e.kind);if(0===t.length)return;e.preventDefault();const s=t.map(e=>e.getAsFile()).filter(Boolean);s.length>0&&Re(s)}},handleSettingsClick:()=>{G||(W?(Z(!0),q(!1),setTimeout(()=>{V(!U),Z(!1)},300)):V(!U))},showControls:U,onFocusChange:e=>Q(e),onSubmit:Ve,disabled:X||!H.taskInput||Fg(),isSubmitting:X,showGithubSettings:W,handleGithubSettings:()=>{fg(XS.GITHUB_EVENTS.CONNECT_TO_GITHUB_ICON_CLICKED),b?G||(U?(Z(!0),V(!1),setTimeout(()=>{q(!W),Z(!1)},300)):q(!W)):ne(!0)},hasUserConnectedGithub:F,githubUrl:H.githubUrl,onClearGithubUrl:Pe,userPrompts:(null==O?void 0:O.user_prompts)||[],isLoadingUserPrompts:z,selectedCustomAgent:H.selectedCustomAgent,onCustomAgentChange:e=>Ee({selectedCustomAgent:e}),shouldShowUserPrompts:"pro_mode"===w||_||(null==k?void 0:k.is_pro_enabled),mobileEnabled:ue,onMobileEnabled:pe,showMobileAgentIntro:o,onMobileAgentIntroShown:l,showModelSelector:!0,availableModels:(null==(qe=null==u?void 0:u.model_list)?void 0:qe.map(e=>({id:e.name,name:e.display_name,description:e.description,icon:"openai"===e.provider?ED:dA,showNew:"openai"===e.provider,user_tier:e.user_tier,unavailable_tier:e.unavailable_tier})))||[],selectedModelId:H.selectedModel,onModelChange:e=>Ee({selectedModel:e}),selectedImage:H.selectedImage,setSelectedImage:e=>Ee({selectedImage:e}),globalConfig:u,perInstanceCostLimit:H.perInstanceCostLimit,setPerInstanceCostLimit:e=>Ee({perInstanceCostLimit:e}),onPrivacyChange:e=>{e!==H.privacy&&Ee({privacy:e})},selectedMcpTools:H.selectedMcpTools,onMcpToolsChange:e=>Ee({selectedMcpTools:e}),isRecording:ae,isTranscribing:ce,onVoiceClick:He})}),I.length>0&&!Ne&&n.jsx("div",{className:"mt-[-20px] max-w-[94%] mx-auto bg-[#1D1D1F] border border-[#222] rounded-lg p-3",children:n.jsxs("div",{className:"flex flex-wrap gap-3 pt-4",children:[(H.loadingImages||T)&&n.jsxs("div",{className:"flex items-center justify-center w-full py-4",children:[n.jsx(hS,{className:"h-6 w-6 text-[#999] animate-spin mr-2"}),n.jsx("span",{className:"text-[#999]",children:T?"Processing and compressing files...":"Processing files..."})]}),!H.loadingImages&&!T&&I.map((e,t)=>{var s;const i=e.type.startsWith("image/"),a=i?URL.createObjectURL(e):null;return n.jsxs("div",{className:"relative w-12 h-12 rounded-md border border-[#333] group",children:[i&&a?n.jsx("img",{src:a,alt:e.name,className:"w-full h-full object-cover z-[1] rounded-md"}):n.jsx("div",{className:"w-full h-full bg-[#2A2A2C] rounded-md flex items-center justify-center z-[1]",children:n.jsx("span",{className:"text-[#999] text-xs font-mono",children:(null==(s=e.name.split(".").pop())?void 0:s.toUpperCase())||"FILE"})}),n.jsx("button",{type:"button",onClick:()=>ze(t),className:"absolute top-[-8px] right-[-8px] bg-transparent z-[2] rounded-full p-1 transition-opacity","aria-label":"Remove file",children:n.jsx("div",{className:"p-1 bg-white rounded-full",children:n.jsx("img",{src:TD,alt:"Remove file",className:"w-3 h-3"})})})]},`${e.name}-${t}`)})]})})]})]})]})}),0===I.length&&!Ne&&n.jsx("div",{className:j()?"grayscale":"",children:n.jsx(BA,{config:u,showChips:Y&&!U&&(Ne||!W),taskInput:H.taskInput,onChipClick:Ae,onSurpriseMe:()=>{}})}),n.jsxs(Pb,{children:[!U&&W&&n.jsx(Ek.div,{initial:{opacity:0,height:0,scale:.8},animate:{opacity:1,height:"auto",scale:1},exit:{opacity:0,height:0,scale:.8},transition:{duration:.3,ease:"easeInOut"},children:n.jsx("div",{className:"w-full bg-[#131314] mt-3",children:n.jsx(oT,{ref:_e,githubUrl:H.githubUrl,branchName:H.branchName,onGithubUrlChange:e=>Ee({githubUrl:e}),onBranchNameChange:e=>Ee({branchName:e}),onClose:()=>{q(!1)}})})}),U&&!W&&n.jsx(Ek.div,{initial:{opacity:0,height:0,scale:.8},animate:{opacity:1,height:"auto",scale:1},exit:{opacity:0,height:0,scale:.8},transition:{duration:.3,ease:"easeInOut"},children:(()=>{var e,t;return n.jsxs("div",{className:"w-full bg-[#0F181A] border border-[#66EAFF1F] rounded-[16px] transition-colors mt-3",children:[n.jsxs("div",{className:"flex items-center justify-between w-full gap-4 px-5 pt-5",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(GI,{color:"#66eaff",size:20}),n.jsx("span",{className:"text-[#66EAFF] font-brockmann font-medium",children:"Advanced Controls"})]}),n.jsx("img",{alt:"Close",src:MD,className:"w-5 h-5 cursor-pointer",onClick:()=>{G||V(!1)}})]}),n.jsxs("div",{className:"flex flex-col px-5 pt-5 space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("p",{className:"text-[#FFFFFF50] font-inter font-medium text-[14px]",children:"Select MCPs to use"}),n.jsx("span",{className:"text-[#131314] px-2 py-[2px] font-semibold font-inter text-[12px] rounded-full bg-[#F49B57]",children:"New"})]}),n.jsxs("button",{type:"button",onClick:()=>de.open({formState:H,updateFormState:Ee,organizationId:C()}),className:fb("w-full h-14 bg-[#FFFFFF0A] border border-[#ffffff12] rounded-lg text-[#DDDDE6] hover:border-[#333] transition-colors px-4 flex items-center justify-between",H.selectedMcpTools.length>0&&"pl-3"),children:[n.jsxs("div",{className:"flex items-center gap-3",children:[H.selectedMcpTools.length<=0&&n.jsx(ME,{size:20}),n.jsx("div",{className:"flex flex-wrap items-center gap-2",children:H.selectedMcpTools.length>0?n.jsxs(n.Fragment,{children:[H.selectedMcpTools.slice(0,3).map((e,t)=>{const s=null==B?void 0:B.find(t=>t.id===e);return n.jsxs("div",{className:"group relative flex items-center gap-2 bg-[#FFFFFF]/10 px-2 py-2 rounded-full hover:bg-[#FFFFFF]/15 cursor-pointer transition-all duration-200 ease-out",children:[(null==s?void 0:s.icon)?n.jsx("img",{src:s.icon,alt:s.display_name,className:"flex-shrink-0 w-4 h-4 rounded-sm"}):n.jsx(ME,{size:16}),n.jsx("span",{className:"text-sm text-[#DDDDE6] flex-shrink-0",children:(null==s?void 0:s.display_name)||e}),n.jsx("button",{title:"Close",type:"button",onClick:e=>{e.stopPropagation();const n=H.selectedMcpTools.filter((e,n)=>n!==t);Ee({selectedMcpTools:n})},className:"flex items-center justify-center w-4 h-4 transition-all duration-150 rounded-full opacity-50 right-2 hover:opacity-80",children:n.jsx(RS,{size:16})})]},`${e}-${t}`)}),H.selectedMcpTools.length>3&&n.jsx("div",{className:"flex items-center gap-2 bg-[#FFFFFF]/10 px-2 py-2 rounded-full",children:n.jsxs("span",{className:"text-sm text-[#DDDDE6]",children:["+",H.selectedMcpTools.length-3," more"]})})]}):n.jsx("span",{children:"Select MCP Tools"})})]}),n.jsx(Vk,{size:20})]})]}),n.jsxs("div",{className:"grid grid-cols-1 gap-5 px-5 py-5 md:grid-cols-2",children:[$e("dockerImage")&&n.jsx(sE,{selectedImage:H.selectedImage,setSelectedImage:e=>Ee({selectedImage:e}),globalConfig:u,label:"Select Template",isCloudFlow:!0}),$e("budget")&&n.jsxs("div",{className:"flex flex-col justify-between h-full",children:[n.jsx("p",{className:"text-[#FFFFFF50] font-inter text-sm",children:"Budget (Credits)"}),n.jsxs("div",{className:"relative flex items-center",children:[n.jsx("button",{type:"button",title:"Decrease budget",onClick:()=>{const e=parseInt(H.perInstanceCostLimit);e>1&&(Ee({perInstanceCostLimit:(e-1).toString()}),We(e-1))},className:"w-[40px] h-[40px] flex items-center justify-center absolute left-1 text-[#666] hover:text-[#999] transition-colors hover:bg-[#0F181A] rounded-sm",children:n.jsx(gS,{className:"h-6 w-6 text-[#DDDDE6]"})}),n.jsxs("div",{className:"w-full h-[56px] bg-[#FFFFFF0A] border border-[#ffffff12] rounded-lg text-[#DDDDE6] px-4 flex items-center justify-center hover:border-[#333]",children:[n.jsx("img",{alt:"Budget",className:"text-[#B4A456] w-5 h-5",src:LD}),n.jsx("input",{type:"number",min:"1",step:"1",value:H.perInstanceCostLimit,onChange:e=>{"0"!==e.target.value&&(Ee({perInstanceCostLimit:e.target.value}),We(e.target.value))},disabled:p,placeholder:p?"Loading...":" - - ",className:"w-20 bg-transparent text-left focus:outline-none text-[#DDDDE6] font-inter text-xl font-semibold leading-[120%] tracking-[-0.4px] [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none"})]}),n.jsx("button",{type:"button",title:"Increase budget",onClick:()=>{const e=parseInt(H.perInstanceCostLimit);Ee({perInstanceCostLimit:(e+1).toString()}),We(e+1)},className:"w-[40px] h-[40px] flex items-center justify-center absolute right-1 text-[#666] hover:text-[#999] transition-colors hover:bg-[#0F181A] rounded-sm",children:n.jsx(wS,{className:"h-6 w-6 text-[#DDDDE6]"})})]})]}),E&&n.jsxs("div",{className:"flex flex-col justify-between h-full col-span-2",children:[n.jsx("p",{className:"text-[#FFFFFF50] font-inter text-sm mb-2",children:"Privacy"}),n.jsx("div",{className:" h-[56px] bg-[#FFFFFF0A] border border-[#ffffff12] rounded-lg text-[#DDDDE6] px-4 w-full flex items-center gap-3 hover:border-[#333]",children:n.jsx(hA,{privacy:H.privacy})})]})]}),"free"==w&&n.jsxs("div",{className:"flex flex-col w-full px-5 space-y-2",children:[n.jsx("p",{className:"text-[#FFFFFF50] font-inter text-sm",children:"Model"}),n.jsx(mA,{models:(null==(e=null==u?void 0:u.model_list)?void 0:e.map(e=>({id:e.name,name:e.display_name,description:e.description,icon:"openai"===e.provider?ED:dA,showNew:"openai"===e.provider,user_tier:e.user_tier,unavailable_tier:e.unavailable_tier})))||[],selectedModelId:H.selectedModel,onModelChange:e=>{Ee({selectedModel:e}),fg(XS.MODEL_VALUE_UPDATED,{selectedModel:e})},currentUserTier:w,isEmergentUser:_,onUpgradeRequired:()=>ie(!0),disabled:p,placeholder:p?"Loading models...":"Select Model"})]}),n.jsxs("div",{className:"grid grid-cols-1 gap-5 px-5 py-5",children:[$e("agent")&&n.jsxs("div",{className:"flex flex-col space-y-2",children:[n.jsx("p",{className:"text-[#FFFFFF50] font-inter text-sm",children:"Agent"}),n.jsxs(OS,{value:H.selectedAgent,onValueChange:e=>Ee({selectedAgent:e}),disabled:p,children:[n.jsx(BS,{className:"w-full h-14 bg-[#FFFFFF0A] border border-[#ffffff12] rounded-lg text-[#DDDDE6] hover:border-[#333] transition-colors data-[state=open]:border-[#333]",children:p?n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(hS,{className:"w-4 h-4 animate-spin"}),n.jsx("span",{children:"Loading agents..."})]}):n.jsx(zS,{placeholder:"Select Agent"})}),n.jsx(US,{className:"bg-[#131314] border border-[#222]",children:null==(t=null==u?void 0:u.agent_names)?void 0:t.map((e,t)=>n.jsx(VS,{value:e.name,className:"text-[#DDDDE6] hover:bg-[#222] focus:bg-[#222]",children:e.display_name},`${e.name}-${t}`))})]})]}),$e("skills")&&n.jsx(uE,{selectedSkills:H.selectedSkills,setSelectedSkills:e=>Ee({selectedSkills:e}),skills:je,loadingSkills:!1,label:"Skills"})]})]})})()})]})]})})})]}):n.jsx("div",{className:"flex items-center min-h-[300px] justify-center w-full h-full",children:n.jsx(hS,{className:"w-8 h-8 text-white opacity-25 animate-spin"})});var qe}function RD({className:e=""}){const{user:t}=Wg();return n.jsxs("footer",{className:fb("absolute overflow-clip flex flex-row md:flex-row items-center justify-between w-screen px-3 py-3 md:px-6 md:py-6 bottom-12",e),children:[n.jsx("div",{className:"items-center hidden mb-2 md:flex md:mb-0",children:n.jsx("img",{src:"/logo-text.svg",alt:"Emergent Logo",className:"w-[80px] md:w-[113px] h-[40px]"})}),n.jsxs("div",{className:"flex-col items-center hidden w-full gap-2 md:flex md:w-auto sm:items-end sm:justify-end md:items-center md:flex-row md:gap-6",children:[n.jsxs("div",{className:"flex items-end justify-end md:items-center gap-4 text-[#666666] text-[13px] md:text-[0.8rem]",children:[t&&n.jsx(Oe,{to:"/home",className:"hover:text-[#2EBBE5] transition-colors",onClick:()=>fg(XS.FOOTER_EVENTS.HOME_BUTTON_CLICKED),children:"Home"}),n.jsx(Oe,{to:"/affiliates",className:"hover:text-[#2EBBE5] transition-colors",onClick:()=>fg(XS.FOOTER_EVENTS.AFFILIATES_BUTTON_CLICKED),children:"Affiliates"}),n.jsx(Oe,{to:"/privacy-policy",className:"hover:text-[#2EBBE5] transition-colors",onClick:()=>fg(XS.FOOTER_EVENTS.PRIVACY_POLICY_BUTTON_CLICKED),children:"Privacy Policy"}),n.jsx(Oe,{to:"/terms-of-service",className:"hover:text-[#2EBBE5] transition-colors",onClick:()=>fg(XS.FOOTER_EVENTS.TERM_OF_SERVICE_BUTTON_CLICKED),children:"Terms of Service"})]}),n.jsxs("div",{className:"hidden md:flex items-center gap-2 font-ndot text-[#666666] text-[12px] md:text-[1rem]",children:["Copyright ",n.jsx("img",{src:"data:image/svg+xml,%3csvg%20width='18'%20height='18'%20viewBox='0%200%2018%2018'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M7.66308%2011.941H10.5431C10.7471%2011.941%2010.9181%2011.872%2011.0561%2011.734C11.1941%2011.596%2011.2631%2011.425%2011.2631%2011.221V9.78096H9.82308V10.501H8.38308V7.62096H9.82308V8.34096H11.2631V6.90096C11.2631%206.69696%2011.1941%206.52596%2011.0561%206.38796C10.9181%206.24996%2010.7471%206.18096%2010.5431%206.18096H7.66308C7.45908%206.18096%207.28808%206.24996%207.15008%206.38796C7.01208%206.52596%206.94308%206.69696%206.94308%206.90096V11.221C6.94308%2011.425%207.01208%2011.596%207.15008%2011.734C7.28808%2011.872%207.45908%2011.941%207.66308%2011.941ZM9.10308%2016.261C8.10708%2016.261%207.17108%2016.072%206.29508%2015.694C5.41908%2015.316%204.65708%2014.803%204.00908%2014.155C3.36108%2013.507%202.84808%2012.745%202.47008%2011.869C2.09208%2010.993%201.90308%2010.057%201.90308%209.06096C1.90308%208.06496%202.09208%207.12896%202.47008%206.25296C2.84808%205.37696%203.36108%204.61496%204.00908%203.96696C4.65708%203.31896%205.41908%202.80596%206.29508%202.42796C7.17108%202.04996%208.10708%201.86096%209.10308%201.86096C10.0991%201.86096%2011.0351%202.04996%2011.9111%202.42796C12.7871%202.80596%2013.5491%203.31896%2014.1971%203.96696C14.8451%204.61496%2015.3581%205.37696%2015.7361%206.25296C16.1141%207.12896%2016.3031%208.06496%2016.3031%209.06096C16.3031%2010.057%2016.1141%2010.993%2015.7361%2011.869C15.3581%2012.745%2014.8451%2013.507%2014.1971%2014.155C13.5491%2014.803%2012.7871%2015.316%2011.9111%2015.694C11.0351%2016.072%2010.0991%2016.261%209.10308%2016.261ZM9.10308%2014.821C10.7111%2014.821%2012.0731%2014.263%2013.1891%2013.147C14.3051%2012.031%2014.8631%2010.669%2014.8631%209.06096C14.8631%207.45296%2014.3051%206.09096%2013.1891%204.97496C12.0731%203.85896%2010.7111%203.30096%209.10308%203.30096C7.49508%203.30096%206.13308%203.85896%205.01708%204.97496C3.90108%206.09096%203.34308%207.45296%203.34308%209.06096C3.34308%2010.669%203.90108%2012.031%205.01708%2013.147C6.13308%2014.263%207.49508%2014.821%209.10308%2014.821Z'%20fill='%23666666'/%3e%3c/svg%3e",alt:"Copyright Logo"})," Emergentlabs 2025"]})]})]})}const OD=()=>{const{user:e,session:t}=Wg(),[s,i]=De.useState(!1),[a,r]=De.useState("login");return n.jsxs(n.Fragment,{children:[n.jsx(OA,{enableWelcomeModal:!0,open:s,onOpenChange:i,defaultView:"login",openView:a,onSuccess:()=>{r("login"),i(!1)}}),n.jsxs("section",{className:"shadow-xl hidden md:block overflow-hidden md:py-20 pb-[15rem] md:pb-[20rem] mt-[10rem] relative",children:[n.jsx(PA,{height:"70%",top:"30%",gridSizeX:50,gridSizeY:30,gridLineWidth:.3,gridOpacity:.6}),n.jsx("div",{className:"relative z-20 flex flex-col items-center justify-center w-full h-full",children:n.jsxs("div",{className:"flex flex-col items-center",children:[n.jsxs("div",{className:"flex flex-col items-center md:gap-4",children:[n.jsx("h2",{className:"text-[40px] md:text-[80px] md:leading-[80px] font-medium text-white",children:"Start building with"}),n.jsx("h2",{className:"text-[#00FF66] font-ndot text-[34px]  md:text-[72px] md:leading-[72px] uppercase",children:"Emergent Today"})]}),n.jsx("button",{onClick:n=>{n.preventDefault(),e&&t?window.requestAnimationFrame(()=>{const e=document.getElementById("mainTaskInput");e&&(e.scrollIntoView({behavior:"smooth",block:"center"}),setTimeout(()=>{e.focus()},500))}):i(!0)},className:"relative flex items-center gap-3 py-4 text-base font-semibold leading-6 tracking-wide text-black transition-colors bg-white rounded-full mt-14 px-14 hover:bg-gray-100 get-started-button before:absolute before:inset-0 before:-m-1 before:rounded-full before:border before:border-[#FFFFFF26] before:-z-10",children:e&&t?"Keep Building":"Get Started"})]})}),n.jsx(RD,{})]})]})},zD=De.forwardRef(({className:e,...t},s)=>n.jsx("div",{className:"relative w-full overflow-auto",children:n.jsx("table",{ref:s,className:fb("w-full caption-bottom text-sm",e),...t})}));zD.displayName="Table";const BD=De.forwardRef(({className:e,...t},s)=>n.jsx("thead",{ref:s,className:fb("[&_tr]:border-b",e),...t}));BD.displayName="TableHeader";const HD=De.forwardRef(({className:e,...t},s)=>n.jsx("tbody",{ref:s,className:fb("[&_tr:last-child]:border-0",e),...t}));HD.displayName="TableBody";De.forwardRef(({className:e,...t},s)=>n.jsx("tfoot",{ref:s,className:fb("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t})).displayName="TableFooter";const $D=De.forwardRef(({className:e,...t},s)=>n.jsx("tr",{ref:s,className:fb("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));$D.displayName="TableRow";const UD=De.forwardRef(({className:e,...t},s)=>n.jsx("th",{ref:s,className:fb("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));UD.displayName="TableHead";const VD=De.forwardRef(({className:e,...t},s)=>n.jsx("td",{ref:s,className:fb("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));VD.displayName="TableCell";De.forwardRef(({className:e,...t},s)=>n.jsx("caption",{ref:s,className:fb("mt-4 text-sm text-muted-foreground",e),...t})).displayName="TableCaption";const WD=De.forwardRef(({className:e,...t},s)=>n.jsx("div",{ref:s,className:fb("rounded-2xl border bg-card text-card-foreground shadow-sm",e),...t}));WD.displayName="Card";const qD=De.forwardRef(({className:e,...t},s)=>n.jsx("div",{ref:s,className:fb("flex flex-col space-y-1.5 p-6",e),...t}));qD.displayName="CardHeader";const GD=De.forwardRef(({className:e,...t},s)=>n.jsx("div",{ref:s,className:fb("text-2xl font-semibold leading-none tracking-tight",e),...t}));GD.displayName="CardTitle";const ZD=De.forwardRef(({className:e,...t},s)=>n.jsx("div",{ref:s,className:fb("text-sm text-muted-foreground",e),...t}));ZD.displayName="CardDescription";const YD=De.forwardRef(({className:e,...t},s)=>n.jsx("div",{ref:s,className:fb("p-6 pt-0",e),...t}));YD.displayName="CardContent";De.forwardRef(({className:e,...t},s)=>n.jsx("div",{ref:s,className:fb("flex items-center p-6 pt-0",e),...t})).displayName="CardFooter";const KD=gv.common.captivePortal,JD=gv.icons.animatedSpinner,QD=gv.deployment.replace,XD=gv.deployment.timeGreyDeployed,eM=gv.deployment.goBack,tM=e=>{const t=new Date,n=Math.floor((t.getTime()-e.getTime())/1e3);if(n<60)return`${n} sec${1!==n?"s":""} ago`;const s=Math.floor(n/60);if(s<60)return`${s} min${1!==s?"s":""} ago`;const i=Math.floor(s/60);if(i<24)return`${i} hr${1!==i?"s":""} ago`;const a=Math.floor(i/24);if(a<30)return`${a} day${1!==a?"s":""} ago`;const r=Math.floor(a/30);if(r<12)return`${r} month${1!==r?"s":""} ago`;const o=Math.floor(r/12);return`${o} year${1!==o?"s":""} ago`};function nM({status:e,deployment:t,deployUrl:n}){if("running"===e)return"";const s=null==t?void 0:t.custom_domain;return s&&""!==s&&""!==s.trim()?s.includes("http")?s:`https://${s}`:n||""}function sM({deployment:e,index:t,hoveredCard:s,onHoverStart:i,onHoverEnd:a,onClick:r,fromRedeployModal:o=!1,onReplaceClick:l,allowHover:c=!0}){const d=e.deployStatus,u=(e=>"running"===e?{bgColor:"#1588FC20",color:"#33DDFF",text:"Deploying",animate:!0}:"success"===e?{bgColor:"#2EE57220",color:"#2EE572",text:"Live",animate:!0}:"failed"===e?{bgColor:"#ffffff10",color:"#ED5B5B",text:"Failed",animate:!1}:{bgColor:"#73778020",color:"#737780",text:"Unknown",animate:!1})(d),p=e.deployUrl,m=e.id.substring(0,6),h=new Date(e.latest_run.updated_at),x=null!=h?`Deployed ${tM(h)}`:"Unknown";return n.jsx(Pt.div,{initial:{opacity:0,y:20,scale:.95},animate:{opacity:1,y:0,scale:1},whileHover:c?{y:-4,boxShadow:"0px 10px 25px rgba(0, 0, 0, 0.2)",transition:{type:"tween",ease:"easeInOut",duration:.3}}:{},transition:{type:"tween",ease:"easeInOut",duration:.2,delay:.1*t},onHoverStart:()=>i(e.id),onHoverEnd:a,onClick:()=>r(e),children:n.jsxs("div",{className:fb("rounded-[16px] overflow-clip bg-[#2626291A] border h-full flex flex-col justify-between cursor-pointer transition-all duration-200",s===e.id?"border-[#FFFFFF20] shadow-lg":"border-[#FFFFFF0F]",o?"bg-[#161617]":"cursor-pointer "),children:[n.jsxs("div",{className:"px-4 py-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:fb("text-[12px] md:text-[14px] font-['Inter'] font-medium transition-colors duration-200",s===e.id?"text-[#ffffff80]":"text-[#ffffff50]"),children:["# EMT-",m]}),n.jsxs("div",{className:fb("flex items-center gap-[6px] px-[10px] py-[6px] rounded-[8px] transition-all duration-200"),style:{backgroundColor:s===e.id?u.bgColor.replace("20","30"):u.bgColor},children:["running"!=d&&n.jsx(tT,{color:"failed"!=d?u.color:"#ffffff60",size:16,innerSize:8,animate:u.animate}),"running"===d&&n.jsx("img",{src:JD,alt:"Loading...",className:"w-6 h-6"}),n.jsx("span",{className:fb("text-[15px] font-medium transition-colors duration-200"),style:{color:"failed"!=d?u.color:"#ffffff60",opacity:s===e.id?1:.9},children:u.text})]})]}),n.jsx("div",{className:fb("mt-5 text-[20px]  md:text-[24px] font-medium font-brockmann transition-colors duration-200 capitalize line-clamp-1",s===e.id?"text-white/95":"text-white/80"),children:e.title}),n.jsx("div",{className:fb("mt-2 text-[14px] md:text-[16px]  font-['Inter'] font-medium transition-colors duration-200 truncate line-clamp-2",s===e.id?"text-white/40":"text-white/20"),children:e.description}),n.jsxs("div",{className:"flex gap-4",children:["failed"!=d&&n.jsxs("a",{href:nM({status:d,deployment:e,deployUrl:p}),target:"_blank",rel:"noopener noreferrer",className:fb("flex mt-5 w-full items-center justify-center gap-2 px-4 py-2 md:min-h-[44px] rounded-[10px] transition-all duration-200",s===e.id&&"running"!==d?"bg-[#FFFFFF15]":"bg-[#FFFFFF0F]",s===e.id&&"running"!==d?"hover:bg-[#ffffff20]":"hover:bg-[#3A3A3C]","running"===d&&"opacity-30 cursor-not-allowed hover:bg-[#FFFFFF0F]"),onClick:e=>e.stopPropagation(),children:[n.jsx("span",{className:fb("transition-colors duration-200",s===e.id?"text-white/90":"text-white/70"),children:"Visit"}),n.jsx("img",{src:KD,alt:"Visit",className:"w-4 h-4"})]}),o&&n.jsxs("div",{className:fb("flex mt-5 w-full items-center justify-center gap-2 px-4 py-2 rounded-[10px] md:min-h-[44px] cursor-pointer transition-all duration-200 bg-[#80FFF914] hover:bg-[#80FFF920]","running"===e.deployStatus?"opacity-30 cursor-not-allowed":"opacity-100 cursor-pointer"),onClick:t=>{t.stopPropagation(),l&&"running"!==e.deployStatus&&l(e)},children:[n.jsx("span",{className:fb("transition-colors duration-200",(e.id,"text-[#80FFF9]")),children:"Replace"}),n.jsx("img",{src:QD,alt:"Visit",className:"w-6 h-6"})]})]})]}),"failed"!=d&&n.jsxs("div",{className:fb("flex items-center px-4 justify-between py-3 bg-[#FFFFFF05] min-h-[44px] text-[14px] transition-colors duration-200",s===e.id?"text-[#FFFFFF80]":"text-[#FFFFFF33]"),children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("img",{src:XD,alt:"Deploy Time",className:fb("w-5 h-5 opacity-20 ",s===e.id?"opacity-30":"opacity-20")}),n.jsx("span",{className:"text-[12px] md:text-[14px]",children:x})]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("span",{className:fb("text-[12px] md:text-[14px]",s===e.id?"text-[#FFFFFF80] block":" hidden"),children:"View Task"}),n.jsx("img",{src:eM,alt:"Visit",className:"w-4 h-4 rotate-180"})]})]})]})},e.id)}const iM=gv.common.copperCoin,aM=gv.common.webImage;function rM({handleJobClick:e,organizationId:t}){const[s,i]=De.useState(null),[a,r]=De.useState([]),[o,l]=De.useState(!0),[c]=Hx(),d=De.useCallback(async()=>{try{l(!0);const e=await em(t);if("error"in e)r([]);else{const t=e.map(e=>({id:e.job_id,app_name:e.app_name||"Unnamed App",deployStatus:e.status,deployUrl:e.deployed_url||"",custom_domain:e.custom_domain||"",latest_run:{status:e.status,updated_at:e.deployed_at||null},description:e.task||"No task available",deployment_id:e.deployment_id,title:e.title||"Untitled"})).sort((e,t)=>{const n=new Date(e.latest_run.updated_at).getTime();return new Date(t.latest_run.updated_at).getTime()-n});r(t)}}catch(e){r([])}finally{l(!1)}},[t]);De.useEffect(()=>{d()},[d]);const u=async t=>{try{const n=await c(t.id);if("error"in n)return;const s=n.data;s&&e(s)}catch(n){}},p=Array(6-Math.min(a.length,6)).fill(null);return o?n.jsx("div",{className:"flex flex-col mt-2 mb-8 space-y-5 min-h-[546px] bg-[#0F0F10] md:border-[#252629] md:border p-8 rounded-[16px]",children:n.jsx("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-3",children:Array(6).fill(null).map((e,t)=>n.jsxs(WD,{className:"bg-[#111112] border-[#FFFFFF0F] h-[300px] animate-pulse",children:[n.jsx(qD,{className:"p-5",children:n.jsx("div",{className:"h-4 w-24 bg-[#FFFFFF14] rounded"})}),n.jsxs(YD,{className:"p-5 pt-0",children:[n.jsx("div",{className:"h-4 w-full bg-[#FFFFFF14] rounded mb-4"}),n.jsx("div",{className:"h-4 w-3/4 bg-[#FFFFFF14] rounded"})]})]},`loading-${t}`))})}):n.jsx("div",{className:"flex flex-col relative mt-2 mb-8 space-y-5 max-h-[650px] overflow-y-scroll min-h-[546px] bg-[#0F0F10] md:border-[#252629] md:border md:p-6 overflow-clip rounded-[16px]",children:0===a.length?n.jsxs("div",{className:"md:flex flex-col space-y-5 md:border-[#252629] md:border rounded-[16px]",children:[n.jsx("div",{className:"hidden grid-cols-1 gap-6 md:grid md:grid-cols-3",children:Array(6).fill(null).map((e,t)=>n.jsxs(WD,{className:"bg-[#111112] border-[#FFFFFF0F] hidden md:h-[300px]",children:[n.jsx(qD,{className:"p-5",children:n.jsx("div",{className:"h-4 w-24 bg-[#FFFFFF14] rounded"})}),n.jsxs(YD,{className:"p-5 pt-0",children:[n.jsx("div",{className:"h-4 w-full bg-[#FFFFFF14] rounded mb-4"}),n.jsx("div",{className:"h-4 w-3/4 bg-[#FFFFFF14] rounded"})]})]},`empty-grid-${t}`))}),n.jsxs("div",{className:"absolute  rounded-[16px] backdrop-blur-[2px] left-0 right-0 bottom-0 top-0 h-full md:border md:border-[#242424]/60 flex flex-col items-center justify-center text-center",children:[n.jsx("div",{className:"mb-4",children:n.jsx("img",{src:aM,alt:"Globe",className:"w-[56px] h-[56px] mx-auto"})}),n.jsx("h3",{className:"mb-2 text-[24px] font-medium text-white/80",children:"0 apps deployed"}),n.jsx("p",{className:"max-w-md text-white/30 font-medium text-[16px]",children:"Deploy your application to a production-ready environment.This will make it publicly accessible with managed infrastructure"}),n.jsxs("div",{className:"mt-7 bg-[#242119] rounded-[12px] p-[14px] flex items-center gap-2",children:[n.jsx("img",{src:iM,alt:"Credits",className:"w-5 h-5"}),n.jsxs("span",{className:"text-[#F3CA5F] text-[15px] font-medium font-['Inter']",children:[n.jsx("span",{className:"text-[#E6D9B8]",children:"Deployment costs"})," 50 credits/month"]})]})]})]}):n.jsxs("div",{className:"grid h-full grid-cols-1 gap-6 md:grid-cols-3",children:[a.map((e,t)=>n.jsx(sM,{deployment:e,index:t,hoveredCard:s,onHoverStart:i,onHoverEnd:()=>i(null),onClick:u},e.id)),p.map((e,t)=>n.jsx(WD,{className:"bg-[#101011] hidden md:block border-[#282829] h-[290px] md:border-dotted"},`empty-${t}`))]})})}const oM=({className:e="",width:t=16,height:s=16,color:i="#80FFF9",opacity:a=1,backgroundColor:r,onClick:o})=>n.jsxs("svg",{width:t,height:s,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,style:{opacity:a},onClick:o,role:o?"button":void 0,tabIndex:o?0:void 0,children:[r&&n.jsx("rect",{width:"16",height:"16",fill:r}),n.jsx("path",{d:"M7 16V8.4L2 3.4V6H0V0H6V2H3.4L9 7.6V16H7ZM10.85 6.6L9.4 5.15L12.6 2H10V0H16V6H14V3.4L10.85 6.6Z",fill:i})]}),lM=({width:e=16,height:t=16,className:s,fill:i="white",fillOpacity:a=.6})=>n.jsx("svg",{width:e,height:t,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:s,children:n.jsx("path",{d:"M2.3999 13.5999V9.77324L9.27546 2.92879C9.46212 2.74212 9.66953 2.60731 9.89768 2.52435C10.1258 2.44138 10.354 2.3999 10.5821 2.3999C10.831 2.3999 11.0695 2.44657 11.2977 2.5399C11.5258 2.63324 11.7332 2.77324 11.9199 2.9599L13.071 4.11101C13.2369 4.29768 13.3666 4.50509 13.4599 4.73324C13.5532 4.96138 13.5999 5.18953 13.5999 5.41768C13.5999 5.64583 13.5584 5.87916 13.4755 6.11768C13.3925 6.3562 13.2577 6.56879 13.071 6.75546L6.22657 13.5999H2.3999ZM4.26657 11.7332H5.44879L9.21324 7.93768L8.65324 7.34657L8.06212 6.78657L4.26657 10.551V11.7332ZM8.65324 7.34657L8.06212 6.78657L9.21324 7.93768L8.65324 7.34657Z",fill:i,fillOpacity:a})}),cM=({width:e=16,height:t=16,className:s,fill:i="#CCCCCC"})=>n.jsx("svg",{width:e,height:t,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:s,children:n.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.19913 3.2C7.06585 3.1998 6.9363 3.24398 6.83092 3.32557C6.72553 3.40716 6.65031 3.52152 6.61713 3.6506L6.44193 4.3346H9.69453L9.51873 3.6506C9.48557 3.52162 9.41044 3.40734 9.30518 3.32576C9.19991 3.24418 9.0705 3.19993 8.93733 3.2H7.19913ZM10.9335 4.3352L10.6809 3.3518C10.5815 2.96496 10.3562 2.62219 10.0405 2.37745C9.72485 2.13272 9.33675 1.99993 8.93733 2H7.19913C6.79971 1.99993 6.41161 2.13272 6.09595 2.37745C5.78028 2.62219 5.55498 2.96496 5.45553 3.3518L5.20293 4.3352H3.26553C3.1064 4.3352 2.95379 4.39841 2.84126 4.51094C2.72874 4.62346 2.66553 4.77607 2.66553 4.9352C2.66553 5.09433 2.72874 5.24694 2.84126 5.35946C2.95379 5.47199 3.1064 5.5352 3.26553 5.5352H3.32553L4.05453 12.3902C4.10151 12.8324 4.31049 13.2415 4.64118 13.5387C4.97188 13.8359 5.40088 14.0003 5.84553 14H10.2855C10.7301 14.0001 11.1589 13.8357 11.4895 13.5385C11.8201 13.2413 12.029 12.8323 12.0759 12.3902L12.8043 5.5352H12.8655C13.0247 5.5352 13.1773 5.47199 13.2898 5.35946C13.4023 5.24694 13.4655 5.09433 13.4655 4.9352C13.4655 4.77607 13.4023 4.62346 13.2898 4.51094C13.1773 4.39841 13.0247 4.3352 12.8655 4.3352H10.9335ZM11.5983 5.5352H4.53273L5.24793 12.2636C5.26365 12.4111 5.33341 12.5475 5.44376 12.6465C5.55412 12.7456 5.69724 12.8002 5.84553 12.8H10.2855C10.4337 12.8001 10.5767 12.7453 10.6869 12.6463C10.7971 12.5473 10.8668 12.4109 10.8825 12.2636L11.5977 5.5352H11.5983ZM6.86553 6.8C7.02466 6.8 7.17727 6.86321 7.28979 6.97574C7.40231 7.08826 7.46553 7.24087 7.46553 7.4V10.4C7.46553 10.5591 7.40231 10.7117 7.28979 10.8243C7.17727 10.9368 7.02466 11 6.86553 11C6.7064 11 6.55379 10.9368 6.44126 10.8243C6.32874 10.7117 6.26553 10.5591 6.26553 10.4V7.4C6.26553 7.24087 6.32874 7.08826 6.44126 6.97574C6.55379 6.86321 6.7064 6.8 6.86553 6.8ZM9.26553 6.8C9.42466 6.8 9.57727 6.86321 9.68979 6.97574C9.80231 7.08826 9.86553 7.24087 9.86553 7.4V10.4C9.86553 10.5591 9.80231 10.7117 9.68979 10.8243C9.57727 10.9368 9.42466 11 9.26553 11C9.1064 11 8.95379 10.9368 8.84126 10.8243C8.72874 10.7117 8.66553 10.5591 8.66553 10.4V7.4C8.66553 7.24087 8.72874 7.08826 8.84126 6.97574C8.95379 6.86321 9.1064 6.8 9.26553 6.8Z",fill:i})}),dM=({isOpen:e,onClose:t,onAction:s,position:i})=>{const a=De.useRef(null);if(De.useEffect(()=>{const n=e=>{a.current&&!a.current.contains(e.target)&&t()};if(e)return document.addEventListener("mousedown",n),()=>document.removeEventListener("mousedown",n)},[e,t]),!e)return null;const r=[{id:"rename",label:"Rename",icon:n.jsx(lM,{width:20,height:20})},{id:"delete",label:"Delete",icon:n.jsx(cM,{width:20,height:20})}];return n.jsx("div",{className:"fixed inset-0 z-[999]",style:{backgroundColor:"transparent"},children:n.jsx("div",{ref:a,className:"shadow-lg p-1.5 flex flex-col top-10 -left-[120px] rounded-xl border bg-[#18181A] border-[#242424] absolute",style:{top:i.top,left:i.left,transform:"translateX(-50%)"},children:r.map(e=>n.jsxs("button",{onClick:()=>{s(e.id),t()},className:"text-left hover:bg-[#2C2C2E] transition-colors flex items-center gap-3 text-sm text-[#FFFFFF] justify-between w-[148px] h-9 rounded-lg py-2 px-1.5",children:[n.jsx("span",{className:"flex-shrink-0",children:e.icon}),n.jsx("span",{className:"flex-1 font-medium",children:e.label}),e.hasExternalIcon&&e.externalIcon]},e.id))})})},uM=({isOpen:e,onClose:t,onSave:s,currentName:i})=>{const[a,r]=De.useState(i),o=De.useRef(null);De.useEffect(()=>{e&&(r(i),setTimeout(()=>{o.current&&o.current.focus()},100))},[e,i]),De.useEffect(()=>{const n=e=>{"Escape"===e.key&&t()},s=e=>{"Enter"===e.key&&a.trim()&&l()};if(e)return document.addEventListener("keydown",n),document.addEventListener("keydown",s),()=>{document.removeEventListener("keydown",n),document.removeEventListener("keydown",s)}},[e,a,t]);const l=()=>{a.trim()&&a!==i&&s(a.trim()),t()},c=()=>{r(i),t()};return e?n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[999] p-4",onClick:e=>{e.target===e.currentTarget&&c()},children:n.jsxs("div",{className:"flex flex-col w-full md:w-[644px] top-[336px] left-[434px] rounded-[20px] p-6 bg-[#262628]",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h2",{className:"text-white font-semibold font-['Brockmann'] font-medium text-[23px] leading-[32px] tracking-[0%]",children:"Rename task"}),n.jsx("button",{onClick:c,className:"rounded-lg transition-colors",children:n.jsx(MT,{})})]}),n.jsx("div",{className:"mb-6",children:n.jsx("input",{ref:o,type:"text",value:a,onChange:e=>r(e.target.value),className:"font-inter flex w-full md:w-[596px] h-14 rounded-xl border border-[#313133] p-4 gap-4 bg-[#313133] border-white/20",placeholder:"Enter task name",maxLength:100})}),n.jsxs("div",{className:"flex gap-3 justify-end",children:[n.jsx("button",{onClick:c,className:"flex w-[100px] h-12 rounded-[28px] px-5 gap-2 bg-[#323233] cursor-pointer hover:bg-[#323233] transition-colors duration-300 ease-out px-6 py-3",children:n.jsx("span",{className:"font-['Brockmann'] font-medium text-base leading-6 tracking-[0px] text-[#DCDCE5]",children:"Cancel"})}),n.jsx("button",{onClick:l,className:"flex w-[100px] h-12 rounded-[28px] px-8 gap-2 bg-white text-black cursor-pointer hover:bg-gray-100 transition-colors duration-300 ease-out px-6 py-3",children:n.jsx("span",{className:"font-['Brockmann'] font-semibold text-base leading-6 tracking-[-0.2px] text-[#0E0E0F]",children:"Save"})})]})]})}):null},pM=e=>{switch(e){case"gold":return"text-[#F3CA5F] drop-shadow-[0_0_20px_rgba(243,202,95,0.4)] [text-shadow:0px_0.73px_0.73px_rgba(0,0,0,0.1)]";case"red":return"text-[#CC5252]";case"warning":return"text-[#F59E0B]";default:return"text-white"}},mM=(e,t=!0)=>{const n="rounded-[10px] px-5 py-2.5 gap-1.5 text-[15px] font-medium leading-5 tracking-[-0.2px] font-['Brockmann'] transition-all duration-200";return"danger"===e?`${n} bg-[#CC5252] hover:bg-[#B73E3E] text-white ${t?"font-semibold":"font-medium"}`:"warning"===e?`${n} bg-[#F59E0B] hover:bg-[#D97706] text-white ${t?"font-semibold":"font-medium"}`:"secondary"===e?`${n} bg-white/[0.04] hover:bg-white/[0.08] text-white`:`${n} bg-[#F3CA5F] hover:bg-[#E7A93C] text-black ${t?"font-semibold":"font-medium"}`},hM=e=>{switch(e){case"sm":return"w-full max-w-[400px] sm:w-[80%] md:w-[35%]";case"lg":return"w-full max-w-[800px] sm:w-[90%] md:w-[60%]";default:return"w-full max-w-[600px] sm:w-[85%] md:w-[45%]"}};function xM({isOpen:e,onClose:t,onConfirm:s,onCancel:i,title:a,description:r,headerContent:o,bodyContent:l,footerContent:c,primaryButton:d,secondaryButton:u,titleColor:p="white",showCloseIcon:m=!0,allowBackdropClose:h=!0,className:x,containerClassName:f,size:g="md",children:v}){if(!e)return null;return Re.createPortal(n.jsx("div",{className:`fixed inset-0 z-[9999] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 ${f||""}`,onClick:e=>{h&&e.target===e.currentTarget&&t()},children:n.jsx("div",{className:`bg-[#1C1C1F] rounded-[20px] ${hM(g)} relative max-h-[90vh] overflow-y-auto ${x||""}`,children:n.jsxs("div",{className:"flex flex-col p-5 md:p-6",children:[o?n.jsx("div",{className:"mb-5 md:mb-4",children:o}):n.jsxs("div",{className:"flex justify-between items-start mb-5 md:mb-4",children:[n.jsx("h1",{className:`text-xl md:text-2xl font-['Brockmann'] font-medium leading-6 md:leading-8 ${pM(p)} flex-1 mr-4`,children:a}),m&&n.jsx("button",{onClick:t,className:"flex-shrink-0 text-gray-400 hover:text-white transition-colors",children:n.jsx(MT,{width:24,height:24,className:"rounded-full md:w-8 md:h-8"})})]}),l?n.jsx("div",{className:"mb-[50px] md:mb-14",children:l}):v?n.jsx("div",{className:"mb-[50px] md:mb-14",children:v}):r?n.jsx("div",{className:"mb-[50px] md:mb-14",children:n.jsx("p",{className:"text-sm md:text-base font-['Inter'] font-medium leading-5 md:leading-6 text-white opacity-60 break-words",children:r})}):null,c?n.jsx("div",{className:"mt-auto",children:c}):d||u?n.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:justify-end mt-auto",children:[u&&n.jsx("button",{onClick:()=>{(null==i?void 0:i())||t()},disabled:u.disabled||u.loading,className:`${mM(u.variant||"secondary",!1)} ${u.disabled?"opacity-50 cursor-not-allowed":""} w-full sm:w-auto bg-transparent border border-white/20 hover:bg-white/10 transition-colors`,children:u.loading?"Loading...":u.text}),d&&n.jsx("button",{onClick:s,disabled:d.disabled||d.loading,className:`${mM(d.variant||"primary",!0)} ${d.disabled?"opacity-50 cursor-not-allowed":""} w-full sm:w-auto bg-[#CC5252] hover:bg-[#CC5252]-600 transition-colors gap-1.5`,children:d.loading?"Loading...":d.text})]}):null]})})}),document.body)}const fM=({size:e=16,color:t="white",opacity:s=1,className:i="",onClick:a,...r})=>{const o=e/4;return n.jsx("svg",{width:e,height:o,viewBox:"0 0 16 4",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:i,onClick:a,style:{cursor:"pointer"},...r,children:n.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.55556 2.00043C3.55556 2.47193 3.36825 2.92411 3.03486 3.25751C2.70146 3.59091 2.24927 3.77821 1.77778 3.77821C1.30628 3.77821 0.854097 3.59091 0.520699 3.25751C0.187301 2.92411 0 2.47193 0 2.00043C0 1.52894 0.187301 1.07675 0.520699 0.743356C0.854097 0.409958 1.30628 0.222656 1.77778 0.222656C2.24927 0.222656 2.70146 0.409958 3.03486 0.743356C3.36825 1.07675 3.55556 1.52894 3.55556 2.00043ZM8 0.222656C8.4715 0.222656 8.92368 0.409958 9.25708 0.743356C9.59048 1.07675 9.77778 1.52894 9.77778 2.00043C9.77778 2.47193 9.59048 2.92411 9.25708 3.25751C8.92368 3.59091 8.4715 3.77821 8 3.77821C7.5285 3.77821 7.07632 3.59091 6.74292 3.25751C6.40952 2.92411 6.22222 2.47193 6.22222 2.00043C6.22222 1.52894 6.40952 1.07675 6.74292 0.743356C7.07632 0.409958 7.5285 0.222656 8 0.222656ZM14.2222 0.222656C14.6937 0.222656 15.1459 0.409958 15.4793 0.743356C15.8127 1.07675 16 1.52894 16 2.00043C16 2.47193 15.8127 2.92411 15.4793 3.25751C15.1459 3.59091 14.6937 3.77821 14.2222 3.77821C13.7507 3.77821 13.2985 3.59091 12.9651 3.25751C12.6317 2.92411 12.4444 2.47193 12.4444 2.00043C12.4444 1.52894 12.6317 1.07675 12.9651 0.743356C13.2985 0.409958 13.7507 0.222656 14.2222 0.222656Z",fill:t,fillOpacity:s})})},gM=gv.common.globeWhite,vM=gv.common.globeActive,bM=gv.icons.task,yM=(e,t=100)=>e.length>t?e.slice(0,t)+"...":e,wM=e=>{if("ENV_INITIATED"!==(null==e?void 0:e.state))return!1;if(!(null==e?void 0:e.created_at))return!1;const t=new Date(e.created_at).getTime();return(Date.now()-t)/6e4<10};function jM({jobs:e,handleJobClick:t,handleReload:s,reloading:i,setIsJobIdDialogOpen:a,loading:r=!1,refetchJobs:o}){const l=eI(),{currentWorkspace:c,isPersonalWorkspace:d}=Kg(),[u]=gf(),{newToast:p}=tD(),{setTabs:m,getTabByJobId:h}=Oee(),{user:x}=Wg(),[f,g]=De.useState("recent"),v=De.useMemo(()=>"object"==typeof c?null==c?void 0:c.id:c,[c]),b=De.useMemo(()=>{if(!(null==e?void 0:e.length))return[];const t=d();return e.filter(e=>{var n;const s=e.organization_id||(null==(n=e.payload)?void 0:n.organization_id);return t?!s:s===v})},[e,v,d]),y=e=>{if(!!e.payload.forked_from){const t=b.find(t=>t.id===e.payload.forked_from),s=t?t.payload.original_task||t.payload.task:e.payload.forked_from,i=b.filter(t=>t.payload.forked_from===e.payload.forked_from).sort((e,t)=>new Date(e.created_at).getTime()-new Date(t.created_at).getTime()).findIndex(t=>t.id===e.id)+1;return n.jsxs(VD,{className:"text-[#FFFFFFCC] text-[13px] px-6 w-[45%]",children:[n.jsx("div",{className:"text-sm font-medium leading-6 tracking-normal text-white font-inter text-opacity-80 line-clamp-1",children:e.title?e.title:n.jsx("span",{className:"opacity-60",children:"Untitled"})}),n.jsxs("span",{className:"text-[#80FFF9] text-[14px] font-medium font-inter",children:["Fork"," ",n.jsx("span",{className:"font-inter font-medium px-[6px] leading-[20px] rounded-[5px] bg-[#80FFF915]",children:i})," ","from"," "]}),"- ",n.jsx("span",{className:"font-inter text-opacity-50 text-[13px] lineheight-5 font-medium text-white",children:yM(s)})]})}return n.jsxs(VD,{className:"text-[#FFFFFFCC] text-[13px] px-6 w-[45%]",children:[n.jsx("div",{className:"text-sm font-medium leading-6 tracking-normal text-white font-inter text-opacity-80 line-clamp-1",children:e.title?e.title:n.jsx("span",{className:"opacity-60",children:"Untitled"})}),n.jsx("span",{className:"font-inter font-medium text-[13px] lineheight-5 tracking-normal text-white align-middle text-opacity-50 line-clamp-2",children:yM(JSON.stringify(e.payload.task).replace(/"/g,""))||""})]})},[w,j]=De.useState({currentPage:1,tasksPerPage:50,menuState:{isOpen:!1,jobId:null,position:{top:0,left:0}},renameModalState:{isOpen:!1,jobId:null,currentName:""},deleteModalState:{isOpen:!1,jobId:null,jobName:""}}),C=b.length,N=Math.ceil(C/w.tasksPerPage)||1,F=(w.currentPage-1)*w.tasksPerPage+1,_=Math.min(w.currentPage*w.tasksPerPage,C),k=e=>{e>=1&&e<=N&&j(t=>({...t,currentPage:e}))},S=()=>{j(e=>({...e,deleteModalState:{isOpen:!1,jobId:null,jobName:""}}))},[E]=vf(),I=De.useMemo(()=>(()=>{const e=[];if(N<=5){for(let t=1;t<=N;t++)e.push(t);return e}let t,n;w.currentPage<=3?(t=1,n=5):w.currentPage>=N-2?(t=N-5+1,n=N):(t=w.currentPage-2,n=w.currentPage+2);for(let s=t;s<=n;s++)e.push(s);return e})(),[w.currentPage,N]),A=De.useMemo(()=>{const e=(w.currentPage-1)*w.tasksPerPage,t=w.currentPage*w.tasksPerPage;return b.slice(e,t)},[b,w.currentPage,w.tasksPerPage]),T=e=>{const t=e.updated_at||e.created_at,n=Date.now()-new Date(t).getTime(),s=Math.floor(n/6e4);if(s<60)return s<1?"Few seconds ago":`${s} min ago`;const i=Math.floor(s/60);if(i<24)return`${i<0?0:i} hrs ago`;const a=Math.floor(i/24);return`${a} day${a>1?"s":""} ago`},D=()=>n.jsxs($D,{className:"w-full hover:bg-transparent",children:[n.jsx(VD,{className:"rounded-l-lg w-[15%]",children:n.jsx("div",{className:"h-4 w-16 bg-[#252629] rounded animate-pulse"})}),n.jsx(VD,{className:"w-[45%]",children:n.jsx("div",{className:"h-4 w-full bg-[#252629] rounded animate-pulse "})}),n.jsx(VD,{className:"rounded-r-lg w-[20%]",children:n.jsx("div",{className:"h-4 bg-[#252629] rounded animate-pulse"})})]});return n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex-col hidden px-4 space-y-5 md:flex",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[n.jsxs("div",{onClick:()=>g("recent"),className:"flex items-center space-x-1 cursor-pointer",children:[n.jsx("img",{alt:"Recent tasks",src:bM,className:fb("h-5 md:h-6 w-fit opacity-30","recent"===f&&"opacity-100")}),n.jsx("h2",{className:fb("text-[12px] md:text-lg text-white/30","recent"===f&&"text-white"),children:"Recent Tasks"})]}),n.jsx("div",{className:"w-[2px] h-[18px] bg-white/20"}),n.jsxs("div",{onClick:()=>g("deployed"),className:"flex items-center space-x-1 cursor-pointer",children:[n.jsx("img",{alt:"Recent tasks",src:"deployed"===f?vM:gM,className:fb("h-5 md:h-6  opacity-50 w-5 md:w-6","deployed"===f&&"opacity-100")}),n.jsx("h2",{className:fb("text-[12px] md:text-lg text-[#898E98]","deployed"===f&&"bg-gradient-to-r from-[#80fff9] to-[#1588fc] text-transparent bg-clip-text"),children:"Deployed Apps"})]})]}),n.jsxs("div",{className:"flex gap-2",children:[l&&n.jsx(wb,{variant:"ghost",size:"icon",className:"w-8 h-8 text-muted-foreground hover:bg-transparent",onClick:()=>a(!0),children:n.jsx(wS,{className:"w-4 h-4"})}),"recent"===f&&n.jsx(wb,{variant:"ghost",size:"icon",className:"w-8 h-8 text-muted-foreground hover:bg-transparent",onClick:s,disabled:i||r,children:n.jsx(FS,{className:"h-4 w-4 "+(i?"animate-spin":"")})})]})]}),"recent"===f&&n.jsxs("div",{className:"relative rounded-2xl border border-[#252629] bg-[rgba(15,15,16,0.01)] backdrop-blur-[2.5px] overflow-clip",children:[n.jsx("div",{className:"sticky top-0 z-10 mb-4",children:n.jsx("table",{className:"w-full border-separate border-spacing-0",children:n.jsx("thead",{children:n.jsxs("tr",{className:"bg-[#18181A]",children:[n.jsx("th",{className:"text-white/40 font-[Inter] font-normal px-6 py-3 rounded-tl-lg text-[12px] tracking-[1px] w-[15%] text-left",children:"ID"}),n.jsx("th",{className:"text-white/40 font-[Inter] font-normal px-6 py-3 text-[12px] tracking-[1px] w-[45%] text-left",children:"TASK"}),n.jsx("th",{className:"text-white/40 font-[Inter] font-normal px-6 py-3 text-[12px] tracking-[1px] w-[20%] text-left",children:"LAST MODIFIED"}),n.jsx("th",{className:"text-white/40 font-[Inter] font-normal px-6 py-3 text-[12px] tracking-[1px] w-[5%] text-left"})]})})})}),n.jsx("div",{className:"min-h-[500px] max-h-[500px] overflow-y-auto relative text-[12px]",children:n.jsxs(zD,{className:"relative w-full border-separate border-spacing-0",children:[n.jsx(BD,{className:"hidden",children:n.jsxs($D,{className:"bg-[#18181A] hover:bg-[#18181A]",children:[n.jsx(UD,{className:"text-[#8F8F98] font-normal px-6 rounded-tl-lg text-sm font-berkeley w-[15%]",children:"ID"}),n.jsx(UD,{className:"text-[#8F8F98] font-normal px-6 text-sm font-berkeley w-[45%]",children:"Task"})]})}),n.jsx(HD,{className:"w-full",children:r?Array(5).fill(0).map((e,t)=>n.jsx(D,{},`shimmer-${t}`)):0==b.length?n.jsx($D,{className:"hover:bg-transparent",children:n.jsx(VD,{colSpan:3,className:"py-8 text-center hover:bg-transparent",children:n.jsxs("div",{className:"flex flex-col items-center gap-4",children:[n.jsx("div",{className:"text-[#8F8F98] text-sm",children:"No tasks yet"}),n.jsx("div",{className:"text-[#92929A] text-xs max-w-lg",children:"Click the plus button at the top to create your first task and start building"})]})})}):A.map(e=>n.jsxs($D,{className:"hover:bg-[#1C1C1E] transition-colors cursor-pointer max-h-[68px]",onClick:()=>t(e),children:[n.jsx(VD,{className:"text-[#92929A] text-[12px] md:text-[14px] px-6 py-4 w-[15%] font-inter align-top leading-6",children:`EMT - ${e.id.slice(0,6)}`}),y(e),n.jsx(VD,{className:"text-[#C2C2CC] text-[12px] md:text-[14px] pl-8 pr-6 py-4 w-[20%] font-inter opacity-50 align-top leading-6",children:T(e)}),n.jsx(VD,{className:"pl-2 pr-0 py-4 w-[5%] text-right align-top",children:n.jsx("div",{className:"flex items-center justify-end gap-2 mr-6",children:n.jsx("button",{title:"Options",className:"pb-1.5 rounded transition-colors inline-flex items-center justify-center "+(wM(e)?"opacity-50 cursor-not-allowed":""),onClick:t=>{t.stopPropagation(),wM(e)||((e,t)=>{e.stopPropagation();const n=e.currentTarget.getBoundingClientRect();j(e=>({...e,menuState:{isOpen:!0,jobId:t,position:{top:n.bottom+2,left:n.right-80}}}))})(t,e.id)},disabled:wM(e),children:n.jsx(fM,{className:"p-1.5 bg-[#FFFFFF0A] flex w-8 h-8 rounded-md p-1.5 gap-[11.43px] bg-white/[0.15] "+(wM(e)?"opacity-40":"opacity-40 hover:opacity-80"),size:32})})})})]},e.id))})]})}),n.jsxs("div",{className:"flex items-center justify-between px-6 py-3 bg-[#18181a] text-[#8f8f98]",children:[n.jsxs("p",{className:"text-[14px] font-[Inter] font-medium leading-4 text-white/40 w-[200px]",children:["Showing ",F,"-",_," out of ",C]}),n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx("button",{title:"Left",onClick:()=>k(w.currentPage-1),disabled:1===w.currentPage,className:"flex items-center justify-center w-8 h-8 rounded-[8px] hover:bg-[#2d2d2d] disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:n.jsx(Wk,{className:"object-contain w-6 h-6"})}),I.map(e=>{return n.jsx("button",{onClick:()=>k(e),className:(t=e===w.currentPage,"flex items-center justify-center font-[Inter] text-[12px] hover:rounded-[8px] w-8 h-8 text-sm transition-colors "+(t?"bg-[#2d2d2d] text-white bg-[#FFF]/5 border border-white/[6%] rounded-[8px]":"hover:bg-[#2d2d2d] text-[#8f8f98]")),children:e},e);var t}),n.jsx("button",{title:"Right",onClick:()=>k(w.currentPage+1),disabled:w.currentPage===N,className:"flex items-center justify-center w-8 h-8 rounded-[8px] hover:bg-[#2d2d2d] disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:n.jsx(qk,{className:"object-contain w-6 h-6"})})]}),n.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[n.jsx("p",{className:"text-[14px] font-[Inter] font-medium leading-4 text-white/40",children:"Tasks per page :"}),n.jsxs("div",{className:"relative",children:[n.jsxs("select",{"aria-label":"Select",value:w.tasksPerPage,onChange:e=>{return t=Number(e.target.value),j(e=>({...e,tasksPerPage:t})),void j(e=>({...e,currentPage:1}));var t},className:"appearance-none bg-[#1A1A1A] font-[Inter] border px-3 py-1 pr-8 text-[#FFF] text-sm focus:outline-none focus:border-[#FFF] border-opacity-[12px] cursor-pointer rounded-[8px]",children:[n.jsx("option",{value:10,children:"10"}),n.jsx("option",{value:25,children:"25"}),n.jsx("option",{value:50,children:"50"})]}),n.jsx(Vk,{className:"absolute right-2 top-1/2 transform -translate-y-1/2 w-3 h-3 pointer-events-none text-[#8f8f98]"})]})]})]})]}),"deployed"===f&&n.jsx(rM,{handleJobClick:t,organizationId:d()?void 0:c})]}),n.jsx(dM,{isOpen:w.menuState.isOpen,onClose:()=>{j(e=>({...e,menuState:{isOpen:!1,jobId:null,position:{top:0,left:0}}}))},onAction:n=>{const s=e.find(e=>e.id===w.menuState.jobId);switch(n){case"rename":s&&j(e=>({...e,renameModalState:{isOpen:!0,jobId:s.id,currentName:s.title}}));break;case"preview":t(s);break;case"share":break;case"delete":const n=e.find(e=>e.id===w.menuState.jobId);n&&j(e=>({...e,deleteModalState:{isOpen:!0,jobId:n.id,jobName:n.title||"this task"},menuState:{...e.menuState,isOpen:!1}}))}},position:w.menuState.position}),n.jsx(uM,{isOpen:w.renameModalState.isOpen,onClose:()=>{j(e=>({...e,renameModalState:{isOpen:!1,jobId:null,currentName:""}}))},onSave:async e=>{if(w.renameModalState.jobId)try{await u({job_id:w.renameModalState.jobId,title:e}).unwrap(),await o(),fg(ZS,{jobId:w.renameModalState.jobId,newName:e});const t=h(w.renameModalState.jobId);m(n=>n.map(n=>n.id===(null==t?void 0:t.id)?{...n,tabHeading:e}:n)),p.success("Task Renamed Successfully")}catch(t){p.error("Task Renamed Failed")}},currentName:w.renameModalState.currentName}),w.deleteModalState.isOpen&&n.jsx(xM,{isOpen:w.deleteModalState.isOpen,onClose:S,onConfirm:async()=>{var e;if(w.deleteModalState.jobId)try{const e=await E({jobId:w.deleteModalState.jobId,deletedBy:(null==x?void 0:x.id)||""}).unwrap();if(null==e?void 0:e.success){p.success((null==e?void 0:e.message)||"Job deleted successfully");const t=h(w.deleteModalState.jobId);(null==t?void 0:t.id)&&m(e=>e.filter(e=>e.id!==t.id)),await o(),fg(YS,{jobId:w.deleteModalState.jobId,deletedBy:(null==x?void 0:x.id)||""})}else p.error((null==e?void 0:e.message)||"Unable to delete this job.")}catch(t){p.error((null==(e=null==t?void 0:t.data)?void 0:e.message)||(null==t?void 0:t.message)||"Failed to delete the job. Please try again.")}finally{S()}},title:"Delete this task?",bodyContent:(()=>{var t,s,i;const a=w.deleteModalState.jobId,r=!!a&&(null==e?void 0:e.some(e=>{var t;return(null==(t=null==e?void 0:e.payload)?void 0:t.forked_from)===a})),o=null==e?void 0:e.find(e=>e.id===a),l=null==(t=null==o?void 0:o.payload)?void 0:t.forked_from,c=l?null==e?void 0:e.find(e=>e.id===l):null,d=!(!l||!c);return n.jsxs(n.Fragment,{children:[n.jsxs("p",{className:"text-sm md:text-base font-['Inter'] font-medium leading-5 md:leading-6 break-words",children:[n.jsx("span",{className:"text-white opacity-60 font-['Inter']",children:"Are you sure you want to delete "}),n.jsxs("span",{className:"text-[#80FFF9] font-['Inter']",children:['"',w.deleteModalState.jobName,'"']}),n.jsx("span",{className:"text-white opacity-60 font-['Inter']",children:"? This action cannot be undone."})]}),r&&!d&&n.jsxs("div",{className:"flex flex-col w-full h-24 rounded-lg p-3 gap-1.5 bg-[#66F0FF1A] backdrop-blur-[50px] mt-6",children:[n.jsx(oM,{className:"p-1",width:24,height:24}),n.jsx("p",{className:"text-sm font-['Inter'] font-medium leading-5 text-[#80FFF9] break-words",children:"This task has been forked. Deleting it won't affect the forked versions, but you'll lose the original context."})]}),d&&n.jsxs("div",{className:"flex flex-col w-full h-24 rounded-lg p-3 gap-1.5 bg-[#66F0FF1A] backdrop-blur-[50px] mt-6",children:[n.jsx(oM,{className:"p-1",width:24,height:24}),n.jsxs("p",{className:"text-sm font-['Inter'] font-medium leading-5 text-[#80FFF9] break-words",children:["This is a forked task continuing from ",n.jsxs("span",{className:"text-white font-['Inter']",children:['"',c.title||(null==(s=c.payload)?void 0:s.original_task)||(null==(i=c.payload)?void 0:i.task),'"']}),". Deleting it won't affect the parent task."]})]})]})})(),primaryButton:{text:"Confirm",variant:"danger"},secondaryButton:{text:"Nevermind",variant:"secondary"}})]})}const CM=()=>crypto.randomUUID(),NM=()=>{const{user:e}=Wg(),{tier:t}=Xg(),[n,s]=De.useState(!1),[i,a]=De.useState(null),[r,o]=De.useState(null),[l,c]=De.useState(!1),[d,{isLoading:u}]=Lx(),p=De.useCallback(async()=>{var t;if(null==e?void 0:e.email)try{o(null);const e=await d({tag:"pro_mode"}).unwrap();if(e.exists&&"paid"===(null==(t=e.payment)?void 0:t.payment_status)){s(!0),a(null==e?void 0:e.payment);const t=new Date(e.payment.created_at);c(t<new Date("2025-07-30T18:30:00.000Z"))}else s(!1),a(null),localStorage.removeItem("pro_mode_status")}catch(n){o(n.message||"Failed to verify payment status"),s(!1),a(null)}else o("User email not available")},[null==e?void 0:e.email,d]);return De.useEffect(()=>{(null==e?void 0:e.email)&&p()},[null==e?void 0:e.email]),{isProModeUser:n,isLoading:u,error:r,paymentData:i,checkPaymentStatus:p,paidBefore30July:l}},FM=()=>{const[e,t]=De.useState(!1),[n,s]=De.useState(!1),[i,a]=De.useState(!1),{tier:r}=Xg(),{isProModeUser:o,paidBefore30July:l,checkPaymentStatus:c}=NM();De.useEffect(()=>{"pro_mode"===localStorage.getItem("showThankYou")&&(s(!0),t(!0),setTimeout(()=>{c()},3e3))},[c]),De.useEffect(()=>{o&&l&&!Ou()&&"pro_mode"!=r&&t(!0)},[o,l]);return{isModalOpen:e,setModalOpen:e=>{if(t(e),!e){s(!1),a(!1),o&&l&&!Ou()&&Lu("hasSeenProModalAutoOpen",!0);"pro_mode"===localStorage.getItem("showThankYou")&&(localStorage.removeItem("showThankYou"),localStorage.removeItem("utm_term"))}},shouldShowThankYou:n,isAlreadyBooked:o,openModalForBookedUser:()=>{a(!0),s(!1),t(!0)},isBookedUserFlow:i}},_M=De.forwardRef(({className:e,...t},s)=>n.jsx(Y,{ref:s,className:fb("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));_M.displayName=Y.displayName;const kM=De.forwardRef(({className:e,...t},s)=>n.jsx(K,{ref:s,className:fb("aspect-square h-full w-full",e),...t}));kM.displayName=K.displayName;const SM=De.forwardRef(({className:e,...t},s)=>n.jsx(J,{ref:s,className:fb("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));SM.displayName=J.displayName;const EM=({squareSize:e=4,gridGap:t=6,flickerChance:s=.3,color:i="rgb(0, 0, 0)",width:a,height:r,className:o,maxOpacity:l=.3})=>{const c=De.useRef(null),d=De.useRef(null),[u,p]=De.useState(!1),[m,h]=De.useState({width:0,height:0}),x=De.useMemo(()=>(e=>{if("undefined"==typeof window)return"rgba(0, 0, 0,";const t=document.createElement("canvas");t.width=t.height=1;const n=t.getContext("2d");if(!n)return"rgba(255, 0, 0,";n.fillStyle=e,n.fillRect(0,0,1,1);const[s,i,a]=Array.from(n.getImageData(0,0,1,1).data);return`rgba(${s}, ${i}, ${a},`})(i),[i]),f=De.useCallback((n,s,i)=>{const a=window.devicePixelRatio||1;n.width=s*a,n.height=i*a,n.style.width=`${s}px`,n.style.height=`${i}px`;const r=Math.floor(s/(e+t)),o=Math.floor(i/(e+t)),c=new Float32Array(r*o);for(let e=0;e<c.length;e++)c[e]=Math.random()*l;return{cols:r,rows:o,squares:c,dpr:a}},[e,t,l]),g=De.useCallback((e,t)=>{for(let n=0;n<e.length;n++)Math.random()<s*t&&(e[n]=Math.random()*l)},[s,l]),v=De.useCallback((n,s,i,a,r,o,l)=>{n.clearRect(0,0,s,i),n.fillStyle="transparent",n.fillRect(0,0,s,i);for(let c=0;c<a;c++)for(let s=0;s<r;s++){const i=o[c*r+s];n.fillStyle=`${x}${i})`,n.fillRect(c*(e+t)*l,s*(e+t)*l,e*l,e*l)}},[x,e,t]);return De.useEffect(()=>{const e=c.current,t=d.current;if(!e||!t)return;const n=e.getContext("2d");if(!n)return;let s,i;const o=()=>{const n=a||t.clientWidth,s=r||t.clientHeight;h({width:n,height:s}),i=f(e,n,s)};o();let l=0;const m=t=>{if(!u)return;const a=(t-l)/1e3;l=t,g(i.squares,a),v(n,e.width,e.height,i.cols,i.rows,i.squares,i.dpr),s=requestAnimationFrame(m)},x=new ResizeObserver(()=>{o()});x.observe(t);const b=new IntersectionObserver(([e])=>{p(e.isIntersecting)},{threshold:0});return b.observe(e),u&&(s=requestAnimationFrame(m)),()=>{cancelAnimationFrame(s),x.disconnect(),b.disconnect()}},[f,g,v,a,r,u]),n.jsx("div",{ref:d,className:`w-full h-full ${o}`,children:n.jsx("canvas",{ref:c,className:"pointer-events-none",style:{width:m.width,height:m.height}})})},IM=({size:e=24,color:t="#000000",className:s=""})=>n.jsx("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:s,children:n.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.6395 11.1294C20.1202 11.61 20.1202 12.3894 19.6395 12.87L14.1011 18.4084C13.6204 18.889 12.8412 18.889 12.3606 18.4084C11.8798 17.9277 11.8798 17.1485 12.3606 16.6679L15.7979 13.2304L5.23081 13.2304C4.55106 13.2304 4 12.6794 4 11.9996C4 11.32 4.55106 10.7689 5.23081 10.7689L15.7979 10.7689L12.3606 7.3315C11.8798 6.85087 11.8798 6.07161 12.3606 5.59098C12.8412 5.1103 13.6204 5.1103 14.1011 5.59098L19.6395 11.1294Z",fill:t})});function AM({isOpen:e,onOpenChange:t,onWorkspaceCreated:s,onCloseMenu:i}){const{toast:a}=on(),[r,o]=De.useState(""),[l,c]=De.useState(""),[d,{isLoading:u}]=of(),{newToast:p}=tD(),m=r.trim().length>0;De.useEffect(()=>{e&&i&&i()},[e,i]);const h=async()=>{if(m)try{const e=await d({name:r,description:l}).unwrap();p.success("Workspace Created"),t(!1),o(""),c(""),null==s||s(e.id,e.name)}catch(e){a({title:"Error",description:(null==e?void 0:e.error)||"Failed to create workspace. Please try again.",variant:"destructive"})}};return e?Re.createPortal(n.jsx(Rt,{children:n.jsxs("div",{className:"fixed inset-0 z-[999]",children:[n.jsx(Pt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"absolute inset-0 bg-[#0C0C0D]",onClick:()=>t(!1)}),n.jsxs("div",{className:"relative w-full h-full overflow-y-auto",children:[n.jsx("div",{className:"absolute inset-0 z-0 pointer-events-none",children:n.jsx(EM,{color:"rgb(115, 119, 128)",squareSize:4,gridGap:6,flickerChance:.3,maxOpacity:.1,className:"w-full h-full bg-[#0E0E0F]"})}),n.jsxs(Pt.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},transition:{duration:.2,ease:"easeOut"},className:"min-h-full w-full bg-[#18181A] md:max-w-none max-w-[90%] mx-auto",style:{display:"grid",gridTemplateColumns:"1fr auto 1fr",gridTemplateRows:"1fr auto 1fr"},onClick:e=>e.stopPropagation(),children:[n.jsx("div",{className:"bg-[#242426] h-[1px] pointer-events-none",style:{gridColumn:"1 / 4",gridRow:"2",alignSelf:"start",zIndex:1e3}}),n.jsx("div",{className:"bg-[#242426] h-[1px] pointer-events-none",style:{gridColumn:"1 / 4",gridRow:"2",alignSelf:"end",zIndex:1e3}}),n.jsx("div",{className:"bg-[#242426] w-[1px] pointer-events-none",style:{gridRow:"1 / 4",gridColumn:"2",justifySelf:"start",zIndex:1e3}}),n.jsx("div",{className:"bg-[#242426] w-[1px] pointer-events-none",style:{gridRow:"1 / 4",gridColumn:"2",justifySelf:"end",zIndex:1e3}}),n.jsx("button",{type:"button",onClick:()=>t(!1),disabled:u,className:fb("fixed top-4 right-4 md:top-8 md:right-8 z-10 p-2 bg-[#FFF]/10 backdrop-blur-lg hover:bg-[white]/15 rounded-full transition-colors",u&&"opacity-50 cursor-not-allowed"),"aria-label":"Close modal",children:n.jsx(RS,{className:"w-5 h-5 text-[#939399] hover:text-[#C4C4CC]"})}),n.jsxs("div",{className:"flex flex-col w-full bg-[#0E0E0F] p-6 py-16 md:p-[64px] md:py-[104px] relative",style:{gridRow:"2",gridColumn:"2"},children:[n.jsxs("div",{className:"pointer-events-none absolute top-4 left-4 w-[18px] h-[18px]",style:{zIndex:10},children:[n.jsx("div",{className:"absolute w-2 h-2 transform -translate-x-1/2 -translate-y-1/2 rounded-full bg-white/40 top-1/2 left-1/2"}),n.jsx("div",{className:"w-[13px] h-[13px] border-[5px] border-white/[0.06] rounded-full absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2"})]}),n.jsxs("div",{className:"pointer-events-none absolute top-4 right-4 w-[18px] h-[18px]",style:{zIndex:10},children:[n.jsx("div",{className:"absolute w-2 h-2 transform -translate-x-1/2 -translate-y-1/2 rounded-full bg-white/40 top-1/2 left-1/2"}),n.jsx("div",{className:"w-[13px] h-[13px] border-[5px] border-white/[0.06] rounded-full absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2"})]}),n.jsxs("div",{className:"pointer-events-none absolute bottom-4 left-4 w-[18px] h-[18px]",style:{zIndex:10},children:[n.jsx("div",{className:"absolute w-2 h-2 transform -translate-x-1/2 -translate-y-1/2 rounded-full bg-white/40 top-1/2 left-1/2"}),n.jsx("div",{className:"w-[13px] h-[13px] border-[5px] border-white/[0.06] rounded-full absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2"})]}),n.jsxs("div",{className:"pointer-events-none absolute bottom-4 right-4 w-[18px] h-[18px]",style:{zIndex:10},children:[n.jsx("div",{className:"absolute w-2 h-2 transform -translate-x-1/2 -translate-y-1/2 rounded-full bg-white/40 top-1/2 left-1/2"}),n.jsx("div",{className:"w-[13px] h-[13px] border-[5px] border-white/[0.06] rounded-full absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2"})]}),n.jsxs("div",{className:"flex flex-col max-md:items-center md:items-start max-md:justify-center md:justify-start w-full mb-8 md:mb-[56px]",children:[n.jsx("h2",{className:"text-[28px] md:text-[36px] md:leading-[40px] font-medium text-[#fff]",children:"New Workspace"}),n.jsx("p",{className:"mt-4 text-[#FFFFFF]/40 max-md:text-center max-w-md font-inter text-[16px]",children:"Create a new place to make projects or collaborate with others."})]}),n.jsx("div",{className:"w-full",children:n.jsx("form",{onSubmit:e=>{e.preventDefault(),h()},className:"space-y-6",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{htmlFor:"workspace-name",className:"block font-medium text-[#CCCCCC] max-md:text-center",children:"Workspace Name"}),n.jsx("input",{type:"text",id:"workspace-name",value:r,onChange:e=>o(e.target.value),placeholder:"e.g. Design Team, Project Alpha",className:"w-full p-3 md:p-4 bg-[#151517] border border-[#303033] rounded-lg text-[#FFFFFF] placeholder-[#FFFFFF]/40 focus:outline-none focus:border-[#303033] transition-colors font-inter font-medium text-sm md:text-base",maxLength:50,disabled:u,autoFocus:!0})]})})}),n.jsx("div",{className:"flex flex-col w-full gap-4 mt-8 sm:flex-row",children:n.jsx("button",{type:"button",onClick:h,disabled:!m||u,className:fb("flex items-center w-full justify-center gap-2 px-4 md:px-6 py-3 rounded-full text-base md:text-[18px] h-12 md:h-[56px] font-semibold text-black transition-all flex-1 sm:flex-none sm:min-w-[200px]",m&&!u?"bg-[#FFFFFF]":"bg-[#FFFFFF]/20 text-[#FFFFFF]/60 cursor-not-allowed"),children:u?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"w-4 h-4 border-2 border-current rounded-full border-t-transparent animate-spin"}),"Creating..."]}):n.jsxs(n.Fragment,{children:["Continue to Plan",n.jsx(IM,{size:20,color:m?"#000000":"#FFFFFF60"})]})})})]})]})]})]})}),document.body):null}const TM=({onClick:e,className:t,disabled:s=!1,size:i="md",variant:a="default"})=>{const r=fb("w-full flex items-center justify-center space-x-2 rounded-[10px] transition-colors duration-200 text-[#FFF] font-medium","hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed",{sm:"p-2 text-sm",md:"p-3 text-base",lg:"p-4 text-lg"}[i],"compact"===a&&"max-h-[36px] mt-2","default"===a&&"border border-white/10",t);return n.jsxs("button",{type:"button",onClick:e,disabled:s,className:r,style:{background:"radial-gradient(50% 50% at 50% 50%, rgba(255, 255, 255, 0.1) 0%, rgba(255, 255, 255, 0.05) 100%)"},children:[n.jsx(wS,{className:{sm:"w-4 h-4",md:"w-5 h-5",lg:"w-6 h-6"}[i]}),n.jsx("span",{children:"New Workspace"})]})},DM=({size:e=24,fill:t="white",className:s="",width:i,height:a})=>{const r=i||e,o=a||e;return n.jsx("svg",{width:r,height:o,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:s,children:n.jsx("path",{d:"M3.11133 20V4H12.0002V7.55556H20.8891V20H3.11133ZM4.88911 18.2222H6.66688V16.4444H4.88911V18.2222ZM4.88911 14.6667H6.66688V12.8889H4.88911V14.6667ZM4.88911 11.1111H6.66688V9.33333H4.88911V11.1111ZM4.88911 7.55556H6.66688V5.77778H4.88911V7.55556ZM8.44466 18.2222H10.2224V16.4444H8.44466V18.2222ZM8.44466 14.6667H10.2224V12.8889H8.44466V14.6667ZM8.44466 11.1111H10.2224V9.33333H8.44466V11.1111ZM8.44466 7.55556H10.2224V5.77778H8.44466V7.55556ZM12.0002 18.2222H19.1113V9.33333H12.0002V11.1111H13.778V12.8889H12.0002V14.6667H13.778V16.4444H12.0002V18.2222ZM15.5558 12.8889V11.1111H17.3336V12.8889H15.5558ZM15.5558 16.4444V14.6667H17.3336V16.4444H15.5558Z",fill:t})})},MM=({size:e=24,color:t="#22C55E",className:s=""})=>n.jsx("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:s,children:n.jsx("path",{d:"M20 6L9 17L4 12",stroke:t,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),LM=({size:e=24,color:t="#EF4444",className:s=""})=>n.jsx("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:s,children:n.jsx("path",{d:"M18 6L6 18M6 6L18 18",stroke:t,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})});function PM({invitation:e,onAcceptInvitation:t,onDeclineInvitation:s,isAcceptingInvitation:i,variant:a="selector"}){var r;const o="switcher"===a;return n.jsxs("div",{className:fb("flex items-center gap-3 rounded-[8px] transition-colors  hover:bg-[#FFFFFF0D] cursor-pointer mb-2 p-2"),children:[n.jsx("div",{className:"rounded-full "+(o?"w-8 h-8 p-2":"p-2"),style:{background:"linear-gradient(180deg, #364D36 0%, rgba(47, 66, 46, 0.593809) 40.62%, rgba(36, 51, 36, 0) 100%)"},children:n.jsx(oD,{size:o?16:24,color:"#37FF33"})}),n.jsxs("div",{className:"flex flex-col flex-1",children:[n.jsx("div",{className:"text-sm font-medium capitalize text-[#E6E6E6]",children:e.organization_name}),n.jsx("div",{className:fb("text-[12px] font-medium font-inter text-[#CCCCCC] capitalize",o?"text-[12px] font-inter text-white/50":""),children:null==(r=null==e?void 0:e.role)?void 0:r.toLowerCase()})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[s&&n.jsx("button",{type:"button",onClick:t=>{t.stopPropagation(),s(e.id,e.organization_name)},disabled:i,className:" transition-colors duration-200 rounded-full bg-[#FFFFFF1A]  disabled:opacity-50 disabled:cursor-not-allowed",title:"Decline Invitation",children:n.jsx(LM,{size:28,color:"#FFFFFF99",className:" bg-[#FFFFFF1A] rounded-full p-1"})}),n.jsx("button",{type:"button",onClick:n=>{n.stopPropagation(),t(e.id,e.organization_name)},disabled:i,className:"transition-colors duration-200 rounded-full bg-[#7BFF78] hover:bg-green-600/30 disabled:opacity-50 disabled:cursor-not-allowed",title:"Accept Invitation",children:i?n.jsx("div",{className:"w-4 h-4 text-green-400 border-2 border-current rounded-full border-t-transparent animate-spin"}):n.jsx(MM,{size:28,color:"#000000",className:"bg-[#7BFF78] rounded-full p-1"})})]})]})}const RM=({className:e="h-6 w-6",size:t=24,outerFill:s="#131314"})=>{const i=`paint0_linear_active_dot_${Math.random().toString(36).substring(2,11)}`;return n.jsxs("svg",{width:t,height:t,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,children:[n.jsx("path",{d:"M0.000244141 12C0.000244141 5.37258 5.37283 0 12.0002 0C18.6277 0 24.0002 5.37258 24.0002 12C24.0002 18.6274 18.6277 24 12.0002 24C5.37283 24 0.000244141 18.6274 0.000244141 12Z",fill:s}),n.jsx("circle",{cx:"12.0002",cy:"12",r:"6",fill:`url(#${i})`}),n.jsx("defs",{children:n.jsxs("linearGradient",{id:i,x1:"12.0002",y1:"6",x2:"12.0002",y2:"18",gradientUnits:"userSpaceOnUse",children:[n.jsx("stop",{stopColor:"#00FF66"}),n.jsx("stop",{offset:"1",stopColor:"#62ECFE"})]})})]})},OM=gv.teams.org,zM=()=>{var e,t;const{user:s}=Wg(),{currentWorkspace:i,workspaces:a,getCurrentWorkspaceData:r}=Kg();Le();const{toast:o}=on(),[l,c]=De.useState(!1),[d,u]=De.useState(!1),[p,m]=De.useState(!1),[h,x]=De.useState(null);De.useEffect(()=>{const e=()=>c(!1),t=()=>c(!0);return window.addEventListener("close-workspace-switcher",e),window.addEventListener("open-workspace-switcher",t),()=>{window.removeEventListener("close-workspace-switcher",e),window.removeEventListener("open-workspace-switcher",t)}},[]);const{data:f,isLoading:g,refetch:v}=Fx(void 0,{skip:!s}),{personalTier:b}=Xg(),y=(null==(e=null==f?void 0:f.organizations)?void 0:e.some(e=>e.created_by===(null==s?void 0:s.id)))||!1,[w,{isLoading:j}]=lf(),[C,{isLoading:N}]=mf(),F=async(e,t)=>{try{await w({invitation_id:e}).unwrap();o({title:"Invitation Accepted",description:`Successfully joined "${t}" workspace`,variant:"default"}),localStorage.removeItem("pending_invitation")}catch(n){o({title:"Error",description:(null==n?void 0:n.error)||"Failed to accept invitation. Please try again.",variant:"destructive"})}},_=async(e,t)=>{var n;try{await C({invitation_id:e}).unwrap(),o({title:"Invitation Declined",description:`Successfully declined invitation to "${t}" workspace`,variant:"default"})}catch(s){o({title:"Error",description:(null==(n=null==s?void 0:s.data)?void 0:n.detail)||"Failed to decline invitation. Please try again.",variant:"destructive"})}},k=()=>{var e;return s&&(null==(e=null==s?void 0:s.email)?void 0:e.slice(0,1).toUpperCase())||"U"},S=e=>{if("personal"===e.id)return b.toLowerCase().includes("pro")?"Pro":b.toLowerCase().includes("standard")?"Standard":b.toLowerCase().includes("starter")?"Starter":b.charAt(0).toUpperCase()+b.slice(1);{if(E(e))return"Payment Pending";const t=e.role||"MEMBER";return t.charAt(0).toUpperCase()+t.slice(1).toLowerCase()}},E=e=>"PENDING"===(null==e?void 0:e.status),I=r();return n.jsxs("div",{className:"relative flex justify-center",children:[n.jsxs("button",{type:"button",onClick:()=>{c(!l),v()},className:"flex items-center justify-center px-4 py-[10px] max-h-[40px] hover:bg-white/15 rounded-full text-white transition-colors duration-200",style:{background:"personal"===i?"#FFFFFF14":"radial-gradient(50% 50% at 50% 50%, rgba(63, 243, 200, 0.1) 0%, rgba(63, 243, 200, 0.05) 100%)",backdropFilter:"blur(50px)"},children:[n.jsx("div",{className:"flex items-center justify-center w-5 h-5 text-sm rounded-full",children:"personal"===i?n.jsxs(_M,{className:"h-5 w-5 bg-[#2A2A2B]",children:[n.jsx(kM,{src:null==(t=null==s?void 0:s.user_metadata)?void 0:t.avatar_url,alt:"User Avatar"}),n.jsx(SM,{className:"bg-[#2A2A2B] text-[#FFFFFFCC] font-brockmann font-medium text-center text-[12px] leading-5 -tracking-[0.32px]",children:k()})]}):n.jsx("img",{src:OM,alt:"Organization",className:"w-10 h-10"})}),n.jsx("div",{className:"flex-1 ml-2 text-center",children:n.jsx("p",{className:"text-[16px] font-medium truncate capitalize "+("personal"===i?"text-[#FFFFFFCC]":""),style:"personal"!==i?{background:"linear-gradient(180deg, #00FF66 0%, #62ECFE 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text",color:"transparent",filter:"drop-shadow(0px 0px 17.94px #00FF6680) drop-shadow(0px 0px 17.94px #62ECFE33)"}:{},children:g?"Loading...":(e=>{var t,n,i;if("personal"===e.id){const e=((null==(t=null==s?void 0:s.user_metadata)?void 0:t.name)||(null==(n=null==s?void 0:s.user_metadata)?void 0:n.full_name)||(null==(i=null==s?void 0:s.email)?void 0:i.split("@")[0])||"Personal").split(" ")[0];return e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()+"'s Space"}return e.name+"'s Space"})(I)})})]}),l&&n.jsx("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 mt-2 w-[360px] bg-[#19191A] rounded-[16px] border border-[#303030] shadow-xl z-50",children:n.jsxs("div",{className:"p-2",children:[n.jsx("p",{className:"text-white/30 text-[10px] font-ndot font-normal tracking-[2px] leading-4 uppercase",children:"SWITCH WORKSPACE"}),n.jsxs("div",{className:"mt-1 space-y-2 ",children:[g?n.jsx("div",{className:"flex items-center justify-center p-4",children:n.jsx("div",{className:"text-[#FFFFFFCC] text-sm",children:"Loading workspaces..."})}):a.map(e=>{var t;const r=i===e.id;return E(e),n.jsx("div",{className:"",children:n.jsxs("button",{type:"button",onClick:()=>(e=>{const t=a.find(t=>t.id===e);if("PENDING"===(null==t?void 0:t.status))return x({id:t.id,name:t.name}),m(!0),void c(!1);if(i===e)return void c(!1);c(!1);const n="personal"===e?"Personal Space":`${(null==t?void 0:t.name)||"workspace"}'s Space`,s=`${"personal"===e?"/":`/workspace/${e}`}?switching=${encodeURIComponent(n)}`;window.location.href=s})(e.id),className:fb("w-full flex items-center max-h-[58px] justify-between p-[10px] rounded-[10px] transition-colors duration-200 group hover:bg-[#FFFFFF0D]",r&&"bg-[#FFFFFF0D]"),style:{background:r&&"personal"!==e.id?"radial-gradient(50% 50% at 50% 50%, rgba(50, 245, 179, 0.1) 0%, rgba(50, 245, 179, 0.05) 100%)":void 0},children:[n.jsxs("div",{className:"flex items-center w-full space-x-3",children:[n.jsx("div",{className:fb("flex items-center justify-center w-8 h-8 bg-[#2A2A2B] rounded-full","personal"!==e.id&&r&&"bg-[#FFFFFF0A] rounded-[8px] p-2"),children:"personal"===e.id?n.jsxs(_M,{className:"w-6 h-6",children:[n.jsx(kM,{src:null==(t=null==s?void 0:s.user_metadata)?void 0:t.avatar_url,alt:"User Avatar"}),n.jsx(SM,{className:"bg-[#2A2A2B] text-normal font-medium",children:k()})]}):r?n.jsx("img",{src:OM,alt:"Organization",className:"w-6 h-6"}):n.jsx(DM,{size:16,className:"opacity-80"})}),n.jsxs("div",{className:"flex justify-between flex-1 w-full text-left",children:[n.jsxs("div",{className:"flex-1 w-full text-left",children:[n.jsx("p",{className:fb("font-medium font-brockmann text-[14px] leading-5 -tracking-[0.2px] capitalize",r&&"personal"!==e.id?"":"text-white/80"),style:{background:r&&"personal"!==e.id?"linear-gradient(180deg, #00FF66 0%, #62ECFE 100%)":void 0,WebkitBackgroundClip:r&&"personal"!==e.id?"text":void 0,WebkitTextFillColor:r&&"personal"!==e.id?"transparent":void 0,backgroundClip:r&&"personal"!==e.id?"text":void 0},children:"personal"===e.id?"Personal Space":e.name}),n.jsxs("div",{className:fb("text-[12px] font-inter font-medium leading-4 capitalize",r&&"personal"!==e.id?"":"text-white/50",E(e)&&"text-[#FF8C66]"),style:{background:r&&"personal"!==e.id?"linear-gradient(180deg, #00FF66 0%, #62ECFE 100%)":void 0,WebkitBackgroundClip:r&&"personal"!==e.id?"text":void 0,WebkitTextFillColor:r&&"personal"!==e.id?"transparent":void 0,backgroundClip:r&&"personal"!==e.id?"text":void 0},children:[S(e),e.members&&!E(e)?`  ${e.members} members`:null]})]}),E(e)&&n.jsx("button",{type:"button",className:"rounded-full border-[#FFFFFF0D] bg-[#FF8C6612] text-[#FF8C66] font-semibold text-[14px] px-4 py-[6px] max-h-[32px]",children:"Pending"})]})]}),r&&n.jsx(RM,{className:"self-start w-5 h-5 text-teal-400"})]})},e.id)}),!g&&(null==f?void 0:f.pending_invitations)&&f.pending_invitations.length>0&&n.jsx(n.Fragment,{children:f.pending_invitations.map(e=>n.jsx(PM,{invitation:e,onAcceptInvitation:F,onDeclineInvitation:_,isAcceptingInvitation:j||N,variant:"switcher"},e.id))})]}),!g&&!y&&Eg()&&n.jsx(TM,{onClick:()=>{c(!1),u(!0)},variant:"compact"})]})}),l&&n.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>c(!1)}),n.jsx(AM,{isOpen:d,onOpenChange:u,onWorkspaceCreated:(e,t)=>{x({id:e,name:t}),m(!0)}}),h&&n.jsx(wD,{isOpen:p,onOpenChange:m,organizationId:h.id,organizationName:h.name,planType:"team"})]})},BM=gv.discountModal.bg,HM=gv.discountModal.text,$M=gv.discountModal.assetOff,UM=gv.common.stars;function VM({isOpen:e,onOpenChange:t,onClaimDiscount:s,onClose:i}){const a=()=>{null==s||s()};return e?n.jsx(Rt,{children:n.jsx("div",{className:"fixed top-0 left-0 bottom-0 right-0 w-full h-full z-[999] flex items-center justify-center bg-[#0e0e0f50] backdrop-blur-[5px]",children:n.jsxs(Pt.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.3,ease:"easeOut"},className:"max-w-[95vw] md:max-w-[900px] md:h-[700px] w-full max-h-[90dvh] relative bg-[#131314] text-white border border-[#1A1A1A] rounded-2xl overflow-hidden",children:[n.jsx("img",{src:BM,alt:"Background",className:"absolute inset-0 w-full h-full object-cover z-[0]"}),n.jsx("button",{title:"Close",className:"absolute top-4 right-4 md:top-6 md:right-6 z-[99] bg-[#FFFFFF05] backdrop-blur-lg hover:bg-[#FFFFFF12] p-2 rounded-full transition-colors",onClick:()=>{null==i||i(),t(!1)},children:n.jsx(RS,{className:"w-5 h-5 md:w-6 md:h-6"})}),n.jsxs("div",{className:"relative z-[10] flex flex-col items-center justify-center gap-[48px] h-full",children:[n.jsx(Pt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},className:"flex justify-center",children:n.jsx("img",{src:HM,alt:"Discount Text",className:"w-[320px] mt-[56px] max-w-full h-auto"})}),n.jsxs(Pt.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut",delay:.1},onClick:a,className:"flex justify-center items-center gap-2 w-[300px] h-12 px-2 py-2 rounded-[30px] bg-gradient-to-b from-[#0F6] to-[#62ECFE] hover:opacity-90 transition-opacity",style:{boxShadow:"0 0 32.572px 0 rgba(98, 236, 254, 0.20), 0 0 32.572px 0 rgba(0, 255, 102, 0.50)"},children:[n.jsx("span",{className:"text-black font-semibold",children:"Subscribe Now"}),n.jsx("span",{children:n.jsx("img",{src:UM,alt:"Stars",className:"w-6 h-6"})})]}),n.jsx(Pt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut",delay:.2},className:"flex justify-center",children:n.jsx("img",{src:$M,alt:"Discount Asset",className:"w-[320px] max-w-full h-auto cursor-pointer hover:opacity-90 transition-opacity",onClick:a})})]})]})})}):null}const WM=gv.common.foregroundImage,qM=({isFreeUser:e})=>e?n.jsx(Ek.img,{src:WM,alt:"Overlay",className:"fixed w-full top-0 right-0 bottom-0 left-0 h-full object-cover pointer-events-none z-[100]",style:{mixBlendMode:"screen"},initial:{opacity:0},animate:{opacity:.25},transition:{duration:1,ease:"easeOut"}}):null,GM=({isFreeUser:e,session:t,userName:s})=>{const i={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.8,ease:"easeOut"}}},{isMobile:a}=QE();return n.jsx(WD,{className:"flex bg-transparent border-0 max-md:items-center max-md:h-full max-md:flex md:space-y-1",children:n.jsx(qD,{className:"max-md:absolute max-md:w-full max-md:transform max-md:-translate-x-1/2 max-md:-translate-y-1/2 max-md:top-1/2 max-md:left-1/2 max-md:pb-[200px]",children:n.jsxs(Ek.div,{variants:{hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.2,delayChildren:.3}}},initial:"hidden",animate:"visible",className:"w-full",children:[a&&n.jsx(ZD,{className:"flex items-center justify-center w-full h-6 md:py-1 mb-[10px] max-md:text-[14px] text-[16px]",children:n.jsx(Ek.span,{variants:i,style:{background:"linear-gradient(180deg, #00FF66 0%, #62ECFE 100%)",backgroundClip:"text",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",textShadow:"0 0 22.43px rgba(98, 236, 254, 0.20), 0 0 22.43px rgba(0, 255, 102, 0.50)",fontWeight:400,lineHeight:"24px",letterSpacing:"1.6px",textTransform:"uppercase",textAlign:"center"},children:n.jsxs("span",{className:"font-ndot",children:["Welcome",t?`, ${s}`:""]})})}),n.jsx(GD,{className:"flex items-center justify-center w-full font-medium font-brockmann",children:n.jsx(Ek.span,{variants:i,transition:{duration:.8,ease:"easeOut",delay:.4},className:"animate-text bg-gradient-to-r text-center text-[6.7vw] md:text-[40px] max-text-[40px] from-[#80FFF9] to-[#F7E7D9] text-transparent bg-clip-text "+(e?"[text-shadow:0_0_40px_rgba(232,232,230,0.40)]":""),children:n.jsx("span",{className:"",children:e?"Where ideas become reality":"What will you build today?"})})}),e&&n.jsx(Ek.p,{variants:i,transition:{duration:.8,ease:"easeOut",delay:.8},className:"flex items-center justify-center mt-4",children:n.jsx("p",{className:"text-center text-[#595959] max-md:text-[16px] md:text-[18px] font-medium leading-6 tracking-[-0.18px]",children:"Build fully functional apps and websites through simple conversations"})})]})})})},ZM=gv.common.eLogo,YM=({isFreeUser:e,jobs:t,showBottomPage:s,setShowBottomPage:i})=>e?n.jsxs(n.Fragment,{children:[n.jsx(Pb,{children:0==t.length&&!s&&n.jsx(Ek.div,{className:"max-md:hidden fixed -bottom-[60px] left-1/2 -translate-x-1/2 pointer-events-none z-[-1] w-full",initial:{opacity:0},animate:{opacity:1},transition:{duration:.6,ease:"easeOut",opacity:{duration:.8,ease:"easeInOut"}},exit:{opacity:0,transition:{duration:.3,ease:"easeOut"}},children:n.jsx("img",{src:ZM,alt:"Emergent Logo",className:"w-auto h-[400px] md:w-[350px] md:h-[350px] object-cover mx-auto"})})}),0==t.length&&!s&&n.jsxs(Ek.div,{onClick:()=>i(!0),className:"max-md:hidden fixed bottom-5 inset-x-0 w-fit mx-auto flex justify-center items-center px-4 py-2 h-9 min-w-[42px] min-h-9 cursor-pointer bg-white/10 backdrop-blur-xl hover:backdrop-blur-xl rounded-[8px]",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},transition:{duration:.6,ease:"easeOut",opacity:{duration:.5,ease:"easeInOut"}},whileHover:{y:-4,transition:{duration:.2,ease:"easeOut"}},children:[n.jsx("p",{className:"text-[var(--text-tertiary)] select-none text-[16px] text-white leading-[18px]",children:"Explore showcases"}),n.jsx("div",{className:"ml-2",children:n.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:[n.jsx("path",{d:"M4 13L8 9L12 13",stroke:"#858481","stroke-width":"0.886667","stroke-linecap":"round","stroke-linejoin":"round"}),n.jsx("path",{d:"M4 9L8 5L12 9",stroke:"#B9B9B7","stroke-width":"0.886667","stroke-linecap":"round","stroke-linejoin":"round"})]})})]})]}):null,KM=()=>{const e=26,t=39,s=39,i=128,a=255,r=249,o=window.innerWidth<640?6:10,l=n=>Array.from({length:o},(l,c)=>{const d=c/(o-1),u="left"===n?Math.max(.2,d):Math.max(.2,1-d);let p;if("left"===n){p=`rgb(${Math.round(e+(i-e)*d)}, ${Math.round(t+(a-t)*d)}, ${Math.round(s+(r-s)*d)})`}else{p=`rgb(${Math.round(i+(e-i)*d)}, ${Math.round(a+(t-a)*d)}, ${Math.round(r+(s-r)*d)})`}return{index:c,opacity:u,color:p}}),c=l("left"),d=l("right");return n.jsx("div",{className:"flex flex-col items-center justify-center w-full p-4 pt-8 pb-0 rounded-lg md:p-8 hidden md:flex",children:n.jsxs("div",{className:"flex items-center justify-center w-full",children:[c.map(e=>n.jsx("div",{className:"mx-1 rounded-full md:mx-2",style:{width:window.innerWidth<640?"3px":"4px",height:window.innerWidth<640?"3px":"4px",opacity:e.opacity,backgroundColor:e.color}},`left-${e.index}`)),n.jsx("div",{className:"mx-2 text-nowrap  md:mx-4 md:text-xl animate-text bg-gradient-to-r from-[#80FFF9] to-[#F7E7D9] text-transparent bg-clip-text",children:"From the Community"}),d.map(e=>n.jsx("div",{className:"mx-1 rounded-full md:mx-2",style:{width:window.innerWidth<640?"3px":"4px",height:window.innerWidth<640?"3px":"4px",opacity:e.opacity,backgroundColor:e.color}},`right-${e.index}`))]})})},JM=gv.common.arrowUpRight,QM=({title:e,description:t,imageLink:s,hrefLink:i,className:a,handleOnClick:r,job_id:o})=>{const[l,c]=De.useState(!1);return n.jsxs(Ek.div,{className:fb("bg-[#18181A] rounded-2xl h-[280px] flex-1 overflow-hidden relative cursor-pointer",a),onHoverStart:()=>c(!0),onHoverEnd:()=>c(!1),onClick:()=>r(o),id:`showcase-card-${o}`,initial:{borderColor:"transparent"},animate:{borderColor:l?"#333333":"transparent",boxShadow:l?"0 0 10px rgba(51, 51, 51, 0.3)":"none"},transition:{duration:.2},style:{border:"1px solid"},children:[n.jsxs("div",{className:"relative z-10 flex flex-col gap-4 px-5 pt-8",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(Ek.span,{className:"text-lg font-medium font-brockmann",initial:{color:"#ffffff"},animate:{color:l?"#66eaff":"#ffffff"},transition:{duration:.2,ease:"easeOut"},children:e}),n.jsx(Ek.img,{src:JM,title:"Open Link",initial:{opacity:0,x:-10},animate:{opacity:l?1:0,x:l?0:-10},transition:{duration:.2,ease:"easeOut"}})]}),n.jsx("p",{className:"text-sm font-medium text-white opacity-30 font-inter",children:t})]}),n.jsx(Ek.div,{className:"absolute max-h-[150px] inset-0 bg-gradient-to-b from-[#0F0F1000] to-[#0F0F10] z-[15]",animate:{opacity:l?.4:1,y:l?190:80},transition:{duration:.2}}),n.jsx(Ek.div,{className:"absolute w-full bottom-0 z-[20] px-[10px]",animate:{y:l?"90%":"40%"},transition:{duration:.2,ease:"easeInOut"},children:n.jsx("img",{src:s,className:"w-full object-cover min-h-[180px] rounded-lg",alt:e,loading:"eager"})})]})},XM=gv.common.featured,eL=gv.cat.aiAppsBlack,tL=gv.cat.aiAppsWhite,nL=gv.cat.landingPageBlack,sL=gv.cat.landingPageWhite,iL=gv.cat.microSaasBlack,aL=gv.cat.microSaasWhite,rL=gv.cat.playWhite,oL=gv.cat.playBlack,lL=({showCaseData:e})=>{var t,s;const{setTabs:i,updateTabState:a,setActiveTab:r,getTabByJobId:o}=Oee(),{user:l}=Wg(),[c]=Hx(),[d,u]=De.useState(null==(t=e[0])?void 0:t.category_name),p=De.useRef(!1),m=De.useRef(null);De.useEffect(()=>{var t;u(null==(t=e[0])?void 0:t.category_name)},[e]),De.useEffect(()=>()=>{m.current&&clearTimeout(m.current)},[]);const h=(null==(s=e.filter(e=>e.category_name===d)[0])?void 0:s.apps)||[],x=De.useCallback((e,t,n)=>{var s;if(!e.payload.task)return;if(!(e.payload.container_id||e.id))return;const o=`tab-${Date.now()}-${Math.random().toString(36).slice(2,11)}`,l={containerId:e.payload.container_id||e.id,initial_commit_id:e.payload.initial_commit_id,task:e.payload.task,jobId:e.id,tabId:o,fromJobList:!0,isCloudFlow:null==(s=e.payload)?void 0:s.is_cloud,clientRefId:e.client_ref_id,modelName:e.payload.model_name,promptName:e.payload.prompt_name,promptVersion:e.payload.prompt_version,costLimit:e.payload.per_instance_cost_limit,agentName:e.payload.agent_name,portMapping:e.payload.portMapping,previewUrl:t,showCase:!0};i(t=>[...t,{id:o,title:`${e.payload.task}`,path:"/chat",state:l,tabHeading:n}]),a(o,l),r(o)},[i,a,r]),f=De.useCallback(async(e,t,n)=>{if(p.current)return;if(m.current&&clearTimeout(m.current),p.current=!0,!l)return window.open(t,"_blank"),void(m.current=setTimeout(()=>{p.current=!1},1e3));const s=o(e.trim());if(s)return r(s.id),void(m.current=setTimeout(()=>{p.current=!1},500));try{const s=await c(e.trim()).unwrap();x(s,t,n)}catch(i){}finally{m.current=setTimeout(()=>{p.current=!1},1e3)}},[l,c,x,o,r]),g=(e,t,n)=>{const s=t||n;switch(e){case"AI Apps":return s?eL:tL;case"Landing":return s?nL:sL;case"Digital Sidekicks":return s?iL:aL;case"Hack & Play":return s?oL:rL;default:return XM}};return n.jsxs("section",{className:" flex-col md:pb-20 md:gap-[16px] items-center max-md:hidden md:flex",children:[n.jsx("div",{className:"flex flex-wrap justify-between gap-2 p-6 pt-4 mx-auto md:gap-4 md:w-full md:max-w-5xl",children:e.map((e,t)=>{const s=d===e.category_name;return n.jsxs("button",{onClick:()=>u(e.category_name),id:`showcase-category-${e.category_name}`,className:fb("md:h-[48px] gap-1  md:gap-[6px] font-brockmann flex items-center justify-center text-[24px] flex-grow flex-1 transition-all duration-300 ease-in-out px-4 py-2  whitespace-nowrap rounded-full ",s?"bg-white text-[#0F0F10] font-semibold hover:bg-white/90":"bg-[#1D1D1F] text-white font-medium hover:bg-[#2D2D2F]"),children:[n.jsx("img",{src:g(e.category_name,s,!1),alt:`${e.category_name} Icon`,className:s?"min-w-5 min-h-5":"min-w-5 min-h-5 opacity-60"}),n.jsx("span",{className:fb("text-[14px] md:text-[16px] font-brockmann capitalize",s?"text-[#0F0F10] font-semibold":"text-white font-medium opacity-60"),children:e.category_name})]},e.category_name+t)})}),n.jsx(Ek.div,{className:"w-full px-4",initial:{opacity:0},animate:{opacity:1},transition:{duration:.2},children:n.jsx(Pb,{mode:"wait",children:n.jsx(Ek.div,{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2},children:h.map((e,t)=>n.jsx(QM,{title:e.name,description:e.description,imageLink:e.image||"https://s3-alpha-sig.figma.com/img/8133/f6ec/448fb87c3cb4871ded0d5a981369605f?Expires=1743379200&Key-Pair-Id=APKAQ4GOSFWCW27IBOMQ&Signature=d9A8rwjeZQrHQOGWyQZNxi9qXlHsOfx4C8QMqY~KtEh16KQQLyi8BfqcXdp334IxRyc1G0Fw1xYsaxnHlTMGB~4-QRGatbr7f~j1BSsG1hKiaFNLXPo0BarLiIAKQNWSNV3rFdkIZct2dTSGRlRY5o3bR2PeVoNXxDWA~lpf9kFgehmhYLi4IwMFr0yqvSvzjOqnYIRYzml6xCVE325kQxp-8AK0GTeU1ns9mu87eVeKwXKniigyGebSSU1XWd2jeIOLL2zytjKx3eup8EnG4JHrHr1BZSBNP84pMZQeQqpWii52LAhdkx-qUa9lsmFjAgsV5P4nl~zp7DeO4jI0lw__",hrefLink:e.preview_url,handleOnClick:()=>f(e.job_id,e.preview_url,e.name),job_id:e.job_id,className:"h-[280px] w-full"},e.job_id+t))},d)})})]})},cL=({isFreeUser:e,isMobile:t,jobs:s,showBottomPage:i,globalConfig:a})=>t?null:n.jsxs(Ek.div,{initial:{opacity:0,y:20},animate:{opacity:e&&!i?0:1,y:e&&!i?20:0,marginTop:e&&0===s.length?i?"100px":"300px":"100px"},transition:{duration:.8,ease:[.33,1,.68,1],opacity:{duration:i?.8:.6,ease:i?"easeInOut":"easeOut"},marginTop:{duration:i?.4:.5,ease:i?"easeOut":"easeIn"},y:{duration:i?.8:.6,ease:i?"easeOut":"easeIn"}},className:"flex flex-col items-center justify-center md:mt-0",children:[n.jsx(KM,{}),n.jsx("div",{className:"w-full max-w-6xl",children:n.jsx(lL,{showCaseData:(null==a?void 0:a.portfolio)||[]})})]}),dL=gv.common.banner,uL=gv.videos.bgVid,pL=gv.icons.bgPatternHome;function mL({redirectToRegister:e=!0}){var t,s,i,a,r,o,l,c;const{getCurrentOrganizationId:d,getCurrentWorkspaceData:u}=Kg(),{data:p=[],isLoading:m,refetch:h}=Bx({organization_id:d()}),{config:x}=kD(),[f,g]=De.useState(!1),[v,b]=De.useState(!1),[y,w]=De.useState(""),[j,C]=De.useState((null==(t=null==x?void 0:x.overload_lock)?void 0:t.enabled)||!1),[N,F]=De.useState(!1),[_,k]=De.useState(!1),S=BE(),E=function(){const{openModal:e,closeModal:t,activeModals:n}=zE();return{open:(t={})=>e({type:"one-million",...t}),close:()=>t("one-million"),isOpen:n.has("one-million"),config:n.get("one-million")}}(),I=qE(),A=function(){const{openModal:e,closeModal:t,activeModals:n}=zE();return{open:t=>e({type:"job-id",...t}),close:()=>t("job-id"),isOpen:n.has("job-id"),config:n.get("job-id")}}();UE(),(()=>{const{openModal:e,closeModal:t,activeModals:n}=zE();n.has("funding-introduction"),n.get("funding-introduction")})();const T=(()=>{const{openModal:e,closeModal:t,activeModals:n}=zE();return{open:(t={})=>e({type:"pro",...t}),close:()=>t("pro"),isOpen:n.has("pro"),config:n.get("pro")}})();(()=>{const{openModal:e,closeModal:t,activeModals:n}=zE();n.has("bro-mode-introduction"),n.get("bro-mode-introduction")})(),(()=>{const{openModal:e,closeModal:t,activeModals:n}=zE();n.has("test-mode"),n.get("test-mode")})();const{isMobile:D}=QE();FM(),De.useEffect(()=>{"pro_mode"===localStorage.getItem("showThankYou")&&!T.isOpen&&p.length>0&&(T.open({shouldShowThankYou:!0}),localStorage.removeItem("showThankYou"),localStorage.removeItem("utm_term"))},[T,p.length]);const M=De.useRef(null),{session:L,user:P}=Wg(),{checkGitHubConnection:R}=$A(),[O,z]=ze(),{isTrulyFreeUser:B,tier:H,loading:$,personalPlansResponse:U}=Xg(),V=wt(e=>{var t;return null==(t=e.menu)?void 0:t.showModelSelectorTooltip}),W=De.useMemo(()=>B()&&!$,[B,$]),[q,G]=De.useState(!1),{data:Z}=Fx(void 0,{skip:!P}),Y=function(){const{openModal:e,closeModal:t,activeModals:n}=zE();return{open:t=>e({type:"pending-invitation",...t}),close:()=>t("pending-invitation"),isOpen:n.has("pending-invitation"),config:n.get("pending-invitation")}}(),K=function(){const{openModal:e,closeModal:t,activeModals:n}=zE();return{open:(t={})=>e({type:"standard-discount",...t}),close:()=>t("standard-discount"),isOpen:n.has("standard-discount"),config:n.get("standard-discount")}}(),J=function(){const{openModal:e,closeModal:t,activeModals:n}=zE();return{open:(t={})=>e({type:"mcp-introduction",...t}),close:()=>t("mcp-introduction"),isOpen:n.has("mcp-introduction"),config:n.get("mcp-introduction")}}(),[Q,X]=De.useState([]),[ee,te]=De.useState(null),[ne,se]=De.useState(null),ie=De.useRef(!1),[ae,re]=De.useState(!1),oe=De.useRef(0),le=De.useRef(null);De.useEffect(()=>{let e=null;if(W){const t=e=>{const t=e.target.scrollTop;t>0&&re(!0),0===t&&re(!1),oe.current=t},n=le.current;n&&(n.addEventListener("scroll",t,{passive:!0}),e=()=>n.removeEventListener("scroll",t))}return()=>{e&&e()}},[W,$]);const[ce,de]=De.useState(()=>{const e=localStorage.getItem("embeddedTaskTabId");if(!e){const e=CM();return localStorage.setItem("embeddedTaskTabId",e),e}return e||CM()});De.useEffect(()=>{P&&mg.createUser(null==P?void 0:P.id)},[P]);const ue=()=>{if(!(null==Z?void 0:Z.pending_invitations)||Y.isOpen||ee)return;let e=null;try{const t=localStorage.getItem("pending_invitation");if(t){const n=JSON.parse(t);e=n.invitation_id}}catch(n){}const t=Z.pending_invitations.find(t=>{const s=e===t.id,i=!Q.includes(t.id),a=!function(e){try{const t=localStorage.getItem(zu);return!0===(t?JSON.parse(t):{})[e]}catch(n){return!1}}(t.organization_id);return!(!s||!i)||i&&a});if(t){const e={id:t.id,organization_id:t.organization_id,organization_name:t.organization_name,role:t.role,invited_by:t.invited_by,invited_by_email:t.invited_by,inviter_name:t.inviter_name,expires_at:t.expires_at,created_at:t.created_at};te(t.id);const n=()=>{X(e=>[...e,t.id]),te(null),Bu(t.organization_id),localStorage.removeItem("pending_invitation")};Y.open({invitation:e,onAccept:n,onDecline:n})}},pe=Me(),me=Le(),{setTabs:he,setActiveTab:xe,updateTabState:fe,state:ge,getTabByJobId:ve,activeTab:be}=Oee(),{refreshCredits:ye,credits:we}=Xg();De.useEffect(()=>{if("redirect"!==new URLSearchParams(window.location.search).get("utm_shift"))return;const e=navigator.userAgent||navigator.vendor,t=/android/i.test(e),n=/iPad|iPhone|iPod/.test(e),s=new URLSearchParams(window.location.search);s.delete("utm_shift");const i="https://app.emergent.sh/home",a=s.toString(),r=a?`${i}?${a}`:i;n?window.location.href=`x-safari-https://${r.replace("https://","")}`:t&&(window.location.href=`intent://${r.replace("https://","")}#Intent;scheme=https;package=com.android.chrome;end`)},[]),De.useEffect(()=>{L?(g(!1),"home"===ge.activeTab&&(null!==M.current&&"home"!==M.current&&ye(),fe("home",{isCloudFlow:!0})),M.current=ge.activeTab):g(!1)},[L,ge.activeTab,null==me?void 0:me.pathname]),De.useEffect(()=>{"home"===be&&h()},[be]),De.useEffect(()=>{L&&h()},[d(),h,L]),De.useEffect(()=>{const e=()=>{var e;!j&&(null==(e=null==x?void 0:x.overload_lock)?void 0:e.enabled)&&C(!0)};return document.addEventListener("click",e),()=>{document.removeEventListener("click",e)}},[j,x]),De.useEffect(()=>{!P&&e&&(window.location.href="/register")},[me.pathname,P,e]);De.useEffect(()=>{L?(R(),g(!1),Tu()):g(!1)},[L]);const je=e=>{var t,n,s,i,a,r;const o=e._openedInAdminMode;if(!e.payload.task)return;if(!(e.payload.container_id||e.id))return;const l=ve(e.id);if(l)return void xe(l.id);const c=`tab-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,u=`/root/runs/${e.id}/trajectory.json`;let p=null;e.payload.forked_from?p={parent_job_id:e.payload.forked_from,parent_job_title:null}:(null==(t=e.payload.forked)?void 0:t.parent_job_id)&&(p=e.payload.forked);const m=e.organization_id||(null==(n=e.payload)?void 0:n.organization_id),h={containerId:e.payload.container_id||e.id,initial_commit_id:e.payload.initial_commit_id,task:e.payload.task,jobId:e.id,title:(null==(s=e.payload)?void 0:s.original_task)||e.payload.task,trajPath:u,tabId:c,fromJobList:!0,isCloudFlow:null==(i=e.payload)?void 0:i.is_cloud,clientRefId:e.client_ref_id,modelName:e.payload.model_name,promptName:e.payload.prompt_name,promptVersion:e.payload.prompt_version,costLimit:e.payload.per_instance_cost_limit,agentName:e.payload.agent_name,portMapping:e.payload.portMapping,created_by:e.created_by,forked:p,isAdminModeJob:o,originalOrganizationId:o?m:void 0,originalOrganizationName:o?e.organization_name||(null==(a=e.payload)?void 0:a.organization_name):void 0,tabHeading:e.title},x=d();let f,g,v,b;if(o)f="user",g=void 0,v=void 0,b="/chat";else{f=m?"organization":"user",g=m||x,v=e.organization_name||(null==(r=e.payload)?void 0:r.organization_name);const t=d();b=t?`/workspace/${t}/chat`:"/chat"}he(t=>[...t,{id:c,title:`${e.payload.task}`,path:b,level:f,organization_id:g,organization_name:v,state:h,tabHeading:e.title??""}]),fe(c,h),xe(c),pe(`${b}?id=${e.id}`),fg(XS.RECENT_TASK_OPENED,e)};if(!Pu("hasSeenTeamsIntroModal",!1)){const e=WE();let t=u();(null==t?void 0:t.id.includes("org"))&&"ADMIN"==(null==t?void 0:t.role)&&(e.open({organizationId:t.id,organizationName:t.name,mode:"welcome",backendEnabled:!0,onInvitesSent:()=>{}}),Lu("hasSeenTeamsIntroModal",!0))}const Ce=()=>{var e;const t=new Date,n=new Date((null==(e=null==x?void 0:x.overload_lock)?void 0:e.locked_until)||"").getTime()-t.getTime(),s=Math.floor(n/864e5),i=Math.floor(n%864e5/36e5),a=Math.floor(n%36e5/6e4);return{days:s<10?`0${s}`:`${s}`,hours:i<10?`0${i}`:`${i}`,minutes:a<10?`0${a}`:`${a}`}};De.useEffect(()=>{(async()=>{if(L&&P&&!ie.current)try{ie.current=!0;const e=await mm();se(e)}catch(e){ie.current=!1}})()},[K]),null==ne||ne.reactivation_banner,De.useEffect(()=>{Y.isOpen||ee||ue()},[Z]);const[Ne,Fe]=De.useState(Y.isOpen);De.useEffect(()=>{Ne&&!Y.isOpen&&(ee&&(X(e=>[...e,ee]),te(null)),setTimeout(()=>{ue()},500)),Fe(Y.isOpen)},[Y.isOpen,ee]),De.useEffect(()=>{!V&&_&&k(!1)},[V,_]),De.useEffect(()=>{!S.isOpen&&_&&k(!1)},[S.isOpen,_]),De.useEffect(()=>{_&&J.isOpen&&(Gu(),J.close())},[_,J]),De.useEffect(()=>{P&&L&&p.length>0&&!Pu("hasSeenClaude45AnnouncementModal",!1)&&!E.isOpen&&!$&&E.open({onGetStarted:()=>{},onClose:()=>{},onShowUpgradeModal:()=>{S.open({triggerLocation:"oneMillionModal",shouldShowModelSelectorTooltipAfterClose:!1})},onPreventOtherModals:e=>{k(e)}})},[P,L,p.length,E.isOpen,$]);const{data:_e,isSuccess:ke}=Px(d()?{organization_id:d()}:void 0,{skip:!P||!L||Pu("hasSeenFundingIntroductionModal",!1)});let Se;return De.useEffect(()=>{const e=O.get("job_id");if(e&&p.length>0){const t=p.find(t=>t.id===e);t&&(je(t),O.delete("job_id"),z(O))}},[p,O,z,je]),De.useEffect(()=>{var e,t;0===p.length&&P&&!D&&mg.triggerEvent("no-jobs-created",{user_id:null==P?void 0:P.id,user_email:null==P?void 0:P.email,tier:H,user_id_ends:null==(e=null==P?void 0:P.id)?void 0:e.slice(-1)}),0===p.length&&P&&D&&mg.triggerEvent("no-jobs-created-mobile",{user_id:null==P?void 0:P.id,user_email:null==P?void 0:P.email,tier:H,user_id_ends:null==(t=null==P?void 0:P.id)?void 0:t.slice(-1)})},[null==p?void 0:p.length,P]),Se=(null==(s=null==P?void 0:P.user_metadata)?void 0:s.custom_name)?P.user_metadata.custom_name:(null==(i=null==P?void 0:P.user_metadata)?void 0:i.full_name)?P.user_metadata.full_name.split(" ")[0]:null==(a=null==P?void 0:P.email)?void 0:a.split("@")[0],De.useEffect(()=>{f||$||!P||fg("home_loaded",{userId:null==P?void 0:P.id,userName:Se,credits:we,tier:H})},[$,f,null==P?void 0:P.id]),f||$?n.jsx("div",{className:"flex items-center justify-center min-h-screen",children:n.jsxs("div",{className:"flex flex-col items-center space-y-4 text-center",children:[n.jsx(Ik,{className:"mx-auto"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading"})]})}):n.jsx(n.Fragment,{children:n.jsxs("div",{ref:le,className:"relative flex flex-col items-center h-full overflow-y-scroll md:h-screen justify-between md:block "+(W?"bg-cover bg-center bg-no-repeat mix-blend-screen":""),style:{...W&&!D?{backgroundImage:`url(${pL})`}:{}},children:[n.jsx("img",{alt:"Background",src:pL,className:"fixed top-0 bottom-0 pointer-events-none left-0 right-0 z-[-1] object-cover h-[100dvh]"}),n.jsx(qM,{isFreeUser:W||D}),n.jsx(Pb,{children:j&&n.jsxs(Ek.div,{className:"absolute top-0 left-0 z-20 w-full",initial:{y:"-100%"},animate:{y:0},exit:{y:"-100%"},transition:{type:"spring",stiffness:100,damping:20},children:[n.jsxs("div",{className:"relative min-h-[300px] sm:min-h-[450px] lg:min-h-[400px]",children:[n.jsx("img",{alt:"Banner",src:dL,className:"absolute inset-0 z-20 object-cover w-full h-full"}),n.jsx("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden",children:n.jsx("div",{className:"flex w-full h-full max-md:hidden",children:[...Array(4)].map((e,t)=>n.jsx("video",{src:uL,autoPlay:!0,loop:!0,muted:!0,className:"flex-shrink-0 object-cover w-full h-full opacity-10",style:{maxWidth:"25%",transform:`rotate(${180*t}deg)`}},t))})}),n.jsx("div",{className:"absolute top-0 left-0 z-30 w-full h-full pb-10",children:n.jsx("div",{className:"flex px-4 py-6 w-full min-h-[300px] sm:min-h-[750px] lg:min-h-[400px] sm:px-8 sm:py-8 lg:px-[72px] lg:py-12",children:n.jsxs("div",{className:"flex flex-col items-start justify-between w-full space-y-8",children:[n.jsxs("div",{className:"flex flex-col space-y-2 max-w-full lg:max-w-[600px]",children:[n.jsx("span",{className:"text-[#242F33] text-lg font-semibold leading-6 font-sans sm:text-xl sm:leading-7 lg:text-[28px] lg:leading-9",children:null==(r=null==x?void 0:x.overload_lock)?void 0:r.title}),n.jsx("span",{className:"text-[#242F33] text-sm font-normal leading-5 opacity-60 font-sans sm:text-base sm:leading-6 lg:text-[18px] lg:leading-7",children:null==(o=null==x?void 0:x.overload_lock)?void 0:o.description})]}),n.jsxs("div",{className:"flex flex-col w-full gap-6 lg:flex-row lg:items-center lg:justify-between lg:gap-0",children:[n.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:gap-8 lg:gap-16",children:[n.jsxs("div",{className:"flex flex-col items-start gap-1 lg:gap-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-[#242F33] text-xl font-semibold leading-6 font-sans sm:text-2xl sm:leading-7 lg:text-[28px] lg:leading-9",children:null==(l=null==x?void 0:x.overload_lock)?void 0:l.capacity}),n.jsx(tT,{color:"#CB6565"})]}),n.jsx("span",{className:"text-[#242F33] text-sm font-normal leading-5 opacity-60 font-sans sm:text-base sm:leading-6 lg:text-[18px] lg:leading-7",children:"System Capacity"})]}),n.jsxs("div",{className:"flex flex-col items-start gap-1 lg:gap-2",children:[n.jsx("div",{className:"flex items-center gap-2",children:n.jsx("span",{className:"text-[#242F33] text-xl font-semibold leading-6 font-sans sm:text-2xl sm:leading-7 lg:text-[28px] lg:leading-9",children:null==(c=null==x?void 0:x.overload_lock)?void 0:c.concurrent_tasks})}),n.jsx("span",{className:"text-[#242F33] text-sm font-normal leading-5 opacity-60 font-sans sm:text-base sm:leading-6 lg:text-[18px] lg:leading-7",children:"Concurrent running tasks"})]})]}),n.jsxs("div",{className:"flex flex-col gap-1 lg:gap-1",children:[n.jsxs("div",{className:"flex items-center gap-2 lg:justify-end",children:[n.jsx("div",{className:"p-2 bg-white rounded-lg flex items-center justify-center lg:p-[10px] lg:rounded-[12px]",children:n.jsxs("span",{className:"text-[#3D494D] text-lg font-semibold leading-6 font-sans sm:text-xl sm:leading-7 lg:text-[28px] lg:leading-9",children:[Ce().days,n.jsx("span",{className:"text-xs lg:text-sm",children:"d"})]})}),n.jsx("div",{className:"p-2 bg-white rounded-lg flex items-center justify-center lg:p-[10px] lg:rounded-[12px]",children:n.jsxs("span",{className:"text-[#3D494D] text-lg font-semibold leading-6 font-sans sm:text-xl sm:leading-7 lg:text-[28px] lg:leading-9",children:[Ce().hours,n.jsx("span",{className:"text-xs lg:text-sm",children:"h"})]})}),n.jsx("div",{className:"p-2 bg-white rounded-lg flex items-center justify-center lg:p-[10px] lg:rounded-[12px]",children:n.jsxs("span",{className:"text-[#3D494D] text-lg font-semibold leading-6 font-sans sm:text-xl sm:leading-7 lg:text-[28px] lg:leading-9",children:[Ce().minutes,n.jsx("span",{className:"text-xs lg:text-sm",children:"m"})]})})]}),n.jsx("span",{className:"text-[#242F33] text-sm font-normal leading-5 opacity-60 font-sans sm:text-base sm:leading-6 lg:text-[18px] lg:leading-7 lg:text-right",children:"Estimated time to come back"})]})]})]})})})]}),n.jsx("div",{className:"h-12 bg-black/20 backdrop-blur-sm sm:h-16 lg:h-20"})]})}),n.jsx("div",{className:fb("flex  flex-col items-center w-full mt-[80px]","md:mt-[120px] "),children:n.jsxs("div",{className:"flex flex-col items-center w-full h-full md:max-w-6xl",children:[!W&&!D&&L&&n.jsx(zM,{}),n.jsx(GM,{isFreeUser:W,session:L,userName:Se}),n.jsx("div",{"data-component":"embedded-task",className:"w-full h-full",children:n.jsx(PD,{tabId:ce,onClearTabId:()=>{const e=CM();localStorage.setItem("embeddedTaskTabId",e),de(e)},isReferralModalOpen:I.isOpen,setIsReferralModalOpen:e=>e?I.open():I.close(),isCustomAgentsModalOpen:N,setIsCustomAgentsModalOpen:F,showMobileAgentIntro:q,onMobileAgentIntroShown:()=>G(!1),jobsLength:p.length})}),n.jsx(YM,{isFreeUser:W,jobs:p,showBottomPage:ae,setShowBottomPage:re})]})}),n.jsx("div",{className:"flex items-center justify-center w-full",children:n.jsx("div",{className:"w-full max-w-6xl",children:!D&&(null==p?void 0:p.length)>0&&P&&L&&n.jsx(Ek.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{type:"spring",stiffness:100,damping:10,delay:.6},className:"mt-[100px]",children:n.jsx(jM,{jobs:p,handleJobClick:je,handleReload:async()=>{b(!0),await h(),b(!1)},reloading:v,setIsJobIdDialogOpen:e=>{e?A.open({jobIdInput:y,setJobIdInput:w,handleJobClick:je}):A.close()},loading:m,refetchJobs:h})})})}),n.jsx(cL,{isFreeUser:W,isMobile:D,jobs:p,showBottomPage:ae,globalConfig:x}),n.jsx(OD,{}),n.jsx(VM,{isOpen:K.isOpen,onOpenChange:K.close,onClaimDiscount:async()=>{var e;qu();const t=null==(e=null==U?void 0:U.available_plans)?void 0:e.find(e=>"emergent standard"===e.tier_name.toLowerCase()&&"MONTHLY"===e.billing_period),{url:n}=await Pp(0,!0,null==t?void 0:t.id,void 0);n&&(window.location.href=n)},onClose:()=>{qu()}})]})})}const hL=De.createContext(void 0),xL=({children:e,initialConfig:t})=>{const[s,i]=De.useState({show:!1,level:"info",content:"",dismissible:!0,...t}),[a,r]=De.useState(0),o=De.useCallback(e=>{i({...e,show:!0})},[]),l=De.useCallback(()=>{i(e=>({...e,show:!1}))},[]),c=De.useCallback(e=>{i(t=>({...t,...e}))},[]),d=De.useCallback(e=>{r(e)},[]);De.useEffect(()=>{s.show||r(0)},[s.show]);const u=De.useCallback((e,t=!0)=>{o({level:"info",content:e,dismissible:t})},[o]),p=De.useCallback((e,t=!0)=>{o({level:"warning",content:e,dismissible:t})},[o]),m=De.useCallback((e,t=!0)=>{o({level:"error",content:e,dismissible:t})},[o]),h=De.useCallback((e,t=!0)=>{o({level:"success",content:e,dismissible:t})},[o]),x={bannerConfig:s,bannerHeight:a,showBanner:o,hideBanner:l,updateBanner:c,setBannerHeight:d,showInfo:u,showWarning:p,showError:m,showSuccess:h};return n.jsx(hL.Provider,{value:x,children:e})},fL=()=>{const e=De.useContext(hL);if(void 0===e)throw new Error("useAlert must be used within an AlertProvider");return e},gL=()=>jt(),vL=wt;function bL(e){return()=>e}function yL(e){e()}function wL(e,t){return n=>e(t(n))}function jL(e,t){return()=>e(t)}function CL(e){return void 0!==e}function NL(){}function FL(e,t){return t(e),e}function _L(e,t){return t(e)}function kL(...e){return e}function SL(e,t){return e(1,t)}function EL(e,t){e(0,t)}function IL(e){e(2)}function AL(e){return e(4)}function TL(e,t){return SL(e,function(e,t){return n=>e(t,n)}(t,0))}function DL(e,t){const n=e(1,e=>{n(),t(e)});return n}function ML(e){let t,n;return s=>i=>{t=i,n&&clearTimeout(n),n=setTimeout(()=>{s(t)},e)}}function LL(e,t){return e===t}function PL(e=LL){let t;return n=>s=>{e(t,s)||(t=s,n(s))}}function RL(e){return t=>n=>{e(n)&&t(n)}}function OL(e){return t=>wL(t,e)}function zL(e){return t=>()=>{t(e)}}function BL(e,...t){const n=function(...e){return t=>e.reduceRight(_L,t)}(...t);return(t,s)=>{switch(t){case 2:return void IL(e);case 1:return SL(e,n(s))}}}function HL(e,t){return n=>s=>{n(t=e(t,s))}}function $L(e){return t=>n=>{e>0?e--:t(n)}}function UL(e){let t,n=null;return s=>i=>{n=i,!t&&(t=setTimeout(()=>{t=void 0,s(n)},e))}}function VL(...e){const t=new Array(e.length);let n=0,s=null;const i=Math.pow(2,e.length)-1;return e.forEach((e,a)=>{const r=Math.pow(2,a);SL(e,e=>{const o=n;n|=r,t[a]=e,o!==i&&n===i&&s&&(s(),s=null)})}),e=>a=>{const r=()=>{e([a].concat(t))};n===i?r():s=r}}function WL(e){let t=e;const n=GL();return(e,s)=>{switch(e){case 0:t=s;break;case 1:s(t);break;case 4:return t}return n(e,s)}}function qL(e,t){return FL(WL(t),t=>TL(e,t))}function GL(){const e=[];return(t,n)=>{switch(t){case 0:return void e.slice().forEach(e=>{e(n)});case 2:return void e.splice(0,e.length);case 1:return e.push(n),()=>{const t=e.indexOf(n);t>-1&&e.splice(t,1)}}}}function ZL(e){return FL(GL(),t=>TL(e,t))}function YL(e,t=[],{singleton:n}={singleton:!0}){return{constructor:e,dependencies:t,id:KL(),singleton:n}}const KL=()=>Symbol();function JL(...e){const t=GL(),n=new Array(e.length);let s=0;const i=Math.pow(2,e.length)-1;return e.forEach((e,a)=>{const r=Math.pow(2,a);SL(e,e=>{n[a]=e,s|=r,s===i&&EL(t,n)})}),function(e,a){switch(e){case 2:return void IL(t);case 1:return s===i&&a(n),SL(t,a)}}}function QL(e,t=LL){return BL(e,PL(t))}function XL(...e){return function(t,n){switch(t){case 2:return;case 1:return function(...e){return()=>{e.map(yL)}}(...e.map(e=>SL(e,n)))}}}var eP=(e=>(e[e.DEBUG=0]="DEBUG",e[e.INFO=1]="INFO",e[e.WARN=2]="WARN",e[e.ERROR=3]="ERROR",e))(eP||{});const tP=YL(()=>{const e=WL(3);return{log:WL((t,n,s=1)=>{var i;null!=(i=(typeof globalThis>"u"?window:globalThis).VIRTUOSO_LOG_LEVEL)||AL(e)}),logLevel:e}},[],{singleton:!0});function nP(e,t,n){return sP(e,t,n).callbackRef}function sP(e,t,n){const s=Pe.useRef(null);let i=e=>{};const a=Pe.useMemo(()=>typeof ResizeObserver<"u"?new ResizeObserver(t=>{const s=()=>{const n=t[0].target;null!==n.offsetParent&&e(n)};n?s():requestAnimationFrame(s)}):null,[e,n]);return i=e=>{e&&t?(null==a||a.observe(e),s.current=e):(s.current&&(null==a||a.unobserve(s.current)),s.current=null)},{callbackRef:i,ref:s}}function iP(e,t,n,s,i,a,r,o,l){const c=Pe.useCallback(n=>{const l=function(e,t,n,s){const i=e.length;if(0===i)return null;const a=[];for(let r=0;r<i;r++){const i=e.item(r);if(void 0===i.dataset.index)continue;const o=parseInt(i.dataset.index),l=parseFloat(i.dataset.knownSize),c=t(i,n);if(0===c&&s("Zero-sized element, this should not happen",{child:i},eP.ERROR),c===l)continue;const d=a[a.length-1];0===a.length||d.size!==c||d.endIndex!==o-1?a.push({endIndex:o,size:c,startIndex:o}):a[a.length-1].endIndex++}return a}(n.children,t,o?"offsetWidth":"offsetHeight",i);let c=n.parentElement;for(;!c.dataset.virtuosoScroller;)c=c.parentElement;const d="window"===c.lastElementChild.dataset.viewportType;let u;d&&(u=c.ownerDocument.defaultView);const p=r?o?r.scrollLeft:r.scrollTop:d?o?u.scrollX||u.document.documentElement.scrollLeft:u.scrollY||u.document.documentElement.scrollTop:o?c.scrollLeft:c.scrollTop,m=r?o?r.scrollWidth:r.scrollHeight:d?o?u.document.documentElement.scrollWidth:u.document.documentElement.scrollHeight:o?c.scrollWidth:c.scrollHeight,h=r?o?r.offsetWidth:r.offsetHeight:d?o?u.innerWidth:u.innerHeight:o?c.offsetWidth:c.offsetHeight;s({scrollHeight:m,scrollTop:Math.max(p,0),viewportHeight:h}),null==a||a(o?aP("column-gap",getComputedStyle(n).columnGap,i):aP("row-gap",getComputedStyle(n).rowGap,i)),null!==l&&e(l)},[e,t,i,a,r,s,o]);return sP(c,n,l)}function aP(e,t,n){return"normal"!==t&&!(null!=t&&t.endsWith("px"))&&n(`${e} was not resolved to pixel value correctly`,t,eP.WARN),"normal"===t?0:parseInt(null!=t?t:"0",10)}function rP(e,t,n){const s=Pe.useRef(null),i=Pe.useCallback(n=>{if(null==n||!n.offsetParent)return;const i=n.getBoundingClientRect(),a=i.width;let o,l;if(t){const e=t.getBoundingClientRect(),n=i.top-e.top;l=e.height-Math.max(0,n),o=n+t.scrollTop}else{const e=r.current.ownerDocument.defaultView;l=e.innerHeight-Math.max(0,i.top),o=i.top+e.scrollY}s.current={offsetTop:o,visibleHeight:l,visibleWidth:a},e(s.current)},[e,t]),{callbackRef:a,ref:r}=sP(i,!0,n),o=Pe.useCallback(()=>{i(r.current)},[i,r]);return Pe.useEffect(()=>{var e;if(t){t.addEventListener("scroll",o);const e=new ResizeObserver(()=>{requestAnimationFrame(o)});return e.observe(t),()=>{t.removeEventListener("scroll",o),e.unobserve(t)}}{const t=null==(e=r.current)?void 0:e.ownerDocument.defaultView;return null==t||t.addEventListener("scroll",o),null==t||t.addEventListener("resize",o),()=>{null==t||t.removeEventListener("scroll",o),null==t||t.removeEventListener("resize",o)}}},[o,t,r]),a}const oP=YL(()=>{const e=GL(),t=GL(),n=WL(0),s=GL(),i=WL(0),a=GL(),r=GL(),o=WL(0),l=WL(0),c=WL(0),d=WL(0),u=GL(),p=GL(),m=WL(!1),h=WL(!1),x=WL(!1);return TL(BL(e,OL(({scrollTop:e})=>e)),t),TL(BL(e,OL(({scrollHeight:e})=>e)),r),TL(t,i),{deviation:n,fixedFooterHeight:c,fixedHeaderHeight:l,footerHeight:d,headerHeight:o,horizontalDirection:h,scrollBy:p,scrollContainerState:e,scrollHeight:r,scrollingInProgress:m,scrollTo:u,scrollTop:t,skipAnimationFrameInResizeObserver:x,smoothScrollTargetReached:s,statefulScrollTop:i,viewportHeight:a}},[],{singleton:!0}),lP={lvl:0};function cP(e,t){const n=e.length;if(0===n)return[];let{index:s,value:i}=t(e[0]);const a=[];for(let r=1;r<n;r++){const{index:n,value:o}=t(e[r]);a.push({end:n-1,start:s,value:i}),s=n,i=o}return a.push({end:1/0,start:s,value:i}),a}function dP(e){return e===lP}function uP(e,t){if(!dP(e))return t===e.k?e.v:t<e.k?uP(e.l,t):uP(e.r,t)}function pP(e,t,n="k"){if(dP(e))return[-1/0,void 0];if(Number(e[n])===t)return[e.k,e.v];if(Number(e[n])<t){const s=pP(e.r,t,n);return s[0]===-1/0?[e.k,e.v]:s}return pP(e.l,t,n)}function mP(e,t,n){return dP(e)?NP(t,n,1):t===e.k?yP(e,{k:t,v:n}):t<e.k?FP(yP(e,{l:mP(e.l,t,n)})):FP(yP(e,{r:mP(e.r,t,n)}))}function hP(){return lP}function xP(e,t,n){if(dP(e))return[];return function(e){return cP(e,({k:e,v:t})=>({index:e,value:t}))}(vP(e,pP(e,t)[0],n))}function fP(e,t){if(dP(e))return lP;const{k:n,l:s,r:i}=e;if(t===n){if(dP(s))return i;if(dP(i))return s;{const[t,n]=CP(s);return bP(yP(e,{k:t,l:wP(s),v:n}))}}return bP(yP(e,t<n?{l:fP(s,t)}:{r:fP(i,t)}))}function gP(e){return dP(e)?[]:[...gP(e.l),{k:e.k,v:e.v},...gP(e.r)]}function vP(e,t,n){if(dP(e))return[];const{k:s,l:i,r:a,v:r}=e;let o=[];return s>t&&(o=o.concat(vP(i,t,n))),s>=t&&s<=n&&o.push({k:s,v:r}),s<=n&&(o=o.concat(vP(a,t,n))),o}function bP(e){const{l:t,lvl:n,r:s}=e;if(s.lvl>=n-1&&t.lvl>=n-1)return e;if(n>s.lvl+1){if(jP(t))return _P(yP(e,{lvl:n-1}));if(!dP(t)&&!dP(t.r))return yP(t.r,{l:yP(t,{r:t.r.l}),lvl:n,r:yP(e,{l:t.r.r,lvl:n-1})});throw new Error("Unexpected empty nodes")}if(jP(e))return kP(yP(e,{lvl:n-1}));if(dP(s)||dP(s.l))throw new Error("Unexpected empty nodes");{const t=s.l,i=jP(t)?s.lvl-1:s.lvl;return yP(t,{l:yP(e,{lvl:n-1,r:t.l}),lvl:t.lvl+1,r:kP(yP(s,{l:t.r,lvl:i}))})}}function yP(e,t){return NP(void 0!==t.k?t.k:e.k,void 0!==t.v?t.v:e.v,void 0!==t.lvl?t.lvl:e.lvl,void 0!==t.l?t.l:e.l,void 0!==t.r?t.r:e.r)}function wP(e){return dP(e.r)?e.l:bP(yP(e,{r:wP(e.r)}))}function jP(e){return dP(e)||e.lvl>e.r.lvl}function CP(e){return dP(e.r)?[e.k,e.v]:CP(e.r)}function NP(e,t,n,s=lP,i=lP){return{k:e,l:s,lvl:n,r:i,v:t}}function FP(e){return kP(_P(e))}function _P(e){const{l:t}=e;return dP(t)||t.lvl!==e.lvl?e:yP(t,{r:yP(e,{l:t.r})})}function kP(e){const{lvl:t,r:n}=e;return dP(n)||dP(n.r)||n.lvl!==t||n.r.lvl!==t?e:yP(n,{l:yP(e,{r:n.l}),lvl:t+1})}function SP(e,t){return!(!e||e.startIndex!==t.startIndex||e.endIndex!==t.endIndex)}function EP(e,t){return!(!e||e[0]!==t[0]||e[1]!==t[1])}const IP=YL(()=>({recalcInProgress:WL(!1)}),[],{singleton:!0});function AP(e,t,n){return e[TP(e,t,n)]}function TP(e,t,n,s=0){let i=e.length-1;for(;s<=i;){const a=Math.floor((s+i)/2),r=n(e[a],t);if(0===r)return a;if(-1===r){if(i-s<2)return a-1;i=a-1}else{if(i===s)return a;s=a+1}}throw new Error(`Failed binary finding record in array - ${e.join(",")}, searched for ${t}`)}function DP(e,t){return Math.round(e.getBoundingClientRect()[t])}function MP(e){return!dP(e.groupOffsetTree)}function LP({index:e},t){return t===e?0:t<e?-1:1}function PP({offset:e},t){return t===e?0:t<e?-1:1}function RP(e,t,n){if(0===t.length)return 0;const{index:s,offset:i,size:a}=AP(t,e,LP),r=e-s,o=a*r+(r-1)*n+i;return o>0?o+n:o}function OP(e,t){if(!MP(t))return e;let n=0;for(;t.groupIndices[n]<=e+n;)n++;return e+n}function zP(e,t,n){if(function(e){return typeof e.groupIndex<"u"}(e))return t.groupIndices[e.groupIndex]+1;{let s=OP("LAST"===e.index?n:e.index,t);return s=Math.max(0,s,Math.min(n,s)),s}}function BP(e,t,n,s=0){return s>0&&(t=Math.max(t,AP(e,s,LP).offset)),cP(function(e,t,n,s){const i=TP(e,t,s),a=TP(e,n,s,i);return e.slice(i,a+1)}(e,t,n,PP),VP)}function HP(e,[t,n,s,i]){t.length>0&&s("received item sizes",t,eP.DEBUG);const a=e.sizeTree;let r=a,o=0;if(n.length>0&&dP(a)&&2===t.length){const e=t[0].size,s=t[1].size;r=n.reduce((t,n)=>mP(mP(t,n,e),n+1,s),r)}else[r,o]=function(e,t){let n=dP(e)?0:1/0;for(const s of t){const{endIndex:t,size:i,startIndex:a}=s;if(n=Math.min(n,a),dP(e)){e=mP(e,0,i);continue}const r=xP(e,a-1,t+1);if(r.some(WP(s)))continue;let o=!1,l=!1;for(const{end:n,start:s,value:c}of r)o?(t>=s||i===c)&&(e=fP(e,s)):(l=c!==i,o=!0),n>t&&t>=s&&c!==i&&(e=mP(e,t+1,c));l&&(e=mP(e,a,i))}return[e,n]}(r,t);if(r===a)return e;const{lastIndex:l,lastOffset:c,lastSize:d,offsetTree:u}=UP(e.offsetTree,o,r,i);return{groupIndices:n,groupOffsetTree:n.reduce((e,t)=>mP(e,t,RP(t,u,i)),hP()),lastIndex:l,lastOffset:c,lastSize:d,offsetTree:u,sizeTree:r}}function $P(e,t){let n=0,s=0;for(;n<e;)n+=t[s+1]-t[s]-1,s++;return s-(n===e?0:1)}function UP(e,t,n,s){let i=e,a=0,r=0,o=0,l=0;if(0!==t){l=TP(i,t-1,LP),o=i[l].offset;const e=pP(n,t-1);a=e[0],r=e[1],i.length&&i[l].size===pP(n,t)[1]&&(l-=1),i=i.slice(0,l+1)}else i=[];for(const{start:c,value:d}of xP(n,t,1/0)){const e=c-a,t=e*r+o+e*s;i.push({index:c,offset:t,size:d}),a=c,o=t,r=d}return{lastIndex:a,lastOffset:o,lastSize:r,offsetTree:i}}function VP(e){return{index:e.index,value:e}}function WP(e){const{endIndex:t,size:n,startIndex:s}=e;return e=>e.start===s&&(e.end===t||e.end===1/0)&&e.value===n}const qP={offsetHeight:"height",offsetWidth:"width"},GP=YL(([{log:e},{recalcInProgress:t}])=>{const n=GL(),s=GL(),i=qL(s,0),a=GL(),r=GL(),o=WL(0),l=WL([]),c=WL(void 0),d=WL(void 0),u=WL((e,t)=>DP(e,qP[t])),p=WL(void 0),m=WL(0),h={groupIndices:[],groupOffsetTree:hP(),lastIndex:0,lastOffset:0,lastSize:0,offsetTree:[],sizeTree:hP()},x=qL(BL(n,VL(l,e,m),HL(HP,h),PL()),h),f=qL(BL(l,PL(),HL((e,t)=>({current:t,prev:e.current}),{current:[],prev:[]}),OL(({prev:e})=>e)),[]);TL(BL(l,RL(e=>e.length>0),VL(x,m),OL(([e,t,n])=>{const s=e.reduce((e,s,i)=>mP(e,s,RP(s,t.offsetTree,n)||i),hP());return{...t,groupIndices:e,groupOffsetTree:s}})),x),TL(BL(s,VL(x),RL(([e,{lastIndex:t}])=>e<t),OL(([e,{lastIndex:t,lastSize:n}])=>[{endIndex:t,size:n,startIndex:e}])),n),TL(c,d);const g=qL(BL(c,OL(e=>void 0===e)),!0);TL(BL(d,RL(e=>void 0!==e&&dP(AL(x).sizeTree)),OL(e=>[{endIndex:0,size:e,startIndex:0}])),n);const v=ZL(BL(n,VL(x),HL(({sizes:e},[t,n])=>({changed:n!==e,sizes:n}),{changed:!1,sizes:h}),OL(e=>e.changed)));SL(BL(o,HL((e,t)=>({diff:e.prev-t,prev:t}),{diff:0,prev:0}),OL(e=>e.diff)),e=>{const{groupIndices:n}=AL(x);if(e>0)EL(t,!0),EL(a,e+$P(e,n));else if(e<0){const t=AL(f);t.length>0&&(e-=$P(-e,t)),EL(r,e)}}),SL(BL(o,VL(e)),([e,t])=>{e<0&&t("`firstItemIndex` prop should not be set to less than zero. If you don't know the total count, just use a very high value",{firstItemIndex:o},eP.ERROR)});const b=ZL(a);TL(BL(a,VL(x),OL(([e,t])=>{const n=t.groupIndices.length>0,s=[],i=t.lastSize;if(n){const n=uP(t.sizeTree,0);let a=0,r=0;for(;a<e;){const e=t.groupIndices[r],o=t.groupIndices.length===r+1?1/0:t.groupIndices[r+1]-e-1;s.push({endIndex:e,size:n,startIndex:e}),s.push({endIndex:e+1+o-1,size:i,startIndex:e+1}),r++,a+=o+1}const o=gP(t.sizeTree);return a!==e&&o.shift(),o.reduce((t,{k:n,v:s})=>{let i=t.ranges;return 0!==t.prevSize&&(i=[...t.ranges,{endIndex:n+e-1,size:t.prevSize,startIndex:t.prevIndex}]),{prevIndex:n+e,prevSize:s,ranges:i}},{prevIndex:e,prevSize:0,ranges:s}).ranges}return gP(t.sizeTree).reduce((t,{k:n,v:s})=>({prevIndex:n+e,prevSize:s,ranges:[...t.ranges,{endIndex:n+e-1,size:t.prevSize,startIndex:t.prevIndex}]}),{prevIndex:0,prevSize:i,ranges:[]}).ranges})),n);const y=ZL(BL(r,VL(x,m),OL(([e,{offsetTree:t},n])=>RP(-e,t,n))));return TL(BL(r,VL(x,m),OL(([e,t,n])=>{if(t.groupIndices.length>0){if(dP(t.sizeTree))return t;let s=hP();const i=AL(f);let a=0,r=0,o=0;for(;a<-e;){o=i[r];const e=i[r+1]-o-1;r++,a+=e+1}if(s=gP(t.sizeTree).reduce((t,{k:n,v:s})=>mP(t,Math.max(0,n+e),s),s),a!==-e){s=mP(s,0,uP(t.sizeTree,o));s=mP(s,1,pP(t.sizeTree,1-e)[1])}return{...t,sizeTree:s,...UP(t.offsetTree,0,s,n)}}{const s=gP(t.sizeTree).reduce((t,{k:n,v:s})=>mP(t,Math.max(0,n+e),s),hP());return{...t,sizeTree:s,...UP(t.offsetTree,0,s,n)}}})),x),{beforeUnshiftWith:b,data:p,defaultItemSize:d,firstItemIndex:o,fixedItemSize:c,gap:m,groupIndices:l,itemSize:u,listRefresh:v,shiftWith:r,shiftWithOffset:y,sizeRanges:n,sizes:x,statefulTotalCount:i,totalCount:s,trackItemSizes:g,unshiftWith:a}},kL(tP,IP),{singleton:!0});function ZP(e){return e.reduce((e,t)=>(e.groupIndices.push(e.totalCount),e.totalCount+=t+1,e),{groupIndices:[],totalCount:0})}const YP=YL(([{groupIndices:e,sizes:t,totalCount:n},{headerHeight:s,scrollTop:i}])=>{const a=GL(),r=GL(),o=ZL(BL(a,OL(ZP)));return TL(BL(o,OL(e=>e.totalCount)),n),TL(BL(o,OL(e=>e.groupIndices)),e),TL(BL(JL(i,t,s),RL(([e,t])=>MP(t)),OL(([e,t,n])=>pP(t.groupOffsetTree,Math.max(e-n,0),"v")[0]),PL(),OL(e=>[e])),r),{groupCounts:a,topItemsIndexes:r}},kL(GP,oP)),KP=YL(([{log:e}])=>{const t=WL(!1),n=ZL(BL(t,RL(e=>e),PL()));return SL(t,t=>{t&&AL(e)("props updated",{},eP.DEBUG)}),{didMount:n,propsReady:t}},kL(tP),{singleton:!0}),JP=typeof document<"u"&&"scrollBehavior"in document.documentElement.style;function QP(e){const t="number"==typeof e?{index:e}:e;return t.align||(t.align="start"),(!t.behavior||!JP)&&(t.behavior="auto"),t.offset||(t.offset=0),t}const XP=YL(([{gap:e,listRefresh:t,sizes:n,totalCount:s},{fixedFooterHeight:i,fixedHeaderHeight:a,footerHeight:r,headerHeight:o,scrollingInProgress:l,scrollTo:c,smoothScrollTargetReached:d,viewportHeight:u},{log:p}])=>{const m=GL(),h=GL(),x=WL(0);let f=null,g=null,v=null;function b(){f&&(f(),f=null),v&&(v(),v=null),g&&(clearTimeout(g),g=null),EL(l,!1)}return TL(BL(m,VL(n,u,s,x,o,r,p),VL(e,a,i),OL(([[e,n,s,i,a,r,o,c],u,p,x])=>{const y=QP(e),{align:w,behavior:j,offset:C}=y,N=i-1,F=zP(y,n,N);let _=RP(F,n.offsetTree,u)+r;"end"===w?(_+=p+pP(n.sizeTree,F)[1]-s+x,F===N&&(_+=o)):"center"===w?_+=(p+pP(n.sizeTree,F)[1]-s+x)/2:_-=a,C&&(_+=C);const k=t=>{b(),t?(c("retrying to scroll to",{location:e},eP.DEBUG),EL(m,e)):(EL(h,!0),c("list did not change, scroll successful",{},eP.DEBUG))};if(b(),"smooth"===j){let e=!1;v=SL(t,t=>{e=e||t}),f=DL(d,()=>{k(e)})}else f=DL(BL(t,function(e){return t=>{const n=setTimeout(()=>{t(!1)},e);return e=>{e&&(t(!0),clearTimeout(n))}}}(150)),k);return g=setTimeout(()=>{b()},1200),EL(l,!0),c("scrolling from index to",{behavior:j,index:F,top:_},eP.DEBUG),{behavior:j,top:_}})),c),{scrollTargetReached:h,scrollToIndex:m,topListHeight:x}},kL(GP,oP,tP),{singleton:!0});function eR(e,t){0==e?t():requestAnimationFrame(()=>{eR(e-1,t)})}function tR(e,t){const n=t-1;return"number"==typeof e?e:"LAST"===e.index?n:e.index}const nR=YL(([{defaultItemSize:e,listRefresh:t,sizes:n},{scrollTop:s},{scrollTargetReached:i,scrollToIndex:a},{didMount:r}])=>{const o=WL(!0),l=WL(0),c=WL(!0);return TL(BL(r,VL(l),RL(([e,t])=>!!t),zL(!1)),o),TL(BL(r,VL(l),RL(([e,t])=>!!t),zL(!1)),c),SL(BL(JL(t,r),VL(o,n,e,c),RL(([[,e],t,{sizeTree:n},s,i])=>e&&(!dP(n)||CL(s))&&!t&&!i),VL(l)),([,e])=>{DL(i,()=>{EL(c,!0)}),eR(4,()=>{DL(s,()=>{EL(o,!0)}),EL(a,e)})}),{initialItemFinalLocationReached:c,initialTopMostItemIndex:l,scrolledToInitialItem:o}},kL(GP,oP,XP,KP),{singleton:!0});function sR(e,t){return Math.abs(e-t)<1.01}const iR="up",aR="down",rR={atBottom:!1,notAtBottomBecause:"NOT_SHOWING_LAST_ITEM",state:{offsetBottom:0,scrollHeight:0,scrollTop:0,viewportHeight:0}},oR=YL(([{footerHeight:e,headerHeight:t,scrollBy:n,scrollContainerState:s,scrollTop:i,viewportHeight:a}])=>{const r=WL(!1),o=WL(!0),l=GL(),c=GL(),d=WL(4),u=WL(0),p=qL(BL(XL(BL(QL(i),$L(1),zL(!0)),BL(QL(i),$L(1),zL(!1),ML(100))),PL()),!1),m=qL(BL(XL(BL(n,zL(!0)),BL(n,zL(!1),ML(200))),PL()),!1);TL(BL(JL(QL(i),QL(u)),OL(([e,t])=>e<=t),PL()),o),TL(BL(o,UL(50)),c);const h=ZL(BL(JL(s,QL(a),QL(t),QL(e),QL(d)),HL((e,[{scrollHeight:t,scrollTop:n},s,i,a,r])=>{const o={scrollHeight:t,scrollTop:n,viewportHeight:s};if(n+s-t>-r){let t,s;return n>e.state.scrollTop?(t="SCROLLED_DOWN",s=e.state.scrollTop-n):(t="SIZE_DECREASED",s=e.state.scrollTop-n||e.scrollTopDelta),{atBottom:!0,atBottomBecause:t,scrollTopDelta:s,state:o}}let l;return l=o.scrollHeight>e.state.scrollHeight?"SIZE_INCREASED":s<e.state.viewportHeight?"VIEWPORT_HEIGHT_DECREASING":n<e.state.scrollTop?"SCROLLING_UPWARDS":"NOT_FULLY_SCROLLED_TO_LAST_ITEM_BOTTOM",{atBottom:!1,notAtBottomBecause:l,state:o}},rR),PL((e,t)=>e&&e.atBottom===t.atBottom))),x=qL(BL(s,HL((e,{scrollHeight:t,scrollTop:n,viewportHeight:s})=>{if(sR(e.scrollHeight,t))return{changed:!1,jump:0,scrollHeight:t,scrollTop:n};{const i=t-(n+s)<1;return e.scrollTop!==n&&i?{changed:!0,jump:e.scrollTop-n,scrollHeight:t,scrollTop:n}:{changed:!0,jump:0,scrollHeight:t,scrollTop:n}}},{changed:!1,jump:0,scrollHeight:0,scrollTop:0}),RL(e=>e.changed),OL(e=>e.jump)),0);TL(BL(h,OL(e=>e.atBottom)),r),TL(BL(r,UL(50)),l);const f=WL(aR);TL(BL(s,OL(({scrollTop:e})=>e),PL(),HL((e,t)=>AL(m)?{direction:e.direction,prevScrollTop:t}:{direction:t<e.prevScrollTop?iR:aR,prevScrollTop:t},{direction:aR,prevScrollTop:0}),OL(e=>e.direction)),f),TL(BL(s,UL(50),zL("none")),f);const g=WL(0);return TL(BL(p,RL(e=>!e),zL(0)),g),TL(BL(i,UL(100),VL(p),RL(([e,t])=>!!t),HL(([e,t],[n])=>[t,n],[0,0]),OL(([e,t])=>t-e)),g),{atBottomState:h,atBottomStateChange:l,atBottomThreshold:d,atTopStateChange:c,atTopThreshold:u,isAtBottom:r,isAtTop:o,isScrolling:p,lastJumpDueToItemResize:x,scrollDirection:f,scrollVelocity:g}},kL(oP)),lR="top",cR="bottom",dR="none";function uR(e,t,n){return"number"==typeof e?n===iR&&t===lR||n===aR&&t===cR?e:0:n===iR?t===lR?e.main:e.reverse:t===cR?e.main:e.reverse}function pR(e,t){var n;return"number"==typeof e?e:null!=(n=e[t])?n:0}const mR=YL(([{deviation:e,fixedHeaderHeight:t,headerHeight:n,scrollTop:s,viewportHeight:i}])=>{const a=GL(),r=WL(0),o=WL(0),l=WL(0);return{increaseViewportBy:o,listBoundary:a,overscan:l,topListHeight:r,visibleRange:qL(BL(JL(QL(s),QL(i),QL(n),QL(a,EP),QL(l),QL(r),QL(t),QL(e),QL(o)),OL(([e,t,n,[s,i],a,r,o,l,c])=>{const d=e-l,u=r+o,p=Math.max(n-d,0);let m=dR;const h=pR(c,lR),x=pR(c,cR);return s-=l,i+=n+o,(s+=n+o)>e+u-h&&(m=iR),(i-=l)<e-p+t+x&&(m=aR),m!==dR?[Math.max(d-n-uR(a,lR,m)-h,0),d-p-o+t+uR(a,cR,m)+x]:null}),RL(e=>null!=e),PL(EP)),[0,0])}},kL(oP),{singleton:!0});const hR={bottom:0,firstItemIndex:0,items:[],offsetBottom:0,offsetTop:0,top:0,topItems:[],topListHeight:0,totalCount:0};function xR(e,t,n,s,i,a){const{lastIndex:r,lastOffset:o,lastSize:l}=i;let c=0,d=0;if(e.length>0){c=e[0].offset;const t=e[e.length-1];d=t.offset+t.size}const u=n-r,p=c,m=o+u*l+(u-1)*s-d;return{bottom:d,firstItemIndex:a,items:gR(e,i,a),offsetBottom:m,offsetTop:c,top:p,topItems:gR(t,i,a),topListHeight:t.reduce((e,t)=>t.size+e,0),totalCount:n}}function fR(e,t,n,s,i,a){let r=0;if(n.groupIndices.length>0)for(const c of n.groupIndices){if(c-r>=e)break;r++}const o=e+r,l=tR(t,o);return xR(Array.from({length:o}).map((e,t)=>({data:a[t+l],index:t+l,offset:0,size:0})),[],o,i,n,s)}function gR(e,t,n){if(0===e.length)return[];if(!MP(t))return e.map(e=>({...e,index:e.index+n,originalIndex:e.index}));const s=e[0].index,i=e[e.length-1].index,a=[],r=xP(t.groupOffsetTree,s,i);let o,l=0;for(const c of e){let e;(!o||o.end<c.index)&&(o=r.shift(),l=t.groupIndices.indexOf(o.start)),e=c.index===o.start?{index:l,type:"group"}:{groupIndex:l,index:c.index-(l+1)+n},a.push({...e,data:c.data,offset:c.offset,originalIndex:c.index,size:c.size})}return a}const vR=YL(([{data:e,firstItemIndex:t,gap:n,sizes:s,totalCount:i},a,{listBoundary:r,topListHeight:o,visibleRange:l},{initialTopMostItemIndex:c,scrolledToInitialItem:d},{topListHeight:u},p,{didMount:m},{recalcInProgress:h}])=>{const x=WL([]),f=WL(0),g=GL();TL(a.topItemsIndexes,x);const v=qL(BL(JL(m,h,QL(l,EP),QL(i),QL(s),QL(c),d,QL(x),QL(t),QL(n),e),RL(([e,t,,n,,,,,,,s])=>{const i=s&&s.length!==n;return e&&!t&&!i}),OL(([,,[e,t],n,s,i,a,r,o,l,c])=>{const d=s,{offsetTree:u,sizeTree:p}=d,m=AL(f);if(0===n)return{...hR,totalCount:n};if(0===e&&0===t)return 0===m?{...hR,totalCount:n}:fR(m,i,s,o,l,c||[]);if(dP(p))return m>0?null:xR(function(e,t,n){if(MP(t)){const s=OP(e,t);return[{index:pP(t.groupOffsetTree,s)[0],offset:0,size:0},{data:null==n?void 0:n[0],index:s,offset:0,size:0}]}return[{data:null==n?void 0:n[0],index:e,offset:0,size:0}]}(tR(i,n),d,c),[],n,l,d,o);const h=[];if(r.length>0){const e=r[0],t=r[r.length-1];let n=0;for(const s of xP(p,e,t)){const i=s.value,a=Math.max(s.start,e),r=Math.min(s.end,t);for(let e=a;e<=r;e++)h.push({data:null==c?void 0:c[e],index:e,offset:n,size:i}),n+=i}}if(!a)return xR([],h,n,l,d,o);const x=r.length>0?r[r.length-1]+1:0,g=BP(u,e,t,x);if(0===g.length)return null;const v=n-1;return xR(FL([],n=>{for(const s of g){const i=s.value;let a=i.offset,r=s.start;const o=i.size;if(i.offset<e){r+=Math.floor((e-i.offset+l)/(o+l));const t=r-s.start;a+=t*o+t*l}r<x&&(a+=(x-r)*o,r=x);const d=Math.min(s.end,v);for(let e=r;e<=d&&!(a>=t);e++)n.push({data:null==c?void 0:c[e],index:e,offset:a,size:o}),a+=o+l}}),h,n,l,d,o)}),RL(e=>null!==e),PL()),hR);TL(BL(e,RL(CL),OL(e=>null==e?void 0:e.length)),i),TL(BL(v,OL(e=>e.topListHeight)),u),TL(u,o),TL(BL(v,OL(e=>[e.top,e.bottom])),r),TL(BL(v,OL(e=>e.items)),g);const b=ZL(BL(v,RL(({items:e})=>e.length>0),VL(i,e),RL(([{items:e},t])=>e[e.length-1].originalIndex===t-1),OL(([,e,t])=>[e-1,t]),PL(EP),OL(([e])=>e))),y=ZL(BL(v,UL(200),RL(({items:e,topItems:t})=>e.length>0&&e[0].originalIndex===t.length),OL(({items:e})=>e[0].index),PL())),w=ZL(BL(v,RL(({items:e})=>e.length>0),OL(({items:e})=>{let t=0,n=e.length-1;for(;"group"===e[t].type&&t<n;)t++;for(;"group"===e[n].type&&n>t;)n--;return{endIndex:e[n].index,startIndex:e[t].index}}),PL(SP)));return{endReached:b,initialItemCount:f,itemsRendered:g,listState:v,rangeChanged:w,startReached:y,topItemsIndexes:x,...p}},kL(GP,YP,mR,nR,XP,oR,KP,IP),{singleton:!0}),bR=YL(([{fixedFooterHeight:e,fixedHeaderHeight:t,footerHeight:n,headerHeight:s},{listState:i}])=>{const a=GL(),r=qL(BL(JL(n,e,s,t,i),OL(([e,t,n,s,i])=>e+t+n+s+i.offsetBottom+i.bottom)),0);return TL(QL(r),a),{totalListHeight:r,totalListHeightChanged:a}},kL(oP,vR),{singleton:!0}),yR=YL(([{viewportHeight:e},{totalListHeight:t}])=>{const n=WL(!1);return{alignToBottom:n,paddingTopAddition:qL(BL(JL(n,e,t),RL(([e])=>e),OL(([,e,t])=>Math.max(0,e-t)),UL(0),PL()),0)}},kL(oP,bR),{singleton:!0}),wR=YL(()=>({context:WL(null)})),jR=({itemBottom:e,itemTop:t,locationParams:{align:n,behavior:s,...i},viewportBottom:a,viewportTop:r})=>t<r?{...i,align:null!=n?n:"start",behavior:s}:e>a?{...i,align:null!=n?n:"end",behavior:s}:null,CR=YL(([{gap:e,sizes:t,totalCount:n},{fixedFooterHeight:s,fixedHeaderHeight:i,headerHeight:a,scrollingInProgress:r,scrollTop:o,viewportHeight:l},{scrollToIndex:c}])=>{const d=GL();return TL(BL(d,VL(t,l,n,a,i,s,o),VL(e),OL(([[e,t,n,s,i,a,o,l],c])=>{const{align:d,behavior:u,calculateViewLocation:p=jR,done:m,...h}=e,x=zP(e,t,s-1),f=RP(x,t.offsetTree,c)+i+a,g=p({itemBottom:f+pP(t.sizeTree,x)[1],itemTop:f,locationParams:{align:d,behavior:u,...h},viewportBottom:l+n-o,viewportTop:l+a});return g?m&&DL(BL(r,RL(e=>!e),$L(AL(r)?1:2)),m):m&&m(),g}),RL(e=>null!==e)),c),{scrollIntoView:d}},kL(GP,oP,XP,vR,tP),{singleton:!0});function NR(e){return!!e&&("smooth"===e?"smooth":"auto")}const FR=YL(([{listRefresh:e,totalCount:t,fixedItemSize:n,data:s},{atBottomState:i,isAtBottom:a},{scrollToIndex:r},{scrolledToInitialItem:o},{didMount:l,propsReady:c},{log:d},{scrollingInProgress:u},{context:p},{scrollIntoView:m}])=>{const h=WL(!1),x=GL();let f=null;function g(e){EL(r,{align:"end",behavior:e,index:"LAST"})}function v(e){const t=DL(i,t=>{e&&!t.atBottom&&"SIZE_INCREASED"===t.notAtBottomBecause&&!f&&(AL(d)("scrolling to bottom due to increased size",{},eP.DEBUG),g("auto"))});setTimeout(t,100)}SL(BL(JL(BL(QL(t),$L(1)),l),VL(QL(h),a,o,u),OL(([[e,t],n,s,i,a])=>{let r=t&&i,o="auto";return r&&(o=((e,t)=>"function"==typeof e?NR(e(t)):t&&NR(e))(n,s||a),r=r&&!!o),{followOutputBehavior:o,shouldFollow:r,totalCount:e}}),RL(({shouldFollow:e})=>e)),({followOutputBehavior:t,totalCount:s})=>{f&&(f(),f=null),AL(n)?requestAnimationFrame(()=>{AL(d)("following output to ",{totalCount:s},eP.DEBUG),g(t)}):f=DL(e,()=>{AL(d)("following output to ",{totalCount:s},eP.DEBUG),g(t),f=null})}),SL(BL(JL(QL(h),t,c),RL(([e,,t])=>e&&t),HL(({value:e},[,t])=>({refreshed:e===t,value:t}),{refreshed:!1,value:0}),RL(({refreshed:e})=>e),VL(h,t)),([,e])=>{AL(o)&&v(!1!==e)}),SL(x,()=>{v(!1!==AL(h))}),SL(JL(QL(h),i),([e,t])=>{e&&!t.atBottom&&"VIEWPORT_HEIGHT_DECREASING"===t.notAtBottomBecause&&g("auto")});const b=WL(null),y=GL();return TL(XL(BL(QL(s),OL(e=>{var t;return null!=(t=null==e?void 0:e.length)?t:0})),BL(QL(t))),y),SL(BL(JL(BL(y,$L(1)),l),VL(QL(b),o,u,p),OL(([[e,t],n,s,i,a])=>t&&s&&(null==n?void 0:n({context:a,totalCount:e,scrollingInProgress:i}))),RL(e=>!!e),UL(0)),t=>{f&&(f(),f=null),AL(n)?requestAnimationFrame(()=>{AL(d)("scrolling into view",{}),EL(m,t)}):f=DL(e,()=>{AL(d)("scrolling into view",{}),EL(m,t),f=null})}),{autoscrollToBottom:x,followOutput:h,scrollIntoViewOnChange:b}},kL(GP,oR,XP,nR,KP,tP,oP,wR,CR)),_R=YL(([{data:e,firstItemIndex:t,gap:n,sizes:s},{initialTopMostItemIndex:i},{initialItemCount:a,listState:r},{didMount:o}])=>(TL(BL(o,VL(a),RL(([,e])=>0!==e),VL(i,s,t,n,e),OL(([[,e],t,n,s,i,a=[]])=>fR(e,t,n,s,i,a))),r),{}),kL(GP,nR,vR,KP),{singleton:!0}),kR=YL(([{didMount:e},{scrollTo:t},{listState:n}])=>{const s=WL(0);return SL(BL(e,VL(s),RL(([,e])=>0!==e),OL(([,e])=>({top:e}))),e=>{DL(BL(n,$L(1),RL(e=>e.items.length>1)),()=>{requestAnimationFrame(()=>{EL(t,e)})})}),{initialScrollTop:s}},kL(KP,oP,vR),{singleton:!0}),SR=YL(([{scrollVelocity:e}])=>{const t=WL(!1),n=GL(),s=WL(!1);return TL(BL(e,VL(s,t,n),RL(([e,t])=>!!t),OL(([e,t,n,s])=>{const{enter:i,exit:a}=t;if(n){if(a(e,s))return!1}else if(i(e,s))return!0;return n}),PL()),t),SL(BL(JL(t,e,n),VL(s)),([[e,t,n],s])=>{e&&s&&s.change&&s.change(t,n)}),{isSeeking:t,scrollSeekConfiguration:s,scrollSeekRangeChanged:n,scrollVelocity:e}},kL(oR),{singleton:!0}),ER=YL(([{scrollContainerState:e,scrollTo:t}])=>{const n=GL(),s=GL(),i=GL(),a=WL(!1),r=WL(void 0);return TL(BL(JL(n,s),OL(([{scrollHeight:e,scrollTop:t,viewportHeight:n},{offsetTop:s}])=>({scrollHeight:e,scrollTop:Math.max(0,t-s),viewportHeight:n}))),e),TL(BL(t,VL(s),OL(([e,{offsetTop:t}])=>({...e,top:e.top+t}))),i),{customScrollParent:r,useWindowScroll:a,windowScrollContainerState:n,windowScrollTo:i,windowViewportRect:s}},kL(oP)),IR=YL(([{sizeRanges:e,sizes:t},{headerHeight:n,scrollTop:s},{initialTopMostItemIndex:i},{didMount:a},{useWindowScroll:r,windowScrollContainerState:o,windowViewportRect:l}])=>{const c=GL(),d=WL(void 0),u=WL(null),p=WL(null);return TL(o,u),TL(l,p),SL(BL(c,VL(t,s,r,u,p,n)),([e,t,n,s,i,a,r])=>{const o=function(e){return gP(e).map(({k:e,v:t},n,s)=>{const i=s[n+1];return{endIndex:i?i.k-1:1/0,size:t,startIndex:e}})}(t.sizeTree);s&&null!==i&&null!==a&&(n=i.scrollTop-a.offsetTop),e({ranges:o,scrollTop:n-=r})}),TL(BL(d,RL(CL),OL(AR)),i),TL(BL(a,VL(d),RL(([,e])=>void 0!==e),PL(),OL(([,e])=>e.ranges)),e),{getState:c,restoreStateFrom:d}},kL(GP,oP,nR,KP,ER));function AR(e){return{align:"start",index:0,offset:e.scrollTop}}const TR=YL(([{topItemsIndexes:e}])=>{const t=WL(0);return TL(BL(t,RL(e=>e>=0),OL(e=>Array.from({length:e}).map((e,t)=>t))),e),{topItemCount:t}},kL(vR));function DR(e){let t,n=!1;return()=>(n||(n=!0,t=e()),t)}const MR=DR(()=>/iP(ad|od|hone)/i.test(navigator.userAgent)&&/WebKit/i.test(navigator.userAgent)),LR=YL(([{deviation:e,scrollBy:t,scrollingInProgress:n,scrollTop:s},{isAtBottom:i,isScrolling:a,lastJumpDueToItemResize:r,scrollDirection:o},{listState:l},{beforeUnshiftWith:c,gap:d,shiftWithOffset:u,sizes:p},{log:m},{recalcInProgress:h}])=>{const x=ZL(BL(l,VL(r),HL(([,e,t,n],[{bottom:s,items:i,offsetBottom:a,totalCount:r},o])=>{const l=s+a;let c=0;return t===r&&e.length>0&&i.length>0&&(0===i[0].originalIndex&&0===e[0].originalIndex||(c=l-n,0!==c&&(c+=o))),[c,i,r,l]},[0,[],0,0]),RL(([e])=>0!==e),VL(s,o,n,i,m,h),RL(([,e,t,n,,,s])=>!s&&!n&&0!==e&&t===iR),OL(([[e],,,,,t])=>(t("Upward scrolling compensation",{amount:e},eP.DEBUG),e))));function f(n){n>0?(EL(t,{behavior:"auto",top:-n}),EL(e,0)):(EL(e,0),EL(t,{behavior:"auto",top:-n}))}return SL(BL(x,VL(e,a)),([t,n,s])=>{s&&MR()?EL(e,n-t):f(-t)}),SL(BL(JL(qL(a,!1),e,h),RL(([e,t,n])=>!e&&!n&&0!==t),OL(([e,t])=>t),UL(1)),f),TL(BL(u,OL(e=>({top:-e}))),t),SL(BL(c,VL(p,d),OL(([e,{groupIndices:t,lastSize:n,sizeTree:s},i])=>{function a(e){return e*(n+i)}if(0===t.length)return a(e);{let n=0;const i=uP(s,0);let r=0,o=0;for(;r<e;){r++,n+=i;let s=t.length===o+1?1/0:t[o+1]-t[o]-1;r+s>e&&(n-=i,s=e-r+1),r+=s,n+=a(s),o++}return n}})),n=>{EL(e,n),requestAnimationFrame(()=>{EL(t,{top:n}),requestAnimationFrame(()=>{EL(e,0),EL(h,!1)})})}),{deviation:e}},kL(oP,oR,vR,GP,tP,IP)),PR=YL(([e,t,n,s,i,a,r,o,l,c,d])=>({...e,...t,...n,...s,...i,...a,...r,...o,...l,...c,...d}),kL(mR,_R,KP,SR,bR,kR,yR,ER,CR,tP,wR)),RR=YL(([{data:e,defaultItemSize:t,firstItemIndex:n,fixedItemSize:s,gap:i,groupIndices:a,itemSize:r,sizeRanges:o,sizes:l,statefulTotalCount:c,totalCount:d,trackItemSizes:u},{initialItemFinalLocationReached:p,initialTopMostItemIndex:m,scrolledToInitialItem:h},x,f,g,{listState:v,topItemsIndexes:b,...y},{scrollToIndex:w},j,{topItemCount:C},{groupCounts:N},F])=>(TL(y.rangeChanged,F.scrollSeekRangeChanged),TL(BL(F.windowViewportRect,OL(e=>e.visibleHeight)),x.viewportHeight),{data:e,defaultItemHeight:t,firstItemIndex:n,fixedItemHeight:s,gap:i,groupCounts:N,initialItemFinalLocationReached:p,initialTopMostItemIndex:m,scrolledToInitialItem:h,sizeRanges:o,topItemCount:C,topItemsIndexes:b,totalCount:d,...g,groupIndices:a,itemSize:r,listState:v,scrollToIndex:w,statefulTotalCount:c,trackItemSizes:u,...y,...F,...x,sizes:l,...f}),kL(GP,nR,oP,IR,FR,vR,XP,LR,TR,YP,PR));function OR(e,t){const n={},s={};let i=0;const a=e.length;for(;i<a;)s[e[i]]=1,i+=1;for(const r in t)Object.hasOwn(s,r)||(n[r]=t[r]);return n}const zR=typeof document<"u"?Pe.useLayoutEffect:Pe.useEffect;function BR(e,t,s){const i=Object.keys(t.required||{}),a=Object.keys(t.optional||{}),r=Object.keys(t.methods||{}),o=Object.keys(t.events||{}),l=Pe.createContext({});function c(e,n){e.propsReady&&EL(e.propsReady,!1);for(const s of i){EL(e[t.required[s]],n[s])}for(const s of a)if(s in n){EL(e[t.optional[s]],n[s])}e.propsReady&&EL(e.propsReady,!0)}function d(e){return o.reduce((n,s)=>(n[s]=function(e){let t,n;const s=()=>null==t?void 0:t();return function(i,a){switch(i){case 1:return a?n===a?void 0:(s(),n=a,t=SL(e,a),t):(s(),NL);case 2:return s(),void(n=null)}}}(e[t.events[s]]),n),{})}const u=Pe.forwardRef((u,p)=>{const{children:m,...h}=u,[x]=Pe.useState(()=>FL(function(e){const t=new Map,n=({constructor:e,dependencies:s,id:i,singleton:a})=>{if(a&&t.has(i))return t.get(i);const r=e(s.map(e=>n(e)));return a&&t.set(i,r),r};return n(e)}(e),e=>{c(e,h)})),[f]=Pe.useState(jL(d,x));zR(()=>{for(const e of o)e in h&&SL(f[e],h[e]);return()=>{Object.values(f).map(IL)}},[h,f,x]),zR(()=>{c(x,h)}),Pe.useImperativeHandle(p,bL(function(e){return r.reduce((n,s)=>(n[s]=n=>{EL(e[t.methods[s]],n)},n),{})}(x)));const g=s;return n.jsx(l.Provider,{value:x,children:s?n.jsx(g,{...OR([...i,...a,...o],h),children:m}):m})});return{Component:u,useEmitter:(e,t)=>{const n=Pe.useContext(l)[e];zR(()=>SL(n,t),[t,n])},useEmitterValue:Pe.version.startsWith("18")?e=>{const t=Pe.useContext(l)[e],n=Pe.useCallback(e=>SL(t,e),[t]);return Pe.useSyncExternalStore(n,()=>AL(t),()=>AL(t))}:e=>{const t=Pe.useContext(l)[e],[n,s]=Pe.useState(jL(AL,t));return zR(()=>SL(t,e=>{e!==n&&s(bL(e))}),[t,n]),n},usePublisher:e=>{const t=Pe.useContext(l);return Pe.useCallback(n=>{EL(t[e],n)},[t,e])}}}const HR=Pe.createContext(void 0),$R=Pe.createContext(void 0),UR=typeof document<"u"?Pe.useLayoutEffect:Pe.useEffect;function VR(e){return"self"in e}function WR(e,t,n,s=NL,i,a){const r=Pe.useRef(null),o=Pe.useRef(null),l=Pe.useRef(null),c=Pe.useCallback(n=>{let s,i,r;const c=n.target;if(function(e){return"body"in e}(c)||VR(c)){const e=VR(c)?c:c.defaultView;r=a?e.scrollX:e.scrollY,s=a?e.document.documentElement.scrollWidth:e.document.documentElement.scrollHeight,i=a?e.innerWidth:e.innerHeight}else r=a?c.scrollLeft:c.scrollTop,s=a?c.scrollWidth:c.scrollHeight,i=a?c.offsetWidth:c.offsetHeight;const d=()=>{e({scrollHeight:s,scrollTop:Math.max(r,0),viewportHeight:i})};n.suppressFlushSync?d():Be.flushSync(d),null!==o.current&&(r===o.current||r<=0||r===s-i)&&(o.current=null,t(!0),l.current&&(clearTimeout(l.current),l.current=null))},[e,t,a]);return Pe.useEffect(()=>{const e=i||r.current;return s(i||r.current),c({suppressFlushSync:!0,target:e}),e.addEventListener("scroll",c,{passive:!0}),()=>{s(null),e.removeEventListener("scroll",c)}},[r,c,n,s,i]),{scrollByCallback:function(e){a&&(e={behavior:e.behavior,left:e.top}),r.current.scrollBy(e)},scrollerRef:r,scrollToCallback:function(n){const s=r.current;if(!s||(a?"offsetWidth"in s&&0===s.offsetWidth:"offsetHeight"in s&&0===s.offsetHeight))return;const i="smooth"===n.behavior;let c,d,u;VR(s)?(d=Math.max(DP(s.document.documentElement,a?"width":"height"),a?s.document.documentElement.scrollWidth:s.document.documentElement.scrollHeight),c=a?s.innerWidth:s.innerHeight,u=a?window.scrollX:window.scrollY):(d=s[a?"scrollWidth":"scrollHeight"],c=DP(s,a?"width":"height"),u=s[a?"scrollLeft":"scrollTop"]);const p=d-c;if(n.top=Math.ceil(Math.max(Math.min(p,n.top),0)),sR(c,d)||n.top===u)return e({scrollHeight:d,scrollTop:u,viewportHeight:c}),void(i&&t(!0));i?(o.current=n.top,l.current&&clearTimeout(l.current),l.current=setTimeout(()=>{l.current=null,o.current=null,t(!0)},1e3)):o.current=null,a&&(n={behavior:n.behavior,left:n.top}),s.scrollTo(n)}}}const qR="-webkit-sticky",GR="sticky",ZR=DR(()=>{if(typeof document>"u")return GR;const e=document.createElement("div");return e.style.position=qR,e.style.position===qR?qR:GR});function YR(e){return e}const KR=YL(()=>{const e=WL(e=>`Item ${e}`),t=WL(e=>`Group ${e}`),n=WL({}),s=WL(YR),i=WL("div"),a=WL(NL),r=(e,t=null)=>qL(BL(n,OL(t=>t[e]),PL()),t);return{components:n,computeItemKey:s,EmptyPlaceholder:r("EmptyPlaceholder"),FooterComponent:r("Footer"),GroupComponent:r("Group","div"),groupContent:t,HeaderComponent:r("Header"),HeaderFooterTag:i,ItemComponent:r("Item","div"),itemContent:e,ListComponent:r("List","div"),ScrollerComponent:r("Scroller","div"),scrollerRef:a,ScrollSeekPlaceholder:r("ScrollSeekPlaceholder"),TopItemListComponent:r("TopItemList")}}),JR=YL(([e,t])=>({...e,...t}),kL(RR,KR)),QR=({height:e})=>n.jsx("div",{style:{height:e}}),XR={overflowAnchor:"none",position:ZR(),zIndex:1},eO={overflowAnchor:"none"},tO={...eO,display:"inline-block",height:"100%"},nO=Pe.memo(function({showTopList:e=!1}){const t=bO("listState"),s=yO("sizeRanges"),i=bO("useWindowScroll"),a=bO("customScrollParent"),r=yO("windowScrollContainerState"),o=yO("scrollContainerState"),l=a||i?r:o,c=bO("itemContent"),d=bO("context"),u=bO("groupContent"),p=bO("trackItemSizes"),m=bO("itemSize"),h=bO("log"),x=yO("gap"),f=bO("horizontalDirection"),{callbackRef:g}=iP(s,m,p,e?NL:l,h,x,a,f,bO("skipAnimationFrameInResizeObserver")),[v,b]=Pe.useState(0);vO("deviation",e=>{v!==e&&b(e)});const y=bO("EmptyPlaceholder"),w=bO("ScrollSeekPlaceholder")||QR,j=bO("ListComponent"),C=bO("ItemComponent"),N=bO("GroupComponent"),F=bO("computeItemKey"),_=bO("isSeeking"),k=bO("groupIndices").length>0,S=bO("alignToBottom"),E=bO("initialItemFinalLocationReached"),I=e?{}:{boxSizing:"border-box",...f?{display:"inline-block",height:"100%",marginLeft:0!==v?v:S?"auto":0,paddingLeft:t.offsetTop,paddingRight:t.offsetBottom,whiteSpace:"nowrap"}:{marginTop:0!==v?v:S?"auto":0,paddingBottom:t.offsetBottom,paddingTop:t.offsetTop},...E?{}:{visibility:"hidden"}};return!e&&0===t.totalCount&&y?n.jsx(y,{...oO(y,d)}):n.jsx(j,{...oO(j,d),"data-testid":e?"virtuoso-top-item-list":"virtuoso-item-list",ref:g,style:I,children:(e?t.topItems:t.items).map(e=>{const n=e.originalIndex,s=F(n+t.firstItemIndex,e.data,d);return _?De.createElement(w,{...oO(w,d),height:e.size,index:e.index,key:s,type:e.type||"item",..."group"===e.type?{}:{groupIndex:e.groupIndex}}):"group"===e.type?De.createElement(N,{...oO(N,d),"data-index":n,"data-item-index":e.index,"data-known-size":e.size,key:s,style:XR},u(e.index,d)):De.createElement(C,{...oO(C,d),...lO(C,e.data),"data-index":n,"data-item-group-index":e.groupIndex,"data-item-index":e.index,"data-known-size":e.size,key:s,style:f?tO:eO},k?c(e.index,e.groupIndex,e.data,d):c(e.index,e.data,d))})})}),sO={height:"100%",outline:"none",overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},iO={outline:"none",overflowX:"auto",position:"relative"},aO=e=>({height:"100%",position:"absolute",top:0,width:"100%",...e?{display:"flex",flexDirection:"column"}:{}}),rO={position:ZR(),top:0,width:"100%",zIndex:1};function oO(e,t){if("string"!=typeof e)return{context:t}}function lO(e,t){return{item:"string"==typeof e?void 0:t}}const cO=Pe.memo(function(){const e=bO("HeaderComponent"),t=yO("headerHeight"),s=bO("HeaderFooterTag"),i=nP(Pe.useMemo(()=>e=>{t(DP(e,"height"))},[t]),!0,bO("skipAnimationFrameInResizeObserver")),a=bO("context");return e?n.jsx(s,{ref:i,children:n.jsx(e,{...oO(e,a)})}):null}),dO=Pe.memo(function(){const e=bO("FooterComponent"),t=yO("footerHeight"),s=bO("HeaderFooterTag"),i=nP(Pe.useMemo(()=>e=>{t(DP(e,"height"))},[t]),!0,bO("skipAnimationFrameInResizeObserver")),a=bO("context");return e?n.jsx(s,{ref:i,children:n.jsx(e,{...oO(e,a)})}):null});function uO({useEmitter:e,useEmitterValue:t,usePublisher:s}){return Pe.memo(function({children:i,style:a,context:r,...o}){const l=s("scrollContainerState"),c=t("ScrollerComponent"),d=s("smoothScrollTargetReached"),u=t("scrollerRef"),p=t("horizontalDirection")||!1,{scrollByCallback:m,scrollerRef:h,scrollToCallback:x}=WR(l,d,c,u,void 0,p);return e("scrollTo",x),e("scrollBy",m),n.jsx(c,{"data-testid":"virtuoso-scroller","data-virtuoso-scroller":!0,ref:h,style:{...p?iO:sO,...a},tabIndex:0,...o,...oO(c,r),children:i})})}function pO({useEmitter:e,useEmitterValue:t,usePublisher:s}){return Pe.memo(function({children:i,style:a,context:r,...o}){const l=s("windowScrollContainerState"),c=t("ScrollerComponent"),d=s("smoothScrollTargetReached"),u=t("totalListHeight"),p=t("deviation"),m=t("customScrollParent"),h=Pe.useRef(null),x=t("scrollerRef"),{scrollByCallback:f,scrollerRef:g,scrollToCallback:v}=WR(l,d,c,x,m);return UR(()=>{var e;return g.current=m||(null==(e=h.current)?void 0:e.ownerDocument.defaultView),()=>{g.current=null}},[g,m]),e("windowScrollTo",v),e("scrollBy",f),n.jsx(c,{ref:h,"data-virtuoso-scroller":!0,style:{position:"relative",...a,...0!==u?{height:u+p}:{}},...o,...oO(c,r),children:i})})}const mO=({children:e})=>{const t=Pe.useContext(HR),s=yO("viewportHeight"),i=yO("fixedItemHeight"),a=bO("alignToBottom"),r=bO("horizontalDirection"),o=nP(Pe.useMemo(()=>wL(s,e=>DP(e,r?"width":"height")),[s,r]),!0,bO("skipAnimationFrameInResizeObserver"));return Pe.useEffect(()=>{t&&(s(t.viewportHeight),i(t.itemHeight))},[t,s,i]),n.jsx("div",{"data-viewport-type":"element",ref:o,style:aO(a),children:e})},hO=({children:e})=>{const t=Pe.useContext(HR),s=yO("windowViewportRect"),i=yO("fixedItemHeight"),a=bO("customScrollParent"),r=rP(s,a,bO("skipAnimationFrameInResizeObserver")),o=bO("alignToBottom");return Pe.useEffect(()=>{t&&(i(t.itemHeight),s({offsetTop:0,visibleHeight:t.viewportHeight,visibleWidth:100}))},[t,s,i]),n.jsx("div",{"data-viewport-type":"window",ref:r,style:aO(o),children:e})},xO=({children:e})=>{const t=bO("TopItemListComponent")||"div",s=bO("headerHeight"),i={...rO,marginTop:`${s}px`},a=bO("context");return n.jsx(t,{style:i,...oO(t,a),children:e})},fO=Pe.memo(function(e){const t=bO("useWindowScroll"),s=bO("topItemsIndexes").length>0,i=bO("customScrollParent"),a=bO("context");return n.jsxs(i||t?jO:wO,{...e,context:a,children:[s&&n.jsx(xO,{children:n.jsx(nO,{showTopList:!0})}),n.jsxs(i||t?hO:mO,{children:[n.jsx(cO,{}),n.jsx(nO,{}),n.jsx(dO,{})]})]})}),{Component:gO,useEmitter:vO,useEmitterValue:bO,usePublisher:yO}=BR(JR,{required:{},optional:{restoreStateFrom:"restoreStateFrom",context:"context",followOutput:"followOutput",scrollIntoViewOnChange:"scrollIntoViewOnChange",itemContent:"itemContent",groupContent:"groupContent",overscan:"overscan",increaseViewportBy:"increaseViewportBy",totalCount:"totalCount",groupCounts:"groupCounts",topItemCount:"topItemCount",firstItemIndex:"firstItemIndex",initialTopMostItemIndex:"initialTopMostItemIndex",components:"components",atBottomThreshold:"atBottomThreshold",atTopThreshold:"atTopThreshold",computeItemKey:"computeItemKey",defaultItemHeight:"defaultItemHeight",fixedItemHeight:"fixedItemHeight",itemSize:"itemSize",scrollSeekConfiguration:"scrollSeekConfiguration",headerFooterTag:"HeaderFooterTag",data:"data",initialItemCount:"initialItemCount",initialScrollTop:"initialScrollTop",alignToBottom:"alignToBottom",useWindowScroll:"useWindowScroll",customScrollParent:"customScrollParent",scrollerRef:"scrollerRef",logLevel:"logLevel",horizontalDirection:"horizontalDirection",skipAnimationFrameInResizeObserver:"skipAnimationFrameInResizeObserver"},methods:{scrollToIndex:"scrollToIndex",scrollIntoView:"scrollIntoView",scrollTo:"scrollTo",scrollBy:"scrollBy",autoscrollToBottom:"autoscrollToBottom",getState:"getState"},events:{isScrolling:"isScrolling",endReached:"endReached",startReached:"startReached",rangeChanged:"rangeChanged",atBottomStateChange:"atBottomStateChange",atTopStateChange:"atTopStateChange",totalListHeightChanged:"totalListHeightChanged",itemsRendered:"itemsRendered",groupIndices:"groupIndices"}},fO),wO=uO({useEmitter:vO,useEmitterValue:bO,usePublisher:yO}),jO=pO({useEmitter:vO,useEmitterValue:bO,usePublisher:yO}),CO=gO,NO=YL(()=>{const e=WL(e=>n.jsxs("td",{children:["Item $",e]})),t=WL(null),s=WL(e=>n.jsxs("td",{colSpan:1e3,children:["Group ",e]})),i=WL(null),a=WL(null),r=WL({}),o=WL(YR),l=WL(NL),c=(e,t=null)=>qL(BL(r,OL(t=>t[e]),PL()),t);return{components:r,computeItemKey:o,context:t,EmptyPlaceholder:c("EmptyPlaceholder"),FillerRow:c("FillerRow"),fixedFooterContent:a,fixedHeaderContent:i,itemContent:e,groupContent:s,ScrollerComponent:c("Scroller","div"),scrollerRef:l,ScrollSeekPlaceholder:c("ScrollSeekPlaceholder"),TableBodyComponent:c("TableBody","tbody"),TableComponent:c("Table","table"),TableFooterComponent:c("TableFoot","tfoot"),TableHeadComponent:c("TableHead","thead"),TableRowComponent:c("TableRow","tr"),GroupComponent:c("Group","tr")}});kL(RR,NO),ZR();const FO={bottom:0,itemHeight:0,items:[],itemWidth:0,offsetBottom:0,offsetTop:0,top:0},_O={bottom:0,itemHeight:0,items:[{index:0}],itemWidth:0,offsetBottom:0,offsetTop:0,top:0},{ceil:kO,floor:SO,max:EO,min:IO,round:AO}=Math;function TO(e,t,n){return Array.from({length:t-e+1}).map((t,s)=>({data:null===n?null:n[s+e],index:s+e}))}function DO(e,t){return e&&e.width===t.width&&e.height===t.height}function MO(e,t){return e&&e.column===t.column&&e.row===t.row}const LO=YL(([{increaseViewportBy:e,listBoundary:t,overscan:n,visibleRange:s},{footerHeight:i,headerHeight:a,scrollBy:r,scrollContainerState:o,scrollTo:l,scrollTop:c,smoothScrollTargetReached:d,viewportHeight:u},p,m,{didMount:h,propsReady:x},{customScrollParent:f,useWindowScroll:g,windowScrollContainerState:v,windowScrollTo:b,windowViewportRect:y},w])=>{const j=WL(0),C=WL(0),N=WL(FO),F=WL({height:0,width:0}),_=WL({height:0,width:0}),k=GL(),S=GL(),E=WL(0),I=WL(null),A=WL({column:0,row:0}),T=GL(),D=GL(),M=WL(!1),L=WL(0),P=WL(!0),R=WL(!1),O=WL(!1);SL(BL(h,VL(L),RL(([e,t])=>!!t)),()=>{EL(P,!1)}),SL(BL(JL(h,P,_,F,L,R),RL(([e,t,n,s,,i])=>e&&!t&&0!==n.height&&0!==s.height&&!i)),([,,,,e])=>{EL(R,!0),eR(1,()=>{EL(k,e)}),DL(BL(c),()=>{EL(t,[0,0]),EL(P,!0)})}),TL(BL(D,RL(e=>null!=e&&e.scrollTop>0),zL(0)),C),SL(BL(h,VL(D),RL(([,e])=>null!=e)),([,e])=>{e&&(EL(F,e.viewport),EL(_,e.item),EL(A,e.gap),e.scrollTop>0&&(EL(M,!0),DL(BL(c,$L(1)),e=>{EL(M,!1)}),EL(l,{top:e.scrollTop})))}),TL(BL(F,OL(({height:e})=>e)),u),TL(BL(JL(QL(F,DO),QL(_,DO),QL(A,(e,t)=>e&&e.column===t.column&&e.row===t.row),QL(c)),OL(([e,t,n,s])=>({gap:n,item:t,scrollTop:s,viewport:e}))),T),TL(BL(JL(QL(j),s,QL(A,MO),QL(_,DO),QL(F,DO),QL(I),QL(C),QL(M),QL(P),QL(L)),RL(([,,,,,,,e])=>!e),OL(([e,[t,n],s,i,a,r,o,,l,c])=>{const{column:d,row:u}=s,{height:p,width:m}=i,{width:h}=a;if(0===o&&(0===e||0===h))return FO;if(0===m){const t=tR(c,e);return function(e){return{..._O,items:e}}(TO(t,t+Math.max(o-1,0),r))}const x=PO(h,m,d);let f,g;l?0===t&&0===n&&o>0?(f=0,g=o-1):(f=x*SO((t+u)/(p+u)),g=x*kO((n+u)/(p+u))-1,g=IO(e-1,EO(g,x-1)),f=IO(g,EO(0,f))):(f=0,g=-1);const v=TO(f,g,r),{bottom:b,top:y}=RO(a,s,i,v),w=kO(e/x);return{bottom:b,itemHeight:p,items:v,itemWidth:m,offsetBottom:w*p+(w-1)*u-b,offsetTop:y,top:y}})),N),TL(BL(I,RL(e=>null!==e),OL(e=>e.length)),j),TL(BL(JL(F,_,N,A),RL(([e,t,{items:n}])=>n.length>0&&0!==t.height&&0!==e.height),OL(([e,t,{items:n},s])=>{const{bottom:i,top:a}=RO(e,s,t,n);return[a,i]}),PL(EP)),t);const z=WL(!1);TL(BL(c,VL(z),OL(([e,t])=>t||0!==e)),z);const B=ZL(BL(JL(N,j),RL(([{items:e}])=>e.length>0),VL(z),RL(([[e,t],n])=>{const s=e.items[e.items.length-1].index===t-1;return(n||e.bottom>0&&e.itemHeight>0&&0===e.offsetBottom&&e.items.length===t)&&s}),OL(([[,e]])=>e-1),PL())),H=ZL(BL(QL(N),RL(({items:e})=>e.length>0&&0===e[0].index),zL(0),PL())),$=ZL(BL(QL(N),VL(M),RL(([{items:e},t])=>e.length>0&&!t),OL(([{items:e}])=>({endIndex:e[e.length-1].index,startIndex:e[0].index})),PL(SP),UL(0)));TL($,m.scrollSeekRangeChanged),TL(BL(k,VL(F,_,j,A),OL(([e,t,n,s,i])=>{const a=QP(e),{align:r,behavior:o,offset:l}=a;let c=a.index;"LAST"===c&&(c=s-1),c=EO(0,c,IO(s-1,c));let d=OO(t,i,n,c);return"end"===r?d=AO(d-t.height+n.height):"center"===r&&(d=AO(d-t.height/2+n.height/2)),l&&(d+=l),{behavior:o,top:d}})),l);const U=qL(BL(N,OL(e=>e.offsetBottom+e.bottom)),0);return TL(BL(y,OL(e=>({height:e.visibleHeight,width:e.visibleWidth}))),F),{customScrollParent:f,data:I,deviation:E,footerHeight:i,gap:A,headerHeight:a,increaseViewportBy:e,initialItemCount:C,itemDimensions:_,overscan:n,restoreStateFrom:D,scrollBy:r,scrollContainerState:o,scrollHeight:S,scrollTo:l,scrollToIndex:k,scrollTop:c,smoothScrollTargetReached:d,totalCount:j,useWindowScroll:g,viewportDimensions:F,windowScrollContainerState:v,windowScrollTo:b,windowViewportRect:y,...m,gridState:N,horizontalDirection:O,initialTopMostItemIndex:L,totalListHeight:U,...p,endReached:B,propsReady:x,rangeChanged:$,startReached:H,stateChanged:T,stateRestoreInProgress:M,...w}},kL(mR,oP,oR,SR,KP,ER,tP));function PO(e,t,n){return EO(1,SO((e+n)/(SO(t)+n)))}function RO(e,t,n,s){const{height:i}=n;if(void 0===i||0===s.length)return{bottom:0,top:0};const a=OO(e,t,n,s[0].index);return{bottom:OO(e,t,n,s[s.length-1].index)+i,top:a}}function OO(e,t,n,s){const i=PO(e.width,n.width,t.column),a=SO(s/i),r=a*n.height+EO(0,a-1)*t.row;return r>0?r+t.row:r}const zO=YL(()=>{const e=WL(e=>`Item ${e}`),t=WL({}),n=WL(null),s=WL("virtuoso-grid-item"),i=WL("virtuoso-grid-list"),a=WL(YR),r=WL("div"),o=WL(NL),l=(e,n=null)=>qL(BL(t,OL(t=>t[e]),PL()),n),c=WL(!1),d=WL(!1);return TL(QL(d),c),{components:t,computeItemKey:a,context:n,FooterComponent:l("Footer"),HeaderComponent:l("Header"),headerFooterTag:r,itemClassName:s,ItemComponent:l("Item","div"),itemContent:e,listClassName:i,ListComponent:l("List","div"),readyStateChanged:c,reportReadyState:d,ScrollerComponent:l("Scroller","div"),scrollerRef:o,ScrollSeekPlaceholder:l("ScrollSeekPlaceholder","div")}}),BO=YL(([e,t])=>({...e,...t}),kL(LO,zO)),HO=Pe.memo(function(){const e=ZO("gridState"),t=ZO("listClassName"),s=ZO("itemClassName"),i=ZO("itemContent"),a=ZO("computeItemKey"),r=ZO("isSeeking"),o=YO("scrollHeight"),l=ZO("ItemComponent"),c=ZO("ListComponent"),d=ZO("ScrollSeekPlaceholder"),u=ZO("context"),p=YO("itemDimensions"),m=YO("gap"),h=ZO("log"),x=ZO("stateRestoreInProgress"),f=YO("reportReadyState"),g=nP(Pe.useMemo(()=>e=>{const t=e.parentElement.parentElement.scrollHeight;o(t);const n=e.firstChild;if(n){const{height:e,width:t}=n.getBoundingClientRect();p({height:e,width:t})}m({column:QO("column-gap",getComputedStyle(e).columnGap,h),row:QO("row-gap",getComputedStyle(e).rowGap,h)})},[o,p,m,h]),!0,!1);return UR(()=>{e.itemHeight>0&&e.itemWidth>0&&f(!0)},[e]),x?null:n.jsx(c,{className:t,ref:g,...oO(c,u),"data-testid":"virtuoso-item-list",style:{paddingBottom:e.offsetBottom,paddingTop:e.offsetTop},children:e.items.map(t=>{const o=a(t.index,t.data,u);return r?n.jsx(d,{...oO(d,u),height:e.itemHeight,index:t.index,width:e.itemWidth},o):De.createElement(l,{...oO(l,u),className:s,"data-index":t.index,key:o},i(t.index,t.data,u))})})}),$O=Pe.memo(function(){const e=ZO("HeaderComponent"),t=YO("headerHeight"),s=ZO("headerFooterTag"),i=nP(Pe.useMemo(()=>e=>{t(DP(e,"height"))},[t]),!0,!1),a=ZO("context");return e?n.jsx(s,{ref:i,children:n.jsx(e,{...oO(e,a)})}):null}),UO=Pe.memo(function(){const e=ZO("FooterComponent"),t=YO("footerHeight"),s=ZO("headerFooterTag"),i=nP(Pe.useMemo(()=>e=>{t(DP(e,"height"))},[t]),!0,!1),a=ZO("context");return e?n.jsx(s,{ref:i,children:n.jsx(e,{...oO(e,a)})}):null}),VO=({children:e})=>{const t=Pe.useContext($R),s=YO("itemDimensions"),i=YO("viewportDimensions"),a=nP(Pe.useMemo(()=>e=>{i(e.getBoundingClientRect())},[i]),!0,!1);return Pe.useEffect(()=>{t&&(i({height:t.viewportHeight,width:t.viewportWidth}),s({height:t.itemHeight,width:t.itemWidth}))},[t,i,s]),n.jsx("div",{ref:a,style:aO(!1),children:e})},WO=({children:e})=>{const t=Pe.useContext($R),s=YO("windowViewportRect"),i=YO("itemDimensions"),a=ZO("customScrollParent"),r=rP(s,a,!1);return Pe.useEffect(()=>{t&&(i({height:t.itemHeight,width:t.itemWidth}),s({offsetTop:0,visibleHeight:t.viewportHeight,visibleWidth:t.viewportWidth}))},[t,s,i]),n.jsx("div",{ref:r,style:aO(!1),children:e})},qO=Pe.memo(function({...e}){const t=ZO("useWindowScroll"),s=ZO("customScrollParent"),i=s||t?JO:KO,a=s||t?WO:VO,r=ZO("context");return n.jsx(i,{...e,...oO(i,r),children:n.jsxs(a,{children:[n.jsx($O,{}),n.jsx(HO,{}),n.jsx(UO,{})]})})}),{useEmitter:GO,useEmitterValue:ZO,usePublisher:YO}=BR(BO,{optional:{context:"context",totalCount:"totalCount",overscan:"overscan",itemContent:"itemContent",components:"components",computeItemKey:"computeItemKey",data:"data",initialItemCount:"initialItemCount",scrollSeekConfiguration:"scrollSeekConfiguration",headerFooterTag:"headerFooterTag",listClassName:"listClassName",itemClassName:"itemClassName",useWindowScroll:"useWindowScroll",customScrollParent:"customScrollParent",scrollerRef:"scrollerRef",logLevel:"logLevel",restoreStateFrom:"restoreStateFrom",initialTopMostItemIndex:"initialTopMostItemIndex",increaseViewportBy:"increaseViewportBy"},methods:{scrollTo:"scrollTo",scrollBy:"scrollBy",scrollToIndex:"scrollToIndex"},events:{isScrolling:"isScrolling",endReached:"endReached",startReached:"startReached",rangeChanged:"rangeChanged",atBottomStateChange:"atBottomStateChange",atTopStateChange:"atTopStateChange",stateChanged:"stateChanged",readyStateChanged:"readyStateChanged"}},qO),KO=uO({useEmitter:GO,useEmitterValue:ZO,usePublisher:YO}),JO=pO({useEmitter:GO,useEmitterValue:ZO,usePublisher:YO});function QO(e,t,n){return"normal"!==t&&!(null!=t&&t.endsWith("px"))&&n(`${e} was not resolved to pixel value correctly`,t,eP.WARN),"normal"===t?0:parseInt(null!=t?t:"0",10)}class XO extends De.Component{constructor(){super(...arguments),t(this,"state",{hasError:!1,error:null}),t(this,"handleRetry",()=>{this.setState({hasError:!1,error:null}),window.location.reload()})}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){xg(e,{errorInfo:t.componentStack,context:"error_boundary"})}render(){var e;return this.state.hasError?n.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen p-4",children:n.jsxs("div",{className:"max-w-md text-center",children:[n.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Something went wrong"}),n.jsx("p",{className:"text-gray-500 mb-6",children:(null==(e=this.state.error)?void 0:e.message)||"An unexpected error occurred"}),n.jsx(wb,{onClick:this.handleRetry,children:"Try again"})]})}):this.props.children}}var ez,tz="vercel.ai.error",nz=Symbol.for(tz),sz=class e extends Error{constructor({name:e,message:t,cause:n}){super(t),this[ez]=!0,this.name=e,this.cause=n}static isInstance(t){return e.hasMarker(t,tz)}static hasMarker(e,t){const n=Symbol.for(t);return null!=e&&"object"==typeof e&&n in e&&"boolean"==typeof e[n]&&!0===e[n]}};ez=nz;var iz=sz;function az(e){return null==e?"unknown error":"string"==typeof e?e:e instanceof Error?e.message:JSON.stringify(e)}var rz,oz="AI_InvalidArgumentError",lz=`vercel.ai.error.${oz}`,cz=Symbol.for(lz),dz=class extends iz{constructor({message:e,cause:t,argument:n}){super({name:oz,message:e,cause:t}),this[rz]=!0,this.argument=n}static isInstance(e){return iz.hasMarker(e,lz)}};rz=cz;var uz,pz="AI_JSONParseError",mz=`vercel.ai.error.${pz}`,hz=Symbol.for(mz),xz=class extends iz{constructor({text:e,cause:t}){super({name:pz,message:`JSON parsing failed: Text: ${e}.\nError message: ${az(t)}`,cause:t}),this[uz]=!0,this.text=e}static isInstance(e){return iz.hasMarker(e,mz)}};uz=hz;var fz,gz="AI_TypeValidationError",vz=`vercel.ai.error.${gz}`,bz=Symbol.for(vz);fz=bz;var yz=class e extends iz{constructor({value:e,cause:t}){super({name:gz,message:`Type validation failed: Value: ${JSON.stringify(e)}.\nError message: ${az(t)}`,cause:t}),this[fz]=!0,this.value=e}static isInstance(e){return iz.hasMarker(e,vz)}static wrap({value:t,cause:n}){return e.isInstance(n)&&n.value===t?n:new e({value:t,cause:n})}};var wz,jz={exports:{}};const Cz=Te(function(){if(wz)return jz.exports;wz=1;const e="undefined"!=typeof Buffer,t=/"(?:_|\\u005[Ff])(?:_|\\u005[Ff])(?:p|\\u0070)(?:r|\\u0072)(?:o|\\u006[Ff])(?:t|\\u0074)(?:o|\\u006[Ff])(?:_|\\u005[Ff])(?:_|\\u005[Ff])"\s*:/,n=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/;function s(s,a,r){null==r&&null!==a&&"object"==typeof a&&(r=a,a=void 0),e&&Buffer.isBuffer(s)&&(s=s.toString()),s&&65279===s.charCodeAt(0)&&(s=s.slice(1));const o=JSON.parse(s,a);if(null===o||"object"!=typeof o)return o;const l=r&&r.protoAction||"error",c=r&&r.constructorAction||"error";if("ignore"===l&&"ignore"===c)return o;if("ignore"!==l&&"ignore"!==c){if(!1===t.test(s)&&!1===n.test(s))return o}else if("ignore"!==l&&"ignore"===c){if(!1===t.test(s))return o}else if(!1===n.test(s))return o;return i(o,{protoAction:l,constructorAction:c,safe:r&&r.safe})}function i(e,{protoAction:t="error",constructorAction:n="error",safe:s}={}){let i=[e];for(;i.length;){const e=i;i=[];for(const a of e){if("ignore"!==t&&Object.prototype.hasOwnProperty.call(a,"__proto__")){if(!0===s)return null;if("error"===t)throw new SyntaxError("Object contains forbidden prototype property");delete a.__proto__}if("ignore"!==n&&Object.prototype.hasOwnProperty.call(a,"constructor")&&Object.prototype.hasOwnProperty.call(a.constructor,"prototype")){if(!0===s)return null;if("error"===n)throw new SyntaxError("Object contains forbidden prototype property");delete a.constructor}for(const e in a){const t=a[e];t&&"object"==typeof t&&i.push(t)}}}return e}function a(e,t,n){const i=Error.stackTraceLimit;Error.stackTraceLimit=0;try{return s(e,t,n)}finally{Error.stackTraceLimit=i}}return jz.exports=a,jz.exports.default=a,jz.exports.parse=a,jz.exports.safeParse=function(e,t){const n=Error.stackTraceLimit;Error.stackTraceLimit=0;try{return s(e,t,{safe:!0})}catch(i){return null}finally{Error.stackTraceLimit=n}},jz.exports.scan=i,jz.exports}());var Nz=(({prefix:e,size:t=16,alphabet:n="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",separator:s="-"}={})=>{const i=((e,t=21)=>(n=t)=>{let s="",i=0|n;for(;i--;)s+=e[Math.random()*e.length|0];return s})(n,t);if(null==e)return i;if(n.includes(s))throw new dz({argument:"separator",message:`The separator "${s}" must not be part of the alphabet "${n}".`});return t=>`${e}${s}${i(t)}`})(),Fz=Symbol.for("vercel.ai.validator");function _z(e){return function(e){return"object"==typeof e&&null!==e&&Fz in e&&!0===e[Fz]&&"validate"in e}(e)?e:(t=e,n=e=>{const n=t.safeParse(e);return n.success?{success:!0,value:n.data}:{success:!1,error:n.error}},{[Fz]:!0,validate:n});var t,n}function kz({text:e,schema:t}){try{const n=Cz.parse(e);if(null==t)return{success:!0,value:n,rawValue:n};const s=function({value:e,schema:t}){const n=_z(t);try{if(null==n.validate)return{success:!0,value:e};const t=n.validate(e);return t.success?t:{success:!1,error:yz.wrap({value:e,cause:t.error})}}catch(s){return{success:!1,error:yz.wrap({value:e,cause:s})}}}({value:n,schema:t});return s.success?{...s,rawValue:n}:s}catch(n){return{success:!1,error:xz.isInstance(n)?n:new xz({text:e,cause:n})}}}new Set("ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvxyz0123456789");var Sz={code:"0",name:"text",parse:e=>{if("string"!=typeof e)throw new Error('"text" parts expect a string value.');return{type:"text",value:e}}},Ez={code:"3",name:"error",parse:e=>{if("string"!=typeof e)throw new Error('"error" parts expect a string value.');return{type:"error",value:e}}},Iz={code:"4",name:"assistant_message",parse:e=>{if(!(null!=e&&"object"==typeof e&&"id"in e&&"role"in e&&"content"in e&&"string"==typeof e.id&&"string"==typeof e.role&&"assistant"===e.role&&Array.isArray(e.content)&&e.content.every(e=>null!=e&&"object"==typeof e&&"type"in e&&"text"===e.type&&"text"in e&&null!=e.text&&"object"==typeof e.text&&"value"in e.text&&"string"==typeof e.text.value)))throw new Error('"assistant_message" parts expect an object with an "id", "role", and "content" property.');return{type:"assistant_message",value:e}}},Az={code:"5",name:"assistant_control_data",parse:e=>{if(null==e||"object"!=typeof e||!("threadId"in e)||!("messageId"in e)||"string"!=typeof e.threadId||"string"!=typeof e.messageId)throw new Error('"assistant_control_data" parts expect an object with a "threadId" and "messageId" property.');return{type:"assistant_control_data",value:{threadId:e.threadId,messageId:e.messageId}}}},Tz={code:"6",name:"data_message",parse:e=>{if(null==e||"object"!=typeof e||!("role"in e)||!("data"in e)||"string"!=typeof e.role||"data"!==e.role)throw new Error('"data_message" parts expect an object with a "role" and "data" property.');return{type:"data_message",value:e}}};function Dz(e){const t=["ROOT"];let n=-1,s=null;function i(e,i,a){switch(e){case'"':n=i,t.pop(),t.push(a),t.push("INSIDE_STRING");break;case"f":case"t":case"n":n=i,s=i,t.pop(),t.push(a),t.push("INSIDE_LITERAL");break;case"-":t.pop(),t.push(a),t.push("INSIDE_NUMBER");break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":n=i,t.pop(),t.push(a),t.push("INSIDE_NUMBER");break;case"{":n=i,t.pop(),t.push(a),t.push("INSIDE_OBJECT_START");break;case"[":n=i,t.pop(),t.push(a),t.push("INSIDE_ARRAY_START")}}function a(e,s){switch(e){case",":t.pop(),t.push("INSIDE_OBJECT_AFTER_COMMA");break;case"}":n=s,t.pop()}}function r(e,s){switch(e){case",":t.pop(),t.push("INSIDE_ARRAY_AFTER_COMMA");break;case"]":n=s,t.pop()}}for(let l=0;l<e.length;l++){const o=e[l];switch(t[t.length-1]){case"ROOT":i(o,l,"FINISH");break;case"INSIDE_OBJECT_START":switch(o){case'"':t.pop(),t.push("INSIDE_OBJECT_KEY");break;case"}":n=l,t.pop()}break;case"INSIDE_OBJECT_AFTER_COMMA":if('"'===o)t.pop(),t.push("INSIDE_OBJECT_KEY");break;case"INSIDE_OBJECT_KEY":if('"'===o)t.pop(),t.push("INSIDE_OBJECT_AFTER_KEY");break;case"INSIDE_OBJECT_AFTER_KEY":if(":"===o)t.pop(),t.push("INSIDE_OBJECT_BEFORE_VALUE");break;case"INSIDE_OBJECT_BEFORE_VALUE":i(o,l,"INSIDE_OBJECT_AFTER_VALUE");break;case"INSIDE_OBJECT_AFTER_VALUE":a(o,l);break;case"INSIDE_STRING":switch(o){case'"':t.pop(),n=l;break;case"\\":t.push("INSIDE_STRING_ESCAPE");break;default:n=l}break;case"INSIDE_ARRAY_START":if("]"===o)n=l,t.pop();else n=l,i(o,l,"INSIDE_ARRAY_AFTER_VALUE");break;case"INSIDE_ARRAY_AFTER_VALUE":switch(o){case",":t.pop(),t.push("INSIDE_ARRAY_AFTER_COMMA");break;case"]":n=l,t.pop();break;default:n=l}break;case"INSIDE_ARRAY_AFTER_COMMA":i(o,l,"INSIDE_ARRAY_AFTER_VALUE");break;case"INSIDE_STRING_ESCAPE":t.pop(),n=l;break;case"INSIDE_NUMBER":switch(o){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":n=l;break;case"e":case"E":case"-":case".":break;case",":t.pop(),"INSIDE_ARRAY_AFTER_VALUE"===t[t.length-1]&&r(o,l),"INSIDE_OBJECT_AFTER_VALUE"===t[t.length-1]&&a(o,l);break;case"}":t.pop(),"INSIDE_OBJECT_AFTER_VALUE"===t[t.length-1]&&a(o,l);break;case"]":t.pop(),"INSIDE_ARRAY_AFTER_VALUE"===t[t.length-1]&&r(o,l);break;default:t.pop()}break;case"INSIDE_LITERAL":{const i=e.substring(s,l+1);"false".startsWith(i)||"true".startsWith(i)||"null".startsWith(i)?n=l:(t.pop(),"INSIDE_OBJECT_AFTER_VALUE"===t[t.length-1]?a(o,l):"INSIDE_ARRAY_AFTER_VALUE"===t[t.length-1]&&r(o,l));break}}}let o=e.slice(0,n+1);for(let l=t.length-1;l>=0;l--){switch(t[l]){case"INSIDE_STRING":o+='"';break;case"INSIDE_OBJECT_KEY":case"INSIDE_OBJECT_AFTER_KEY":case"INSIDE_OBJECT_AFTER_COMMA":case"INSIDE_OBJECT_START":case"INSIDE_OBJECT_BEFORE_VALUE":case"INSIDE_OBJECT_AFTER_VALUE":o+="}";break;case"INSIDE_ARRAY_START":case"INSIDE_ARRAY_AFTER_COMMA":case"INSIDE_ARRAY_AFTER_VALUE":o+="]";break;case"INSIDE_LITERAL":{const t=e.substring(s,e.length);"true".startsWith(t)?o+="true".slice(t.length):"false".startsWith(t)?o+="false".slice(t.length):"null".startsWith(t)&&(o+="null".slice(t.length))}}}return o}[Sz,Ez,Iz,Az,Tz].map(e=>e.code);var Mz=[{code:"0",name:"text",parse:e=>{if("string"!=typeof e)throw new Error('"text" parts expect a string value.');return{type:"text",value:e}}},{code:"2",name:"data",parse:e=>{if(!Array.isArray(e))throw new Error('"data" parts expect an array value.');return{type:"data",value:e}}},{code:"3",name:"error",parse:e=>{if("string"!=typeof e)throw new Error('"error" parts expect a string value.');return{type:"error",value:e}}},{code:"8",name:"message_annotations",parse:e=>{if(!Array.isArray(e))throw new Error('"message_annotations" parts expect an array value.');return{type:"message_annotations",value:e}}},{code:"9",name:"tool_call",parse:e=>{if(null==e||"object"!=typeof e||!("toolCallId"in e)||"string"!=typeof e.toolCallId||!("toolName"in e)||"string"!=typeof e.toolName||!("args"in e)||"object"!=typeof e.args)throw new Error('"tool_call" parts expect an object with a "toolCallId", "toolName", and "args" property.');return{type:"tool_call",value:e}}},{code:"a",name:"tool_result",parse:e=>{if(null==e||"object"!=typeof e||!("toolCallId"in e)||"string"!=typeof e.toolCallId||!("result"in e))throw new Error('"tool_result" parts expect an object with a "toolCallId" and a "result" property.');return{type:"tool_result",value:e}}},{code:"b",name:"tool_call_streaming_start",parse:e=>{if(null==e||"object"!=typeof e||!("toolCallId"in e)||"string"!=typeof e.toolCallId||!("toolName"in e)||"string"!=typeof e.toolName)throw new Error('"tool_call_streaming_start" parts expect an object with a "toolCallId" and "toolName" property.');return{type:"tool_call_streaming_start",value:e}}},{code:"c",name:"tool_call_delta",parse:e=>{if(null==e||"object"!=typeof e||!("toolCallId"in e)||"string"!=typeof e.toolCallId||!("argsTextDelta"in e)||"string"!=typeof e.argsTextDelta)throw new Error('"tool_call_delta" parts expect an object with a "toolCallId" and "argsTextDelta" property.');return{type:"tool_call_delta",value:e}}},{code:"d",name:"finish_message",parse:e=>{if(null==e||"object"!=typeof e||!("finishReason"in e)||"string"!=typeof e.finishReason)throw new Error('"finish_message" parts expect an object with a "finishReason" property.');const t={finishReason:e.finishReason};return"usage"in e&&null!=e.usage&&"object"==typeof e.usage&&"promptTokens"in e.usage&&"completionTokens"in e.usage&&(t.usage={promptTokens:"number"==typeof e.usage.promptTokens?e.usage.promptTokens:Number.NaN,completionTokens:"number"==typeof e.usage.completionTokens?e.usage.completionTokens:Number.NaN}),{type:"finish_message",value:t}}},{code:"e",name:"finish_step",parse:e=>{if(null==e||"object"!=typeof e||!("finishReason"in e)||"string"!=typeof e.finishReason)throw new Error('"finish_step" parts expect an object with a "finishReason" property.');const t={finishReason:e.finishReason,isContinued:!1};return"usage"in e&&null!=e.usage&&"object"==typeof e.usage&&"promptTokens"in e.usage&&"completionTokens"in e.usage&&(t.usage={promptTokens:"number"==typeof e.usage.promptTokens?e.usage.promptTokens:Number.NaN,completionTokens:"number"==typeof e.usage.completionTokens?e.usage.completionTokens:Number.NaN}),"isContinued"in e&&"boolean"==typeof e.isContinued&&(t.isContinued=e.isContinued),{type:"finish_step",value:t}}},{code:"f",name:"start_step",parse:e=>{if(null==e||"object"!=typeof e||!("messageId"in e)||"string"!=typeof e.messageId)throw new Error('"start_step" parts expect an object with an "id" property.');return{type:"start_step",value:{messageId:e.messageId}}}},{code:"g",name:"reasoning",parse:e=>{if("string"!=typeof e)throw new Error('"reasoning" parts expect a string value.');return{type:"reasoning",value:e}}},{code:"h",name:"source",parse:e=>{if(null==e||"object"!=typeof e)throw new Error('"source" parts expect a Source object.');return{type:"source",value:e}}},{code:"i",name:"redacted_reasoning",parse:e=>{if(null==e||"object"!=typeof e||!("data"in e)||"string"!=typeof e.data)throw new Error('"redacted_reasoning" parts expect an object with a "data" property.');return{type:"redacted_reasoning",value:{data:e.data}}}},{code:"j",name:"reasoning_signature",parse:e=>{if(null==e||"object"!=typeof e||!("signature"in e)||"string"!=typeof e.signature)throw new Error('"reasoning_signature" parts expect an object with a "signature" property.');return{type:"reasoning_signature",value:{signature:e.signature}}}},{code:"k",name:"file",parse:e=>{if(null==e||"object"!=typeof e||!("data"in e)||"string"!=typeof e.data||!("mimeType"in e)||"string"!=typeof e.mimeType)throw new Error('"file" parts expect an object with a "data" and "mimeType" property.');return{type:"file",value:e}}}],Lz=Object.fromEntries(Mz.map(e=>[e.code,e]));Object.fromEntries(Mz.map(e=>[e.name,e.code]));var Pz=Mz.map(e=>e.code),Rz=e=>{const t=e.indexOf(":");if(-1===t)throw new Error("Failed to parse stream string. No separator found.");const n=e.slice(0,t);if(!Pz.includes(n))throw new Error(`Failed to parse stream string. Invalid code ${n}.`);const s=n,i=e.slice(t+1),a=JSON.parse(i);return Lz[s].parse(a)},Oz="\n".charCodeAt(0);function zz(e,t){const n=new Uint8Array(t);let s=0;for(const i of e)n.set(i,s),s+=i.length;return e.length=0,n}async function Bz({stream:e,update:t,onToolCall:n,onFinish:s,generateId:i=Nz,getCurrentDate:a=()=>new Date,lastMessage:r}){var o,l;const c="assistant"===(null==r?void 0:r.role);let d=c?1+(null!=(l=null==(o=r.toolInvocations)?void 0:o.reduce((e,t)=>{var n;return Math.max(e,null!=(n=t.step)?n:0)},0))?l:0):0;const u=c?structuredClone(r):{id:i(),createdAt:a(),role:"assistant",content:"",parts:[]};let p,m,h;function x(e,t){const n=u.parts.find(t=>"tool-invocation"===t.type&&t.toolInvocation.toolCallId===e);null!=n?n.toolInvocation=t:u.parts.push({type:"tool-invocation",toolInvocation:t})}const f=[];let g=c?null==r?void 0:r.annotations:void 0;const v={};let b={completionTokens:NaN,promptTokens:NaN,totalTokens:NaN},y="unknown";function w(){const e=[...f];(null==g?void 0:g.length)&&(u.annotations=g);const n={...structuredClone(u),revisionId:i()};t({message:n,data:e,replaceLastMessage:c})}await async function({stream:e,onTextPart:t,onReasoningPart:n,onReasoningSignaturePart:s,onRedactedReasoningPart:i,onSourcePart:a,onFilePart:r,onDataPart:o,onErrorPart:l,onToolCallStreamingStartPart:c,onToolCallDeltaPart:d,onToolCallPart:u,onToolResultPart:p,onMessageAnnotationsPart:m,onFinishMessagePart:h,onFinishStepPart:x,onStartStepPart:f}){const g=e.getReader(),v=new TextDecoder,b=[];let y=0;for(;;){const{value:e}=await g.read();if(e&&(b.push(e),y+=e.length,e[e.length-1]!==Oz))continue;if(0===b.length)break;const w=zz(b,y);y=0;const j=v.decode(w,{stream:!0}).split("\n").filter(e=>""!==e).map(Rz);for(const{type:g,value:v}of j)switch(g){case"text":await(null==t?void 0:t(v));break;case"reasoning":await(null==n?void 0:n(v));break;case"reasoning_signature":await(null==s?void 0:s(v));break;case"redacted_reasoning":await(null==i?void 0:i(v));break;case"file":await(null==r?void 0:r(v));break;case"source":await(null==a?void 0:a(v));break;case"data":await(null==o?void 0:o(v));break;case"error":await(null==l?void 0:l(v));break;case"message_annotations":await(null==m?void 0:m(v));break;case"tool_call_streaming_start":await(null==c?void 0:c(v));break;case"tool_call_delta":await(null==d?void 0:d(v));break;case"tool_call":await(null==u?void 0:u(v));break;case"tool_result":await(null==p?void 0:p(v));break;case"finish_message":await(null==h?void 0:h(v));break;case"finish_step":await(null==x?void 0:x(v));break;case"start_step":await(null==f?void 0:f(v));break;default:throw new Error(`Unknown stream part type: ${g}`)}}}({stream:e,onTextPart(e){null==p?(p={type:"text",text:e},u.parts.push(p)):p.text+=e,u.content+=e,w()},onReasoningPart(e){var t;null==h?(h={type:"text",text:e},null!=m&&m.details.push(h)):h.text+=e,null==m?(m={type:"reasoning",reasoning:e,details:[h]},u.parts.push(m)):m.reasoning+=e,u.reasoning=(null!=(t=u.reasoning)?t:"")+e,w()},onReasoningSignaturePart(e){null!=h&&(h.signature=e.signature)},onRedactedReasoningPart(e){null==m&&(m={type:"reasoning",reasoning:"",details:[]},u.parts.push(m)),m.details.push({type:"redacted",data:e.data}),h=void 0,w()},onFilePart(e){u.parts.push({type:"file",mimeType:e.mimeType,data:e.data}),w()},onSourcePart(e){u.parts.push({type:"source",source:e}),w()},onToolCallStreamingStartPart(e){null==u.toolInvocations&&(u.toolInvocations=[]),v[e.toolCallId]={text:"",step:d,toolName:e.toolName,index:u.toolInvocations.length};const t={state:"partial-call",step:d,toolCallId:e.toolCallId,toolName:e.toolName,args:void 0};u.toolInvocations.push(t),x(e.toolCallId,t),w()},onToolCallDeltaPart(e){const t=v[e.toolCallId];t.text+=e.argsTextDelta;const{value:n}=function(e){if(void 0===e)return{value:void 0,state:"undefined-input"};let t=kz({text:e});return t.success?{value:t.value,state:"successful-parse"}:(t=kz({text:Dz(e)}),t.success?{value:t.value,state:"repaired-parse"}:{value:void 0,state:"failed-parse"})}(t.text),s={state:"partial-call",step:t.step,toolCallId:e.toolCallId,toolName:t.toolName,args:n};u.toolInvocations[t.index]=s,x(e.toolCallId,s),w()},async onToolCallPart(e){const t={state:"call",step:d,...e};if(null!=v[e.toolCallId]?u.toolInvocations[v[e.toolCallId].index]=t:(null==u.toolInvocations&&(u.toolInvocations=[]),u.toolInvocations.push(t)),x(e.toolCallId,t),w(),n){const t=await n({toolCall:e});if(null!=t){const n={state:"result",step:d,...e,result:t};u.toolInvocations[u.toolInvocations.length-1]=n,x(e.toolCallId,n),w()}}},onToolResultPart(e){const t=u.toolInvocations;if(null==t)throw new Error("tool_result must be preceded by a tool_call");const n=t.findIndex(t=>t.toolCallId===e.toolCallId);if(-1===n)throw new Error("tool_result must be preceded by a tool_call with the same toolCallId");const s={...t[n],state:"result",...e};t[n]=s,x(e.toolCallId,s),w()},onDataPart(e){f.push(...e),w()},onMessageAnnotationsPart(e){null==g?g=[...e]:g.push(...e),w()},onFinishStepPart(e){d+=1,p=e.isContinued?p:void 0,m=void 0,h=void 0},onStartStepPart(e){c||(u.id=e.messageId),u.parts.push({type:"step-start"}),w()},onFinishMessagePart(e){y=e.finishReason,null!=e.usage&&(b=function({promptTokens:e,completionTokens:t}){return{promptTokens:e,completionTokens:t,totalTokens:e+t}}(e.usage))},onErrorPart(e){throw new Error(e)}}),null==s||s({message:u,finishReason:y,usage:b})}async function Hz({stream:e,update:t,onFinish:n,getCurrentDate:s=()=>new Date,generateId:i=Nz}){const a={type:"text",text:""},r={id:i(),createdAt:s(),role:"assistant",content:"",parts:[a]};await async function({stream:e,onTextPart:t}){const n=e.pipeThrough(new TextDecoderStream).getReader();for(;;){const{done:e,value:s}=await n.read();if(e)break;await t(s)}}({stream:e,onTextPart:e=>{r.content+=e,a.text+=e,t({message:{...r},data:[],replaceLastMessage:!1})}}),null==n||n(r,{usage:{completionTokens:NaN,promptTokens:NaN,totalTokens:NaN},finishReason:"unknown"})}var $z=()=>fetch;function Uz(e){return null==e?void 0:e.reduce((e,t)=>{var n;return Math.max(e,null!=(n=t.step)?n:0)},0)}function Vz(e){var t;return null!=(t=e.parts)?t:[...e.toolInvocations?e.toolInvocations.map(e=>({type:"tool-invocation",toolInvocation:e})):[],...e.reasoning?[{type:"reasoning",reasoning:e.reasoning,details:[{type:"text",text:e.reasoning}]}]:[],...e.content?[{type:"text",text:e.content}]:[]]}function Wz(e){return e.map(e=>({...e,parts:Vz(e)}))}function qz(e,t){if(e===t)return!0;if(null==e||null==t)return!1;if("object"!=typeof e&&"object"!=typeof t)return e===t;if(e.constructor!==t.constructor)return!1;if(e instanceof Date&&t instanceof Date)return e.getTime()===t.getTime();if(Array.isArray(e)){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(!qz(e[n],t[n]))return!1;return!0}const n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;for(const i of n){if(!s.includes(i))return!1;if(!qz(e[i],t[i]))return!1}return!0}async function Gz(e){if(!e)return[];if(globalThis.FileList&&e instanceof globalThis.FileList)return Promise.all(Array.from(e).map(async e=>{const{name:t,type:n}=e;return{name:t,contentType:n,url:await new Promise((t,n)=>{const s=new FileReader;s.onload=e=>{var n;t(null==(n=e.target)?void 0:n.result)},s.onerror=e=>n(e),s.readAsDataURL(e)})}}));if(Array.isArray(e))return e;throw new Error("Invalid attachments type")}function Zz(e){if("assistant"!==e.role)return!1;const t=e.parts.reduce((e,t,n)=>"step-start"===t.type?n:e,-1),n=e.parts.slice(t+1).filter(e=>"tool-invocation"===e.type);return n.length>0&&n.every(e=>"result"in e.toolInvocation)}var Yz=Object.prototype.hasOwnProperty;const Kz=new WeakMap,Jz=()=>{},Qz=Jz(),Xz=Object,eB=e=>e===Qz,tB=e=>"function"==typeof e,nB=(e,t)=>({...e,...t}),sB=e=>tB(e.then),iB={},aB={},rB="undefined",oB=typeof window!=rB,lB=typeof document!=rB,cB=oB&&"Deno"in window,dB=(e,t)=>{const n=Kz.get(e);return[()=>!eB(t)&&e.get(t)||iB,s=>{if(!eB(t)){const i=e.get(t);t in aB||(aB[t]=i),n[5](t,nB(i,s),i||iB)}},n[6],()=>!eB(t)&&t in aB?aB[t]:!eB(t)&&e.get(t)||iB]};let uB=!0;const[pB,mB]=oB&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[Jz,Jz],hB={isOnline:()=>uB,isVisible:()=>{const e=lB&&document.visibilityState;return eB(e)||"hidden"!==e}},xB={initFocus:e=>(lB&&document.addEventListener("visibilitychange",e),pB("focus",e),()=>{lB&&document.removeEventListener("visibilitychange",e),mB("focus",e)}),initReconnect:e=>{const t=()=>{uB=!0,e()},n=()=>{uB=!1};return pB("online",t),pB("offline",n),()=>{mB("online",t),mB("offline",n)}}},fB=!Pe.useId,gB=!oB||cB,vB=e=>oB&&typeof window.requestAnimationFrame!=rB?window.requestAnimationFrame(e):setTimeout(e,1),bB=gB?De.useEffect:De.useLayoutEffect,yB="undefined"!=typeof navigator&&navigator.connection,wB=!gB&&yB&&(["slow-2g","2g"].includes(yB.effectiveType)||yB.saveData),jB=new WeakMap,CB=(e,t)=>e===`[object ${t}]`;let NB=0;const FB=e=>{const t=typeof e,n=(s=e,Xz.prototype.toString.call(s));var s;const i=CB(n,"Date"),a=CB(n,"RegExp"),r=CB(n,"Object");let o,l;if(Xz(e)!==e||i||a)o=i?e.toJSON():"symbol"==t?e.toString():"string"==t?JSON.stringify(e):""+e;else{if(o=jB.get(e),o)return o;if(o=++NB+"~",jB.set(e,o),Array.isArray(e)){for(o="@",l=0;l<e.length;l++)o+=FB(e[l])+",";jB.set(e,o)}if(r){o="#";const t=Xz.keys(e).sort();for(;!eB(l=t.pop());)eB(e[l])||(o+=l+":"+FB(e[l])+",");jB.set(e,o)}}return o},_B=e=>{if(tB(e))try{e=e()}catch(n){e=""}const t=e;return[e="string"==typeof e?e:(Array.isArray(e)?e.length:e)?FB(e):"",t]};let kB=0;const SB=()=>++kB;async function EB(...e){const[t,n,s,i]=e,a=nB({populateCache:!0,throwOnError:!0},"boolean"==typeof i?{revalidate:i}:i||{});let r=a.populateCache;const o=a.rollbackOnError;let l=a.optimisticData;const c=a.throwOnError;if(tB(n)){const e=n,s=[],i=t.keys();for(const n of i)!/^\$(inf|sub)\$/.test(n)&&e(t.get(n)._k)&&s.push(n);return Promise.all(s.map(d))}return d(n);async function d(n){const[i]=_B(n);if(!i)return;const[d,u]=dB(t,i),[p,m,h,x]=Kz.get(t),f=()=>{const e=p[i];return(tB(a.revalidate)?a.revalidate(d().data,n):!1!==a.revalidate)&&(delete h[i],delete x[i],e&&e[0])?e[0](2).then(()=>d().data):d().data};if(e.length<3)return f();let g,v=s,b=!1;const y=SB();m[i]=[y,0];const w=!eB(l),j=d(),C=j.data,N=j._c,F=eB(N)?C:N;if(w&&(l=tB(l)?l(F,C):l,u({data:l,_c:F})),tB(v))try{v=v(F)}catch(_){g=_,b=!0}if(v&&sB(v)){if(v=await v.catch(e=>{g=e,b=!0}),y!==m[i][0]){if(b)throw g;return v}b&&w&&(e=>"function"==typeof o?o(e):!1!==o)(g)&&(r=!0,u({data:F,_c:Qz}))}if(r&&!b)if(tB(r)){const e=r(v,F);u({data:e,error:Qz,_c:Qz})}else u({data:v,error:Qz,_c:Qz});if(m[i][1]=SB(),Promise.resolve(f()).then(()=>{u({_c:Qz})}),!b)return v;if(c)throw g}}const IB=(e,t)=>{for(const n in e)e[n][0]&&e[n][0](t)},AB=function e(t,n){var s,i;if(t===n)return!0;if(t&&n&&(s=t.constructor)===n.constructor){if(s===Date)return t.getTime()===n.getTime();if(s===RegExp)return t.toString()===n.toString();if(s===Array){if((i=t.length)===n.length)for(;i--&&e(t[i],n[i]););return-1===i}if(!s||"object"==typeof t){for(s in i=0,t){if(Yz.call(t,s)&&++i&&!Yz.call(n,s))return!1;if(!(s in n)||!e(t[s],n[s]))return!1}return Object.keys(n).length===i}}return t!=t&&n!=n},[TB,DB]=((e,t)=>{if(!Kz.has(e)){const n=nB(xB,t),s=Object.create(null),i=EB.bind(Qz,e);let a=Jz;const r=Object.create(null),o=(e,t)=>{const n=r[e]||[];return r[e]=n,n.push(t),()=>n.splice(n.indexOf(t),1)},l=(t,n,s)=>{e.set(t,n);const i=r[t];if(i)for(const e of i)e(n,s)},c=()=>{if(!Kz.has(e)&&(Kz.set(e,[s,Object.create(null),Object.create(null),Object.create(null),i,l,o]),!gB)){const t=n.initFocus(setTimeout.bind(Qz,IB.bind(Qz,s,0))),i=n.initReconnect(setTimeout.bind(Qz,IB.bind(Qz,s,1)));a=()=>{t&&t(),i&&i(),Kz.delete(e)}}};return c(),[e,i,c,a]}return[e,Kz.get(e)[4]]})(new Map),MB=nB({onLoadingSlow:Jz,onSuccess:Jz,onError:Jz,onErrorRetry:(e,t,n,s,i)=>{const a=n.errorRetryCount,r=i.retryCount,o=~~((Math.random()+.5)*(1<<(r<8?r:8)))*n.errorRetryInterval;!eB(a)&&r>a||setTimeout(s,o,i)},onDiscarded:Jz,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:wB?1e4:5e3,focusThrottleInterval:5e3,dedupingInterval:2e3,loadingTimeout:wB?5e3:3e3,compare:AB,isPaused:()=>!1,cache:TB,mutate:DB,fallback:{}},hB),LB=De.createContext({}),PB=oB&&window.__SWR_DEVTOOLS_USE__,RB=PB?window.__SWR_DEVTOOLS_USE__:[],OB=RB.concat(e=>(t,n,s)=>e(t,n&&((...e)=>{const[s]=_B(t),[,,,i]=Kz.get(TB);if(s.startsWith("$inf$"))return n(...e);const a=i[s];return eB(a)?n(...e):(delete i[s],a)}),s));PB&&(window.__SWR_DEVTOOLS_REACT__=Pe);const zB=Pe.use||(e=>{switch(e.status){case"pending":throw e;case"fulfilled":return e.value;case"rejected":throw e.reason;default:throw e.status="pending",e.then(t=>{e.status="fulfilled",e.value=t},t=>{e.status="rejected",e.reason=t}),e}}),BB={dedupe:!0},HB=Promise.resolve(Qz),$B=(UB=(e,t,n)=>{const{cache:s,compare:i,suspense:a,fallbackData:r,revalidateOnMount:o,revalidateIfStale:l,refreshInterval:c,refreshWhenHidden:d,refreshWhenOffline:u,keepPreviousData:p}=n,[m,h,x,f]=Kz.get(s),[g,v]=_B(e),b=De.useRef(!1),y=De.useRef(!1),w=De.useRef(g),j=De.useRef(t),C=De.useRef(n),N=()=>C.current,F=()=>N().isVisible()&&N().isOnline(),[_,k,S,E]=dB(s,g),I=De.useRef({}).current,A=eB(r)?eB(n.fallback)?Qz:n.fallback[g]:r,T=(e,t)=>{for(const n in I){const s=n;if("data"===s){if(!i(e[s],t[s])){if(!eB(e[s]))return!1;if(!i(H,t[s]))return!1}}else if(t[s]!==e[s])return!1}return!0},D=De.useMemo(()=>{const e=!!g&&!!t&&(eB(o)?!N().isPaused()&&!a&&!1!==l:o),n=t=>{const n=nB(t);return delete n._k,e?{isValidating:!0,isLoading:!0,...n}:n},s=_(),i=E(),r=n(s),c=s===i?r:n(i);let d=r;return[()=>{const e=n(_());return T(e,d)?(d.data=e.data,d.isLoading=e.isLoading,d.isValidating=e.isValidating,d.error=e.error,d):(d=e,e)},()=>c]},[s,g]),M=Q.useSyncExternalStore(De.useCallback(e=>S(g,(t,n)=>{T(n,t)||e()}),[s,g]),D[0],D[1]),L=!b.current,P=m[g]&&m[g].length>0,R=M.data,O=eB(R)?A&&sB(A)?zB(A):A:R,z=M.error,B=De.useRef(O),H=p?eB(R)?eB(B.current)?O:B.current:R:O,$=!(P&&!eB(z))&&(L&&!eB(o)?o:!N().isPaused()&&(a?!eB(O)&&l:eB(O)||l)),U=!!(g&&t&&L&&$),V=eB(M.isValidating)?U:M.isValidating,W=eB(M.isLoading)?U:M.isLoading,q=De.useCallback(async e=>{const t=j.current;if(!g||!t||y.current||N().isPaused())return!1;let s,a,r=!0;const o=e||{},l=!x[g]||!o.dedupe,c=()=>fB?!y.current&&g===w.current&&b.current:g===w.current,d={isValidating:!1,isLoading:!1},u=()=>{k(d)},p=()=>{const e=x[g];e&&e[1]===a&&delete x[g]},f={isValidating:!0};eB(_().data)&&(f.isLoading=!0);try{if(l&&(k(f),n.loadingTimeout&&eB(_().data)&&setTimeout(()=>{r&&c()&&N().onLoadingSlow(g,n)},n.loadingTimeout),x[g]=[t(v),SB()]),[s,a]=x[g],s=await s,l&&setTimeout(p,n.dedupingInterval),!x[g]||x[g][1]!==a)return l&&c()&&N().onDiscarded(g),!1;d.error=Qz;const e=h[g];if(!eB(e)&&(a<=e[0]||a<=e[1]||0===e[1]))return u(),l&&c()&&N().onDiscarded(g),!1;const o=_().data;d.data=i(o,s)?o:s,l&&c()&&N().onSuccess(s,g,n)}catch(C){p();const e=N(),{shouldRetryOnError:t}=e;e.isPaused()||(d.error=C,l&&c()&&(e.onError(C,g,e),(!0===t||tB(t)&&t(C))&&(N().revalidateOnFocus&&N().revalidateOnReconnect&&!F()||e.onErrorRetry(C,g,e,e=>{const t=m[g];t&&t[0]&&t[0](3,e)},{retryCount:(o.retryCount||0)+1,dedupe:!0}))))}return r=!1,u(),!0},[g,s]),G=De.useCallback((...e)=>EB(s,w.current,...e),[]);if(bB(()=>{j.current=t,C.current=n,eB(R)||(B.current=R)}),bB(()=>{if(!g)return;const e=q.bind(Qz,BB);let t=0;if(N().revalidateOnFocus){const e=Date.now();t=e+N().focusThrottleInterval}const n=((e,t,n)=>{const s=t[e]||(t[e]=[]);return s.push(n),()=>{const e=s.indexOf(n);e>=0&&(s[e]=s[s.length-1],s.pop())}})(g,m,(n,s={})=>{if(0==n){const n=Date.now();N().revalidateOnFocus&&n>t&&F()&&(t=n+N().focusThrottleInterval,e())}else if(1==n)N().revalidateOnReconnect&&F()&&e();else{if(2==n)return q();if(3==n)return q(s)}});return y.current=!1,w.current=g,b.current=!0,k({_k:v}),$&&(x[g]||(eB(O)||gB?e():vB(e))),()=>{y.current=!0,n()}},[g]),bB(()=>{let e;function t(){const t=tB(c)?c(_().data):c;t&&-1!==e&&(e=setTimeout(n,t))}function n(){_().error||!d&&!N().isVisible()||!u&&!N().isOnline()?t():q(BB).then(t)}return t(),()=>{e&&(clearTimeout(e),e=-1)}},[c,d,u,g]),De.useDebugValue(H),a){const e=g&&eB(O);if(!fB&&gB&&e)throw new Error("Fallback data is required when using Suspense in SSR.");e&&(j.current=t,C.current=n,y.current=!1);const s=f[g],i=!eB(s)&&e?G(s):HB;if(zB(i),!eB(z)&&e)throw z;const a=e?q(BB):HB;!eB(H)&&e&&(a.status="fulfilled",a.value=!0),zB(a)}return{mutate:G,get data(){return I.data=!0,H},get error(){return I.error=!0,z},get isValidating(){return I.isValidating=!0,V},get isLoading(){return I.isLoading=!0,W}}},function(...e){const t=(()=>{const e=De.useContext(LB);return De.useMemo(()=>nB(MB,e),[e])})(),[n,s,i]=(e=>tB(e[1])?[e[0],e[1],e[2]||{}]:[e[0],null,(null===e[1]?e[2]:e[1])||{}])(e),a=((e,t)=>{const n=nB(e,t);if(t){const{use:s,fallback:i}=e,{use:a,fallback:r}=t;s&&a&&(n.use=s.concat(a)),i&&r&&(n.fallback=nB(i,r))}return n})(t,i);let r=UB;const{use:o}=a,l=(o||[]).concat(OB);for(let c=l.length;c--;)r=l[c](r);return r(n,s||a.fetcher||null,a)});var UB,VB,WB;function qB(){if(WB)return VB;return WB=1,VB=function(e,t){if("function"!=typeof e)throw new TypeError(`Expected the first argument to be a \`function\`, got \`${typeof e}\`.`);let n,s=0;return function(...i){clearTimeout(n);const a=Date.now(),r=t-(a-s);r<=0?(s=a,e.apply(this,i)):n=setTimeout(()=>{s=Date.now(),e.apply(this,i)},r)}}}const GB=Te(qB());function ZB(e,t){return null!=t?GB(e,t):e}function YB(e){const[t,n]=De.useState(e);return De.useEffect(()=>{qz(e,t)||n(e)},[e,t]),t}var KB=function({api:e="/api/chat",id:t,initialMessages:n,initialInput:s="",sendExtraMessageFields:i,onToolCall:a,experimental_prepareRequestBody:r,maxSteps:o=1,streamProtocol:l="data",onResponse:c,onFinish:d,onError:u,credentials:p,headers:m,body:h,generateId:x=Nz,fetch:f,keepLastMessageOnError:g=!0,experimental_throttle:v}={}){const[b]=De.useState(x),y=null!=t?t:b,w="string"==typeof e?[e,y]:y,j=YB(null!=n?n:[]),C=De.useMemo(()=>Wz(j),[j]),{data:N,mutate:F}=$B([w,"messages"],null,{fallbackData:C}),_=De.useRef(N||[]);De.useEffect(()=>{_.current=N||[]},[N]);const{data:k,mutate:S}=$B([w,"streamData"],null),E=De.useRef(k);De.useEffect(()=>{E.current=k},[k]);const{data:I="ready",mutate:A}=$B([w,"status"],null),{data:T,mutate:D}=$B([w,"error"],null),M=De.useRef(null),L=De.useRef({credentials:p,headers:m,body:h});De.useEffect(()=>{L.current={credentials:p,headers:m,body:h}},[p,m,h]);const P=De.useCallback(async(t,n="generate")=>{var s,p;A("submitted"),D(void 0);const m=Wz(t.messages),h=m.length,b=Uz(null==(s=m[m.length-1])?void 0:s.toolInvocations);try{const s=new AbortController;M.current=s;const o=ZB(F,v),u=ZB(S,v),h=_.current;o(m,!1);const b=i?m:m.map(({role:e,content:t,experimental_attachments:n,data:s,annotations:i,toolInvocations:a,parts:r})=>({role:e,content:t,...void 0!==n&&{experimental_attachments:n},...void 0!==s&&{data:s},...void 0!==i&&{annotations:i},...void 0!==a&&{toolInvocations:a},...void 0!==r&&{parts:r}})),w=E.current;await async function({api:e,body:t,streamProtocol:n="data",credentials:s,headers:i,abortController:a,restoreMessagesOnFailure:r,onResponse:o,onUpdate:l,onFinish:c,onToolCall:d,generateId:u,fetch:p=$z(),lastMessage:m,requestType:h="generate"}){var x,f,g;const v="resume"===h?p(`${e}?chatId=${t.id}`,{method:"GET",headers:{"Content-Type":"application/json",...i},signal:null==(x=null==a?void 0:a())?void 0:x.signal,credentials:s}):p(e,{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json",...i},signal:null==(f=null==a?void 0:a())?void 0:f.signal,credentials:s}),b=await v.catch(e=>{throw r(),e});if(o)try{await o(b)}catch(y){throw y}if(!b.ok)throw r(),new Error(null!=(g=await b.text())?g:"Failed to fetch the chat response.");if(!b.body)throw new Error("The response body is empty.");switch(n){case"text":return void(await Hz({stream:b.body,update:l,onFinish:c,generateId:u}));case"data":return void(await Bz({stream:b.body,update:l,lastMessage:m,onToolCall:d,onFinish({message:e,finishReason:t,usage:n}){c&&null!=e&&c(e,{usage:n,finishReason:t})},generateId:u}));default:throw new Error(`Unknown stream protocol: ${n}`)}}({api:e,body:null!=(p=null==r?void 0:r({id:y,messages:m,requestData:t.data,requestBody:t.body}))?p:{id:y,messages:b,data:t.data,...L.current.body,...t.body},streamProtocol:l,credentials:L.current.credentials,headers:{...L.current.headers,...t.headers},abortController:()=>M.current,restoreMessagesOnFailure(){g||o(h,!1)},onResponse:c,onUpdate({message:e,data:t,replaceLastMessage:n}){A("streaming"),o([...n?m.slice(0,m.length-1):m,e],!1),(null==t?void 0:t.length)&&u([...null!=w?w:[],...t],!1)},onToolCall:a,onFinish:d,generateId:x,fetch:f,lastMessage:m[m.length-1],requestType:n}),M.current=null,A("ready")}catch(j){if("AbortError"===j.name)return M.current=null,A("ready"),null;u&&j instanceof Error&&u(j),D(j),A("error")}const w=_.current;(function({originalMaxToolInvocationStep:e,originalMessageCount:t,maxSteps:n,messages:s}){var i;const a=s[s.length-1];return n>1&&null!=a&&(s.length>t||Uz(a.toolInvocations)!==e)&&Zz(a)&&(null!=(i=Uz(a.toolInvocations))?i:0)<n})({originalMaxToolInvocationStep:b,originalMessageCount:h,maxSteps:o,messages:w})&&await P({messages:w})},[F,A,e,L,c,d,u,D,S,E,l,i,r,a,o,_,M,x,f,g,v,y]),R=De.useCallback(async(e,{data:t,headers:n,body:s,experimental_attachments:i=e.experimental_attachments}={})=>{var a,r;const o=await Gz(i),l=_.current.concat({...e,id:null!=(a=e.id)?a:x(),createdAt:null!=(r=e.createdAt)?r:new Date,experimental_attachments:o.length>0?o:void 0,parts:Vz(e)});return P({messages:l,headers:n,body:s,data:t})},[P,x]),O=De.useCallback(async({data:e,headers:t,body:n}={})=>{const s=_.current;if(0===s.length)return null;const i=s[s.length-1];return P({messages:"assistant"===i.role?s.slice(0,-1):s,headers:t,body:n,data:e})},[P]),z=De.useCallback(()=>{M.current&&(M.current.abort(),M.current=null)},[]),B=De.useCallback(async()=>{const e=_.current;P({messages:e},"resume")},[P]),H=De.useCallback(e=>{"function"==typeof e&&(e=e(_.current));const t=Wz(e);F(t,!1),_.current=t},[F]),$=De.useCallback(e=>{"function"==typeof e&&(e=e(E.current)),S(e,!1),E.current=e},[S]),[U,V]=De.useState(s),W=De.useCallback(async(e,t={},n)=>{var s;if(null==(s=null==e?void 0:e.preventDefault)||s.call(e),!U&&!t.allowEmptySubmit)return;n&&(L.current={...L.current,...n});const i=await Gz(t.experimental_attachments),a={messages:_.current.concat({id:x(),createdAt:new Date,role:"user",content:U,experimental_attachments:i.length>0?i:void 0,parts:[{type:"text",text:U}]}),headers:t.headers,body:t.body,data:t.data};P(a),V("")},[U,x,P]),q=De.useCallback(({toolCallId:e,result:t})=>{const n=_.current;if(function({messages:e,toolCallId:t,toolResult:n}){var s;const i=e[e.length-1],a=i.parts.find(e=>"tool-invocation"===e.type&&e.toolInvocation.toolCallId===t);if(null==a)return;const r={...a.toolInvocation,state:"result",result:n};a.toolInvocation=r,i.toolInvocations=null==(s=i.toolInvocations)?void 0:s.map(e=>e.toolCallId===t?r:e)}({messages:n,toolCallId:e,toolResult:t}),F([...n.slice(0,n.length-1),{...n[n.length-1]}],!1),"submitted"===I||"streaming"===I)return;Zz(n[n.length-1])&&P({messages:n})},[F,I,P]);return{messages:null!=N?N:[],id:y,setMessages:H,data:k,setData:$,error:T,append:R,reload:O,stop:z,experimental_resume:B,input:U,setInput:V,handleInputChange:e=>{V(e.target.value)},handleSubmit:W,isLoading:"submitted"===I||"streaming"===I,status:I,addToolResult:q}};const JB=e=>{if(!e)return!1;if(e.includes("..")||e.endsWith(".")||e.endsWith("/")||e.startsWith("/")||e.includes("//")||e.includes(" ")||e.includes("~")||e.includes("^")||e.includes(":")||e.includes("?")||e.includes("*")||e.includes("[")||e.includes("@{")||"@"===e||e.includes("\\"))return!1;const t=e.split("/");for(const n of t)if(n.startsWith(".")||n.endsWith(".lock"))return!1;return/^[a-zA-Z0-9\-\.\/\_]+$/.test(e)},QB=e=>e.replace(/\s+/g,"-");function XB(e){const t=e.match(/https:\/\/[^\s]+/g);return null==t?void 0:t.find(e=>e.includes("atlas-kb.com")||e.includes("notion.site"))}function eH(){const e=new Date;return`conflict_${e.getDate().toString().padStart(2,"0")}${(e.getMonth()+1).toString().padStart(2,"0")}${e.getFullYear().toString().slice(-2)}_${e.toTimeString().slice(0,2)+e.toTimeString().slice(3,5)}`}function tH(e,t){const{defaultErrorMessage:n,needsForcePush:s=!1,allowConflictDetection:i=!0}=t,{errorMessage:a,fullErrorText:r,errorString:o}=function(e,t){var n,s;let i=t,a="";const r=JSON.stringify(e);return(null==(n=null==e?void 0:e.data)?void 0:n.detail)?(i=e.data.detail,a=e.data.detail):(null==(s=null==e?void 0:e.data)?void 0:s.message)?(i=e.data.message,a=e.data.message):(null==e?void 0:e.message)&&(i=e.message,a=e.message),{errorMessage:i,fullErrorText:a,errorString:r}}(e,n);if(function(e,t){return["GITHUB PUSH PROTECTION","Push cannot contain secrets","Secret push protection is enabled"].some(n=>e.includes(n)||t.includes(n))}(r,o))return{type:"secret_protection",errorMessage:a,fullErrorText:r,learnMoreUrl:XB(r)};if(function(e,t){return["Updates were rejected because the remote contains work that you do not have locally","remote contains work that you do not have locally"].some(n=>e.includes(n)||t.includes(n))}(r,o)){const e=i&&!s;return{type:"remote_rejection",errorMessage:a,fullErrorText:r,shouldShowConflictUI:e,shouldGenerateProposedBranch:e}}return{type:"generic",errorMessage:a,fullErrorText:r}}function nH(e,t){const{repositories:n,isCreatingNewRepo:s,selectedInstallation:i}=t;if(!e)return{isValid:!1,errorMessage:s?"Enter a name for your new repository":"Repository name is required"};if(!(e=>!!e&&!e.endsWith(".git")&&JB(e))(e))return{isValid:!1,errorMessage:"Invalid repository name. Names must follow Git naming rules: only alphanumeric characters and - . / _ are allowed. Cannot contain spaces, consecutive dots (..), begin/end with /, end with ., or contain special characters."};if(s){return n.some(t=>t.name.toLowerCase()===e.toLowerCase())?{isValid:!1,errorMessage:`Repository "${e}" already exists.`}:{isValid:!0,successMessage:`New repo "${e}" will be created and your current changes will be pushed to it.`}}return{isValid:!0}}function sH(e,t){const{branches:n,selectedRepository:s,isCreatingNewRepo:i}=t;if(!e)return{isValid:!1,errorMessage:"Branch name is required"};if(!JB(e))return{isValid:!1,errorMessage:"Invalid branch name. Names must follow Git naming rules: only alphanumeric characters and - . / _ are allowed. Cannot contain spaces, consecutive dots (..), begin/end with /, end with ., or contain special characters."};if(i)return{isValid:!0};if(s){if(!n.some(t=>t.name===e))return{isValid:!0,successMessage:`New branch "${e}" will be created and your current changes will be pushed to it.`}}return{isValid:!0}}function iH(e){const{jobId:t,selectedInstallation:n,isCreatingNewRepo:s,newRepoName:i,selectedRepository:a,branchName:r,repositories:o,isLoading:l,secretProtectionError:c}=e;if(!t)return{isValid:!1,errorMessage:"Job ID is required"};if(!n)return{isValid:!1,errorMessage:"Please select a GitHub account"};if(s){const e=nH(i,{repositories:o,isCreatingNewRepo:!0,selectedInstallation:n});if(!e.isValid)return e}else if(!a)return{isValid:!1,errorMessage:"Please select a repository"};const d=sH(r,{branches:[],selectedRepository:a,isCreatingNewRepo:s});return d.isValid?l?{isValid:!1,errorMessage:"Please wait for loading to complete"}:c?{isValid:!1,errorMessage:"Please resolve secret protection issues before pushing"}:{isValid:!0}:d}const aH=({value:e,feedbackType:t="tooltip",defaultText:s="Copy",copiedText:i="Copied!",tooltipText:a="Copy",copiedTooltipText:r="Copied",feedbackDuration:o=1e3,className:l="",buttonClassName:c="",tooltipClassName:d="",children:u,showIcon:p=!0,iconOnly:m=!1,iconProps:h={size:16},copiedClassName:x,onCopy:f,showTooltipOnHover:g=!0,tooltipEnabled:v=!0,tooltipOpen:b,onTooltipOpenChange:y,...w})=>{const[j,C]=De.useState(!1),[N,F]=De.useState(void 0),_=De.useRef(null);De.useEffect(()=>()=>{_.current&&clearTimeout(_.current)},[]);const k=async()=>{try{const n="function"==typeof e?e():e;await navigator.clipboard.writeText(n),_.current&&clearTimeout(_.current),C(!0),v&&"tooltip"===t&&F(!0),f&&f(n),_.current=setTimeout(()=>{C(!1),v&&"tooltip"===t&&N&&F(!1)},o)}catch(n){}},S=j?Uk:sS,E=j?Xk:eS,I=h.clipboard?E:S,A=fb("inline-flex items-center justify-center rounded-md font-inter","transition-all duration-200 focus:outline-none",c||"px-3 py-1 text-sm bg-gray-800 text-white hover:bg-gray-700",j&&"border"===t&&"ring-2 ring-green-400 ring-offset-1"),T=()=>u||(m?n.jsx(I,{...h}):p?n.jsxs(n.Fragment,{children:[n.jsx(I,{...h}),s&&n.jsx("span",{className:"ml-1",children:"text"!==t&&"icon-text"!==t||!j?s:i})]}):"text"!==t&&"icon-text"!==t||!j?s:i),D=void 0!==b?b:N;return v&&"tooltip"===t?n.jsx(EE,{children:n.jsxs(IE,{open:D,onOpenChange:e=>{y?y(e):F(e)},delayDuration:g?0:9999999,children:[n.jsx(AE,{asChild:!0,children:n.jsx("button",{className:fb(A,l,j&&x),onClick:k,type:"button",...w,children:T()})}),n.jsx(TE,{className:fb(d,"bg-[#DDDDE6] text-black border-0"),children:j?r:a})]})}):n.jsx("button",{className:fb(A,l,("text"===t||"icon-text"===t)&&j&&x),onClick:k,type:"button",...w,children:T()})},rH=gv.common.repo,oH=gv.common.saveCloud,lH=gv.common.githubConnect,cH=gv.common.line,dH=gv.icons.github,uH=gv.menuIcons.github,pH=gv.icons.branch,mH=gv.icons.infoSquare,hH=gv.github.arrowGreen,xH=gv.github.shieldLock,fH=gv.github.emergencyHome,gH=gv.github.emergencyHomeRed,vH=gv.github.gitBranch,bH=gv.github.githubGreenDark,yH=gv.github.githubBack,wH=gv.github.gitBranchDark,jH=gv.github.emergencyHomePurple;function CH({isOpen:e,triggerRef:t,children:s,className:i="",scrollableContainerRef:a}){const[r,o]=De.useState({top:0,left:0,width:0}),l=De.useCallback(()=>{if(e&&t.current){const e=t.current.getBoundingClientRect();if(0===e.width||0===e.height)return;const n=window.innerHeight,s=window.innerWidth,i=300,a=n-e.bottom,r=e.top,l=8,c=120,d=Math.min(i,200);let u=e.bottom+4,p=!1;a<c&&r>d+50&&(u=e.top-d-4,p=!0);const m=s-2*l,h=Math.min(e.width,m);let x=u;if(p)x=Math.max(l,u);else{const e=Math.min(d,a-l);x=Math.min(u,n-e-l)}const f={top:x,left:Math.max(l,Math.min(e.left,s-h-l)),width:h};o(f)}},[e,t]);return De.useEffect(()=>{l()},[l]),De.useEffect(()=>{if(!e)return;const t=()=>l(),n=()=>l();window.addEventListener("scroll",t,!0),window.addEventListener("resize",n);const s=null==a?void 0:a.current;return s&&s.addEventListener("scroll",t),()=>{window.removeEventListener("scroll",t,!0),window.removeEventListener("resize",n),s&&s.removeEventListener("scroll",t)}},[e,l,a]),e?Re.createPortal(n.jsx("div",{className:`fixed z-[9999] bg-[#131314] border border-[#242424] rounded-md shadow-lg pointer-events-auto ${i}`,style:{top:r.top,left:r.left,width:r.width,maxHeight:"300px",overflowY:"auto",overflowX:"hidden"},"data-portal-dropdown":i,onMouseDown:e=>{e.stopPropagation()},onClick:e=>{e.stopPropagation()},onFocus:e=>{e.stopPropagation()},onWheel:e=>{e.stopPropagation()},children:s}),document.body):null}function NH({podIsPaused:e,isOpen:t,onOpenChange:s,jobId:i,lastGithubUsed:a,onSuccess:r}){var o,l,c,d,u,p;const[m,h]=De.useState({showBranchDropdown:!1,showCustomBranchInput:!1,showRepositoryDropdown:!1,showInstallationDropdown:!1}),x=e=>{h(t=>({...t,...e}))},{user:f}=Wg(),[g,v]=De.useState("main"),[b,y]=De.useState(!1),[w,j]=De.useState(""),[C,N]=De.useState(!1),[F,_]=De.useState([]),[k,S]=De.useState(""),[E,I]=De.useState(!1),[A,T]=De.useState(!0),[D,M]=De.useState(""),[L,P]=De.useState(""),[R,O]=De.useState(!1),[z,B]=De.useState(""),[H,$]=De.useState(null),[U,V]=De.useState(!1),[W,q]=De.useState(""),[G,Z]=De.useState(!1),[Y,K]=De.useState(!1),[J,Q]=De.useState(null),[X,ee]=De.useState(!1),[te,ne]=De.useState(null),[se,ie]=De.useState(null),ae=De.useRef(null),re=De.useRef(null),oe=De.useRef(null),le=De.useRef(null),ce=Le(),de=["/verify","/activate","/reset-password","/login","/register","/oauth"].some(e=>ce.pathname.startsWith(e)),{data:ue,refetch:pe}=Fx(void 0,{skip:!t||de||!f}),{data:me,isLoading:he,refetch:xe}=_x(void 0,{skip:!t||!(null==(o=null==ue?void 0:ue.github)?void 0:o.authorized)}),fe=De.useMemo(()=>{if(!D||!me)return"";const e=me.find(e=>e.installation_id===D);return(null==e?void 0:e.account_login)||""},[D,me]),{data:ge,isLoading:ve,refetch:be}=kx(fe,{skip:!D||!fe}),ye=De.useMemo(()=>L&&!R&&fe?{accountLogin:fe,repoName:L}:null,[L,R,fe]),{data:we,isFetching:je,refetch:Ce}=Sx(ye||{accountLogin:"",repoName:""},{skip:!ye}),Ne=()=>fe,Fe=()=>{if(R)return z;const e=null==ge?void 0:ge.find(e=>e.name===L);return(null==e?void 0:e.name)||""},[_e,{isLoading:ke}]=Ex(),[Se,{isLoading:Ee}]=Ix(),[Ie,Ae]=De.useState(!1),[Te,Me]=De.useState(!1),Pe=De.useMemo(()=>{var e;return eT(me,null==(e=null==ue?void 0:ue.github)?void 0:e.account_name)},[me,null==(l=null==ue?void 0:ue.github)?void 0:l.account_name]),Re=ge||[],Oe=(null==(c=null==ue?void 0:ue.github)?void 0:c.authorized)||!1,{toast:ze}=on(),{redirectToGitHubInstallation:Be,isConnecting:He,setIsConnecting:$e}=$A(),Ue=e=>{if(!e){if(X&&te&&r){const e={branch:te.branch,repo:te.repo,owner:te.owner,provider:"github"};r(e)}h({showBranchDropdown:!1,showCustomBranchInput:!1,showRepositoryDropdown:!1,showInstallationDropdown:!1}),N(!1),v("main"),_([]),S(""),I(!1),T(!0),M(""),P(""),O(!1),B(""),j(""),$(null),V(!1),q(""),Z(!1),K(!1),Q(null),ee(!1),ne(null),ie(null),Ae(!1),Me(!1)}s(e)},Ve=De.useCallback(()=>{if(H&&H.includes("Conflict Detected")){N(!0),V(!0);const e=new Date,t=e.toISOString().slice(0,10).replace(/-/g,""),n=e.toTimeString().slice(0,2)+e.toTimeString().slice(3,5);q(`conflict_${t}_${n}`)}else N(!1),V(!1),q("")},[H]);De.useEffect(()=>{Ve()},[Ve]),De.useEffect(()=>{if(!t)return;if(T(!0),N(!1),v("main"),ue){const e=setTimeout(()=>{T(!1)},500);return()=>clearTimeout(e)}const e=setTimeout(()=>{T(!1)},5e3);return()=>clearTimeout(e)},[t,ue]);const We=De.useCallback(()=>{P(""),j(""),_([]),O(!1),B(""),I(!1),v("main"),setTimeout(()=>{const e=document.querySelector(".repository-input input");e&&(e.value="")},0)},[]);De.useEffect(()=>{D&&We()},[D,We]),De.useEffect(()=>{Oe&&He&&$e(!1)},[Oe,He,$e]);const qe=De.useMemo(()=>{if(!we||!Array.isArray(we)||0===we.length)return"main";if(a){const e=we.find(e=>e.name===a.branch);if(e)return e.name}const e=we.find(e=>"main"===e.name||"master"===e.name);return e?e.name:we[0].name},[we,a]);De.useEffect(()=>{we&&Array.isArray(we)?(_(we),v(qe)):_([])},[we,qe,R,L]);const Ge=De.useRef(R);De.useEffect(()=>{if(Ge.current&&!R&&L&&fe&&!je){const e=setTimeout(async()=>{try{await Ce()}catch(e){}},50);return()=>clearTimeout(e)}Ge.current=R},[R,L,fe,je,Ce]);const Ze=Re.filter(e=>!w||e.name.toLowerCase().includes(w.toLowerCase())),Ye=De.useRef(g),Ke=De.useRef(L);De.useEffect(()=>{const e=Ye.current!==g,t=Ke.current!==L;if((e||t)&&(Y&&(K(!1),Z(!1),N(!1),q(""),$(null)),J)){const e=Ne(),t=Fe();J.repository===t&&J.branch===g&&J.owner===e&&!Y&&(K(!0),N(!0),q(eH()))}Ye.current=g,Ke.current=L},[g,L,Y,J]),De.useEffect(()=>{Y&&le.current&&setTimeout(()=>{if(le.current){const e=le.current,t=e.scrollHeight-e.clientHeight,n=e.scrollTop,s=t-n,i=800,a=performance.now(),r=e=>e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1,o=t=>{const l=t-a,c=Math.min(l/i,1),d=r(c);e.scrollTop=n+s*d,c<1&&requestAnimationFrame(o)};requestAnimationFrame(o)}},150)},[Y]);const Je=()=>Te?{isValid:!0}:nH(z,{repositories:Re,isCreatingNewRepo:R,selectedInstallation:D}),Qe=()=>sH(g,{branches:F,selectedRepository:L,isCreatingNewRepo:R}),Xe=()=>{const e=Pe.find(e=>e.installation_id===D);return"User"===(null==e?void 0:e.account_type)&&!(null==e?void 0:e.isPrimary)},et=async t=>{var n;t.preventDefault(),Ae(!0);try{if(!i||!D)return;if(e)return ze({title:"Pod is paused",description:"Please unpause your pod before pushing to GitHub",variant:"destructive"}),void s(!1);const t=Ne(),a=Fe();if(!t||!a)return;if((()=>{if(!J)return!1;const e=Ne(),t=Fe();return J.repository===t&&J.branch===g&&J.owner===e})())return void ze({title:"Conflict detected",description:"This repository and branch combination has a conflict. Please resolve it using the options below.",variant:"destructive"});R&&(Me(!0),await _e({installation_id:D,org:"User"!==(null==(n=Pe.find(e=>e.installation_id===D))?void 0:n.account_type)?t:void 0,name:a}).unwrap(),await new Promise(e=>setTimeout(e,1500))),await Se({jobId:i,data:{account_login:t,repo_name:a,branch_name:g,is_new_repo:R,force:C}}).unwrap(),K(!1),Z(!1),N(!1),$(null),Q(null),ne({branch:g,repo:a,owner:t,isNewRepo:R,isNewBranch:!1}),ee(!0),Me(!1)}catch(a){const e=tH(a,{defaultErrorMessage:"Failed to push to GitHub",needsForcePush:C,allowConflictDetection:!0});switch(e.type){case"secret_protection":return void ie({fullError:e.fullErrorText,learnMoreUrl:e.learnMoreUrl,isExpanded:!1});case"remote_rejection":if(e.shouldShowConflictUI)return K(!0),N(!0),q(eH()),void Q({repository:Fe(),branch:g,owner:Ne()})}$(e.errorMessage),ze({title:"Error",description:e.errorMessage,variant:"destructive"})}finally{Ae(!1),Me(!1)}},tt=A||he||ve,nt=Ie||Ee||ke,st=async()=>{$e(!0);const e=async()=>{try{const e=await pe();return!(!e.data||!e.data.github||!0!==e.data.github.authorized)&&(await xe(),ze({title:"Success",description:"Successfully connected to GitHub"}),!0)}catch(e){return!1}finally{$e(!1)}};try{Be({isPopup:!0,pollingEnabled:!1,onSuccess:async()=>{await e()}}),(()=>{let t=0;const n=setInterval(async()=>{t++;const s=await e();(s||t>=10)&&(clearInterval(n),!s&&t>=10&&$e(!1))},3e3);setTimeout(()=>{clearInterval(n),$e(!1)},31e3)})()}catch(t){$e(!1),ze({title:"Error",description:"Failed to connect to GitHub",variant:"destructive"})}};De.useEffect(()=>{const e=e=>{const t=e.target;!m.showInstallationDropdown||t.closest(".installation-dropdown")||t.closest(".installation-input")||x({showInstallationDropdown:!1}),!m.showRepositoryDropdown||t.closest(".repository-dropdown")||t.closest(".repository-input")||t.closest(".repo-toggle-buttons")||x({showRepositoryDropdown:!1}),!m.showBranchDropdown||t.closest(".branch-dropdown")||t.closest(".branch-input")||t.closest("#branch-selector")||x({showBranchDropdown:!1}),!m.showCustomBranchInput||t.closest("[data-portal-dropdown='branch-dropdown custom-branch-input']")||t.closest("#branch-selector")||(t.closest(".modal-backdrop")||t.closest("[data-dialog-close]"))&&(x({showCustomBranchInput:!1}),S(""))};if((m.showInstallationDropdown||m.showRepositoryDropdown||m.showBranchDropdown||m.showCustomBranchInput)&&!m.showCustomBranchInput)return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[m.showInstallationDropdown,m.showRepositoryDropdown,m.showBranchDropdown,m.showCustomBranchInput]),De.useEffect(()=>{t||x({showInstallationDropdown:!1,showRepositoryDropdown:!1,showBranchDropdown:!1,showCustomBranchInput:!1})},[t]);const it=De.useMemo(()=>{var e;if(0===Pe.length||he||D)return null;if(a&&a.owner){const e=Pe.find(e=>e.account_login===a.owner);if(e)return e.installation_id}const t=Pe.find(e=>e.isPrimary);return t?t.installation_id:(null==(e=Pe[0])?void 0:e.installation_id)||null},[a,Pe,he,D]);De.useEffect(()=>{it&&M(it)},[it]);const at=De.useMemo(()=>{if(!a||ve||0===Re.length||!D)return{repoName:"",branchName:"main"};const e=Pe.find(e=>e.installation_id===D);return e&&e.account_login===a.owner?{repoName:a.repo,branchName:a.branch||"main"}:{repoName:"",branchName:"main"}},[a,Re,ve,D,Pe]);return De.useEffect(()=>{at.repoName&&(P(at.repoName),j(at.repoName)),v(at.branchName)},[at]),Oe?n.jsx(n.Fragment,{children:n.jsx(_A,{open:t,onOpenChange:Ue,children:n.jsxs(AA,{className:fb("max-w-[700px] p-0 overflow-visible transition-all duration-300 ease-in-out top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2",G||X&&"overflow-hidden"),hideclosebutton:!0,children:[He&&n.jsx("div",{className:"absolute inset-0 z-50 flex flex-col items-center justify-center bg-[#0F0F10]/90 backdrop-blur-sm",children:n.jsxs("div",{className:"flex flex-col items-center justify-center p-6 rounded-lg",children:[n.jsx(hS,{className:"w-12 h-12 text-[#00E573] animate-spin mb-4"}),n.jsx("p",{className:"text-lg font-medium text-white",children:"Connecting to GitHub..."})]})}),!G&&!X&&n.jsxs("div",{className:"flex items-center gap-2 px-4  md:px-8 max-h-[98px] py-6 border-b border-[#242424]",children:[n.jsx("div",{className:"flex items-center justify-center bg-[#ffffff05] p-2 rounded-full",children:n.jsx("img",{src:uH,alt:"GitHub",className:"w-6 h-6"})}),n.jsx("h2",{className:"text-[22px] font-medium text-white",children:"Save to Github"}),n.jsx(EA,{className:"ml-auto",children:n.jsx(RS,{className:"w-5 h-5 text-gray-400 hover:text-white"})})]}),n.jsxs("div",{ref:le,className:"relative max-h-[500px] overflow-y-auto",children:[tt&&n.jsxs("div",{className:"absolute inset-0 z-10 flex flex-col items-center justify-center bg-[#0F0F10] transition-opacity duration-300 ease-in-out",children:[n.jsx(hS,{className:"h-8 w-8 text-[#00FF85] animate-spin mb-4"}),n.jsx("p",{className:"text-[#DDDDE6]/70 text-sm",children:A?"Connecting to GitHub...":he?"Loading GitHub accounts...":"Loading repositories..."})]}),X&&te?n.jsxs(n.Fragment,{children:[n.jsx("img",{src:cH,className:"absolute top-0 left-0 right-0 z-[-1] w-full pointer-events-none",alt:"Line"}),n.jsx(EA,{className:"absolute z-20 p-2 rounded-md group backdrop-blur-lg bg-white/5 top-8 right-8",children:n.jsx(RS,{className:"w-5 h-5 text-gray-400 group-hover:text-white"})}),n.jsx("div",{className:"p-8 pt-[10rem] space-y-6",children:n.jsxs("div",{className:"flex flex-col items-start w-full gap-6",children:[n.jsx("img",{src:bH,alt:"GitHub",className:"w-16 h-16 mb-4"}),n.jsxs("div",{className:"space-y-2 text-start",children:[n.jsx("h2",{className:"text-2xl font-medium text-white",children:"Successfully Saved to GitHub!"}),n.jsxs("p",{className:"text-[#737780] font-medium font-['Inter']",children:["Your changes have been saved to"," ",n.jsxs("span",{className:"text-[#fff] font-medium font-['Inter']",children:[te.owner,"/",te.repo,",",n.jsx("br",{})]}),"Continue working on your task or view the codebase on GitHub."]})]}),n.jsxs("div",{onClick:()=>{const e=`https://github.com/${te.owner}/${te.repo}/tree/${te.branch}`;window.open(e,"_blank")},className:"bg-[#18181A] mb-4 w-full cursor-pointer flex justify-between items-center border border-[#242424] rounded-lg p-4 gap-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("img",{src:dH,alt:"GitHub",className:"w-6 h-6"}),n.jsxs("span",{className:"font-medium font-['Inter'] text-white text-nowrap",children:[te.owner," \\ ",te.repo]})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("img",{src:vH,alt:"Branch",className:"w-5 h-5 opacity-50 grayscale"}),n.jsx("span",{className:"font-medium text-[#626266] truncate",children:te.branch})]})]}),n.jsx("div",{className:"flex items-center gap-2 cursor-pointer group hover:opacity-80",children:n.jsxs("span",{className:"flex group-hover:text-[#2EE572] items-center text-nowrap gap-2 text-[#626266] font-medium",children:["View on GitHub",n.jsx("img",{src:hH,alt:"Arrow",className:fb("w-6 h-6 grayscale opacity-35 group-hover:opacity-100 group-hover:grayscale-0")})]})})]})]})})]}):G?n.jsxs("div",{className:"p-4 space-y-6 md:p-8",children:[n.jsxs("div",{className:"flex items-start w-full gap-2",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("h2",{className:"text-2xl font-medium text-white",children:"Confirm force push to"}),n.jsxs("p",{className:"text-[#E38F45] font-medium text-[22px] leading-[28px] tracking-[-2%]",children:['"',g,'"']})]}),n.jsx("div",{onClick:()=>Z(!1),className:"z-20 rounded-sm p-1 group ml-auto bg-[#FFFFFF05] backdrop-blur-lg hover:bg-[#FFFFFF12]",children:n.jsx(RS,{className:"z-20 w-5 h-5 text-gray-400 group-hover:text-white top-12 right-12"})})]}),n.jsx("div",{className:"space-y-4",children:n.jsxs("p",{className:"text-[#B7BECC] font-['Inter'] font-medium leading-[24px] text-[15px] md:max-w-[80%]",children:["Are you sure you want to force push? ",n.jsx("br",{}),"This will replace everything on"," ",n.jsxs("span",{className:"font-semibold text-[#FFA04D]",children:["'",g,"'"]})," ","with your current changes  and can't be undone."]})})]}):n.jsxs("form",{onSubmit:et,className:"p-4 space-y-4 md:space-y-6 md:p-8",onClick:e=>{},children:[n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("img",{src:dH,alt:"GitHub",className:"w-5 h-5 opacity-70"}),n.jsx("span",{className:"text-sm text-gray-400",children:"Connected Organizations"})]}),n.jsxs("div",{className:"relative",children:[n.jsxs("div",{ref:re,className:`flex items-center justify-between w-full h-14 bg-[#131314] border ${m.showInstallationDropdown?"border-white/50":"border-[#242424]"} rounded-md p-3 text-white installation-input`,onClick:()=>{x({showRepositoryDropdown:!1,showBranchDropdown:!1,showInstallationDropdown:!m.showInstallationDropdown})},children:[n.jsx("div",{className:"flex items-center w-full",children:n.jsx("div",{className:"relative flex-1",children:D?n.jsxs("div",{className:"flex items-center",children:[(null==(d=Pe.find(e=>e.installation_id===D))?void 0:d.account_login)||"Select a GitHub account","User"===(null==(u=Pe.find(e=>e.installation_id===D))?void 0:u.account_type)&&!(null==(p=Pe.find(e=>e.installation_id===D))?void 0:p.isPrimary)&&n.jsx("span",{className:"text-xs text-[#DDDDE6] rounded-full bg-[#FFFFFF0D] ml-1 px-2 py-1 font-['Inter'] font-medium",children:"Collaborator"})]}):n.jsx("span",{className:"text-[#8F8F98]",children:"Select a GitHub account"})})}),n.jsx(Vk,{className:"h-4 w-4 text-[#898F99] transition-transform duration-200 "+(m.showInstallationDropdown?"rotate-180":"")})]}),n.jsx(CH,{isOpen:Pe.length>0&&m.showInstallationDropdown,triggerRef:re,className:"installation-dropdown",scrollableContainerRef:le,children:n.jsxs("div",{className:"flex flex-col gap-[6px] p-2",children:[Pe.map(e=>n.jsx("div",{className:fb("px-3 min-h-[40px] rounded-[8px] py-2 text-[#DDDDE6] hover:bg-[#2D2D2F]/40 font-medium cursor-pointer",D===e.installation_id&&"bg-[#172426] text-[#1BB4CC] hover:bg-[#172426] hover:text-[#1BB4CC]"),onClick:()=>{if(e.installation_id===D)return void x({showInstallationDropdown:!1});P(""),j(""),_([]),O(!1),B(""),I(!1),x({showRepositoryDropdown:!1,showBranchDropdown:!1,showInstallationDropdown:!1}),M(e.installation_id);const t=document.querySelector(".repository-input input");t&&(t.value="")},children:n.jsxs("div",{className:"flex items-center justify-between w-full",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{children:e.account_login}),"User"===e.account_type&&!e.isPrimary&&n.jsx("span",{className:"text-xs text-[#DDDDE6] rounded-full bg-[#FFFFFF0D] ml-1 px-2 py-1 font-['Inter'] font-medium",children:"Collaborator"})]}),D===e.installation_id&&n.jsx(Uk,{className:"h-4 w-4 text-[#1BB4CC]"})]})},e.installation_id)),n.jsx("div",{className:"border-t border-[#ffffff12]"}),n.jsx("div",{className:"px-3 min-h-[40px] rounded-[8px] py-2 text-[#4ADE80] hover:bg-[#4ADE80]/10 font-medium "+(He?"opacity-50 cursor-not-allowed":"cursor-pointer"),onClick:()=>{He||(st(),x({showInstallationDropdown:!1}))},children:n.jsxs("div",{className:"flex items-center gap-2",children:[He?n.jsx(hS,{className:"w-4 h-4 animate-spin"}):n.jsx(wS,{className:"w-4 h-4"}),He?"Connecting...":"Add New Github Organizations"]})})]})})]}),0===Pe.length&&!A&&!he&&n.jsx("p",{className:"text-[#FF4545] text-sm",children:"No GitHub accounts connected. Please connect a GitHub account."})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{className:"flex items-center justify-between w-full gap-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("img",{src:rH,alt:"Repository",className:"w-5 h-5"}),n.jsx("span",{className:"text-[#898F99] text-sm font-medium font-[Inter]",children:"Selected Repo"})]}),D&&n.jsx("button",{type:"button",className:"flex items-center justify-center w-6 h-6 ml-1 rounded-full hover:bg-blue-400/5 group",onClick:async()=>{!D||ve||b||(y(!0),await be(),y(!1))},disabled:ve||b,title:"Refresh repositories",children:n.jsx(NS,{className:"h-3.5 w-3.5 text-[#898F99] group-hover:text-white "+(b?"animate-spin":"")})})]})}),n.jsxs("div",{className:"relative",children:[n.jsxs("div",{ref:oe,className:`flex items-center justify-between w-full h-14 bg-[#131314] border ${m.showRepositoryDropdown?"border-white/50":"border-[#242424]"} rounded-md p-3 text-white repository-input`,children:[n.jsxs("div",{className:"flex items-center w-full",children:[n.jsx(_S,{className:"h-4 w-4 text-[#8F8F98] mr-2"}),n.jsxs("div",{className:"relative flex-1",children:[n.jsx(qS,{type:"text",value:w,onChange:e=>{const t=e.target.value,n=QB(t);if(j(n),n!==w&&(P(""),_([]),v("main")),R)return B(n),void I(!1);const s=Re.find(e=>e.name.toLowerCase()===n.toLowerCase());if(s)P(s.name),x({showRepositoryDropdown:!1}),I(!1);else if(n){P(""),x({showRepositoryDropdown:!0});const e=Re.some(e=>e.name.toLowerCase().includes(n.toLowerCase()));I(!e&&n.length>0),_([])}else P(""),I(!1),_([])},onFocus:()=>{R||x({showBranchDropdown:!1,showInstallationDropdown:!1,showRepositoryDropdown:!0})},placeholder:R?"Enter new repository name":"Search for a repository",className:"w-full p-0 bg-transparent border-0 focus-visible:ring-0 focus-visible:ring-offset-0",disabled:!D||R&&Xe()}),L&&!R&&n.jsx("button",{type:"button",className:"absolute right-0 flex items-center justify-center w-6 mr-1 h-6 transform hover:bg-[#ffffff05] -translate-y-1/2 rounded-full top-1/2",onClick:()=>{P(""),j(""),_([]),v("main"),x({showRepositoryDropdown:!0})},title:"Clear selected repository",children:n.jsx(RS,{className:"h-3.5 w-3.5 text-[#898F99]"})})]})]}),n.jsxs("div",{className:"flex text-sm text-nowrap bg-[#ffffff15] p-[6px] rounded-full font-semibold cursor-pointer repo-toggle-buttons",children:[n.jsx("span",{className:"px-[10px] py-1 rounded-full transition-colors "+(R?"text-white/50 hover:text-white/80 font-medium":"bg-white text-black"),onClick:async()=>{if(O(!1),x({showBranchDropdown:!1,showInstallationDropdown:!1,showRepositoryDropdown:!!(D&&Re.length>0)}),w){const t=Re.find(e=>e.name.toLowerCase()===w.toLowerCase());if(t){if(P(t.name),j(t.name),I(!1),fe)try{await Ce()}catch(e){}}else P(""),I(!0),_([]),v("main")}else if(L){const t=Re.find(e=>e.name===L);if(t){if(j(t.name),I(!1),fe)try{await Ce()}catch(e){}}else P(""),_([]),v("main")}else _([]),v("main")},children:"Select Repo"}),n.jsx("span",{className:"px-[10px] py-1 rounded-full transition-colors "+(R?"bg-white text-black ":Xe()?"text-white/20 cursor-not-allowed":"text-white/50 hover:text-white/80 font-medium"),onClick:()=>{if(!Xe()){if(O(!0),x({showRepositoryDropdown:!1,showBranchDropdown:!1,showInstallationDropdown:!1}),P(""),I(!1),w)B(w);else{const e=Re.find(e=>e.name===L);e&&(B(e.name),j(e.name))}_([]),v("main")}},children:"Create New"})]})]}),n.jsx(CH,{isOpen:Re.length>0&&Ze.length>0&&m.showRepositoryDropdown&&!R,triggerRef:oe,className:"repository-dropdown",scrollableContainerRef:le,children:n.jsx("div",{className:"px-2 py-1 flex flex-col gap-[6px]",children:Ze.map(e=>n.jsx("div",{className:fb("px-3 min-h-[40px] rounded-[8px]   py-2 text-[#DDDDE6] hover:bg-[#2D2D2F]/40 font-medium  cursor-pointer",e.permissions.push?"":"opacity-20",L===e.name&&"bg-[#172426] text-[#1BB4CC]"),onClick:t=>{t.preventDefault(),t.stopPropagation(),e.permissions.push?(P(e.name),j(e.name),O(!1),B(""),x({showRepositoryDropdown:!1}),I(!1)):ze({title:"You don't have push access to this repository.",description:"Please select a repository you have push access to.",variant:"destructive"})},children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{children:e.name}),(null==a?void 0:a.repo)===e.name&&(null==a?void 0:a.owner)===Ne()&&n.jsx(rE,{variant:"secondary",className:"bg-green-700",children:"Last used"})]})},e.id))})}),D&&R&&Xe()&&n.jsxs("p",{className:"text-[#FF4545] text-sm mt-2 flex items-center gap-1",children:[n.jsx("img",{src:mH,alt:"Info",className:"w-3 h-3"}),n.jsx("span",{children:"You don't have permission to create repositories in an organization where you're a collaborator."})]}),D&&R&&!z&&n.jsx("p",{className:"text-[#DDDDE6]/50 text-sm mt-2",children:"Enter a name for your new repository"}),D&&R&&z&&!Je().isValid&&n.jsx("p",{className:"text-[#FF4545] text-sm mt-2",children:Je().errorMessage}),D&&R&&z&&Je().isValid&&n.jsx("span",{className:"text-[#CCC] text-sm mt-2 flex items-center gap-1",children:Je().successMessage&&n.jsxs(n.Fragment,{children:[n.jsx("img",{src:mH,alt:"Info",className:"w-3 h-3"}),n.jsx("span",{className:"text-[#00FF85]",children:Je().successMessage})]})}),D&&0===Re.length&&n.jsx("p",{className:"text-[#DDDDE6]/50 text-sm mt-2",children:"No repositories found. Enter a name to create a new one."}),D&&!R&&E&&w&&n.jsxs("p",{className:"text-[#FF4545] text-sm mt-2 flex items-center gap-1",children:[n.jsx("img",{src:mH,alt:"Info",className:"w-3 h-3"}),n.jsxs("span",{children:["Repository"," ",n.jsxs("span",{className:"font-semibold",children:['"',w,'"']})," ",'doesn\'t exist. Switch to "Create New" to create it.']})]})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("img",{src:pH,alt:"Branch",className:"w-5 h-5"}),n.jsx("span",{className:"text-[#898F99] text-sm font-medium font-[Inter]",children:"Branch"})]}),L&&!R&&n.jsx("div",{className:"flex items-center gap-2",children:n.jsx("button",{type:"button",className:"flex items-center justify-center w-6 h-6 ml-1 rounded-full hover:bg-blue-400/5 group",onClick:async()=>{!L||je||R||await Ce()},disabled:je,title:"Refresh branches",children:n.jsx(NS,{className:"h-3.5 w-3.5 text-[#898F99] group-hover:text-white "+(b?"animate-spin":"")})})})]}),je?n.jsx("div",{className:"flex items-center justify-center h-14 bg-[#131314] border border-[#242424] rounded-md",children:n.jsx(hS,{className:"h-4 w-4 text-[#00FF85] animate-spin"})}):R?n.jsxs("div",{className:"space-y-2",children:[n.jsx("div",{className:"relative",children:n.jsx("div",{className:"flex items-center justify-between w-full h-14 bg-[#131314] border border-[#242424] rounded-md p-3 text-white",children:n.jsx("div",{className:"flex items-center w-full branch-input",children:n.jsxs("div",{className:"relative flex-1",children:[n.jsx(qS,{type:"text",value:g,onChange:e=>{const t=e.target.value,n=QB(t);v(n),m.showCustomBranchInput},placeholder:"Branch name (e.g., main)",className:"w-full p-0 bg-transparent border-0 focus-visible:ring-0 focus-visible:ring-offset-0",disabled:!D||!z&&R}),g&&n.jsx(wb,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 w-6 h-6 transform -translate-y-1/2 rounded-full top-1/2",onClick:()=>{v("main")},title:"Clear branch name",disabled:!D||!z&&R,children:n.jsx(RS,{className:"h-3.5 w-3.5 text-[#898F99]"})})]})})})}),g&&!Qe().isValid&&n.jsx("div",{className:"text-[#FF4545] text-sm mt-2",children:Qe().errorMessage})]}):n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"relative",children:[n.jsxs("div",{className:"relative",children:[n.jsxs("div",{ref:ae,className:fb(`flex items-center justify-between w-full h-14 bg-[#131314] border ${m.showBranchDropdown?"border-white/50":"border-[#242424]"} rounded-md p-3 text-[#C4C4CC] branch-input`,Y?"border border-[#E38F4533]":se?"border border-[#A199FF33]":""),onClick:()=>{D&&L&&0!==F.length&&x({showRepositoryDropdown:!1,showInstallationDropdown:!1,showBranchDropdown:!m.showBranchDropdown})},id:"branch-selector",children:[n.jsx("div",{className:"flex items-center w-full",children:n.jsx("div",{className:"relative flex-1",children:g?n.jsx("div",{className:"flex items-center",children:g}):n.jsx("span",{className:"text-[#8F8F98]",children:"Select a branch"})})}),(Y||se)&&n.jsx("img",{src:Y?fH:jH,alt:"Branch",className:"w-6 h-6 mr-4"}),n.jsx(Vk,{className:"h-4 w-4 text-[#898F99] transition-transform duration-200 "+(m.showBranchDropdown?"rotate-180":"")})]}),n.jsx(CH,{isOpen:F.length>0&&m.showBranchDropdown,triggerRef:ae,className:"branch-dropdown",scrollableContainerRef:le,children:n.jsxs("div",{className:"flex flex-col gap-[6px] p-2 max-h-[210px]",children:[F.map(e=>n.jsx("div",{className:fb("px-3 min-h-[40px] rounded-[8px] py-2 text-[#DDDDE6] hover:bg-[#2D2D2F]/40 font-medium cursor-pointer",g===e.name&&"bg-[#172426] text-[#1BB4CC] hover:bg-[#172426] hover:text-[#1BB4CC]"),onClick:()=>{v(e.name),x({showBranchDropdown:!1,showRepositoryDropdown:!1,showInstallationDropdown:!1})},children:n.jsxs("div",{className:"flex items-center justify-between w-full",children:[n.jsx("span",{children:e.name}),g===e.name&&n.jsx(Uk,{className:"h-4 w-4 text-[#1BB4CC]"})]})},e.name)),n.jsx("div",{className:"border-t border-[#ffffff12] mt-2"}),n.jsx("div",{className:"px-3 min-h-[40px] rounded-[8px] py-2 text-[#4ADE80] hover:bg-[#4ADE80]/10 font-medium cursor-pointer",onClick:e=>{e.preventDefault(),e.stopPropagation(),S(g||"main"),x({showCustomBranchInput:!0,showBranchDropdown:!1})},children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(wS,{className:"w-4 h-4"}),"Create New Branch"]})})]})})]}),n.jsx(CH,{isOpen:m.showCustomBranchInput,triggerRef:ae,className:"branch-dropdown custom-branch-input",scrollableContainerRef:le,children:n.jsxs("div",{className:"p-3 space-y-3",onMouseDown:e=>e.stopPropagation(),onClick:e=>e.stopPropagation(),children:[n.jsx("div",{className:"text-sm text-[#898F99]",children:"Enter a new branch name:"}),n.jsx("div",{className:"flex items-center w-full branch-input",children:n.jsx("div",{className:"relative flex-1",children:n.jsx(qS,{type:"text",value:k,onChange:e=>{const t=QB(e.target.value);S(t)},onKeyDown:e=>{"Enter"===e.key&&JB(k)&&(v(k),x({showCustomBranchInput:!1})),"Escape"===e.key&&(x({showCustomBranchInput:!1}),S(""))},placeholder:"Branch name (e.g., feature/my-new-branch)",className:"w-full p-2 bg-[#1A1A1C] border border-[#242424] rounded-md focus-visible:ring-0 focus-visible:border-white/50 focus-visible:ring-offset-0 text-white",autoFocus:!0})})}),k&&!JB(k)&&n.jsx("div",{className:"text-[#FF4545] text-xs",children:"Invalid branch name. Names must follow Git naming rules."}),n.jsxs("div",{className:"flex justify-end gap-2 mt-3",children:[n.jsx(wb,{type:"button",variant:"outline",size:"sm",onClick:()=>{x({showCustomBranchInput:!1}),S("")},className:"border-[#242424] text-gray-300 hover:bg-[#1a1a1c] bg-transparent",children:"Cancel"}),n.jsx(wb,{type:"button",size:"sm",onClick:()=>{JB(k)&&(v(k),x({showCustomBranchInput:!1}))},disabled:!JB(k),className:"bg-[#00FF85] hover:bg-[#00FF85]/90 text-black font-medium",children:"Use Branch"})]})]})})]}),g&&!Qe().isValid&&n.jsx("div",{className:"text-[#FF4545] text-sm mt-2",children:Qe().errorMessage}),L&&!R&&je&&n.jsxs("div",{className:"text-[#898F99] text-sm font-medium font-[Inter] flex items-center gap-1",children:[n.jsx(hS,{className:"w-3 h-3 animate-spin"}),n.jsx("span",{children:"Checking branches..."})]}),g&&Qe().isValid&&Qe().successMessage&&L&&!je&&n.jsxs("div",{className:"text-[#898F99] text-sm font-medium font-[Inter] flex items-center gap-1",children:[n.jsx("img",{src:mH,alt:"Info",className:"w-3 h-3"}),n.jsx("span",{className:"text-[#00FF85]",children:Qe().successMessage})]})]}),Y&&!G?n.jsxs("div",{className:"space-y-[10px]",children:[n.jsxs("div",{className:"bg-[#1F1B18]  rounded-[10px] p-3 flex items-start gap-6",children:[n.jsxs("div",{className:"flex flex-col gap-2",children:[n.jsxs("div",{className:"flex items-center gap-[6px]",children:[n.jsx("img",{alt:"Warning",src:fH,className:"w-5 h-5"}),n.jsx("span",{className:"text-[#E38F45] text-[14px] font-medium font-['Inter']",children:"Changes conflict detected"})]}),n.jsxs("p",{className:"text-[#99897A] text-[13px] font-['Inter'] leading-[20px] font-medium",children:["Your changes conflict with what's already on the"," ",n.jsxs("span",{className:"text-[#FFE4CC] font-semibold font-['Inter']",children:["'",g,"'"]})," ","branch. You can force push to replace it, but this will permanently erase what's currently there."]})]}),n.jsx("button",{type:"button",onClick:()=>Z(!0),className:"ml-auto bg-[#2E2720]  text-[#CC9666] w-fit text-nowrap font-medium px-[10px] py-[6px] rounded-[6px] tracking-[-0.2px]",children:"Force Push anyway"})]}),n.jsxs("div",{className:"bg-[#00E5731A]  rounded-[10px] p-3 flex flex-col gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("img",{alt:"Warning",src:vH,className:"w-5 h-5"}),n.jsx("span",{className:"text-[#00E573] font-medium text-[14px] font-['Inter']",children:"Recommended Solution"})]}),n.jsxs("p",{className:"text-[#FFFFFF60] text-[13px] font-medium font-['Inter']",children:[n.jsx("span",{className:"font-semibold font-['Inter'] text-white",children:"Save your changes to a new branch."})," ","This keeps your work safe and allows for proper conflict resolution on GitHub."]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-[#FFFFFF] text-[13px] font-['Inter'] font-medium",children:"Proposed branch name :"}),n.jsx(qS,{type:"text",value:W,onChange:e=>q(e.target.value),className:"w-full px-4 py-3 bg-[#80FFF90D] border border-[#80FFF94D] text-white focus:border-[#80FFF9] focus:ring-[#80FFF94D]",placeholder:"Enter branch name"})]})]})]}):null,se&&n.jsx("div",{className:"space-y-4",children:n.jsx("div",{className:"bg-[#A199FF0D]  rounded-[10px] p-4",children:n.jsx("div",{className:"flex items-start gap-3",children:n.jsxs("div",{className:"flex-1 space-y-3",children:[n.jsxs("div",{className:"flex justify-between gap-2",children:[n.jsxs("div",{className:"flex flex-col gap-2",children:[n.jsxs("div",{className:"flex items-start gap-[6px]",children:[n.jsx("img",{src:xH,alt:"Warning",className:"w-5 h-5"}),n.jsx("h4",{className:"text-[#A199FF] font-medium font-['Inter'] text-[16px] mb-1 leading-[20px]",children:"Security Protection Activated"})]}),n.jsx("p",{className:"text-[#A199FF50] font-medium text-[13px] font-['Inter'] leading-[20px]",children:"We detected a secret key in your code and blocked this upload to protect you."})]}),(null==se?void 0:se.learnMoreUrl)&&n.jsx("button",{type:"button",onClick:()=>window.open(null==se?void 0:se.learnMoreUrl,"_blank"),className:" text-[#FFFFFF60] flex gap-1 items-center px-3 hover:bg-[#FFFFFF]/10 transition-all duration-150 ease-out hover:text-[#ffffff80] bg-[#FFFFFF0F] w-fit text-nowrap font-medium text-[16px] h-8 rounded-[8px]",children:"Learn how to fix this?"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("button",{type:"button",onClick:()=>ie(e=>e?{...e,isExpanded:!e.isExpanded}:null),className:fb("flex items-center gap-2 font-['Inter'] text-[#ffffff40] hover:text-[#FFFFFF80] text-[13px] font-medium transition-colors",{"text-[#FFFFFF80]":null==se?void 0:se.isExpanded}),children:["View error details",n.jsx(Vk,{className:"w-4 h-4 transition-transform "+((null==se?void 0:se.isExpanded)?"rotate-180":"")})]}),(null==se?void 0:se.isExpanded)&&n.jsxs("div",{className:"bg-[#FFFFFF08] rounded-[8px] relative backdrop-blur-lg p-3 md:max-w-[600px] mt-2 max-h-[300px]",children:[n.jsx(aH,{showIcon:!0,iconOnly:!0,className:"absolute border-none opacity-45 hover:opacity-100 bg-none right-3 top-3",value:null==se?void 0:se.fullError,tooltipText:"Copy",copiedTooltipText:"Copied",buttonClassName:"p-0",feedbackType:"tooltip",iconProps:{size:16},onCopy:()=>{navigator.clipboard.writeText(null==se?void 0:se.fullError)}}),n.jsx("pre",{className:"text-[#FFFFFF50] text-[14px] whitespace-pre-wrap break-words w-full leading-[16px] max-h-[200px] font-[400] overflow-y-auto font-jetbrains",children:null==se?void 0:se.fullError})]})]})]})})})}),H&&!se&&n.jsxs("div",{className:"flex flex-col gap-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("img",{src:gH,alt:"Error",className:"w-5 h-5"}),n.jsx("h4",{className:"text-red-400 font-medium text-[14px] font-[Inter] leading-[20px]",children:"Error"})]}),n.jsxs("div",{className:"bg-[#FFFFFF08] rounded-[8px] relative backdrop-blur-lg p-3 md:max-w-[600px] mt-2 max-h-[300px]",children:[n.jsx(aH,{showIcon:!0,iconOnly:!0,value:H,className:"absolute border-none opacity-45 hover:opacity-100 bg-none right-3 top-3",tooltipText:"Copy",copiedTooltipText:"Copied",buttonClassName:"p-0",feedbackType:"tooltip",iconProps:{size:16},onCopy:()=>{navigator.clipboard.writeText(H)}}),n.jsx("pre",{className:"text-[#FFFFFF50] text-[14px] whitespace-pre-wrap break-words w-full leading-[16px] max-h-[200px] font-[400] overflow-y-auto font-jetbrains",children:H})]})]})]})]})]}),n.jsx(DA,{className:"flex justify-end p-4  md:p-6 border-t rounded-b-lg border-[#242424] ",children:X?n.jsx(wb,{type:"button",onClick:()=>{ee(!1),ne(null),s(!1),r&&r(te)},className:"bg-[#272729] hover:bg-[#272729]/90 px-5 font-semibold text-[#DCDCE5]",children:"Okay, Got It"}):Y&&!G?n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx("button",{type:"button",onClick:()=>s(!1),className:"mr-2 text-[#ACACB2] bg-[#222224] hover:bg-[#22222490] px-4 pl-3 py-3 rounded-[28px] ",disabled:nt,children:"Cancel"}),n.jsx("button",{type:"button",onClick:async()=>{Ae(!0);try{if(!i||!D||!W)return;const e=Ne(),t=Fe();if(!e||!t)return;await Se({jobId:i,data:{account_login:e,repo_name:t,branch_name:W,is_new_repo:R,force:!1}}).unwrap(),K(!1),Z(!1),N(!1),$(null),Q(null),ne({branch:W,repo:t,owner:e,isNewRepo:R,isNewBranch:!0}),ee(!0)}catch(e){const t=tH(e,{defaultErrorMessage:"Failed to create branch and push to GitHub",needsForcePush:!1,allowConflictDetection:!1});if("secret_protection"===t.type)return void ie({fullError:t.fullErrorText,learnMoreUrl:t.learnMoreUrl,isExpanded:!1});$(t.errorMessage),ze({title:"Error",description:t.errorMessage,variant:"destructive"})}finally{Ae(!1)}},disabled:nt||!function(e){return e?JB(e)?{isValid:!0}:{isValid:!1,errorMessage:"Invalid branch name. Names must follow Git naming rules."}:{isValid:!1,errorMessage:"Branch name is required"}}(W).isValid,className:"bg-[#00FF85] font-semibold flex items-center gap-2 rounded-[28px] pl-4 pr-3 py-3  hover:bg-[#00FF85]/90 text-black",children:nt?n.jsxs(n.Fragment,{children:[n.jsx(hS,{className:"w-4 h-4 mr-2 animate-spin"}),"Creating Branch..."]}):n.jsxs("div",{className:"flex items-center gap-2 font-semibold",children:["Create Branch & Push",n.jsx("img",{src:wH,alt:"Branch",className:"w-6 h-6"})]})})]}):G?n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx("button",{type:"button",onClick:()=>Z(!1),className:" text-[#ACACB2] px-4 py-3 pr-3 bg-[#222224] hover:bg-[#22222490] rounded-[28px]",disabled:nt,children:n.jsxs("div",{className:"flex items-center gap-2 font-medium",children:[n.jsx("img",{src:yH,alt:"Back",className:"w-6 h-6"}),"Go Back"]})}),n.jsx("button",{type:"button",onClick:()=>{(async()=>{Ae(!0);try{if(!i||!D)return;const e=Ne(),t=Fe();if(!e||!t)return;await Se({jobId:i,data:{account_login:e,repo_name:t,branch_name:g,is_new_repo:R,force:!0}}).unwrap(),K(!1),Z(!1),N(!1),$(null),Q(null),ne({branch:g,repo:t,owner:e,isNewRepo:R,isNewBranch:!1}),ee(!0)}catch(e){const t=tH(e,{defaultErrorMessage:"Failed to force push to GitHub",needsForcePush:!0,allowConflictDetection:!1});if("secret_protection"===t.type)return void ie({fullError:t.fullErrorText,learnMoreUrl:t.learnMoreUrl,isExpanded:!1});$(t.errorMessage),ze({title:"Error",description:t.errorMessage,variant:"destructive"})}finally{Ae(!1)}})()},disabled:nt,className:"bg-[#FFA04D] hover:bg-[#FFA04D]/90 flex items-center gap-2 rounded-[28px] pl-4 pr-3  text-[#111112] font-medium",children:nt?n.jsxs(n.Fragment,{children:[n.jsx(hS,{className:"w-4 h-4 mr-2 animate-spin"}),"Force Pushing..."]}):n.jsxs("div",{className:"flex items-center font-semibold tracking-[-0.2px] gap-2 text-[#111112]",children:['Force Push to "',g,'"',n.jsx("img",{src:oH,alt:"Save Cloud",className:"w-6 h-6"})]})})]}):n.jsxs("div",{className:"flex justify-end w-full gap-2",children:[n.jsx("button",{type:"button",onClick:()=>s(!1),className:" bg-[#272729] rounded-full font-medium px-5 py-3 text-gray-300 hover:bg-[#27272990]",disabled:nt,children:"Cancel"}),n.jsx("button",{type:"submit",onClick:et,disabled:nt||!iH({jobId:i,selectedInstallation:D,isCreatingNewRepo:R,newRepoName:z,selectedRepository:L,branchName:g,repositories:Re,isLoading:tt}).isValid,className:fb("bg-[#00FF85] rounded-full max-md:max-w-[200px] flex items-center gap-1 px-5 py-3 hover:bg-[#00FF85]/90 text-black font-semibold",nt&&"opacity-50 cursor-not-allowed","disabled:opacity-50"),children:nt?n.jsxs(n.Fragment,{children:[n.jsx(hS,{className:"w-4 h-4 mr-2 animate-spin"}),ke?"Creating Repository...":R?"Creating & Pushing...":"Pushing..."]}):n.jsxs("div",{className:"flex items-center gap-2",children:[R?"Create & Push to Github":"Push to Github",n.jsx("img",{src:oH,alt:"Save Cloud",className:"w-6 h-6"})]})})]})})]})})}):n.jsx(n.Fragment,{children:n.jsx(_A,{open:t,onOpenChange:Ue,children:n.jsxs(AA,{className:"md:max-w-[620px] md:min-h-[600px] transition-all duration-300 ease-in-out  bg-[#0F0F10] overflow-hidden",hideclosebutton:!0,children:[He&&n.jsx("div",{className:"absolute inset-0 z-50 flex flex-col items-center justify-center bg-[#0F0F10]/90 backdrop-blur-sm",children:n.jsxs("div",{className:"flex flex-col items-center justify-center p-6 rounded-lg",children:[n.jsx(hS,{className:"w-12 h-12 text-[#00E573] animate-spin mb-4"}),n.jsx("p",{className:"text-lg font-medium text-white",children:"Connecting to GitHub..."})]})}),n.jsx("img",{src:cH,alt:"Line",className:"absolute top-0 left-0 right-0 z-[-1] w-full pointer-events-none"}),n.jsx(EA,{className:"z-20 ml-auto bg-[#FFFFFF05] backdrop-blur-lg hover:bg-[#FFFFFF12]",children:n.jsx(RS,{className:"absolute z-20 w-5 h-5 text-gray-400 hover:text-white top-12 right-12"})}),n.jsx("div",{className:"flex items-center p-[40px] pt-[80px] gap-1 z-10",children:n.jsx("img",{src:lH,alt:"GitHub"})}),n.jsxs("div",{className:"p-[40px] pt-[0px] flex flex-col items-start gap-4 h-[300px] z-10",children:[n.jsx("span",{className:"text-white text-[24px] font-medium font-brockmann",children:"Connect Github to Emergent"}),n.jsx("span",{className:"text-[18px] text-[#8A8F98]",children:"Connect your GitHub account to effortlessly save, sync, and access your work in all repositories, anytime."})]}),n.jsxs("div",{className:"flex items-center justify-end gap-4 border border-[#242424] p-[20px] bg-[#111112]",children:[n.jsx(wb,{onClick:()=>s(!1),className:"flex items-center px-[20px] w-fit justify-center bg-[#272729] hover:bg-[#343434] text-white",disabled:He,children:n.jsx("div",{className:"flex items-center justify-center w-full text-[16px]",children:"Cancel"})}),n.jsx(wb,{onClick:st,className:"max-w-[200px] w-full bg-[#00E573] hover:bg-[##00E573]/90 text-[#0E0E0F] font-brockmann font-semibold hover:bg-[#00E573]/80",disabled:He,children:n.jsx("div",{className:"flex items-center justify-center w-full text-[16px]",children:He?n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(hS,{className:"w-4 h-4 animate-spin"}),"Connecting..."]}):"Connect GitHub"})})]})]})})})}const FH=gv.files.pdf,_H=gv.files.csv,kH=gv.files.doc,SH=gv.files.ppt,EH=gv.files.txt,IH=gv.files.video,AH=gv.files.svg,TH=gv.files.other,DH=gv.files.zip,MH=e=>{if(!e)return"";if(0===e)return"0 B";const t=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,t)).toFixed(1))+" "+["B","KB","MB","GB"][t]},LH=(e,t=20)=>{if(e.length<=t)return e;const n=e.lastIndexOf(".");if(-1===n)return e.substring(0,t-3)+"...";const s=e.substring(n),i=e.substring(0,n),a=t-s.length-3;return a<=0?"..."+s:i.substring(0,a)+"..."+s};function PH({artifact:e}){const t=(s=e.file_name,!(!(i=e.mime_type)||!["image/jpeg","image/png","image/gif","image/webp"].includes(i))||[".jpg",".jpeg",".png",".gif",".webp"].some(e=>s.toLowerCase().endsWith(e)));var s,i;const a=((e,t)=>"image/svg+xml"===t||e.toLowerCase().endsWith(".svg"))(e.file_name,e.mime_type),r=((e,t)=>{if(!e&&!t)return TH;const n=(null==e?void 0:e.toLowerCase())||"";return n.endsWith(".pdf")||"application/pdf"===t?FH:n.endsWith(".csv")||"text/csv"===t?_H:n.endsWith(".doc")||n.endsWith(".docx")||"application/msword"===t||"application/vnd.openxmlformats-officedocument.wordprocessingml.document"===t?kH:n.endsWith(".ppt")||n.endsWith(".pptx")||"application/vnd.ms-powerpoint"===t||"application/vnd.openxmlformats-officedocument.presentationml.presentation"===t?SH:n.endsWith(".txt")||n.endsWith(".md")||n.endsWith(".log")||"text/plain"===t||"text/markdown"===t?EH:n.endsWith(".zip")||n.endsWith(".tar")||n.endsWith(".rar")||n.endsWith(".7z")?DH:n.endsWith(".mp4")||n.endsWith(".avi")||n.endsWith(".mov")||n.endsWith(".wmv")||n.endsWith(".mkv")||(null==t?void 0:t.startsWith("video/"))?IH:n.endsWith(".svg")||"image/svg+xml"===t?AH:n.endsWith(".xls")||n.endsWith(".xlsx")||"application/vnd.ms-excel"===t||"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"===t?_H:TH})(e.file_name,e.mime_type),o=r===DH,l=e.local_preview_url||e.file_path;return t?n.jsx("div",{className:"flex items-center gap-2 min-h-[44px] max-h-[44px] max-w-[44px] min-w-[44px]  rounded-[8px] overflow-clip",children:n.jsx("img",{src:l,alt:e.file_name,className:"flex h-[44px] object-cover w-[44px] items-center justify-center"})}):a&&l?n.jsx("div",{className:"flex items-center gap-2 min-h-[44px] max-h-[44px] max-w-[44px] min-w-[44px] rounded-[8px] overflow-clip",children:n.jsx("img",{src:l,alt:e.file_name,className:"flex h-[44px] object-contain w-[44px] items-center justify-center",onError:e=>{const t=e.target;t.src=AH,t.className="w-8 h-8"}})}):n.jsx("div",{className:"flex items-center gap-2 min-h-[44px] max-h-[44px] min-w-[100px] p-1 pr-4 bg-[#FFFFFF0D] rounded-[8px]",children:n.jsxs("div",{className:"flex items-center flex-1 h-full min-w-0 gap-2",children:[n.jsx("img",{src:r,alt:"File",className:fb("w-8 h-8",o&&"p-1")}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("div",{className:"text-[14px] font-medium font-['Inter'] text-[#FFFFFFCC] truncate text-nowrap",children:LH(e.file_name,20)}),e.file_size&&n.jsx("div",{className:"text-[12px] font-['Inter'] font-medium text-white/40 mt-0.5",children:MH(e.file_size)})]})]})},e.artifact_id)}const RH=gv.common.whiteGithub,OH=gv.github.gitDot,zH=gv.fork.fork,BH=gv.icons.animatedSpinner,HH=({isOpen:e,onOpenChange:t,isGitHubConnected:s=!1,onSaveToGitHub:i,isGitHubDisabled:a=!1,onForkClick:r,isForkDisabled:o=!1,forkStatus:l=null,ultraMode:c=!1,onUltraModeChange:d,isUltraDisabled:u=!1,tier:p,onUpgradeRequired:m,getCurrentOrganizationId:h})=>n.jsxs(VI,{open:e,onOpenChange:t,showDefaultFooter:!1,contentPadding:"p-0",showCancel:!0,onCancel:()=>t(!1),title:"Settings",maxWidth:"max-w-sm",trigger:n.jsx(n.Fragment,{}),children:[n.jsx("div",{className:"h-[1px] w-full bg-[#242424]"}),n.jsx("div",{className:"space-y-4 bg-[#111112] px-4 pb-4 rounded-t-2xl",children:n.jsxs("div",{className:"flex flex-col pt-4 space-y-4",children:[n.jsxs("div",{className:fb("flex items-center justify-between p-4 rounded-[12px] transition-colors",c?"bg-[#FF8C661A]":"bg-[#FFFFFF0F]"),children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(lA,{color:c?"#FF8C66":"#ffffff",size:24}),n.jsx("div",{className:"flex flex-col items-start",children:n.jsx("span",{className:fb("font-medium transition-colors",c?"text-[#FF8C66]":"text-white"),children:"Ultra thinking"})})]}),n.jsx(cA,{checked:c,onCheckedChange:e=>{"pro_mode"===p||(null==h?void 0:h())?null==d||d(e):null==m||m()},disabled:u,className:"data-[state=unchecked]:bg-[#3B3B3B] data-[state=checked]:bg-[#FF8C66]"})]}),n.jsxs("button",{disabled:a,onClick:()=>{null==i||i(),t(!1)},className:fb("flex items-center justify-between p-4 rounded-[12px] bg-[#FFFFFF0F] hover:bg-[#FFFFFF14] transition-colors",a&&"opacity-50 cursor-not-allowed"),children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("img",{src:s?OH:RH,alt:"GitHub",className:fb("w-6 h-6",s?"scale-[1.2]":"")}),n.jsx("span",{className:"font-medium text-white",children:"Save to GitHub"})]}),n.jsx("div",{className:"w-2 h-2 rounded-full bg-white/30"})]}),n.jsxs("button",{disabled:o||"running"===l,onClick:()=>{null==r||r(),t(!1)},className:fb("flex items-center justify-between p-4 rounded-[12px] transition-colors","running"===l?"bg-[#80FFF90D] cursor-not-allowed":"bg-[#FFFFFF0F] hover:bg-[#FFFFFF14]",o&&"running"!==l&&"opacity-50 cursor-not-allowed"),children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("img",{src:"running"===l?BH:zH,alt:"Fork",className:"w-6 h-6"}),n.jsx("span",{className:fb("font-medium","running"===l?"text-[#80FFF9]":"text-white"),children:"running"===l?"Forking...":"Fork"})]}),n.jsx("div",{className:"w-2 h-2 rounded-full bg-white/30"})]})]})})]}),$H=({size:e=20,color:t="currentColor",className:s=""})=>n.jsx("svg",{width:e,height:e,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:s,children:n.jsx("path",{d:"M7.58584 4.5374C8.08417 3.07906 10.0992 3.0349 10.69 4.4049L10.74 4.53823L11.4125 6.5049C11.5666 6.95592 11.8157 7.36865 12.1429 7.71525C12.47 8.06184 12.8678 8.33424 13.3092 8.51406L13.49 8.58156L15.4567 9.25323C16.915 9.75156 16.9592 11.7666 15.59 12.3574L15.4567 12.4074L13.49 13.0799C13.0388 13.2339 12.6259 13.4829 12.2792 13.8101C11.9324 14.1373 11.6599 14.5351 11.48 14.9766L11.4125 15.1566L10.7408 17.1241C10.2425 18.5824 8.2275 18.6266 7.6375 17.2574L7.58584 17.1241L6.91417 15.1574C6.76015 14.7062 6.51115 14.2933 6.18395 13.9466C5.85676 13.5998 5.459 13.3273 5.0175 13.1474L4.8375 13.0799L2.87084 12.4082C1.41167 11.9099 1.3675 9.8949 2.7375 9.3049L2.87084 9.25323L4.8375 8.58156C5.28853 8.42744 5.70126 8.17839 6.04786 7.8512C6.39445 7.52402 6.66685 7.12631 6.84667 6.6849L6.91417 6.5049L7.58584 4.5374ZM15.83 1.66406C15.9859 1.66406 16.1387 1.70779 16.271 1.79029C16.4032 1.87278 16.5097 1.99073 16.5783 2.13073L16.6183 2.22823L16.91 3.08323L17.7658 3.3749C17.9221 3.42798 18.059 3.52624 18.1594 3.65724C18.2597 3.78824 18.3189 3.94608 18.3294 4.11075C18.3399 4.27542 18.3013 4.43951 18.2185 4.58222C18.1357 4.72493 18.0124 4.83985 17.8642 4.9124L17.7658 4.9524L16.9108 5.24406L16.6192 6.0999C16.566 6.25609 16.4677 6.39298 16.3366 6.49322C16.2056 6.59347 16.0477 6.65256 15.883 6.663C15.7184 6.67344 15.5543 6.63477 15.4117 6.55188C15.269 6.46899 15.1541 6.34562 15.0817 6.1974L15.0417 6.0999L14.75 5.2449L13.8942 4.95323C13.7379 4.90015 13.601 4.80188 13.5006 4.67088C13.4003 4.53988 13.3411 4.38205 13.3306 4.21738C13.3201 4.05271 13.3587 3.88862 13.4415 3.74591C13.5243 3.60319 13.6476 3.48828 13.7958 3.41573L13.8942 3.37573L14.7492 3.08406L15.0408 2.22823C15.097 2.06358 15.2033 1.92065 15.3449 1.81948C15.4864 1.7183 15.656 1.66396 15.83 1.66406Z",fill:t})}),UH=gv.common.attach,VH=gv.common.folderAdd,WH=gv.common.pause,qH=gv.common.send,GH=gv.common.attachmentCross,ZH=gv.common.whiteGithub,YH=gv.common.visualEdit,KH=gv.icons.animatedSpinner,JH=gv.github.gitDot,QH=gv.fork.fork,XH=gv.upload.close,e$=De.memo(()=>n.jsx("img",{src:YH,alt:"Visual Editing",className:"w-4 h-4",style:{filter:"brightness(0) saturate(100%) invert(71%) sepia(43%) saturate(424%) hue-rotate(182deg) brightness(102%) contrast(101%)"}})),t$=De.memo(({elementName:e})=>n.jsxs("div",{className:"flex items-center",style:{gap:"4px",padding:"6px 8px",height:"24px",borderRadius:"6px",backgroundColor:"rgba(1, 97, 209, 0.2)",border:"1px solid rgba(83, 169, 255, 0.4)"},children:[n.jsx("div",{className:"flex items-center justify-center",style:{width:"12px",height:"12px",flexShrink:0},children:n.jsx("svg",{width:"10",height:"10",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.93934 1.06066L7 0L8.06066 1.06066L12.9393 5.93934L14 7L12.9393 8.06066L8.06066 12.9393L7 14L5.93934 12.9393L1.06066 8.06066L0 7L1.06066 5.93934L5.93934 1.06066ZM2.12132 7L7 11.8787L11.8787 7L7 2.12132L2.12132 7Z",fill:"#53A9FF"})})}),n.jsx("span",{style:{fontWeight:500,fontSize:"14px",lineHeight:"1em",color:"#53A9FF",textAlign:"center"},children:e})]})),n$=De.memo(({status:e,colors:t})=>{const s=t[e].color||"#5FD3F3";return n.jsx("div",{className:fb("w-4 h-4 rounded-lg flex justify-center items-center","stopped"!=e&&"exit_cost"!=e&&"animate-status-pulse"),style:{backgroundColor:`${s}20`,"--status-pulse-color":`${s}70`,"--status-pulse-transparent":`${s}00`},children:n.jsx("div",{className:"w-2 h-2 rounded",style:{backgroundColor:s}})})}),s$=De.memo(({status:e,colors:t,statusText:s})=>n.jsx("span",{className:"text-[15px] md:text-[16px] font-medium md:text-nowrap",style:{color:t[e].color},children:s[e]})),i$=De.memo(({onSubmit:e,placeholder:t="Message Neo",isDisabled:s,agentState:i,agentStatus:a,setAgentStatus:r,containerId:o,jobDetails:l,acc_cost:c,max_budget:d,isCloudFlow:u,inputValue:p,modelName:m,agentName:h,isSubagentActive:x,hideStatus:f=!1,disableWhenSubagentActive:g=!1,onPause:v,onOpenSubagentPanel:b,showFinishSubagentText:y,pauseWasClicked:w,onImagesChange:j,lastGithubUsed:C,subagentName:N,onGitHubPush:F,handleDeploy:_,modalOpen:k,setModalOpen:S,fromSubagentPanel:E=!1,isPauseLoading:I,buildMode:A,forked_status:M,onOpenUploadAssetsModal:R,ultraMode:O=!1,onUltraModeChange:z,autoMessageEnabled:B=!1,visualEditMode:H=!1,onVisualEditModeChange:$,selectedElementName:U=null,isDebugScriptReady:V=!1,enableVisualEdit:W,hasUnsavedVisualEditChanges:q=!1,onSaveVisualEditChanges:G,onDiscardVisualEditChanges:Z,showUnsavedChangesModal:Y})=>{const{toast:K}=on(),J=gL(),Q=vL(ku),X=vL(e=>Eu(e,Q)),ee=vL(e=>E?"":((e,t)=>{var n;return(null==(n=e.tabs.tabStates[t])?void 0:n.chatInputText)||""})(e,Q)),[te]=Ux(),[ne,{isLoading:se}]=bf(),[ie]=yf(),[ae,re]=De.useState(ee),[oe,le]=De.useState(!1),[ce,de]=De.useState(!1),[ue,pe]=De.useState(!1),[me,he]=De.useState(!1),[xe,fe]=De.useState(!1),[ge,ve]=De.useState(!1),[be,ye]=De.useState(!1),[we,je]=De.useState(!1),[Ce,Ne]=De.useState(!1),[Fe,_e]=De.useState(!1),[ke,Se]=De.useState(null),Ee=se,Ie=BE(),Ae=De.useRef(null),Te=De.useRef(null),Me=De.useRef(null),Le=De.useRef(!1);V&&(Le.current=!0);const[Pe,Re]=De.useState("normal"),{isMobile:Oe}=QE(),ze=I??!1,{isConnected:Be}=$A(),{user:He}=Wg(),{getCurrentOrganizationId:$e}=Kg(),{credits:Ue,dailyCreditsEnabled:Ve,tier:We,creditResponse:qe,refreshCredits:Ge}=Xg(),Ze=eI(),{getPendingMessage:Ye,getActiveTab:Ke,removePendingMessage:Je}=Oee(),[Qe,Xe]=De.useState(!1),[et,tt]=De.useState(!1),{data:nt}=Fx(void 0,{skip:!He}),{isMobile:st}=QE(),it=kg(),at=De.useMemo(()=>Ze&&ce,[Ze,ce]),{compressImage:rt,getMimeType:ot}=mE({maxWidth:2e3,maxHeight:2e3,quality:30,format:"jpeg"});De.useEffect(()=>{tt(true)},[l,Ng]),De.useEffect(()=>{if(!Pu("hasSeenForkIntro",!1)&&!("waiting"!==a&&"subagent_waiting"!==a||"build"!==A||x)&&!st){const e=setTimeout(()=>{he(!0)},1e3);return()=>clearTimeout(e)}},[a,A,x]),De.useEffect(()=>{const e=e=>{if((e.metaKey||e.ctrlKey)&&"e"===e.key){const t=(W||Le.current&&!1!==W)&&!E&&!st,n="waiting"!==a&&"subagent_waiting"!==a||"build"!==A||x||!Le.current;if(!t||n)return;e.preventDefault(),e.stopPropagation();const s=!H;if(!s&&q)return void(null==Y||Y({onConfirm:ct,title:"You have unsaved changes",description:"Are you sure you want to exit the visual editor? You will lose your unsaved changes.",confirmButton:{text:"Confirm",variant:"default"},cancelButton:{text:"Cancel",variant:"outline"}}));fg(s?"visual_edit_enabled":"visual_edit_disabled",{jobId:null==l?void 0:l.job_id,agentStatus:a,enableVisualEdit:W,source:"keyboard_shortcut"}),null==$||$(s)}};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[W,E,st,a,A,x,H,q,null==l?void 0:l.job_id,$,Q]);const lt=De.useCallback(async()=>{G&&await G()},[G]),ct=De.useCallback(()=>{Z&&Z(),null==$||$(!1),fg("visual_edit_discarded",{jobId:null==l?void 0:l.job_id,agentStatus:a})},[Z,$,null==l?void 0:l.job_id,a]);De.useEffect(()=>{const e=e=>{(e.metaKey||e.ctrlKey)&&"s"===e.key&&H&&q&&(e.preventDefault(),e.stopPropagation(),fg("visual_edit_saved",{jobId:null==l?void 0:l.job_id,agentStatus:a,source:"keyboard_shortcut"}),lt())};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[H,q,lt,null==l?void 0:l.job_id,a]);const dt=De.useCallback(()=>{he(!1),Lu("hasSeenForkIntro",!0)},[]),ut=hE({maxImages:5,maxSizeInMB:200,maxPixelDimensions:8e3,maxPixelDimensionsMultiple:2e3,onImagesChange:j}),pt=function({maxFiles:e=10,maxSizeInMB:t=50,allowedTypes:n=[],jobId:s,onUploadComplete:i,onUploadError:a}={}){const[r,o]=De.useState([]),[l,c]=De.useState([]),[d,u]=De.useState(!1),{toast:p}=on(),m=De.useCallback(e=>{const s=1024*t*1024;return e.size>s?`File size exceeds ${t}MB limit`:n.length>0&&!n.some(t=>t.startsWith(".")?e.name.toLowerCase().endsWith(t.toLowerCase()):e.type.toLowerCase().includes(t.toLowerCase()))?`File type not allowed. Allowed types: ${n.join(", ")}`:null},[t,n]),h=De.useCallback(t=>{if(!t)return;const n=Array.from(t),s=[],i=[];r.length+n.length>e&&i.push(`Cannot add more than ${e} files`),n.forEach(e=>{const t=m(e);t?i.push(`${e.name}: ${t}`):s.push({file:e,name:e.name,size:e.size,type:e.type,lastModified:e.lastModified})}),i.length>0&&p({title:"File Validation Error",description:i.join("\n"),variant:"destructive"}),s.length>0&&o(e=>[...e,...s])},[r.length,e,m,p]),x=De.useCallback(e=>{h(e)},[h]),f=De.useCallback(()=>{const e=document.createElement("input");return e.type="file",e.multiple=!0,e.style.display="none",n.length>0&&(e.accept=n.join(",")),e.onchange=t=>{const n=t.target;x(n.files),document.body.removeChild(e)},e},[n,x]),g=De.useCallback(()=>{const e=f();document.body.appendChild(e),setTimeout(()=>{e.click()},0)},[f]),v=De.useCallback(async e=>{if(!s)throw new Error("Job ID is required for file upload");const t=`${e.name}-${Date.now()}`;c(n=>[...n,{artifactId:t,fileName:e.name,progress:0,status:"uploading"}]);try{const n={file_name:e.name,mime_type:e.type},a=await im(s,n);c(e=>e.map(e=>e.artifactId===t?{...e,progress:33,artifactId:a.artifact_id,file_path:a.file_path}:e)),await am(a.upload_url,e.file),c(e=>e.map(e=>e.artifactId===a.artifact_id?{...e,progress:66}:e));const r={entity_id:s,entity_type:"job",visibility:"public",file_name:e.name,description:e.description||void 0,file_path:a.file_path};await cm(a.artifact_id,r),c(e=>e.map(e=>e.artifactId===a.artifact_id?{...e,progress:100,status:"completed"}:e)),null==i||i(a.artifact_id,e.name),p({title:"Upload Complete",description:`${e.name} uploaded successfully`})}catch(n){c(e=>e.map(e=>e.artifactId===t?{...e,status:"failed",error:n.message}:e)),null==a||a(e.name,n.message),p({title:"Upload Failed",description:`Failed to upload ${e.name}: ${n.message}`,variant:"destructive"})}},[s,i,a,p]),b=De.useCallback(async e=>{if(0!==e.length)if(s){u(!0);try{const n=[];for(const i of e){const e=`${i.name}-${Date.now()}`;c(t=>[...t,{artifactId:e,fileName:i.name,progress:0,status:"uploading"}]);try{const t={file_name:i.name,mime_type:i.type},a=await im(s,t);c(t=>t.map(t=>t.artifactId===e?{...t,progress:25,artifactId:a.artifact_id,file_path:a.file_path}:t)),await am(a.upload_url,i.file),c(e=>e.map(e=>e.artifactId===a.artifact_id?{...e,progress:50}:e)),n.push({artifact_id:a.artifact_id,entity_id:s,entity_type:"job",visibility:"public",file_name:i.name,description:i.description||void 0,file_path:a.file_path})}catch(t){c(n=>n.map(n=>n.artifactId===e?{...n,status:"failed",error:t.message}:n)),null==a||a(i.name,t.message),p({title:"Upload Failed",description:`Failed to upload ${i.name}: ${t.message}`,variant:"destructive"})}}if(n.length>0)try{await dm({artifacts:n}),c(e=>e.map(e=>n.find(t=>t.artifact_id===e.artifactId)?{...e,progress:100,status:"completed"}:e)),n.forEach(e=>{null==i||i(e.artifact_id,e.file_name)}),p({title:"Upload Complete",description:`${n.length} file(s) uploaded successfully`})}catch(t){c(e=>e.map(e=>n.find(t=>t.artifact_id===e.artifactId)?{...e,status:"failed",error:t.message}:e)),p({title:"Finalization Failed",description:`Failed to finalize uploads: ${t.message}`,variant:"destructive"})}o([])}catch(t){p({title:"Upload Failed",description:"Failed to upload files. Please try again.",variant:"destructive"})}finally{u(!1)}}else p({title:"Error",description:"Job ID is required for file upload",variant:"destructive"});else p({title:"No Files",description:"Please select files to upload",variant:"destructive"})},[r,s,i,a,p]),y=De.useCallback(e=>{o(t=>t.filter((t,n)=>n!==e))},[]),w=De.useCallback(()=>{o([]),c([])},[]),j=De.useCallback(()=>{c(e=>e.filter(e=>"completed"!==e.status))},[]);return{files:r,uploadProgress:l,isProcessing:d,handleFileSelect:x,openFilePicker:g,uploadFile:v,uploadAllFiles:b,removeFile:y,clearFiles:w,clearCompletedUploads:j,hasFiles:r.length>0,hasUploads:l.length>0}}({maxFiles:5,maxSizeInMB:200,jobId:null==l?void 0:l.job_id,onUploadComplete:(e,t)=>{},onUploadError:(e,t)=>{}}),mt=De.useCallback(e=>{if(!e||0===e.length)return;const t=Array.from(e),n=t.filter(e=>e.size>209715200);if(n.length>0)K({title:"File too large",description:`Files must be smaller than 200MB. ${n.length} file(s) exceed this limit.`,variant:"destructive"});else if(E||!et){const e=t.filter(e=>e.type.startsWith("image/")&&["image/jpeg","image/png","image/gif","image/webp"].includes(e.type)),n=t.filter(e=>!e.type.startsWith("image/")),s=ut.images.length+pt.files.length+X.length;if(s+t.length>5)return void K({title:"Too many attachments",description:`Maximum 5 attachments allowed. Currently have ${s} (${X.length} uploaded + ${ut.images.length+pt.files.length} selected), trying to add ${t.length}.`,variant:"destructive"});e.length>0&&ut.handleImageSelect(e),n.length>0&&(null==l?void 0:l.job_id)&&pt.handleFileSelect(n)}else{if(X.length>=5)return void K({title:"Too many attachments",description:`Maximum 5 attachments allowed. You already have ${X.length} uploaded files.`,variant:"destructive"});if(X.length+t.length>5)return void K({title:"Too many attachments",description:`Maximum 5 attachments allowed. You have ${X.length} uploaded files, trying to add ${t.length} more.`,variant:"destructive"});null==R||R(t)}},[E,et,R,ut,pt,null==l?void 0:l.job_id,X,K]),ht=De.useCallback(e=>{const t=e.target.files;if(t&&t.length>0)if(E||!et)mt(t);else{const e=Array.from(t);null==R||R(e)}Me.current&&(Me.current.value="")},[E,mt,et,R]),xt=De.useCallback(()=>{Mt||(!E&&X.length>=5?K({title:"Too many attachments",description:`Maximum 5 attachments allowed. You already have ${X.length} uploaded files.`,variant:"destructive"}):E||!et?ft():fe(!xe))},[E,xe,et,X,K]),ft=De.useCallback(()=>{!E&&X.length>=5?K({title:"Too many attachments",description:`Maximum 5 attachments allowed. You already have ${X.length} uploaded files.`,variant:"destructive"}):(Me.current?Me.current.click():ut.openFilePicker(),fe(!1))},[ut,E,X,K]),gt=De.useCallback(()=>{X.length>=5?K({title:"Too many attachments",description:`Maximum 5 attachments allowed. You already have ${X.length} uploaded files.`,variant:"destructive"}):(Me.current&&Me.current.click(),fe(!1))},[X,K]),vt=De.useCallback(e=>{J(gu({tabId:Q,artifactId:e})),K({title:"File removed",description:"Attachment has been removed successfully"})},[J,Q,K]);De.useEffect(()=>{p&&re(p)},[p]),De.useEffect(()=>{E||re(ee)},[ee,Q,E]),De.useEffect(()=>{if(E)return;const e=setTimeout(()=>{J(vu({tabId:Q,text:ae}))},300);return()=>clearTimeout(e)},[ae,Q,J,E]),De.useEffect(()=>{const e=e=>{Te.current&&!Te.current.contains(e.target)&&fe(!1)};return xe&&document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[xe]),De.useEffect(()=>{Ve&&qe&&We&&!E&&!B&&qe.ecu_balance<=5&&"free"==We&&Re("credit_exhausted"),B&&"waiting"===a&&!E?Re("auto_message"):"running"===a&&Re("normal")},[qe,Ve,B,a,E]);const bt=De.useCallback(async()=>{(null==l?void 0:l.job_id)&&(null==i?void 0:i.agent_running)&&v&&v({origin:E?"SubagentButton":"MainInput"})},[null==l?void 0:l.job_id,null==i?void 0:i.agent_running,v]),yt=De.useCallback(async()=>{if((null==l?void 0:l.job_id)&&!be){ye(!0);try{await Hp(l.job_id),K({title:"Clone Complete",description:"Environment has been successfully cloned."})}catch(e){K({title:"Clone Failed",description:(null==e?void 0:e.message)||"Failed to clone environment.",variant:"destructive"})}finally{ye(!1)}}},[null==l?void 0:l.job_id,be,K]),wt=De.useCallback(async t=>{var n,s,i;const a=t||ae.trim();if(!(null==l?void 0:l.job_id)||!a)return;if(at)return await Mp(l.job_id,a),re(""),void(!E&&X.length>0&&J(fu({tabId:Q})));const o=ut.images.length>0?ut.images.map(e=>({mime_type:e.mime_type,img_base64:e.img_base64})):[];let c=[];if(!E)try{c=await Promise.all(X.filter(e=>{if(!e.readByAgent)return!1;const t=e.mime_type&&["image/jpeg","image/png","image/gif","image/webp"].includes(e.mime_type),n=/\.(jpg|jpeg|png|gif|webp)$/i.test(e.file_name);return t||n}).map(async e=>{try{const t=e.local_preview_url||e.file_path;if(!t)return null;const n=await fetch(t);if(!n.ok)return null;const s=await n.blob(),i=await rt(s);return i?{mime_type:ot("jpeg"),img_base64:i.base64}:null}catch(t){return null}}))}catch(h){c=[]}const d=[...o,...c.filter(e=>null!==e)],u=a,p=d;e(u,d,E?[]:X),re(""),E||J(bu({tabId:Q})),ut.images.length>0&&ut.clearImages(),!E&&X.length>0&&J(fu({tabId:Q}));try{const e=$e(),t=null==He?void 0:He.id,n={processor_type:"env_only",is_cloud:!0,task:u,prompt_name:"",prompt_version:"latest",work_space_dir:"",model_name:m||"claude-3-5-sonnet-20241022",env_image:"",base64_image_list:p,human_timestamp:(new Date).toISOString(),is_pro_user:"pro_mode"===We,thinking_level:O?"ultra_mode":"thinking",...e&&{organization_id:e},...t&&{user_id:t}};let s;!E&&X.length>0&&(s={artifacts:X.map(e=>({artifact_id:e.artifact_id,entity_id:e.entity_id,entity_type:e.entity_type,visibility:e.visibility,file_name:e.file_name,description:e.description,file_path:e.file_path}))}),await te({payload:n,client_ref_id:null==l?void 0:l.job_id,resume:!0,finalize_artifact_upload:s}).unwrap(),r&&r("running")}catch(h){Je(Ke().id,u),re(u);const e=(null==(n=null==h?void 0:h.data)?void 0:n.detail)||(null==(i=null==(s=null==h?void 0:h.response)?void 0:s.data)?void 0:i.detail)||(null==h?void 0:h.message)||"Failed to resume agent";K({title:"Error",description:e,variant:"destructive"})}},[null==l?void 0:l.job_id,o,ae,u,K,m,ut,Ze,ce,null==He?void 0:He.id,at]),jt=De.useCallback(async e=>{if(Ce)return;const t=null==nt?void 0:nt.llm_auto_hitl_enabled;if(fg("auto_answer_button_clicked",{location:e,jobId:null==l?void 0:l.job_id,agentStatus:a}),(null==l?void 0:l.job_id)&&t){Ne(!0);try{const e=await ie(l.job_id).unwrap();if(null==e?void 0:e.auto_answer){const t=`<auto_response>${e.auto_answer}</auto_response>`;wt(t)}}catch(n){}finally{Ne(!1)}}else Ne(!0),wt("Assume Default and Proceed"),Ne(!1)},[Ce,null==l?void 0:l.job_id,a,ie,wt]),Ct=De.useMemo(()=>{const e=e=>{const t=((e,t,n)=>{const s={running:"#67CB65",waiting:"#5FD3F3",stopped:"#7B7B80",stopping:"#F49B57",subagent_stopping:"#F49B57",exit_cost:"#7B7B80",forking:"#80FFF9"},i="running"===e||"subagent_running"===e||"subagent_waiting"===e;if(n&&t&&i)return FT(t).bgColor;return e.startsWith("subagent_")&&i?"#DD99FF":s[e]||s.stopped})(e,N,x);return{color:t}};return{running:e("running"),waiting:e("waiting"),exit_cost:e("exit_cost"),stopped:e("stopped"),stopping:e("stopping"),subagent_running:e("subagent_running"),subagent_waiting:e("subagent_waiting"),subagent_stopping:e("subagent_stopping"),forking:e("forking")}},[N,x]),Nt=De.useMemo(()=>{const e=()=>h||"Agent",t=()=>N?NT(N):"Subagent";return{exit_cost:`${e()} is offline`,running:`${e()} is running...`,waiting:`${e()} is waiting...`,stopped:`${e()} is offline`,stopping:`${e()} is stopping gracefully. Usually takes a min`,subagent_running:`${t()} is running...`,subagent_waiting:`${t()} is waiting...`,subagent_stopping:`${t()} is gracefully stopping...`,forking:"Forking is in progress..."}},[h,N]),Ft=(e="bottom",t="0%",n=.2)=>{const s={running:`linear-gradient(to ${e}, rgba(255, 255, 255, 0.02) 0%, rgba(103, 203, 101, 0.2) 100%)`,waiting:`linear-gradient(to ${e}, rgba(255, 255, 255, 0.02) 0%, rgba(95, 211, 243, 0.2) 100%)`,stopped:`linear-gradient(to ${e}, rgba(255, 255, 255, 0.02) 0%, rgba(123, 123, 128, 0.2) 100%)`,stopping:`linear-gradient(to ${e}, rgba(255, 255, 255, 0.02) 0%, rgba(244, 155, 87, 0.2) 100%)`,exit_cost:`linear-gradient(to ${e}, rgba(255, 255, 255, 0.02) 0%, rgba(123, 123, 128, 0.2) 100%)`};if(E)return s[a]||s.stopped;if(x&&N){const t=a.startsWith("subagent_")?a.replace("subagent_",""):"waiting";return((e,t,n="bottom")=>FT(e).gradients[t].replace("to bottom",`to ${n}`))(N,t,e)}if(a.startsWith("subagent_"))return`linear-gradient(to ${e}, rgba(255, 255, 255, 0.2) 0%, rgba(221, 153, 255, 1) 100%)`;return s[a]||s.stopped},_t=De.useMemo(()=>{if(ze)return n.jsx(hS,{className:"w-6 h-6 text-gray-500 animate-spin"});switch(a){case"running":case"subagent_running":case"stopping":case"subagent_stopping":return n.jsx("img",{src:WH,className:"w-6 h-6",alt:"pause"});default:return n.jsx("img",{src:qH,className:"w-6 h-6",alt:"send"})}},[a,ze]),kt=De.useCallback(()=>{it&&"free"===We?Ie.open({}):le(!0)},[We,it]),St=De.useCallback(()=>{it&&"free"===We?Ie.open({}):"running"!==M&&(me&&dt(),k&&S&&S({...k,fork:!k.fork}))},[me,dt,k,We,it]),Et=De.useCallback(async()=>{var e,t,n;if(!ue&&(null==l?void 0:l.job_id))if(ce)de(!1);else{pe(!0);try{await Lp(l.job_id),de(!0),K({title:"HIM mode activated",description:"You can now send messages as HIM"})}catch(s){const i=(null==(e=null==s?void 0:s.data)?void 0:e.detail)||(null==(n=null==(t=null==s?void 0:s.response)?void 0:t.data)?void 0:n.detail)||(null==s?void 0:s.message)||"Failed to initialize HIM session";K({title:"Error",description:i,variant:"destructive"})}finally{pe(!1)}}},[ue,null==l?void 0:l.job_id,ce,K]),It=De.useCallback(async()=>{try{const e=await navigator.mediaDevices.getUserMedia({audio:!0}),t=new MediaRecorder(e),n=[];t.ondataavailable=e=>{n.push(e.data)},t.onstop=async()=>{const t=new Blob(n,{type:"audio/mp3"});await Tt(t),e.getTracks().forEach(e=>e.stop())},t.start(),Se(t),_e(!0),Lg("recording_started",{component:"ChatInput"})}catch(e){K({title:"Recording Error",description:"Could not access microphone. Please check permissions.",variant:"destructive"})}},[K]),At=De.useCallback(()=>{ke&&Fe&&(ke.stop(),_e(!1),Se(null),Lg("recording_stopped",{component:"ChatInput"}))},[ke,Fe]),Tt=De.useCallback(async e=>{try{Lg("transcription_started",{component:"ChatInput",audioSize:e.size});const t=new File([e],"recording.mp3",{type:"audio/mp3"}),n=await ne({audio_file:t,language_code:"en"}).unwrap();if(!n.text)throw new Error("No transcription data received");{const e=ae?`${ae} ${n.text}`:n.text;re(e),Lg("transcription_completed",{component:"ChatInput",textLength:n.text.length})}}catch(t){Lg("transcription_failed",{component:"ChatInput",error:t instanceof Error?t.message:"Unknown error"}),K({title:"Transcription Error",description:"Failed to transcribe audio. Please try again.",variant:"destructive"})}},[ne,ae,K]),Dt=De.useCallback(()=>{Fe?At():It()},[Fe,At,It]),Mt=De.useMemo(()=>{var e;return(!Ze||"true"===localStorage.getItem("mobile"))&&(!!H||("running"==M||("brainstorming_done"==A&&"running"===a||(!(!x&&"subagent_waiting"!==a||E)||(!!(null==(e=Ye(Ke().id))?void 0:e.content)||s)))))},[s,g,x,Ke,Ye,c,d,Ze,A,a,H]),Lt=De.useCallback(()=>{const e=Ae.current;e&&(e.style.height="auto",e.style.height=`${Math.min(e.scrollHeight,200)}px`)},[]),Ot=De.useCallback(e=>{re(e.target.value),requestAnimationFrame(Lt)},[Lt]);De.useEffect(()=>{Lt()},[Lt]),De.useEffect(()=>{Lt()},[ae,Lt]);const zt=De.useCallback(e=>{if(e.preventDefault(),!Mt||"subagent_running"===a||"running"===a)if(at)wt();else if("running"===a||"subagent_running"===a||"stopping"===a||"subagent_stopping"===a)bt();else if("waiting"===a&&!E||"subagent_waiting"===a&&E){if(!ae.trim())return;wt(),re("")}},[ae,s,ut,a,bt,wt,l,Mt,Ze,ce,null==He?void 0:He.id]),Bt=De.useMemo(()=>{let e=!1;return(ze||"subagent_waiting"===a||"running"===a&&"brainstorming_done"===A||w||!(null==l?void 0:l.job_id))&&(e=!0),"subagent_waiting"===a&&E&&(e=!1),"running"==M&&(e=!0),H&&(e=!0),e},[ze,a,y,w,A,E,x,M,null==l?void 0:l.job_id,H]),Ht=De.useCallback(()=>H?"Save your changes to continue chatting":"running"==M?"Please wait for forking to finish":t,[t,c,d,M,H]),{ForkDisabled:$t,ForkDisabledReason:Ut}=De.useMemo(()=>H?{ForkDisabled:!0,ForkDisabledReason:"Cannot fork while in visual edit mode"}:"waiting"!==a&&"subagent_waiting"!==a?{ForkDisabled:!0,ForkDisabledReason:"Please wait for the agent to finish before forking"}:"build"!==A?{ForkDisabled:!0,ForkDisabledReason:"Please wait for agent to write code before forking"}:x?{ForkDisabled:!0,ForkDisabledReason:"Cannot fork while subagent is active"}:Ue<=0?{ForkDisabled:!0,ForkDisabledReason:"Insufficient credits to fork"}:{ForkDisabled:!1,ForkDisabledReason:null},[a,A,x,Ue,H]);return n.jsx(Rt,{children:n.jsxs(Pt.div,{initial:{y:100,opacity:0},animate:{y:0,opacity:1},exit:{y:100,opacity:0},transition:{type:"spring",stiffness:300,damping:30},className:fb("flex flex-col md:p-1 p-0 max-w-full sm:max-w-4xl md:pt-1 pt-0 w-full md:rounded-[14px] rounded-b-l-none rounded-b-r-none md:backdrop-blur-[40px] xs:backdrop-blur-[0px] shadow-sm md:bg-[#1A1A1C] rounded-t-l-[14px] rounded-t-r-[14px]",st&&"border border-b-0 border-[#333333] rounded-[14px] rounded-b-none"),style:{background:st?"transparent":Ft()},children:["normal"==Pe&&n.jsx("div",{className:"flex items-center justify-between w-full px-2 md:px-3 md:py-2",children:n.jsxs("div",{className:fb("flex items-center gap-2 ",!E&&X.length>0?"w-full":"max-w-[50%]"),children:[ut.images.length>0&&n.jsx("div",{className:"flex items-center gap-2 pt-1",children:n.jsx("div",{className:"flex flex-wrap gap-2",children:ut.isProcessing?n.jsxs("div",{className:"flex items-center justify-center py-1",children:[n.jsx(hS,{className:"h-4 w-4 text-[#999] animate-spin mr-2"}),n.jsx("span",{className:"text-[#999] text-xs",children:"Processing..."})]}):ut.images.map((e,t)=>n.jsxs("div",{className:"relative w-16 h-16 md:w-20 md:h-20 rounded-md border border-[#333] group",children:[n.jsx("img",{src:`data:${e.mime_type};base64,${e.img_base64}`,alt:`Selected image ${t+1}`,className:"w-full h-full object-cover z-[1] rounded-md"}),n.jsx("button",{onClick:()=>ut.removeImage(t),className:"absolute top-[-6px] right-[-6px] bg-transparent z-[2] rounded-full p-1 transition-opacity","aria-label":"Remove image",type:"button",children:n.jsx("div",{className:"bg-white rounded-full p-[2px]",children:n.jsx("img",{src:GH,alt:"Remove image",className:"w-2 h-2"})})})]},t))})}),pt.hasFiles&&n.jsx("div",{className:"flex items-center gap-2 pt-1",children:n.jsx("div",{className:"flex flex-wrap gap-2",children:pt.isProcessing?n.jsxs("div",{className:"flex items-center justify-center py-1",children:[n.jsx(hS,{className:"h-4 w-4 text-[#999] animate-spin mr-2"}),n.jsx("span",{className:"text-[#999] text-xs",children:"Uploading..."})]}):pt.files.map((e,t)=>n.jsxs("div",{className:"relative w-16 h-16 overflow-hidden rounded-lg md:w-20 md:h-20 group backdrop-blur-md",style:{background:"linear-gradient(135deg, rgba(255, 255, 255, 0.1) 0%, rgba(255, 255, 255, 0.05) 100%)",backdropFilter:"blur(10px)",border:"1px solid rgba(255, 255, 255, 0.1)"},children:[n.jsxs("div",{className:"flex flex-col items-center justify-center w-full h-full p-2",children:[n.jsx("div",{className:"w-8 h-8 mb-1 flex items-center justify-center rounded bg-[#FFFFFF20]",children:n.jsx("img",{src:VH,alt:"File",className:"w-5 h-5 invert opacity-70"})}),n.jsx("div",{className:"text-[8px] text-white/90 text-center leading-tight truncate max-w-full",children:e.name.length>8?`${e.name.substring(0,8)}...`:e.name}),n.jsxs("div",{className:"text-[6px] text-white/50 text-center mt-1",children:[(e.size/1024/1024).toFixed(1),"MB"]})]}),n.jsx("button",{onClick:()=>pt.removeFile(t),className:"absolute top-[-6px] right-[-6px] bg-transparent z-[2] rounded-full p-1 transition-opacity","aria-label":"Remove file",type:"button",children:n.jsx("div",{className:"bg-white rounded-full p-[2px]",children:n.jsx("img",{src:GH,alt:"Remove file",className:"w-2 h-2"})})})]},t))})}),!E&&X.length>0&&n.jsx("div",{className:"w-full",children:n.jsx("div",{className:"flex max-w-full gap-2 pb-1 overflow-x-auto overflow-y-hidden flex-nowrap scrollbar-thin scrollbar-thumb-white/20 scrollbar-track-transparent hover:scrollbar-thumb-white/30",children:X.map(e=>n.jsxs("div",{className:"relative flex-shrink-0 group",children:[n.jsx(PH,{artifact:e}),n.jsx("button",{type:"button",onClick:()=>vt(e.artifact_id),className:"absolute top-[-5px] right-[-5px] bg-transparent rounded-full p-1 transition-opacity opacity-0 group-hover:opacity-100","aria-label":"Remove attachment",children:n.jsx("div",{className:"p-1 bg-white rounded-full",children:n.jsx("img",{src:GH,alt:"Remove attachment",className:"w-2 h-2"})})})]},e.artifact_id))})}),0===ut.images.length&&!pt.hasFiles&&(E||0===X.length)&&!f&&!st&&n.jsxs("div",{className:"flex items-center gap-2 md:gap-4",children:[n.jsx("div",{className:"flex items-center gap-2 min-w-[58vw] md:min-w-fit md:gap-4",children:H?n.jsxs(n.Fragment,{children:[n.jsx(e$,{}),n.jsx("span",{className:"text-[15px] md:text-[16px] font-medium md:text-nowrap",style:{color:"#95C6FF"},children:U?"Editing":"Visual Editing..."}),U&&n.jsx(t$,{elementName:U})]}):n.jsxs(n.Fragment,{children:[n.jsx(n$,{status:a,colors:Ct}),n.jsx(s$,{status:a,colors:Ct,statusText:Nt})]})}),"subagent_waiting"===a&&b&&n.jsx("button",{onClick:b,className:"ml-2 px-2 py-1 text-xs font-semibold rounded-md transition-colors",style:{backgroundColor:`${Ct.subagent_waiting.color}`,color:FT(N||"").color},type:"button",children:"Reply"})]})]})}),"credit_exhausted"==Pe&&n.jsx("div",{className:"max-md:py-1",children:n.jsxs("div",{className:"flex items-center justify-between w-full px-2 md:px-3 md:py-2",children:[n.jsxs("div",{className:fb("flex items-center gap-2"),children:[n.jsx(fT,{fill:"#CCC",className:"w-5 h-5"}),n.jsx("span",{className:"max-md:text-[14px]",children:(()=>{if(!qe||!Ve)return null;const e=qe.ecu_balance;return e<=0?Oe?"Credit Exhausted":"You have exhausted all of your credits.":e<=5?n.jsxs(n.Fragment,{children:[e.toFixed(2)," free credit remaining!"]}):null})()})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("button",{onClick:()=>{Ie.open({})},className:"text-[14px] text-[#F5CC62] flex gap-1 items-center font-medium p-1 pl-[6px] pr-4 rounded-[8px] bg-[#F5CC621F]",children:[n.jsx("div",{className:"self-center object-contain w-5 h-5",children:n.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[n.jsx("circle",{opacity:"0.16",cx:"10",cy:"10",r:"9",fill:"#F4D475"}),n.jsx("circle",{cx:"10.0001",cy:"9.99961",r:"5.85",stroke:"#0F0F10","stroke-width":"0.9"}),n.jsx("path",{d:"M9.27981 13.6008H10.7198V10.7208H13.5998V9.28078H10.7198V6.40078H9.27981V9.28078H6.3998V10.7208H9.27981V13.6008ZM9.9998 17.2008C9.00381 17.2008 8.0678 17.0118 7.1918 16.6338C6.3158 16.2558 5.5538 15.7428 4.9058 15.0948C4.2578 14.4468 3.7448 13.6848 3.3668 12.8088C2.9888 11.9328 2.7998 10.9968 2.7998 10.0008C2.7998 9.00478 2.9888 8.06878 3.3668 7.19278C3.7448 6.31678 4.2578 5.55478 4.9058 4.90678C5.5538 4.25878 6.3158 3.74578 7.1918 3.36778C8.0678 2.98978 9.00381 2.80078 9.9998 2.80078C10.9958 2.80078 11.9318 2.98978 12.8078 3.36778C13.6838 3.74578 14.4458 4.25878 15.0938 4.90678C15.7418 5.55478 16.2548 6.31678 16.6328 7.19278C17.0108 8.06878 17.1998 9.00478 17.1998 10.0008C17.1998 10.9968 17.0108 11.9328 16.6328 12.8088C16.2548 13.6848 15.7418 14.4468 15.0938 15.0948C14.4458 15.7428 13.6838 16.2558 12.8078 16.6338C11.9318 17.0118 10.9958 17.2008 9.9998 17.2008Z",fill:"#F4D475"})]})}),n.jsx("p",{children:"Buy Credits"})]}),n.jsx("button",{title:"Close",onClick:()=>{Re("normal")},className:"flex items-center justify-center w-4 h-4 hover:bg-[#FFFFFF0D] rounded-[8px]",children:n.jsx(RS,{})})]})]})}),"auto_message"==Pe&&!st&&B&&n.jsx("div",{className:"px-2 md:px-3 md:py-2",children:n.jsxs("div",{className:"flex items-center justify-between w-full",children:[n.jsxs("div",{className:"flex items-center gap-2 md:gap-4",children:[n.jsx("div",{className:"flex items-center gap-2 min-w-[58vw] md:min-w-fit md:gap-4",children:H?n.jsxs(n.Fragment,{children:[n.jsx(e$,{}),n.jsx("span",{className:"text-[15px] md:text-[16px] font-medium md:text-nowrap",style:{color:"#95C6FF"},children:U?"Editing":"Visual Editing..."}),U&&n.jsx(t$,{elementName:U})]}):n.jsxs(n.Fragment,{children:[n.jsx(n$,{status:a,colors:Ct}),n.jsx(s$,{status:a,colors:Ct,statusText:Nt})]})}),"subagent_waiting"===a&&b&&n.jsx("button",{onClick:b,className:"ml-2 px-2 py-1 text-xs font-semibold rounded-md transition-colors",style:{backgroundColor:`${Ct.subagent_waiting.color}`,color:FT(N||"").color},type:"button",children:"Reply"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("button",{onClick:()=>jt("desktop"),disabled:Ce,className:"px-[6px] flex items-center gap-1 py-1 text-[15px] font-semibold rounded-md transition-colors bg-white text-[#000000] disabled:opacity-50 disabled:cursor-not-allowed",type:"button",children:Ce?n.jsxs(n.Fragment,{children:[n.jsx(hS,{size:20,className:"animate-spin"}),"Generating..."]}):n.jsxs(n.Fragment,{children:[n.jsx($H,{size:20}),"Auto Answer"]})}),n.jsx("button",{title:"Close",onClick:()=>{Re("normal")},className:"flex items-center justify-center w-4 h-4 hover:bg-[#FFFFFF0D] rounded-[8px]",type:"button",children:n.jsx(RS,{})})]})]})}),n.jsxs("form",{onSubmit:zt,className:fb("flex flex-1 flex-col md:bg-background bg-[#1A1A1C] rounded-none rounded-tl-[14px] rounded-tr-[14px] border border-1 relative md:rounded-xl",Qe?"border-[#5FD3F3]/50 border-2 border-dashed":"border-[#252526]"),onDragOver:e=>{e.preventDefault(),e.stopPropagation()},onDragEnter:e=>{e.preventDefault(),e.stopPropagation(),Xe(!0)},onDragLeave:e=>{e.preventDefault(),e.stopPropagation(),e.currentTarget.contains(e.relatedTarget)||Xe(!1)},onDrop:e=>{e.preventDefault(),e.stopPropagation(),Xe(!1);const t=e.dataTransfer.files;t.length>0&&mt(t)},children:[Qe&&n.jsx("div",{className:"absolute inset-0 z-10 flex items-center justify-center bg-background/80 rounded-xl",children:n.jsx("div",{className:"text-[#5FD3F3] text-center",children:n.jsx("p",{className:"font-medium",children:"Drop files here"})})}),n.jsx("textarea",{ref:Ae,value:ae,onChange:Ot,onFocus:()=>{Ge()},onPaste:e=>{var t;const n=null==(t=e.clipboardData)?void 0:t.items;if(!n)return;const s=Array.from(n).filter(e=>E||!et?e.type.startsWith("image/"):"file"===e.kind);if(0===s.length)return;e.preventDefault();const i=s.map(e=>e.getAsFile()).filter(Boolean);i.length>0&&mt(i)},className:fb("w-full resize-none md:bg-background bg-[#1A1A1C] outline-none text-[16px]  px-4 py-3 min-h-[64px] overflow-y-auto placeholder:text-white/50 "+(Mt?"cursor-not-allowed opacity-20":""),E?"max-h-[120px]":"max-h-[200px]",st?"rounded-none rounded-tl-[14px] rounded-tr-[14px]":"rounded-xl"),style:{lineHeight:"1.5"},onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),zt(e))},placeholder:Ht(),rows:2,disabled:Mt}),n.jsxs("div",{className:fb("flex items-center justify-between p-2.5 md:bg-background bg-[#1A1A1C]",st?"rounded-none":"rounded-xl"),children:[n.jsxs("div",{className:"relative flex items-center gap-2",ref:Te,children:[n.jsx("button",{type:"button",onClick:()=>{E||!et?xt():gt()},className:fb("p-2 transition-colors duration-200 rounded-[30px] bg-[#FFFFFF14] hover:bg-gray-100/10 group/paperclip",{"opacity-50 cursor-not-allowed":Mt}),disabled:Mt,children:n.jsx("img",{src:xe?XH:UH,alt:"Attach",className:fb("size-5 transition-transform duration-200 transform ",!xe&&"group-hover/paperclip:rotate-45")})}),n.jsx("input",{ref:Me,type:"file",accept:E||!et?"image/jpeg,image/png,image/gif,image/webp":"*/*",multiple:!0,onChange:ht,style:{display:"none"},"aria-hidden":"true"}),n.jsxs("button",{disabled:"waiting"!==a&&"subagent_waiting"!==a||"build"!=A||x||H,type:"button",onClick:kt,className:fb("p-2 pr-2.5 h-9 transition-colors duration-200 rounded-full flex items-center gap-1 bg-[#FFFFFF14] hover:bg-gray-100/10","waiting"!==a&&"subagent_waiting"!==a||"build"!=A||x||H?"opacity-50 cursor-not-allowed":"",E||st?"hidden":""),children:[n.jsx("img",{src:Be?JH:ZH,alt:"GitHub",className:fb("size-5",Be&&"scale-[1.2] mt-1")}),n.jsx("span",{className:"text-sm font-medium text-[#E6E6E6]",children:"Save to GitHub"})]}),Ze&&(null==l?void 0:l.createdBy)&&n.jsx("button",{type:"button",disabled:"build"!=A||ue,onClick:Et,className:fb("p-2 h-9 transition-colors duration-200 rounded-full flex items-center gap-1 disabled:opacity-50 disabled:cursor-not-allowed",E?"hidden":"",ce?"bg-blue-500/20 border border-blue-500/50 hover:bg-blue-500/30":"bg-[#FFFFFF14] hover:bg-gray-100/10"),children:ue?n.jsx(hS,{className:"text-gray-400 size-5 animate-spin"}):n.jsx("span",{className:fb("text-[14px] font-medium mx-0.5",ce?"text-blue-400":"text-[#E6E6E6]"),children:"HIM"})}),n.jsx("div",{className:fb("relative transition-all duration-200",E||st?"hidden":""),children:n.jsxs("button",{type:"button",disabled:$t,onClick:St,className:fb("p-2 pr-2.5 h-9 transition-colors duration-200 rounded-full flex items-center gap-1 bg-[#FFFFFF14] hover:bg-gray-100/10 disabled:opacity-50 disabled:cursor-not-allowed","running"===M?"bg-[#80FFF90D] hover:bg-[#80FFF90D] disabled:opacity-100 cursor-not-allowed":""),children:["running"==M?n.jsx("img",{src:KH,alt:"Fork",className:"size-5"}):n.jsx("img",{src:QH,alt:"Fork",className:"size-[18px] ml-0.5"}),n.jsx("span",{className:fb("text-[14px] font-medium text-[#E6E6E6]","running"==M?"text-[#80FFF9]":""),children:"running"===M?"Forking...":"Fork"})]})}),Ze&&n.jsx("div",{className:fb("relative transition-all duration-200",E||st?"hidden":""),children:n.jsxs("button",{type:"button",disabled:be||!(null==l?void 0:l.job_id),onClick:yt,className:fb("p-2 pr-2.5 h-9 transition-colors duration-200 rounded-full flex items-center gap-1 bg-[#FFFFFF14] hover:bg-gray-100/10 disabled:opacity-50 disabled:cursor-not-allowed",be?"bg-[#80FFF90D] hover:bg-[#80FFF90D] disabled:opacity-100 cursor-not-allowed":""),children:[n.jsx("div",{className:"flex items-center justify-center w-5 h-5",children:be?n.jsx(hS,{className:"w-4 h-4 animate-spin text-[#80FFF9]"}):n.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"})})}),n.jsx("span",{className:fb("text-[14px] font-medium text-[#E6E6E6]",be?"text-[#80FFF9]":""),children:be?"Cloning...":"Clone"})]})}),n.jsxs("button",{type:"button",disabled:"waiting"!==a&&"subagent_waiting"!==a||"build"!=A||x||H,onClick:e=>{e.preventDefault(),e.stopPropagation()},className:fb("flex items-center gap-1 p-2 h-9 rounded-full transition-colors duration-200",O?"bg-[#FF8C661A]":"bg-[#FFFFFF14] hover:bg-gray-100/10",E||st?"hidden":"","disabled:opacity-50 disabled:cursor-not-allowed"),children:[n.jsx(lA,{color:O?"#FF8C66":"#ffffff",size:20}),n.jsx("span",{className:fb("text-[14px] font-medium transition-colors",O?"text-[#FF8C66]":"text-[#E6E6E6]"),children:"Ultra"}),n.jsx(cA,{checked:O,onCheckedChange:e=>{"pro_mode"===We||$e()?null==z||z(!O):Ie.open({})},className:"data-[state=unchecked]:bg-[#3B3B3B] data-[state=checked]:bg-[#FF8C66] scale-[0.8]"})]}),(W||Le.current&&!1!==W)&&!E&&!st&&n.jsx(EE,{children:n.jsxs(T,{delayDuration:0,children:[n.jsx(D,{asChild:!0,children:n.jsx("button",{type:"button",disabled:"waiting"!==a&&"subagent_waiting"!==a||"build"!=A||x||!Le.current,onClick:e=>{e.preventDefault(),e.stopPropagation();const t=!H;t||!q?(fg(t?"visual_edit_enabled":"visual_edit_disabled",{jobId:null==l?void 0:l.job_id,agentStatus:a,enableVisualEdit:W}),null==$||$(t)):null==Y||Y({onConfirm:ct,title:"You have unsaved changes",description:"Are you sure you want to exit the visual editor? You will lose your unsaved changes.",confirmButton:{text:"Confirm",variant:"default"},cancelButton:{text:"Cancel",variant:"outline"}})},className:fb("flex items-center justify-center w-[40px] h-[40px] rounded-full transition-colors duration-200",H?"bg-[#0161D1]":"bg-[#FFFFFF14] hover:bg-gray-100/10","disabled:opacity-50 disabled:cursor-not-allowed"),children:n.jsx("img",{src:YH,alt:"Visual Edit",className:"w-5 h-5"})})}),n.jsx(L,{className:"max-w-xs bg-[#fff] text-[#0f0f10] font-medium tracking-[-0.3px] text-sm p-[10px] rounded-lg shadow-lg z-[9999]",sideOffset:5,asChild:!0,children:n.jsxs(Pt.div,{initial:{opacity:0,y:-2,scale:1},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:1},transition:{type:"tween",ease:"easeOut",duration:.4},className:"flex items-center gap-1",children:[n.jsx("span",{children:H?"Disable Edit Mode":"Enable Edit Mode"}),n.jsxs("div",{className:"flex items-center gap-[2px]",children:[n.jsx("div",{className:"flex items-center justify-center h-5 px-1 rounded bg-[rgba(0,0,0,0.14)] border border-[rgba(0,0,0,0.08)]",children:n.jsx("span",{className:"text-xs font-medium text-[rgba(0,0,0,0.4)] font-brockmann",children:navigator.platform.toLowerCase().includes("mac")?"":"ctrl"})}),n.jsx("div",{className:"flex items-center justify-center w-5 h-5 rounded bg-[rgba(0,0,0,0.14)] border border-[rgba(0,0,0,0.08)]",children:n.jsx("span",{className:"text-xs font-medium text-[rgba(0,0,0,0.4)] font-brockmann",children:"E"})})]}),n.jsx(P,{className:"fill-[#fff]"})]})})]})}),st&&!E&&n.jsx("button",{title:"Options",type:"button",onClick:()=>ve(!0),className:"p-2 transition-colors duration-200 rounded-full bg-[#FFFFFF14] hover:bg-gray-100/10",children:n.jsx(GI,{size:20,className:"md:hidden"})}),Oe&&O&&n.jsx("button",{title:"Fix",type:"button",className:fb("transition-colors duration-200 hover:opacity-80 size-9 flex items-center hover:bg-[#FFFFFF]/10 p-2 rounded-full",O?"bg-[#FF8C661A]":"bg-[#FFFFFF0D]"),onClick:()=>null==z?void 0:z(!O),children:n.jsx(lA,{size:20,color:O?"#FF8C66":"#E6E6E6"})})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[B&&Oe&&n.jsx("button",{onClick:()=>jt("mobile"),disabled:Ce,className:" px-[6px] md:hidden flex items-center h-[40px] pr-3 gap-1 py-1 text-[15px] font-semibold rounded-full transition-colors bg-white text-[#000000] disabled:opacity-50 disabled:cursor-not-allowed",type:"button",children:Ce?n.jsxs(n.Fragment,{children:[n.jsx(hS,{size:20,className:"animate-spin"}),"Generating..."]}):n.jsxs(n.Fragment,{children:[n.jsx($H,{size:20}),"Auto Answer"]})}),n.jsx("button",{type:"button",onClick:Dt,className:fb("p-2 transition-colors duration-200 rounded-[30px] flex items-center justify-center size-9",Fe?"bg-white text-black hover:bg-white":"bg-[#FFFFFF14] hover:bg-[#FFFFFF14]",Ee&&"opacity-50 cursor-not-allowed",{"opacity-50 cursor-not-allowed":Mt}),disabled:Mt||Ee,title:Ee?"Transcribing audio...":Fe?"Stop recording":"Start voice recording",children:Ee?n.jsx(hS,{className:"w-5 h-5 animate-spin"}):Fe?n.jsx(Pt.div,{animate:{scale:[1,1.2,1]},transition:{duration:1,repeat:1/0,ease:"easeInOut"},children:n.jsx(FE,{width:18,height:18,fill:"currentColor"})}):n.jsx(NE,{width:18,height:18,fill:"currentColor"})}),n.jsxs("button",{onClick:zt,className:`flex ${"subagent_running"===a&&y?"w-auto px-3":"w-[48px] px-[12px]"} py-[6px] justify-center items-center gap-[10px] max-md:h-9 rounded-[38px] bg-[#DDDDE6] ${Bt?"opacity-50 cursor-not-allowed":""}`,type:"submit",disabled:Bt,children:["subagent_running"===a&&y&&n.jsx("span",{className:"text-sm font-medium text-black max-md:hidden",children:"Finish Sub-Agent"}),_t]})]})]})]}),n.jsx("div",{className:"flex flex-row justify-between items-center w-full md:hidden p-[10px]",style:{background:Ft("right","90%")},children:!f&&n.jsxs("div",{className:"flex items-center gap-2 md:gap-4",children:[n.jsx("div",{className:"flex items-center gap-2 min-w-[58vw] md:min-w-fit md:gap-4",children:H?n.jsxs(n.Fragment,{children:[n.jsx(e$,{}),n.jsx("span",{className:"text-[15px] md:text-[16px] font-medium md:text-nowrap",style:{color:"#95C6FF"},children:U?"Editing":"Visual Editing..."}),U&&n.jsx(t$,{elementName:U})]}):n.jsxs(n.Fragment,{children:[n.jsx(n$,{status:a,colors:Ct}),n.jsx(s$,{status:a,colors:Ct,statusText:Nt})]})}),"subagent_waiting"===a&&b&&n.jsx("button",{onClick:b,className:"ml-2 px-2 py-1 text-xs font-semibold rounded-md transition-colors",style:{backgroundColor:`${Ct.subagent_waiting.color}`,color:FT(N||"").color},type:"button",children:"Reply"})]})}),n.jsx(HH,{isOpen:ge,onOpenChange:ve,isGitHubConnected:Be,onSaveToGitHub:kt,isGitHubDisabled:"waiting"!==a&&"subagent_waiting"!==a||"build"!==A||x,onForkClick:St,isForkDisabled:$t,forkStatus:M,ultraMode:O,onUltraModeChange:z,isUltraDisabled:"waiting"!==a&&"subagent_waiting"!==a||"build"!==A||x,tier:We,onUpgradeRequired:()=>Ie.open({}),getCurrentOrganizationId:$e}),oe&&n.jsx(NH,{isOpen:oe,onOpenChange:e=>le(e),jobId:(null==l?void 0:l.job_id)||"",onSuccess:e=>{e&&F&&F(e),le(!1)},lastGithubUsed:C})]})})}),a$=({searchState:e,updateSearchQuery:t,navigateToPrevMatch:s,navigateToNextMatch:i,toggleSearch:a})=>{const r=(...e)=>e.filter(Boolean).join(" ");return n.jsx(Pb,{children:e.isActive&&n.jsxs(Ek.div,{className:"absolute left-0 right-0 z-[999] flex items-center gap-2 p-2 mx-auto border border-white/15 rounded-lg shadow-lg bg-white/5 top-4 w-96 bg-clip-padding backdrop-filter backdrop-blur-xl",initial:{y:-50,opacity:0},animate:{y:0,opacity:1},exit:{y:-50,opacity:0},transition:{duration:.2,ease:"easeInOut"},children:[n.jsx(_S,{size:18,className:"text-gray-400"}),n.jsx("input",{autoFocus:!0,type:"text",value:e.query,onChange:e=>t(e.target.value),placeholder:"Search messages...",className:"flex-1 text-sm text-white bg-transparent border-none outline-none placeholder:text-white/30"}),e.matches.length>0&&n.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-400",children:[n.jsxs("span",{children:[e.currentMatchIndex+1," "]})," of ",n.jsx("span",{children:e.matches.length})]}),n.jsx("button",{onClick:s,disabled:0===e.matches.length,className:r("p-1 hover:bg-white/10 rounded transition-colors",0===e.matches.length?"opacity-50 cursor-not-allowed":""),title:"Previous match (Shift+Enter)",children:n.jsx(zk,{size:18,className:"text-gray-400"})}),n.jsx("button",{onClick:i,disabled:0===e.matches.length,className:r("p-1 hover:bg-white/10 rounded transition-colors",0===e.matches.length?"opacity-50 cursor-not-allowed":""),title:"Next match (Enter)",children:n.jsx(Pk,{size:18,className:"text-gray-400"})}),n.jsx("button",{onClick:()=>a(!1),className:"p-1 transition-colors rounded hover:bg-white/10",title:"Close search (Esc)",children:n.jsx(RS,{size:18,className:"text-gray-400"})})]})})};function r$({isCloudFlow:e,containerId:t,jobId:n,trajPath:s,isActive:i,onJobDetailsResult:a=()=>{},onTrajectoryResult:r,onAgentStateResult:o,onCurrentChunkResult:l,onBrainStormingResult:c,onLogsResult:d=()=>{},onError:u,onMessage:p=()=>{}}){De.useRef(`polling-${Date.now().toString(36)}`);const m=De.useRef(!1),h=De.useRef({containerId:t,jobId:n,trajPath:s}),[x,f]=De.useState("disconnected"),[g,v]=De.useState(!0),b=De.useRef(!0),y=function(){const[e,t]=De.useState("visible"===document.visibilityState);return De.useEffect(()=>{const e=()=>{t("visible"===document.visibilityState)};return document.addEventListener("visibilitychange",e),()=>{document.removeEventListener("visibilitychange",e)}},[]),e}(),w=De.useRef({jobDetails:null,trajectory:[],agentState:null,logs:null,currentChunk:null,lastRequestId:null}),j=De.useRef(null),C=De.useRef(()=>{m.current&&(m.current=!1,j.current&&(clearTimeout(j.current),j.current=null),f("disconnected"))});De.useEffect(()=>{h.current={containerId:t,jobId:n,trajPath:s}},[t,n,s]);const N=De.useCallback(async()=>{var e;if(m.current){try{f("connecting");let n={trajectories:{data:[],updated_data:[],agent_status:!1,agent_status_new:"paused",chat_mode:null}};if(h.current.jobId)try{if(n=await Dp(h.current.jobId,w.current.lastRequestId||void 0,{onTrajectoryResult:r,onCurrentChunkResult:l,cache:w}),n.trajectories){let t=[...w.current.trajectory];if((null==(e=n.trajectories.updated_data)?void 0:e.length)>0){const e=n.trajectories.updated_data.sort((e,t)=>new Date(e.created_at).getTime()-new Date(t.created_at).getTime()).map(e=>({...e.traj_payload,id:e.id,request_id:e.request_id,job_id:e.job_id,traj_payload:e.traj_payload,commit_id:e.commit_id,parent_request_id:e.parent_request_id,status:e.status,created_at:e.created_at,updated_at:e.updated_at}));for(const n of e){const e=t.findIndex(e=>e.id===n.id);-1!==e?t[e]={...t[e],...n}:t.push(n)}}w.current.trajectory=t,r(t);const s={agent_running:n.trajectories.agent_status,job_running:n.trajectories.agent_status,agent_status_new:n.trajectories.agent_status_new,chat_mode:n.trajectories.chat_mode,pod_state_display:n.trajectories.pod_state_display,pod_state_hitl:n.trajectories.pod_state_hitl,show_upgrade:n.trajectories.show_upgrade},i={chat_mode:n.trajectories.chat_mode||null};c&&c(i),o(s);const a=[...n.trajectories.data||[],...n.trajectories.updated_data||[]];if(a.length>0){const e=a.reduce((e,t)=>new Date(t.created_at).getTime()>new Date(e.created_at).getTime()?t:e,a[0]).request_id;w.current.lastRequestId=e,e!==w.current.lastRequestId&&(w.current.lastRequestId=e)}}}catch(t){return u(t instanceof Error?t.message:String(t)),f("error"),void(g?f("reconnecting"):C.current())}f("connected")}catch(t){u(t instanceof Error?t.message:String(t)),f("error"),t instanceof Error&&"Container is not running"===t.message&&C.current()}m.current&&(j.current=setTimeout(N,2e3))}},[g,e,a,r,o,l,d,u,p]),F=De.useCallback(()=>{if(m.current)return;if(!i)return;if(!y)return;(h.current.containerId||h.current.jobId||h.current.trajPath)&&(m.current=!0,f("connecting"),N())},[i,y,N]);De.useEffect(()=>{C.current=()=>{m.current&&(m.current=!1,j.current&&(clearTimeout(j.current),j.current=null),f("disconnected"))}},[]);const _=De.useCallback(()=>{C.current()},[]),k=De.useCallback(()=>{w.current.trajectory=[],w.current.lastRequestId=null,m.current&&(C.current(),i&&y&&F())},[i,y,F]);return De.useEffect(()=>{if(b.current){b.current=!1;const e=h.current.containerId||h.current.jobId||h.current.trajPath;return void(i&&y&&e&&!m.current&&setTimeout(()=>{i&&y&&!m.current&&F()},50))}if(i&&y){(h.current.containerId||h.current.jobId||h.current.trajPath)&&!m.current&&F()}else m.current&&C.current()},[i,y,F]),De.useEffect(()=>()=>{m.current&&(j.current&&(clearTimeout(j.current),j.current=null),m.current=!1)},[]),{startPolling:F,stopPolling:_,resetPolling:k,connectionStatus:x,autoReconnect:g,setAutoReconnect:v,isTabVisible:y}}const o$=De.forwardRef(({className:e,children:t,...s},i)=>n.jsxs(X,{ref:i,className:fb("relative overflow-hidden",e),...s,children:[n.jsx(ee,{className:"h-full w-full rounded-[inherit]",children:t}),n.jsx(l$,{}),n.jsx(te,{})]}));o$.displayName=X.displayName;const l$=De.forwardRef(({className:e,orientation:t="vertical",...s},i)=>n.jsx(ne,{ref:i,orientation:t,className:fb("flex touch-none select-none transition-colors","vertical"===t&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===t&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...s,children:n.jsx(se,{className:"relative flex-1 rounded-full bg-border"})}));l$.displayName=ne.displayName;const c$=gv.common.folder,d$=gv.common.testFile,u$=gv.common.file,p$=gv.common.activeFile,m$=gv.icons.code,h$=e=>{e.editor.defineTheme("github-dark",{base:"vs-dark",inherit:!0,rules:[{token:"deleted",foreground:"ff4a4a",fontStyle:"italic"},{token:"inserted",foreground:"4af94a"}],colors:{"editor.background":"#111112","editor.foreground":"#cccccc","editor.lineHighlightBackground":"#1e1e1e","editorLineNumber.foreground":"#6e7681","editorLineNumber.activeForeground":"#cccccc","editorGutter.background":"#111112","diffEditor.insertedTextBackground":"#23863a33","diffEditor.removedTextBackground":"#da363333","diffEditor.insertedLineBackground":"#23863a22","diffEditor.removedLineBackground":"#da363322"}})},x$=({isOpen:e,onClose:t,onOpenVSCode:s,containerId:i,modifiedFiles:a,initialCommitId:r,isCloudFlow:o,jobId:l})=>{const[c,d]=De.useState("all"),[u,p]=De.useState(""),[m,h]=De.useState(null),[x,f]=De.useState(null),[g,v]=De.useState(!1),[b,y]=De.useState(null),w=De.useMemo(()=>a.map(e=>({...e,parentFolder:e.fileName?e.fileName.split("/").slice(0,-1).join("/"):""})),[a]),j=De.useMemo(()=>{const e={};return w.forEach(t=>{const n=t.parentFolder||"";e[n]||(e[n]=[]),e[n].push(t)}),e},[w]),C=De.useCallback(async e=>{var t,n,s;v(!0),y(null),f(null);try{let a;if(o&&l){const i=await Ip(l,e,r);if(!(null==(s=null==(n=null==(t=i.data)?void 0:t.data)?void 0:n.data)?void 0:s.diff))return void y("No changes in this file");a=atob(i.data.data.data.diff)}else a=await fp.getGitDiff(i,e,r);if(!a.trim())return void y("No changes in this file");if(a.length>1e5)return void y("Diff is too large to render. Please use VS Code to view this diff.");const c=a.split("\n");let d="",u="";for(const e of c)e.startsWith("--- a/")||e.startsWith("+++ b/")||e.startsWith("@@")||(e.startsWith("-")?d+=e.slice(1)+"\n":e.startsWith("+")?u+=e.slice(1)+"\n":(d+=e+"\n",u+=e+"\n"));f({originalContent:d.trim(),modifiedContent:u.trim()})}catch(a){y(a.message)}finally{v(!1)}},[i,r,o,l]);return De.useEffect(()=>{e&&a.length>0&&!m&&h(a[0].fileName)},[e,a]),De.useEffect(()=>{m&&C(m)},[m,C]),e?n.jsx(_A,{open:e,onOpenChange:e=>!e&&t(),children:n.jsxs(AA,{className:"max-w-[90vw] w-[90vw] h-[90vh] max-h-[90vh] p-0 gap-0 bg-[#111112]",hideclosebutton:!0,children:[n.jsx(TA,{className:"border-b border-[#333333] bg-[#111112] p-0",children:n.jsxs("div",{className:"flex",children:[n.jsx("div",{className:"w-[30%] p-4 border-r border-[#333333]",children:n.jsxs("div",{className:"relative flex-1",children:[n.jsx(_S,{className:"absolute left-2 top-1/2 transform -translate-y-1/2 w-4 h-4 text-[#666666]"}),n.jsx(qS,{value:u,onChange:e=>p(e.target.value),className:"pl-8 pr-14 bg-[#1e1e1e] border-[#333333] text-[#cccccc] h-8 text-sm",placeholder:"Search files..."}),n.jsx("span",{className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-xs text-[#666666]",children:" K"})]})}),n.jsxs("div",{className:"w-[70%] p-4 flex justify-between items-center space-x-2",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("img",{alt:"Active file",src:p$,className:"w-4 h-4"}),n.jsx("h2",{className:"text-[#cccccc] text-sm font-medium",children:m||"No file selected"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("button",{className:"flex items-center gap-2 px-3 py-1.5 bg-[#2A2A2A] rounded hover:bg-[#3A3A3A] transition-colors",onClick:s,children:[n.jsx("img",{src:m$,className:"w-4 h-4"}),n.jsx("span",{className:"text-[#CCCCCC] text-sm",children:"Open in VS Code"})]}),n.jsx("button",{className:"p-1.5 hover:bg-[#2A2A2A] rounded transition-colors",onClick:t,children:n.jsx(RS,{className:"w-4 h-4 text-[#CCCCCC]"})})]})]})]})}),n.jsxs("div",{className:"flex h-[calc(90vh-4rem)]",children:[n.jsxs("div",{className:"w-[30%] min-w-[30%] border-r border-[#333333] h-full",children:[n.jsx("div",{className:"border-b border-[#333333]",children:n.jsxs("div",{className:"flex text-[#cccccc]",children:[n.jsxs("button",{className:fb("flex-1 flex items-center justify-center gap-2 py-3 transition-colors","text-[#DDDDE6] text-center font-inter text-xs font-semibold leading-4 tracking-[0.48px] uppercase","all"===c?"border-b-2 border-[#ff6b6b] opacity-100":"opacity-60 hover:opacity-100"),onClick:()=>d("all"),children:[n.jsx("img",{src:c$,className:"w-4 h-4"}),"ALL FILES"]}),n.jsxs("button",{className:fb("flex-1 flex items-center justify-center gap-2 py-3 transition-colors","text-[#DDDDE6] text-center font-inter text-xs font-semibold leading-4 tracking-[0.48px] uppercase","test"===c?"border-b-2 border-[#ff6b6b] opacity-100":"opacity-60 hover:opacity-100"),onClick:()=>d("test"),children:[n.jsx("img",{src:d$,className:"w-4 h-4"}),"TEST FILES"]}),n.jsxs("button",{className:fb("flex-1 flex items-center justify-center gap-2 py-3 transition-colors","text-[#DDDDE6] text-center font-inter text-xs font-semibold leading-4 tracking-[0.48px] uppercase","doc"===c?"border-b-2 border-[#ff6b6b] opacity-100":"opacity-60 hover:opacity-100"),onClick:()=>d("doc"),children:[n.jsx("img",{src:u$,className:"w-4 h-4"}),"DOC FILES"]})]})}),n.jsx(o$,{className:"h-[calc(100%-3rem)]",children:n.jsxs("div",{className:"p-2 space-y-2",children:[j[""]&&n.jsx("div",{className:"mb-4",children:j[""].map(e=>n.jsxs("div",{className:fb("flex items-center gap-2 p-2 rounded cursor-pointer text-sm",m===(null==e?void 0:e.fileName)?"bg-[#1A1A1C] text-white":fb("hover:bg-[#1A1A1C]","M"===e.status?"text-[#CCB252]":"text-[#cccccc]")),onClick:()=>h(null==e?void 0:e.fileName),children:[n.jsx("img",{src:p$,className:fb("w-4 h-4","M"===e.status&&"opacity-80")}),n.jsx("span",{children:e.fileName?e.fileName.split("/").pop():""}),n.jsx("span",{className:"ml-auto text-xs opacity-60",children:e.status})]},null==e?void 0:e.fileName))}),Object.entries(j).filter(([e])=>""!==e).map(([e,t])=>n.jsxs("div",{className:"mb-4",children:[n.jsx("div",{className:"mb-2 text-sm font-medium text-gray-500",children:e}),t.map(e=>n.jsxs("div",{className:fb("flex items-center gap-2 p-2 rounded cursor-pointer text-sm",m===e.fileName?"bg-[#1A1A1C] text-white":fb("hover:bg-[#1A1A1C]","M"===e.status?"text-[#CCB252]":"text-[#cccccc]")),onClick:()=>h(e.fileName),children:[n.jsx("img",{src:p$,className:fb("w-4 h-4","M"===e.status&&"opacity-80")}),n.jsx("span",{children:e.fileName?e.fileName.split("/").pop():""}),n.jsx("span",{className:"ml-auto text-xs opacity-60",children:e.status})]},e.fileName))]},e))]})})]}),n.jsx("div",{className:"w-[70%] max-w-[70%] h-full",children:g?n.jsx("div",{className:"flex items-center justify-center h-full",children:n.jsx("div",{className:"text-[#cccccc]",children:"Loading diff..."})}):b?n.jsx("div",{className:"flex items-center justify-center h-full",children:n.jsx("div",{className:"text-[#ff6b6b] max-w-md text-center p-4",children:b})}):x?n.jsx(zt,{height:"100%",theme:"github-dark",original:x.originalContent,modified:x.modifiedContent,beforeMount:h$,options:{renderSideBySide:!0,readOnly:!0,minimap:{enabled:!1},scrollBeyondLastLine:!1,automaticLayout:!0,lineNumbers:"on",diffWordWrap:"off",renderOverviewRuler:!1,fontSize:13,fontFamily:"'JetBrains Mono', 'Fira Code','SF Mono', Menlo, Monaco, Consolas, 'Courier New', monospace",lineHeight:20,glyphMargin:!1,folding:!1,renderIndicators:!0,renderMarginRevertIcon:!1,ignoreTrimWhitespace:!1,"bracketPairColorization.enabled":!1}}):n.jsx("div",{className:"flex items-center justify-center h-full",children:n.jsx("div",{className:"text-[#666666]",children:"Select a file to view diff"})})})]})]})}):null},f$=async(e,t)=>{try{const n=await fetch(e);if(!n.ok)throw new Error(`Failed to fetch file: ${n.statusText}`);const s=await n.blob(),i=URL.createObjectURL(s),a=document.createElement("a");a.href=i,a.download=t||"download",a.style.display="none",document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(i)}catch(n){const s=document.createElement("a");s.href=e,s.target="_blank",s.download=t||"download",s.style.display="none",document.body.appendChild(s),s.click(),document.body.removeChild(s)}};function g$({image:e,isOpen:t,onClose:s}){De.useEffect(()=>{const e=e=>{"Escape"===e.key&&t&&s()};return t&&(document.addEventListener("keydown",e),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",e),document.body.style.overflow="unset"}},[t,s]);return t&&e?Re.createPortal(n.jsxs("div",{className:"fixed inset-0 z-[999] flex items-center justify-center bg-black/80 backdrop-blur-sm",onClick:e=>{e.target===e.currentTarget&&s()},children:[n.jsxs("div",{className:"absolute top-0 left-0 right-0 z-10 flex items-center justify-between p-4 bg-gradient-to-b from-black/50 to-transparent",children:[n.jsx("div",{className:"text-sm text-white/70",children:"Image Preview"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("button",{type:"button",onClick:()=>{if(!e)return;const t=`data:${e.mime_type};base64,${e.img_base64}`,n=e.mime_type.split("/")[1]||"png";((e,t)=>{const n=document.createElement("a");n.href=e,n.download=t,n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n)})(t,`image-${(new Date).getTime()}.${n}`)},className:"p-2 transition-all duration-200 rounded-lg text-white/70 hover:text-white bg-white/10 hover:bg-white/20",title:"Download image",children:n.jsx(aS,{className:"w-5 h-5"})}),n.jsx("button",{type:"button",onClick:s,className:"p-2 transition-all duration-200 rounded-lg text-white/70 hover:text-white bg-white/10 hover:bg-white/20",title:"Close preview",children:n.jsx(RS,{className:"w-5 h-5"})})]})]}),n.jsx("div",{className:"relative flex items-center justify-center w-full h-full p-8 pt-20",children:n.jsx("img",{src:`data:${e.mime_type};base64,${e.img_base64}`,alt:"Full size preview",className:"object-contain max-w-full max-h-full rounded-lg shadow-2xl",onClick:e=>e.stopPropagation()})})]}),document.body):null}function v$({images:e,className:t}){const[s,i]=De.useState(null);return e&&0!==e.length?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:fb("grid gap-2 relative my-4 rounded-lg w-full",1===e.length?"grid-cols-1":2===e.length?"grid-cols-2":"grid-cols-2 md:grid-cols-3",t),children:e.map((e,t)=>n.jsx("div",{className:"relative rounded-lg max-h-[300px] overflow-hidden bg-white/10 flex items-center justify-center cursor-pointer",onClick:()=>i(e),children:n.jsx("img",{src:`data:${e.mime_type};base64,${e.img_base64}`,alt:`Image ${t+1}`,className:"w-full h-full object-contain rounded-lg max-h-[300px]"})},t))}),n.jsx(g$,{image:s,isOpen:!!s,onClose:()=>i(null)})]}):null}function b$({imageUrl:e,imageName:t,isOpen:s,onClose:i}){De.useEffect(()=>{const e=e=>{"Escape"===e.key&&s&&i()};return s&&(document.addEventListener("keydown",e),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",e),document.body.style.overflow="unset"}},[s,i]);return s&&e?Re.createPortal(n.jsxs("div",{className:"fixed inset-0 z-[999] flex items-center justify-center bg-black/80 backdrop-blur-sm",onClick:e=>{e.target===e.currentTarget&&i()},children:[n.jsxs("div",{className:"absolute top-0 left-0 right-0 z-10 flex items-center justify-between p-4 bg-gradient-to-b from-black/50 to-transparent",children:[n.jsx("div",{className:"text-sm truncate text-white/70 max-w-[80%]",children:t?`${t} - Image Preview`:"Image Preview"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("button",{type:"button",onClick:async()=>{var n;if(e)try{const s=t||`image-${(new Date).getTime()}`,i=(null==(n=e.split(".").pop())?void 0:n.split("?")[0])||"png",a=s.includes(".")?s:`${s}.${i}`;await f$(e,a)}catch(s){window.open(e,"_blank")}},className:"p-2 transition-all duration-200 rounded-lg text-white/70 hover:text-white bg-white/10 hover:bg-white/20",title:"Download image",children:n.jsx(aS,{className:"w-5 h-5"})}),n.jsx("button",{type:"button",onClick:i,className:"p-2 transition-all duration-200 rounded-lg text-white/70 hover:text-white bg-white/10 hover:bg-white/20",title:"Close preview",children:n.jsx(RS,{className:"w-5 h-5"})})]})]}),n.jsx("div",{className:"relative flex items-center justify-center w-full h-full p-8 pt-20",children:n.jsx("img",{src:e,alt:t||"Full size preview",className:"object-contain max-w-full max-h-full rounded-lg shadow-2xl min-h-[300px] min-w-[300px]",onClick:e=>e.stopPropagation()})})]}),document.body):null}const y$=gv.files.pdf,w$=gv.files.csv,j$=gv.files.doc,C$=gv.files.ppt,N$=gv.files.txt,F$=gv.files.video,_$=gv.files.svg,k$=gv.files.other,S$=gv.files.zip,E$=(e,t,n)=>{if(!e&&!t&&!n)return!1;const s=[".jpg",".jpeg",".png",".gif",".webp",".svg",".bmp",".tiff",".tif",".ico",".avif",".heic",".heif"].some(n=>{const s=!!e&&e.toLowerCase().endsWith(n),i=!!t&&t.toLowerCase().includes(n);return s||i});if(n&&n.startsWith("image/"))return!0;const i=!!t&&["image","img","photo","picture","pic",".jpg",".jpeg",".png",".gif",".webp",".svg",".bmp",".tiff",".tif",".ico",".avif",".heic",".heif"].some(e=>t.toLowerCase().includes(e));return s||i},I$=e=>{if(!e)return"Unknown size";if(0===e)return"0 Bytes";const t=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,t)).toFixed(2))+" "+["Bytes","KB","MB","GB"][t]},A$=(e,t=15)=>{if(e.length<=t)return e;const n=e.split(".").pop()||"",s=e.substring(0,e.lastIndexOf("."));return s.length<=10?e:`${s.substring(0,15)}...${n}`};function T$({images:e,className:t}){const[s,i]=De.useState(null),[a,r]=De.useState(null);if(!e||0===e.length)return null;return n.jsxs(n.Fragment,{children:[n.jsx("div",{className:fb("flex flex-wrap max-w-4xl overflow-x-auto gap-[10px] relative my-2 mb-0 rounded-lg w-full",t),children:e.map((e,t)=>{const s=E$(e.name,e.url,e.mime_type),o=((e,t)=>{if(!t&&!e)return k$;const n=(null==t?void 0:t.toLowerCase())||"";return n.endsWith(".pdf")||"application/pdf"===e?y$:n.endsWith(".csv")||"text/csv"===e?w$:n.endsWith(".doc")||n.endsWith(".docx")||"application/msword"===e||"application/vnd.openxmlformats-officedocument.wordprocessingml.document"===e?j$:n.endsWith(".zip")||n.endsWith(".tar")||n.endsWith(".rar")||n.endsWith(".7z")||(null==e?void 0:e.includes("zip"))||(null==e?void 0:e.includes("tar"))||(null==e?void 0:e.includes("rar"))||(null==e?void 0:e.includes("7z"))?S$:n.endsWith(".ppt")||n.endsWith(".pptx")||"application/vnd.ms-powerpoint"===e||"application/vnd.openxmlformats-officedocument.presentationml.presentation"===e?C$:n.endsWith(".txt")||n.endsWith(".md")||n.endsWith(".log")||"text/plain"===e||"text/markdown"===e?N$:n.endsWith(".mp4")||n.endsWith(".avi")||n.endsWith(".mov")||n.endsWith(".wmv")||n.endsWith(".mkv")||(null==e?void 0:e.startsWith("video/"))?F$:n.endsWith(".svg")||"image/svg+xml"===e?_$:n.endsWith(".xls")||n.endsWith(".xlsx")||"application/vnd.ms-excel"===e||"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"===e?w$:k$})(e.mime_type,e.name),l=(c=e.mime_type,d=e.name,(null==c?void 0:c.startsWith("image/"))?pS:(null==c?void 0:c.startsWith("video/"))?PS:(null==c?void 0:c.startsWith("text/"))||(null==d?void 0:d.endsWith(".txt"))?cS:(null==c?void 0:c.includes("zip"))||(null==c?void 0:c.includes("tar"))||(null==c?void 0:c.includes("rar"))?Lk:(null==d?void 0:d.endsWith(".pdf"))||(null==d?void 0:d.endsWith(".csv"))||(null==d?void 0:d.endsWith(".xlsx"))?cS:dS);var c,d;const u="private"===e.visibility&&!e.url;return n.jsxs("div",{className:"relative rounded-[12px] p-[6px] min-h-[180px] max-h-[180px] min-w-[180px] max-w-[180px] overflow-hidden bg-[#FFFFFF0F] flex flex-col items-center justify-center transition-colors "+(u?"":"cursor-pointer hover:bg-[#FFFFFF15]"),onClick:()=>(e=>{("private"!==e.visibility||e.url)&&E$(e.name,e.url,e.mime_type)&&i(e)})(e),onMouseEnter:()=>!u&&r(t),onMouseLeave:()=>r(null),children:[s&&e.url?n.jsx("img",{src:e.url,alt:e.name||`Image ${t+1}`,className:"object-cover w-full h-full rounded-lg",onError:t=>{const n=t.target.parentElement;n&&(n.innerHTML=`\n                        <div class="flex flex-col items-center justify-center h-full p-4">\n                          <img src="${o}" alt="File" class="w-12 h-12 mb-2" />\n                          <span class="text-[12px] text-white/70 text-center break-words">${A$(e.name)}</span>\n                          <span class="text-[10px] text-white/50 mt-1">${I$(e.file_size)}</span>\n                        </div>\n                      `)}}):n.jsxs("div",{className:"flex flex-col items-start justify-between w-full h-full p-3 bg-[#FFFFFF05] rounded-[8px]",children:[n.jsx("div",{className:"flex items-center w-full ",children:o?n.jsx("img",{src:o,alt:"File",className:fb("w-12 h-12 mb-2",o===S$&&"p-1")}):n.jsx(l,{className:"w-12 h-12 mb-2 text-[#FFFFFF60]"})}),n.jsxs("div",{className:"flex flex-col items-start justify-center",children:[n.jsx("span",{className:"text-[12px] text-white/70 text-nowrap text-center break-words mb-1",children:A$(e.name)}),(e.file_size||0)>0&&n.jsx("span",{className:"text-[10px] text-white/50",children:I$(e.file_size)})]})]}),n.jsx("button",{type:"button",onClick:t=>(async(e,t)=>{t.stopPropagation(),("private"!==e.visibility||e.url)&&await f$(e.url,e.name||"download")})(e,t),disabled:u,className:"absolute top-2 right-2 p-1.5 bg-black/50 rounded-lg transition-opacity "+(u?"opacity-0":"hover:bg-black/70 "+(a===t?"opacity-100":"opacity-0")),title:u?"Private file - Download not available":"Download file",children:n.jsx(aS,{className:"w-4 h-4 text-white"})})]},t)})}),s&&E$(s.name,s.url,s.mime_type)&&n.jsx(b$,{imageUrl:s.url,imageName:s.name,isOpen:!!s,onClose:()=>i(null)})]})}const D$=e=>{if(!e||!e.name&&!e.mime_type)return!1;if(e.mime_type&&["image/jpeg","image/jpg","image/png","image/gif","image/webp","image/svg+xml","image/bmp","image/tiff","image/ico","image/avif","image/heic","image/heif"].includes(e.mime_type))return!0;const t=e.name||e.file_name;if(t){return[".jpg",".jpeg",".png",".gif",".webp",".svg",".bmp",".tiff",".tif",".ico",".avif",".heic",".heif"].some(e=>t.toLowerCase().endsWith(e))}return!1},M$=({base64Images:e,artifacts:t,artifactSharedData:s,className:i,fromMember:a})=>{const{imageArtifacts:r,nonImageArtifacts:o,base64Images:l,hasImageArtifacts:c,hasNonImageArtifacts:d,hasBase64:u}=(()=>{const n=t||(null==s?void 0:s.artifacts)||[],i=e||(null==s?void 0:s.base64_image_list)||[],a=n.filter(e=>e.file_name||e.name).map(e=>{let t="";return e.local_preview_base64?t=`data:${e.mime_type||"image/jpeg"};base64,${e.local_preview_base64}`:e.local_preview_url?t=e.local_preview_url:e.file_path?t=e.file_path:e.url&&(t=e.url),{name:e.file_name||e.name||"unnamed",url:t,artifact_type:e.artifact_type,mime_type:e.mime_type,file_size:e.file_size,visibility:e.visibility||(t?"public":"private")}}),r=a.filter(D$),o=a.filter(e=>!D$(e));if(a.length>0){if(i.length>0){const{matchedArtifacts:e,unmatchedBase64:t}=((e,t)=>{const n=[],s=[];return new Set(e.filter(D$).map(e=>{var t;return null==(t=e.name)?void 0:t.toLowerCase()}).filter(e=>void 0!==e)),t.forEach(t=>{e.some(e=>D$(e)&&!0)||s.push(t)}),e.forEach(e=>{D$(e)&&n.push(e)}),{matchedArtifacts:n,unmatchedBase64:s}})(r,i);return{imageArtifacts:e,nonImageArtifacts:o,base64Images:t,hasImageArtifacts:e.length>0,hasNonImageArtifacts:o.length>0,hasBase64:t.length>0}}return{imageArtifacts:r,nonImageArtifacts:o,base64Images:[],hasImageArtifacts:r.length>0,hasNonImageArtifacts:o.length>0,hasBase64:!1}}return{imageArtifacts:[],nonImageArtifacts:[],base64Images:i,hasImageArtifacts:!1,hasNonImageArtifacts:!1,hasBase64:i.length>0}})(),p=[...r,...o];return 0!==p.length||u?n.jsxs("div",{className:fb("enhanced-image-renderer",i),children:[p.length>0&&n.jsx(T$,{images:p,className:a?"justify-start md:ml-[42px]":"justify-end"}),u&&n.jsx(v$,{images:l,className:a?"justify-start md:ml-[42px]":"justify-end"})]}):null},L$=oe,P$=De.forwardRef(({className:e,...t},s)=>n.jsx(ie,{ref:s,className:fb("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",e),...t}));P$.displayName=ie.displayName;const R$=De.forwardRef(({className:e,...t},s)=>n.jsx(ae,{ref:s,className:fb("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",e),...t}));R$.displayName=ae.displayName;const O$=De.forwardRef(({className:e,...t},s)=>n.jsx(re,{ref:s,className:fb("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));O$.displayName=re.displayName;const z$=({data:e,searchTerm:t,path:s="",isRoot:i=!1,defaultExpanded:a=!1})=>{const[r,o]=De.useState(a||i),l=!!t&&JSON.stringify(e).toLowerCase().includes(t.toLowerCase()),c=e=>{if(!t)return e;const s=new RegExp(`(${t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")})`,"gi");return e.split(s).map((e,t)=>s.test(e)?n.jsx("span",{className:"text-white bg-yellow-500/30",children:e},t):e)};if(null===e)return n.jsx("span",{className:"text-gray-500",children:"null"});if(void 0===e)return n.jsx("span",{className:"text-gray-500",children:"undefined"});if("object"!=typeof e){const t=String(e);return n.jsxs("span",{className:"string"==typeof e?"text-green-400":"text-blue-400",children:["string"==typeof e?'"':"",c(t),"string"==typeof e?'"':""]})}if(Array.isArray(e)&&0===e.length)return n.jsx("span",{className:"text-gray-400",children:"[]"});if(0===Object.keys(e).length&&!Array.isArray(e))return n.jsx("span",{className:"text-gray-400",children:"{}"});const d=Array.isArray(e),u=d?e:Object.entries(e);return n.jsxs("div",{className:`${i?"":"ml-4"} ${l&&t?"border-l-2 border-yellow-500 pl-2":""}`,children:[n.jsxs("div",{className:"flex items-center px-1 rounded cursor-pointer hover:bg-gray-800",onClick:()=>o(!r),children:[r?n.jsx(Vk,{className:"w-4 h-4 mr-1 text-gray-400"}):n.jsx(qk,{className:"w-4 h-4 mr-1 text-gray-400"}),n.jsx("span",{className:"text-gray-300",children:d?`Array(${u.length})`:`Object{${Object.keys(e).length}}`})]}),r&&n.jsx("div",{className:"ml-2",children:d?u.map((e,i)=>n.jsxs("div",{className:"flex",children:[n.jsxs("span",{className:"mr-2 text-gray-500",children:["[",i,"]:"]}),n.jsx(z$,{data:e,searchTerm:t,path:`${s}[${i}]`,defaultExpanded:l&&""!==t})]},`${s}.${i}`)):Object.entries(e).map(([e,i],a)=>n.jsxs("div",{className:"flex",children:[n.jsxs("span",{className:"mr-2 text-purple-400",children:['"',c(e),'":']}),n.jsx(z$,{data:i,searchTerm:t,path:`${s}.${e}`,defaultExpanded:l&&""!==t})]},`${s}.${e}`))})]})};function B$({isOpen:e,onOpenChange:t,containerId:s,message:i}){const{isMobile:a}=QE(),[r,o]=De.useState(!1),[l,c]=De.useState(null),[d,u]=De.useState(null),[p,m]=De.useState(""),[h,x]=De.useState("formatted");De.useEffect(()=>{const t=(null==i?void 0:i.request_id)||s;e&&t&&f()},[e,s,null==i?void 0:i.request_id]);const f=async()=>{const e=(null==i?void 0:i.request_id)||s;if(e){o(!0),c(null);try{const t=await Bp(e);u(t)}catch(t){c(t.message||"Failed to fetch debug information")}finally{o(!1)}}else c("No request ID or container ID available for debugging")},g=()=>{t(!1)},v=e=>{if(!e)return null;if("raw"===h){const t=JSON.stringify(e,null,2);if(!p)return n.jsx("pre",{className:"bg-[#1E1E1E] p-4 rounded-md overflow-auto h-full w-full text-sm",children:t});const s=new RegExp(`(${p.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")})`,"gi"),i=t.split(s);return n.jsx("pre",{className:"bg-[#1E1E1E] p-4 rounded-md overflow-auto h-full w-full text-sm",children:i.map((e,t)=>s.test(e)?n.jsx("span",{className:"text-white bg-yellow-500/30",children:e},t):n.jsx("span",{children:e},t))})}return n.jsx("div",{className:"bg-[#1E1E1E] p-4 rounded-md overflow-auto h-full w-full text-sm font-mono",children:n.jsx(z$,{data:e,searchTerm:p,isRoot:!0,defaultExpanded:!0})})},b=()=>n.jsx("div",{className:"flex-1 overflow-auto",children:r?n.jsxs("div",{className:"flex items-center justify-center h-64",children:[n.jsx(hS,{className:"w-8 h-8 animate-spin text-primary"}),n.jsx("span",{className:"ml-2",children:"Loading debug information..."})]}):l?n.jsx("div",{className:"p-4 text-red-500 rounded-md bg-red-500/10",children:l}):d?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"flex flex-col gap-4 px-4 mb-4",children:n.jsxs("div",{className:"relative flex items-center",children:[n.jsx(_S,{className:"absolute w-4 h-4 text-gray-400 transform -translate-y-1/2 left-3 top-1/2"}),n.jsx("input",{type:"text",placeholder:"Search in JSON...",className:"w-full pl-10 pr-4 py-2 bg-[#1E1E1E] border border-gray-700 rounded-md focus:outline-none focus:ring-1 focus:ring-blue-500",value:p,onChange:e=>m(e.target.value)}),n.jsx(aH,{showIcon:!0,iconOnly:!0,className:"ml-4 border-none bg-none",buttonClassName:yb({variant:"outline",size:"sm",className:"whitespace-nowrap rounded-lg  transition-all ease-in-out duration-200 bg-white/10 border-white/20 border hover:bg-white/20 hover:text-white text-white/40"}),value:JSON.stringify(d,null,2),tooltipText:"Copy",copiedTooltipText:"Copied",feedbackType:"tooltip",iconProps:{size:16},onCopy:()=>{}})]})}),n.jsxs(L$,{defaultValue:"raw",onValueChange:x,children:[n.jsxs(P$,{className:"grid w-full grid-cols-2",children:[n.jsx(R$,{value:"formatted",children:"Formatted"}),n.jsx(R$,{value:"raw",children:"Raw JSON"})]}),n.jsx(O$,{value:"formatted",className:"p-4 overflow-auto",children:v(d)}),n.jsx(O$,{value:"raw",className:"p-4 overflow-auto",children:v(d)})]})]}):n.jsx("div",{className:"flex items-center justify-center h-64 text-gray-400",children:"No debug information available"})});return a?n.jsx(VI,{trigger:n.jsx("div",{}),title:`Debug Information for ${(null==i?void 0:i.request_id)||s}`,open:e,onOpenChange:t,maxWidth:"max-w-full",showDefaultFooter:!1,footer:n.jsx("div",{className:"flex justify-end w-full",children:n.jsx(wb,{onClick:g,children:"Close"})}),children:n.jsx("div",{className:"h-[80vh] flex flex-col",children:b()})}):n.jsx(_A,{open:e,onOpenChange:t,children:n.jsxs(AA,{className:"sm:max-w-[90vw] h-[90vh] flex flex-col",children:[n.jsx(TA,{children:n.jsxs(MA,{children:["Debug Information for ",(null==i?void 0:i.request_id)||s]})}),b(),n.jsx(DA,{children:n.jsx(wb,{onClick:g,children:"Close"})})]})})}const H$=gv.icons.history,$$=({isHovered:e,handleRollback:t,message:s,isCloudFlow:i,className:a,hideImportantActions:r,forkStatus:o,onCopy:l,agentStatus:c,podIsPaused:d=!1})=>{const u=eI(),[p,m]=De.useState(!1),{isMobile:h}=QE(),x=()=>d?"Please wake up the agent before rolling back":"subagent_running"===c?"Please wait for the subagent to finish before rolling back":"subagent_stopping"===c?"Can't rollback at the moment - Subagent is stopping":"subagent_waiting"===c?"Please finish the subagent before rolling back":"running"===c?"Can't rollback at the moment - Agent is running":"";return n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:fb("inline-flex items-center gap-2",e?"opacity-100 pointer-events-auto":"opacity-0 absolute pointer-events-none",a),children:[s.enable_rollback&&!r&&"running"!==o&&n.jsx(EE,{children:n.jsxs(IE,{delayDuration:0,children:[n.jsx(AE,{asChild:!0,children:n.jsxs("button",{type:"button",className:`p-[6px] ${h?"":" pr-[10px]"} bg-[#222224] hover:bg-[#3c3c40] text-[#7B7B80] disabled:opacity-50 hover:text-[#ccc] flex items-center space-x-1 rounded-lg transition-colors`,onClick:()=>{t&&"waiting"===c&&t()},disabled:d||"waiting"!==c,children:[n.jsx("div",{className:"flex items-center justify-center w-5 h-5",children:n.jsx("img",{src:H$,className:"w-4 h-4 text-[#5C5F66]",alt:"Rollback"})}),!h&&n.jsx("span",{className:"text-[15px] leading-[20px] font-['Inter'] font-medium",children:"Rollback"})]})}),n.jsx(TE,{className:fb("bg-[#272829]/95 backdrop-blur-md border-[#2E2F34] text-white shadow-lg",x()?"":"hidden"),children:x()})]})}),u&&(s.containerId||s.request_id)&&!h&&n.jsx("button",{type:"button",className:"p-[6px] pr-[10px] bg-[#222224] hover:bg-[#3c3c40] text-[#7B7B80] hover:text-[#ccc] flex items-center space-x-1 rounded-lg transition-colors",onClick:()=>{m(!0)},children:n.jsx("div",{className:"flex items-center justify-center w-5 h-5",children:n.jsx(Bk,{className:"w-4 h-4 text-[#5C5F66]"})})}),n.jsx(aH,{value:()=>s.action?[s.content,s.action&&`\nAction: ${s.action}`,s.observation&&`\nObservation: ${s.observation}`,s.thought&&`\nThought: ${s.thought}`].filter(Boolean).join(""):s.content,feedbackType:"icon-text",defaultText:h?"":"Copy",copiedText:"Copied",showIcon:!0,onCopy:e=>{l&&l()},copiedClassName:"",buttonClassName:"p-[6px] bg-white/5 hover:bg-white/15 text-[15px] font-inter font-medium  text-white/50 hover:text-white flex items-center space-x-1 rounded-lg transition-colors",iconProps:{size:16,className:"text-white/60"},className:"max-h-full bg-none"})]}),n.jsx(B$,{isOpen:p,onOpenChange:m,containerId:s.containerId||s.request_id,message:s})]})},U$=(e,t=80)=>e.split(" ").some(e=>e.length>t),V$=[{pattern:/\b(API key|api key|API_KEY|apikey)\s+([\w\-\.]{20,})/gi,type:"API_KEY"},{pattern:/\b(secondary key|primary key|access key|secret key)\s+([\w\-\.]{20,})/gi,type:"KEY"},{pattern:/\b(database password|db password)\s+([\w\-\.&@!#%^*()+=]{3,})/gi,type:"PASSWORD"},{pattern:/\b(password|pwd)\s+([a-zA-Z0-9\-_\.&@!#%^*()+=]{6,})/gi,type:"PASSWORD"},{pattern:/(mongodb(\+srv)?:\/\/[^\s]+:[^\s]+@[^\s]+)/g,type:"CONNECTION_STRING"},{pattern:/(postgres:\/\/[^\s]+:[^\s]+@[^\s]+)/g,type:"CONNECTION_STRING"},{pattern:/(mysql:\/\/[^\s]+:[^\s]+@[^\s]+)/g,type:"CONNECTION_STRING"},{pattern:/(redis:\/\/[^\s]+:[^\s]+@[^\s]+)/g,type:"CONNECTION_STRING"},{pattern:/([a-zA-Z]+:\/\/[^:\s]+:[^@\s]+@[^\s]+)/g,type:"CONNECTION_STRING"},{pattern:/\b([a-fA-F0-9]{40,64})\b/g,type:"HASH"},{pattern:/(eyJ[a-zA-Z0-9_-]{10,}\.[a-zA-Z0-9_-]{10,}\.[a-zA-Z0-9_-]{10,})/g,type:"JWT"},{pattern:/\b([a-zA-Z0-9_-]+)?api[_-]?key["']?\s*[:=]\s*["']?([\w\-\.]{20,})["']?/gi,type:"API_KEY"},{pattern:/\b([a-zA-Z0-9_-]+)?token["']?\s*[:=]\s*["']?([\w\-\.]{20,})["']?/gi,type:"TOKEN"},{pattern:/\b([a-zA-Z0-9_-]+)?secret["']?\s*[:=]\s*["']?([\w\-\.]{20,})["']?/gi,type:"SECRET"},{pattern:/\b([a-zA-Z0-9_-]+)?password["']?\s*[:=]\s*["']?([\w\-\.]{6,})["']?/gi,type:"PASSWORD"},{pattern:/\bAKIA[0-9A-Z]{16}/g,type:"AWS_KEY"},{pattern:/\bTr0ub4dor&3\b/g,type:"PASSWORD"}],W$=(e,t,n,s="")=>{const i=/^[\s]*[{}\[\]()=><;.]|^[\s]*\w+\(|^\`\`\`/.test(e);return["my-1 overflow-hidden",t||i?"font-mono text-sm":n?"text-[#cfe3e6] font-['Inter'] text-[16px] leading-[28px] font-normal":"text-[#dcdce5] font-['Inter'] text-[16px] leading-[28px] font-normal",U$(e)?"break-words":"",s].filter(Boolean).join(" ")},q$=e=>U$(e)?{wordBreak:"break-word"}:{},G$=({originalText:e,truncatedText:t,className:s})=>{const i=t||Z$(e);return n.jsx(EE,{children:n.jsxs(IE,{children:[n.jsx(AE,{asChild:!0,children:n.jsx("span",{className:fb("cursor-help border-b border-dotted border-gray-500",s),children:i})}),n.jsx(TE,{children:n.jsx("span",{className:"font-mono text-xs break-all",children:e})})]})})},Z$=e=>{if(!e||e.length<=8)return e;return`${e.substring(0,3)}...${e.substring(e.length-3)}`},Y$=(e,t,s,i=!1,a=[],r=0)=>{const o=/^[\s]*[{}\[\]()=><;.]|^[\s]*\w+\(|^\`\`\`/.test(e),l=i&&a?a.filter(t=>{const n=t.startIndex-r,s=t.endIndex-r;return n<e.length&&s>0}).map(t=>({startIndex:Math.max(0,t.startIndex-r),endIndex:Math.min(e.length,t.endIndex-r)})):[],c=(e=>{const t=[];return V$.forEach(({pattern:n,type:s})=>{let i;const a=new RegExp(n.source,n.flags);for(;null!==(i=a.exec(e));){const e=i[0],n=i.index,a=n+e.length;let r=e;if(i.length>1){const a=i[i.length-1];if(a&&e.includes(a)){r=a;const i=e.indexOf(a);if(-1!==i){const e=n+i,r=e+a.length;t.push({originalText:a,startIndex:e,endIndex:r,type:s});continue}}}t.push({originalText:r,startIndex:n,endIndex:a,type:s})}}),t.sort((e,t)=>e.startIndex-t.startIndex)})(e);if(0===c.length&&(!i||0===l.length))return n.jsx("p",{className:fb(W$(e,o,s)),style:q$(e),children:e},t);const d=J$([...c.map(e=>({type:"sensitive",content:e.originalText,startIndex:e.startIndex,endIndex:e.endIndex})),...l.map(t=>({type:"highlight",content:e.substring(t.startIndex,t.endIndex),startIndex:t.startIndex,endIndex:t.endIndex}))],e);return n.jsx("p",{className:fb(W$(e,o,s)),style:q$(e),children:d.map((e,s)=>"text"===e.type?e.content:"sensitive"===e.type?n.jsx(G$,{originalText:e.content},`sensitive-${t}-${s}`):n.jsx("span",{className:"bg-[#ffff4d] text-black rounded px-0.5",children:e.content},`highlight-${t}-${s}`))},t)},K$=(e,t=[])=>{if(!t||0===t.length)return e;const s=[];let i=0;return[...t].sort((e,t)=>e.startIndex-t.startIndex).forEach((t,a)=>{t.startIndex>i&&s.push(e.substring(i,t.startIndex)),s.push(n.jsx("span",{className:"bg-yellow-500/30 rounded px-0.5",children:e.substring(t.startIndex,t.endIndex)},`highlight-${a}`)),i=t.endIndex}),i<e.length&&s.push(e.substring(i)),n.jsx(n.Fragment,{children:s})},J$=(e,t)=>{if(0===e.length)return[{type:"text",content:t,startIndex:0,endIndex:t.length}];const n=[...e].sort((e,t)=>e.startIndex-t.startIndex),s=[];let i=0;for(const a of n)a.startIndex>i&&s.push({type:"text",content:t.substring(i,a.startIndex),startIndex:i,endIndex:a.startIndex}),a.startIndex>=i&&(s.push(a),i=a.endIndex);return i<t.length&&s.push({type:"text",content:t.substring(i),startIndex:i,endIndex:t.length}),s},Q$=e=>{const t=e.split("\n"),n=[];let s=0;return t.forEach((e,i)=>{n.push(s),s+=e.length+(i<t.length-1?1:0)}),n},X$=({size:e=24,color:t="white",accentColor:s="#2EE572",className:i=""})=>n.jsxs("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:i,children:[n.jsx("path",{d:"M5.8 4.8498V10.2723V10.2498V19.2498V4.8498ZM7.6 13.8498H10.75C10.885 13.5048 11.05 13.1823 11.245 12.8823C11.44 12.5823 11.665 12.3048 11.92 12.0498H7.6V13.8498ZM7.6 17.4498H10.4575C10.3825 17.1498 10.3338 16.8498 10.3113 16.5498C10.2888 16.2498 10.2925 15.9498 10.3225 15.6498H7.6V17.4498ZM5.8 21.0498C5.305 21.0498 4.88125 20.8736 4.52875 20.5211C4.17625 20.1686 4 19.7448 4 19.2498V4.8498C4 4.3548 4.17625 3.93105 4.52875 3.57855C4.88125 3.22605 5.305 3.0498 5.8 3.0498H13L18.4 8.4498V10.6998C18.115 10.5798 17.8225 10.4861 17.5225 10.4186C17.2225 10.3511 16.915 10.3023 16.6 10.2723V9.3498H12.1V4.8498H5.8V19.2498H11.2225C11.4625 19.6098 11.7325 19.9436 12.0325 20.2511C12.3325 20.5586 12.6625 20.8248 13.0225 21.0498H5.8ZM16.15 18.3498C16.78 18.3498 17.3125 18.1323 17.7475 17.6973C18.1825 17.2623 18.4 16.7298 18.4 16.0998C18.4 15.4698 18.1825 14.9373 17.7475 14.5023C17.3125 14.0673 16.78 13.8498 16.15 13.8498C15.52 13.8498 14.9875 14.0673 14.5525 14.5023C14.1175 14.9373 13.9 15.4698 13.9 16.0998C13.9 16.7298 14.1175 17.2623 14.5525 17.6973C14.9875 18.1323 15.52 18.3498 16.15 18.3498ZM20.74 21.9498L18.31 19.5198C17.995 19.7298 17.6537 19.8873 17.2862 19.9923C16.9187 20.0973 16.54 20.1498 16.15 20.1498C15.025 20.1498 14.0687 19.7561 13.2812 18.9686C12.4937 18.1811 12.1 17.2248 12.1 16.0998C12.1 14.9748 12.4937 14.0186 13.2812 13.2311C14.0687 12.4436 15.025 12.0498 16.15 12.0498C17.275 12.0498 18.2312 12.4436 19.0187 13.2311C19.8062 14.0186 20.2 14.9748 20.2 16.0998C20.2 16.4898 20.1475 16.8686 20.0425 17.2361C19.9375 17.6036 19.78 17.9448 19.57 18.2598L22 20.6898L20.74 21.9498Z",fill:t}),n.jsx("path",{d:"M16.1516 18.3498C16.7816 18.3498 17.3141 18.1323 17.7491 17.6973C18.1841 17.2623 18.4016 16.7298 18.4016 16.0998C18.4016 15.4698 18.1841 14.9373 17.7491 14.5023C17.3141 14.0673 16.7816 13.8498 16.1516 13.8498C15.5216 13.8498 14.9891 14.0673 14.5541 14.5023C14.1191 14.9373 13.9016 15.4698 13.9016 16.0998C13.9016 16.7298 14.1191 17.2623 14.5541 17.6973C14.9891 18.1323 15.5216 18.3498 16.1516 18.3498ZM20.7416 21.9498L18.3116 19.5198C17.9966 19.7298 17.6553 19.8873 17.2878 19.9923C16.9203 20.0973 16.5416 20.1498 16.1516 20.1498C15.0266 20.1498 14.0703 19.7561 13.2828 18.9686C12.4953 18.1811 12.1016 17.2248 12.1016 16.0998C12.1016 14.9748 12.4953 14.0186 13.2828 13.2311C14.0703 12.4436 15.0266 12.0498 16.1516 12.0498C17.2766 12.0498 18.2328 12.4436 19.0203 13.2311C19.8078 14.0186 20.2016 14.9748 20.2016 16.0998C20.2016 16.4898 20.1491 16.8686 20.0441 17.2361C19.9391 17.6036 19.7816 17.9448 19.5716 18.2598L22.0016 20.6898L20.7416 21.9498Z",fill:s})]}),eU=gv.deployment.logs,tU=gv.deployment.logWithError,nU=gv.deployment.mdiCheckAll,sU=gv.upload.blueCheck,iU=De.memo(({message:e,handleRollback:t,isCloudFlow:s,searchActive:i=!1,searchHighlights:a=[],isSubagent:r=!1,isMatchingMessage:o=!1,hideImportantActions:l=!1,podIsPaused:c=!1})=>{const[d,u]=De.useState(!1),[p,m]=De.useState(!1),h=De.useRef(null);De.useEffect(()=>{o&&i&&!d&&u(!0)},[o,i,d]);const{cleanContent:x,logs:f,hasLogs:g,hasError:v,assetShared:b,autoAnswered:y,isHealthCheck:w,isVisualEdit:j,visualEditCount:C,visualEditDetails:N}=(e=>{const t=e.split(hv),n=e.includes("USER SHARED ASSETS WITH AGENT"),s=e.includes("Assume Default and Proceed"),i="Call Deployer Agent and Run Health Check to Check for Readiness for Deployment"===e,a=e.includes("VISUAL_EDIT_NOTIFICATION");let r=0,o="";if(a){const t=e.split("|||");t.length>=4&&(r=parseInt(t[1])||0,o=t[2]||"")}return 3===t.length?{cleanContent:"",logs:t[1].split("\n").filter(e=>""!==e.trim()),hasLogs:!0,hasError:t[1].toLowerCase().includes("error")||t[1].toLowerCase().includes("failed")||t[1].toLowerCase().includes("exception")||t[1].toLowerCase().includes("fatal")||t[1].toLowerCase().includes("critical"),assetShared:n,autoAnswered:s,isHealthCheck:i,isVisualEdit:a,visualEditCount:r,visualEditDetails:o}:{cleanContent:e,logs:[],hasLogs:!1,hasError:!1,assetShared:n,autoAnswered:s,isHealthCheck:i,isVisualEdit:a,visualEditCount:r,visualEditDetails:o}})(e.content),{content:F,isAutoResponse:_}=((e,t)=>{if("user"!==t)return{content:e,isAutoResponse:!1};const n=e.match(/<auto_response>([\s\S]*?)<\/auto_response>/);return n?{content:n[1].trim(),isAutoResponse:!0}:{content:e,isAutoResponse:!1}})(x,e.role),k=((e,t)=>{if("user"!==t)return e;const n=e.includes("User has recorded a test case"),s=e.match(/<reported_bug>([\s\S]*?)<\/reported_bug>/);return n&&s?s[1].trim():e})(F,e.role),S=Q$(k),E=k.split("\n");return n.jsx("div",{onMouseEnter:()=>m(!0),onMouseLeave:()=>m(!1),className:fb("relative group flex justify-center","mb-0"),ref:h,id:e.id,children:n.jsxs("div",{className:fb("my-4 md:my-8 group flex flex-col space-y-[10px] w-full  md:max-w-4xl md:pl-12 justify-end items-end "),children:[n.jsx(M$,{base64Images:e.base64_image_list,artifacts:e.artifacts,artifactSharedData:e.artifact_shared_data,className:"justify-end"}),n.jsx("div",{className:fb("px-4 py-1 rounded-xl rounded-br-none overflow-hidden space-y-[10px] flex items-end","user"===e.role?"bg-[#273638] max-4-xl w-4xl":"",g||b||y||w||j||_?"hidden":""),style:{background:"radial-gradient(50% 50% at 50% 50%, rgba(128, 255, 249, 0.16) 0%, rgba(128, 255, 249, 0.08) 100%)"},children:n.jsx("div",{className:"flex items-start gap-3",children:n.jsx("div",{className:"flex-1 min-w-0",children:n.jsx("div",{className:"prose prose-invert max-w-none",children:"user"===e.role?E.map((e,t)=>Y$(e,t,!0,i,a,S[t])):d||o&&i?E.map((e,t)=>Y$(e,t,!1,i,a,S[t])):n.jsx("p",{className:"text-[#CCEEFF] font-['Inter'] text-[15px] leading-6 font-normal",children:i&&a&&a.length>0?K$(E[0],a.filter(e=>e.startIndex<E[0].length)):E[0]})})})})}),g&&n.jsxs("div",{className:"bg-[#1E1E1F] rounded-[10px] p-3 flex max-md:w-full md:min-w-[65%]  md:gap-3 items-center justify-between",style:{background:"radial-gradient(50% 50% at 50% 50%, rgba(128, 255, 249, 0.16) 0%, rgba(128, 255, 249, 0.08) 100%)"},children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("img",{src:v?tU:eU,alt:"Logs",className:"w-6 h-6"}),n.jsxs("span",{className:"max-md:text-[14px]",children:["Build ",v?"Error":""," Logs shared with agent"]})]}),n.jsxs("div",{className:"flex items-center gap-3 max-md:hidden",children:[n.jsxs("span",{className:"text-[#FFFFFF80] max-md:text-[10px]",children:[f.length," log entries"]}),n.jsx("div",{className:"w-1 h-1 rounded-full bg-[#FFFFFF33]"}),n.jsx("img",{src:nU,alt:"Check",className:"w-4 h-4 md:w-6 md:h-6"})]})]}),b&&n.jsxs("div",{className:"bg-[#80FFF90D] rounded-[10px] p-3 flex rounded-br-[0px]  md:gap-3 items-center justify-between",style:{background:"radial-gradient(50% 50% at 50% 50%, rgba(128, 255, 249, 0.16) 0%, rgba(128, 255, 249, 0.08) 100%)"},children:[n.jsx("div",{className:"flex items-center gap-2",children:n.jsx("span",{className:"max-md:text-[14px] font-medium text-[#80FFF9E5]",children:"Assets Shared with Agent"})}),n.jsx("img",{src:sU,alt:"Check",className:"w-4 h-4 md:w-6 md:h-6"})]}),y&&n.jsxs("div",{className:"bg-[#80FFF90D] rounded-[10px] p-3 flex rounded-br-[0px] md:gap-3 items-center justify-between",style:{background:"radial-gradient(50% 50% at 50% 50%, rgba(128, 255, 249, 0.16) 0%, rgba(128, 255, 249, 0.08) 100%)"},children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx($H,{color:"#80FFF9",size:24}),n.jsx("span",{className:"max-md:text-[14px] font-medium text-[#80FFF9E5]",children:"Auto Answered"})]}),n.jsx("img",{src:sU,alt:"Check",className:"w-4 h-4 md:w-6 md:h-6"})]}),w&&n.jsxs("div",{className:"bg-[#80FFF90D] rounded-[10px] p-3 flex rounded-br-[0px] md:gap-3 items-center justify-between",style:{background:"radial-gradient(50% 50% at 50% 50%, rgba(128, 255, 249, 0.16) 0%, rgba(128, 255, 249, 0.08) 100%)"},children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(X$,{size:24,accentColor:"#80FFF9"}),n.jsx("span",{className:"max-md:text-[14px] font-medium text-[#80FFF9]",children:"Running Health Check"})]}),n.jsx("img",{src:sU,alt:"Check",className:"w-4 h-4 md:w-6 md:h-6"})]}),j&&n.jsxs("div",{className:"bg-[#80FFF90D] rounded-[10px] p-3 flex rounded-br-[0px] md:gap-3 items-center justify-between",style:{background:"radial-gradient(50% 50% at 50% 50%, rgba(128, 255, 249, 0.16) 0%, rgba(128, 255, 249, 0.08) 100%)"},children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("svg",{width:"20",height:"20",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.24748 5.23582C6.44259 5.2128 6.64037 5.24142 6.82267 5.31687L6.82365 5.3159L15.2846 8.77683L15.4281 8.84715C15.5653 8.92714 15.6848 9.03498 15.7787 9.16355L15.8295 9.23972L15.8735 9.31882C15.9702 9.50791 16.013 9.72113 15.9965 9.93406C15.9775 10.1772 15.8824 10.4088 15.724 10.5942C15.5656 10.7794 15.3517 10.9087 15.1147 10.9653V10.9663L11.7699 11.7671L10.9701 15.1128C10.9138 15.3496 10.7837 15.5626 10.599 15.7212C10.4133 15.8805 10.181 15.9765 9.93693 15.9956C9.69289 16.0146 9.44886 15.9553 9.24064 15.8266C9.03263 15.698 8.87085 15.5063 8.77873 15.2798L5.31779 6.82078L5.31877 6.8198C5.23249 6.61111 5.20827 6.38147 5.25138 6.15965L5.27092 6.07664C5.32356 5.88376 5.42572 5.70699 5.56779 5.56492L5.63029 5.5073C5.78178 5.3768 5.96529 5.28688 6.16252 5.24851L6.24748 5.23582ZM9.75041 13.5942L10.2738 11.4087V11.4077C10.3402 11.1318 10.4822 10.8797 10.683 10.6792C10.8839 10.4786 11.1364 10.3369 11.4125 10.271L13.5951 9.74754L7.0883 7.08543L9.75041 13.5942ZM3.13517 7.77488C3.42776 7.46696 3.91511 7.45498 4.22306 7.74754C4.5306 8.04012 4.54275 8.52661 4.25041 8.83445L2.78947 10.3725C2.4969 10.6805 2.01052 10.6924 1.70256 10.3999C1.39462 10.1073 1.38167 9.62093 1.67424 9.31297L3.13517 7.77488ZM0.0277509 4.40965C0.140698 4.00021 0.564602 3.7597 0.97404 3.87254L3.20451 4.48777C3.61397 4.60075 3.85457 5.02458 3.74162 5.43406C3.62853 5.84338 3.20473 6.08313 2.79533 5.97019L0.56486 5.35496C0.155728 5.24186 -0.0849285 4.81889 0.0277509 4.40965ZM9.31779 1.67234C9.62571 1.37982 10.1121 1.39187 10.4047 1.69968C10.6972 2.00753 10.685 2.49398 10.3774 2.7866L8.8383 4.24851C8.5304 4.54073 8.0439 4.52879 7.75138 4.22117C7.45881 3.91319 7.47173 3.42585 7.7797 3.13328L9.31779 1.67234ZM4.41154 0.0278093C4.8209 -0.085006 5.24479 0.155625 5.35783 0.564919L5.97306 2.79539C6.08592 3.20475 5.84523 3.6286 5.43595 3.74168C5.02656 3.85445 4.60262 3.61394 4.48967 3.20457L3.87443 0.974098C3.7616 0.564688 4.00216 0.140791 4.41154 0.0278093Z",fill:"#80FFF9E5"})}),n.jsx("span",{className:"max-md:text-[14px] font-medium text-[#80FFF9E5]",children:"Visually edited few files"})]}),n.jsx("img",{src:sU,alt:"Check",className:"w-4 h-4 md:w-6 md:h-6"})]}),_&&n.jsxs("div",{className:"bg-[#80FFF90D] rounded-[10px] px-4 py-3 flex flex-col rounded-br-[0px] gap-2",style:{background:"radial-gradient(50% 50% at 50% 50%, rgba(128, 255, 249, 0.16) 0%, rgba(128, 255, 249, 0.08) 100%)"},children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx($H,{color:"#80FFF999",size:16}),n.jsx("span",{className:" text-[14px] text-[#80FFF999]",children:"Auto Answered"})]}),n.jsx("div",{className:"prose prose-invert max-w-none",children:E.map((e,t)=>Y$(e,t,!0,i,a,S[t]))})]}),n.jsxs("div",{className:fb("transition-opacity duration-200 h-5 text-right","opacity-100"),children:[n.jsx("div",{className:fb("inline-flex items-center gap-2 text-[#5C5F66]",p?"opacity-0 pointer-events-none absolute":"opacity-100"),children:n.jsx("span",{className:"font-['Berkeley Mono Trial'] text-[13px]  md:text-[15px] leading-[20px]",children:dT(e.timestamp)})}),n.jsx("div",{className:"relative",children:n.jsx($$,{isHovered:p,message:e,handleRollback:t,isCloudFlow:s||!1,onCopy:async()=>{try{await navigator.clipboard.writeText(e.content)}catch(t){}},podIsPaused:c,className:fb("inline-flex items-center gap-1",p?"opacity-100 pointer-events-auto":"opacity-0 absolute pointer-events-none"),hideImportantActions:l})})]})]})})},(e,t)=>e.message.id===t.message.id&&JSON.stringify(e.message.artifacts)===JSON.stringify(t.message.artifacts)&&e.message.content===t.message.content&&e.message.timestamp===t.message.timestamp&&e.searchActive===t.searchActive&&e.isMatchingMessage===t.isMatchingMessage&&JSON.stringify(e.searchHighlights)===JSON.stringify(t.searchHighlights)),aU=de,rU=ue,oU=De.forwardRef(({className:e,align:t="center",sideOffset:s=4,...i},a)=>n.jsx(le,{children:n.jsx(ce,{ref:a,align:t,sideOffset:s,className:fb("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...i})}));function lU({isOpen:e,onOpenChange:t,chatId:s}){const[i,a]=De.useState(!1),[r,o]=De.useState(!1),[l,c]=De.useState(null),[d,u]=De.useState(null),[p,m]=De.useState(""),[h,x]=De.useState(""),{toast:f}=on();De.useEffect(()=>{e&&s&&(x(s),g(s))},[e,s]);const g=async(e=h)=>{if(e){a(!0),c(null);try{const t=await $p(e),n=t.data?t.data:t;u(n),m(JSON.stringify(n.chat_history,null,2))}catch(t){c(t.message||"Failed to fetch chat history")}finally{a(!1)}}};return n.jsx(_A,{open:e,onOpenChange:t,children:n.jsxs(AA,{className:"sm:max-w-[90vw] h-[90vh] overflow-hidden flex flex-col",children:[n.jsx(TA,{children:n.jsx(MA,{children:"Edit Chat History"})}),n.jsx("div",{className:"mb-4",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx(qA,{htmlFor:"chat-id",className:"text-sm font-medium",children:"Chat ID"}),n.jsx(qS,{id:"chat-id",value:h,onChange:e=>{x(e.target.value)},className:"font-mono text-sm"})]}),n.jsx("div",{className:"pt-6",children:n.jsx(wb,{onClick:()=>{h&&g(h)},variant:"default",size:"sm",disabled:i||!h,children:i?n.jsxs(n.Fragment,{children:[n.jsx(hS,{className:"w-4 h-4 mr-2 animate-spin"}),"Loading..."]}):"Fetch"})})]})}),n.jsx("div",{className:"flex-1 overflow-hidden",children:i?n.jsxs("div",{className:"flex items-center justify-center h-64",children:[n.jsx(hS,{className:"w-8 h-8 animate-spin text-primary"}),n.jsx("span",{className:"ml-2",children:"Loading chat history..."})]}):l?n.jsx("div",{className:"p-4 text-red-500 rounded-md bg-red-500/10",children:l}):d?n.jsxs(L$,{defaultValue:"edit",children:[n.jsxs(P$,{className:"grid w-full grid-cols-2",children:[n.jsx(R$,{value:"edit",children:"Edit"}),n.jsx(R$,{value:"view",children:"View"})]}),n.jsx(O$,{value:"edit",className:"p-4 overflow-auto",children:n.jsx("textarea",{id:"chat-history",title:"Chat History",className:"w-full h-[60vh] p-4 bg-[#1E1E1E] text-white font-mono text-sm rounded-md focus:outline-none focus:ring-1 focus:ring-blue-500",value:p,onChange:e=>m(e.target.value),spellCheck:"false"})}),n.jsx(O$,{value:"view",className:"p-4 overflow-auto",children:n.jsx("div",{className:"bg-[#1E1E1E] p-4 rounded-md overflow-auto max-h-[60vh] text-sm",children:n.jsx("pre",{className:"font-mono text-white",children:JSON.stringify(d,null,2)})})})]}):n.jsx("div",{className:"flex items-center justify-center h-64 text-gray-400",children:"No chat history available"})}),n.jsxs(DA,{children:[n.jsx(wb,{onClick:()=>t(!1),variant:"outline",disabled:r,children:"Cancel"}),n.jsx(wb,{onClick:async()=>{if(h){o(!0),c(null);try{let n;try{n=JSON.parse(p)}catch(e){throw new Error("Invalid JSON format")}const s=await Up(h,{chat_history:n}),i=s.data?s.data:s;u(i),f({title:"Success",description:"Chat history updated successfully"}),t(!1)}catch(n){c(n.message||"Failed to update chat history"),f({title:"Error",description:n.message||"Failed to update chat history",variant:"destructive"})}finally{o(!1)}}},disabled:i||r||!d,children:r?n.jsxs(n.Fragment,{children:[n.jsx(hS,{className:"w-4 h-4 mr-2 animate-spin"}),"Saving..."]}):"Save Changes"})]})]})})}oU.displayName=ce.displayName;const cU=({jobId:e,tabId:t,silent:n=!1,pollingInterval:s=1e4,enabled:i=!0})=>{const a=jt(),{getCurrentOrganizationId:r}=Kg(),{setTabs:o,state:{activeTab:l,tabs:c}}=Oee(),[d,u]=De.useState([]),[p,m]=De.useState(null),h=wt(e=>((e,t)=>{var n;return null==(n=e.tabs.tabStates[t])?void 0:n.deployState})(e,t)),x=wt(ku),f=r(),{data:g,error:v,isLoading:b,isError:y,refetch:w}=qx({jobId:e,silent:n,organization_id:f},{skip:!i||!e,pollingInterval:i&&e&&("running"===(null==h?void 0:h.deployStatus)||"running"===(null==h?void 0:h.latestRunStatus))?s:0,refetchOnMountOrArgChange:!0});(()=>{var e;for(let n=0;n<c.length;++n)if(c[n].id===t)return void(!(null==(e=c[n])?void 0:e.tabHeading)&&(null==g?void 0:g.app_name)&&o(e=>e.map(e=>e.id===t?{...e,tabHeading:g.app_name||e.tabHeading}:e)))})();const[j,{isLoading:C,error:N}]=Gx(),[F]=Jx(),[_]=Qx(),[k]=Xx(),[S]=ef(),[E]=Zx(),[I]=tf(),[A]=Yx(),{data:T,refetch:D}=nf({jobId:e,organization_id:f},{skip:!e}),[M]=sf(),{refetch:L}=af(f?{organization_id:f}:void 0),P=i&&e&&(null==h?void 0:h.deployStatus)&&"not_deployed"!==h.deployStatus&&"loading"!==h.deployStatus&&"running"!==h.latestRunStatus,{data:R}=Kx({jobId:e,organization_id:f},{skip:!P,refetchOnMountOrArgChange:!0});De.useEffect(()=>{var n,s;if(!g||!e)return;let i=g.status;g.latest_run&&"running"===g.latest_run.status?i="running":g.latest_run&&g.latest_run.status&&"success"===g.status&&(i="pending"===g.latest_run.status?"loading":g.latest_run.status);let r=-1;if(g.latest_run&&g.latest_run.steps&&Array.isArray(g.latest_run.steps))if("running"===g.status&&g.latest_run.steps.every(e=>"pending"===e.status))r=0;else{const e=g.latest_run.steps.findIndex(e=>"running"===e.status);if(-1!==e)r=e;else{for(let e=0;e<g.latest_run.steps.length-1;e++)if("success"===g.latest_run.steps[e].status&&"pending"===g.latest_run.steps[e+1].status){r=e+1;break}if(-1===r){const e=g.latest_run.steps.findIndex(e=>"pending"===e.status);-1!==e?r=e:"success"===g.status&&(r=g.latest_run.steps.length-1)}}}let o=null,l="";if(g.custom_domain&&""!==g.custom_domain.domain&&g.custom_domain.status&&g.custom_domain.dns_records&&(o={domain:g.custom_domain.domain,status:g.custom_domain.status,dns_records:Array.isArray(g.custom_domain.dns_records)?g.custom_domain.dns_records:[g.custom_domain.dns_records]},"verified"===g.custom_domain.status)){const e=g.custom_domain.domain;l=e.startsWith("http")?e:`https://${e}`}const c={deployStatus:i,latestRunStatus:(null==(n=g.latest_run)?void 0:n.status)||null,loading:b,deploymentSteps:(null==(s=g.latest_run)?void 0:s.steps)||(null==h?void 0:h.deploymentSteps)||[],currentStepIndex:r,deployUrl:g.deploy_url||(null==h?void 0:h.deployUrl)||"",customDomainUrl:l,customDomain:o,runId:g.latest_run&&g.latest_run.run_id&&"success"===g.latest_run.status?g.latest_run.run_id:g.deployed_run_id||(null==h?void 0:h.runId)||"",errorMessage:null};a(Nu({tabId:t,deployState:c}))},[g,e,t,a,null==h?void 0:h.deploymentSteps,null==h?void 0:h.deployUrl,null==h?void 0:h.runId,b]),De.useEffect(()=>{if(!R||!e)return;const n=R.runs||[];a(Nu({tabId:t,deployState:{deploymentHistory:n}}))},[R,e,t,a]),De.useEffect(()=>{e&&i&&("running"===(null==h?void 0:h.deployStatus)||"running"===(null==h?void 0:h.latestRunStatus)?w():"success"!==(null==h?void 0:h.deployStatus)&&"failed"!==(null==h?void 0:h.deployStatus)||w().then(()=>{null==h||h.deployStatus}).catch(e=>{}))},[null==h?void 0:h.deployStatus,null==h?void 0:h.latestRunStatus,e,i,w]),De.useEffect(()=>{if(y&&v&&!n){let e="Failed to get deployment status";if("data"in v){const t=v.data;(null==t?void 0:t.detail)?e=t.detail:(null==t?void 0:t.message)?e=t.message:(null==t?void 0:t.error)&&(e=t.error)}else"message"in v&&v.message&&(e=v.message);e.includes("Rate limited")||a(Nu({tabId:t,deployState:{errorMessage:e,loading:!1}}))}},[y,v,n,t,a]),De.useEffect(()=>{x===t&&p!==t&&i&&e&&(w(),D&&D(),L()),m(x)},[x,t,p,i,e,w,D,L]);const O=De.useCallback(()=>{a(Nu({tabId:t,deployState:{deployStatus:"not_deployed",latestRunStatus:null,loading:!1,deploymentSteps:[],currentStepIndex:-1,deployUrl:"",customDomainUrl:"",runId:"",errorMessage:null,customDomain:null,deployLogs:{}}}))},[t,a]),z=De.useCallback(async e=>{if(e.jobId)try{a(Nu({tabId:t,deployState:{loading:!0,errorMessage:null}}));const n={jobId:e.jobId,image:e.image,deployment_id:e.deployment_id,acknowledgements:e.acknowledgements,db_mode:e.db_mode,organization_id:f};await j(n).unwrap(),a(Nu({tabId:t,deployState:{deployStatus:"running",latestRunStatus:"running",loading:!1,deploymentSteps:[],currentStepIndex:-1,errorMessage:null}})),rn({title:"Deployment Started",description:"Your application deployment has been initiated successfully.",variant:"default",duration:3e3})}catch(n){const e=(null==n?void 0:n.error)||"Failed to deploy application";throw a(Nu({tabId:t,deployState:{deployStatus:"not_deployed",latestRunStatus:null,loading:!1,errorMessage:e}})),rn({title:"Deployment Error",description:e,variant:"destructive",duration:5e3}),n}else rn({title:"Deploy Error",description:"No job ID provided",variant:"destructive",duration:2e3})},[j,t,a,f]),B=De.useCallback(async(e,t)=>{try{return await F({domain:e,jobId:t,organization_id:f}).unwrap()}catch(n){throw n}},[F,f]),H=De.useCallback(async(e,t)=>{try{return await _({domain:e,jobId:t,organization_id:f}).unwrap()}catch(n){throw n}},[_,f]),$=De.useCallback(async(e,t)=>{try{return await k({domain:e,jobId:t,organization_id:f}).unwrap()}catch(n){throw n}},[k,f]),U=De.useCallback(async(e,t)=>{try{return await S({domain:e,jobId:t,organization_id:f}).unwrap()}catch(n){throw n}},[S,f]),V=De.useCallback(async e=>{if(!e)throw new Error("No job ID provided");try{const n=await I({jobId:e,organization_id:f}).unwrap();return a(Nu({tabId:t,deployState:{deployLogs:n}})),n}catch(n){throw n}},[I,t,a,f]),W=De.useCallback(async n=>{var s,i,r;if(!e)return void rn({title:"Rollback Error",description:"No job ID provided",variant:"destructive",duration:2e3});const o=null==(s=null==h?void 0:h.deploymentHistory)?void 0:s.find(e=>e.run_id===n||e.id===n);if(o)try{if("running"===(null==h?void 0:h.deployStatus)||"running"===(null==h?void 0:h.latestRunStatus))return void rn({title:"Deployment in Progress",description:"You can only have one deployment in progress at a time. Please wait for the current deployment to complete before rolling back.",variant:"destructive",duration:3e3});rn({title:"Rolling back...",description:"Please wait while we rollback your deployment.",duration:2e3}),a(Nu({tabId:t,deployState:{loading:!0,errorMessage:null}})),await j({jobId:e,image:o.run_id,deployment_id:o.run_id,acknowledgements:"rollback",db_mode:!0,organization_id:f}).unwrap(),a(Nu({tabId:t,deployState:{deployStatus:"running",latestRunStatus:"running",loading:!1,deploymentSteps:[],currentStepIndex:-1,errorMessage:null}})),rn({title:"Rollback Initiated",description:"Your rollback has been initiated and will be completed shortly.",duration:3e3})}catch(l){let e="Failed to rollback deployment";throw(null==l?void 0:l.message)?e=l.message:(null==(i=null==l?void 0:l.data)?void 0:i.detail)?e=l.data.detail:(null==(r=null==l?void 0:l.data)?void 0:r.message)&&(e=l.data.message),e.includes("deploy in progress")?rn({title:"Deployment in Progress",description:"You can only have one deployment in progress at a time. Please wait for the current deployment to complete before rolling back.",variant:"destructive",duration:3e3}):rn({title:"Rollback Failed",description:e,variant:"destructive",duration:3e3}),a(Nu({tabId:t,deployState:{loading:!1,errorMessage:e}})),l}else rn({title:"Rollback Error",description:"Target deployment not found",variant:"destructive",duration:2e3})},[j,t,a,e,null==h?void 0:h.deploymentHistory,null==h?void 0:h.deployStatus,null==h?void 0:h.latestRunStatus,f]),q=De.useCallback(async(e,n)=>{var s,i;try{a(Nu({tabId:t,deployState:{loading:!0,errorMessage:null}})),await E({jobId:e,image:n,organization_id:f}).unwrap(),a(Nu({tabId:t,deployState:{deployStatus:"running",latestRunStatus:"running",loading:!1,deploymentSteps:[],currentStepIndex:-1,errorMessage:null}})),rn({title:"Rollback Initiated",description:"Your rollback has been initiated and will be completed shortly.",duration:3e3})}catch(r){let e="Failed to rollback deployment";throw(null==r?void 0:r.message)?e=r.message:(null==(s=null==r?void 0:r.data)?void 0:s.detail)?e=r.data.detail:(null==(i=null==r?void 0:r.data)?void 0:i.message)&&(e=r.data.message),e.includes("deploy in progress")?rn({title:"Deployment in Progress",description:"You can only have one deployment in progress at a time. Please wait for the current deployment to complete before rolling back.",variant:"destructive",duration:3e3}):rn({title:"Rollback Failed",description:e,variant:"destructive",duration:3e3}),a(Nu({tabId:t,deployState:{loading:!1,errorMessage:e}})),r}},[E,t,a,f]),G=De.useCallback(async()=>{var n,s;if(e)try{rn({title:"Shutting down...",description:"Please wait while we shut down your deployment.",duration:2e3}),a(Nu({tabId:t,deployState:{loading:!0,errorMessage:null}})),await A({jobId:e,organization_id:f}).unwrap(),a(Nu({tabId:t,deployState:{deployStatus:"not_deployed",latestRunStatus:null,loading:!1,deploymentSteps:[],currentStepIndex:-1,deployUrl:"",customDomainUrl:"",runId:"",errorMessage:null,customDomain:null,deployLogs:{},deploymentHistory:[]}})),rn({title:"Deployment Shut Down",description:"Your deployment has been successfully shut down.",duration:3e3})}catch(i){let e="Failed to shut down deployment";throw(null==i?void 0:i.message)?e=i.message:(null==(n=null==i?void 0:i.data)?void 0:n.detail)?e=i.data.detail:(null==(s=null==i?void 0:i.data)?void 0:s.message)&&(e=i.data.message),a(Nu({tabId:t,deployState:{loading:!1,errorMessage:e}})),rn({title:"Shutdown Failed",description:e,variant:"destructive",duration:3e3}),i}else rn({title:"Shutdown Error",description:"No job ID provided",variant:"destructive",duration:2e3})},[A,t,a,e,f]),Z=De.useCallback(async(n,s)=>{if(e)try{if("running"===(null==h?void 0:h.deployStatus)||"running"===(null==h?void 0:h.latestRunStatus))return void rn({title:"Deployment in Progress",description:"You can only have one deployment in progress at a time. Please wait for the current deployment to complete before replacing.",variant:"destructive",duration:3e3});rn({title:"Replacing deployment...",description:"Please wait while we replace your deployment.",duration:2e3}),a(Nu({tabId:t,deployState:{loading:!0,errorMessage:null}})),await j({jobId:e,deployment_id:n,db_mode:s,acknowledgements:"replacement",organization_id:f}).unwrap(),a(Nu({tabId:t,deployState:{deployStatus:"running",latestRunStatus:"running",loading:!1,deploymentSteps:[],currentStepIndex:-1,errorMessage:null}})),rn({title:"Replacement Initiated",description:"Your deployment replacement has been initiated successfully.",duration:3e3})}catch(i){let e=(null==i?void 0:i.error)||"Failed to replace deployment";throw rn({title:"Replacement Failed",description:e,variant:"destructive",duration:3e3}),a(Nu({tabId:t,deployState:{loading:!1,errorMessage:e}})),i}else rn({title:"Replace Deployment Error",description:"No job ID provided",variant:"destructive",duration:2e3})},[j,t,a,e,null==h?void 0:h.deployStatus,null==h?void 0:h.latestRunStatus,f]),Y=De.useCallback(e=>(null==e?void 0:e.envs_with_version)?Object.entries(e.envs_with_version).map(([e,t],n)=>{const s=t;return{id:`env-${n}`,key:e,value:s.value,originalValue:s.value,version:s.version||0}}):(null==e?void 0:e.envs)?Object.entries(e.envs).map(([e,t],n)=>{if("string"==typeof t)return{id:`env-${n}`,key:e,value:t,originalValue:t,version:0};if("object"==typeof t&&null!==t&&"value"in t){const s=t;return{id:`env-${n}`,key:e,value:s.value,originalValue:s.value,version:s.version||0}}return{id:`env-${n}`,key:e,value:String(t),originalValue:String(t),version:0}}):[],[]),K=De.useCallback(async()=>{if(!e)return[];try{const e=await D();if(e.data){const t=Y(e.data);return u(t),t}return[]}catch(t){return[]}},[e,D,Y]),J=De.useCallback(async t=>{if(!e)return null;try{const n=await D();if(!n.data)throw new Error("Failed to fetch latest environment variables");const s=Y(n.data),i=t.map(e=>{const t=s.find(t=>t.key===e.key),n=t?t.version:0;return{...e,version:n}}),a=await M({jobId:e,envs:i,organization_id:f});if(void 0===a.data&&a.error)throw new Error("Environment variables update failed");{const e=i.map(e=>({...e,originalValue:e.value}));return u(e),a.data||{success:!0}}}catch(n){throw n}},[e,M,D,Y,f]),Q=De.useCallback(e=>{u(e)},[]),X=Y(T),ee=d.length>0?d:X;return{isLoading:b,isError:y,error:v,deployStatus:(null==h?void 0:h.deployStatus)||"not_deployed",latestRunStatus:(null==h?void 0:h.latestRunStatus)||null,deploymentSteps:(null==h?void 0:h.deploymentSteps)||[],deploymentHistory:(null==h?void 0:h.deploymentHistory)||[],currentStepIndex:(null==h?void 0:h.currentStepIndex)||-1,deployUrl:(null==h?void 0:h.deployUrl)||"",customDomainUrl:(null==h?void 0:h.customDomainUrl)||"",runId:(null==h?void 0:h.runId)||"",errorMessage:(null==h?void 0:h.errorMessage)||null,customDomain:(null==h?void 0:h.customDomain)||null,deployLogs:(null==h?void 0:h.deployLogs)||{},data:g,refetch:w,resetDeployState:O,deployApp:z,registerDomain:B,verifyDomain:H,connectDomain:$,unlinkDomain:U,loadDeployLogs:V,rollbackToDeployment:W,rollbackWithApi:q,shutdownDeployment:G,replaceDeployment:Z,envs:ee,loadEnvironmentVariables:K,updateEnvironmentVariables:J,saveEnvironmentVariables:Q,isDeploying:C,deployError:N}},dU=({width:e=20,height:t=20,fill:s="white",opacity:i=.5,className:a,style:r,onClick:o,"aria-label":l="Globe icon",focusable:c=!1,viewBox:d="0 0 20 20",...u})=>n.jsx("svg",{width:e,height:t,viewBox:d,fill:"none",xmlns:"http://www.w3.org/2000/svg",className:a,style:r,onClick:o,"aria-label":l,focusable:c,...u,children:n.jsx("path",{opacity:i,d:"M10 2.00006C14.4184 2.00006 18 5.58161 18 10.0001C18 14.4185 14.4184 18.0001 10 18.0001C5.58154 18.0001 2 14.4185 2 10.0001C2 5.58161 5.58154 2.00007 10 2.00006ZM3.62568 10.788C3.94054 13.3618 5.77655 15.4633 8.20806 16.1684C7.17013 14.556 6.53788 12.7103 6.37178 10.788H3.62568ZM13.6282 10.788C13.4621 12.7105 12.8291 14.5559 11.791 16.1684C14.223 15.4635 16.0594 13.3621 16.3743 10.788H13.6282ZM7.95312 10.788C8.14159 12.6763 8.85009 14.4748 10 15.9827C11.1499 14.4748 11.8584 12.6763 12.0469 10.788H7.95312ZM11.791 3.8308C12.8293 5.44342 13.4621 7.28937 13.6282 9.21216H16.3743C16.0594 6.63797 14.2231 4.53562 11.791 3.8308ZM10 4.01646C8.84982 5.52452 8.14162 7.32361 7.95312 9.21216H12.0469C11.8584 7.32362 11.1501 5.52453 10 4.01646ZM8.20806 3.8308C5.77642 4.53587 3.94055 6.63827 3.62568 9.21216H6.37178C6.5379 7.28954 7.16988 5.44333 8.20806 3.8308Z",fill:s})}),uU=({width:e=16,height:t=16,stroke:s="#66C2FF",strokeWidth:i=2.66667,strokeLinecap:a="round",strokeLinejoin:r="round",className:o,style:l,onClick:c,"aria-label":d="Double check icon",focusable:u=!1,viewBox:p="0 0 16 16",...m})=>n.jsx("svg",{width:e,height:t,viewBox:p,fill:"none",xmlns:"http://www.w3.org/2000/svg",className:o,style:l,onClick:c,"aria-label":d,focusable:u,...m,children:n.jsx("path",{d:"M1.33337 7.99998L4.00004 10.6666L9.33337 5.33331M9.33337 10.6666L14.6667 5.33331",stroke:s,strokeWidth:i,strokeLinecap:a,strokeLinejoin:r})}),pU=gv.icons.code,mU=gv.icons.info,hU=gv.icons.preview,xU=gv.icons.animatedSpinner,fU=gv.icons.deployCloud,gU=gv.icons.redeploy,vU=({handleVSCodeLink:e,handleShowDiff:t,handlePreviewClick:s,handleInfoClick:i,handleDeployClick:a,handlePublishClick:r,handlePublishBottomSheetOpen:o,showActions:l,hideImportantActions:c,jobId:d,tabId:u,podIsPaused:p=!1,enableDeploy:m=!0,publishConfig:h={},previewUrl:x,buildMode:f})=>{var g,v;const{enablePublish:b=!1,isPublishing:y=!1,isPublished:w=!1}=h,[j,C]=De.useState(!1),[N,F]=De.useState(!1),_=eI(),{deployStatus:k,latestRunStatus:S,isLoading:E,deploymentHistory:I}=cU({jobId:d,tabId:u||d||"",enabled:!!d&&!p&&"build"===f}),{isMobile:A}=QE(),{getTabByJobId:T}=Oee(),D=(null==(v=null==(g=T(d||""))?void 0:g.state)?void 0:v.showCase)||!1,M=De.useMemo(()=>({fontFamily:"Inter",fontWeight:500}),[]),L=De.useMemo(()=>d&&a&&!b&&!c&&!D,[d,a,b,c,D]),P=De.useMemo(()=>d&&r&&!c&&!D&&b,[d,r,c,D,b]);De.useMemo(()=>d&&!b&&a&&!c&&!p&&!D,[d,b,a,c,p,D]),De.useMemo(()=>d&&r&&!c&&!D&&b,[d,r,c,D,b]),De.useEffect(()=>{},[d,D,p,f]);const R=I.some(e=>"success"===e.status);return n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"flex-1"}),n.jsxs("div",{className:"flex items-center",children:[l&&!c&&n.jsx("div",{className:"flex items-center gap-1",children:n.jsx(EE,{children:n.jsxs("div",{className:"flex items-center gap-1",children:[_&&d&&n.jsx(IE,{delayDuration:100,children:n.jsx(TE,{side:"bottom",className:"bg-[#DDDDE6] text-black border-0",style:M,children:"Edit Chat History"})}),!A&&n.jsxs(IE,{delayDuration:100,children:[n.jsx(AE,{asChild:!0,children:n.jsx(wb,{variant:"ghost",className:"group h-[36px] w-[36px] p-0 bg-white/10 hover:bg-[#ffffff]/15 backdrop-blur-lg rounded-lg transition-colors duration-200",onClick:i,children:n.jsx("div",{className:"flex items-center justify-center w-full",children:n.jsx("img",{src:mU,alt:"info",className:"w-6 h-6 opacity-60 group-hover:opacity-100"})})})}),n.jsx(TE,{side:"bottom",className:"bg-[#DDDDE6] text-black border-0",style:M,children:"Info"})]})]})})}),l&&n.jsx(n.Fragment,{children:!A&&n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"",children:n.jsx(wb,{variant:"default",className:"group h-[36px] ml-2 pl-2 pr-2 md:pr-3 rounded-[8px] hover:bg-white/100 transition-colors duration-200",onClick:e,disabled:p||"build"!=f,children:n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("img",{alt:"code",src:pU,className:"w-6 h-6"}),n.jsx("span",{className:"hidden text-base font-semibold md:block",children:"Code"})]})})}),n.jsx("div",{className:"ml-2",children:n.jsx(wb,{variant:"default",className:"group h-[36px] pl-2 pr-2 md:pr-3 rounded-[8px] hover:bg-white/100 transition-colors duration-200",onClick:s,disabled:"build"!=f,children:n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("img",{alt:"preview",src:hU,className:"w-6 h-6"}),n.jsx("span",{className:"hidden text-base font-semibold md:block",children:"Preview"})]})})}),L&&n.jsx("div",{className:"ml-2",children:n.jsx(wb,{variant:"ghost",className:fb("group h-[36px] pl-2 pr-2 md:pr-3  rounded-[8px] hover:bg-white/10 transition-colors duration-200",R?"bg-white/10 grayscale-0":"running"===k||"running"===S?"bg-[#4DA5FF29] text-[#33DDFF]":"bg-gradient-to-r from-[#80FFF9] to-[#1588FC] text-[#0F0F10] hover:text-[#0F0F10] hover:opacity-80",(E||!m)&&"not_deployed"==k&&"opacity-90 grayscale","disabled:grayscale"),onClick:a,disabled:(E||!m)&&"not_deployed"==k,children:n.jsxs("div",{className:"relative flex items-center gap-1",children:[E?n.jsx(hS,{className:"w-5 h-5 animate-spin"}):"running"===k||"running"===S?n.jsx("img",{src:xU,alt:"deploying",className:"w-5 h-5"}):n.jsxs("div",{className:"relative",children:[n.jsx("img",{src:R?gU:fU,alt:"Deploy",className:fb("w-5 h-5 ",!R&&"invert")}),R&&n.jsx(tT,{color:"#2EE572",size:16,innerSize:8,animate:R,className:"absolute -bottom-[4px] -right-[4.5px]"})]}),n.jsx("span",{className:"hidden text-base font-semibold md:block",children:E?"Loading...":"running"===k||"running"===S?"Deploying...":R?"Redeploy":"Deploy"})]})})}),P&&n.jsx("div",{className:"ml-2",children:n.jsxs(aU,{open:N,onOpenChange:F,children:[n.jsx(rU,{asChild:!0,children:w?n.jsx(wb,{variant:"ghost",className:"group h-[36px] py-2 px-3 rounded-[8px] bg-[#80CCFF33] hover:bg-[#80CCFF33] text-white transition-opacity duration-200",children:n.jsxs("div",{className:"flex items-center gap-[6px]",children:[n.jsx(uU,{width:16,height:16}),n.jsx("span",{className:"hidden text-sm text-[#66C2FF] font-semibold md:block",children:"Published"})]})}):n.jsx(wb,{variant:"ghost",className:"group h-[36px] py-2 px-3 rounded-[8px] bg-[#0098FE] hover:bg-[#0098FE]/80 text-white transition-opacity duration-200",disabled:y||!m,children:n.jsxs("div",{className:"flex items-center gap-1",children:[y?n.jsx(hS,{className:"w-5 h-5 animate-spin"}):null,n.jsx("span",{className:"hidden text-sm font-semibold md:block",children:y?"Publishing...":"Publish"})]})})}),n.jsx(oU,{className:"w-[400px] mr-3 mt-2 p-4 bg-[#222224] border-none rounded-[16px] text-white",onOpenAutoFocus:e=>e.preventDefault(),onCloseAutoFocus:e=>e.preventDefault(),onEscapeKeyDown:e=>{F(!1)},onPointerDownOutside:e=>{F(!1)},onFocusOutside:e=>{e.preventDefault()},onInteractOutside:e=>{e.preventDefault()},children:n.jsxs("div",{className:"space-y-5",children:[n.jsxs("div",{className:"flex flex-col space-y-2",children:[x&&n.jsxs("div",{className:"flex items-center gap-[6px] p-3 bg-[#FFFFFF0F] rounded-[10px]",children:[n.jsx("div",{className:"flex items-center justify-center w-6 h-6 rounded-full",children:n.jsx(dU,{width:20,height:20})}),n.jsx("span",{className:"text-sm text-white font-medium font-['Inter'] truncate flex-1",children:x})]}),n.jsx("p",{className:fb("py-2 rounded-[10px] font-['Inter'] text-sm font-medium mb-4",w?"text-white/30 bg-transparent":"text-[#FFAE66] bg-[#FFAE660A] px-3"),children:"Preview links expire in 30 minutes. Publish your app to make your preview link persistent."})]}),!w&&n.jsx("div",{className:"text-start",children:n.jsx(wb,{onClick:e=>{e.stopPropagation(),null==r||r()},disabled:y,className:"w-full h-12 bg-gradient-to-b from-[#33CCFF] to-[#337AF2] hover:opacity-90 text-white font-semibold rounded-[10px]",children:n.jsx("div",{className:"flex items-center justify-center w-full gap-2",children:y?n.jsxs(n.Fragment,{children:[n.jsx(hS,{className:"w-5 h-5 mr-2 animate-spin"}),"Publishing..."]}):"Publish"})})})]})})]})})]})})]})]}),n.jsx(lU,{isOpen:j,onOpenChange:C,chatId:d})]})};function bU({title:e,onClick:t,style:s,className:i="",children:a,variant:r="filled",icon:o,hoverIcon:l,disabled:c=!1}){const[d,u]=De.useState(!1),p="filled"===r?"bg-[#F3CA5F] text-[#0F0F10]":"border border-blue-500 bg-[#E6E6E6] border-[1px] border-[#333333] text-[#0F0F10]",m=d&&l?l:o;return n.jsx(wb,{style:s,className:fb("flex items-center gap-[12px] max-h-[44px] rounded-full px-3 py-2 md:px-4 md:py-3  transition-none text-[13px] md:text-[16px]",p,i),onClick:t,onMouseEnter:()=>{u(!0)},onMouseLeave:()=>{u(!1)},disabled:c,children:a||n.jsxs("div",{className:i,children:[n.jsx("span",{className:"font-semibold",children:e}),m&&n.jsx("img",{title:"Icon",src:m,className:"",alt:""})]})})}const yU=gv.common.deploy,wU=gv.icons.preview,jU=({hideImportantActions:e=!1,handleDeploy:t,handlePushToGithub:s,togglePanel:i,podIsPaused:a=!1})=>e?null:n.jsxs("div",{className:"flex flex-col w-full space-y-4",children:[n.jsx("div",{className:"w-full max-w-4xl px-2 mx-auto"}),n.jsx("div",{className:"w-full",children:n.jsxs("div",{className:"flex w-full max-w-4xl gap-4 px-2 pl-0 mx-auto",children:[n.jsx(bU,{title:"Deploy",variant:"filled",className:"flex items-center gap-12 bg-green-400 hover:bg-[#25b75b]",onClick:t,disabled:a,children:n.jsxs("div",{className:"flex items-center justify-center w-full gap-4",children:[n.jsx("span",{className:"font-brockmann text-[16px] leading-[20px] font-semibold tracking-[-0.02em]",children:"Deploy"}),n.jsx("img",{src:yU,alt:"deploy",className:"w-5 h-5"})]})}),n.jsx(bU,{title:"Preview",variant:"filled",className:"flex items-center gap-12 bg-white hover:bg-[#cfcfcf] ",onClick:()=>{i({panelName:"showUrlPreviewPanel"})},disabled:a,children:n.jsxs("div",{className:"flex items-center justify-center w-full gap-4",children:[n.jsx("span",{className:"font-brockmann  text-[16px] leading-[20px] font-semibold",children:"Preview"}),n.jsx("img",{src:wU,alt:"preview",className:"w-5 h-5 text-white"})]})})]})})]}),CU=gv.common.bot,NU=({thought:e,action:t,typingSpeed:s=50,className:i="",onContentChange:a,onTypingComplete:r,isExpanded:o=!0,hideRobotIcon:l=!1,marginBottom:c=!0})=>{const[d,u]=De.useState(""),[p,m]=De.useState(!1),h=De.useRef(a),x=De.useRef(r);h.current=a,x.current=r;const f=De.useRef(null),g=De.useRef(0),v=[e,t].filter(Boolean).join("\n\nAction: ");De.useEffect(()=>{if(u(""),m(!1),g.current=0,f.current&&(clearTimeout(f.current),f.current=null),!v)return m(!0),void(x.current&&x.current());const e=()=>{if(g.current<v.length){u(v.slice(0,g.current+1)),g.current+=1,h.current&&h.current();const t=1e3/(10*s);f.current=setTimeout(e,t)}else m(!0),f.current=null,x.current&&x.current()};return f.current=setTimeout(e,30),()=>{f.current&&(clearTimeout(f.current),f.current=null)}},[v,s]),De.useEffect(()=>{v&&d===v&&!p&&(m(!0),x.current&&x.current())},[d,v,p]);const b=d.split("\n\nAction: "),y=b[0]||"",w=b[1]||"";return n.jsx("div",{className:fb("flex flex-col w-full space-y-4",c&&"pb-4",i),children:n.jsxs("div",{className:"flex w-full gap-4",children:[!l&&n.jsxs("div",{className:"flex flex-col items-center w-[40px]",children:[n.jsx(_M,{className:"h-[40px] w-[40px] bg-black border border-[#555]/25 flex items-center justify-center",children:n.jsx("img",{src:CU,alt:"Robot",className:"h-[22px] w-[22px]"})}),n.jsx("div",{className:"w-[1px] h-full mt-2 bg-[#555]/25"})]}),n.jsx("div",{className:"flex flex-col flex-1",children:o&&n.jsxs("div",{className:"flex flex-col",children:[y&&n.jsx("div",{className:"overflow-hidden text-[#dcdce5] font-['Inter'] text-[16px] leading-[28px] font-normal",children:y}),w&&n.jsxs("div",{className:"mt-4",children:[n.jsx("span",{className:"font-semibold text-[#A8A9AD]",children:"Action: "}),n.jsx("span",{className:"overflow-hidden text-[#dcdce5] font-['Inter'] text-[16px] leading-[28px] font-normal",children:w})]})]})})]})})},FU=gv.common.reply;function _U({handleSubagentClick:e,message:t,agentState:s,enableLoading:i=!1,runningState:a=!1,panelState:r,isSelected:o=!1,jobDetails:l,agentName:c,onPause:d,isPauseLoading:u}){var p,m;const h=u??!1,x=De.useCallback(async()=>{(null==l?void 0:l.job_id)&&(null==s?void 0:s.agent_running)&&d&&d({origin:"MainInput"})},[null==l?void 0:l.job_id,null==s?void 0:s.agent_running,d]);o&&r.showSubagentPanel;const f=FT(t.function_name),g=null==(p=t.function_name)?void 0:p.includes("testing");return n.jsxs("div",{className:"flex md:ml-[52px] items-center gap-2 mt-2",children:[i&&(null==s?void 0:s.agent_running)?n.jsx(n.Fragment,{children:n.jsxs("button",{type:"button",title:"Subagent Button",className:fb("relative p-[6px] flex items-center gap-2 rounded-[6px]",o&&r.showSubagentPanel&&"pr-3"),style:{backgroundColor:a?f.bgColor:o&&r.showSubagentPanel?"#ffffff10":"transparent",color:a?f.color:"#B8B8CC"},onClick:e,children:[o&&r.showSubagentPanel&&a&&n.jsx("div",{className:fb("before:absolute before:inset-0 before:-m-[4px] before:rounded-[10px] before:border-[1.5px] ",a?f.beforeBorder:"before:border-[#ffffff20]")}),n.jsxs("div",{className:"flex items-center gap-1 text-nowrap",children:[n.jsx(AT,{size:"18",stroke:"4",speed:"0.9",color:f.iconColor}),n.jsxs("span",{className:" font-brockmann font-medium text-[14px]",children:[" ",NT(t.function_name)," "]})]}),n.jsx("img",{src:gv.subagent.subagentPanelIcon,alt:"Subagent Trigger",className:"min-h-5 min-w-5"})]})}):n.jsx(n.Fragment,{children:n.jsxs("button",{type:"button",title:"Subagent Button",className:fb("relative p-[6px] flex items-center gap-2 rounded-[6px] hover:bg-[#ffffff10]",!(i&&(null==s?void 0:s.agent_running))&&"cursor-pointer bg-red-400 hover:bg-red-600",o&&r.showSubagentPanel&&"pr-[2rem]"),style:{backgroundColor:o&&r.showSubagentPanel?"#ffffff10":"transparent",color:"#B8B8CC"},onClick:e,children:[o&&r.showSubagentPanel&&a&&n.jsx("div",{className:fb("before:absolute before:inset-0 before:-m-[4px] before:rounded-[10px] before:border-[1.5px] ",a?f.beforeBorder:"before:border-[#ffffff20]")}),n.jsxs("div",{className:"flex items-center gap-1 text-nowrap",children:[n.jsx("img",{alt:"Reply Icon",src:FU,className:"w-4 h-4"}),n.jsxs("span",{className:" font-brockmann font-medium text-[14px]",children:[null==(m=null==t?void 0:t.subagent_trajectory)?void 0:m.length," ",NT(t.function_name)," messages"]})]})]})}),i&&(null==s?void 0:s.agent_running)&&g?n.jsxs("button",{type:"button",title:"Stop Subagent Button",className:"p-[6px] flex items-center px-[8px]  gap-[6px] rounded-[6px] bg-[#FFFFFF] hover:bg-[#ffffff90] disabled:opacity-50",onClick:x,disabled:h,children:[h?n.jsx(hS,{className:"w-4 h-4 text-black animate-spin"}):n.jsx("div",{className:"w-3 h-3 bg-black rounded-sm"}),n.jsx("span",{className:" font-brockmann font-semibold text-[14px] text-[#0F0F10]",children:h?"Stopping...":"Stop"})]}):null]})}const kU=gv.fork.fork,SU=gv.payments.question,EU=({message:e,credits:t,handleAddToken:s,podIsPaused:i,modalOpen:a,setModalOpen:r})=>{return"context_limit_reached"===e.action?(o=e.current_token_count,l=e.max_token_count,c=e.error_message_exists,o&&l&&0!==l&&Math.min(c?100:99,Math.round(o/l*100)),n.jsxs("div",{className:"bg-[#1111112] border-[#FFFFFF1F] border p-2 rounded-[16px] flex flex-col gap-2",children:[n.jsx("div",{className:"flex items-center justify-between gap-2 p-[10px] rounded-[8px] bg-[#FFAE6614]",children:n.jsx("div",{className:"flex items-center gap-2",children:n.jsx("span",{className:"font-medium",children:"Agent context used"})})}),n.jsx("div",{className:"flex items-center justify-between gap-2 text-sm bg-[#FFFFFF0D] rounded-lg",children:n.jsxs("div",{className:"flex flex-col items-start gap-6 p-4 py-5",children:[n.jsxs("div",{className:"flex flex-col gap-3",children:[n.jsx("span",{className:"font-medium text-white text-[24px] font-brockmann",children:"Summarize & continue in a fresh session"}),n.jsx("span",{className:"text-[#737780] text-[15px] leading-[24px] font-[500] text-start font-['Inter']",children:"Continue your work in a new conversation while keeping the important context from this session, perfect for continuing complex projects without losing progress."})]}),n.jsxs("div",{className:"flex  justify-between w-full border-[#242424]",children:[n.jsx(EE,{children:n.jsxs(IE,{children:[n.jsx(AE,{children:n.jsxs("button",{type:"button",onClick:()=>{a&&r&&r({...a,fork:!a.fork})},disabled:i,className:"pl-4 pr-3 py-[10px] h-[40px] bg-white text-black hover:bg-gray-100 rounded-[10px] font-[600] text-[16px] flex items-center gap-2",children:["Fork Session",n.jsx("img",{src:kU,alt:"Fork",className:"w-5 h-5 invert"})]})}),n.jsxs(TE,{className:fb("bg-[#DDDDE6] text-black border-0",i?"":"hidden"),children:[n.jsx("span",{className:"text-[12px] md:text-[14px] font-['Inter']",children:i?"Please wake up the agent before forking session":""}),n.jsx(DE,{className:"fill-[#DDDDE6]"})]})]})}),n.jsxs("button",{onClick:()=>{window.open(rv.learnMore,"_blank")},className:"pl-4 pr-3 py-[10px] h-[40px] bg-transparent text-white/70 hover:bg-[#FFFFFF0A] rounded-[10px] font-[500] text-[16px] flex items-center gap-2",children:["Learn more about Forking",n.jsx("img",{src:SU,alt:"Question",className:"w-5 h-5"})]})]})]})})]})):null;var o,l,c},IU=gv.common.rollbackTime,AU=({message:e,userName:t,searchActive:s=!1,searchHighlights:i=[],handleRollback:a})=>{if("default_tool"===e.function_name)return n.jsxs("span",{className:"py-2 font-['Inter']",children:["Hey ",t,", Quick input needed :"]});if("ask_human"===e.function_name&&!e.content)return n.jsxs("span",{className:"py-2 font-['Inter']",children:["Hey ",t,", Quick input needed :"]});if("ask_human"===e.function_name&&"fork"==e.action)return n.jsxs("span",{className:"py-2 font-['Inter']",children:["Hey ",t,", Quick input needed :"]});if("rollback"===e.function_name)return n.jsx("div",{className:"relative flex flex-col items-center w-full space-y-4",children:n.jsxs("div",{className:"flex w-full justify-between items-center gap-4 text-[15px] text-[#FFFFFF] font-['Inter'] py-1",children:[n.jsxs("span",{className:"font-['Inter']",children:["Context has been cleared and a"," ",n.jsx("span",{className:"text-[#FF884D]",children:"Code Checkpoint"})," ","has been created at"," ",n.jsx("span",{className:"text-[#FF884D]",children:dT(e.timestamp)})," "]}),n.jsxs("button",{onClick:a,className:"bg-[#FF884D]/10 hover:bg-[#FF884D30] px-[10px] py-[6px] rounded-[8px] flex gap-1 items-center text-[#FF884DCC]",children:[n.jsx("img",{alt:"Time",src:IU,className:"w-5 h-5"}),"Rollback"]})]})});const r=((e,t)=>{if("user"!==t)return e;const n=e.includes("User has recorded a test case"),s=e.match(/<reported_bug>([\s\S]*?)<\/reported_bug>/);return n&&s?s[1].trim():e})(e.content,e.role),o=Q$(r),l=r.split("\n");return n.jsx("div",{className:"flex flex-col prose prose-invert max-w-none",children:l.map((e,t)=>Y$(e,t,!1,s,i,o[t]))})},TU=({size:e=20,color:t="#E5F6FF",className:s=""})=>n.jsx("svg",{width:e,height:e,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:s,children:n.jsx("path",{d:"M15.2017 5.13281C15.4534 5.13281 15.6872 5.17777 15.903 5.26769C16.1188 5.3576 16.3106 5.48648 16.4785 5.65433C16.6463 5.82217 16.7722 6.011 16.8561 6.2208C16.9401 6.43061 16.988 6.66739 17 6.93114C17 7.17092 16.955 7.40171 16.8651 7.6235C16.7752 7.84529 16.6463 8.04011 16.4785 8.20796L9.33911 15.3563C9.17127 15.5242 8.97645 15.653 8.75466 15.743C8.53286 15.8329 8.30208 15.8808 8.0623 15.8868C7.82252 15.8868 7.59174 15.8419 7.36994 15.752C7.14815 15.662 6.95333 15.5302 6.78548 15.3563L3.53051 12.1013C3.36266 11.9335 3.23378 11.7387 3.14387 11.5169C3.05395 11.2951 3.00599 11.0643 3 10.8245C3 10.5728 3.04796 10.339 3.14387 10.1232C3.23978 9.90738 3.36866 9.71556 3.53051 9.54771C3.69236 9.37987 3.88118 9.25399 4.09698 9.17006C4.31278 9.08614 4.54956 9.03819 4.80732 9.0262C5.0471 9.0262 5.27788 9.07116 5.49968 9.16107C5.72147 9.25099 5.91629 9.37987 6.08414 9.54771L8.0623 11.5259L13.9249 5.65433C14.0927 5.48648 14.2875 5.3576 14.5093 5.26769C14.7311 5.17777 14.9619 5.13281 15.2017 5.13281Z",fill:t})}),DU=({size:e=20,fill:t="#E5F6FF",className:s=""})=>n.jsx("svg",{width:e,height:e,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:s,children:n.jsx("path",{d:"M13.7862 4.40112C13.904 4.27661 14.0456 4.17697 14.2025 4.1081C14.3594 4.03922 14.5286 4.00251 14.6999 4.00012C14.8713 3.99774 15.0414 4.02974 15.2002 4.09422C15.359 4.15871 15.5033 4.25437 15.6244 4.37556C15.7456 4.49675 15.8413 4.64101 15.9058 4.7998C15.9703 4.95859 16.0023 5.1287 15.9999 5.30007C15.9975 5.47145 15.9608 5.6406 15.8919 5.79754C15.823 5.95448 15.7234 6.09602 15.5989 6.21379L11.842 9.97077C11.837 9.97573 11.833 9.98163 11.8304 9.98812C11.8277 9.99461 11.8263 10.0016 11.8263 10.0086C11.8263 10.0156 11.8277 10.0226 11.8304 10.0291C11.833 10.0356 11.837 10.0415 11.842 10.0464L15.5989 13.8034C15.7196 13.9221 15.8155 14.0635 15.8813 14.2195C15.947 14.3755 15.9812 14.5429 15.9819 14.7122C15.9827 14.8814 15.9498 15.0492 15.8854 15.2057C15.821 15.3622 15.7262 15.5044 15.6065 15.6241C15.4868 15.7438 15.3446 15.8386 15.1881 15.9031C15.0316 15.9676 14.8639 16.0004 14.6947 15.9998C14.5254 15.9991 14.358 15.9649 14.202 15.8992C14.046 15.8335 13.9045 15.7376 13.7858 15.6169L10.0289 11.8599C10.0239 11.855 10.0181 11.851 10.0116 11.8483C10.0051 11.8456 9.99811 11.8442 9.99109 11.8442C9.98406 11.8442 9.9771 11.8456 9.97061 11.8483C9.96412 11.851 9.95822 11.855 9.95326 11.8599L6.19635 15.6169C6.07765 15.7376 5.93624 15.8336 5.78027 15.8993C5.6243 15.9651 5.45685 15.9993 5.28759 16C5.11833 16.0007 4.95061 15.9679 4.79409 15.9035C4.63757 15.839 4.49536 15.7442 4.37566 15.6245C4.25596 15.5049 4.16114 15.3627 4.09666 15.2062C4.03219 15.0497 3.99934 14.882 4.00001 14.7127C4.00068 14.5434 4.03485 14.376 4.10056 14.22C4.16627 14.064 4.26222 13.9226 4.38286 13.8038L8.13977 10.0468C8.14475 10.0419 8.14869 10.036 8.15139 10.0295C8.15408 10.023 8.15547 10.016 8.15547 10.009C8.15547 10.002 8.15408 9.99504 8.15139 9.98854C8.14869 9.98205 8.14475 9.97616 8.13977 9.9712L4.38286 6.21422C4.1456 5.97312 4.01322 5.64803 4.01456 5.30977C4.0159 4.97151 4.15084 4.64748 4.39 4.40826C4.62916 4.16905 4.95315 4.03402 5.2914 4.03261C5.62966 4.03119 5.95477 4.16349 6.19592 4.4007L9.95283 8.15767C9.95779 8.16265 9.96369 8.1666 9.97018 8.16929C9.97667 8.17198 9.98363 8.17337 9.99066 8.17337C9.99768 8.17337 10.0046 8.17198 10.0111 8.16929C10.0176 8.1666 10.0235 8.16265 10.0285 8.15767L13.7862 4.40112Z",fill:t})}),MU=({isRunning:e,envSuccess:t,action:s})=>{if(e)return n.jsxs(n.Fragment,{children:[n.jsx(Ik,{className:"text-[#29CC83]"}),n.jsx("span",{className:"text-[#29CC83]",children:"Running"})]});const i=void 0===t||t||(null==s?void 0:s.includes("file_editor str_replace"));return n.jsx("div",{className:"flex items-center gap-2 select-text",children:i?n.jsx(TU,{size:20}):n.jsx(DU,{size:20})})};function LU(e){let t=e;return(t.startsWith("'")&&t.endsWith("'")||t.startsWith('"')&&t.endsWith('"'))&&(t=t.substring(1,t.length-1)),t=t.replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\t/g,"\t").replace(/\\'/g,"'").replace(/\\\\/g,"\\"),t}function PU(e,t){try{const n=JSON.parse(e);return!("mcp_tool"!==n.type||!n.tool_name||!n.tool_arguments)&&(!t||n.tool_name===t)}catch{return!1}}function RU(e){try{const t=JSON.parse(e);return"mcp_tool"!==t.type||"mcp_search_replace"!==t.tool_name?null:t.tool_arguments?{path:t.tool_arguments.path||"",oldStr:t.tool_arguments.old_str||"",newStr:t.tool_arguments.new_str||""}:null}catch(t){return null}}function OU(e){const t=e.indexOf("["),n=zU(e,t),s=e.indexOf("[",n+1),i=zU(e,s);if(-1===t||-1===n||-1===s||-1===i)throw new Error("Invalid bulk file creator action format");const a=e.substring(t+1,n),r=e.substring(s+1,i),o=function(e){const t=[],n=/"([^"]+)"|'([^']+)'|([^,\s][^,]*[^,\s])/g;let s;for(;null!==(s=n.exec(e));){const e=s[1]||s[2]||s[3];e&&t.push(e)}return t}(a),l=function(e){let t="",n=null,s=0,i=!1;const a=[];for(let r=0;r<e.length;r++){const o=e[r];i?(t+=o,i=!1):"\\"!==o?"'"!==o&&'"'!==o||n?o!==n||i?("["===o&&s++,"]"===o&&s--,","!==o||n||0!==s?t+=o:(a.push(t.trim()),t="")):(n=null,t+=o):(n=o,t+=o):(i=!0,t+=o)}return t.trim()&&a.push(t.trim()),a}(r).map(LU);return o.map((e,t)=>({path:e,content:t<l.length?l[t]:""}))}function zU(e,t){if("["!==e[t])return-1;let n=1,s=!1,i="",a=!1;for(let r=t+1;r<e.length;r++){const t=e[r];if(a)a=!1;else if("\\"!==t)if('"'!==t&&"'"!==t||s)if(t!==i||a){if(!s&&("["===t&&n++,"]"===t&&n--,0===n))return r}else s=!1;else s=!0,i=t;else a=!0}return-1}const BU=e=>{var t;switch(null==(t=e.split(".").pop())?void 0:t.toLowerCase()){case"js":case"jsx":return"javascript";case"ts":case"tsx":return"typescript";case"py":return"python";case"json":return"json";case"html":return"html";case"css":return"css";case"md":return"markdown";case"yaml":case"yml":return"yaml";case"sh":case"bash":return"shell";case"c":return"c";case"cpp":case"cc":return"cpp";case"java":return"java";case"go":return"go";case"rs":return"rust";case"php":return"php";case"rb":return"ruby";case"sql":return"sql";case"xml":return"xml";case"swift":return"swift";case"kt":case"kts":return"kotlin";case"dart":return"dart";default:return"plaintext"}},HU=({files:e,isSubagent:t})=>{const[s,i]=De.useState(e.length-1),a=De.useRef(null),r=De.useRef(null),o=De.useRef(null),l=De.useRef(e.length);return De.useEffect(()=>{e.length>l.current&&i(e.length-1),l.current=e.length},[e.length]),De.useEffect(()=>{if(a.current&&r.current){const e=a.current,t=r.current,n=e.clientWidth,s=t.clientWidth,i=t.offsetLeft-n/2+s/2;e.scrollTo({left:i,behavior:"smooth"})}setTimeout(()=>{if(o.current){const e=o.current.getModel().getLineCount();o.current.revealLine(e,1)}},100)},[s]),e.length?n.jsx("div",{className:"w-full border border-[#252526] rounded-lg overflow-hidden",children:n.jsxs("div",{className:"flex flex-col",children:[n.jsx("div",{ref:a,className:"flex overflow-x-auto bg-[#252526] scrollbar-thin scrollbar-thumb-[#3E3E42] scrollbar-track-[#252526]",style:{msOverflowStyle:"none",...t?{flexWrap:"nowrap",overflow:"scroll",whiteSpace:"pre-wrap",width:t?"calc(100% - 159px)":"100%"}:{}},children:e.map((e,t)=>{const a=t===s,o=e.path.split("/").pop()||e.path;return n.jsx("button",{ref:a?r:null,className:"px-4 py-2 whitespace-nowrap font-mono text-sm flex-shrink-0 "+(a?"bg-[#1E1E1E] text-[#DD99FF] border-b-2 border-[#DD99FF]":"text-[#E5E5E5] hover:bg-[#2D2D2D]"),onClick:e=>{i(t),e.stopPropagation()},title:e.path,children:o},t)})}),n.jsx("div",{className:"bg-[#252526] px-4 py-2 font-mono text-[#E5E5E5] text-sm flex items-center border-t border-[#3E3E42] border-b border-[#3E3E42] overflow-hidden text-ellipsis whitespace-nowrap",children:n.jsx("span",{className:"text-[#DD99FF]",children:e[s].path})}),n.jsx("div",{className:"h-[400px] w-full",children:e[s]&&e[s].content?n.jsx(Bt,{height:"100%",defaultLanguage:BU(e[s].path),value:e[s].content,theme:"vs-dark",onMount:e=>{o.current=e,setTimeout(()=>{if(o.current){const e=o.current.getModel().getLineCount();o.current.revealLine(e,1)}},100)},options:{readOnly:!0,minimap:{enabled:!1},scrollBeyondLastLine:!1,lineNumbers:"on",renderLineHighlight:"all",contextmenu:!1,folding:!0,scrollbar:{vertical:"visible",horizontal:"visible"},fontSize:13,fontFamily:"'Menlo', 'Monaco', 'Courier New', monospace"}}):n.jsx("div",{className:"h-full w-full flex items-center justify-center bg-[#1E1E1E] text-[#E5E5E5]",children:"No content available for this file"})})]})}):n.jsx("div",{className:"text-[#E5E5E5] p-4",children:"No files to display"})},$U=({path:e,edits:t,isSubagent:s})=>{const[i,a]=De.useState(t.length-1),r=De.useRef(null),o=De.useRef(null),l=De.useRef(t.length);return De.useEffect(()=>{t.length>l.current&&a(t.length-1),l.current=t.length},[t.length]),De.useEffect(()=>{if(r.current&&o.current){const e=r.current,t=o.current,n=e.clientWidth,s=t.clientWidth,i=t.offsetLeft-n/2+s/2;e.scrollTo({left:i,behavior:"smooth"})}},[i]),t.length?(e.split("/").pop(),n.jsx("div",{className:"w-full border border-[#252526] rounded-lg overflow-hidden",children:n.jsxs("div",{className:"flex flex-col",children:[n.jsx("div",{className:"bg-[#252526] px-4 py-2 font-mono text-[#E5E5E5] text-sm flex items-center border-b border-[#3E3E42] overflow-hidden text-ellipsis whitespace-nowrap",children:n.jsx("span",{className:"text-[#DD99FF]",children:e})}),n.jsx("div",{ref:r,className:"flex overflow-x-auto bg-[#252526] scrollbar-thin scrollbar-thumb-[#3E3E42] scrollbar-track-[#252526]",style:{msOverflowStyle:"none",...s?{flexWrap:"nowrap",overflow:"scroll",whiteSpace:"pre-wrap",width:s?"calc(100% - 159px)":"100%"}:{}},children:t.map((e,t)=>{const s=t===i;return n.jsxs("button",{ref:s?o:null,className:"px-4 py-2 whitespace-nowrap font-mono text-sm flex-shrink-0 "+(s?"bg-[#1E1E1E] text-[#DD99FF] border-b-2 border-[#DD99FF]":"text-[#E5E5E5] hover:bg-[#2D2D2D]"),onClick:e=>{a(t),e.stopPropagation()},title:`Edit ${t+1}`,children:["Edit ",t+1]},t)})}),n.jsx("div",{className:"h-[400px] w-full",children:t[i]?n.jsx(zt,{height:"100%",language:BU(e),original:t[i].oldStr,modified:t[i].newStr,theme:"vs-dark",options:{readOnly:!0,renderSideBySide:!0,minimap:{enabled:!1},scrollBeyondLastLine:!1,lineNumbers:"on",renderLineHighlight:"all",contextmenu:!1,folding:!0,scrollbar:{vertical:"visible",horizontal:"visible"},originalEditable:!1,enableSplitViewResizing:!0,fontSize:13,fontFamily:"'Menlo', 'Monaco', 'Courier New', monospace"}}):n.jsx("div",{className:"h-full w-full flex items-center justify-center bg-[#1E1E1E] text-[#E5E5E5]",children:"No content available for this edit"})})]})})):n.jsx("div",{className:"text-[#E5E5E5] p-4",children:"No edits to display"})},UU=({action:e,functionName:t,isExpanded:s,setIsExpanded:i,isSubagent:a=!1})=>n.jsx("code",{className:"text-[#CCEDFF99] font-mono text-sm w-full overflow-hidden",children:(()=>{if(!e)return"";if(t&&["str_replace_editor","create_file","view_file","search_replace","insert_text"].includes(t)){const[t,s,i]=e.split(" ");if("view"===s)return n.jsxs("span",{className:"flex items-center gap-2 font-mono text-wrap",children:["Viewed"," ",n.jsx("span",{className:"text-[#FF99FD] font-brockmann",children:i})]});if("str_replace"===s)return n.jsxs("span",{className:"flex items-center gap-2 font-mono",children:["Edited"," ",n.jsx("span",{className:"text-[#FF99FD] font-brockmann",children:i})]});if("create"===s){const t=e.split(" ")[2];return n.jsxs("span",{className:"flex items-center gap-2 font-mono",children:["Created"," ",n.jsx("span",{className:"text-[#FF99FD] font-brockmann",children:t})]})}}else if(e.startsWith("bulk_file_creator")||"bulk_file_writer"===t)try{let r;return r=e.startsWith("bulk_file_creator")?OU(e):"bulk_file_writer"===t&&PU(e,"mcp_bulk_file_writer")?function(e){try{const t=JSON.parse(e);return"mcp_tool"!==t.type||"mcp_bulk_file_writer"!==t.tool_name?[]:t.tool_arguments&&t.tool_arguments.files?t.tool_arguments.files.map(e=>({path:e.path,content:e.content||""})):[]}catch(t){return[]}}(e):OU(e),s?n.jsxs("div",{className:"flex flex-col space-y-2",children:[n.jsxs("div",{className:"text-[#E5E5E5] font-medium",children:[n.jsx("span",{className:"text-[#FF99FD]",children:"Created"})," ",r.length," ",1===r.length?"file":"files"]}),n.jsx(HU,{files:r,isSubagent:a})]}):n.jsx("div",{className:"flex flex-col w-full space-y-1 cursor-pointer",onClick:()=>i(!0),children:n.jsxs("div",{className:"text-[#E5E5E5] font-medium",children:[n.jsx("span",{className:"text-[#FF99FD]",children:"Created"})," ",r.length," ",1===r.length?"file":"files"]})})}catch(o){return n.jsx("span",{className:"text-red-500",children:"Error parsing file content"})}else if("search_replace"===t){if(PU(e,"mcp_search_replace")){const t=RU(e);if(t)return n.jsxs("span",{className:"flex items-center gap-2 font-mono",children:["Edited"," ",n.jsx("span",{className:"text-[#FF99FD] font-brockmann",children:t.path})]})}}else if("multi_search_replace"===t){if(PU(e,"mcp_multi_search_replace"))try{const t=function(e){try{const t=JSON.parse(e);return"mcp_tool"!==t.type||"mcp_multi_search_replace"!==t.tool_name?null:t.tool_arguments&&t.tool_arguments.edits?{path:t.tool_arguments.path||"",edits:t.tool_arguments.edits.map(e=>({oldStr:e.old_str||"",newStr:e.new_str||""}))}:null}catch(o){return null}}(e);if(t)return s?n.jsxs("div",{className:"flex flex-col space-y-2",children:[n.jsxs("div",{className:"text-[#E5E5E5] font-medium",children:[n.jsx("span",{className:"text-[#FF99FD]",children:"Applied"})," ",t.edits.length," ",1===t.edits.length?"edit":"edits"," to"," ",n.jsx("span",{className:"text-[#FF99FD] font-brockmann",children:t.path})]}),n.jsx($U,{path:t.path,edits:t.edits,isSubagent:a})]}):n.jsx("div",{className:"flex flex-col w-full space-y-1 cursor-pointer",onClick:()=>i(!0),children:n.jsxs("div",{className:"text-[#E5E5E5] font-medium",children:[n.jsx("span",{className:"text-[#FF99FD]",children:"Applied"})," ",t.edits.length," ",1===t.edits.length?"edit":"edits"," to"," ",n.jsx("span",{className:"text-[#FF99FD] font-brockmann",children:t.path})]})})}catch(o){return n.jsx("span",{className:"text-red-500",children:"Error parsing edits"})}}else if("view_bulk"===t&&PU(e,"mcp_view_bulk")){const t=function(e){try{const t=JSON.parse(e);return"mcp_tool"!==t.type||"mcp_view_bulk"!==t.tool_name?[]:t.tool_arguments&&t.tool_arguments.paths?t.tool_arguments.paths:[]}catch(o){return[]}}(e);if(t.length>0)return n.jsxs("span",{className:"flex items-center gap-2 font-mono",children:["Viewing"," ",n.jsx("span",{className:"text-[#FF99FD]",children:t.length})," ",1===t.length?"path":"paths"]})}return s?e:(r=e).length>50?`${r.substring(0,50)}...`:r;var r})()});function VU(){}function WU(){}const qU=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,GU=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,ZU={};function YU(e,t){return(ZU.jsx?GU:qU).test(e)}const KU=/[ \t\n\f\r]/g;function JU(e){return""===e.replace(KU,"")}class QU{constructor(e,t,n){this.normal=t,this.property=e,n&&(this.space=n)}}function XU(e,t){const n={},s={};for(const i of e)Object.assign(n,i.property),Object.assign(s,i.normal);return new QU(n,s,t)}function eV(e){return e.toLowerCase()}QU.prototype.normal={},QU.prototype.property={},QU.prototype.space=void 0;class tV{constructor(e,t){this.attribute=t,this.property=e}}tV.prototype.attribute="",tV.prototype.booleanish=!1,tV.prototype.boolean=!1,tV.prototype.commaOrSpaceSeparated=!1,tV.prototype.commaSeparated=!1,tV.prototype.defined=!1,tV.prototype.mustUseProperty=!1,tV.prototype.number=!1,tV.prototype.overloadedBoolean=!1,tV.prototype.property="",tV.prototype.spaceSeparated=!1,tV.prototype.space=void 0;let nV=0;const sV=dV(),iV=dV(),aV=dV(),rV=dV(),oV=dV(),lV=dV(),cV=dV();function dV(){return 2**++nV}const uV=Object.freeze(Object.defineProperty({__proto__:null,boolean:sV,booleanish:iV,commaOrSpaceSeparated:cV,commaSeparated:lV,number:rV,overloadedBoolean:aV,spaceSeparated:oV},Symbol.toStringTag,{value:"Module"})),pV=Object.keys(uV);class mV extends tV{constructor(e,t,n,s){let i=-1;if(super(e,t),hV(this,"space",s),"number"==typeof n)for(;++i<pV.length;){const e=pV[i];hV(this,pV[i],(n&uV[e])===uV[e])}}}function hV(e,t,n){n&&(e[t]=n)}function xV(e){const t={},n={};for(const[s,i]of Object.entries(e.properties)){const a=new mV(s,e.transform(e.attributes||{},s),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(s)&&(a.mustUseProperty=!0),t[s]=a,n[eV(s)]=s,n[eV(a.attribute)]=s}return new QU(t,n,e.space)}mV.prototype.defined=!0;const fV=xV({properties:{ariaActiveDescendant:null,ariaAtomic:iV,ariaAutoComplete:null,ariaBusy:iV,ariaChecked:iV,ariaColCount:rV,ariaColIndex:rV,ariaColSpan:rV,ariaControls:oV,ariaCurrent:null,ariaDescribedBy:oV,ariaDetails:null,ariaDisabled:iV,ariaDropEffect:oV,ariaErrorMessage:null,ariaExpanded:iV,ariaFlowTo:oV,ariaGrabbed:iV,ariaHasPopup:null,ariaHidden:iV,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:oV,ariaLevel:rV,ariaLive:null,ariaModal:iV,ariaMultiLine:iV,ariaMultiSelectable:iV,ariaOrientation:null,ariaOwns:oV,ariaPlaceholder:null,ariaPosInSet:rV,ariaPressed:iV,ariaReadOnly:iV,ariaRelevant:null,ariaRequired:iV,ariaRoleDescription:oV,ariaRowCount:rV,ariaRowIndex:rV,ariaRowSpan:rV,ariaSelected:iV,ariaSetSize:rV,ariaSort:null,ariaValueMax:rV,ariaValueMin:rV,ariaValueNow:rV,ariaValueText:null,role:null},transform:(e,t)=>"role"===t?t:"aria-"+t.slice(4).toLowerCase()});function gV(e,t){return t in e?e[t]:t}function vV(e,t){return gV(e,t.toLowerCase())}const bV=xV({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:lV,acceptCharset:oV,accessKey:oV,action:null,allow:null,allowFullScreen:sV,allowPaymentRequest:sV,allowUserMedia:sV,alt:null,as:null,async:sV,autoCapitalize:null,autoComplete:oV,autoFocus:sV,autoPlay:sV,blocking:oV,capture:null,charSet:null,checked:sV,cite:null,className:oV,cols:rV,colSpan:null,content:null,contentEditable:iV,controls:sV,controlsList:oV,coords:rV|lV,crossOrigin:null,data:null,dateTime:null,decoding:null,default:sV,defer:sV,dir:null,dirName:null,disabled:sV,download:aV,draggable:iV,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:sV,formTarget:null,headers:oV,height:rV,hidden:aV,high:rV,href:null,hrefLang:null,htmlFor:oV,httpEquiv:oV,id:null,imageSizes:null,imageSrcSet:null,inert:sV,inputMode:null,integrity:null,is:null,isMap:sV,itemId:null,itemProp:oV,itemRef:oV,itemScope:sV,itemType:oV,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:sV,low:rV,manifest:null,max:null,maxLength:rV,media:null,method:null,min:null,minLength:rV,multiple:sV,muted:sV,name:null,nonce:null,noModule:sV,noValidate:sV,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:sV,optimum:rV,pattern:null,ping:oV,placeholder:null,playsInline:sV,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:sV,referrerPolicy:null,rel:oV,required:sV,reversed:sV,rows:rV,rowSpan:rV,sandbox:oV,scope:null,scoped:sV,seamless:sV,selected:sV,shadowRootClonable:sV,shadowRootDelegatesFocus:sV,shadowRootMode:null,shape:null,size:rV,sizes:null,slot:null,span:rV,spellCheck:iV,src:null,srcDoc:null,srcLang:null,srcSet:null,start:rV,step:null,style:null,tabIndex:rV,target:null,title:null,translate:null,type:null,typeMustMatch:sV,useMap:null,value:iV,width:rV,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:oV,axis:null,background:null,bgColor:null,border:rV,borderColor:null,bottomMargin:rV,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:sV,declare:sV,event:null,face:null,frame:null,frameBorder:null,hSpace:rV,leftMargin:rV,link:null,longDesc:null,lowSrc:null,marginHeight:rV,marginWidth:rV,noResize:sV,noHref:sV,noShade:sV,noWrap:sV,object:null,profile:null,prompt:null,rev:null,rightMargin:rV,rules:null,scheme:null,scrolling:iV,standby:null,summary:null,text:null,topMargin:rV,valueType:null,version:null,vAlign:null,vLink:null,vSpace:rV,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:sV,disableRemotePlayback:sV,prefix:null,property:null,results:rV,security:null,unselectable:null},space:"html",transform:vV}),yV=xV({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:cV,accentHeight:rV,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:rV,amplitude:rV,arabicForm:null,ascent:rV,attributeName:null,attributeType:null,azimuth:rV,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:rV,by:null,calcMode:null,capHeight:rV,className:oV,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:rV,diffuseConstant:rV,direction:null,display:null,dur:null,divisor:rV,dominantBaseline:null,download:sV,dx:null,dy:null,edgeMode:null,editable:null,elevation:rV,enableBackground:null,end:null,event:null,exponent:rV,externalResourcesRequired:null,fill:null,fillOpacity:rV,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:lV,g2:lV,glyphName:lV,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:rV,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:rV,horizOriginX:rV,horizOriginY:rV,id:null,ideographic:rV,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:rV,k:rV,k1:rV,k2:rV,k3:rV,k4:rV,kernelMatrix:cV,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:rV,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:rV,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:rV,overlineThickness:rV,paintOrder:null,panose1:null,path:null,pathLength:rV,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:oV,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:rV,pointsAtY:rV,pointsAtZ:rV,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:cV,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:cV,rev:cV,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:cV,requiredFeatures:cV,requiredFonts:cV,requiredFormats:cV,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:rV,specularExponent:rV,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:rV,strikethroughThickness:rV,string:null,stroke:null,strokeDashArray:cV,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:rV,strokeOpacity:rV,strokeWidth:null,style:null,surfaceScale:rV,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:cV,tabIndex:rV,tableValues:null,target:null,targetX:rV,targetY:rV,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:cV,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:rV,underlineThickness:rV,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:rV,values:null,vAlphabetic:rV,vMathematical:rV,vectorEffect:null,vHanging:rV,vIdeographic:rV,version:null,vertAdvY:rV,vertOriginX:rV,vertOriginY:rV,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:rV,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:gV}),wV=xV({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform:(e,t)=>"xlink:"+t.slice(5).toLowerCase()}),jV=xV({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:vV}),CV=xV({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform:(e,t)=>"xml:"+t.slice(3).toLowerCase()}),NV={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},FV=/[A-Z]/g,_V=/-[a-z]/g,kV=/^data[-\w.:]+$/i;function SV(e){return"-"+e.toLowerCase()}function EV(e){return e.charAt(1).toUpperCase()}const IV=XU([fV,bV,wV,jV,CV],"html"),AV=XU([fV,yV,wV,jV,CV],"svg");var TV,DV,MV,LV={};function PV(){if(MV)return LV;MV=1;var e=LV&&LV.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(LV,"__esModule",{value:!0}),LV.default=function(e,n){var s=null;if(!e||"string"!=typeof e)return s;var i=(0,t.default)(e),a="function"==typeof n;return i.forEach(function(e){if("declaration"===e.type){var t=e.property,i=e.value;a?n(t,i,e):i&&((s=s||{})[t]=i)}}),s};var t=e(function(){if(DV)return TV;DV=1;var e=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,t=/\n/g,n=/^\s*/,s=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,i=/^:\s*/,a=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,r=/^[;\s]*/,o=/^\s+|\s+$/g,l="";function c(e){return e?e.replace(o,l):l}return TV=function(o,d){if("string"!=typeof o)throw new TypeError("First argument must be a string");if(!o)return[];d=d||{};var u=1,p=1;function m(e){var n=e.match(t);n&&(u+=n.length);var s=e.lastIndexOf("\n");p=~s?e.length-s:p+e.length}function h(){var e={line:u,column:p};return function(t){return t.position=new x(e),v(),t}}function x(e){this.start=e,this.end={line:u,column:p},this.source=d.source}function f(e){var t=new Error(d.source+":"+u+":"+p+": "+e);if(t.reason=e,t.filename=d.source,t.line=u,t.column=p,t.source=o,!d.silent)throw t}function g(e){var t=e.exec(o);if(t){var n=t[0];return m(n),o=o.slice(n.length),t}}function v(){g(n)}function b(e){var t;for(e=e||[];t=y();)!1!==t&&e.push(t);return e}function y(){var e=h();if("/"==o.charAt(0)&&"*"==o.charAt(1)){for(var t=2;l!=o.charAt(t)&&("*"!=o.charAt(t)||"/"!=o.charAt(t+1));)++t;if(t+=2,l===o.charAt(t-1))return f("End of comment missing");var n=o.slice(2,t-2);return p+=2,m(n),o=o.slice(t),p+=2,e({type:"comment",comment:n})}}function w(){var t=h(),n=g(s);if(n){if(y(),!g(i))return f("property missing ':'");var o=g(a),d=t({type:"declaration",property:c(n[0].replace(e,l)),value:o?c(o[0].replace(e,l)):l});return g(r),d}}return x.prototype.content=o,v(),function(){var e,t=[];for(b(t);e=w();)!1!==e&&(t.push(e),b(t));return t}()}}());return LV}var RV,OV,zV,BV={};function HV(){if(RV)return BV;RV=1,Object.defineProperty(BV,"__esModule",{value:!0}),BV.camelCase=void 0;var e=/^--[a-zA-Z0-9_-]+$/,t=/-([a-z])/g,n=/^[^-]+$/,s=/^-(webkit|moz|ms|o|khtml)-/,i=/^-(ms)-/,a=function(e,t){return t.toUpperCase()},r=function(e,t){return"".concat(t,"-")};return BV.camelCase=function(o,l){return void 0===l&&(l={}),function(t){return!t||n.test(t)||e.test(t)}(o)?o:(o=o.toLowerCase(),(o=l.reactCompat?o.replace(i,r):o.replace(s,r)).replace(t,a))},BV}const $V=Te(function(){if(zV)return OV;zV=1;var e=(OV&&OV.__importDefault||function(e){return e&&e.__esModule?e:{default:e}})(PV()),t=HV();function n(n,s){var i={};return n&&"string"==typeof n?((0,e.default)(n,function(e,n){e&&n&&(i[(0,t.camelCase)(e,s)]=n)}),i):i}return n.default=n,OV=n}()),UV=WV("end"),VV=WV("start");function WV(e){return function(t){const n=t&&t.position&&t.position[e]||{};if("number"==typeof n.line&&n.line>0&&"number"==typeof n.column&&n.column>0)return{line:n.line,column:n.column,offset:"number"==typeof n.offset&&n.offset>-1?n.offset:void 0}}}function qV(e){return e&&"object"==typeof e?"position"in e||"type"in e?ZV(e.position):"start"in e||"end"in e?ZV(e):"line"in e||"column"in e?GV(e):"":""}function GV(e){return YV(e&&e.line)+":"+YV(e&&e.column)}function ZV(e){return GV(e&&e.start)+"-"+GV(e&&e.end)}function YV(e){return e&&"number"==typeof e?e:1}class KV extends Error{constructor(e,t,n){super(),"string"==typeof t&&(n=t,t=void 0);let s="",i={},a=!1;if(t&&(i="line"in t&&"column"in t||"start"in t&&"end"in t?{place:t}:"type"in t?{ancestors:[t],place:t.position}:{...t}),"string"==typeof e?s=e:!i.cause&&e&&(a=!0,s=e.message,i.cause=e),!i.ruleId&&!i.source&&"string"==typeof n){const e=n.indexOf(":");-1===e?i.ruleId=n:(i.source=n.slice(0,e),i.ruleId=n.slice(e+1))}if(!i.place&&i.ancestors&&i.ancestors){const e=i.ancestors[i.ancestors.length-1];e&&(i.place=e.position)}const r=i.place&&"start"in i.place?i.place.start:i.place;this.ancestors=i.ancestors||void 0,this.cause=i.cause||void 0,this.column=r?r.column:void 0,this.fatal=void 0,this.file="",this.message=s,this.line=r?r.line:void 0,this.name=qV(i.place)||"1:1",this.place=i.place||void 0,this.reason=this.message,this.ruleId=i.ruleId||void 0,this.source=i.source||void 0,this.stack=a&&i.cause&&"string"==typeof i.cause.stack?i.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}KV.prototype.file="",KV.prototype.name="",KV.prototype.reason="",KV.prototype.message="",KV.prototype.stack="",KV.prototype.column=void 0,KV.prototype.line=void 0,KV.prototype.ancestors=void 0,KV.prototype.cause=void 0,KV.prototype.fatal=void 0,KV.prototype.place=void 0,KV.prototype.ruleId=void 0,KV.prototype.source=void 0;const JV={}.hasOwnProperty,QV=new Map,XV=/[A-Z]/g,eW=new Set(["table","tbody","thead","tfoot","tr"]),tW=new Set(["td","th"]),nW="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function sW(e,t){if(!t||void 0===t.Fragment)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let s;if(t.development){if("function"!=typeof t.jsxDEV)throw new TypeError("Expected `jsxDEV` in options when `development: true`");s=function(e,t){return n;function n(n,s,i,a){const r=Array.isArray(i.children),o=VV(n);return t(s,i,a,r,{columnNumber:o?o.column-1:void 0,fileName:e,lineNumber:o?o.line:void 0},void 0)}}(n,t.jsxDEV)}else{if("function"!=typeof t.jsx)throw new TypeError("Expected `jsx` in production options");if("function"!=typeof t.jsxs)throw new TypeError("Expected `jsxs` in production options");s=function(e,t,n){return s;function s(e,s,i,a){const r=Array.isArray(i.children)?n:t;return a?r(s,i,a):r(s,i)}}(0,t.jsx,t.jsxs)}const i={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:s,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:!1!==t.passKeys,passNode:t.passNode||!1,schema:"svg"===t.space?AV:IV,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:!1!==t.tableCellAlignToStyle},a=iW(i,e,void 0);return a&&"string"!=typeof a?a:i.create(e,i.Fragment,{children:a||void 0},void 0)}function iW(e,t,n){return"element"===t.type?function(e,t,n){const s=e.schema;let i=s;"svg"===t.tagName.toLowerCase()&&"html"===s.space&&(i=AV,e.schema=i);e.ancestors.push(t);const a=cW(e,t.tagName,!1),r=function(e,t){const n={};let s,i;for(i in t.properties)if("children"!==i&&JV.call(t.properties,i)){const a=lW(e,i,t.properties[i]);if(a){const[i,r]=a;e.tableCellAlignToStyle&&"align"===i&&"string"==typeof r&&tW.has(t.tagName)?s=r:n[i]=r}}if(s){(n.style||(n.style={}))["css"===e.stylePropertyNameCase?"text-align":"textAlign"]=s}return n}(e,t);let o=oW(e,t);eW.has(t.tagName)&&(o=o.filter(function(e){return"string"!=typeof e||!("object"==typeof(t=e)?"text"===t.type&&JU(t.value):JU(t));var t}));return aW(e,r,a,t),rW(r,o),e.ancestors.pop(),e.schema=s,e.create(t,a,r,n)}(e,t,n):"mdxFlowExpression"===t.type||"mdxTextExpression"===t.type?function(e,t){if(t.data&&t.data.estree&&e.evaluater){const n=t.data.estree.body[0];return n.type,e.evaluater.evaluateExpression(n.expression)}dW(e,t.position)}(e,t):"mdxJsxFlowElement"===t.type||"mdxJsxTextElement"===t.type?function(e,t,n){const s=e.schema;let i=s;"svg"===t.name&&"html"===s.space&&(i=AV,e.schema=i);e.ancestors.push(t);const a=null===t.name?e.Fragment:cW(e,t.name,!0),r=function(e,t){const n={};for(const s of t.attributes)if("mdxJsxExpressionAttribute"===s.type)if(s.data&&s.data.estree&&e.evaluater){const t=s.data.estree.body[0];VU(t.type);const i=t.expression;VU(i.type);const a=i.properties[0];VU(a.type),Object.assign(n,e.evaluater.evaluateExpression(a.argument))}else dW(e,t.position);else{const i=s.name;let a;if(s.value&&"object"==typeof s.value)if(s.value.data&&s.value.data.estree&&e.evaluater){const t=s.value.data.estree.body[0];VU(t.type),a=e.evaluater.evaluateExpression(t.expression)}else dW(e,t.position);else a=null===s.value||s.value;n[i]=a}return n}(e,t),o=oW(e,t);return aW(e,r,a,t),rW(r,o),e.ancestors.pop(),e.schema=s,e.create(t,a,r,n)}(e,t,n):"mdxjsEsm"===t.type?function(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);dW(e,t.position)}(e,t):"root"===t.type?function(e,t,n){const s={};return rW(s,oW(e,t)),e.create(t,e.Fragment,s,n)}(e,t,n):"text"===t.type?function(e,t){return t.value}(0,t):void 0}function aW(e,t,n,s){"string"!=typeof n&&n!==e.Fragment&&e.passNode&&(t.node=s)}function rW(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function oW(e,t){const n=[];let s=-1;const i=e.passKeys?new Map:QV;for(;++s<t.children.length;){const a=t.children[s];let r;if(e.passKeys){const e="element"===a.type?a.tagName:"mdxJsxFlowElement"===a.type||"mdxJsxTextElement"===a.type?a.name:void 0;if(e){const t=i.get(e)||0;r=e+"-"+t,i.set(e,t+1)}}const o=iW(e,a,r);void 0!==o&&n.push(o)}return n}function lW(e,t,n){const s=function(e,t){const n=eV(t);let s=t,i=tV;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&"data"===n.slice(0,4)&&kV.test(t)){if("-"===t.charAt(4)){const e=t.slice(5).replace(_V,EV);s="data"+e.charAt(0).toUpperCase()+e.slice(1)}else{const e=t.slice(4);if(!_V.test(e)){let n=e.replace(FV,SV);"-"!==n.charAt(0)&&(n="-"+n),t="data"+n}}i=mV}return new i(s,t)}(e.schema,t);if(!(null==n||"number"==typeof n&&Number.isNaN(n))){if(Array.isArray(n)&&(n=s.commaSeparated?function(e){const t={};return(""===e[e.length-1]?[...e,""]:e).join((t.padRight?" ":"")+","+(!1===t.padLeft?"":" ")).trim()}(n):n.join(" ").trim()),"style"===s.property){let t="object"==typeof n?n:function(e,t){try{return $V(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const t=n,s=new KV("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:t,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw s.file=e.filePath||void 0,s.url=nW+"#cannot-parse-style-attribute",s}}(e,String(n));return"css"===e.stylePropertyNameCase&&(t=function(e){const t={};let n;for(n in e)JV.call(e,n)&&(t[uW(n)]=e[n]);return t}(t)),["style",t]}return["react"===e.elementAttributeNameCase&&s.space?NV[s.property]||s.property:s.attribute,n]}}function cW(e,t,n){let s;if(n)if(t.includes(".")){const e=t.split(".");let n,i=-1;for(;++i<e.length;){const t=YU(e[i])?{type:"Identifier",name:e[i]}:{type:"Literal",value:e[i]};n=n?{type:"MemberExpression",object:n,property:t,computed:Boolean(i&&"Literal"===t.type),optional:!1}:t}s=n}else s=YU(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};else s={type:"Literal",value:t};if("Literal"===s.type){const t=s.value;return JV.call(e.components,t)?e.components[t]:t}if(e.evaluater)return e.evaluater.evaluateExpression(s);dW(e)}function dW(e,t){const n=new KV("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=nW+"#cannot-handle-mdx-estrees-without-createevaluater",n}function uW(e){let t=e.replace(XV,pW);return"ms-"===t.slice(0,3)&&(t="-"+t),t}function pW(e){return"-"+e.toLowerCase()}const mW={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},hW={};function xW(e,t){return fW(e,"boolean"!=typeof hW.includeImageAlt||hW.includeImageAlt,"boolean"!=typeof hW.includeHtml||hW.includeHtml)}function fW(e,t,n){if(function(e){return Boolean(e&&"object"==typeof e)}(e)){if("value"in e)return"html"!==e.type||n?e.value:"";if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return gW(e.children,t,n)}return Array.isArray(e)?gW(e,t,n):""}function gW(e,t,n){const s=[];let i=-1;for(;++i<e.length;)s[i]=fW(e[i],t,n);return s.join("")}const vW=document.createElement("i");function bW(e){const t="&"+e+";";vW.innerHTML=t;const n=vW.textContent;return(59!==n.charCodeAt(n.length-1)||"semi"===e)&&(n!==t&&n)}function yW(e,t,n,s){const i=e.length;let a,r=0;if(t=t<0?-t>i?0:i+t:t>i?i:t,n=n>0?n:0,s.length<1e4)a=Array.from(s),a.unshift(t,n),e.splice(...a);else for(n&&e.splice(t,n);r<s.length;)a=s.slice(r,r+1e4),a.unshift(t,0),e.splice(...a),r+=1e4,t+=1e4}function wW(e,t){return e.length>0?(yW(e,e.length,0,t),e):t}const jW={}.hasOwnProperty;function CW(e){const t={};let n=-1;for(;++n<e.length;)NW(t,e[n]);return t}function NW(e,t){let n;for(n in t){const s=(jW.call(e,n)?e[n]:void 0)||(e[n]={}),i=t[n];let a;if(i)for(a in i){jW.call(s,a)||(s[a]=[]);const e=i[a];FW(s[a],Array.isArray(e)?e:e?[e]:[])}}}function FW(e,t){let n=-1;const s=[];for(;++n<t.length;)("after"===t[n].add?e:s).push(t[n]);yW(e,0,0,s)}function _W(e,t){const n=Number.parseInt(e,t);return n<9||11===n||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||!(65535&~n)||65534==(65535&n)||n>1114111?"":String.fromCodePoint(n)}function kW(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const SW=BW(/[A-Za-z]/),EW=BW(/[\dA-Za-z]/),IW=BW(/[#-'*+\--9=?A-Z^-~]/);function AW(e){return null!==e&&(e<32||127===e)}const TW=BW(/\d/),DW=BW(/[\dA-Fa-f]/),MW=BW(/[!-/:-@[-`{-~]/);function LW(e){return null!==e&&e<-2}function PW(e){return null!==e&&(e<0||32===e)}function RW(e){return-2===e||-1===e||32===e}const OW=BW(new RegExp("\\p{P}|\\p{S}","u")),zW=BW(/\s/);function BW(e){return function(t){return null!==t&&t>-1&&e.test(String.fromCharCode(t))}}function HW(e){const t=[];let n=-1,s=0,i=0;for(;++n<e.length;){const a=e.charCodeAt(n);let r="";if(37===a&&EW(e.charCodeAt(n+1))&&EW(e.charCodeAt(n+2)))i=2;else if(a<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(a))||(r=String.fromCharCode(a));else if(a>55295&&a<57344){const t=e.charCodeAt(n+1);a<56320&&t>56319&&t<57344?(r=String.fromCharCode(a,t),i=1):r=""}else r=String.fromCharCode(a);r&&(t.push(e.slice(s,n),encodeURIComponent(r)),s=n+i+1,r=""),i&&(n+=i,i=0)}return t.join("")+e.slice(s)}function $W(e,t,n,s){const i=s?s-1:Number.POSITIVE_INFINITY;let a=0;return function(s){if(RW(s))return e.enter(n),r(s);return t(s)};function r(s){return RW(s)&&a++<i?(e.consume(s),r):(e.exit(n),t(s))}}const UW={tokenize:function(e){const t=e.attempt(this.parser.constructs.contentInitial,function(n){if(null===n)return void e.consume(n);return e.enter("lineEnding"),e.consume(n),e.exit("lineEnding"),$W(e,t,"linePrefix")},function(t){return e.enter("paragraph"),s(t)});let n;return t;function s(t){const s=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=s),n=s,i(t)}function i(t){return null===t?(e.exit("chunkText"),e.exit("paragraph"),void e.consume(t)):LW(t)?(e.consume(t),e.exit("chunkText"),s):(e.consume(t),i)}}};const VW={tokenize:function(e){const t=this,n=[];let s,i,a,r=0;return o;function o(s){if(r<n.length){const i=n[r];return t.containerState=i[1],e.attempt(i[0].continuation,l,c)(s)}return c(s)}function l(e){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,s&&v();const n=t.events.length;let i,a=n;for(;a--;)if("exit"===t.events[a][0]&&"chunkFlow"===t.events[a][1].type){i=t.events[a][1].end;break}g(r);let o=n;for(;o<t.events.length;)t.events[o][1].end={...i},o++;return yW(t.events,a+1,0,t.events.slice(n)),t.events.length=o,c(e)}return o(e)}function c(i){if(r===n.length){if(!s)return p(i);if(s.currentConstruct&&s.currentConstruct.concrete)return h(i);t.interrupt=Boolean(s.currentConstruct&&!s._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(WW,d,u)(i)}function d(e){return s&&v(),g(r),p(e)}function u(e){return t.parser.lazy[t.now().line]=r!==n.length,a=t.now().offset,h(e)}function p(n){return t.containerState={},e.attempt(WW,m,h)(n)}function m(e){return r++,n.push([t.currentConstruct,t.containerState]),p(e)}function h(n){return null===n?(s&&v(),g(0),void e.consume(n)):(s=s||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:s,contentType:"flow",previous:i}),x(n))}function x(n){return null===n?(f(e.exit("chunkFlow"),!0),g(0),void e.consume(n)):LW(n)?(e.consume(n),f(e.exit("chunkFlow")),r=0,t.interrupt=void 0,o):(e.consume(n),x)}function f(e,n){const o=t.sliceStream(e);if(n&&o.push(null),e.previous=i,i&&(i.next=e),i=e,s.defineSkip(e.start),s.write(o),t.parser.lazy[e.start.line]){let e=s.events.length;for(;e--;)if(s.events[e][1].start.offset<a&&(!s.events[e][1].end||s.events[e][1].end.offset>a))return;const n=t.events.length;let i,o,l=n;for(;l--;)if("exit"===t.events[l][0]&&"chunkFlow"===t.events[l][1].type){if(i){o=t.events[l][1].end;break}i=!0}for(g(r),e=n;e<t.events.length;)t.events[e][1].end={...o},e++;yW(t.events,l+1,0,t.events.slice(n)),t.events.length=e}}function g(s){let i=n.length;for(;i-- >s;){const s=n[i];t.containerState=s[1],s[0].exit.call(t,e)}n.length=s}function v(){s.write([null]),i=void 0,s=void 0,t.containerState._closeFlow=void 0}}},WW={tokenize:function(e,t,n){return $W(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}};function qW(e){return null===e||PW(e)||zW(e)?1:OW(e)?2:void 0}function GW(e,t,n){const s=[];let i=-1;for(;++i<e.length;){const a=e[i].resolveAll;a&&!s.includes(a)&&(t=a(t,n),s.push(a))}return t}const ZW={name:"attention",resolveAll:function(e,t){let n,s,i,a,r,o,l,c,d=-1;for(;++d<e.length;)if("enter"===e[d][0]&&"attentionSequence"===e[d][1].type&&e[d][1]._close)for(n=d;n--;)if("exit"===e[n][0]&&"attentionSequence"===e[n][1].type&&e[n][1]._open&&t.sliceSerialize(e[n][1]).charCodeAt(0)===t.sliceSerialize(e[d][1]).charCodeAt(0)){if((e[n][1]._close||e[d][1]._open)&&(e[d][1].end.offset-e[d][1].start.offset)%3&&!((e[n][1].end.offset-e[n][1].start.offset+e[d][1].end.offset-e[d][1].start.offset)%3))continue;o=e[n][1].end.offset-e[n][1].start.offset>1&&e[d][1].end.offset-e[d][1].start.offset>1?2:1;const u={...e[n][1].end},p={...e[d][1].start};YW(u,-o),YW(p,o),a={type:o>1?"strongSequence":"emphasisSequence",start:u,end:{...e[n][1].end}},r={type:o>1?"strongSequence":"emphasisSequence",start:{...e[d][1].start},end:p},i={type:o>1?"strongText":"emphasisText",start:{...e[n][1].end},end:{...e[d][1].start}},s={type:o>1?"strong":"emphasis",start:{...a.start},end:{...r.end}},e[n][1].end={...a.start},e[d][1].start={...r.end},l=[],e[n][1].end.offset-e[n][1].start.offset&&(l=wW(l,[["enter",e[n][1],t],["exit",e[n][1],t]])),l=wW(l,[["enter",s,t],["enter",a,t],["exit",a,t],["enter",i,t]]),l=wW(l,GW(t.parser.constructs.insideSpan.null,e.slice(n+1,d),t)),l=wW(l,[["exit",i,t],["enter",r,t],["exit",r,t],["exit",s,t]]),e[d][1].end.offset-e[d][1].start.offset?(c=2,l=wW(l,[["enter",e[d][1],t],["exit",e[d][1],t]])):c=0,yW(e,n-1,d-n+3,l),d=n+l.length-c-2;break}d=-1;for(;++d<e.length;)"attentionSequence"===e[d][1].type&&(e[d][1].type="data");return e},tokenize:function(e,t){const n=this.parser.constructs.attentionMarkers.null,s=this.previous,i=qW(s);let a;return function(t){return a=t,e.enter("attentionSequence"),r(t)};function r(o){if(o===a)return e.consume(o),r;const l=e.exit("attentionSequence"),c=qW(o),d=!c||2===c&&i||n.includes(o),u=!i||2===i&&c||n.includes(s);return l._open=Boolean(42===a?d:d&&(i||!u)),l._close=Boolean(42===a?u:u&&(c||!d)),t(o)}}};function YW(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const KW={name:"autolink",tokenize:function(e,t,n){let s=0;return function(t){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(t),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),i};function i(t){return SW(t)?(e.consume(t),a):64===t?n(t):l(t)}function a(e){return 43===e||45===e||46===e||EW(e)?(s=1,r(e)):l(e)}function r(t){return 58===t?(e.consume(t),s=0,o):(43===t||45===t||46===t||EW(t))&&s++<32?(e.consume(t),r):(s=0,l(t))}function o(s){return 62===s?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(s),e.exit("autolinkMarker"),e.exit("autolink"),t):null===s||32===s||60===s||AW(s)?n(s):(e.consume(s),o)}function l(t){return 64===t?(e.consume(t),c):IW(t)?(e.consume(t),l):n(t)}function c(e){return EW(e)?d(e):n(e)}function d(n){return 46===n?(e.consume(n),s=0,c):62===n?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(n),e.exit("autolinkMarker"),e.exit("autolink"),t):u(n)}function u(t){if((45===t||EW(t))&&s++<63){const n=45===t?u:d;return e.consume(t),n}return n(t)}}};const JW={partial:!0,tokenize:function(e,t,n){return function(t){return RW(t)?$W(e,s,"linePrefix")(t):s(t)};function s(e){return null===e||LW(e)?t(e):n(e)}}};const QW={continuation:{tokenize:function(e,t,n){const s=this;return function(t){if(RW(t))return $W(e,i,"linePrefix",s.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(t);return i(t)};function i(s){return e.attempt(QW,t,n)(s)}}},exit:function(e){e.exit("blockQuote")},name:"blockQuote",tokenize:function(e,t,n){const s=this;return function(t){if(62===t){const n=s.containerState;return n.open||(e.enter("blockQuote",{_container:!0}),n.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(t),e.exit("blockQuoteMarker"),i}return n(t)};function i(n){return RW(n)?(e.enter("blockQuotePrefixWhitespace"),e.consume(n),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(n))}}};const XW={name:"characterEscape",tokenize:function(e,t,n){return function(t){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(t),e.exit("escapeMarker"),s};function s(s){return MW(s)?(e.enter("characterEscapeValue"),e.consume(s),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(s)}}};const eq={name:"characterReference",tokenize:function(e,t,n){const s=this;let i,a,r=0;return function(t){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(t),e.exit("characterReferenceMarker"),o};function o(t){return 35===t?(e.enter("characterReferenceMarkerNumeric"),e.consume(t),e.exit("characterReferenceMarkerNumeric"),l):(e.enter("characterReferenceValue"),i=31,a=EW,c(t))}function l(t){return 88===t||120===t?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(t),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),i=6,a=DW,c):(e.enter("characterReferenceValue"),i=7,a=TW,c(t))}function c(o){if(59===o&&r){const i=e.exit("characterReferenceValue");return a!==EW||bW(s.sliceSerialize(i))?(e.enter("characterReferenceMarker"),e.consume(o),e.exit("characterReferenceMarker"),e.exit("characterReference"),t):n(o)}return a(o)&&r++<i?(e.consume(o),c):n(o)}}};const tq={partial:!0,tokenize:function(e,t,n){const s=this;return function(t){if(null===t)return n(t);return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),i};function i(e){return s.parser.lazy[s.now().line]?n(e):t(e)}}},nq={concrete:!0,name:"codeFenced",tokenize:function(e,t,n){const s=this,i={partial:!0,tokenize:function(e,t,n){let i=0;return r;function r(t){return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),l}function l(t){return e.enter("codeFencedFence"),RW(t)?$W(e,c,"linePrefix",s.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(t):c(t)}function c(t){return t===a?(e.enter("codeFencedFenceSequence"),d(t)):n(t)}function d(t){return t===a?(i++,e.consume(t),d):i>=o?(e.exit("codeFencedFenceSequence"),RW(t)?$W(e,u,"whitespace")(t):u(t)):n(t)}function u(s){return null===s||LW(s)?(e.exit("codeFencedFence"),t(s)):n(s)}}};let a,r=0,o=0;return function(t){return function(t){const n=s.events[s.events.length-1];return r=n&&"linePrefix"===n[1].type?n[2].sliceSerialize(n[1],!0).length:0,a=t,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),l(t)}(t)};function l(t){return t===a?(o++,e.consume(t),l):o<3?n(t):(e.exit("codeFencedFenceSequence"),RW(t)?$W(e,c,"whitespace")(t):c(t))}function c(n){return null===n||LW(n)?(e.exit("codeFencedFence"),s.interrupt?t(n):e.check(tq,m,v)(n)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),d(n))}function d(t){return null===t||LW(t)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),c(t)):RW(t)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),$W(e,u,"whitespace")(t)):96===t&&t===a?n(t):(e.consume(t),d)}function u(t){return null===t||LW(t)?c(t):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),p(t))}function p(t){return null===t||LW(t)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),c(t)):96===t&&t===a?n(t):(e.consume(t),p)}function m(t){return e.attempt(i,v,h)(t)}function h(t){return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),x}function x(t){return r>0&&RW(t)?$W(e,f,"linePrefix",r+1)(t):f(t)}function f(t){return null===t||LW(t)?e.check(tq,m,v)(t):(e.enter("codeFlowValue"),g(t))}function g(t){return null===t||LW(t)?(e.exit("codeFlowValue"),f(t)):(e.consume(t),g)}function v(n){return e.exit("codeFenced"),t(n)}}};const sq={name:"codeIndented",tokenize:function(e,t,n){const s=this;return function(t){return e.enter("codeIndented"),$W(e,i,"linePrefix",5)(t)};function i(e){const t=s.events[s.events.length-1];return t&&"linePrefix"===t[1].type&&t[2].sliceSerialize(t[1],!0).length>=4?a(e):n(e)}function a(t){return null===t?o(t):LW(t)?e.attempt(iq,a,o)(t):(e.enter("codeFlowValue"),r(t))}function r(t){return null===t||LW(t)?(e.exit("codeFlowValue"),a(t)):(e.consume(t),r)}function o(n){return e.exit("codeIndented"),t(n)}}},iq={partial:!0,tokenize:function(e,t,n){const s=this;return i;function i(t){return s.parser.lazy[s.now().line]?n(t):LW(t)?(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),i):$W(e,a,"linePrefix",5)(t)}function a(e){const a=s.events[s.events.length-1];return a&&"linePrefix"===a[1].type&&a[2].sliceSerialize(a[1],!0).length>=4?t(e):LW(e)?i(e):n(e)}}};const aq={name:"codeText",previous:function(e){return 96!==e||"characterEscape"===this.events[this.events.length-1][1].type},resolve:function(e){let t,n,s=e.length-4,i=3;if(!("lineEnding"!==e[i][1].type&&"space"!==e[i][1].type||"lineEnding"!==e[s][1].type&&"space"!==e[s][1].type))for(t=i;++t<s;)if("codeTextData"===e[t][1].type){e[i][1].type="codeTextPadding",e[s][1].type="codeTextPadding",i+=2,s-=2;break}t=i-1,s++;for(;++t<=s;)void 0===n?t!==s&&"lineEnding"!==e[t][1].type&&(n=t):t!==s&&"lineEnding"!==e[t][1].type||(e[n][1].type="codeTextData",t!==n+2&&(e[n][1].end=e[t-1][1].end,e.splice(n+2,t-n-2),s-=t-n-2,t=n+2),n=void 0);return e},tokenize:function(e,t,n){let s,i,a=0;return function(t){return e.enter("codeText"),e.enter("codeTextSequence"),r(t)};function r(t){return 96===t?(e.consume(t),a++,r):(e.exit("codeTextSequence"),o(t))}function o(t){return null===t?n(t):32===t?(e.enter("space"),e.consume(t),e.exit("space"),o):96===t?(i=e.enter("codeTextSequence"),s=0,c(t)):LW(t)?(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),o):(e.enter("codeTextData"),l(t))}function l(t){return null===t||32===t||96===t||LW(t)?(e.exit("codeTextData"),o(t)):(e.consume(t),l)}function c(n){return 96===n?(e.consume(n),s++,c):s===a?(e.exit("codeTextSequence"),e.exit("codeText"),t(n)):(i.type="codeTextData",l(n))}}};class rq{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,t){const n=null==t?Number.POSITIVE_INFINITY:t;return n<this.left.length?this.left.slice(e,n):e>this.left.length?this.right.slice(this.right.length-n+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-n+this.left.length).reverse())}splice(e,t,n){const s=t||0;this.setCursor(Math.trunc(e));const i=this.right.splice(this.right.length-s,Number.POSITIVE_INFINITY);return n&&oq(this.left,n),i.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),oq(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),oq(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&0===this.right.length||e<0&&0===this.left.length))if(e<this.left.length){const t=this.left.splice(e,Number.POSITIVE_INFINITY);oq(this.right,t.reverse())}else{const t=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);oq(this.left,t.reverse())}}}function oq(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function lq(e){const t={};let n,s,i,a,r,o,l,c=-1;const d=new rq(e);for(;++c<d.length;){for(;c in t;)c=t[c];if(n=d.get(c),c&&"chunkFlow"===n[1].type&&"listItemPrefix"===d.get(c-1)[1].type&&(o=n[1]._tokenizer.events,i=0,i<o.length&&"lineEndingBlank"===o[i][1].type&&(i+=2),i<o.length&&"content"===o[i][1].type))for(;++i<o.length&&"content"!==o[i][1].type;)"chunkText"===o[i][1].type&&(o[i][1]._isInFirstContentOfListItem=!0,i++);if("enter"===n[0])n[1].contentType&&(Object.assign(t,cq(d,c)),c=t[c],l=!0);else if(n[1]._container){for(i=c,s=void 0;i--;)if(a=d.get(i),"lineEnding"===a[1].type||"lineEndingBlank"===a[1].type)"enter"===a[0]&&(s&&(d.get(s)[1].type="lineEndingBlank"),a[1].type="lineEnding",s=i);else if("linePrefix"!==a[1].type&&"listItemIndent"!==a[1].type)break;s&&(n[1].end={...d.get(s)[1].start},r=d.slice(s,c),r.unshift(n),d.splice(s,c-s+1,r))}}return yW(e,0,Number.POSITIVE_INFINITY,d.slice(0)),!l}function cq(e,t){const n=e.get(t)[1],s=e.get(t)[2];let i=t-1;const a=[];let r=n._tokenizer;r||(r=s.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(r._contentTypeTextTrailing=!0));const o=r.events,l=[],c={};let d,u,p=-1,m=n,h=0,x=0;const f=[x];for(;m;){for(;e.get(++i)[1]!==m;);a.push(i),m._tokenizer||(d=s.sliceStream(m),m.next||d.push(null),u&&r.defineSkip(m.start),m._isInFirstContentOfListItem&&(r._gfmTasklistFirstContentOfListItem=!0),r.write(d),m._isInFirstContentOfListItem&&(r._gfmTasklistFirstContentOfListItem=void 0)),u=m,m=m.next}for(m=n;++p<o.length;)"exit"===o[p][0]&&"enter"===o[p-1][0]&&o[p][1].type===o[p-1][1].type&&o[p][1].start.line!==o[p][1].end.line&&(x=p+1,f.push(x),m._tokenizer=void 0,m.previous=void 0,m=m.next);for(r.events=[],m?(m._tokenizer=void 0,m.previous=void 0):f.pop(),p=f.length;p--;){const t=o.slice(f[p],f[p+1]),n=a.pop();l.push([n,n+t.length-1]),e.splice(n,2,t)}for(l.reverse(),p=-1;++p<l.length;)c[h+l[p][0]]=h+l[p][1],h+=l[p][1]-l[p][0]-1;return c}const dq={resolve:function(e){return lq(e),e},tokenize:function(e,t){let n;return function(t){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),s(t)};function s(t){return null===t?i(t):LW(t)?e.check(uq,a,i)(t):(e.consume(t),s)}function i(n){return e.exit("chunkContent"),e.exit("content"),t(n)}function a(t){return e.consume(t),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,s}}},uq={partial:!0,tokenize:function(e,t,n){const s=this;return function(t){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),$W(e,i,"linePrefix")};function i(i){if(null===i||LW(i))return n(i);const a=s.events[s.events.length-1];return!s.parser.constructs.disable.null.includes("codeIndented")&&a&&"linePrefix"===a[1].type&&a[2].sliceSerialize(a[1],!0).length>=4?t(i):e.interrupt(s.parser.constructs.flow,n,t)(i)}}};function pq(e,t,n,s,i,a,r,o,l){const c=l||Number.POSITIVE_INFINITY;let d=0;return function(t){if(60===t)return e.enter(s),e.enter(i),e.enter(a),e.consume(t),e.exit(a),u;if(null===t||32===t||41===t||AW(t))return n(t);return e.enter(s),e.enter(r),e.enter(o),e.enter("chunkString",{contentType:"string"}),h(t)};function u(n){return 62===n?(e.enter(a),e.consume(n),e.exit(a),e.exit(i),e.exit(s),t):(e.enter(o),e.enter("chunkString",{contentType:"string"}),p(n))}function p(t){return 62===t?(e.exit("chunkString"),e.exit(o),u(t)):null===t||60===t||LW(t)?n(t):(e.consume(t),92===t?m:p)}function m(t){return 60===t||62===t||92===t?(e.consume(t),p):p(t)}function h(i){return d||null!==i&&41!==i&&!PW(i)?d<c&&40===i?(e.consume(i),d++,h):41===i?(e.consume(i),d--,h):null===i||32===i||40===i||AW(i)?n(i):(e.consume(i),92===i?x:h):(e.exit("chunkString"),e.exit(o),e.exit(r),e.exit(s),t(i))}function x(t){return 40===t||41===t||92===t?(e.consume(t),h):h(t)}}function mq(e,t,n,s,i,a){const r=this;let o,l=0;return function(t){return e.enter(s),e.enter(i),e.consume(t),e.exit(i),e.enter(a),c};function c(u){return l>999||null===u||91===u||93===u&&!o||94===u&&!l&&"_hiddenFootnoteSupport"in r.parser.constructs?n(u):93===u?(e.exit(a),e.enter(i),e.consume(u),e.exit(i),e.exit(s),t):LW(u)?(e.enter("lineEnding"),e.consume(u),e.exit("lineEnding"),c):(e.enter("chunkString",{contentType:"string"}),d(u))}function d(t){return null===t||91===t||93===t||LW(t)||l++>999?(e.exit("chunkString"),c(t)):(e.consume(t),o||(o=!RW(t)),92===t?u:d)}function u(t){return 91===t||92===t||93===t?(e.consume(t),l++,d):d(t)}}function hq(e,t,n,s,i,a){let r;return function(t){if(34===t||39===t||40===t)return e.enter(s),e.enter(i),e.consume(t),e.exit(i),r=40===t?41:t,o;return n(t)};function o(n){return n===r?(e.enter(i),e.consume(n),e.exit(i),e.exit(s),t):(e.enter(a),l(n))}function l(t){return t===r?(e.exit(a),o(r)):null===t?n(t):LW(t)?(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),$W(e,l,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),c(t))}function c(t){return t===r||null===t||LW(t)?(e.exit("chunkString"),l(t)):(e.consume(t),92===t?d:c)}function d(t){return t===r||92===t?(e.consume(t),c):c(t)}}function xq(e,t){let n;return function s(i){if(LW(i))return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,s;if(RW(i))return $W(e,s,n?"linePrefix":"lineSuffix")(i);return t(i)}}const fq={name:"definition",tokenize:function(e,t,n){const s=this;let i;return function(t){return e.enter("definition"),function(t){return mq.call(s,e,a,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(t)}(t)};function a(t){return i=kW(s.sliceSerialize(s.events[s.events.length-1][1]).slice(1,-1)),58===t?(e.enter("definitionMarker"),e.consume(t),e.exit("definitionMarker"),r):n(t)}function r(t){return PW(t)?xq(e,o)(t):o(t)}function o(t){return pq(e,l,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(t)}function l(t){return e.attempt(gq,c,c)(t)}function c(t){return RW(t)?$W(e,d,"whitespace")(t):d(t)}function d(a){return null===a||LW(a)?(e.exit("definition"),s.parser.defined.push(i),t(a)):n(a)}}},gq={partial:!0,tokenize:function(e,t,n){return function(t){return PW(t)?xq(e,s)(t):n(t)};function s(t){return hq(e,i,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(t)}function i(t){return RW(t)?$W(e,a,"whitespace")(t):a(t)}function a(e){return null===e||LW(e)?t(e):n(e)}}};const vq={name:"hardBreakEscape",tokenize:function(e,t,n){return function(t){return e.enter("hardBreakEscape"),e.consume(t),s};function s(s){return LW(s)?(e.exit("hardBreakEscape"),t(s)):n(s)}}};const bq={name:"headingAtx",resolve:function(e,t){let n,s,i=e.length-2,a=3;"whitespace"===e[a][1].type&&(a+=2);i-2>a&&"whitespace"===e[i][1].type&&(i-=2);"atxHeadingSequence"===e[i][1].type&&(a===i-1||i-4>a&&"whitespace"===e[i-2][1].type)&&(i-=a+1===i?2:4);i>a&&(n={type:"atxHeadingText",start:e[a][1].start,end:e[i][1].end},s={type:"chunkText",start:e[a][1].start,end:e[i][1].end,contentType:"text"},yW(e,a,i-a+1,[["enter",n,t],["enter",s,t],["exit",s,t],["exit",n,t]]));return e},tokenize:function(e,t,n){let s=0;return function(t){return e.enter("atxHeading"),function(t){return e.enter("atxHeadingSequence"),i(t)}(t)};function i(t){return 35===t&&s++<6?(e.consume(t),i):null===t||PW(t)?(e.exit("atxHeadingSequence"),a(t)):n(t)}function a(n){return 35===n?(e.enter("atxHeadingSequence"),r(n)):null===n||LW(n)?(e.exit("atxHeading"),t(n)):RW(n)?$W(e,a,"whitespace")(n):(e.enter("atxHeadingText"),o(n))}function r(t){return 35===t?(e.consume(t),r):(e.exit("atxHeadingSequence"),a(t))}function o(t){return null===t||35===t||PW(t)?(e.exit("atxHeadingText"),a(t)):(e.consume(t),o)}}};const yq=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],wq=["pre","script","style","textarea"],jq={concrete:!0,name:"htmlFlow",resolveTo:function(e){let t=e.length;for(;t--&&("enter"!==e[t][0]||"htmlFlow"!==e[t][1].type););t>1&&"linePrefix"===e[t-2][1].type&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2));return e},tokenize:function(e,t,n){const s=this;let i,a,r,o,l;return function(t){return function(t){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(t),c}(t)};function c(o){return 33===o?(e.consume(o),d):47===o?(e.consume(o),a=!0,m):63===o?(e.consume(o),i=3,s.interrupt?t:M):SW(o)?(e.consume(o),r=String.fromCharCode(o),h):n(o)}function d(a){return 45===a?(e.consume(a),i=2,u):91===a?(e.consume(a),i=5,o=0,p):SW(a)?(e.consume(a),i=4,s.interrupt?t:M):n(a)}function u(i){return 45===i?(e.consume(i),s.interrupt?t:M):n(i)}function p(i){const a="CDATA[";return i===a.charCodeAt(o++)?(e.consume(i),6===o?s.interrupt?t:_:p):n(i)}function m(t){return SW(t)?(e.consume(t),r=String.fromCharCode(t),h):n(t)}function h(o){if(null===o||47===o||62===o||PW(o)){const l=47===o,c=r.toLowerCase();return l||a||!wq.includes(c)?yq.includes(r.toLowerCase())?(i=6,l?(e.consume(o),x):s.interrupt?t(o):_(o)):(i=7,s.interrupt&&!s.parser.lazy[s.now().line]?n(o):a?f(o):g(o)):(i=1,s.interrupt?t(o):_(o))}return 45===o||EW(o)?(e.consume(o),r+=String.fromCharCode(o),h):n(o)}function x(i){return 62===i?(e.consume(i),s.interrupt?t:_):n(i)}function f(t){return RW(t)?(e.consume(t),f):N(t)}function g(t){return 47===t?(e.consume(t),N):58===t||95===t||SW(t)?(e.consume(t),v):RW(t)?(e.consume(t),g):N(t)}function v(t){return 45===t||46===t||58===t||95===t||EW(t)?(e.consume(t),v):b(t)}function b(t){return 61===t?(e.consume(t),y):RW(t)?(e.consume(t),b):g(t)}function y(t){return null===t||60===t||61===t||62===t||96===t?n(t):34===t||39===t?(e.consume(t),l=t,w):RW(t)?(e.consume(t),y):j(t)}function w(t){return t===l?(e.consume(t),l=null,C):null===t||LW(t)?n(t):(e.consume(t),w)}function j(t){return null===t||34===t||39===t||47===t||60===t||61===t||62===t||96===t||PW(t)?b(t):(e.consume(t),j)}function C(e){return 47===e||62===e||RW(e)?g(e):n(e)}function N(t){return 62===t?(e.consume(t),F):n(t)}function F(t){return null===t||LW(t)?_(t):RW(t)?(e.consume(t),F):n(t)}function _(t){return 45===t&&2===i?(e.consume(t),I):60===t&&1===i?(e.consume(t),A):62===t&&4===i?(e.consume(t),L):63===t&&3===i?(e.consume(t),M):93===t&&5===i?(e.consume(t),D):!LW(t)||6!==i&&7!==i?null===t||LW(t)?(e.exit("htmlFlowData"),k(t)):(e.consume(t),_):(e.exit("htmlFlowData"),e.check(Cq,P,k)(t))}function k(t){return e.check(Nq,S,P)(t)}function S(t){return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),E}function E(t){return null===t||LW(t)?k(t):(e.enter("htmlFlowData"),_(t))}function I(t){return 45===t?(e.consume(t),M):_(t)}function A(t){return 47===t?(e.consume(t),r="",T):_(t)}function T(t){if(62===t){const n=r.toLowerCase();return wq.includes(n)?(e.consume(t),L):_(t)}return SW(t)&&r.length<8?(e.consume(t),r+=String.fromCharCode(t),T):_(t)}function D(t){return 93===t?(e.consume(t),M):_(t)}function M(t){return 62===t?(e.consume(t),L):45===t&&2===i?(e.consume(t),M):_(t)}function L(t){return null===t||LW(t)?(e.exit("htmlFlowData"),P(t)):(e.consume(t),L)}function P(n){return e.exit("htmlFlow"),t(n)}}},Cq={partial:!0,tokenize:function(e,t,n){return function(s){return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),e.attempt(JW,t,n)}}},Nq={partial:!0,tokenize:function(e,t,n){const s=this;return function(t){if(LW(t))return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),i;return n(t)};function i(e){return s.parser.lazy[s.now().line]?n(e):t(e)}}};const Fq={name:"htmlText",tokenize:function(e,t,n){const s=this;let i,a,r;return function(t){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(t),o};function o(t){return 33===t?(e.consume(t),l):47===t?(e.consume(t),y):63===t?(e.consume(t),v):SW(t)?(e.consume(t),C):n(t)}function l(t){return 45===t?(e.consume(t),c):91===t?(e.consume(t),a=0,m):SW(t)?(e.consume(t),g):n(t)}function c(t){return 45===t?(e.consume(t),p):n(t)}function d(t){return null===t?n(t):45===t?(e.consume(t),u):LW(t)?(r=d,T(t)):(e.consume(t),d)}function u(t){return 45===t?(e.consume(t),p):d(t)}function p(e){return 62===e?A(e):45===e?u(e):d(e)}function m(t){const s="CDATA[";return t===s.charCodeAt(a++)?(e.consume(t),6===a?h:m):n(t)}function h(t){return null===t?n(t):93===t?(e.consume(t),x):LW(t)?(r=h,T(t)):(e.consume(t),h)}function x(t){return 93===t?(e.consume(t),f):h(t)}function f(t){return 62===t?A(t):93===t?(e.consume(t),f):h(t)}function g(t){return null===t||62===t?A(t):LW(t)?(r=g,T(t)):(e.consume(t),g)}function v(t){return null===t?n(t):63===t?(e.consume(t),b):LW(t)?(r=v,T(t)):(e.consume(t),v)}function b(e){return 62===e?A(e):v(e)}function y(t){return SW(t)?(e.consume(t),w):n(t)}function w(t){return 45===t||EW(t)?(e.consume(t),w):j(t)}function j(t){return LW(t)?(r=j,T(t)):RW(t)?(e.consume(t),j):A(t)}function C(t){return 45===t||EW(t)?(e.consume(t),C):47===t||62===t||PW(t)?N(t):n(t)}function N(t){return 47===t?(e.consume(t),A):58===t||95===t||SW(t)?(e.consume(t),F):LW(t)?(r=N,T(t)):RW(t)?(e.consume(t),N):A(t)}function F(t){return 45===t||46===t||58===t||95===t||EW(t)?(e.consume(t),F):_(t)}function _(t){return 61===t?(e.consume(t),k):LW(t)?(r=_,T(t)):RW(t)?(e.consume(t),_):N(t)}function k(t){return null===t||60===t||61===t||62===t||96===t?n(t):34===t||39===t?(e.consume(t),i=t,S):LW(t)?(r=k,T(t)):RW(t)?(e.consume(t),k):(e.consume(t),E)}function S(t){return t===i?(e.consume(t),i=void 0,I):null===t?n(t):LW(t)?(r=S,T(t)):(e.consume(t),S)}function E(t){return null===t||34===t||39===t||60===t||61===t||96===t?n(t):47===t||62===t||PW(t)?N(t):(e.consume(t),E)}function I(e){return 47===e||62===e||PW(e)?N(e):n(e)}function A(s){return 62===s?(e.consume(s),e.exit("htmlTextData"),e.exit("htmlText"),t):n(s)}function T(t){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),D}function D(t){return RW(t)?$W(e,M,"linePrefix",s.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(t):M(t)}function M(t){return e.enter("htmlTextData"),r(t)}}};const _q={name:"labelEnd",resolveAll:function(e){let t=-1;const n=[];for(;++t<e.length;){const s=e[t][1];if(n.push(e[t]),"labelImage"===s.type||"labelLink"===s.type||"labelEnd"===s.type){const e="labelImage"===s.type?4:2;s.type="data",t+=e}}e.length!==n.length&&yW(e,0,e.length,n);return e},resolveTo:function(e,t){let n,s,i,a,r=e.length,o=0;for(;r--;)if(n=e[r][1],s){if("link"===n.type||"labelLink"===n.type&&n._inactive)break;"enter"===e[r][0]&&"labelLink"===n.type&&(n._inactive=!0)}else if(i){if("enter"===e[r][0]&&("labelImage"===n.type||"labelLink"===n.type)&&!n._balanced&&(s=r,"labelLink"!==n.type)){o=2;break}}else"labelEnd"===n.type&&(i=r);const l={type:"labelLink"===e[s][1].type?"link":"image",start:{...e[s][1].start},end:{...e[e.length-1][1].end}},c={type:"label",start:{...e[s][1].start},end:{...e[i][1].end}},d={type:"labelText",start:{...e[s+o+2][1].end},end:{...e[i-2][1].start}};return a=[["enter",l,t],["enter",c,t]],a=wW(a,e.slice(s+1,s+o+3)),a=wW(a,[["enter",d,t]]),a=wW(a,GW(t.parser.constructs.insideSpan.null,e.slice(s+o+4,i-3),t)),a=wW(a,[["exit",d,t],e[i-2],e[i-1],["exit",c,t]]),a=wW(a,e.slice(i+1)),a=wW(a,[["exit",l,t]]),yW(e,s,e.length,a),e},tokenize:function(e,t,n){const s=this;let i,a,r=s.events.length;for(;r--;)if(("labelImage"===s.events[r][1].type||"labelLink"===s.events[r][1].type)&&!s.events[r][1]._balanced){i=s.events[r][1];break}return function(t){if(!i)return n(t);if(i._inactive)return d(t);return a=s.parser.defined.includes(kW(s.sliceSerialize({start:i.end,end:s.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(t),e.exit("labelMarker"),e.exit("labelEnd"),o};function o(t){return 40===t?e.attempt(kq,c,a?c:d)(t):91===t?e.attempt(Sq,c,a?l:d)(t):a?c(t):d(t)}function l(t){return e.attempt(Eq,c,d)(t)}function c(e){return t(e)}function d(e){return i._balanced=!0,n(e)}}},kq={tokenize:function(e,t,n){return function(t){return e.enter("resource"),e.enter("resourceMarker"),e.consume(t),e.exit("resourceMarker"),s};function s(t){return PW(t)?xq(e,i)(t):i(t)}function i(t){return 41===t?c(t):pq(e,a,r,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(t)}function a(t){return PW(t)?xq(e,o)(t):c(t)}function r(e){return n(e)}function o(t){return 34===t||39===t||40===t?hq(e,l,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(t):c(t)}function l(t){return PW(t)?xq(e,c)(t):c(t)}function c(s){return 41===s?(e.enter("resourceMarker"),e.consume(s),e.exit("resourceMarker"),e.exit("resource"),t):n(s)}}},Sq={tokenize:function(e,t,n){const s=this;return function(t){return mq.call(s,e,i,a,"reference","referenceMarker","referenceString")(t)};function i(e){return s.parser.defined.includes(kW(s.sliceSerialize(s.events[s.events.length-1][1]).slice(1,-1)))?t(e):n(e)}function a(e){return n(e)}}},Eq={tokenize:function(e,t,n){return function(t){return e.enter("reference"),e.enter("referenceMarker"),e.consume(t),e.exit("referenceMarker"),s};function s(s){return 93===s?(e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),e.exit("reference"),t):n(s)}}};const Iq={name:"labelStartImage",resolveAll:_q.resolveAll,tokenize:function(e,t,n){const s=this;return function(t){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(t),e.exit("labelImageMarker"),i};function i(t){return 91===t?(e.enter("labelMarker"),e.consume(t),e.exit("labelMarker"),e.exit("labelImage"),a):n(t)}function a(e){return 94===e&&"_hiddenFootnoteSupport"in s.parser.constructs?n(e):t(e)}}};const Aq={name:"labelStartLink",resolveAll:_q.resolveAll,tokenize:function(e,t,n){const s=this;return function(t){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(t),e.exit("labelMarker"),e.exit("labelLink"),i};function i(e){return 94===e&&"_hiddenFootnoteSupport"in s.parser.constructs?n(e):t(e)}}};const Tq={name:"lineEnding",tokenize:function(e,t){return function(n){return e.enter("lineEnding"),e.consume(n),e.exit("lineEnding"),$W(e,t,"linePrefix")}}};const Dq={name:"thematicBreak",tokenize:function(e,t,n){let s,i=0;return function(t){return e.enter("thematicBreak"),function(e){return s=e,a(e)}(t)};function a(a){return a===s?(e.enter("thematicBreakSequence"),r(a)):i>=3&&(null===a||LW(a))?(e.exit("thematicBreak"),t(a)):n(a)}function r(t){return t===s?(e.consume(t),i++,r):(e.exit("thematicBreakSequence"),RW(t)?$W(e,a,"whitespace")(t):a(t))}}};const Mq={continuation:{tokenize:function(e,t,n){const s=this;return s.containerState._closeFlow=void 0,e.check(JW,function(n){return s.containerState.furtherBlankLines=s.containerState.furtherBlankLines||s.containerState.initialBlankLine,$W(e,t,"listItemIndent",s.containerState.size+1)(n)},function(n){if(s.containerState.furtherBlankLines||!RW(n))return s.containerState.furtherBlankLines=void 0,s.containerState.initialBlankLine=void 0,i(n);return s.containerState.furtherBlankLines=void 0,s.containerState.initialBlankLine=void 0,e.attempt(Pq,t,i)(n)});function i(i){return s.containerState._closeFlow=!0,s.interrupt=void 0,$W(e,e.attempt(Mq,t,n),"linePrefix",s.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(i)}}},exit:function(e){e.exit(this.containerState.type)},name:"list",tokenize:function(e,t,n){const s=this,i=s.events[s.events.length-1];let a=i&&"linePrefix"===i[1].type?i[2].sliceSerialize(i[1],!0).length:0,r=0;return function(t){const i=s.containerState.type||(42===t||43===t||45===t?"listUnordered":"listOrdered");if("listUnordered"===i?!s.containerState.marker||t===s.containerState.marker:TW(t)){if(s.containerState.type||(s.containerState.type=i,e.enter(i,{_container:!0})),"listUnordered"===i)return e.enter("listItemPrefix"),42===t||45===t?e.check(Dq,n,l)(t):l(t);if(!s.interrupt||49===t)return e.enter("listItemPrefix"),e.enter("listItemValue"),o(t)}return n(t)};function o(t){return TW(t)&&++r<10?(e.consume(t),o):(!s.interrupt||r<2)&&(s.containerState.marker?t===s.containerState.marker:41===t||46===t)?(e.exit("listItemValue"),l(t)):n(t)}function l(t){return e.enter("listItemMarker"),e.consume(t),e.exit("listItemMarker"),s.containerState.marker=s.containerState.marker||t,e.check(JW,s.interrupt?n:c,e.attempt(Lq,u,d))}function c(e){return s.containerState.initialBlankLine=!0,a++,u(e)}function d(t){return RW(t)?(e.enter("listItemPrefixWhitespace"),e.consume(t),e.exit("listItemPrefixWhitespace"),u):n(t)}function u(n){return s.containerState.size=a+s.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(n)}}},Lq={partial:!0,tokenize:function(e,t,n){const s=this;return $W(e,function(e){const i=s.events[s.events.length-1];return!RW(e)&&i&&"listItemPrefixWhitespace"===i[1].type?t(e):n(e)},"listItemPrefixWhitespace",s.parser.constructs.disable.null.includes("codeIndented")?void 0:5)}},Pq={partial:!0,tokenize:function(e,t,n){const s=this;return $W(e,function(e){const i=s.events[s.events.length-1];return i&&"listItemIndent"===i[1].type&&i[2].sliceSerialize(i[1],!0).length===s.containerState.size?t(e):n(e)},"listItemIndent",s.containerState.size+1)}};const Rq={name:"setextUnderline",resolveTo:function(e,t){let n,s,i,a=e.length;for(;a--;)if("enter"===e[a][0]){if("content"===e[a][1].type){n=a;break}"paragraph"===e[a][1].type&&(s=a)}else"content"===e[a][1].type&&e.splice(a,1),i||"definition"!==e[a][1].type||(i=a);const r={type:"setextHeading",start:{...e[n][1].start},end:{...e[e.length-1][1].end}};e[s][1].type="setextHeadingText",i?(e.splice(s,0,["enter",r,t]),e.splice(i+1,0,["exit",e[n][1],t]),e[n][1].end={...e[i][1].end}):e[n][1]=r;return e.push(["exit",r,t]),e},tokenize:function(e,t,n){const s=this;let i;return function(t){let r,o=s.events.length;for(;o--;)if("lineEnding"!==s.events[o][1].type&&"linePrefix"!==s.events[o][1].type&&"content"!==s.events[o][1].type){r="paragraph"===s.events[o][1].type;break}if(!s.parser.lazy[s.now().line]&&(s.interrupt||r))return e.enter("setextHeadingLine"),i=t,function(t){return e.enter("setextHeadingLineSequence"),a(t)}(t);return n(t)};function a(t){return t===i?(e.consume(t),a):(e.exit("setextHeadingLineSequence"),RW(t)?$W(e,r,"lineSuffix")(t):r(t))}function r(s){return null===s||LW(s)?(e.exit("setextHeadingLine"),t(s)):n(s)}}};const Oq={tokenize:function(e){const t=this,n=e.attempt(JW,function(s){if(null===s)return void e.consume(s);return e.enter("lineEndingBlank"),e.consume(s),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n},e.attempt(this.parser.constructs.flowInitial,s,$W(e,e.attempt(this.parser.constructs.flow,s,e.attempt(dq,s)),"linePrefix")));return n;function s(s){if(null!==s)return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),t.currentConstruct=void 0,n;e.consume(s)}}};const zq={resolveAll:Uq()},Bq=$q("string"),Hq=$q("text");function $q(e){return{resolveAll:Uq("text"===e?Vq:void 0),tokenize:function(t){const n=this,s=this.parser.constructs[e],i=t.attempt(s,a,r);return a;function a(e){return l(e)?i(e):r(e)}function r(e){if(null!==e)return t.enter("data"),t.consume(e),o;t.consume(e)}function o(e){return l(e)?(t.exit("data"),i(e)):(t.consume(e),o)}function l(e){if(null===e)return!0;const t=s[e];let i=-1;if(t)for(;++i<t.length;){const e=t[i];if(!e.previous||e.previous.call(n,n.previous))return!0}return!1}}}}function Uq(e){return function(t,n){let s,i=-1;for(;++i<=t.length;)void 0===s?t[i]&&"data"===t[i][1].type&&(s=i,i++):t[i]&&"data"===t[i][1].type||(i!==s+2&&(t[s][1].end=t[i-1][1].end,t.splice(s+2,i-s-2),i=s+2),s=void 0);return e?e(t,n):t}}function Vq(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||"lineEnding"===e[n][1].type)&&"data"===e[n-1][1].type){const s=e[n-1][1],i=t.sliceStream(s);let a,r=i.length,o=-1,l=0;for(;r--;){const e=i[r];if("string"==typeof e){for(o=e.length;32===e.charCodeAt(o-1);)l++,o--;if(o)break;o=-1}else if(-2===e)a=!0,l++;else if(-1!==e){r++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(l=0),l){const i={type:n===e.length||a||l<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:r?o:s.start._bufferIndex+o,_index:s.start._index+r,line:s.end.line,column:s.end.column-l,offset:s.end.offset-l},end:{...s.end}};s.end={...i.start},s.start.offset===s.end.offset?Object.assign(s,i):(e.splice(n,0,["enter",i,t],["exit",i,t]),n+=2)}n++}return e}const Wq={42:Mq,43:Mq,45:Mq,48:Mq,49:Mq,50:Mq,51:Mq,52:Mq,53:Mq,54:Mq,55:Mq,56:Mq,57:Mq,62:QW},qq={91:fq},Gq={[-2]:sq,[-1]:sq,32:sq},Zq={35:bq,42:Dq,45:[Rq,Dq],60:jq,61:Rq,95:Dq,96:nq,126:nq},Yq={38:eq,92:XW},Kq={[-5]:Tq,[-4]:Tq,[-3]:Tq,33:Iq,38:eq,42:ZW,60:[KW,Fq],91:Aq,92:[vq,XW],93:_q,95:ZW,96:aq},Jq={null:[ZW,zq]},Qq=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:{null:[42,95]},contentInitial:qq,disable:{null:[]},document:Wq,flow:Zq,flowInitial:Gq,insideSpan:Jq,string:Yq,text:Kq},Symbol.toStringTag,{value:"Module"}));function Xq(e,t,n){let s={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},a=[];let r=[],o=[];const l={attempt:f(function(e,t){g(e,t.from)}),check:f(x),consume:function(e){LW(e)?(s.line++,s.column=1,s.offset+=-3===e?2:1,v()):-1!==e&&(s.column++,s.offset++);s._bufferIndex<0?s._index++:(s._bufferIndex++,s._bufferIndex===r[s._index].length&&(s._bufferIndex=-1,s._index++));c.previous=e},enter:function(e,t){const n=t||{};return n.type=e,n.start=p(),c.events.push(["enter",n,c]),o.push(n),n},exit:function(e){const t=o.pop();return t.end=p(),c.events.push(["exit",t,c]),t},interrupt:f(x,{interrupt:!0})},c={code:null,containerState:{},defineSkip:function(e){i[e.line]=e.column,v()},events:[],now:p,parser:e,previous:null,sliceSerialize:function(e,t){return function(e,t){let n=-1;const s=[];let i;for(;++n<e.length;){const a=e[n];let r;if("string"==typeof a)r=a;else switch(a){case-5:r="\r";break;case-4:r="\n";break;case-3:r="\r\n";break;case-2:r=t?" ":"\t";break;case-1:if(!t&&i)continue;r=" ";break;default:r=String.fromCharCode(a)}i=-2===a,s.push(r)}return s.join("")}(u(e),t)},sliceStream:u,write:function(e){if(r=wW(r,e),m(),null!==r[r.length-1])return[];return g(t,0),c.events=GW(a,c.events,c),c.events}};let d=t.tokenize.call(c,l);return t.resolveAll&&a.push(t),c;function u(e){return function(e,t){const n=t.start._index,s=t.start._bufferIndex,i=t.end._index,a=t.end._bufferIndex;let r;if(n===i)r=[e[n].slice(s,a)];else{if(r=e.slice(n,i),s>-1){const e=r[0];"string"==typeof e?r[0]=e.slice(s):r.shift()}a>0&&r.push(e[i].slice(0,a))}return r}(r,e)}function p(){const{_bufferIndex:e,_index:t,line:n,column:i,offset:a}=s;return{_bufferIndex:e,_index:t,line:n,column:i,offset:a}}function m(){let e;for(;s._index<r.length;){const t=r[s._index];if("string"==typeof t)for(e=s._index,s._bufferIndex<0&&(s._bufferIndex=0);s._index===e&&s._bufferIndex<t.length;)h(t.charCodeAt(s._bufferIndex));else h(t)}}function h(e){d=d(e)}function x(e,t){t.restore()}function f(e,t){return function(n,i,a){let r,d,u,m;return Array.isArray(n)?h(n):"tokenize"in n?h([n]):function(e){return t;function t(t){const n=null!==t&&e[t],s=null!==t&&e.null;return h([...Array.isArray(n)?n:n?[n]:[],...Array.isArray(s)?s:s?[s]:[]])(t)}}(n);function h(e){return r=e,d=0,0===e.length?a:x(e[d])}function x(e){return function(n){m=function(){const e=p(),t=c.previous,n=c.currentConstruct,i=c.events.length,a=Array.from(o);return{from:i,restore:r};function r(){s=e,c.previous=t,c.currentConstruct=n,c.events.length=i,o=a,v()}}(),u=e,e.partial||(c.currentConstruct=e);if(e.name&&c.parser.constructs.disable.null.includes(e.name))return g();return e.tokenize.call(t?Object.assign(Object.create(c),t):c,l,f,g)(n)}}function f(t){return e(u,m),i}function g(e){return m.restore(),++d<r.length?x(r[d]):a}}}function g(e,t){e.resolveAll&&!a.includes(e)&&a.push(e),e.resolve&&yW(c.events,t,c.events.length-t,e.resolve(c.events.slice(t),c)),e.resolveTo&&(c.events=e.resolveTo(c.events,c))}function v(){s.line in i&&s.column<2&&(s.column=i[s.line],s.offset+=i[s.line]-1)}}const eG=/[\0\t\n\r]/g;const tG=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function nG(e,t,n){if(t)return t;if(35===n.charCodeAt(0)){const e=n.charCodeAt(1),t=120===e||88===e;return _W(n.slice(t?2:1),t?16:10)}return bW(n)||e}const sG={}.hasOwnProperty;function iG(e,t,n){return"string"!=typeof t&&(n=t,t=void 0),function(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:a(te),autolinkProtocol:F,autolinkEmail:F,atxHeading:a(J),blockQuote:a(q),characterEscape:F,characterReference:F,codeFenced:a(G),codeFencedFenceInfo:r,codeFencedFenceMeta:r,codeIndented:a(G,r),codeText:a(Z,r),codeTextData:F,data:F,codeFlowValue:F,definition:a(Y),definitionDestinationString:r,definitionLabelString:r,definitionTitleString:r,emphasis:a(K),hardBreakEscape:a(Q),hardBreakTrailing:a(Q),htmlFlow:a(X,r),htmlFlowData:F,htmlText:a(X,r),htmlTextData:F,image:a(ee),label:r,link:a(te),listItem:a(se),listItemValue:p,listOrdered:a(ne,u),listUnordered:a(ne),paragraph:a(ie),reference:z,referenceString:r,resourceDestinationString:r,resourceTitleString:r,setextHeading:a(J),strong:a(ae),thematicBreak:a(oe)},exit:{atxHeading:l(),atxHeadingSequence:w,autolink:l(),autolinkEmail:W,autolinkProtocol:V,blockQuote:l(),characterEscapeValue:_,characterReferenceMarkerHexadecimal:H,characterReferenceMarkerNumeric:H,characterReferenceValue:$,characterReference:U,codeFenced:l(f),codeFencedFence:x,codeFencedFenceInfo:m,codeFencedFenceMeta:h,codeFlowValue:_,codeIndented:l(g),codeText:l(A),codeTextData:_,data:_,definition:l(),definitionDestinationString:y,definitionLabelString:v,definitionTitleString:b,emphasis:l(),hardBreakEscape:l(S),hardBreakTrailing:l(S),htmlFlow:l(E),htmlFlowData:_,htmlText:l(I),htmlTextData:_,image:l(D),label:L,labelText:M,lineEnding:k,link:l(T),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:B,resourceDestinationString:P,resourceTitleString:R,resource:O,setextHeading:l(N),setextHeadingLineSequence:C,setextHeadingText:j,strong:l(),thematicBreak:l()}};rG(t,(e||{}).mdastExtensions||[]);const n={};return s;function s(e){let s={type:"root",children:[]};const a={stack:[s],tokenStack:[],config:t,enter:o,exit:c,buffer:r,resume:d,data:n},l=[];let u=-1;for(;++u<e.length;)if("listOrdered"===e[u][1].type||"listUnordered"===e[u][1].type)if("enter"===e[u][0])l.push(u);else{u=i(e,l.pop(),u)}for(u=-1;++u<e.length;){const n=t[e[u][0]];sG.call(n,e[u][1].type)&&n[e[u][1].type].call(Object.assign({sliceSerialize:e[u][2].sliceSerialize},a),e[u][1])}if(a.tokenStack.length>0){const e=a.tokenStack[a.tokenStack.length-1];(e[1]||lG).call(a,void 0,e[0])}for(s.position={start:aG(e.length>0?e[0][1].start:{line:1,column:1,offset:0}),end:aG(e.length>0?e[e.length-2][1].end:{line:1,column:1,offset:0})},u=-1;++u<t.transforms.length;)s=t.transforms[u](s)||s;return s}function i(e,t,n){let s,i,a,r,o=t-1,l=-1,c=!1;for(;++o<=n;){const t=e[o];switch(t[1].type){case"listUnordered":case"listOrdered":case"blockQuote":"enter"===t[0]?l++:l--,r=void 0;break;case"lineEndingBlank":"enter"===t[0]&&(!s||r||l||a||(a=o),r=void 0);break;case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:r=void 0}if(!l&&"enter"===t[0]&&"listItemPrefix"===t[1].type||-1===l&&"exit"===t[0]&&("listUnordered"===t[1].type||"listOrdered"===t[1].type)){if(s){let r=o;for(i=void 0;r--;){const t=e[r];if("lineEnding"===t[1].type||"lineEndingBlank"===t[1].type){if("exit"===t[0])continue;i&&(e[i][1].type="lineEndingBlank",c=!0),t[1].type="lineEnding",i=r}else if("linePrefix"!==t[1].type&&"blockQuotePrefix"!==t[1].type&&"blockQuotePrefixWhitespace"!==t[1].type&&"blockQuoteMarker"!==t[1].type&&"listItemIndent"!==t[1].type)break}a&&(!i||a<i)&&(s._spread=!0),s.end=Object.assign({},i?e[i][1].start:t[1].end),e.splice(i||o,0,["exit",s,t[2]]),o++,n++}if("listItemPrefix"===t[1].type){const i={type:"listItem",_spread:!1,start:Object.assign({},t[1].start),end:void 0};s=i,e.splice(o,0,["enter",i,t[2]]),o++,n++,a=void 0,r=!0}}}return e[t][1]._spread=c,n}function a(e,t){return n;function n(n){o.call(this,e(n),n),t&&t.call(this,n)}}function r(){this.stack.push({type:"fragment",children:[]})}function o(e,t,n){this.stack[this.stack.length-1].children.push(e),this.stack.push(e),this.tokenStack.push([t,n||void 0]),e.position={start:aG(t.start),end:void 0}}function l(e){return t;function t(t){e&&e.call(this,t),c.call(this,t)}}function c(e,t){const n=this.stack.pop(),s=this.tokenStack.pop();if(!s)throw new Error("Cannot close `"+e.type+"` ("+qV({start:e.start,end:e.end})+"): its not open");if(s[0].type!==e.type)if(t)t.call(this,e,s[0]);else{(s[1]||lG).call(this,e,s[0])}n.position.end=aG(e.end)}function d(){return xW(this.stack.pop())}function u(){this.data.expectingFirstListItemValue=!0}function p(e){if(this.data.expectingFirstListItemValue){this.stack[this.stack.length-2].start=Number.parseInt(this.sliceSerialize(e),10),this.data.expectingFirstListItemValue=void 0}}function m(){const e=this.resume();this.stack[this.stack.length-1].lang=e}function h(){const e=this.resume();this.stack[this.stack.length-1].meta=e}function x(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function f(){const e=this.resume();this.stack[this.stack.length-1].value=e.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function g(){const e=this.resume();this.stack[this.stack.length-1].value=e.replace(/(\r?\n|\r)$/g,"")}function v(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.label=t,n.identifier=kW(this.sliceSerialize(e)).toLowerCase()}function b(){const e=this.resume();this.stack[this.stack.length-1].title=e}function y(){const e=this.resume();this.stack[this.stack.length-1].url=e}function w(e){const t=this.stack[this.stack.length-1];if(!t.depth){const n=this.sliceSerialize(e).length;t.depth=n}}function j(){this.data.setextHeadingSlurpLineEnding=!0}function C(e){this.stack[this.stack.length-1].depth=61===this.sliceSerialize(e).codePointAt(0)?1:2}function N(){this.data.setextHeadingSlurpLineEnding=void 0}function F(e){const t=this.stack[this.stack.length-1].children;let n=t[t.length-1];n&&"text"===n.type||(n=re(),n.position={start:aG(e.start),end:void 0},t.push(n)),this.stack.push(n)}function _(e){const t=this.stack.pop();t.value+=this.sliceSerialize(e),t.position.end=aG(e.end)}function k(e){const n=this.stack[this.stack.length-1];if(this.data.atHardBreak){return n.children[n.children.length-1].position.end=aG(e.end),void(this.data.atHardBreak=void 0)}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(n.type)&&(F.call(this,e),_.call(this,e))}function S(){this.data.atHardBreak=!0}function E(){const e=this.resume();this.stack[this.stack.length-1].value=e}function I(){const e=this.resume();this.stack[this.stack.length-1].value=e}function A(){const e=this.resume();this.stack[this.stack.length-1].value=e}function T(){const e=this.stack[this.stack.length-1];if(this.data.inReference){const t=this.data.referenceType||"shortcut";e.type+="Reference",e.referenceType=t,delete e.url,delete e.title}else delete e.identifier,delete e.label;this.data.referenceType=void 0}function D(){const e=this.stack[this.stack.length-1];if(this.data.inReference){const t=this.data.referenceType||"shortcut";e.type+="Reference",e.referenceType=t,delete e.url,delete e.title}else delete e.identifier,delete e.label;this.data.referenceType=void 0}function M(e){const t=this.sliceSerialize(e),n=this.stack[this.stack.length-2];n.label=function(e){return e.replace(tG,nG)}(t),n.identifier=kW(t).toLowerCase()}function L(){const e=this.stack[this.stack.length-1],t=this.resume(),n=this.stack[this.stack.length-1];if(this.data.inReference=!0,"link"===n.type){const t=e.children;n.children=t}else n.alt=t}function P(){const e=this.resume();this.stack[this.stack.length-1].url=e}function R(){const e=this.resume();this.stack[this.stack.length-1].title=e}function O(){this.data.inReference=void 0}function z(){this.data.referenceType="collapsed"}function B(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.label=t,n.identifier=kW(this.sliceSerialize(e)).toLowerCase(),this.data.referenceType="full"}function H(e){this.data.characterReferenceType=e.type}function $(e){const t=this.sliceSerialize(e),n=this.data.characterReferenceType;let s;if(n)s=_W(t,"characterReferenceMarkerNumeric"===n?10:16),this.data.characterReferenceType=void 0;else{s=bW(t)}this.stack[this.stack.length-1].value+=s}function U(e){this.stack.pop().position.end=aG(e.end)}function V(e){_.call(this,e);this.stack[this.stack.length-1].url=this.sliceSerialize(e)}function W(e){_.call(this,e);this.stack[this.stack.length-1].url="mailto:"+this.sliceSerialize(e)}function q(){return{type:"blockquote",children:[]}}function G(){return{type:"code",lang:null,meta:null,value:""}}function Z(){return{type:"inlineCode",value:""}}function Y(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function K(){return{type:"emphasis",children:[]}}function J(){return{type:"heading",depth:0,children:[]}}function Q(){return{type:"break"}}function X(){return{type:"html",value:""}}function ee(){return{type:"image",title:null,url:"",alt:null}}function te(){return{type:"link",title:null,url:"",children:[]}}function ne(e){return{type:"list",ordered:"listOrdered"===e.type,start:null,spread:e._spread,children:[]}}function se(e){return{type:"listItem",spread:e._spread,checked:null,children:[]}}function ie(){return{type:"paragraph",children:[]}}function ae(){return{type:"strong",children:[]}}function re(){return{type:"text",value:""}}function oe(){return{type:"thematicBreak"}}}(n)(function(e){for(;!lq(e););return e}(function(e){const t={constructs:CW([Qq,...(e||{}).extensions||[]]),content:n(UW),defined:[],document:n(VW),flow:n(Oq),lazy:{},string:n(Bq),text:n(Hq)};return t;function n(e){return function(n){return Xq(t,e,n)}}}(n).document().write(function(){let e,t=1,n="",s=!0;return function(i,a,r){const o=[];let l,c,d,u,p;for(i=n+("string"==typeof i?i.toString():new TextDecoder(a||void 0).decode(i)),d=0,n="",s&&(65279===i.charCodeAt(0)&&d++,s=void 0);d<i.length;){if(eG.lastIndex=d,l=eG.exec(i),u=l&&void 0!==l.index?l.index:i.length,p=i.charCodeAt(u),!l){n=i.slice(d);break}if(10===p&&d===u&&e)o.push(-3),e=void 0;else switch(e&&(o.push(-5),e=void 0),d<u&&(o.push(i.slice(d,u)),t+=u-d),p){case 0:o.push(65533),t++;break;case 9:for(c=4*Math.ceil(t/4),o.push(-2);t++<c;)o.push(-1);break;case 10:o.push(-4),t=1;break;default:e=!0,t=1}d=u+1}return r&&(e&&o.push(-5),n&&o.push(n),o.push(null)),o}}()(e,t,!0))))}function aG(e){return{line:e.line,column:e.column,offset:e.offset}}function rG(e,t){let n=-1;for(;++n<t.length;){const s=t[n];Array.isArray(s)?rG(e,s):oG(e,s)}}function oG(e,t){let n;for(n in t)if(sG.call(t,n))switch(n){case"canContainEols":{const s=t[n];s&&e[n].push(...s);break}case"transforms":{const s=t[n];s&&e[n].push(...s);break}case"enter":case"exit":{const s=t[n];s&&Object.assign(e[n],s);break}}}function lG(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+qV({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+qV({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+qV({start:t.start,end:t.end})+") is still open")}function cG(e){const t=this;t.parser=function(n){return iG(n,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function dG(e,t){const n=t.referenceType;let s="]";if("collapsed"===n?s+="[]":"full"===n&&(s+="["+(t.label||t.identifier)+"]"),"imageReference"===t.type)return[{type:"text",value:"!["+t.alt+s}];const i=e.all(t),a=i[0];a&&"text"===a.type?a.value="["+a.value:i.unshift({type:"text",value:"["});const r=i[i.length-1];return r&&"text"===r.type?r.value+=s:i.push({type:"text",value:s}),i}function uG(e){const t=e.spread;return null==t?e.children.length>1:t}function pG(e){const t=String(e),n=/\r?\n|\r/g;let s=n.exec(t),i=0;const a=[];for(;s;)a.push(mG(t.slice(i,s.index),i>0,!0),s[0]),i=s.index+s[0].length,s=n.exec(t);return a.push(mG(t.slice(i),i>0,!1)),a.join("")}function mG(e,t,n){let s=0,i=e.length;if(t){let t=e.codePointAt(s);for(;9===t||32===t;)s++,t=e.codePointAt(s)}if(n){let t=e.codePointAt(i-1);for(;9===t||32===t;)i--,t=e.codePointAt(i-1)}return i>s?e.slice(s,i):""}const hG={blockquote:function(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)},break:function(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:"\n"}]},code:function(e,t){const n=t.value?t.value+"\n":"",s={};t.lang&&(s.className=["language-"+t.lang]);let i={type:"element",tagName:"code",properties:s,children:[{type:"text",value:n}]};return t.meta&&(i.data={meta:t.meta}),e.patch(t,i),i=e.applyData(t,i),i={type:"element",tagName:"pre",properties:{},children:[i]},e.patch(t,i),i},delete:function(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},emphasis:function(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},footnoteReference:function(e,t){const n="string"==typeof e.options.clobberPrefix?e.options.clobberPrefix:"user-content-",s=String(t.identifier).toUpperCase(),i=HW(s.toLowerCase()),a=e.footnoteOrder.indexOf(s);let r,o=e.footnoteCounts.get(s);void 0===o?(o=0,e.footnoteOrder.push(s),r=e.footnoteOrder.length):r=a+1,o+=1,e.footnoteCounts.set(s,o);const l={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(o>1?"-"+o:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(r)}]};e.patch(t,l);const c={type:"element",tagName:"sup",properties:{},children:[l]};return e.patch(t,c),e.applyData(t,c)},heading:function(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},html:function(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}},imageReference:function(e,t){const n=String(t.identifier).toUpperCase(),s=e.definitionById.get(n);if(!s)return dG(e,t);const i={src:HW(s.url||""),alt:t.alt};null!==s.title&&void 0!==s.title&&(i.title=s.title);const a={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,a),e.applyData(t,a)},image:function(e,t){const n={src:HW(t.url)};null!==t.alt&&void 0!==t.alt&&(n.alt=t.alt),null!==t.title&&void 0!==t.title&&(n.title=t.title);const s={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,s),e.applyData(t,s)},inlineCode:function(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const s={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,s),e.applyData(t,s)},linkReference:function(e,t){const n=String(t.identifier).toUpperCase(),s=e.definitionById.get(n);if(!s)return dG(e,t);const i={href:HW(s.url||"")};null!==s.title&&void 0!==s.title&&(i.title=s.title);const a={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,a),e.applyData(t,a)},link:function(e,t){const n={href:HW(t.url)};null!==t.title&&void 0!==t.title&&(n.title=t.title);const s={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,s),e.applyData(t,s)},listItem:function(e,t,n){const s=e.all(t),i=n?function(e){let t=!1;if("list"===e.type){t=e.spread||!1;const n=e.children;let s=-1;for(;!t&&++s<n.length;)t=uG(n[s])}return t}(n):uG(t),a={},r=[];if("boolean"==typeof t.checked){const e=s[0];let n;e&&"element"===e.type&&"p"===e.tagName?n=e:(n={type:"element",tagName:"p",properties:{},children:[]},s.unshift(n)),n.children.length>0&&n.children.unshift({type:"text",value:" "}),n.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),a.className=["task-list-item"]}let o=-1;for(;++o<s.length;){const e=s[o];(i||0!==o||"element"!==e.type||"p"!==e.tagName)&&r.push({type:"text",value:"\n"}),"element"!==e.type||"p"!==e.tagName||i?r.push(e):r.push(...e.children)}const l=s[s.length-1];l&&(i||"element"!==l.type||"p"!==l.tagName)&&r.push({type:"text",value:"\n"});const c={type:"element",tagName:"li",properties:a,children:r};return e.patch(t,c),e.applyData(t,c)},list:function(e,t){const n={},s=e.all(t);let i=-1;for("number"==typeof t.start&&1!==t.start&&(n.start=t.start);++i<s.length;){const e=s[i];if("element"===e.type&&"li"===e.tagName&&e.properties&&Array.isArray(e.properties.className)&&e.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const a={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(s,!0)};return e.patch(t,a),e.applyData(t,a)},paragraph:function(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},root:function(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)},strong:function(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},table:function(e,t){const n=e.all(t),s=n.shift(),i=[];if(s){const n={type:"element",tagName:"thead",properties:{},children:e.wrap([s],!0)};e.patch(t.children[0],n),i.push(n)}if(n.length>0){const s={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},a=VV(t.children[1]),r=UV(t.children[t.children.length-1]);a&&r&&(s.position={start:a,end:r}),i.push(s)}const a={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,a),e.applyData(t,a)},tableCell:function(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},tableRow:function(e,t,n){const s=n?n.children:void 0,i=0===(s?s.indexOf(t):1)?"th":"td",a=n&&"table"===n.type?n.align:void 0,r=a?a.length:t.children.length;let o=-1;const l=[];for(;++o<r;){const n=t.children[o],s={},r=a?a[o]:void 0;r&&(s.align=r);let c={type:"element",tagName:i,properties:s,children:[]};n&&(c.children=e.all(n),e.patch(n,c),c=e.applyData(n,c)),l.push(c)}const c={type:"element",tagName:"tr",properties:{},children:e.wrap(l,!0)};return e.patch(t,c),e.applyData(t,c)},text:function(e,t){const n={type:"text",value:pG(String(t.value))};return e.patch(t,n),e.applyData(t,n)},thematicBreak:function(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)},toml:xG,yaml:xG,definition:xG,footnoteDefinition:xG};function xG(){}const fG="object"==typeof self?self:globalThis,gG=e=>((e,t)=>{const n=(t,n)=>(e.set(n,t),t),s=i=>{if(e.has(i))return e.get(i);const[a,r]=t[i];switch(a){case 0:case-1:return n(r,i);case 1:{const e=n([],i);for(const t of r)e.push(s(t));return e}case 2:{const e=n({},i);for(const[t,n]of r)e[s(t)]=s(n);return e}case 3:return n(new Date(r),i);case 4:{const{source:e,flags:t}=r;return n(new RegExp(e,t),i)}case 5:{const e=n(new Map,i);for(const[t,n]of r)e.set(s(t),s(n));return e}case 6:{const e=n(new Set,i);for(const t of r)e.add(s(t));return e}case 7:{const{name:e,message:t}=r;return n(new fG[e](t),i)}case 8:return n(BigInt(r),i);case"BigInt":return n(Object(BigInt(r)),i);case"ArrayBuffer":return n(new Uint8Array(r).buffer,r);case"DataView":{const{buffer:e}=new Uint8Array(r);return n(new DataView(e),r)}}return n(new fG[a](r),i)};return s})(new Map,e)(0),vG="",{toString:bG}={},{keys:yG}=Object,wG=e=>{const t=typeof e;if("object"!==t||!e)return[0,t];const n=bG.call(e).slice(8,-1);switch(n){case"Array":return[1,vG];case"Object":return[2,vG];case"Date":return[3,vG];case"RegExp":return[4,vG];case"Map":return[5,vG];case"Set":return[6,vG];case"DataView":return[1,n]}return n.includes("Array")?[1,n]:n.includes("Error")?[7,n]:[2,n]},jG=([e,t])=>0===e&&("function"===t||"symbol"===t),CG=(e,{json:t,lossy:n}={})=>{const s=[];return((e,t,n,s)=>{const i=(e,t)=>{const i=s.push(e)-1;return n.set(t,i),i},a=s=>{if(n.has(s))return n.get(s);let[r,o]=wG(s);switch(r){case 0:{let t=s;switch(o){case"bigint":r=8,t=s.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+o);t=null;break;case"undefined":return i([-1],s)}return i([r,t],s)}case 1:{if(o){let e=s;return"DataView"===o?e=new Uint8Array(s.buffer):"ArrayBuffer"===o&&(e=new Uint8Array(s)),i([o,[...e]],s)}const e=[],t=i([r,e],s);for(const n of s)e.push(a(n));return t}case 2:{if(o)switch(o){case"BigInt":return i([o,s.toString()],s);case"Boolean":case"Number":case"String":return i([o,s.valueOf()],s)}if(t&&"toJSON"in s)return a(s.toJSON());const n=[],l=i([r,n],s);for(const t of yG(s))!e&&jG(wG(s[t]))||n.push([a(t),a(s[t])]);return l}case 3:return i([r,s.toISOString()],s);case 4:{const{source:e,flags:t}=s;return i([r,{source:e,flags:t}],s)}case 5:{const t=[],n=i([r,t],s);for(const[i,r]of s)(e||!jG(wG(i))&&!jG(wG(r)))&&t.push([a(i),a(r)]);return n}case 6:{const t=[],n=i([r,t],s);for(const i of s)!e&&jG(wG(i))||t.push(a(i));return n}}const{message:l}=s;return i([r,{name:o,message:l}],s)};return a})(!(t||n),!!t,new Map,s)(e),s},NG="function"==typeof structuredClone?(e,t)=>t&&("json"in t||"lossy"in t)?gG(CG(e,t)):structuredClone(e):(e,t)=>gG(CG(e,t));function FG(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function _G(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}const kG=function(e){if(null==e)return EG;if("function"==typeof e)return SG(e);if("object"==typeof e)return Array.isArray(e)?function(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=kG(e[n]);return SG(s);function s(...e){let n=-1;for(;++n<t.length;)if(t[n].apply(this,e))return!0;return!1}}(e):function(e){const t=e;return SG(n);function n(n){const s=n;let i;for(i in e)if(s[i]!==t[i])return!1;return!0}}(e);if("string"==typeof e)return function(e){return SG(t);function t(t){return t&&t.type===e}}(e);throw new Error("Expected function, string, or object as test")};function SG(e){return function(t,n,s){return Boolean(function(e){return null!==e&&"object"==typeof e&&"type"in e}(t)&&e.call(this,t,"number"==typeof n?n:void 0,s||void 0))}}function EG(){return!0}const IG=[],AG=!0,TG=!1;function DG(e,t,n,s){let i;"function"==typeof t&&"function"!=typeof n?(s=n,n=t):i=t;const a=kG(i),r=s?-1:1;!function e(i,o,l){const c=i&&"object"==typeof i?i:{};if("string"==typeof c.type){const e="string"==typeof c.tagName?c.tagName:"string"==typeof c.name?c.name:void 0;Object.defineProperty(d,"name",{value:"node ("+i.type+(e?"<"+e+">":"")+")"})}return d;function d(){let c,d,u,p=IG;if((!t||a(i,o,l[l.length-1]||void 0))&&(p=function(e){if(Array.isArray(e))return e;if("number"==typeof e)return[AG,e];return null==e?IG:[e]}(n(i,l)),p[0]===TG))return p;if("children"in i&&i.children){const t=i;if(t.children&&"skip"!==p[0])for(d=(s?t.children.length:-1)+r,u=l.concat(t);d>-1&&d<t.children.length;){const n=t.children[d];if(c=e(n,d,u)(),c[0]===TG)return c;d="number"==typeof c[1]?c[1]:d+r}}return p}}(e,void 0,[])()}function MG(e,t,n,s){let i,a,r;"function"==typeof t&&"function"!=typeof n?(a=void 0,r=t,i=n):(a=t,r=n,i=s),DG(e,a,function(e,t){const n=t[t.length-1],s=n?n.children.indexOf(e):void 0;return r(e,s,n)},i)}const LG={}.hasOwnProperty,PG={};function RG(e,t){e.position&&(t.position=function(e){const t=VV(e),n=UV(e);if(t&&n)return{start:t,end:n}}(e))}function OG(e,t){let n=t;if(e&&e.data){const t=e.data.hName,s=e.data.hChildren,i=e.data.hProperties;if("string"==typeof t)if("element"===n.type)n.tagName=t;else{n={type:"element",tagName:t,properties:{},children:"children"in n?n.children:[n]}}"element"===n.type&&i&&Object.assign(n.properties,NG(i)),"children"in n&&n.children&&null!=s&&(n.children=s)}return n}function zG(e,t){const n=t.data||{},s=!("value"in t)||LG.call(n,"hProperties")||LG.call(n,"hChildren")?{type:"element",tagName:"div",properties:{},children:e.all(t)}:{type:"text",value:t.value};return e.patch(t,s),e.applyData(t,s)}function BG(e,t){const n=[];let s=-1;for(t&&n.push({type:"text",value:"\n"});++s<e.length;)s&&n.push({type:"text",value:"\n"}),n.push(e[s]);return t&&e.length>0&&n.push({type:"text",value:"\n"}),n}function HG(e){let t=0,n=e.charCodeAt(t);for(;9===n||32===n;)t++,n=e.charCodeAt(t);return e.slice(t)}function $G(e,t){const n=function(e,t){const n=t||PG,s=new Map,i=new Map,a=new Map,r={...hG,...n.handlers},o={all:function(e){const t=[];if("children"in e){const n=e.children;let s=-1;for(;++s<n.length;){const i=o.one(n[s],e);if(i){if(s&&"break"===n[s-1].type&&(Array.isArray(i)||"text"!==i.type||(i.value=HG(i.value)),!Array.isArray(i)&&"element"===i.type)){const e=i.children[0];e&&"text"===e.type&&(e.value=HG(e.value))}Array.isArray(i)?t.push(...i):t.push(i)}}}return t},applyData:OG,definitionById:s,footnoteById:i,footnoteCounts:a,footnoteOrder:[],handlers:r,one:function(e,t){const n=e.type,s=o.handlers[n];if(LG.call(o.handlers,n)&&s)return s(o,e,t);if(o.options.passThrough&&o.options.passThrough.includes(n)){if("children"in e){const{children:t,...n}=e,s=NG(n);return s.children=o.all(e),s}return NG(e)}return(o.options.unknownHandler||zG)(o,e,t)},options:n,patch:RG,wrap:BG};return MG(e,function(e){if("definition"===e.type||"footnoteDefinition"===e.type){const t="definition"===e.type?s:i,n=String(e.identifier).toUpperCase();t.has(n)||t.set(n,e)}}),o}(e,t),s=n.one(e,void 0),i=function(e){const t="string"==typeof e.options.clobberPrefix?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||FG,s=e.options.footnoteBackLabel||_G,i=e.options.footnoteLabel||"Footnotes",a=e.options.footnoteLabelTagName||"h2",r=e.options.footnoteLabelProperties||{className:["sr-only"]},o=[];let l=-1;for(;++l<e.footnoteOrder.length;){const i=e.footnoteById.get(e.footnoteOrder[l]);if(!i)continue;const a=e.all(i),r=String(i.identifier).toUpperCase(),c=HW(r.toLowerCase());let d=0;const u=[],p=e.footnoteCounts.get(r);for(;void 0!==p&&++d<=p;){u.length>0&&u.push({type:"text",value:" "});let e="string"==typeof n?n:n(l,d);"string"==typeof e&&(e={type:"text",value:e}),u.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+c+(d>1?"-"+d:""),dataFootnoteBackref:"",ariaLabel:"string"==typeof s?s:s(l,d),className:["data-footnote-backref"]},children:Array.isArray(e)?e:[e]})}const m=a[a.length-1];if(m&&"element"===m.type&&"p"===m.tagName){const e=m.children[m.children.length-1];e&&"text"===e.type?e.value+=" ":m.children.push({type:"text",value:" "}),m.children.push(...u)}else a.push(...u);const h={type:"element",tagName:"li",properties:{id:t+"fn-"+c},children:e.wrap(a,!0)};e.patch(i,h),o.push(h)}if(0!==o.length)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:a,properties:{...NG(r),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:"\n"},{type:"element",tagName:"ol",properties:{},children:e.wrap(o,!0)},{type:"text",value:"\n"}]}}(n),a=Array.isArray(s)?{type:"root",children:s}:s||{type:"root",children:[]};return i&&a.children.push({type:"text",value:"\n"},i),a}function UG(e,t){return e&&"run"in e?async function(n,s){const i=$G(n,{file:s,...t});await e.run(i,s)}:function(n,s){return $G(n,{file:s,...e||t})}}function VG(e){if(e)throw e}var WG,qG;const GG=Te(function(){if(qG)return WG;qG=1;var e=Object.prototype.hasOwnProperty,t=Object.prototype.toString,n=Object.defineProperty,s=Object.getOwnPropertyDescriptor,i=function(e){return"function"==typeof Array.isArray?Array.isArray(e):"[object Array]"===t.call(e)},a=function(n){if(!n||"[object Object]"!==t.call(n))return!1;var s,i=e.call(n,"constructor"),a=n.constructor&&n.constructor.prototype&&e.call(n.constructor.prototype,"isPrototypeOf");if(n.constructor&&!i&&!a)return!1;for(s in n);return void 0===s||e.call(n,s)},r=function(e,t){n&&"__proto__"===t.name?n(e,t.name,{enumerable:!0,configurable:!0,value:t.newValue,writable:!0}):e[t.name]=t.newValue},o=function(t,n){if("__proto__"===n){if(!e.call(t,n))return;if(s)return s(t,n).value}return t[n]};return WG=function e(){var t,n,s,l,c,d,u=arguments[0],p=1,m=arguments.length,h=!1;for("boolean"==typeof u&&(h=u,u=arguments[1]||{},p=2),(null==u||"object"!=typeof u&&"function"!=typeof u)&&(u={});p<m;++p)if(null!=(t=arguments[p]))for(n in t)s=o(u,n),u!==(l=o(t,n))&&(h&&l&&(a(l)||(c=i(l)))?(c?(c=!1,d=s&&i(s)?s:[]):d=s&&a(s)?s:{},r(u,{name:n,newValue:e(h,d,l)})):void 0!==l&&r(u,{name:n,newValue:l}));return u}}());function ZG(e){if("object"!=typeof e||null===e)return!1;const t=Object.getPrototypeOf(e);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t)||Symbol.toStringTag in e||Symbol.iterator in e)}function YG(){const e=[],t={run:function(...t){let n=-1;const s=t.pop();if("function"!=typeof s)throw new TypeError("Expected function as last argument, not "+s);!function i(a,...r){const o=e[++n];let l=-1;if(a)s(a);else{for(;++l<t.length;)null!==r[l]&&void 0!==r[l]||(r[l]=t[l]);t=r,o?function(e,t){let n;return s;function s(...t){const s=e.length>t.length;let o;s&&t.push(i);try{o=e.apply(this,t)}catch(a){if(s&&n)throw a;return i(a)}s||(o&&o.then&&"function"==typeof o.then?o.then(r,i):o instanceof Error?i(o):r(o))}function i(e,...s){n||(n=!0,t(e,...s))}function r(e){i(null,e)}}(o,i)(...r):s(null,...r)}}(null,...t)},use:function(n){if("function"!=typeof n)throw new TypeError("Expected `middelware` to be a function, not "+n);return e.push(n),t}};return t}const KG={basename:function(e,t){if(void 0!==t&&"string"!=typeof t)throw new TypeError('"ext" argument must be a string');JG(e);let n,s=0,i=-1,a=e.length;if(void 0===t||0===t.length||t.length>e.length){for(;a--;)if(47===e.codePointAt(a)){if(n){s=a+1;break}}else i<0&&(n=!0,i=a+1);return i<0?"":e.slice(s,i)}if(t===e)return"";let r=-1,o=t.length-1;for(;a--;)if(47===e.codePointAt(a)){if(n){s=a+1;break}}else r<0&&(n=!0,r=a+1),o>-1&&(e.codePointAt(a)===t.codePointAt(o--)?o<0&&(i=a):(o=-1,i=r));s===i?i=r:i<0&&(i=e.length);return e.slice(s,i)},dirname:function(e){if(JG(e),0===e.length)return".";let t,n=-1,s=e.length;for(;--s;)if(47===e.codePointAt(s)){if(t){n=s;break}}else t||(t=!0);return n<0?47===e.codePointAt(0)?"/":".":1===n&&47===e.codePointAt(0)?"//":e.slice(0,n)},extname:function(e){JG(e);let t,n=e.length,s=-1,i=0,a=-1,r=0;for(;n--;){const o=e.codePointAt(n);if(47!==o)s<0&&(t=!0,s=n+1),46===o?a<0?a=n:1!==r&&(r=1):a>-1&&(r=-1);else if(t){i=n+1;break}}if(a<0||s<0||0===r||1===r&&a===s-1&&a===i+1)return"";return e.slice(a,s)},join:function(...e){let t,n=-1;for(;++n<e.length;)JG(e[n]),e[n]&&(t=void 0===t?e[n]:t+"/"+e[n]);return void 0===t?".":function(e){JG(e);const t=47===e.codePointAt(0);let n=function(e,t){let n,s,i="",a=0,r=-1,o=0,l=-1;for(;++l<=e.length;){if(l<e.length)n=e.codePointAt(l);else{if(47===n)break;n=47}if(47===n){if(r===l-1||1===o);else if(r!==l-1&&2===o){if(i.length<2||2!==a||46!==i.codePointAt(i.length-1)||46!==i.codePointAt(i.length-2))if(i.length>2){if(s=i.lastIndexOf("/"),s!==i.length-1){s<0?(i="",a=0):(i=i.slice(0,s),a=i.length-1-i.lastIndexOf("/")),r=l,o=0;continue}}else if(i.length>0){i="",a=0,r=l,o=0;continue}t&&(i=i.length>0?i+"/..":"..",a=2)}else i.length>0?i+="/"+e.slice(r+1,l):i=e.slice(r+1,l),a=l-r-1;r=l,o=0}else 46===n&&o>-1?o++:o=-1}return i}(e,!t);0!==n.length||t||(n=".");n.length>0&&47===e.codePointAt(e.length-1)&&(n+="/");return t?"/"+n:n}(t)},sep:"/"};function JG(e){if("string"!=typeof e)throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const QG={cwd:function(){return"/"}};function XG(e){return Boolean(null!==e&&"object"==typeof e&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&void 0===e.auth)}function eZ(e){if("string"==typeof e)e=new URL(e);else if(!XG(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if("file:"!==e.protocol){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return function(e){if(""!==e.hostname){const e=new TypeError('File URL host must be "localhost" or empty on darwin');throw e.code="ERR_INVALID_FILE_URL_HOST",e}const t=e.pathname;let n=-1;for(;++n<t.length;)if(37===t.codePointAt(n)&&50===t.codePointAt(n+1)){const e=t.codePointAt(n+2);if(70===e||102===e){const e=new TypeError("File URL path must not include encoded / characters");throw e.code="ERR_INVALID_FILE_URL_PATH",e}}return decodeURIComponent(t)}(e)}const tZ=["history","path","basename","stem","extname","dirname"];class nZ{constructor(e){let t;t=e?XG(e)?{path:e}:"string"==typeof e||function(e){return Boolean(e&&"object"==typeof e&&"byteLength"in e&&"byteOffset"in e)}(e)?{value:e}:e:{},this.cwd="cwd"in t?"":QG.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let n,s=-1;for(;++s<tZ.length;){const e=tZ[s];e in t&&void 0!==t[e]&&null!==t[e]&&(this[e]="history"===e?[...t[e]]:t[e])}for(n in t)tZ.includes(n)||(this[n]=t[n])}get basename(){return"string"==typeof this.path?KG.basename(this.path):void 0}set basename(e){iZ(e,"basename"),sZ(e,"basename"),this.path=KG.join(this.dirname||"",e)}get dirname(){return"string"==typeof this.path?KG.dirname(this.path):void 0}set dirname(e){aZ(this.basename,"dirname"),this.path=KG.join(e||"",this.basename)}get extname(){return"string"==typeof this.path?KG.extname(this.path):void 0}set extname(e){if(sZ(e,"extname"),aZ(this.dirname,"extname"),e){if(46!==e.codePointAt(0))throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=KG.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){XG(e)&&(e=eZ(e)),iZ(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return"string"==typeof this.path?KG.basename(this.path,this.extname):void 0}set stem(e){iZ(e,"stem"),sZ(e,"stem"),this.path=KG.join(this.dirname||"",e+(this.extname||""))}fail(e,t,n){const s=this.message(e,t,n);throw s.fatal=!0,s}info(e,t,n){const s=this.message(e,t,n);return s.fatal=void 0,s}message(e,t,n){const s=new KV(e,t,n);return this.path&&(s.name=this.path+":"+s.name,s.file=this.path),s.fatal=!1,this.messages.push(s),s}toString(e){if(void 0===this.value)return"";if("string"==typeof this.value)return this.value;return new TextDecoder(e||void 0).decode(this.value)}}function sZ(e,t){if(e&&e.includes(KG.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+KG.sep+"`")}function iZ(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function aZ(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}const rZ=function(e){const t=this.constructor.prototype,n=t[e],s=function(){return n.apply(s,arguments)};return Object.setPrototypeOf(s,t),s},oZ={}.hasOwnProperty;class lZ extends rZ{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=YG()}copy(){const e=new lZ;let t=-1;for(;++t<this.attachers.length;){const n=this.attachers[t];e.use(...n)}return e.data(GG(!0,{},this.namespace)),e}data(e,t){return"string"==typeof e?2===arguments.length?(pZ("data",this.frozen),this.namespace[e]=t,this):oZ.call(this.namespace,e)&&this.namespace[e]||void 0:e?(pZ("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[t,...n]=this.attachers[this.freezeIndex];if(!1===n[0])continue;!0===n[0]&&(n[0]=void 0);const s=t.call(e,...n);"function"==typeof s&&this.transformers.use(s)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const t=xZ(e),n=this.parser||this.Parser;return dZ("parse",n),n(String(t),t)}process(e,t){const n=this;return this.freeze(),dZ("process",this.parser||this.Parser),uZ("process",this.compiler||this.Compiler),t?s(void 0,t):new Promise(s);function s(s,i){const a=xZ(e),r=n.parse(a);function o(e,n){e||!n?i(e):s?s(n):t(void 0,n)}n.run(r,a,function(e,t,s){if(e||!t||!s)return o(e);const i=t,a=n.stringify(i,s);var r;"string"==typeof(r=a)||function(e){return Boolean(e&&"object"==typeof e&&"byteLength"in e&&"byteOffset"in e)}(r)?s.value=a:s.result=a,o(e,s)})}}processSync(e){let t,n=!1;return this.freeze(),dZ("processSync",this.parser||this.Parser),uZ("processSync",this.compiler||this.Compiler),this.process(e,function(e,s){n=!0,VG(e),t=s}),hZ("processSync","process",n),t}run(e,t,n){mZ(e),this.freeze();const s=this.transformers;return n||"function"!=typeof t||(n=t,t=void 0),n?i(void 0,n):new Promise(i);function i(i,a){const r=xZ(t);s.run(e,r,function(t,s,r){const o=s||e;t?a(t):i?i(o):n(void 0,o,r)})}}runSync(e,t){let n,s=!1;return this.run(e,t,function(e,t){VG(e),n=t,s=!0}),hZ("runSync","run",s),n}stringify(e,t){this.freeze();const n=xZ(t),s=this.compiler||this.Compiler;return uZ("stringify",s),mZ(e),s(e,n)}use(e,...t){const n=this.attachers,s=this.namespace;if(pZ("use",this.frozen),null==e);else if("function"==typeof e)o(e,t);else{if("object"!=typeof e)throw new TypeError("Expected usable value, not `"+e+"`");Array.isArray(e)?r(e):a(e)}return this;function i(e){if("function"==typeof e)o(e,[]);else{if("object"!=typeof e)throw new TypeError("Expected usable value, not `"+e+"`");if(Array.isArray(e)){const[t,...n]=e;o(t,n)}else a(e)}}function a(e){if(!("plugins"in e)&&!("settings"in e))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");r(e.plugins),e.settings&&(s.settings=GG(!0,s.settings,e.settings))}function r(e){let t=-1;if(null==e);else{if(!Array.isArray(e))throw new TypeError("Expected a list of plugins, not `"+e+"`");for(;++t<e.length;){i(e[t])}}}function o(e,t){let s=-1,i=-1;for(;++s<n.length;)if(n[s][0]===e){i=s;break}if(-1===i)n.push([e,...t]);else if(t.length>0){let[s,...a]=t;const r=n[i][1];ZG(r)&&ZG(s)&&(s=GG(!0,r,s)),n[i]=[e,s,...a]}}}}const cZ=(new lZ).freeze();function dZ(e,t){if("function"!=typeof t)throw new TypeError("Cannot `"+e+"` without `parser`")}function uZ(e,t){if("function"!=typeof t)throw new TypeError("Cannot `"+e+"` without `compiler`")}function pZ(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function mZ(e){if(!ZG(e)||"string"!=typeof e.type)throw new TypeError("Expected node, got `"+e+"`")}function hZ(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function xZ(e){return function(e){return Boolean(e&&"object"==typeof e&&"message"in e&&"messages"in e)}(e)?e:new nZ(e)}const fZ=[],gZ={allowDangerousHtml:!0},vZ=/^(https?|ircs?|mailto|xmpp)$/i,bZ=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function yZ(e){const t=function(e){const t=e.rehypePlugins||fZ,n=e.remarkPlugins||fZ,s=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...gZ}:gZ,i=cZ().use(cG).use(n).use(UG,s).use(t);return i}(e),s=function(e){const t=e.children||"",n=new nZ;"string"==typeof t&&(n.value=t);return n}(e);return function(e,t){const s=t.allowedElements,i=t.allowElement,a=t.components,r=t.disallowedElements,o=t.skipHtml,l=t.unwrapDisallowed,c=t.urlTransform||wZ;for(const n of bZ)Object.hasOwn(t,n.from)&&WU((n.from,n.to&&n.to,n.id));t.className&&(e={type:"element",tagName:"div",properties:{className:t.className},children:"root"===e.type?e.children:[e]});return MG(e,d),sW(e,{Fragment:n.Fragment,components:a,ignoreInvalidStyle:!0,jsx:n.jsx,jsxs:n.jsxs,passKeys:!0,passNode:!0});function d(e,t,n){if("raw"===e.type&&n&&"number"==typeof t)return o?n.children.splice(t,1):n.children[t]={type:"text",value:e.value},t;if("element"===e.type){let t;for(t in mW)if(Object.hasOwn(mW,t)&&Object.hasOwn(e.properties,t)){const n=e.properties[t],s=mW[t];(null===s||s.includes(e.tagName))&&(e.properties[t]=c(String(n||""),t,e))}}if("element"===e.type){let a=s?!s.includes(e.tagName):!!r&&r.includes(e.tagName);if(!a&&i&&"number"==typeof t&&(a=!i(e,t,n)),a&&n&&"number"==typeof t)return l&&e.children?n.children.splice(t,1,...e.children):n.children.splice(t,1),t}}}(t.runSync(t.parse(s),s),e)}function wZ(e){const t=e.indexOf(":"),n=e.indexOf("?"),s=e.indexOf("#"),i=e.indexOf("/");return-1===t||-1!==i&&t>i||-1!==n&&t>n||-1!==s&&t>s||vZ.test(e.slice(0,t))?e:""}function jZ(e,t){const n=String(e);if("string"!=typeof t)throw new TypeError("Expected character");let s=0,i=n.indexOf(t);for(;-1!==i;)s++,i=n.indexOf(t,i+t.length);return s}function CZ(e,t,n){const s=kG((n||{}).ignore||[]),i=function(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!e[0]||Array.isArray(e[0])?e:[e];let s=-1;for(;++s<n.length;){const e=n[s];t.push([NZ(e[0]),FZ(e[1])])}return t}(t);let a=-1;for(;++a<i.length;)DG(e,"text",r);function r(e,t){let n,r=-1;for(;++r<t.length;){const e=t[r],i=n?n.children:void 0;if(s(e,i?i.indexOf(e):void 0,n))return;n=e}if(n)return function(e,t){const n=t[t.length-1],s=i[a][0],r=i[a][1];let o=0;const l=n.children.indexOf(e);let c=!1,d=[];s.lastIndex=0;let u=s.exec(e.value);for(;u;){const n=u.index,i={index:u.index,input:u.input,stack:[...t,e]};let a=r(...u,i);if("string"==typeof a&&(a=a.length>0?{type:"text",value:a}:void 0),!1===a?s.lastIndex=n+1:(o!==n&&d.push({type:"text",value:e.value.slice(o,n)}),Array.isArray(a)?d.push(...a):a&&d.push(a),o=n+u[0].length,c=!0),!s.global)break;u=s.exec(e.value)}c?(o<e.value.length&&d.push({type:"text",value:e.value.slice(o)}),n.children.splice(l,1,...d)):d=[e];return l+d.length}(e,t)}}function NZ(e){return"string"==typeof e?new RegExp(function(e){if("string"!=typeof e)throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}(e),"g"):e}function FZ(e){return"function"==typeof e?e:function(){return e}}const _Z="phrasing",kZ=["autolink","link","image","label"];function SZ(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function EZ(e){this.config.enter.autolinkProtocol.call(this,e)}function IZ(e){this.config.exit.autolinkProtocol.call(this,e)}function AZ(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function TZ(e){this.config.exit.autolinkEmail.call(this,e)}function DZ(e){this.exit(e)}function MZ(e){CZ(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,LZ],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),PZ]],{ignore:["link","linkReference"]})}function LZ(e,t,n,s,i){let a="";if(!RZ(i))return!1;if(/^w/i.test(t)&&(n=t+n,t="",a="http://"),!function(e){const t=e.split(".");if(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))return!1;return!0}(n))return!1;const r=function(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let n=t[0],s=n.indexOf(")");const i=jZ(e,"(");let a=jZ(e,")");for(;-1!==s&&i>a;)e+=n.slice(0,s+1),n=n.slice(s+1),s=n.indexOf(")"),a++;return[e,n]}(n+s);if(!r[0])return!1;const o={type:"link",title:null,url:a+t+r[0],children:[{type:"text",value:t+r[0]}]};return r[1]?[o,{type:"text",value:r[1]}]:o}function PZ(e,t,n,s){return!(!RZ(s,!0)||/[-\d_]$/.test(n))&&{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function RZ(e,t){const n=e.input.charCodeAt(e.index-1);return(0===e.index||zW(n)||OW(n))&&(!t||47!==n)}function OZ(){this.buffer()}function zZ(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function BZ(){this.buffer()}function HZ(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function $Z(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=kW(this.sliceSerialize(e)).toLowerCase(),n.label=t}function UZ(e){this.exit(e)}function VZ(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=kW(this.sliceSerialize(e)).toLowerCase(),n.label=t}function WZ(e){this.exit(e)}function qZ(e,t,n,s){const i=n.createTracker(s);let a=i.move("[^");const r=n.enter("footnoteReference"),o=n.enter("reference");return a+=i.move(n.safe(n.associationId(e),{after:"]",before:a})),o(),r(),a+=i.move("]"),a}function GZ(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:function(e,n,s,i){const a=s.createTracker(i);let r=a.move("[^");const o=s.enter("footnoteDefinition"),l=s.enter("label");r+=a.move(s.safe(s.associationId(e),{before:r,after:"]"})),l(),r+=a.move("]:"),e.children&&e.children.length>0&&(a.shift(4),r+=a.move((t?"\n":" ")+s.indentLines(s.containerFlow(e,a.current()),t?YZ:ZZ)));return o(),r},footnoteReference:qZ},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]}}function ZZ(e,t,n){return 0===t?e:YZ(e,t,n)}function YZ(e,t,n){return(n?"":"    ")+e}qZ.peek=function(){return"["};const KZ=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];function JZ(e){this.enter({type:"delete",children:[]},e)}function QZ(e){this.exit(e)}function XZ(e,t,n,s){const i=n.createTracker(s),a=n.enter("strikethrough");let r=i.move("~~");return r+=n.containerPhrasing(e,{...i.current(),before:r,after:"~"}),r+=i.move("~~"),a(),r}function eY(e){return e.length}function tY(e){return null==e?"":String(e)}function nY(e){const t="string"==typeof e?e.codePointAt(0):0;return 67===t||99===t?99:76===t||108===t?108:82===t||114===t?114:0}function sY(e,t,n){return">"+(n?"":" ")+e}function iY(e,t){return aY(e,t.inConstruct,!0)&&!aY(e,t.notInConstruct,!1)}function aY(e,t,n){if("string"==typeof t&&(t=[t]),!t||0===t.length)return n;let s=-1;for(;++s<t.length;)if(e.includes(t[s]))return!0;return!1}function rY(e,t,n,s){let i=-1;for(;++i<n.unsafe.length;)if("\n"===n.unsafe[i].character&&iY(n.stack,n.unsafe[i]))return/[ \t]/.test(s.before)?"":" ";return"\\\n"}function oY(e,t,n){return(n?"":"    ")+e}function lY(e){const t=e.options.quote||'"';if('"'!==t&&"'"!==t)throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function cY(e){return"&#x"+e.toString(16).toUpperCase()+";"}function dY(e,t,n){const s=qW(e),i=qW(t);return void 0===s?void 0===i?"_"===n?{inside:!0,outside:!0}:{inside:!1,outside:!1}:1===i?{inside:!0,outside:!0}:{inside:!1,outside:!0}:1===s?void 0===i?{inside:!1,outside:!1}:1===i?{inside:!0,outside:!0}:{inside:!1,outside:!1}:void 0===i?{inside:!1,outside:!1}:1===i?{inside:!0,outside:!1}:{inside:!1,outside:!1}}function uY(e,t,n,s){const i=function(e){const t=e.options.emphasis||"*";if("*"!==t&&"_"!==t)throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}(n),a=n.enter("emphasis"),r=n.createTracker(s),o=r.move(i);let l=r.move(n.containerPhrasing(e,{after:i,before:o,...r.current()}));const c=l.charCodeAt(0),d=dY(s.before.charCodeAt(s.before.length-1),c,i);d.inside&&(l=cY(c)+l.slice(1));const u=l.charCodeAt(l.length-1),p=dY(s.after.charCodeAt(0),u,i);p.inside&&(l=l.slice(0,-1)+cY(u));const m=r.move(i);return a(),n.attentionEncodeSurroundingInfo={after:p.outside,before:d.outside},o+l+m}function pY(e){return e.value||""}function mY(e,t,n,s){const i=lY(n),a='"'===i?"Quote":"Apostrophe",r=n.enter("image");let o=n.enter("label");const l=n.createTracker(s);let c=l.move("![");return c+=l.move(n.safe(e.alt,{before:c,after:"]",...l.current()})),c+=l.move("]("),o(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(o=n.enter("destinationLiteral"),c+=l.move("<"),c+=l.move(n.safe(e.url,{before:c,after:">",...l.current()})),c+=l.move(">")):(o=n.enter("destinationRaw"),c+=l.move(n.safe(e.url,{before:c,after:e.title?" ":")",...l.current()}))),o(),e.title&&(o=n.enter(`title${a}`),c+=l.move(" "+i),c+=l.move(n.safe(e.title,{before:c,after:i,...l.current()})),c+=l.move(i),o()),c+=l.move(")"),r(),c}function hY(e,t,n,s){const i=e.referenceType,a=n.enter("imageReference");let r=n.enter("label");const o=n.createTracker(s);let l=o.move("![");const c=n.safe(e.alt,{before:l,after:"]",...o.current()});l+=o.move(c+"]["),r();const d=n.stack;n.stack=[],r=n.enter("reference");const u=n.safe(n.associationId(e),{before:l,after:"]",...o.current()});return r(),n.stack=d,a(),"full"!==i&&c&&c===u?"shortcut"===i?l=l.slice(0,-1):l+=o.move("]"):l+=o.move(u+"]"),l}function xY(e,t,n){let s=e.value||"",i="`",a=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(s);)i+="`";for(/[^ \r\n]/.test(s)&&(/^[ \r\n]/.test(s)&&/[ \r\n]$/.test(s)||/^`|`$/.test(s))&&(s=" "+s+" ");++a<n.unsafe.length;){const e=n.unsafe[a],t=n.compilePattern(e);let i;if(e.atBreak)for(;i=t.exec(s);){let e=i.index;10===s.charCodeAt(e)&&13===s.charCodeAt(e-1)&&e--,s=s.slice(0,e)+" "+s.slice(i.index+1)}}return i+s+i}function fY(e,t){const n=xW(e);return Boolean(!t.options.resourceLink&&e.url&&!e.title&&e.children&&1===e.children.length&&"text"===e.children[0].type&&(n===e.url||"mailto:"+n===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}function gY(e,t,n,s){const i=lY(n),a='"'===i?"Quote":"Apostrophe",r=n.createTracker(s);let o,l;if(fY(e,n)){const t=n.stack;n.stack=[],o=n.enter("autolink");let s=r.move("<");return s+=r.move(n.containerPhrasing(e,{before:s,after:">",...r.current()})),s+=r.move(">"),o(),n.stack=t,s}o=n.enter("link"),l=n.enter("label");let c=r.move("[");return c+=r.move(n.containerPhrasing(e,{before:c,after:"](",...r.current()})),c+=r.move("]("),l(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(l=n.enter("destinationLiteral"),c+=r.move("<"),c+=r.move(n.safe(e.url,{before:c,after:">",...r.current()})),c+=r.move(">")):(l=n.enter("destinationRaw"),c+=r.move(n.safe(e.url,{before:c,after:e.title?" ":")",...r.current()}))),l(),e.title&&(l=n.enter(`title${a}`),c+=r.move(" "+i),c+=r.move(n.safe(e.title,{before:c,after:i,...r.current()})),c+=r.move(i),l()),c+=r.move(")"),o(),c}function vY(e,t,n,s){const i=e.referenceType,a=n.enter("linkReference");let r=n.enter("label");const o=n.createTracker(s);let l=o.move("[");const c=n.containerPhrasing(e,{before:l,after:"]",...o.current()});l+=o.move(c+"]["),r();const d=n.stack;n.stack=[],r=n.enter("reference");const u=n.safe(n.associationId(e),{before:l,after:"]",...o.current()});return r(),n.stack=d,a(),"full"!==i&&c&&c===u?"shortcut"===i?l=l.slice(0,-1):l+=o.move("]"):l+=o.move(u+"]"),l}function bY(e){const t=e.options.bullet||"*";if("*"!==t&&"+"!==t&&"-"!==t)throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function yY(e){const t=e.options.rule||"*";if("*"!==t&&"-"!==t&&"_"!==t)throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}XZ.peek=function(){return"~"},uY.peek=function(e,t,n){return n.options.emphasis||"*"},pY.peek=function(){return"<"},mY.peek=function(){return"!"},hY.peek=function(){return"!"},xY.peek=function(){return"`"},gY.peek=function(e,t,n){return fY(e,n)?"<":"["},vY.peek=function(){return"["};const wY=kG(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function jY(e,t,n,s){const i=function(e){const t=e.options.strong||"*";if("*"!==t&&"_"!==t)throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}(n),a=n.enter("strong"),r=n.createTracker(s),o=r.move(i+i);let l=r.move(n.containerPhrasing(e,{after:i,before:o,...r.current()}));const c=l.charCodeAt(0),d=dY(s.before.charCodeAt(s.before.length-1),c,i);d.inside&&(l=cY(c)+l.slice(1));const u=l.charCodeAt(l.length-1),p=dY(s.after.charCodeAt(0),u,i);p.inside&&(l=l.slice(0,-1)+cY(u));const m=r.move(i+i);return a(),n.attentionEncodeSurroundingInfo={after:p.outside,before:d.outside},o+l+m}jY.peek=function(e,t,n){return n.options.strong||"*"};const CY={blockquote:function(e,t,n,s){const i=n.enter("blockquote"),a=n.createTracker(s);a.move("> "),a.shift(2);const r=n.indentLines(n.containerFlow(e,a.current()),sY);return i(),r},break:rY,code:function(e,t,n,s){const i=function(e){const t=e.options.fence||"`";if("`"!==t&&"~"!==t)throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}(n),a=e.value||"",r="`"===i?"GraveAccent":"Tilde";if(function(e,t){return Boolean(!1===t.options.fences&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}(e,n)){const e=n.enter("codeIndented"),t=n.indentLines(a,oY);return e(),t}const o=n.createTracker(s),l=i.repeat(Math.max(function(e,t){const n=String(e);let s=n.indexOf(t),i=s,a=0,r=0;if("string"!=typeof t)throw new TypeError("Expected substring");for(;-1!==s;)s===i?++a>r&&(r=a):a=1,i=s+t.length,s=n.indexOf(t,i);return r}(a,i)+1,3)),c=n.enter("codeFenced");let d=o.move(l);if(e.lang){const t=n.enter(`codeFencedLang${r}`);d+=o.move(n.safe(e.lang,{before:d,after:" ",encode:["`"],...o.current()})),t()}if(e.lang&&e.meta){const t=n.enter(`codeFencedMeta${r}`);d+=o.move(" "),d+=o.move(n.safe(e.meta,{before:d,after:"\n",encode:["`"],...o.current()})),t()}return d+=o.move("\n"),a&&(d+=o.move(a+"\n")),d+=o.move(l),c(),d},definition:function(e,t,n,s){const i=lY(n),a='"'===i?"Quote":"Apostrophe",r=n.enter("definition");let o=n.enter("label");const l=n.createTracker(s);let c=l.move("[");return c+=l.move(n.safe(n.associationId(e),{before:c,after:"]",...l.current()})),c+=l.move("]: "),o(),!e.url||/[\0- \u007F]/.test(e.url)?(o=n.enter("destinationLiteral"),c+=l.move("<"),c+=l.move(n.safe(e.url,{before:c,after:">",...l.current()})),c+=l.move(">")):(o=n.enter("destinationRaw"),c+=l.move(n.safe(e.url,{before:c,after:e.title?" ":"\n",...l.current()}))),o(),e.title&&(o=n.enter(`title${a}`),c+=l.move(" "+i),c+=l.move(n.safe(e.title,{before:c,after:i,...l.current()})),c+=l.move(i),o()),r(),c},emphasis:uY,hardBreak:rY,heading:function(e,t,n,s){const i=Math.max(Math.min(6,e.depth||1),1),a=n.createTracker(s);if(function(e,t){let n=!1;return MG(e,function(e){if("value"in e&&/\r?\n|\r/.test(e.value)||"break"===e.type)return n=!0,TG}),Boolean((!e.depth||e.depth<3)&&xW(e)&&(t.options.setext||n))}(e,n)){const t=n.enter("headingSetext"),s=n.enter("phrasing"),r=n.containerPhrasing(e,{...a.current(),before:"\n",after:"\n"});return s(),t(),r+"\n"+(1===i?"=":"-").repeat(r.length-(Math.max(r.lastIndexOf("\r"),r.lastIndexOf("\n"))+1))}const r="#".repeat(i),o=n.enter("headingAtx"),l=n.enter("phrasing");a.move(r+" ");let c=n.containerPhrasing(e,{before:"# ",after:"\n",...a.current()});return/^[\t ]/.test(c)&&(c=cY(c.charCodeAt(0))+c.slice(1)),c=c?r+" "+c:r,n.options.closeAtx&&(c+=" "+r),l(),o(),c},html:pY,image:mY,imageReference:hY,inlineCode:xY,link:gY,linkReference:vY,list:function(e,t,n,s){const i=n.enter("list"),a=n.bulletCurrent;let r=e.ordered?function(e){const t=e.options.bulletOrdered||".";if("."!==t&&")"!==t)throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}(n):bY(n);const o=e.ordered?"."===r?")":".":function(e){const t=bY(e),n=e.options.bulletOther;if(!n)return"*"===t?"-":"*";if("*"!==n&&"+"!==n&&"-"!==n)throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+n+"`) to be different");return n}(n);let l=!(!t||!n.bulletLastUsed)&&r===n.bulletLastUsed;if(!e.ordered){const t=e.children?e.children[0]:void 0;if("*"!==r&&"-"!==r||!t||t.children&&t.children[0]||"list"!==n.stack[n.stack.length-1]||"listItem"!==n.stack[n.stack.length-2]||"list"!==n.stack[n.stack.length-3]||"listItem"!==n.stack[n.stack.length-4]||0!==n.indexStack[n.indexStack.length-1]||0!==n.indexStack[n.indexStack.length-2]||0!==n.indexStack[n.indexStack.length-3]||(l=!0),yY(n)===r&&t){let t=-1;for(;++t<e.children.length;){const n=e.children[t];if(n&&"listItem"===n.type&&n.children&&n.children[0]&&"thematicBreak"===n.children[0].type){l=!0;break}}}}l&&(r=o),n.bulletCurrent=r;const c=n.containerFlow(e,s);return n.bulletLastUsed=r,n.bulletCurrent=a,i(),c},listItem:function(e,t,n,s){const i=function(e){const t=e.options.listItemIndent||"one";if("tab"!==t&&"one"!==t&&"mixed"!==t)throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}(n);let a=n.bulletCurrent||bY(n);t&&"list"===t.type&&t.ordered&&(a=("number"==typeof t.start&&t.start>-1?t.start:1)+(!1===n.options.incrementListMarker?0:t.children.indexOf(e))+a);let r=a.length+1;("tab"===i||"mixed"===i&&(t&&"list"===t.type&&t.spread||e.spread))&&(r=4*Math.ceil(r/4));const o=n.createTracker(s);o.move(a+" ".repeat(r-a.length)),o.shift(r);const l=n.enter("listItem"),c=n.indentLines(n.containerFlow(e,o.current()),function(e,t,n){if(t)return(n?"":" ".repeat(r))+e;return(n?a:a+" ".repeat(r-a.length))+e});return l(),c},paragraph:function(e,t,n,s){const i=n.enter("paragraph"),a=n.enter("phrasing"),r=n.containerPhrasing(e,s);return a(),i(),r},root:function(e,t,n,s){return(e.children.some(function(e){return wY(e)})?n.containerPhrasing:n.containerFlow).call(n,e,s)},strong:jY,text:function(e,t,n,s){return n.safe(e.value,s)},thematicBreak:function(e,t,n){const s=(yY(n)+(n.options.ruleSpaces?" ":"")).repeat(function(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}(n));return n.options.ruleSpaces?s.slice(0,-1):s}};function NY(e){const t=e._align;this.enter({type:"table",align:t.map(function(e){return"none"===e?null:e}),children:[]},e),this.data.inTable=!0}function FY(e){this.exit(e),this.data.inTable=void 0}function _Y(e){this.enter({type:"tableRow",children:[]},e)}function kY(e){this.exit(e)}function SY(e){this.enter({type:"tableCell",children:[]},e)}function EY(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,IY));const n=this.stack[this.stack.length-1];n.type,n.value=t,this.exit(e)}function IY(e,t){return"|"===t?t:e}function AY(e){const t=e||{},n=t.tableCellPadding,s=t.tablePipeAlign,i=t.stringLength,a=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:"\n",inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[\t :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:function(e,t,n){let s=CY.inlineCode(e,t,n);n.stack.includes("tableCell")&&(s=s.replace(/\|/g,"\\$&"));return s},table:function(e,t,n,s){return o(function(e,t,n){const s=e.children;let i=-1;const a=[],r=t.enter("table");for(;++i<s.length;)a[i]=l(s[i],t,n);return r(),a}(e,n,s),e.align)},tableCell:r,tableRow:function(e,t,n,s){const i=o([l(e,n,s)]);return i.slice(0,i.indexOf("\n"))}}};function r(e,t,n,s){const i=n.enter("tableCell"),r=n.enter("phrasing"),o=n.containerPhrasing(e,{...s,before:a,after:a});return r(),i(),o}function o(e,t){return function(e,t){const n=t||{},s=(n.align||[]).concat(),i=n.stringLength||eY,a=[],r=[],o=[],l=[];let c=0,d=-1;for(;++d<e.length;){const t=[],s=[];let a=-1;for(e[d].length>c&&(c=e[d].length);++a<e[d].length;){const r=tY(e[d][a]);if(!1!==n.alignDelimiters){const e=i(r);s[a]=e,(void 0===l[a]||e>l[a])&&(l[a]=e)}t.push(r)}r[d]=t,o[d]=s}let u=-1;if("object"==typeof s&&"length"in s)for(;++u<c;)a[u]=nY(s[u]);else{const e=nY(s);for(;++u<c;)a[u]=e}u=-1;const p=[],m=[];for(;++u<c;){const e=a[u];let t="",s="";99===e?(t=":",s=":"):108===e?t=":":114===e&&(s=":");let i=!1===n.alignDelimiters?1:Math.max(1,l[u]-t.length-s.length);const r=t+"-".repeat(i)+s;!1!==n.alignDelimiters&&(i=t.length+i+s.length,i>l[u]&&(l[u]=i),m[u]=i),p[u]=r}r.splice(1,0,p),o.splice(1,0,m),d=-1;const h=[];for(;++d<r.length;){const e=r[d],t=o[d];u=-1;const s=[];for(;++u<c;){const i=e[u]||"";let r="",o="";if(!1!==n.alignDelimiters){const e=l[u]-(t[u]||0),n=a[u];114===n?r=" ".repeat(e):99===n?e%2?(r=" ".repeat(e/2+.5),o=" ".repeat(e/2-.5)):(r=" ".repeat(e/2),o=r):o=" ".repeat(e)}!1===n.delimiterStart||u||s.push("|"),!1===n.padding||!1===n.alignDelimiters&&""===i||!1===n.delimiterStart&&!u||s.push(" "),!1!==n.alignDelimiters&&s.push(r),s.push(i),!1!==n.alignDelimiters&&s.push(o),!1!==n.padding&&s.push(" "),!1===n.delimiterEnd&&u===c-1||s.push("|")}h.push(!1===n.delimiterEnd?s.join("").replace(/ +$/,""):s.join(""))}return h.join("\n")}(e,{align:t,alignDelimiters:s,padding:n,stringLength:i})}function l(e,t,n){const s=e.children;let i=-1;const a=[],o=t.enter("tableRow");for(;++i<s.length;)a[i]=r(s[i],0,t,n);return o(),a}}function TY(e){const t=this.stack[this.stack.length-2];t.type,t.checked="taskListCheckValueChecked"===e.type}function DY(e){const t=this.stack[this.stack.length-2];if(t&&"listItem"===t.type&&"boolean"==typeof t.checked){const e=this.stack[this.stack.length-1];e.type;const n=e.children[0];if(n&&"text"===n.type){const s=t.children;let i,a=-1;for(;++a<s.length;){const e=s[a];if("paragraph"===e.type){i=e;break}}i===e&&(n.value=n.value.slice(1),0===n.value.length?e.children.shift():e.position&&n.position&&"number"==typeof n.position.start.offset&&(n.position.start.column++,n.position.start.offset++,e.position.start=Object.assign({},n.position.start)))}}this.exit(e)}function MY(e,t,n,s){const i=e.children[0],a="boolean"==typeof e.checked&&i&&"paragraph"===i.type,r="["+(e.checked?"x":" ")+"] ",o=n.createTracker(s);a&&o.move(r);let l=CY.listItem(e,t,n,{...s,...o.current()});return a&&(l=l.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,function(e){return e+r})),l}const LY={tokenize:function(e,t,n){let s=0;return function t(a){if((87===a||119===a)&&s<3)return s++,e.consume(a),t;if(46===a&&3===s)return e.consume(a),i;return n(a)};function i(e){return null===e?n(e):t(e)}},partial:!0},PY={tokenize:function(e,t,n){let s,i,a;return r;function r(t){return 46===t||95===t?e.check(OY,l,o)(t):null===t||PW(t)||zW(t)||45!==t&&OW(t)?l(t):(a=!0,e.consume(t),r)}function o(t){return 95===t?s=!0:(i=s,s=void 0),e.consume(t),r}function l(e){return i||s||!a?n(e):t(e)}},partial:!0},RY={tokenize:function(e,t){let n=0,s=0;return i;function i(r){return 40===r?(n++,e.consume(r),i):41===r&&s<n?a(r):33===r||34===r||38===r||39===r||41===r||42===r||44===r||46===r||58===r||59===r||60===r||63===r||93===r||95===r||126===r?e.check(OY,t,a)(r):null===r||PW(r)||zW(r)?t(r):(e.consume(r),i)}function a(t){return 41===t&&s++,e.consume(t),i}},partial:!0},OY={tokenize:function(e,t,n){return s;function s(r){return 33===r||34===r||39===r||41===r||42===r||44===r||46===r||58===r||59===r||63===r||95===r||126===r?(e.consume(r),s):38===r?(e.consume(r),a):93===r?(e.consume(r),i):60===r||null===r||PW(r)||zW(r)?t(r):n(r)}function i(e){return null===e||40===e||91===e||PW(e)||zW(e)?t(e):s(e)}function a(e){return SW(e)?r(e):n(e)}function r(t){return 59===t?(e.consume(t),s):SW(t)?(e.consume(t),r):n(t)}},partial:!0},zY={tokenize:function(e,t,n){return function(t){return e.consume(t),s};function s(e){return EW(e)?n(e):t(e)}},partial:!0},BY={name:"wwwAutolink",tokenize:function(e,t,n){const s=this;return function(t){if(87!==t&&119!==t||!WY.call(s,s.previous)||YY(s.events))return n(t);return e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(LY,e.attempt(PY,e.attempt(RY,i),n),n)(t)};function i(n){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(n)}},previous:WY},HY={name:"protocolAutolink",tokenize:function(e,t,n){const s=this;let i="",a=!1;return function(t){if((72===t||104===t)&&qY.call(s,s.previous)&&!YY(s.events))return e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),i+=String.fromCodePoint(t),e.consume(t),r;return n(t)};function r(t){if(SW(t)&&i.length<5)return i+=String.fromCodePoint(t),e.consume(t),r;if(58===t){const n=i.toLowerCase();if("http"===n||"https"===n)return e.consume(t),o}return n(t)}function o(t){return 47===t?(e.consume(t),a?l:(a=!0,o)):n(t)}function l(t){return null===t||AW(t)||PW(t)||zW(t)||OW(t)?n(t):e.attempt(PY,e.attempt(RY,c),n)(t)}function c(n){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(n)}},previous:qY},$Y={name:"emailAutolink",tokenize:function(e,t,n){const s=this;let i,a;return function(t){if(!ZY(t)||!GY.call(s,s.previous)||YY(s.events))return n(t);return e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),r(t)};function r(t){return ZY(t)?(e.consume(t),r):64===t?(e.consume(t),o):n(t)}function o(t){return 46===t?e.check(zY,c,l)(t):45===t||95===t||EW(t)?(a=!0,e.consume(t),o):c(t)}function l(t){return e.consume(t),i=!0,o}function c(r){return a&&i&&SW(s.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(r)):n(r)}},previous:GY},UY={};let VY=48;for(;VY<123;)UY[VY]=$Y,VY++,58===VY?VY=65:91===VY&&(VY=97);function WY(e){return null===e||40===e||42===e||95===e||91===e||93===e||126===e||PW(e)}function qY(e){return!SW(e)}function GY(e){return!(47===e||ZY(e))}function ZY(e){return 43===e||45===e||46===e||95===e||EW(e)}function YY(e){let t=e.length,n=!1;for(;t--;){const s=e[t][1];if(("labelLink"===s.type||"labelImage"===s.type)&&!s._balanced){n=!0;break}if(s._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}UY[43]=$Y,UY[45]=$Y,UY[46]=$Y,UY[95]=$Y,UY[72]=[$Y,HY],UY[104]=[$Y,HY],UY[87]=[$Y,BY],UY[119]=[$Y,BY];const KY={tokenize:function(e,t,n){const s=this;return $W(e,function(e){const i=s.events[s.events.length-1];return i&&"gfmFootnoteDefinitionIndent"===i[1].type&&4===i[2].sliceSerialize(i[1],!0).length?t(e):n(e)},"gfmFootnoteDefinitionIndent",5)},partial:!0};function JY(e,t,n){const s=this;let i=s.events.length;const a=s.parser.gfmFootnotes||(s.parser.gfmFootnotes=[]);let r;for(;i--;){const e=s.events[i][1];if("labelImage"===e.type){r=e;break}if("gfmFootnoteCall"===e.type||"labelLink"===e.type||"label"===e.type||"image"===e.type||"link"===e.type)break}return function(i){if(!r||!r._balanced)return n(i);const o=kW(s.sliceSerialize({start:r.end,end:s.now()}));if(94!==o.codePointAt(0)||!a.includes(o.slice(1)))return n(i);return e.enter("gfmFootnoteCallLabelMarker"),e.consume(i),e.exit("gfmFootnoteCallLabelMarker"),t(i)}}function QY(e,t){let n=e.length;for(;n--;)if("labelImage"===e[n][1].type&&"enter"===e[n][0]){e[n][1];break}e[n+1][1].type="data",e[n+3][1].type="gfmFootnoteCallLabelMarker";const s={type:"gfmFootnoteCall",start:Object.assign({},e[n+3][1].start),end:Object.assign({},e[e.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},e[n+3][1].end),end:Object.assign({},e[n+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const a={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},e[e.length-1][1].start)},r={type:"chunkString",contentType:"string",start:Object.assign({},a.start),end:Object.assign({},a.end)},o=[e[n+1],e[n+2],["enter",s,t],e[n+3],e[n+4],["enter",i,t],["exit",i,t],["enter",a,t],["enter",r,t],["exit",r,t],["exit",a,t],e[e.length-2],e[e.length-1],["exit",s,t]];return e.splice(n,e.length-n+1,...o),e}function XY(e,t,n){const s=this,i=s.parser.gfmFootnotes||(s.parser.gfmFootnotes=[]);let a,r=0;return function(t){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(t),e.exit("gfmFootnoteCallLabelMarker"),o};function o(t){return 94!==t?n(t):(e.enter("gfmFootnoteCallMarker"),e.consume(t),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",l)}function l(o){if(r>999||93===o&&!a||null===o||91===o||PW(o))return n(o);if(93===o){e.exit("chunkString");const a=e.exit("gfmFootnoteCallString");return i.includes(kW(s.sliceSerialize(a)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(o),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):n(o)}return PW(o)||(a=!0),r++,e.consume(o),92===o?c:l}function c(t){return 91===t||92===t||93===t?(e.consume(t),r++,l):l(t)}}function eK(e,t,n){const s=this,i=s.parser.gfmFootnotes||(s.parser.gfmFootnotes=[]);let a,r,o=0;return function(t){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(t),e.exit("gfmFootnoteDefinitionLabelMarker"),l};function l(t){return 94===t?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(t),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",c):n(t)}function c(t){if(o>999||93===t&&!r||null===t||91===t||PW(t))return n(t);if(93===t){e.exit("chunkString");const n=e.exit("gfmFootnoteDefinitionLabelString");return a=kW(s.sliceSerialize(n)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(t),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),u}return PW(t)||(r=!0),o++,e.consume(t),92===t?d:c}function d(t){return 91===t||92===t||93===t?(e.consume(t),o++,c):c(t)}function u(t){return 58===t?(e.enter("definitionMarker"),e.consume(t),e.exit("definitionMarker"),i.includes(a)||i.push(a),$W(e,p,"gfmFootnoteDefinitionWhitespace")):n(t)}function p(e){return t(e)}}function tK(e,t,n){return e.check(JW,t,e.attempt(KY,t,n))}function nK(e){e.exit("gfmFootnoteDefinition")}function sK(e){let t=(e||{}).singleTilde;const n={name:"strikethrough",tokenize:function(e,n,s){const i=this.previous,a=this.events;let r=0;return function(t){if(126===i&&"characterEscape"!==a[a.length-1][1].type)return s(t);return e.enter("strikethroughSequenceTemporary"),o(t)};function o(a){const l=qW(i);if(126===a)return r>1?s(a):(e.consume(a),r++,o);if(r<2&&!t)return s(a);const c=e.exit("strikethroughSequenceTemporary"),d=qW(a);return c._open=!d||2===d&&Boolean(l),c._close=!l||2===l&&Boolean(d),n(a)}},resolveAll:function(e,t){let n=-1;for(;++n<e.length;)if("enter"===e[n][0]&&"strikethroughSequenceTemporary"===e[n][1].type&&e[n][1]._close){let s=n;for(;s--;)if("exit"===e[s][0]&&"strikethroughSequenceTemporary"===e[s][1].type&&e[s][1]._open&&e[n][1].end.offset-e[n][1].start.offset===e[s][1].end.offset-e[s][1].start.offset){e[n][1].type="strikethroughSequence",e[s][1].type="strikethroughSequence";const i={type:"strikethrough",start:Object.assign({},e[s][1].start),end:Object.assign({},e[n][1].end)},a={type:"strikethroughText",start:Object.assign({},e[s][1].end),end:Object.assign({},e[n][1].start)},r=[["enter",i,t],["enter",e[s][1],t],["exit",e[s][1],t],["enter",a,t]],o=t.parser.constructs.insideSpan.null;o&&yW(r,r.length,0,GW(o,e.slice(s+1,n),t)),yW(r,r.length,0,[["exit",a,t],["enter",e[n][1],t],["exit",e[n][1],t],["exit",i,t]]),yW(e,s-1,n-s+3,r),n=s+r.length-2;break}}n=-1;for(;++n<e.length;)"strikethroughSequenceTemporary"===e[n][1].type&&(e[n][1].type="data");return e}};return null==t&&(t=!0),{text:{126:n},insideSpan:{null:[n]},attentionMarkers:{null:[126]}}}class iK{constructor(){this.map=[]}add(e,t,n){!function(e,t,n,s){let i=0;if(0===n&&0===s.length)return;for(;i<e.map.length;){if(e.map[i][0]===t)return e.map[i][1]+=n,void e.map[i][2].push(...s);i+=1}e.map.push([t,n,s])}(this,e,t,n)}consume(e){if(this.map.sort(function(e,t){return e[0]-t[0]}),0===this.map.length)return;let t=this.map.length;const n=[];for(;t>0;)t-=1,n.push(e.slice(this.map[t][0]+this.map[t][1]),this.map[t][2]),e.length=this.map[t][0];n.push(e.slice()),e.length=0;let s=n.pop();for(;s;){for(const t of s)e.push(t);s=n.pop()}this.map.length=0}}function aK(e,t){let n=!1;const s=[];for(;t<e.length;){const i=e[t];if(n){if("enter"===i[0])"tableContent"===i[1].type&&s.push("tableDelimiterMarker"===e[t+1][1].type?"left":"none");else if("tableContent"===i[1].type){if("tableDelimiterMarker"===e[t-1][1].type){const e=s.length-1;s[e]="left"===s[e]?"center":"right"}}else if("tableDelimiterRow"===i[1].type)break}else"enter"===i[0]&&"tableDelimiterRow"===i[1].type&&(n=!0);t+=1}return s}function rK(e,t,n){const s=this;let i,a=0,r=0;return function(e){let t=s.events.length-1;for(;t>-1;){const e=s.events[t][1].type;if("lineEnding"!==e&&"linePrefix"!==e)break;t--}const i=t>-1?s.events[t][1].type:null,a="tableHead"===i||"tableRow"===i?y:o;if(a===y&&s.parser.lazy[s.now().line])return n(e);return a(e)};function o(t){return e.enter("tableHead"),e.enter("tableRow"),function(e){if(124===e)return l(e);return i=!0,r+=1,l(e)}(t)}function l(t){return null===t?n(t):LW(t)?r>1?(r=0,s.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),u):n(t):RW(t)?$W(e,l,"whitespace")(t):(r+=1,i&&(i=!1,a+=1),124===t?(e.enter("tableCellDivider"),e.consume(t),e.exit("tableCellDivider"),i=!0,l):(e.enter("data"),c(t)))}function c(t){return null===t||124===t||PW(t)?(e.exit("data"),l(t)):(e.consume(t),92===t?d:c)}function d(t){return 92===t||124===t?(e.consume(t),c):c(t)}function u(t){return s.interrupt=!1,s.parser.lazy[s.now().line]?n(t):(e.enter("tableDelimiterRow"),i=!1,RW(t)?$W(e,p,"linePrefix",s.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(t):p(t))}function p(t){return 45===t||58===t?h(t):124===t?(i=!0,e.enter("tableCellDivider"),e.consume(t),e.exit("tableCellDivider"),m):b(t)}function m(t){return RW(t)?$W(e,h,"whitespace")(t):h(t)}function h(t){return 58===t?(r+=1,i=!0,e.enter("tableDelimiterMarker"),e.consume(t),e.exit("tableDelimiterMarker"),x):45===t?(r+=1,x(t)):null===t||LW(t)?v(t):b(t)}function x(t){return 45===t?(e.enter("tableDelimiterFiller"),f(t)):b(t)}function f(t){return 45===t?(e.consume(t),f):58===t?(i=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(t),e.exit("tableDelimiterMarker"),g):(e.exit("tableDelimiterFiller"),g(t))}function g(t){return RW(t)?$W(e,v,"whitespace")(t):v(t)}function v(n){return 124===n?p(n):(null===n||LW(n))&&i&&a===r?(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(n)):b(n)}function b(e){return n(e)}function y(t){return e.enter("tableRow"),w(t)}function w(n){return 124===n?(e.enter("tableCellDivider"),e.consume(n),e.exit("tableCellDivider"),w):null===n||LW(n)?(e.exit("tableRow"),t(n)):RW(n)?$W(e,w,"whitespace")(n):(e.enter("data"),j(n))}function j(t){return null===t||124===t||PW(t)?(e.exit("data"),w(t)):(e.consume(t),92===t?C:j)}function C(t){return 92===t||124===t?(e.consume(t),j):j(t)}}function oK(e,t){let n,s,i,a=-1,r=!0,o=0,l=[0,0,0,0],c=[0,0,0,0],d=!1,u=0;const p=new iK;for(;++a<e.length;){const m=e[a],h=m[1];"enter"===m[0]?"tableHead"===h.type?(d=!1,0!==u&&(cK(p,t,u,n,s),s=void 0,u=0),n={type:"table",start:Object.assign({},h.start),end:Object.assign({},h.end)},p.add(a,0,[["enter",n,t]])):"tableRow"===h.type||"tableDelimiterRow"===h.type?(r=!0,i=void 0,l=[0,0,0,0],c=[0,a+1,0,0],d&&(d=!1,s={type:"tableBody",start:Object.assign({},h.start),end:Object.assign({},h.end)},p.add(a,0,[["enter",s,t]])),o="tableDelimiterRow"===h.type?2:s?3:1):!o||"data"!==h.type&&"tableDelimiterMarker"!==h.type&&"tableDelimiterFiller"!==h.type?"tableCellDivider"===h.type&&(r?r=!1:(0!==l[1]&&(c[0]=c[1],i=lK(p,t,l,o,void 0,i)),l=c,c=[l[1],a,0,0])):(r=!1,0===c[2]&&(0!==l[1]&&(c[0]=c[1],i=lK(p,t,l,o,void 0,i),l=[0,0,0,0]),c[2]=a)):"tableHead"===h.type?(d=!0,u=a):"tableRow"===h.type||"tableDelimiterRow"===h.type?(u=a,0!==l[1]?(c[0]=c[1],i=lK(p,t,l,o,a,i)):0!==c[1]&&(i=lK(p,t,c,o,a,i)),o=0):!o||"data"!==h.type&&"tableDelimiterMarker"!==h.type&&"tableDelimiterFiller"!==h.type||(c[3]=a)}for(0!==u&&cK(p,t,u,n,s),p.consume(t.events),a=-1;++a<t.events.length;){const e=t.events[a];"enter"===e[0]&&"table"===e[1].type&&(e[1]._align=aK(t.events,a))}return e}function lK(e,t,n,s,i,a){const r=1===s?"tableHeader":2===s?"tableDelimiter":"tableData";0!==n[0]&&(a.end=Object.assign({},dK(t.events,n[0])),e.add(n[0],0,[["exit",a,t]]));const o=dK(t.events,n[1]);if(a={type:r,start:Object.assign({},o),end:Object.assign({},o)},e.add(n[1],0,[["enter",a,t]]),0!==n[2]){const i=dK(t.events,n[2]),a=dK(t.events,n[3]),r={type:"tableContent",start:Object.assign({},i),end:Object.assign({},a)};if(e.add(n[2],0,[["enter",r,t]]),2!==s){const s=t.events[n[2]],i=t.events[n[3]];if(s[1].end=Object.assign({},i[1].end),s[1].type="chunkText",s[1].contentType="text",n[3]>n[2]+1){const t=n[2]+1,s=n[3]-n[2]-1;e.add(t,s,[])}}e.add(n[3]+1,0,[["exit",r,t]])}return void 0!==i&&(a.end=Object.assign({},dK(t.events,i)),e.add(i,0,[["exit",a,t]]),a=void 0),a}function cK(e,t,n,s,i){const a=[],r=dK(t.events,n);i&&(i.end=Object.assign({},r),a.push(["exit",i,t])),s.end=Object.assign({},r),a.push(["exit",s,t]),e.add(n+1,0,a)}function dK(e,t){const n=e[t],s="enter"===n[0]?"start":"end";return n[1][s]}const uK={name:"tasklistCheck",tokenize:function(e,t,n){const s=this;return function(t){if(null!==s.previous||!s._gfmTasklistFirstContentOfListItem)return n(t);return e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(t),e.exit("taskListCheckMarker"),i};function i(t){return PW(t)?(e.enter("taskListCheckValueUnchecked"),e.consume(t),e.exit("taskListCheckValueUnchecked"),a):88===t||120===t?(e.enter("taskListCheckValueChecked"),e.consume(t),e.exit("taskListCheckValueChecked"),a):n(t)}function a(t){return 93===t?(e.enter("taskListCheckMarker"),e.consume(t),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),r):n(t)}function r(s){return LW(s)?t(s):RW(s)?e.check({tokenize:pK},t,n)(s):n(s)}}};function pK(e,t,n){return $W(e,function(e){return null===e?n(e):t(e)},"whitespace")}const mK={};function hK(e){const t=e||mK,n=this.data(),s=n.micromarkExtensions||(n.micromarkExtensions=[]),i=n.fromMarkdownExtensions||(n.fromMarkdownExtensions=[]),a=n.toMarkdownExtensions||(n.toMarkdownExtensions=[]);s.push(function(e){return CW([{text:UY},{document:{91:{name:"gfmFootnoteDefinition",tokenize:eK,continuation:{tokenize:tK},exit:nK}},text:{91:{name:"gfmFootnoteCall",tokenize:XY},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:JY,resolveTo:QY}}},sK(e),{flow:{null:{name:"table",tokenize:rK,resolveAll:oK}}},{text:{91:uK}}])}(t)),i.push([{transforms:[MZ],enter:{literalAutolink:SZ,literalAutolinkEmail:EZ,literalAutolinkHttp:EZ,literalAutolinkWww:EZ},exit:{literalAutolink:DZ,literalAutolinkEmail:TZ,literalAutolinkHttp:IZ,literalAutolinkWww:AZ}},{enter:{gfmFootnoteCallString:OZ,gfmFootnoteCall:zZ,gfmFootnoteDefinitionLabelString:BZ,gfmFootnoteDefinition:HZ},exit:{gfmFootnoteCallString:$Z,gfmFootnoteCall:UZ,gfmFootnoteDefinitionLabelString:VZ,gfmFootnoteDefinition:WZ}},{canContainEols:["delete"],enter:{strikethrough:JZ},exit:{strikethrough:QZ}},{enter:{table:NY,tableData:SY,tableHeader:SY,tableRow:_Y},exit:{codeText:EY,table:FY,tableData:kY,tableHeader:kY,tableRow:kY}},{exit:{taskListCheckValueChecked:TY,taskListCheckValueUnchecked:TY,paragraph:DY}}]),a.push(function(e){return{extensions:[{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:_Z,notInConstruct:kZ},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:_Z,notInConstruct:kZ},{character:":",before:"[ps]",after:"\\/",inConstruct:_Z,notInConstruct:kZ}]},GZ(e),{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:KZ}],handlers:{delete:XZ}},AY(e),{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:MY}}]}}(t))}const xK=({files:e,isSubagent:t})=>{const s=e.findIndex(e=>e.success),[i,a]=De.useState(s>=0?s:0),r=De.useRef(null),o=De.useRef(null),l=De.useRef(null);if(De.useEffect(()=>{if(r.current&&o.current){const e=r.current,t=o.current,n=e.clientWidth,s=t.clientWidth,i=t.offsetLeft-n/2+s/2;e.scrollTo({left:i,behavior:"smooth"})}},[i]),!e.length)return n.jsx("div",{className:"text-[#E5E5E5] p-4",children:"No files to display"});const c=e[i];return n.jsx("div",{className:"w-full border border-[#252526] rounded-lg overflow-hidden",children:n.jsxs("div",{className:"flex flex-col",children:[n.jsx("div",{ref:r,className:"flex overflow-x-auto bg-[#252526] scrollbar-thin scrollbar-thumb-[#3E3E42] scrollbar-track-[#252526]",style:{msOverflowStyle:"none",...t?{flexWrap:"nowrap",overflow:"scroll",whiteSpace:"pre-wrap",width:t?"calc(100% - 159px)":"100%"}:{}},children:e.map((e,t)=>{const s=t===i,r=e.path.split("/").pop()||e.path,l="error"===e.type,c="directory"===e.type,d="file"===e.type;return n.jsxs("button",{ref:s?o:null,className:"px-4 py-2 whitespace-nowrap font-mono text-sm flex-shrink-0 flex items-center gap-2 "+(s?l?"bg-[#1E1E1E] text-[#FF6B6B] border-b-2 border-[#FF6B6B]":"bg-[#1E1E1E] text-[#DD99FF] border-b-2 border-[#DD99FF]":l?"text-[#FF6B6B99] hover:bg-[#2D2D2D]":"text-[#E5E5E5] hover:bg-[#2D2D2D]"),onClick:e=>{a(t),e.stopPropagation()},title:e.path,children:[l?n.jsx(Zk,{className:"w-3 h-3"}):c?n.jsx(uS,{className:"w-3 h-3"}):d?n.jsx(cS,{className:"w-3 h-3"}):null,r]},t)})}),n.jsxs("div",{className:"bg-[#252526] px-4 py-2 font-mono text-[#E5E5E5] text-sm flex items-center justify-between border-t border-[#3E3E42] border-b border-[#3E3E42] overflow-hidden",children:[n.jsx("span",{className:c.success?"text-[#DD99FF]":"text-[#FF6B6B]",children:c.path}),"error"===c.type&&n.jsx("span",{className:"text-[#FF6B6B] text-xs",children:"Failed to load"}),"directory"===c.type&&n.jsx("span",{className:"text-[#9999FF] text-xs",children:"Directory"})]}),n.jsx("div",{className:"h-[400px] w-full",children:"file"===c.type&&c.output?n.jsx(Bt,{height:"100%",defaultLanguage:BU(c.path),value:c.output,theme:"vs-dark",onMount:e=>{l.current=e},options:{readOnly:!0,minimap:{enabled:!1},scrollBeyondLastLine:!1,lineNumbers:"on",renderLineHighlight:"all",contextmenu:!1,folding:!0,scrollbar:{vertical:"visible",horizontal:"visible"},fontSize:13,fontFamily:"'Menlo', 'Monaco', 'Courier New', monospace"}}):"directory"===c.type&&c.entries?n.jsx("div",{className:"h-full w-full bg-[#1E1E1E] p-4 overflow-auto",children:n.jsx("div",{className:"font-mono text-sm text-[#E5E5E5]",children:c.entries.length>0?n.jsx("div",{className:"flex flex-col gap-1",children:c.entries.map((e,t)=>n.jsx("div",{className:"py-1 px-2 hover:bg-[#2D2D2D] rounded",children:e},t))}):n.jsx("div",{className:"text-[#9999FF99] italic",children:"Empty directory"})})}):"error"===c.type?n.jsx("div",{className:"h-full w-full flex items-center justify-center bg-[#1E1E1E] text-[#FF6B6B] p-8",children:n.jsxs("div",{className:"flex flex-col items-center gap-4 max-w-md text-center",children:[n.jsx(Zk,{className:"w-12 h-12"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold mb-2",children:"Error"}),n.jsx("p",{className:"text-sm text-[#E5E5E599]",children:c.error||"An error occurred"})]})]})}):null})]})})},fK=({message:e})=>n.jsx("div",{className:"p-3 select-text selection:text-[#66EAFF] selection:bg-[#66EAFF] selection:bg-opacity-10",onClick:e=>e.stopPropagation(),onMouseDown:e=>e.stopPropagation(),onDoubleClick:e=>e.stopPropagation(),children:(()=>{var t,s,i;if(!e.action)return e.observation;if("search_replace"===e.function_name&&PU(e.action,"mcp_search_replace")){const t=RU(e.action);if(t)return n.jsx("div",{className:"w-full h-[400px] border border-[#252526] rounded-lg overflow-hidden",children:n.jsx(zt,{height:"100%",language:BU(t.path),original:t.oldStr,modified:t.newStr,theme:"vs-dark",options:{readOnly:!0,renderSideBySide:!0,minimap:{enabled:!1},scrollBeyondLastLine:!1,lineNumbers:"on",renderLineHighlight:"none",contextmenu:!1,folding:!0,scrollbar:{vertical:"visible",horizontal:"visible"},originalEditable:!1,enableSplitViewResizing:!0}})})}if("multi_search_replace"===e.function_name&&PU(e.action,"mcp_multi_search_replace"))return null;if("view_bulk"===e.function_name&&PU(e.action,"mcp_view_bulk")){if(e.observation){const t=function(e){if(!e||!e.trim())return[];const t=e.split("\n"),n=[];let s=[];for(const i of t)i.startsWith("===FILE:")||i.startsWith("===DIR:")||i.startsWith("===ERROR:")?(s.length>0&&n.push(s.join("\n")),s=[i]):s.push(i);return s.length>0&&n.push(s.join("\n")),n.filter(e=>e.trim()).map(e=>{const t=e.split("\n"),n=t[0];if(n.startsWith("===FILE:")){const e=n.replace("===FILE:","").trim();let s=1;return t[1]&&t[1].trim().endsWith(":")&&(s=2),{path:e,type:"file",success:!0,output:t.slice(s).filter(e=>!e.startsWith("===END")).map(e=>e.replace(/^\d+\|/,"")).join("\n")}}if(n.startsWith("===DIR:")){const e=n.replace("===DIR:","").trim();let s=1;return t[1]&&(t[1].trim().endsWith(":")||t[1].includes("(depth="))&&(s=2),{path:e,type:"directory",success:!0,entries:t.slice(s).filter(e=>!e.startsWith("===END")&&e.trim()).map(e=>e.trim())}}return n.startsWith("===ERROR:")?{path:n.replace("===ERROR:","").trim(),type:"error",success:!1,error:t.slice(1).filter(e=>!e.startsWith("===END")).join("\n").trim()}:null}).filter(e=>null!==e)}(e.observation);if(t.length>0)return n.jsx(xK,{files:t})}return null}const[a,r,o]=e.action.split(" ");if("view"===r)return n.jsx("div",{className:"w-full h-[300px] border border-[#252526] rounded-lg overflow-hidden",children:n.jsx(Bt,{height:"100%",defaultLanguage:BU(o),defaultValue:(null==(t=e.observation)?void 0:t.includes("|"))?null==(s=e.observation)?void 0:s.split("\n").slice(1).map(e=>{const[,...t]=e.split("|");return t.join("|")}).join("\n"):null==(i=null==e?void 0:e.observation)?void 0:i.split("\n").slice(1).join("\n"),theme:"vs-dark",options:{readOnly:!0,minimap:{enabled:!1},scrollBeyondLastLine:!1,lineNumbers:"on",renderLineHighlight:"none",contextmenu:!1,folding:!0,scrollbar:{vertical:"visible",horizontal:"visible"}}})});if("str_replace"===r){const{oldStr:t,newStr:s}=(e=>{const t=(e=e.replace(/--status\b/,"")).split("--old-str");if(t.length<2)return{oldStr:"",newStr:""};const n=t[1].split("--new-str");if(n.length<2)return{oldStr:"",newStr:""};const s=e=>e.trim().replace(/^["']|["']$/g,"").replace(/\\n/g,"\n").replace(/\\t/g,"\t").replace(/\\r/g,"\r").replace(/\\\\/g,"\\");return{oldStr:s(n[0]),newStr:s(n[1])}})(e.action);return n.jsx("div",{className:"w-full h-[400px] border border-[#252526] rounded-lg overflow-hidden",children:n.jsx(zt,{height:"100%",language:BU(o),original:t,modified:s,theme:"vs-dark",options:{readOnly:!0,renderSideBySide:!0,minimap:{enabled:!1},scrollBeyondLastLine:!1,lineNumbers:"on",renderLineHighlight:"none",contextmenu:!1,folding:!0,scrollbar:{vertical:"visible",horizontal:"visible"},originalEditable:!1,enableSplitViewResizing:!0}})})}if("create"===r){const t=e.action.match(/--file-text\s+(.*?)$/s),s=t?t[1].replace(/\\'/g,"'").replace(/^'|'$/g,"").replace(/\\n/g,"\n").replace(/\\t/g,"\t").replace(/\\r/g,"\r"):e.observation;return n.jsx("div",{className:"w-full h-[400px] border border-[#252526] rounded-lg overflow-hidden",children:n.jsx(Bt,{height:"100%",defaultLanguage:BU(o),defaultValue:s||"",theme:"vs-dark",options:{readOnly:!0,minimap:{enabled:!1},scrollBeyondLastLine:!1,lineNumbers:"on",renderLineHighlight:"none",contextmenu:!1,folding:!0,scrollbar:{vertical:"visible",horizontal:"visible"}}})})}return e.action.startsWith("bulk_file_creator")||"bulk_file_writer"===e.function_name?null:n.jsx(yZ,{className:"p-0 font-['Inter'] text-[16px]",remarkPlugins:[hK],components:{p:({node:e,...t})=>n.jsx("p",{className:"my-2",...t}),h3:({node:e,...t})=>n.jsx("h3",{className:"mt-4 mb-2 font-bold",...t}),li:({node:e,...t})=>n.jsx("li",{className:"my-1 ml-4",...t}),ul:({node:e,...t})=>n.jsx("ul",{className:"my-2",...t}),del:({node:e,...t})=>n.jsx("del",{className:"text-gray-400 line-through",...t})},children:e.observation})})()}),gK=({message:e,isExpanded:t,setIsExpanded:s,isSubagent:i=!1})=>{var a;if(!e.action||"finish"===e.action||"exit_cost_credit_limit_reached"===e.action||"exit_cost"===e.action||"context_limit_reached"===e.action||"rollback"===e.function_name||"ask_human"===e.function_name)return null;const r=(null==(a=e.content)?void 0:a.includes("thought:"))&&Boolean(e.action);return n.jsxs("div",{onClick:()=>{if(!t&&e.observation){const e=window.getSelection();if(e&&e.toString().length>0)return;s(!0)}},className:fb("max-md:max-w-screen w-full max-w-[calc(896px-52px)] text-wrap backdrop-blur-lg rounded-[12px] text-left select-text",e.observation&&!t&&"cursor-pointer hover:bg-[#202020]"),style:{background:"radial-gradient(50% 50% at 50% 50%, rgba(230, 247, 255, 0.1) 0%, rgba(229, 246, 255, 0.05) 100%)"},children:[n.jsxs("div",{className:"flex items-start justify-between p-3",children:[n.jsxs("div",{className:"flex items-center flex-1 min-w-0 gap-2",children:[n.jsx("div",{className:fb("flex items-start gap-2 text-wrap",t&&"hidden"),children:n.jsx(MU,{isRunning:r,envSuccess:e.env_success,action:e.action})}),n.jsx("div",{className:"flex items-center flex-1 min-w-0 gap-2",children:n.jsx(UU,{action:e.action,functionName:e.function_name,isExpanded:t,setIsExpanded:s,isSubagent:i})})]}),e.observation&&n.jsx("div",{onClick:n=>{n.stopPropagation(),e.observation&&s(!t)},className:"text-[#939399] transition-all duration-200 ml-2 shrink-0 cursor-pointer hover:text-[#E5E5E5] p-1 -m-1",children:n.jsx(qk,{className:fb("w-5 h-5 transition-transform duration-200 ease-in-out",t&&"rotate-90")})})]}),t&&n.jsx("div",{className:fb("grid transition-[grid-template-rows] duration-200",t?"grid-rows-[1fr]":"grid-rows-[0fr]"),children:n.jsx("div",{className:"overflow-hidden",children:n.jsx("div",{className:"border-t border-[#313131]",children:e.observation&&n.jsx(fK,{message:e})})})})]})},vK=De.memo(({children:e,className:t,variant:s="default",customComponents:i={}})=>{const a={...{p:({...e})=>n.jsx("p",{className:"my-4 font-['Inter']",...e}),h1:({...e})=>n.jsx("h1",{className:"mt-8 mb-4 text-[28px] font-bold tracking-tight text-white font-['Inter']",...e}),h2:({...e})=>n.jsx("h2",{className:"mt-6 mb-3 text-2xl font-semibold tracking-tight text-white/90 font-['Inter']",...e}),h3:({...e})=>n.jsx("h3",{className:"mt-5 mb-2 text-xl font-bold text-white/80 font-['Inter']",...e}),h4:({...e})=>n.jsx("h4",{className:"mt-4 mb-2 text-lg font-semibold text-white/70 font-['Inter']",...e}),h5:({...e})=>n.jsx("h5",{className:"mt-3 mb-1 text-base font-medium text-white/60 font-['Inter']",...e}),h6:({...e})=>n.jsx("h6",{className:"mt-2 mb-1 text-sm font-medium tracking-wider uppercase text-white/50 font-['Inter']",...e}),ul:({...e})=>n.jsx("ul",{className:"pl-4 my-3 space-y-1 list-disc font-['Inter']",...e}),ol:({...e})=>n.jsx("ol",{className:"pl-4 my-3 space-y-1 list-decimal font-['Inter']",...e}),li:({...e})=>n.jsx("li",{className:"pl-1 ml-4 font-['Inter']",...e}),blockquote:({...e})=>n.jsx("blockquote",{className:"pl-4 my-4 italic border-l-4 border-blue-500/40 text-white/70 font-['Inter']",...e}),code:({inline:e,className:t,children:s,...i})=>{const a=String(s||"");return!0===e||!1!==e&&!(null==t?void 0:t.startsWith("language-"))&&!a.includes("\n")&&a.length<200?n.jsx("span",{className:" px-1.5 py-0.5 rounded-[6px] text-[12px] font-jetbrains border border-[#80fff920]  bg-[#80fff910] text-[#80fff9] whitespace-nowrap inline",...i,children:s}):n.jsx("span",{className:"block p-4 overflow-x-auto text-sm rounded-lg bg-white/5 text-[#dcdce5] font-jetbrains",...i,children:s})},pre:({...e})=>n.jsx("pre",{className:"p-0 my-4 overflow-hidden bg-transparent rounded-md",...e}),a:({...e})=>n.jsx("a",{className:"text-blue-400 transition-colors duration-200 hover:text-blue-300 hover:underline underline-offset-2 font-['Inter']",...e}),table:({...e})=>n.jsx("table",{className:"w-full my-4 border-collapse font-['Inter']",...e}),thead:({...e})=>n.jsx("thead",{className:"bg-gray-800/40 font-['Inter']",...e}),tbody:({...e})=>n.jsx("tbody",{className:"divide-y divide-gray-800/60 font-['Inter']",...e}),tr:({...e})=>n.jsx("tr",{className:"transition-colors duration-150 hover:bg-gray-800/20 font-['Inter']",...e}),th:({...e})=>n.jsx("th",{className:"px-3 py-2 font-semibold text-left text-white/80 font-['Inter']",...e}),td:({...e})=>n.jsx("td",{className:"px-3 py-2 font-['Inter']",...e}),hr:({...e})=>n.jsx("hr",{className:"my-6 border-t border-gray-700/50 font-['Inter']",...e}),strong:({...e})=>n.jsx("strong",{className:"font-bold text-white font-['Inter']",...e}),em:({...e})=>n.jsx("em",{className:"italic text-white/90 font-['Inter']",...e}),img:({...e})=>n.jsx("img",{className:"h-auto max-w-full my-4 rounded-lg shadow-md shadow-black/20",...e,loading:"lazy"}),dl:({...e})=>n.jsx("dl",{className:"my-4 space-y-2 font-['Inter']",...e}),dt:({...e})=>n.jsx("dt",{className:"font-medium text-white/90 font-['Inter']",...e}),dd:({...e})=>n.jsx("dd",{className:"ml-4 text-white/70 font-['Inter']",...e}),details:({...e})=>n.jsx("details",{className:"my-3 overflow-hidden font-['Inter'] border rounded-md border-gray-700/50",...e}),summary:({...e})=>n.jsx("summary",{className:"px-4 py-2 transition-colors font-['Inter'] duration-200 cursor-pointer bg-gray-800/30 hover:bg-gray-800/50",...e}),sup:({...e})=>n.jsx("sup",{className:"text-xs align-super font-['Inter']",...e}),sub:({...e})=>n.jsx("sub",{className:"text-xs align-sub font-['Inter']",...e}),del:({...e})=>n.jsx("del",{className:"text-gray-400 line-through decoration-1 font-['Inter']",...e})},...i};return n.jsx(yZ,{className:fb("selection:text-[#66EAFF] text-wrap break-words selection:bg-[#66EAFF] selection:bg-opacity-10 font-['Inter'] max-w-3xl select-text",{default:"p-0 text-[#dcdce5] font-['Inter'] text-[16px] leading-[28px] font-normal max-w-4xl",compact:"p-0 text-[#dcdce5] font-['Inter'] text-[14px] leading-[24px] font-normal max-w-4xl",minimal:"p-0 text-[#dcdce5] font-['Inter'] text-[14px] leading-[20px] font-normal max-w-4xl"}[s],t,"max-w-[50rem]"),remarkPlugins:[hK],components:a,children:e})},(e,t)=>e.children===t.children&&e.variant===t.variant&&e.className===t.className),bK=gv.common.mingcuteQuestionFill,yK=gv.common.infoSquare02,wK=gv.common.keyboardArrowUp,jK=({message:e,nextMessageExists:t=!1})=>{var s;const[i,a]=De.useState(!1),r=e.action&&["fork"].includes(e.action)||e.function_name&&["exit_cost","exit_cost_credit_limit_reached"].includes(e.function_name)?e.content:e.action||"",o=(null==r?void 0:r.length)>650?300:150,l=(null==(s=e.content)?void 0:s.length)>950?400:150;return"ask_human"!==e.function_name&&"exit_cost"!==e.function_name&&"exit_cost_credit_limit_reached"!==e.function_name||t?"ask_human"===e.function_name||"exit_cost"===e.function_name||"exit_cost_credit_limit_reached"===e.function_name?n.jsxs("div",{className:fb("w-full p-[8px] relative rounded-[12px] bg-[#111112] border-[#FFFFFF1F] border-[1px] text-left flex flex-col gap-2"),children:[n.jsxs("div",{onClick:()=>a(!i),className:"flex cursor-pointer items-center font-['Inter'] grayscale font-medium text-[#80FFF9] p-[10px] rounded-[8px] justify-between",style:{background:"radial-gradient(50% 50% at 50% 50%, rgba(230, 247, 255, 0.1) 0%, rgba(229, 246, 255, 0.05) 100%)"},children:[n.jsxs("div",{className:"flex justify-between gap-2",children:[n.jsx("img",{src:bK,alt:"Ask Question",className:"w-6 h-6 font-['Inter']"}),n.jsx("span",{className:"font-['Inter']",children:"Agent asked a question"})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("div",{className:"bg-[#FFFFFF1A] rounded-full text-white px-[12px] py-1 text-[14px] font-medium",children:"Answered"}),n.jsx("button",{onClick:()=>{a(!i)},children:n.jsx("img",{src:wK,alt:"Up",className:fb("transition-transform duration-200",i?"rotate-180":"rotate-0")})})]})]}),i&&n.jsx("div",{className:"bg-[#FFFFFF0D] rounded-[8px] p-4 py-0",children:n.jsx(vK,{children:r||"",variant:"default"})})]}):"default_tool"===e.function_name?n.jsxs("div",{className:fb("w-full p-[8px] relative rounded-[12px] bg-[#111112] border-[#FFFFFF1F] border-[1px] text-left flex flex-col gap-2"),children:[!t&&n.jsxs("div",{className:"flex items-center font-['Inter'] font-medium text-[#80FFF9] p-[10px] rounded-[8px] gap-2",style:{background:"radial-gradient(50% 50% at 50% 50%, rgba(128, 255, 249, 0.1) 0%, rgba(128, 255, 249, 0.05) 100%)"},children:[n.jsx("img",{src:yK,alt:"Ask Question",className:"w-6 h-6 font-['Inter']"}),n.jsx("span",{className:"font-['Inter']",children:"Agent will continue working after your reply"})]}),n.jsx("div",{className:"bg-[#FFFFFF0D] rounded-[8px] p-4 py-0",children:n.jsx(vK,{children:e.content||"",variant:"default"})}),t?null:n.jsx(CE,{size:l,duration:12,delay:9,colorFrom:"#80FFF9",colorTo:"transparent"})]}):null:n.jsxs("div",{className:fb("w-full p-[8px] relative rounded-[12px] bg-[#111112] border-[#FFFFFF1F] border-[1px] text-left flex flex-col gap-2"),children:[n.jsxs("div",{className:"flex items-center font-['Inter'] font-medium text-[#80FFF9] p-[10px] rounded-[8px] gap-2",style:{background:"radial-gradient(50% 50% at 50% 50%, rgba(128, 255, 249, 0.1) 0%, rgba(128, 255, 249, 0.05) 100%)"},children:[n.jsx("img",{src:bK,alt:"Ask Question",className:"w-6 h-6 font-['Inter']"}),n.jsx("span",{className:"font-['Inter']",children:"Agent is asking a question, Please answer it to further continue :"})]}),n.jsx("div",{className:"bg-[#FFFFFF0D] rounded-[8px] p-4 py-0",children:n.jsx(vK,{children:r||"",variant:"default"})}),n.jsx(CE,{size:o,duration:12,delay:9,colorFrom:"#80FFF9",colorTo:"transparent"})]})},CK=({message:e})=>{const[t,s]=De.useState(!1);return!e.error||"string"==typeof e.error_message&&e.error_message.includes("context limit")?null:n.jsx("div",{className:"flex items-start gap-2 px-4 py-4 bg-[#CC5254]/10 border border-1 border-[#CC5254]/20 rounded-lg text-sm cursor-pointer",onClick:()=>s(!t),children:n.jsxs("div",{className:"flex flex-col items-start w-full gap-2",children:[n.jsxs("div",{className:"flex items-start justify-between w-full",children:[n.jsxs("div",{className:"flex items-start justify-center gap-2",children:[n.jsx(fS,{className:"w-5 h-5 text-[#E55C5C]"}),n.jsx("p",{className:"text-[#E55C5C] font-['Inter'] text-base leading-6 font-normal",children:"There has been an error"})]}),t?n.jsx(Vk,{className:"w-5 h-5 text-[#E55C5C]"}):n.jsx(qk,{className:"w-5 h-5 text-[#E55C5C]"})]}),t&&n.jsx("span",{className:"text-[#C4C4CC]/70 font-['Inter'] text-base leading-6 font-normal",children:JSON.stringify(e.error_message)})]})})},NK=({message:e,credits:t,max_budget:s,user:i,session:a})=>i&&a&&void 0!==t&&"exit_cost_credit_limit_reached"===e.action&&t<0?n.jsx("div",{className:"flex flex-col w-full pt-4 space-y-4",children:n.jsxs("div",{className:"flex w-full gap-4",children:[n.jsx("div",{className:"w-[16px] md:w-[120px] h-[1px] bg-[#4D401F] mt-[10px]"}),n.jsx("div",{className:"flex flex-col flex-1",children:n.jsxs("div",{className:"flex flex-col items-start",children:[n.jsxs("div",{className:"flex items-center w-full gap-4",children:[n.jsx("span",{className:"text-[#F5CC62] font-berkeley text-[13px] md:text-[15px] leading-[20px] font-normal",children:"Credit Exhausted"}),n.jsx("div",{className:"h-[1px] flex-1 bg-[#4D401F]"})]}),n.jsx("span",{className:"text-[#5C5F66] font-berkeley mt-2 text-[13px] md:text-[15px] leading-[20px] font-normal text-right",children:uT(e.timestamp)})]})})]})}):null,FK=({message:e,credits:t,max_budget:s})=>"exit_cost_credit_limit_reached"===e.action&&void 0!==t&&void 0!==e.max_budget&&t>0?n.jsx("div",{className:"flex flex-col w-full pt-4 space-y-4",children:n.jsxs("div",{className:"flex w-full gap-4",children:[n.jsx("div",{className:"w-[16px] md:w-[120px] h-[1px] bg-[#4D401F] mt-[10px]"}),n.jsx("div",{className:"flex flex-col flex-1",children:n.jsxs("div",{className:"flex flex-col items-start",children:[n.jsxs("div",{className:"flex items-center w-full gap-4",children:[n.jsx("span",{className:"text-[#F5CC62] font-berkeley text-[13px] md:text-[15px] leading-[20px] font-normal",children:"Credits Recharged"}),n.jsx("div",{className:"h-[1px] flex-1 bg-[#4D401F]"})]}),n.jsx("span",{className:"text-[#5C5F66] font-berkeley mt-2 text-[13px] md:text-[15px] leading-[20px] font-normal text-right",children:uT(e.timestamp)})]})})]})}):"finish"===e.action?n.jsx("div",{className:"flex flex-col w-full pt-4 space-y-4",children:n.jsxs("div",{className:"flex w-full gap-4",children:[n.jsx("div",{className:"w-[16px] md:w-[120px] h-[1px] bg-[#213B2E] mt-[10px]"}),n.jsx("div",{className:"flex flex-col flex-1",children:n.jsxs("div",{className:"flex flex-col items-start",children:[n.jsxs("div",{className:"flex items-center w-full gap-4",children:[n.jsx("span",{className:"text-[#00E573] font-berkeley text-[15px] leading-[20px] font-normal",children:"Agent Finished"}),n.jsx("div",{className:"h-[1px] flex-1 bg-[#213B2E]"})]}),n.jsx("span",{className:"text-[#5C5F66] font-berkeley mt-2 text-[13px] md:text-[15px] leading-[20px] font-normal text-right",children:uT(e.timestamp)})]})})]})}):"deployment_initiated"===e.action?n.jsx("div",{className:"flex flex-col w-full pt-4 space-y-4",children:n.jsxs("div",{className:"flex w-full gap-4",children:[n.jsx("div",{className:"w-[16px] md:w-[120px] h-[1px] bg-gradient-to-b from-[#33CCFF] to-[#337AF2] mt-[10px]"}),n.jsx("div",{className:"flex flex-col flex-1",children:n.jsxs("div",{className:"flex flex-col items-start",children:[n.jsxs("div",{className:"flex items-center w-full gap-4",children:[n.jsx("span",{className:"text-[#33CCFF] font-berkeley text-[15px] leading-[20px] font-normal",children:"Deployment Started"}),n.jsx("div",{className:"h-[1px] flex-1 bg-gradient-to-b from-[#33CCFF] to-[#337AF2]"})]}),n.jsx("span",{className:"text-[#5C5F66] font-berkeley mt-2 text-[13px] md:text-[15px] leading-[20px] font-normal text-right",children:uT(e.timestamp)})]})})]})}):null,_K=gv.common.bot,kK=gv.common.githubDark,SK=gv.common.infoSquaredBlack,EK=gv.common.increaseBudget,IK=gv.icons.preview,AK=De.memo(({message:e,onSubagentClick:t,hideRobotIcon:s,handleOpenVsCode:i,handleRollback:a,marginBottom:r=!0,hideSubagentCount:o=!1,isCloudFlow:l=!1,searchActive:c=!1,searchHighlights:d=[],isMatchingMessage:u=!1,isSubagent:p=!1,hideImportantActions:m=!1,handleAddToken:h,lastGithubUsed:x,acc_cost:f,max_budget:g,togglePanel:v,currentChunk:b,isLastMessage:y=!1,agentState:w,nextMessageExists:j=!1,panelState:C,selectedMessageId:N,jobDetails:F,agentName:_,onPause:k,isPauseLoading:S,podIsPaused:E=!1,isSubagentActive:I=!1,modalOpen:A,forkStatus:T,setModalOpen:D,isTyping:M=!1,onTypingComplete:L,agentStatus:P="stopped"})=>{var R,O,z,B,H,$;const[U,V]=De.useState(!1),[W,q]=De.useState(!1),[G,Z]=De.useState(!1),[Y,K]=De.useState(!1),J=De.useRef(null),Q=kg(),X=BE(),ee=(null==(R=e.subagent_trajectory)?void 0:R.length)>0&&(!y||y&&I),{toast:te}=on(),{credits:ne,refreshCredits:se,tier:ie}=Xg(),{user:ae,session:re}=Wg(),oe=eI();let le;le=(null==(O=null==ae?void 0:ae.user_metadata)?void 0:O.custom_name)?ae.user_metadata.custom_name:(null==(z=null==ae?void 0:ae.user_metadata)?void 0:z.full_name)?ae.user_metadata.full_name.split(" ")[0]:null==(B=null==ae?void 0:ae.email)?void 0:B.split("@")[0],De.useEffect(()=>{"exit_cost"!==e.action&&"exit_cost_credit_limit_reached"!==e.action&&"finish"!==e.action&&"context_limit_reached"!==e.action&&"pause"!==e.action||se()},[e.action]),De.useEffect(()=>{u&&c&&!U&&V(!0)},[u,c,U]);const ce=async()=>{Q&&"free"===ie?X.open({planType:"personal",triggerLocation:"default"}):e.containerId&&K(!0)},de=()=>{var n;if((null==(n=e.subagent_trajectory)?void 0:n.length)&&t){const n=N===e.id;n&&C.showSubagentPanel?v({panelName:"showSubagentPanel",value:!1}):C.showSubagentPanel&&!n?(v({panelName:"showSubagentPanel",value:!1}),setTimeout(()=>{t(e)},300)):t(e)}};return n.jsxs("div",{ref:J,onMouseEnter:()=>q(!0),onMouseLeave:()=>q(!1),className:fb("relative group selection:text-[#66EAFF] selection:bg-[#66EAFF] selection:bg-opacity-10",r&&"mb-0 my-3 md:my-5 space-y-[10px]"),id:e.id,children:[e.base64_image_list&&e.base64_image_list.length>0&&n.jsx(v$,{images:e.base64_image_list,className:"justify-end"}),n.jsx(NK,{message:e,credits:ne,max_budget:g,user:ae,session:re}),"deployment_initiated"!=e.action&&n.jsx("div",{className:"overflow-hidden rounded-lg",children:n.jsx("div",{className:"flex flex-col w-full space-y-4",children:n.jsxs("div",{className:"flex items-start w-full max-w-4xl mx-auto md:gap-4 md:w-4xl",children:[!s&&!p&&n.jsx("div",{className:"",children:n.jsx("div",{className:fb("hidden row-span-2 md:block",("rollback"===e.function_name||"deployment_initiated"===e.action)&&"row-span-1"),children:n.jsx(_M,{className:"flex-shrink-0 w-10 h-10",children:n.jsx(SM,{className:"bg-transparent",children:n.jsx("img",{src:_K,alt:"Robot",className:"h-8 w-fit"})})})})}),n.jsxs("div",{className:"flex flex-col flex-1 w-full gap-3",children:["initial-llm"===e.action&&M&&e.content?n.jsx("div",{className:fb("min-w-0 w-full",s&&"col-span-2"),children:n.jsx("div",{className:"flex flex-col w-full prose prose-invert max-w-none",children:n.jsx(NU,{thought:e.content,typingSpeed:50,hideRobotIcon:!0,marginBottom:!1,onTypingComplete:()=>{L&&L()}})})}):!(ae&&re&&(null==e?void 0:e.action)&&!m&&["exit_cost_credit_limit_reached","exit_cost"].includes(e.action)||"exit_cost"===e.function_name)&&(null==e?void 0:e.content)&&n.jsx("div",{className:fb("min-w-0 w-full",s&&"col-span-2"),children:n.jsx("div",{className:"flex flex-col w-full prose prose-invert max-w-none",children:n.jsx(AU,{message:e,userName:le,searchActive:c,searchHighlights:d,handleRollback:a})})}),n.jsxs("div",{className:fb("w-full",s?"col-span-2":"col-span-1","rollback"!==e.function_name?"space-y-1  md:space-y-[10px]":"h-[0px]"),children:[e.action&&"finish"===e.action&&"rollback"!=e.function_name&&!p&&n.jsx(jU,{containerId:e.containerId,isCloudFlow:l,hideImportantActions:m,handleDeploy:async()=>{v({panelName:"showDeployPanel",value:!0})},handleCopyToHost:async()=>{if(e.containerId)try{Z(!0);const t=await fp.showDirectoryPicker();if(t&&!t.canceled&&t.filePaths[0]){const n={type:"copy-to-host-as-archive",hostDir:t.filePaths[0]},s=await fp.executeNeonAction(e.containerId,n);s.success?te({title:"Export as folder",description:s.message}):te({title:"Error",description:s.error||"Failed to copy files",variant:"destructive"})}}catch(t){te({title:"Error",description:"Failed to copy files to host",variant:"destructive"})}finally{Z(!1)}},handleOpenVsCode:i,isLoading:G,handlePushToGithub:ce,togglePanel:v,podIsPaused:E}),"initial-llm"!==e.action&&n.jsx(gK,{message:e,isExpanded:U,setIsExpanded:V,isSubagent:p}),n.jsx(jK,{message:e,nextMessageExists:j}),n.jsx(EU,{message:e,credits:ne,handleAddToken:h,podIsPaused:E,modalOpen:A,setModalOpen:D}),n.jsx(CK,{message:e})]})]})]})})}),ae&&re&&"context_limit_reached"===e.action&&!oe?n.jsx("div",{className:"max-w-4xl pt-[6px] mx-auto",children:n.jsxs("div",{className:"relative flex items-center gap-1 md:gap-4 md:ml-14",children:[n.jsx(bU,{title:"Save Work",className:"flex bg-[#2EE572] hover:bg-[#2ee550] justify-between gap-2 items-center",variant:"outlined",icon:kK,onClick:ce,disabled:E}),n.jsx(bU,{title:"Learn How to Clear Memory",className:"flex items-center justify-between gap-2 font-brockmann",variant:"outlined",icon:SK,onClick:()=>{window.open(av,"_blank")}})]})}):null,ae&&re&&!m&&"exit_cost_credit_limit_reached"===e.action?n.jsx("div",{className:"max-w-4xl pt-[6px] mx-auto",children:n.jsxs("div",{className:"relative flex items-center gap-4 ml-6 md:ml-14",children:[n.jsx(bU,{title:"free"===ie?"Buy Credits":"Add More Credits",variant:"filled",style:"free"==ie&&"exit_cost_credit_limit_reached"===e.action?{background:"linear-gradient(90deg, #ffffff30, #00000050), #F3CA5F",backgroundSize:"cover",backgroundPosition:"center",backgroundBlendMode:"overlay, normal"}:{},className:fb("flex items-center gap-1  md:gap-4","free"!=ie&&"hover:bg-[#F3CA5F]"),onClick:()=>{if(!h)return;"free"==ie&&fg(nE);const t="exit_cost_credit_limit_reached"===e.action?"add_credits":"increase_budget";h(t)},icon:EK}),n.jsx(bU,{disabled:E,title:"Preview",variant:"outlined",className:"flex items-center gap-4",icon:IK,onClick:()=>{v&&v({panelName:"showUrlPreviewPanel"})}})]})}):null,"rollback"!=e.function_name&&n.jsxs("div",{className:fb("transition-opacity duration-200 h-[25px] max-w-4xl items-center flex justify-between mx-auto","opacity-100"),children:[n.jsxs("div",{className:"flex justify-between items-center text-[#5C5F66]",children:[!y&&(null==(H=e.subagent_trajectory)?void 0:H.length)>0&&n.jsx(_U,{handleSubagentClick:de,message:e,agentState:w,enableLoading:!1,runningState:!1,panelState:C,isSelected:N==e.id,jobDetails:F,agentName:_,onPause:k,isPauseLoading:S}),!(null==e?void 0:e.subagent_trajectory)&&!b&&n.jsx("span",{className:fb("md:ml-14",p&&"ml-4")}),y&&I&&(null==($=e.subagent_trajectory)?void 0:$.length)>0&&n.jsx(_U,{handleSubagentClick:de,message:e,agentState:w,enableLoading:!0,runningState:I,panelState:C,isSelected:N===e.id,jobDetails:F,agentName:_,onPause:k,isPauseLoading:S})]}),"rollback"!=e.function_name&&"deployment_initiated"!==e.action&&n.jsx("div",{className:"text-[#5C5F66] w-full",children:n.jsxs("div",{className:fb("relative flex items-center justify-between",ee&&"justify-end"),children:[n.jsx("div",{className:fb("flex items-center gap-2",ee&&"hidden",W?"opacity-100":"opacity-0 pointer-events-none"),children:n.jsx("span",{className:fb("text-[13px] md:text-[15px] w-full leading-[20px] font-medium font-mono text-nowrap transition-opacity text-[#CCEEFF]/30"),children:dT(e.timestamp)})}),n.jsx("div",{className:fb("relative",(null==w?void 0:w.agent_running)?"":"md:opacity-100 pointer-events-none"),children:n.jsx($$,{message:e,isHovered:W,forkStatus:T,isCloudFlow:l,hideImportantActions:m,handleRollback:a,agentStatus:P,podIsPaused:E,className:fb(W?"opacity-100":"opacity-0 pointer-events-none")})})]})})]}),!p&&n.jsx(FK,{message:e,credits:ne,max_budget:g}),Y&&!E&&n.jsx(NH,{podIsPaused:E,lastGithubUsed:x,isOpen:Y,onOpenChange:e=>K(e),jobId:e.containerId,onSuccess:()=>K(!1)})]})});function TK({children:e,as:t="p",className:s,duration:i=1,zDistance:a=10,xDistance:r=2,yDistance:o=-2,spread:l=1,scaleDistance:c=1.1,rotateYDistance:d=10,transition:u}){const p=Pt.create(t);return n.jsx(p,{className:fb("relative inline-block [perspective:500px]","[--base-color:#a1a1aa] [--base-gradient-color:#000]","dark:[--base-color:#71717a] dark:[--base-gradient-color:#ffffff]",s),style:{color:"var(--base-color)"},children:e.split("").map((t,s)=>{const p=s*i*(1/l)/e.length;return n.jsx(Pt.span,{className:fb("inline-block whitespace-pre [transform-style:preserve-3d]"),initial:{translateZ:0,scale:1,rotateY:0,color:"var(--base-color)"},animate:{translateZ:[0,a,0],translateX:[0,r,0],translateY:[0,o,0],scale:[1,c,1],rotateY:[0,d,0],color:["var(--base-color)","var(--base-gradient-color)","var(--base-color)"]},transition:{duration:i,repeat:1/0,repeatDelay:.05*e.length/l,delay:p,ease:"easeInOut",...u},children:t},s)})})}const DK=gv.common.bot;const MK=Pe.memo(function({text:e,duration:t=2,spread:s=1,zDistance:i=1,scaleDistance:a=1.1,rotateYDistance:r=20}){return n.jsx("div",{className:"max-w-4xl mx-auto",children:n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx("div",{className:"row-span-2",children:n.jsx(_M,{className:"flex-shrink-0 w-10 h-10",children:n.jsx(SM,{className:"bg-transparent",children:n.jsx("img",{src:DK,alt:"Robot",className:"h-8 w-fit"})})})}),n.jsx("div",{className:"flex flex-col w-full space-y-4",children:n.jsx("div",{className:"w-[300px] flex items-center justify-between rounded-xl p-4 pt-2 pl-0",children:n.jsx("div",{className:"flex items-center space-x-3",children:n.jsx(TK,{className:"[--base-color:#0D74CE] [--base-gradient-color:#5EB1EF] text-base",duration:t,spread:s,zDistance:i,scaleDistance:a,rotateYDistance:r,children:e})})})})]})})},(e,t)=>!(e.text!==t.text));MK.displayName="AgentTypingAnimation";const LK=({initialText:e,currentChunk:t})=>{const[s,i]=De.useState(e||"Processing next step..."),[a,r]=De.useState(!0),o=De.useRef([]),l=De.useRef(!1),c=De.useRef(null);De.useEffect(()=>{var e,n,i,a,r,u,p,m,h,x,f,g;if(c.current&&JSON.stringify(c.current)===JSON.stringify(t))return;c.current=t;let v="Processing next step...";if(t&&t.chunk&&t.chunk.data){if(t.chunk.data.reasoning_content&&(v="Agent is thinking..."),t.chunk.data.thought&&(v="Analyzing your request..."),"build_mode"===t.chunk.data.tool_name&&(v="Preparing the build environment..."),t.chunk.data.tool_name)if("str_replace_editor"===t.chunk.data.tool_name)"create"===(null==(e=t.chunk.data.arguments)?void 0:e.command)?v="Creating a new file...":"view"===(null==(n=t.chunk.data.arguments)?void 0:n.command)?v="Scanning File Contents...":"str_replace"===(null==(i=t.chunk.data.arguments)?void 0:i.command)&&(v="Editing a file...");else if("bulk_file_writer"===t.chunk.data.tool_name){let e=0;if(t.chunk.data.arguments&&"string"==typeof t.chunk.data.arguments)try{const n=JSON.parse(t.chunk.data.arguments);if("mcp_tool"===n.type&&"mcp_bulk_file_writer"===n.tool_name&&(null==(a=n.tool_arguments)?void 0:a.files))e=n.tool_arguments.files.length;else{e=((null==(u=null==(r=t.chunk.data.arguments)?void 0:r.xml_content)?void 0:u.split("<file>"))||[]).length-1}}catch{e=((null==(m=null==(p=t.chunk.data.arguments)?void 0:p.xml_content)?void 0:m.split("<file>"))||[]).length-1}else{e=((null==(x=null==(h=t.chunk.data.arguments)?void 0:h.xml_content)?void 0:x.split("<file>"))||[]).length-1}v=`Writing ${e>0?e:"multiple"} files. Hang on...`}else if("mcp_search_replace"===t.chunk.data.tool_name||"search_replace"===t.chunk.data.tool_name)v="Editing file...";else if("mcp_multi_search_replace"===t.chunk.data.tool_name||"multi_search_replace"===t.chunk.data.tool_name){let e=0;if(t.chunk.data.arguments&&"string"==typeof t.chunk.data.arguments)try{const n=JSON.parse(t.chunk.data.arguments);"mcp_tool"===n.type&&"mcp_multi_search_replace"===n.tool_name&&(null==(f=n.tool_arguments)?void 0:f.edits)&&(e=n.tool_arguments.edits.length)}catch{}v=e>0?`Applying ${e} edits to file...`:"Applying edits to file..."}else if("mcp_view_bulk"===t.chunk.data.tool_name||"view_bulk"===t.chunk.data.tool_name){let e=0;if(t.chunk.data.arguments&&"string"==typeof t.chunk.data.arguments)try{const n=JSON.parse(t.chunk.data.arguments);"mcp_tool"===n.type&&"mcp_view_bulk"===n.tool_name&&(null==(g=n.tool_arguments)?void 0:g.paths)&&(e=n.tool_arguments.paths.length)}catch{}v=e>0?`Viewing ${e} ${1===e?"path":"paths"}...`:"Viewing files..."}else v="execute_bash"===t.chunk.data.tool_name?"Running a command in terminal...":"Processing next step...";"build_mode"===t.chunk.data.tool_name&&(v="Initializing cloud environment")}v!==s&&(o.current.push(v),l.current||d())},[t,s]);const d=()=>{0!==o.current.length?(l.current=!0,r(!1),setTimeout(()=>{const e=o.current.shift();i(e),setTimeout(()=>{r(!0),setTimeout(()=>{o.current.length>0?d():l.current=!1},1e3)},200)},1e3)):l.current=!1};return n.jsx("div",{className:"typing-animation-container",children:n.jsx(MK,{text:s,duration:1})})};function PK({isOpen:e,onClose:t,messages:s,onSubmit:i,onPause:a,agentState:r,containerId:o,jobDetails:l,togglePanel:c,selectedAgent:d,hideImportantActions:u=!1,userInitials:p,subagentName:m="Subagent",isSubagentActive:h=!1,isCloudFlow:x=!1,pauseWasClicked:f=!1,isPauseLoading:g=!1,searchHighlights:v,isMatchingMessage:b,searchState:y,currentChunk:w,podIsPaused:j=!1,agentStatus:C,setAgentStatus:N}){const[F,_]=De.useState(new Set),[k,S]=De.useState(!1),E=De.useRef(null),[I,A]=De.useState(!0),T=De.useRef(null),D=De.useMemo(()=>[...s].sort((e,t)=>new Date(e.timestamp).getTime()-new Date(t.timestamp).getTime()),[s]),M=()=>{T.current&&clearTimeout(T.current),T.current=setTimeout(()=>{E.current&&E.current.scrollTo({top:E.current.scrollHeight,behavior:"smooth"})},100)};De.useEffect(()=>{I&&M()},[D.length]),De.useEffect(()=>{e&&M()},[e]),De.useEffect(()=>()=>{T.current&&clearTimeout(T.current)},[]);const L=De.useMemo(()=>{if(D.length>0)return D[D.length-1].agent_name},[D]);De.useEffect(()=>{if(D.length>0){const e=D[D.length-1];"finish"===e.action||e.action||e.observation?S(!1):S(!0)}else S(!1)},[D]);const P=De.useMemo(()=>{if(D.length>0){return"finish"===D[D.length-1].action}return!1},[D]);return n.jsx("div",{className:fb("w-full h-full bg-[#0F0F10]  max-md:absolute max-md:inset-0 z-[49]",e?"block":"hidden"),children:n.jsxs("div",{className:"flex flex-col h-full",children:[n.jsxs("div",{className:"p-4 md:px-6 md:py-5 bg-[#181818] md:bg-transparent flex items-center justify-between border-b border-[#242424]/60",children:[n.jsxs("div",{className:"text-[#939399] font-['Brockmann'] flex items-center gap-2 text-[15px]  md:text-[18px] font-medium leading-[24px] capitalize",children:[NT(m)," (",D.length,")"]}),n.jsx(wb,{variant:"ghost",size:"icon",onClick:t,className:"w-8 h-8 hover:bg-transparent",children:n.jsx(RS,{className:"w-6 h-6 text-white"})})]}),n.jsxs("div",{ref:E,className:"flex-1 p-6 overflow-x-hidden overflow-y-auto",onScroll:()=>{if(E.current){const{scrollTop:e,scrollHeight:t,clientHeight:n}=E.current,s=Math.abs(t-e-n)<10;A(s)}},style:{scrollBehavior:"smooth",contain:"layout style",willChange:"scroll-position"},children:[D.map(e=>n.jsxs("div",{className:"w-full",style:{contain:"layout"},children:["assistant"===e.role&&e.action&&n.jsx(AK,{currentChunk:"",togglePanel:c,message:e,userInitials:p||"",onMergeToLocal:()=>{},onShowSubagentMessages:()=>{},onSubagentClick:()=>{},handleOpenVsCode:()=>{},handleRollback:()=>{},hideImportantActions:u,isCloudFlow:x,searchActive:y.isActive,searchQuery:y.query,searchHighlights:v,isMatchingMessage:b,isSubagent:!0,handleAddToken:()=>{},acc_cost:0,max_budget:0,selectedMessageId:void 0}),"user"===e.role&&n.jsx(iU,{message:e,isSubagent:!0})]},e.id)),!P&&(null==r?void 0:r.agent_running)&&n.jsxs(n.Fragment,{children:[n.jsx(LK,{initialText:"Processing next step...",currentChunk:w}),n.jsx("div",{className:"h-32"})]})]}),!P&&n.jsx("div",{className:"p-2 md:p-4 md:pb-2 border-t flex items-center justify-center border-[#242424]/60",children:n.jsx(i$,{buildMode:"build",onSubmit:(e,t)=>{e.trim()&&i&&(i(e,t),M())},placeholder:`Message ${NT(m)||"Subagent"}`,hideStatus:!0,isDisabled:j,hideTokens:!0,showImages:!0,isCloudFlow:x,agentName:L,agentState:r,agentStatus:C,setAgentStatus:N,containerId:o,jobDetails:l,isSubagentActive:h||k,onPause:a,onAddToken:()=>{},pauseWasClicked:f,isPauseLoading:g,onImagesChange:()=>{},fromSubagentPanel:!0})})]})})}const RK=gv.common.whiteCopperCoin,OK=gv.common.joinedBuy,zK=gv.payments.externalFilled,BK=gv.payments.infoRed;function HK({isOpen:e,onOpenChange:t,location:s="default"}){var i,a;const{tier:r,getUpgradeTierName:o,upgradeDetails:l}=Xg(),{currentWorkspace:c}=Kg(),{user:d}=Wg(),{isLoading:u,processingBundleAmount:p,bundles:m,handleBuyCredits:h,handleRazorpayPayment:x,paymentModalState:f,hidePaymentModals:g}=ST();De.useEffect(()=>{e&&fg(GS.BUY_CREDITS_MODAL_EVENTS.MODAL_OPENED,{tier:r,workspace:c,bundle_count:m.length,currency:w(),is_razorpay_flow:C})},[e]);const v=e=>{fg(GS.BUY_CREDITS_MODAL_EVENTS.MODAL_CLOSED,{tier:r,workspace:c,custom_amount_entered:!!N,custom_amount_value:N?parseInt(N):null}),t(e)};De.useEffect(()=>{f.isLoading&&fg(GS.BUY_CREDITS_MODAL_EVENTS.PAYMENT_LOADING_MODAL_OPENED,{payment_type:f.paymentType||"credits",amount:f.amount,currency:f.currency,workspace:c,tier:r})},[f.isLoading]);const b=e=>yv[e]||yv[vv],y=e=>e===bv?{minimum:1700,maximum:17e4}:{minimum:20,maximum:2e3},w=()=>m.length>0?m[0].currency:vv,j=w(),C=w().toUpperCase()===bv,[N,F]=De.useState(""),[_,k]=De.useState(!1),[S,E]=De.useState(""),I=e=>{const t=parseInt(e,10);return isNaN(t)?0:j===bv?Math.floor(t/17):t>=500?Math.floor(t/500*3e3):5*t};return e?n.jsxs(n.Fragment,{children:[Re.createPortal(n.jsx(Rt,{children:e&&n.jsxs("div",{className:"fixed inset-0 z-[999] flex items-center justify-center",children:[n.jsx(Pt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"absolute inset-0 bg-black/80 backdrop-blur-sm",onClick:()=>v(!1)}),n.jsx(Pt.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},transition:{duration:.2,ease:"easeOut"},className:"relative flex flex-col items-center md:pb-[40px] max-h-[90dvh] bg-[#18181A] rounded-2xl shadow-2xl overflow-hidden",onClick:e=>e.stopPropagation(),children:n.jsxs("div",{className:"w-full max-w-6xl mx-auto",children:[n.jsxs("div",{className:"flex items-start justify-start w-full p-4 pb-2 md:p-8 md:pb-2",children:[n.jsxs("div",{className:"flex flex-col items-start justify-center gap-1",children:[n.jsx("img",{src:OK,alt:"Add Credits",className:"w-[60px] h-[60px] mb-2"}),n.jsx("h2",{className:"text-[20px] md:text-[26px] font-medium text-[#E6E6E6]",children:"low-credit"===s?"Running low on credits ?":"free"===r?`Upgrade to ${o()}`:"Buy more credits"})]}),n.jsx("button",{type:"button",onClick:()=>v(!1),disabled:u||_,className:fb("p-2 bg-[#FFFFFF05] absolute top-6 right-6 backdrop-blur-lg hover:bg-[#242424] rounded-full transition-colors",(u||_)&&"opacity-50 cursor-not-allowed"),"aria-label":"Close modal",children:n.jsx(RS,{className:"w-5 h-5 text-[#737780]"})})]}),n.jsx("div",{className:"p-4 flex items-center justify-center md:p-8 md:pt-0",children:n.jsxs("div",{className:"w-full space-y-4 max-h-[calc(90dvh-200px)] overflow-y-auto",children:[n.jsx("div",{className:"max-md:hidden",children:n.jsxs("p",{className:"text-sm text-white/50 md:text-[16px]",children:[n.jsx("span",{className:"font-medium",children:"Get "}),n.jsx("span",{className:"text-[#F3CA5F] font-medium",children:"5 Credits"}),n.jsx("span",{className:"font-medium",children:" for just "}),n.jsx("span",{className:"text-[#29CC83]",children:kT(_T(5,(null==(i=m[0])?void 0:i.currency)||"USD"),((null==(a=m[0])?void 0:a.currency)||"USD")===bv)}),n.jsx("span",{className:"font-medium",children:"! Get our best value bundle with "}),n.jsx("span",{className:"text-[#F3CA5F] font-medium",children:"20% OFF"}),n.jsx("span",{className:"font-medium",children:" or enter a custom amount."})]})}),n.jsx("div",{className:"grid gap-4 md:grid-cols-5",children:m.map(e=>n.jsxs("div",{className:"bg-[#212124] min-w-[190px] items-center group md:min-h-[208px] pt-4 md:pt-8 pb-4 px-4 transition-all ease-in-out duration-100 border rounded-xl overflow-hidden relative "+(e.discount>0?"border-none":"border-[#FFFFFF1F] hover:border-[#FFFFFF4D]"),children:[e.discount>0&&n.jsx(CE,{duration:5,size:100,className:"opacity-50",colorFrom:"#F3CA5F",colorTo:"#F3CA5F"}),n.jsxs("div",{className:"flex items-center justify-between sm:gap-0 md:flex-col",children:[n.jsxs("div",{className:"flex items-center gap-2 md:mb-2 md:flex-col",children:[n.jsx("div",{children:n.jsx("img",{src:RK,alt:"Credits",className:"w-8 h-8 "+(e.discount>0?"":"grayscale group-hover:grayscale-0")})}),n.jsx("div",{className:"md:mb-1 text-sm md:text-[24px] font-semibold",children:e.discount>0?n.jsxs("div",{className:"flex flex-col items-center",children:[n.jsxs("span",{className:"text-[#E6E6E6]/40 line-through text-xs md:text-sm",children:[5*e.amount/6," credits"]}),n.jsxs("span",{className:" tracking-[-0.5px] text-[#F3CA5F] text-nowrap text-sm md:text-[24px]",children:[e.amount," credits"]})]}):n.jsxs("div",{className:"flex flex-col items-center",children:[n.jsx("span",{className:"text-xs text-transparent max-md:hidden md:text-sm",children:""}),n.jsxs("span",{className:"text-[#E6E6E6] leading-[-0.5px] text-sm md:text-[24px]",children:[e.amount," credits"]})]})})]}),n.jsx("div",{className:"md:mb-6 text-sm md:text-[20px] text-[#E6E6E6]/80 group-hover:text-[#29CC83] transition-colors duration-200 ease-in-out",children:kT(e.price,e.currency===bv)}),n.jsx("button",{type:"button",onClick:()=>{fg(GS.BUY_CREDITS_MODAL_EVENTS.BUNDLE_PURCHASE_CLICKED,{bundle_amount:e.amount,bundle_price:e.price,bundle_currency:e.currency,bundle_discount:e.discount,workspace:c,is_razorpay_flow:C,is_premium_bundle:e.discount>0});const t=c&&"personal"!==c?c:void 0;C?x(e,t):h(e,t,!1)},disabled:u,className:"w-fit md:w-full py-2 px-4 duration-200 ease-in-out text-black font-semibold rounded-full tracking-[-0.2px] transition-colors "+(e.discount>0?"bg-[#F3CA5F] hover:bg-[#E7A93C] shadow-md":"bg-[#cacacc] group-hover:bg-[#FFD566]"),children:u&&p===e.amount?n.jsxs("div",{className:"flex items-center justify-center",children:[n.jsx(hS,{className:"w-4 h-4 mr-2 animate-spin"}),n.jsx("span",{children:"Paying..."})]}):"Buy Now"})]})]},e.amount))}),n.jsxs("div",{className:"flex flex-col gap-2",children:[n.jsx("div",{className:"bg-[#212124] border border-[#FFFFFF1F] rounded-xl p-[14px] py-[10px] pr-[10px] px-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs("div",{className:"relative flex items-center flex-1 gap-1",children:[N&&parseInt(N)>=0&&n.jsx("span",{className:"text-[#E6E6E6] font-semibold text-lg",children:b(j)}),n.jsx("input",{type:"text",value:N,onChange:e=>{const t=e.target.value;if(""===t)return F(""),void E("");if(!/^\d+$/.test(t))return;const n=parseInt(t,10);if(isNaN(n))return;const s=y(j);if(!(n>99999))if(F(t),fg(GS.BUY_CREDITS_MODAL_EVENTS.CUSTOM_AMOUNT_INPUT_CHANGED,{amount:n,currency:j,calculated_credits:I(t),is_within_limits:n>=s.minimum&&n<=s.maximum}),n<s.minimum){const e=`Minimum amount is ${kT(s.minimum,j===bv)}`;E(e),fg(GS.BUY_CREDITS_MODAL_EVENTS.CUSTOM_AMOUNT_VALIDATION_ERROR,{error_type:"below_minimum",amount:n,minimum_required:s.minimum,currency:j,error_message:e})}else if(n>s.maximum){const e=`For amounts over ${kT(s.maximum,j===bv)}, use our premium bundle above for better value!`;E(e),fg(GS.BUY_CREDITS_MODAL_EVENTS.CUSTOM_AMOUNT_VALIDATION_ERROR,{error_type:"above_maximum",amount:n,maximum_allowed:s.maximum,currency:j,error_message:e})}else E("")},placeholder:` + Enter custom amount (${b(j)})`,className:"w-full text-lg pl-0 text-[#E6E6E6] font-['Inter'] text-[18px] font-semibold bg-transparent border-none outline-none placeholder:text-[#E6E6E6]/20 placeholder:p-0 placeholder:font-medium",inputMode:"numeric",pattern:"[0-9]*"})]}),n.jsx("button",{type:"button",onClick:async()=>{const e=parseInt(N,10),t=y(j);if(!(isNaN(e)||e<1||e>t.maximum)){fg(GS.BUY_CREDITS_MODAL_EVENTS.CUSTOM_AMOUNT_PURCHASE_CLICKED,{amount:e,currency:j,calculated_credits:I(N),workspace:c,is_razorpay_flow:C}),k(!0),E("");try{const t={amount:I(N),price:e,selected:!1,discount:0,currency:j},n=c&&"personal"!==c?c:void 0;C?await x(t,n):await h(t,n,!0),fg("buy_credits_clicked",{userId:null==d?void 0:d.id,credits:t.amount,price:t.price,discount:0,tier:r||"free",isCustomAmount:!0,bundleType:"custom",organizationId:n||"personal",triggerLocation:s,is_razorpay_flow:C})}catch(n){E("Failed to process payment. Please try again.")}finally{k(!1)}}},disabled:!N||parseInt(N,10)<y(j).minimum||parseInt(N,10)>y(j).maximum||_||!!S,className:"px-5 py-[6px] rounded-[8px] font-semibold transition-all duration-200 ease-out "+(N&&parseInt(N,10)>=y(j).minimum&&parseInt(N,10)<=y(j).maximum?"bg-[#F3CA5F] hover:bg-[#E7A93C] text-black":"bg-[#FFFFFF20] text-[#18181A] cursor-not-allowed"),children:_?n.jsxs("div",{className:"flex items-center justify-center",children:[n.jsx(hS,{className:"w-4 h-4 mr-2 animate-spin"}),n.jsx("span",{children:"Processing..."})]}):N&&parseInt(N,10)>=y(j).minimum&&parseInt(N,10)<=y(j).maximum&&!S?`Buy ${I(N)} Credits`:"Buy"})]})}),n.jsx(Rt,{mode:"wait",children:S&&n.jsxs(Pt.div,{initial:{opacity:0,x:20,height:0},animate:{opacity:1,x:0,height:"auto"},exit:{opacity:0,x:20,height:0},transition:{duration:.2,ease:"easeOut",height:{duration:.15}},className:"text-[14px] font-['Inter'] font-medium text-[#E57373] flex items-center gap-[6px] overflow-hidden",children:[n.jsx("img",{src:BK,alt:"Info",className:"flex-shrink-0 w-5 h-5"}),n.jsx("span",{children:S})]})})]}),n.jsx("div",{className:"pt-4",children:n.jsxs("button",{type:"button",className:"flex items-center text-sm text-white opacity-50 hover:text-white",onClick:()=>{fg(GS.BUY_CREDITS_MODAL_EVENTS.PRICING_INFO_LEARN_MORE_CLICKED,{tier:r,workspace:c,currency:w(),custom_amount_entered:!!N}),window.open("https://atlas-kb.com/atlas-e74243keac/articles/769724-credits-and-pricing","_blank")},children:[n.jsx("span",{className:"font-['Inter'] text-[16px] font-medium",children:"How do credits work?"}),n.jsx("img",{src:zK,alt:"External",className:"w-5 h-5 ml-1"})]})})]})})]})})]})}),document.body),f.isLoading&&n.jsx(TT,{isOpen:f.isLoading,onOpenChange:g,paymentType:f.paymentType||"credits",amount:f.amount,currency:f.currency})]}):null}const $K=gv.common.copperCoin;function UK({isOpen:e,onOpenChange:t,currentCost:s,jobId:i,onBudgetUpdate:a,maxBudget:r=20,variant:o="increase_budget"}){const[l,c]=De.useState(5),[d,u]=De.useState(!1),[p,m]=De.useState(o),{toast:h}=on(),x=()=>{c(e=>Math.min(e+1,500))},f=()=>{l>1&&c(e=>Math.max(e-1,1))},g=e=>{const t=e.target.value;if(""===t)return void c(0);if(!/^[0-9]*\.?[0-9]*$/.test(t))return;if(t.endsWith(".")&&!t.includes(".."))return;const n=parseFloat(t);!isNaN(n)&&n>=0&&n<=500?c(Math.round(100*n)/100):n>500&&c(500)},v=async()=>{if(l<=0)h({title:"Invalid Amount",description:"Budget increase must be greater than 0",variant:"destructive"});else if(l>500)h({title:"Invalid Amount",description:"Budget increase cannot exceed 500 credits",variant:"destructive"});else try{u(!0),await kp(i,l);const e=await _p(i);h({title:"Budget Updated",description:`Successfully increased budget to ${e.max_budget.toFixed(3)} Credits`}),a&&a(e.max_budget),t(!1)}catch(e){h({title:"Error",description:e instanceof Error?e.message:"Failed to update budget",variant:"destructive"})}finally{u(!1)}},{tier:b,credits:y}=Xg(),w=e=>{e||t(!1)};return n.jsxs(n.Fragment,{children:[n.jsx(_A,{open:e&&"increase_budget"===p,onOpenChange:t,children:n.jsx(AA,{className:"max-w-[95%] sm:max-w-[650px] bg-[#0E0E0F] text-white border border-[#242424] rounded-2xl",children:(e=>{var i;if("increase_budget"===e)return n.jsxs(n.Fragment,{children:[n.jsx(TA,{className:"border-b border-[#2E2F34] md:pb-6 p-4",children:n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{className:"flex flex-col items-start gap-2 md:gap-5",children:[n.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-full",children:n.jsx("img",{src:$K,alt:"Coin",className:"w-8 h-8"})}),n.jsxs("div",{className:"flex flex-col gap-1 md:gap-2",children:[n.jsx(MA,{className:"text-[#C4C4CC] font-brockmann text-[16px]  md:text-[22px] text-start font-medium md:leading-[28px] tracking-[-0.44px]",children:"Set Budget Limit"}),n.jsx("p",{className:"text-[#5C5F66] font-inter text-[14px] text-start  md:text-base font-medium md:leading-6",children:"Session Budget prevent excessive token usage during a session."})]})]})})}),n.jsxs("div",{className:"p-4 py-8 space-y-4 md:space-y-6 md:px-8 md:py-6",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-[#8A8B91] text-[13px]  md:text-base md:mb-3",children:"Budget Used"}),n.jsxs("div",{className:"text-[24px] md:text-[32px] font-semibold leading-[38px]",children:[n.jsx("span",{className:"text-[#F3CA5F]",children:null==s?void 0:s.toFixed(3)}),n.jsx("span",{className:"text-[#C4C4CC] mx-2",children:"/"}),n.jsx("span",{className:"text-[#C4C4CC]",children:null==r?void 0:r.toFixed(3)}),n.jsx("span",{className:"text-[#C4C4CC] ml-2 text-xl",children:"Credits"})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-[#8A8B91] text-[13px]  md:text-base mb-3",children:"Increase Budget"}),n.jsxs("div",{className:"flex items-center justify-between bg-[#0E0E0F] border border-[#242424] rounded-xl p-1 md:p-4",children:[n.jsx("button",{type:"button",onClick:f,className:"h-8 w-8 md:w-12 md:h-12 rounded-md md:rounded-xl bg-[#1E1F23] flex items-center justify-center text-2xl font-medium hover:bg-[#2A2B30] transition-colors",disabled:d,children:"-"}),n.jsx("div",{className:"flex items-center",children:n.jsxs("span",{className:" flex items-center md:text-[32px] font-semibold md:leading-[38px] mr-2",children:[n.jsx("img",{src:$K,alt:"Coin",className:"w-[18px] md:w-[28px] h-fit"}),n.jsx(qS,{type:"number",value:0===l?"":l.toString(),onChange:g,min:"0",max:"500",step:"0.01",className:"text-[24px] md:text-[32px] font-semibold md:leading-[38px] bg-transparent border-none text-center p-0 focus:ring-0 focus:outline-none [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none [-moz-appearance:textfield]",disabled:d,placeholder:"0.00"})]})}),n.jsx("button",{type:"button",onClick:x,className:" h-8 w-8 md:w-12 md:h-12 rounded-md md:rounded-xl bg-[#1E1F23] flex items-center justify-center text-2xl font-medium hover:bg-[#2A2B30] transition-colors",disabled:d,children:"+"})]})]}),y<l&&n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-[#F5CC62]/90 text-[13px]  md:text-base",children:"Not Enough Credits"}),n.jsx("button",{title:"Learn more about credits",className:"bg-[#f5cc621a] text-[#F5CC62] py-[10px] px-3  rounded-xl",onClick:()=>{m("add_credits")},children:" Buy Credits"})]}),y>l&&n.jsx("div",{className:"bg-[#f5cc621a] rounded-xl py-[10px] px-3",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-[#F5CC62] text-[13px]  md:text-base",children:"Your new budget limit"}),n.jsxs("div",{children:[n.jsx("span",{className:"text-white/80 text-[13px]  md:text-base",children:null==s?void 0:s.toFixed(3)}),n.jsx("span",{className:"text-base text-white/90",children:" / "}),n.jsx("span",{className:"text-[#F5CC62] text-[13px]  md:text-base",children:null==(i=r+l)?void 0:i.toFixed(3)}),n.jsx("span",{className:"text-white/80 ml-2 text-[13px]  md:text-base",children:"Credits"})]})]})})]}),n.jsx(DA,{className:"border-t border-[#2E2F34] p-4 md:mt-6 md:py-4",children:n.jsxs("div",{className:"flex justify-end gap-3 md:px-6",children:[n.jsx(wb,{variant:"outline",onClick:()=>t(!1),className:"text-[#C4C4CC] px-4   h-[40px] hover:bg-[#242424] md:px-6 md:h-11 text-[16px]  md:text-base  font-medium",disabled:d,children:"Cancel"}),n.jsx(wb,{onClick:v,disabled:d||l>y,className:"bg-white px-4 font-semibold   h-[40px] text-black hover:bg-[#E5E5E5] md:px-6 md:h-11 text-[16px]  md:text-base",children:d?"Updating...":"Confirm"})]})})]})})(p)})}),"free"!==b?n.jsx(HK,{isOpen:e&&"add_credits"===p,onOpenChange:w}):n.jsx(wD,{isOpen:e&&"add_credits"===p,onOpenChange:w})]})}const VK=({width:e=24,height:t=24,fill:s="#0E0E0F",className:i,style:a,maskId:r="mask0_upload_icon",...o})=>n.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:t,viewBox:"0 0 24 24",fill:"none",className:i,style:a,...o,children:[n.jsx("mask",{id:r,style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"24",height:"24",children:n.jsx("rect",{width:"24",height:"24",fill:"#D9D9D9"})}),n.jsx("g",{mask:`url(#${r})`,children:n.jsx("path",{d:"M4.55844 18.0473C3.95044 17.3273 3.46244 16.5353 3.09444 15.6713C2.72644 14.8073 2.49444 13.9033 2.39844 12.9593H4.36644C4.46244 13.6473 4.63844 14.3073 4.89444 14.9393C5.15044 15.5713 5.48644 16.1593 5.90244 16.7033L4.55844 18.0473ZM2.39844 11.0393C2.52644 10.0953 2.76644 9.19127 3.11844 8.32727C3.47044 7.46326 3.95044 6.67127 4.55844 5.95127L5.90244 7.29527C5.48644 7.83927 5.15044 8.42727 4.89444 9.05927C4.63844 9.69127 4.46244 10.3513 4.36644 11.0393H2.39844ZM10.9904 21.5513C10.0464 21.4553 9.14644 21.2273 8.29044 20.8673C7.43444 20.5073 6.63844 20.0313 5.90244 19.4393L7.24644 18.0473C7.80644 18.4633 8.39844 18.8073 9.02244 19.0793C9.64644 19.3513 10.3024 19.5353 10.9904 19.6313V21.5513ZM7.29444 5.95127L5.90244 4.55927C6.65444 3.96727 7.46244 3.49127 8.32644 3.13127C9.19044 2.77127 10.0944 2.54327 11.0384 2.44727V4.36727C10.3504 4.46327 9.69044 4.64727 9.05844 4.91927C8.42644 5.19127 7.83844 5.53527 7.29444 5.95127ZM12.9104 21.5513V19.6313C13.6144 19.5353 14.2824 19.3553 14.9144 19.0913C15.5464 18.8273 16.1424 18.4793 16.7024 18.0473L18.0944 19.4393C17.3424 20.0473 16.5304 20.5273 15.6584 20.8793C14.7864 21.2313 13.8704 21.4553 12.9104 21.5513ZM16.7504 5.95127C16.1904 5.53527 15.5904 5.19127 14.9504 4.91927C14.3104 4.64727 13.6464 4.46327 12.9584 4.36727V2.44727C13.9024 2.54327 14.8104 2.77127 15.6824 3.13127C16.5544 3.49127 17.3584 3.96727 18.0944 4.55927L16.7504 5.95127ZM19.4384 18.0473L18.0944 16.7033C18.5104 16.1593 18.8464 15.5713 19.1024 14.9393C19.3584 14.3073 19.5344 13.6473 19.6304 12.9593H21.5984C21.4704 13.9033 21.2304 14.8073 20.8784 15.6713C20.5264 16.5353 20.0464 17.3273 19.4384 18.0473ZM19.6304 11.0393C19.5344 10.3513 19.3584 9.69127 19.1024 9.05927C18.8464 8.42727 18.5104 7.83927 18.0944 7.29527L19.4384 5.95127C20.0464 6.67127 20.5344 7.46326 20.9024 8.32727C21.2704 9.19127 21.5024 10.0953 21.5984 11.0393H19.6304ZM11.0624 16.7993V10.8713L8.56644 13.3673L7.22244 11.9993L12.0224 7.19927L16.8224 11.9993L15.4544 13.3433L12.9824 10.8713V16.7993H11.0624Z",fill:s})})]}),WK=({isOpen:e,onClose:t,rrwebEvents:s,testCasesData:i,isLoadingTestCases:a=!1,onSubmitScript:r,jobId:o})=>{const l=De.useRef(null),[c,d]=De.useState(null),[u,p]=De.useState(!1),[m,h]=De.useState({message:"Ready to load rrweb recording",type:"success"}),[x,f]=De.useState(""),[g,v]=De.useState(!1),[b,y]=De.useState(""),[w,j]=De.useState(""),[C,N]=De.useState(!1),[F,_]=De.useState([]),[k,S]=De.useState(null),E=async e=>{if(o)try{const n=[],s=new Blob([e.playwright_script],{type:"text/javascript"}),i=new File([s],"generated-playwright-test.js",{type:"text/javascript"});n.push({file:i,description:"Generated Playwright test script from user interaction recording"});const a=new Blob([e.console_logs],{type:"text/plain"}),r=new File([a],"console-logs.txt",{type:"text/plain"});n.push({file:r,description:"Console logs captured during user interaction recording (last 50 entries, TIMESTAMP:MESSAGE format)"});const l=new Blob([e.network_logs],{type:"text/plain"}),c=new File([l],"network-logs.txt",{type:"text/plain"});n.push({file:c,description:"Network requests captured during user interaction recording (last 50 entries, excluding PostHog)"});const d=[];for(const e of n)try{const t={file_name:e.file.name,mime_type:e.file.type},n=await im(o,t);await am(n.upload_url,e.file),d.push({artifact_id:n.artifact_id,file_path:n.file_path,entity_id:o,entity_type:"job",visibility:"public",file_name:e.file.name,description:e.description})}catch(t){}if(d.length>0)try{await dm({artifacts:d});const e=d.map(e=>({artifact_id:e.artifact_id,file_name:e.file_name,description:e.description}));_(e)}catch(t){}}catch(t){}};De.useEffect(()=>{s&&s.length>0&&e?(async e=>{N(!0);try{if(!o)throw new Error("No job ID provided");const t=await hm(o,e);y(t.console_logs),j(t.network_logs),S({prefix:t.hitl_message_prefix,suffix:t.hit_message_suffix}),await E(t)}catch(t){y(`Error extracting console logs: ${t.message}`),j(`Error extracting network logs: ${t.message}`)}finally{N(!1)}})(s):e||(y(""),j(""),f(""),_([]),S(null),p(!1))},[s,e]),De.useEffect(()=>{if(!e)return;(async()=>{if(window.rrweb&&window.rrwebPlayer)return v(!0),void h({message:"Scripts loaded, ready to initialize player",type:"success"});try{if(h({message:"Loading rrweb player scripts...",type:"loading"}),window.rrweb||await new Promise((e,t)=>{const n=document.createElement("script");n.src="https://cdnjs.cloudflare.com/ajax/libs/rrweb/2.0.0-alpha.11/rrweb.min.js",n.onload=()=>{e(void 0)},n.onerror=e=>{t(e)},document.head.appendChild(n)}),!window.rrwebPlayer){const e=document.createElement("link");e.rel="stylesheet",e.href="https://cdn.jsdelivr.net/npm/rrweb-player@latest/dist/style.css",e.onload=()=>{},e.onerror=e=>{},document.head.appendChild(e),await new Promise((e,t)=>{const n=document.createElement("script");n.src="https://cdn.jsdelivr.net/npm/rrweb-player@latest/dist/index.js",n.onload=()=>{e(void 0)},n.onerror=e=>{t(e)},document.head.appendChild(n)})}v(!0),h({message:"Scripts loaded, ready to initialize player",type:"success"})}catch(e){h({message:"Error loading rrweb player: "+e.message,type:"error"})}})()},[e]),De.useEffect(()=>{if(!e&&c){try{"function"==typeof c.destroy?c.destroy():"function"==typeof c.$destroy&&c.$destroy()}catch(t){}d(null),p(!1),v(!1),h({message:"Ready to load rrweb recording",type:"success"}),l.current&&(l.current.innerHTML="")}},[e,c]),De.useEffect(()=>{if(!e||!s||0===s.length||!g||!l.current||c)return;const t=setTimeout(()=>{if(l.current&&!c)try{l.current&&(l.current.innerHTML="");const e=new window.rrwebPlayer({target:l.current,props:{events:s,width:800,height:600,autoPlay:!1,showController:!1,tags:{},loop:!0}});e&&e.addEventListener&&(e.addEventListener("start",()=>p(!0)),e.addEventListener("pause",()=>p(!1)),e.addEventListener("finish",()=>p(!1))),d(e),h({message:`Recording loaded successfully! ${s.length} events found.`,type:"success"})}catch(e){h({message:"Auto-initialization failed: "+e.message,type:"error"})}},200);return()=>clearTimeout(t)},[e,s,c,g]),De.useEffect(()=>{if(g&&e&&s&&s.length>0&&!c&&l.current){const e=setTimeout(()=>{try{l.current&&(l.current.innerHTML="");const e=new window.rrwebPlayer({target:l.current,props:{events:s,width:800,height:600,autoPlay:!1,loop:!0,showController:!1,tags:{}}});e&&e.addEventListener&&(e.addEventListener("start",()=>p(!0)),e.addEventListener("pause",()=>p(!1)),e.addEventListener("finish",()=>p(!1))),d(e),h({message:`Recording loaded successfully! ${s.length} events found.`,type:"success"})}catch(e){h({message:"Initialization failed: "+e.message,type:"error"})}},100);return()=>clearTimeout(e)}},[g,e,s,c]),De.useEffect(()=>()=>{if(c)try{"function"==typeof c.destroy?c.destroy():"function"==typeof c.$destroy&&c.$destroy()}catch(e){}},[c]);return n.jsx(_A,{open:e,onOpenChange:t,children:n.jsxs(AA,{className:"max-w-[1432px] w-[1432px] h-[736px] bg-[#18181a] border-[#242424] rounded-[20px] text-white flex flex-col p-0",children:[n.jsxs("div",{className:"flex items-center justify-between px-6 py-6 border-b border-[#242424] bg-[#18181a]",children:[n.jsxs("div",{className:"flex flex-col gap-1.5",children:[n.jsx("h2",{className:"text-[20px] leading-6 font-medium text-white tracking-[-0.2px]",children:"Review Test session"}),n.jsx("p",{className:"text-[14px] leading-5 font-medium text-[#737780]",children:"Review the generated summary and make any edits before we relay the session."})]}),n.jsx("button",{onClick:t,className:"backdrop-blur-[25px] bg-white/[0.02] w-10 h-10 flex items-center justify-center rounded-[10px] p-2 hover:bg-white/[0.04] transition-colors",children:n.jsx(RS,{className:"w-6 h-6 text-white"})})]}),n.jsxs("div",{className:"flex-1 flex gap-0 overflow-hidden",children:[n.jsxs("div",{className:"w-[716px] bg-[#09090a] border-r border-[#242424] overflow-hidden relative shrink-0 flex items-center justify-center",children:[n.jsx("div",{ref:l,className:"w-full h-full flex items-center justify-center"}),c&&n.jsxs("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 flex items-center gap-2 bg-black/70 backdrop-blur-sm rounded-lg px-4 py-2",children:[n.jsx("button",{onClick:()=>{u?c&&"function"==typeof c.pause&&(c.pause(),p(!1)):c&&"function"==typeof c.play&&(c.play(),p(!0))},className:"flex items-center justify-center w-10 h-10 rounded-full bg-white/20 hover:bg-white/30 transition-colors text-white",children:u?n.jsx(vS,{className:"w-5 h-5"}):n.jsx(yS,{className:"w-5 h-5 ml-0.5"})}),n.jsx("span",{className:"text-white text-sm",children:u?"Playing":"Paused"})]}),"loading"===m.type&&n.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center",children:n.jsxs("div",{className:"flex items-center gap-2 text-white",children:[n.jsx(hS,{className:"w-5 h-5 animate-spin"}),n.jsx("span",{children:m.message})]})})]}),n.jsx("div",{className:"w-[716px] flex flex-col overflow-hidden border-l border-[#242424] bg-[#18181a]",children:n.jsxs(L$,{defaultValue:"instructions",className:"h-full flex flex-col",children:[n.jsxs(P$,{className:"flex gap-8 items-center px-4 border-b border-[#242424] bg-transparent rounded-none h-auto py-0 w-full justify-start",children:[n.jsx(R$,{value:"instructions",className:"bg-transparent px-0 py-4 gap-2.5 border-b-[1px] border-transparent data-[state=active]:border-[#80fff9] data-[state=active]:text-[#80fff9] text-white/60 text-base leading-5 tracking-[-0.2px] font-medium rounded-none shadow-none",children:"Custom instructions"}),n.jsx(R$,{value:"script",className:"bg-transparent px-0 py-4 gap-2.5 border-b-[1px] border-transparent data-[state=active]:border-[#80fff9] data-[state=active]:text-[#80fff9] text-white/60 text-base leading-5 tracking-[-0.2px] font-medium rounded-none shadow-none",children:"Generated Test script"}),n.jsx(R$,{value:"console",className:"bg-transparent px-0 py-4 gap-2.5 border-b-[1px] border-transparent data-[state=active]:border-[#80fff9] data-[state=active]:text-[#80fff9] text-white/60 text-base leading-5 tracking-[-0.2px] font-medium rounded-none shadow-none",children:"Console logs"}),n.jsx(R$,{value:"network",className:"bg-transparent px-0 py-4 gap-2.5 border-b-[1px] border-transparent data-[state=active]:border-[#80fff9] data-[state=active]:text-[#80fff9] text-white/60 text-base leading-5 tracking-[-0.2px] font-medium rounded-none shadow-none",children:"Network logs"})]}),n.jsx(O$,{value:"instructions",className:"flex-1 flex flex-col mt-0 min-h-0 overflow-hidden data-[state=inactive]:!hidden px-4 pt-6",children:n.jsx("div",{className:"flex-1 bg-white/[0.02] border border-white/[0.12] rounded-[10px] p-6 overflow-hidden flex flex-col",children:n.jsx(jE,{placeholder:"Add custom instructions for the Agent to follow...",value:x,onChange:e=>f(e.target.value),className:"flex-1 bg-transparent border-none text-white placeholder:text-white/50 placeholder:text-[15px] placeholder:font-medium resize-none focus-visible:ring-0 p-0",rows:10})})}),n.jsx(O$,{value:"script",className:"flex-1 flex flex-col mt-0 min-h-0 overflow-hidden data-[state=inactive]:!hidden px-4 pt-6",children:n.jsx("div",{className:"flex-1 bg-white/[0.02] border border-white/[0.12] rounded-[10px] p-6 overflow-hidden flex flex-col",children:a?n.jsxs("div",{className:"flex items-center gap-2 justify-center h-full text-gray-400",children:[n.jsx(hS,{className:"w-5 h-5 animate-spin"}),n.jsx("span",{children:"Loading test script..."})]}):i?n.jsx("div",{className:"flex-1 overflow-auto",children:n.jsx("pre",{className:"text-sm text-green-400 font-mono whitespace-pre-wrap",children:"string"==typeof i?i:JSON.stringify(i,null,2)})}):n.jsx("div",{className:"flex-1 flex items-center justify-center text-gray-400",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-3xl mb-2",children:""}),n.jsx("div",{children:"No test script generated yet."})]})})})}),n.jsx(O$,{value:"console",className:"flex-1 flex flex-col mt-0 min-h-0 overflow-hidden data-[state=inactive]:!hidden px-4 pt-6",children:n.jsx("div",{className:"flex-1 bg-white/[0.02] border border-white/[0.12] rounded-[10px] p-6 overflow-hidden flex flex-col",children:C?n.jsxs("div",{className:"flex items-center gap-2 justify-center h-full text-gray-400",children:[n.jsx(hS,{className:"w-5 h-5 animate-spin"}),n.jsx("span",{children:"Extracting console logs..."})]}):n.jsx("div",{className:"flex-1 overflow-auto",children:n.jsx("pre",{className:"text-sm text-gray-300 font-mono whitespace-pre-wrap",children:b||"No console logs captured during recording session."})})})}),n.jsx(O$,{value:"network",className:"flex-1 flex flex-col mt-0 min-h-0 overflow-hidden data-[state=inactive]:!hidden px-4 pt-6",children:n.jsx("div",{className:"flex-1 bg-white/[0.02] border border-white/[0.12] rounded-[10px] p-6 overflow-hidden flex flex-col",children:C?n.jsxs("div",{className:"flex items-center gap-2 justify-center h-full text-gray-400",children:[n.jsx(hS,{className:"w-5 h-5 animate-spin"}),n.jsx("span",{children:"Extracting network logs..."})]}):n.jsx("div",{className:"flex-1 overflow-auto",children:n.jsx("pre",{className:"text-sm text-gray-300 font-mono whitespace-pre-wrap",children:w||"No network requests captured during recording session."})})})})]})})]}),n.jsxs("div",{className:"flex items-center justify-end gap-4 px-6 py-6 border-t border-[#242424] bg-[#18181a]",children:[n.jsx(wb,{onClick:t,variant:"outline",className:"bg-white/[0.06] border-none text-white/60 hover:bg-white/[0.08] hover:text-white h-12 px-5 rounded-[28px] text-base font-semibold tracking-[-0.2px]",children:"Cancel"}),n.jsx(wb,{onClick:()=>{if(!i||"string"!=typeof i||!r)return;if(!k)throw new Error("[MODAL_API] No message template available! API extraction may have failed or template was not set.");if(!k.prefix)throw new Error("[MODAL_API] Message template prefix is missing!");if(!k.suffix)throw new Error("[MODAL_API] Message template suffix is missing!");const e=x.trim(),t=e?` ${e} `:" ",n=`${k.prefix}${t}${k.suffix}`.replace(/\?testmode=1/g,"");r(n,F)},disabled:!i||"string"!=typeof i||!r,className:"bg-white text-[#0e0e0f] hover:bg-white/90 h-12 px-5 rounded-[28px] text-base font-semibold tracking-[-0.2px] flex items-center gap-2 leading-6",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("p",{children:"Share with Agent"}),n.jsx(VK,{style:{width:"24px",height:"24px"}})]})})]})]})})};var qK,GK,ZK={exports:{}};
/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/const YK=Te((qK||(qK=1,GK=ZK,function(){var e={}.hasOwnProperty;function t(){for(var e="",t=0;t<arguments.length;t++){var i=arguments[t];i&&(e=s(e,n(i)))}return e}function n(n){if("string"==typeof n||"number"==typeof n)return n;if("object"!=typeof n)return"";if(Array.isArray(n))return t.apply(null,n);if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]"))return n.toString();var i="";for(var a in n)e.call(n,a)&&n[a]&&(i=s(i,a));return i}function s(e,t){return t?e?e+" "+t:e+t:e}GK.exports?(t.default=t,GK.exports=t):window.classNames=t}()),ZK.exports));function KK({jobId:e,initialFetch:t=!0}={}){const{toast:n}=on(),{getCurrentOrganizationId:s}=Kg(),i=s(),{data:a,isLoading:r,error:o,refetch:l}=Ox({jobId:e,organization_id:i||void 0},{skip:!e||!t}),[c,{isLoading:d,error:u}]=zx(),p=r||d,m=o?"error"in o?o.error:"Failed to fetch budget information":u?"error"in u?u.error:"Failed to update budget":null,h=De.useCallback(async()=>{if(e)try{const e=await l();return e.data?e.data:void 0}catch(t){return}},[e,l]),x=De.useCallback(async(t,s=!0)=>{var a;if(e)try{const a=await c({jobId:e,amount:t,organization_id:i||void 0}).unwrap();return s&&n({title:"Budget Updated",description:`Successfully increased budget to ${a.max_budget.toFixed(3)} Credits`}),a}catch(r){const e=(null==r?void 0:r.error)||(null==(a=null==r?void 0:r.data)?void 0:a.error)||(null==r?void 0:r.message)||"Failed to update budget";return void(s&&n({title:"Error",description:e,variant:"destructive"}))}},[e,c,n,i]);return De.useEffect(()=>{e&&t&&l()},[i,e,t,l]),{budgetInfo:a||null,isLoading:p,error:m,fetchBudgetInfo:h,updateBudget:x}}function JK({show:e,onClose:t,selectedPrivacy:s,onPrivacyChange:i,position:a}){const r=De.useRef(null),{tier:o}=Xg(),l=BE();return De.useEffect(()=>{const n=n=>{if(!r.current)return;const s=n.target;e&&!r.current.contains(s)&&t()},s=()=>{e&&t()};return e&&(document.addEventListener("mousedown",n),window.addEventListener("scroll",s,!0),window.addEventListener("resize",s)),()=>{document.removeEventListener("mousedown",n),window.removeEventListener("scroll",s,!0),window.removeEventListener("resize",s)}},[e,t]),e?Re.createPortal(n.jsxs("div",{ref:r,className:"fixed z-[9999] bg-[#18181A] border border-[#242424] rounded-[12px] shadow-lg overflow-hidden",style:{top:`${a.top}px`,left:`${a.left}px`},children:[n.jsxs("div",{className:"flex items-center px-4 py-3 hover:bg-[#242424] cursor-pointer transition-colors",onClick:()=>{yg("privacy_selection_changed",{selectedPrivacy:"public",previousPrivacy:s,source:"chat_info_panel_dropdown",userTier:o}),i("public"),t()},children:[n.jsx("div",{className:"min-w-[20px] min-h-[20px] max-w-[20px] max-h-[20px] rounded-full border border-white flex items-center justify-center mr-4",children:"public"===s&&n.jsx("div",{className:"w-[10px] h-[10px] rounded-full bg-[#D9D9D9]"})}),n.jsxs("div",{className:"flex flex-col gap-[2px]",children:[n.jsxs("div",{className:fb("flex items-center gap-1 text-sm font-medium text-white/60","public"===s&&"text-white"),children:["Public ",n.jsx(YI,{size:14,className:fb("public"!==s&&"opacity-60")})]}),n.jsx("div",{className:fb("text-xs text-white/50","public"===s&&"text-white"),children:"Anyone can view and explore"})]})]}),n.jsxs("div",{className:"flex items-center px-4 py-3 hover:bg-[#242424] cursor-pointer transition-colors",onClick:()=>{yg("privacy_selection_changed",{selectedPrivacy:"private",previousPrivacy:s,source:"chat_info_panel_dropdown",userTier:o,wasBlocked:"free"===o}),"free"===o?l.open({triggerLocation:"default"}):i("private"),t()},children:[n.jsx("div",{className:"min-w-[20px] min-h-[20px] max-w-[20px] max-h-[20px] rounded-full border border-white flex items-center justify-center mr-4",children:"private"===s&&n.jsx("div",{className:"w-[10px] h-[10px] rounded-full bg-[#D9D9D9]"})}),n.jsx("div",{className:"flex items-center",children:n.jsxs("div",{className:"flex flex-col gap-[2px]",children:[n.jsxs("div",{className:fb("flex items-center gap-1 text-sm font-medium text-white/60","private"===s&&"text-white"),children:["Private ",n.jsx(rA,{size:14,opacity:"private"===s?1:.3})]}),n.jsx("div",{className:fb("text-xs text-white/50","private"===s&&"text-white"),children:"Only visible to yourself, unless shared"})]})})]})]}),document.body):null}function QK({show:e,onClose:t,selectedPrivacy:s,onPrivacyChange:i}){const{tier:a}=Xg(),r=BE();return e?Re.createPortal(n.jsxs(VI,{open:e,onOpenChange:t,title:"Privacy Settings",showDefaultFooter:!1,maxWidth:"max-w-sm",contentPadding:"p-0",showCancel:!0,onCancel:t,trigger:n.jsx(n.Fragment,{}),children:[n.jsx("div",{className:"h-[1px] w-full bg-[#242424]"}),n.jsxs("div",{className:"p-4",children:[n.jsxs("div",{className:"flex items-center py-4 transition-colors cursor-pointer",onClick:()=>{yg("privacy_selection_changed",{selectedPrivacy:"public",previousPrivacy:s,source:"chat_info_panel_mobile_sheet",userTier:a}),i("public"),t()},children:[n.jsx("div",{className:"min-w-[20px] min-h-[20px] max-w-[20px] max-h-[20px] rounded-full border border-white flex items-center justify-center mr-4",children:"public"===s&&n.jsx("div",{className:"w-[10px] h-[10px] rounded-full bg-[#D9D9D9]"})}),n.jsxs("div",{className:"flex flex-col gap-[2px]",children:[n.jsxs("div",{className:fb("flex items-center gap-1 text-sm font-medium text-white/60","public"===s&&"text-white"),children:["Public ",n.jsx(YI,{size:14,className:fb("public"!==s&&"opacity-60")})]}),n.jsx("div",{className:fb("text-xs text-white/50","public"===s&&"text-white"),children:"Anyone can view and explore"})]})]}),n.jsxs("div",{className:"flex items-center py-4 transition-colors cursor-pointer",onClick:()=>{yg("privacy_selection_changed",{selectedPrivacy:"private",previousPrivacy:s,source:"chat_info_panel_mobile_sheet",userTier:a,wasBlocked:"free"===a}),"free"===a?r.open({triggerLocation:"default"}):i("private"),t()},children:[n.jsx("div",{className:"min-w-[20px] min-h-[20px] max-w-[20px] max-h-[20px] rounded-full border border-white flex items-center justify-center mr-4",children:"private"===s&&n.jsx("div",{className:"w-[10px] h-[10px] rounded-full bg-[#D9D9D9]"})}),n.jsx("div",{className:"flex items-center",children:n.jsxs("div",{className:"flex flex-col gap-[2px]",children:[n.jsxs("div",{className:fb("flex items-center gap-1 text-sm font-medium text-white/60","private"===s&&"text-white"),children:["Private ",n.jsx(rA,{size:14,opacity:"private"===s?1:.3})]}),n.jsx("div",{className:fb("text-xs text-white/50","private"===s&&"text-white"),children:"Only visible to yourself, unless shared"})]})})]})]})]}),document.body):null}const XK=({title:e,value:t,copyable:s=!1,maxChars:i,onClick:a,className:r,icon:o})=>{const l=i&&t&&t.length>i?`${t.slice(0,i)}...`:t;return n.jsxs("div",{className:"space-y-2",children:[n.jsx("div",{className:"text-[#7B7B80] font-medium font-['Inter'] text-sm",children:e}),n.jsxs("div",{className:fb("flex items-center justify-between gap-2",r),onClick:a,children:[n.jsx("div",{className:"text-[#C4C4CC] font-['Inter'] text-base group-hover:text-[#2EBBE5] transition-colors duration-200",children:l||""}),s&&t&&n.jsx(aH,{tooltipEnabled:!0,showTooltipOnHover:!0,tooltipText:"Copy",copiedTooltipText:"Copied",showIcon:!0,iconOnly:!0,className:"border-none bg-none",buttonClassName:yb({variant:"outline",size:"sm",className:"whitespace-nowrap rounded-lg  transition-all ease-in-out duration-200 border-white/20 border hover:bg-white/20 hover:text-white text-white/40"}),value:()=>t,iconProps:{size:16},onCopy:async()=>{await navigator.clipboard.writeText(t)}}),o&&!s&&n.jsx("div",{className:"flex items-center justify-center min-w-[40px] min-h-[36px] cursor-pointer rounded-md hover:bg-white/10 transition-colors duration-200",onClick:a,children:n.jsx("img",{src:o,alt:"icon",className:"w-4 h-4"})})]})]})},eJ=({title:e})=>n.jsx(n.Fragment,{children:n.jsxs("div",{className:"flex items-center w-full gap-2",children:[n.jsx("div",{className:"h-[1px] flex-1 bg-[#FFFFFF12]"}),n.jsx("span",{className:"text-[#FFFFFF4D] text-[14px] font-berkeley uppercase tracking-[1px]",children:e}),n.jsx("div",{className:"h-[1px] max-w-[30px] flex-1 bg-[#FFFFFF12]"})]})}),tJ=gv.upload.moreIcon,nJ=gv.upload.delete,sJ=gv.files.pdf,iJ=gv.files.csv,aJ=gv.files.doc,rJ=gv.files.ppt,oJ=gv.files.txt,lJ=gv.files.video,cJ=gv.files.zip,dJ=gv.files.other,uJ=gv.files.svg,pJ=gv.upload.downloadWhite,mJ=gv.upload.deleteActive,hJ=(e,t)=>{const n=(null==t?void 0:t.toLowerCase())||"";return n.endsWith(".pdf")||"application/pdf"===e?sJ:n.endsWith(".csv")||"text/csv"===e?iJ:n.endsWith(".zip")||n.endsWith(".tar")||n.endsWith(".rar")||n.endsWith(".7z")||(null==e?void 0:e.includes("zip"))||(null==e?void 0:e.includes("tar"))||(null==e?void 0:e.includes("rar"))||(null==e?void 0:e.includes("7z"))?cJ:n.endsWith(".doc")||n.endsWith(".docx")||"application/msword"===e||"application/vnd.openxmlformats-officedocument.wordprocessingml.document"===e?aJ:n.endsWith(".ppt")||n.endsWith(".pptx")||"application/vnd.ms-powerpoint"===e||"application/vnd.openxmlformats-officedocument.presentationml.presentation"===e?rJ:n.endsWith(".txt")||n.endsWith(".md")||n.endsWith(".log")||"text/plain"===e||"text/markdown"===e?oJ:n.endsWith(".mp4")||n.endsWith(".avi")||n.endsWith(".mov")||n.endsWith(".wmv")||n.endsWith(".mkv")||(null==e?void 0:e.startsWith("video/"))?lJ:n.endsWith(".svg")||"image/svg+xml"===e?uJ:n.endsWith(".xls")||n.endsWith(".xlsx")||"application/vnd.ms-excel"===e||"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"===e?iJ:dJ},xJ=(e,t=15)=>{const n=e.lastIndexOf(".");if(-1===n)return e.length>t?e.substring(0,t)+"...":e;const s=e.substring(0,n),i=e.substring(n);return s.length<=t?e:s.substring(0,t)+"..."+i};function fJ({title:e,size:t,id:s,type:i,url:a,visibility:r="public",onRemove:o,onDownload:l}){const[c,d]=De.useState(!1),[u,p]=De.useState(!1),[m,h]=De.useState({top:0,right:0}),x=De.useRef(null),f=De.useRef(null),g=hJ(i,e)===cJ;De.useEffect(()=>{const e=e=>{x.current&&!x.current.contains(e.target)&&d(!1)};return c&&document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[c]);const v=hJ(i,e),b=(w=e,(y=i).startsWith("image/")?pS:y.startsWith("video/")?PS:y.startsWith("text/")||w.endsWith(".txt")?cS:y.includes("zip")||y.includes("tar")||y.includes("rar")?Lk:w.endsWith(".pdf")||w.endsWith(".csv")||w.endsWith(".xlsx")?cS:dS);var y,w;const j=(e=>e.startsWith("image"))(i)&&a,C="private"===r&&!a;return n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex items-center justify-between gap-4 group rounded-[12px] p-2 "+(C?"opacity-60":"hover:bg-[#FFFFFF0A] cursor-pointer"),onClick:e=>{x.current&&x.current.contains(e.target)||("private"!==r||a)&&(j?p(!0):null==l||l(s))},children:[n.jsxs("div",{className:"min-w-[40px] min-h-[40px] max-h-[40px] max-w-[40px] backdrop-blur-sm rounded-[8px] flex items-center justify-center overflow-hidden "+(j?"hover:bg-[#FFFFFF15] transition-colors":""),children:[j&&!C?n.jsx("img",{src:a,alt:e,className:"w-full h-full object-cover rounded-[6px]",onError:e=>{var t;const n=e.target;n.style.display="none",null==(t=n.nextElementSibling)||t.classList.remove("hidden")}}):null,v?n.jsx("img",{src:v,alt:"File",className:`w-10 h-10 ${j?"hidden":""} ${g&&"p-1"}`}):n.jsx(b,{className:"w-5 h-5 text-[#FFFFFF60] "+(j?"hidden":"")})]}),n.jsxs("div",{className:"flex flex-col flex-1",children:[n.jsx("span",{className:"text-[#FFFFFF] font-['Inter'] font-medium max-w-[60%] text-[16px] opacity-60 transition-all duration-100 ease-in-out",children:xJ(e)}),n.jsx("div",{className:"flex flex-col",children:n.jsx("span",{className:"text-[#FFFFFF40] font-['Inter'] font-medium text-[12px] ",children:t})})]}),n.jsx("div",{className:"relative",children:n.jsx("div",{ref:f,className:"hover:bg-[#FFFFFF0F] backdrop-blur-lg rounded-[8px] cursor-pointer p-1 transition-opacity duration-200 "+(c?"opacity-100":"opacity-0 group-hover:opacity-60 hover:!opacity-100"),onClick:e=>{if(e.stopPropagation(),!c&&f.current){const e=f.current.getBoundingClientRect();h({top:e.bottom+4,right:window.innerWidth-e.right})}d(!c)},children:n.jsx("img",{src:tJ,alt:"More",className:"w-6 h-6"})})})]}),c&&Re.createPortal(n.jsxs("div",{ref:x,className:"fixed z-[9999] p-[6px] bg-[#18181A] backdrop-blur-sm rounded-[12px] border border-[#242424] shadow-lg min-w-[140px]",style:{top:m.top,right:m.right},children:[n.jsxs("button",{type:"button",onClick:e=>{e.stopPropagation(),null==o||o(s),d(!1)},className:"flex items-center gap-2 rounded-[8px] w-full p-2 text-left text-[#808080] hover:text-[#CCCCCC] hover:bg-[#ED5B5B0F] transition-colors duration-150 group/remove",children:[n.jsx("img",{src:nJ,alt:"Remove",className:"w-5 h-5 group-hover/remove:hidden"}),n.jsx("img",{src:mJ,alt:"Remove",className:"hidden w-5 h-5 group-hover/remove:block"}),n.jsx("span",{className:" font-medium text-[14px] group-hover/remove:text-[#ED5B5B]",children:"Remove"})]}),n.jsxs("button",{type:"button",onClick:e=>{e.stopPropagation(),("private"!==r||a)&&(null==l||l(s),d(!1))},className:"flex items-center gap-2 w-full p-2 rounded-[8px] py-2 text-left text-[#808080] hover:text-[#CCCCCC] hover:bg-[#FFFFFF0A] transition-colors duration-150 group/download",children:[n.jsx("img",{src:pJ,alt:"Download",className:"w-5 h-5 group-hover/download:hidden opacity-40"}),n.jsx("img",{src:pJ,alt:"Download",className:"hidden w-5 h-5 group-hover/download:block"}),n.jsx("span",{className:" font-medium text-[14px]",children:"Download"})]})]}),document.body),j&&n.jsx(b$,{imageUrl:a,imageName:e,isOpen:u,onClose:()=>p(!1)})]})}const gJ=gv.upload.arrowNext,vJ=gv.upload.noAssets,bJ=gv.upload.uploadNormal,yJ=e=>{const t="string"==typeof e?parseInt(e):e;if(isNaN(t))return"Unknown size";const n=["B","KB","MB","GB"];let s=0,i=t;for(;i>=1024&&s<n.length-1;)i/=1024,s++;return`${i.toFixed(1)} ${n[s]}`},wJ=({view:e,jobId:t,loading:s,artifacts:i,onUploadClick:a,onDelete:r,onDownload:o,onViewAllClick:l})=>"assets"===e?n.jsx("div",{className:"flex-1 p-6 pt-4 overflow-x-hidden overflow-y-auto",children:t?s?n.jsx("div",{className:"flex items-center justify-center h-full",children:n.jsxs("div",{className:"text-center text-[#666]",children:[n.jsx("div",{className:"animate-spin w-8 h-8 border-2 border-[#5FD3F3] border-t-transparent rounded-full mx-auto mb-4"}),n.jsx("p",{children:"Loading assets..."})]})}):0===i.length?n.jsx("div",{className:"flex items-center justify-center h-full",children:n.jsxs("div",{className:"text-center text-[#666]",children:[n.jsx(dS,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),n.jsx("p",{children:"No assets uploaded"}),n.jsx("p",{className:"mt-1 text-sm",children:"Upload files using the upload button in the chat input"})]})}):n.jsx("div",{className:"flex flex-col gap-2",children:i.map(e=>n.jsx(fJ,{title:e.name,size:yJ(e.file_size||0),type:e.mime_type||"",url:e.public_url||"",visibility:e.visibility,id:e.id,onRemove:t=>r(t,e.name),onDownload:()=>o(e)},e.id))}):n.jsx("div",{className:"flex items-center justify-center h-full",children:n.jsxs("div",{className:"text-center text-[#666]",children:[n.jsx(dS,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),n.jsx("p",{children:"No job selected"}),n.jsx("p",{className:"mt-1 text-sm",children:"Assets will appear here when you have an active job"})]})})}):n.jsx("div",{className:"",children:s?n.jsx("div",{className:"flex items-center justify-center py-8",children:n.jsxs("div",{className:"text-center text-[#666]",children:[n.jsx("div",{className:"animate-spin w-6 h-6 border-2 border-[#5FD3F3] border-t-transparent rounded-full mx-auto mb-2"}),n.jsx("p",{className:"text-sm",children:"Loading assets..."})]})}):0===i.length?n.jsxs("div",{className:"flex flex-col items-center justify-center py-8",children:[n.jsxs("div",{className:"text-center text-[#666] max-w-[450px]",children:[n.jsx("img",{src:vJ,alt:"No Assets",className:"h-12 mx-auto mb-4"}),n.jsx("p",{className:"text-[14px] font-['Inter'] font-medium text-[#FFFFFF20]",children:"Upload assets or sync files to be used as sources"})]}),n.jsx("button",{type:"button",onClick:a,className:"w-full max-w-[180px] mt-5 radial-green text-[#80FFF9] flex justify-center items-center gap-2 p-3 py-2 rounded-[10px] ",children:"Upload Assets"})]}):n.jsxs(n.Fragment,{children:[i.slice(0,3).map(e=>n.jsx(fJ,{title:e.name,size:yJ(e.file_size||0),type:e.mime_type||"",url:e.public_url||"",visibility:e.visibility,id:e.id,onRemove:t=>r(t,e.name),onDownload:()=>o(e)},e.id)),n.jsxs("div",{className:"flex items-center gap-4 mt-4",children:[n.jsxs("button",{type:"button",onClick:a,className:"w-full radial-green text-[#80FFF9] flex justify-center items-center gap-2 p-3 py-2 rounded-[10px] ",children:[n.jsx("img",{src:bJ,alt:"Add",className:"w-5 h-5"}),"Upload Files"]}),i.length>3&&n.jsxs("button",{type:"button",onClick:l,className:"w-full radial-black-upload p-3 py-2  hover:opacity-80 text-[#FFFFFF66] flex justify-center items-center gap-2 rounded-[10px] ",children:["View all (",i.length,")",n.jsx("img",{src:gJ,alt:"Arrow",className:"w-5 h-5"})]})]})]})}),jJ=({size:e,width:t=20,height:s=20,color:i="#F3CA5F",fill:a,className:r="",style:o,onClick:l,...c})=>{const d=e||t,u=e||s,p=a||i;return n.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:d,height:u,viewBox:"0 0 20 20",fill:"none",className:r,style:o,onClick:l,...c,children:[n.jsxs("g",{style:{mixBlendMode:"luminosity"},clipPath:"url(#clip0_12024_101153)",children:[n.jsx("circle",{opacity:"0.1",cx:"10",cy:"10",r:"10",fill:p}),n.jsx("path",{d:"M10 2C14.4183 2 18 5.58172 18 10C18 14.4183 14.4183 18 10 18C5.58172 18 2 14.4183 2 10C2 5.58172 5.58172 2 10 2ZM10.4082 6.58984C10.1446 5.93661 9.92302 5.71814 9.60645 6.49805C8.91401 8.15984 8.0872 8.95183 6.45996 9.6377C6.29657 9.71319 6.00191 9.84453 6 10C6.00211 10.1554 6.29471 10.2868 6.45996 10.3623C8.08527 11.0462 8.91405 11.8399 9.60645 13.502C9.9268 14.2958 10.1491 14.0465 10.4082 13.4102C11.1026 11.8036 11.8788 11.0584 13.5166 10.3623C13.6883 10.2804 13.9713 10.1709 14 10.0078V9.98926C13.9709 9.8277 13.6901 9.71755 13.5166 9.63574V9.6377C11.8789 8.9416 11.1026 8.19694 10.4082 6.58984Z",fill:p}),n.jsx("path",{d:"M10 2C14.4183 2 18 5.58172 18 10C18 14.4183 14.4183 18 10 18C5.58172 18 2 14.4183 2 10C2 5.58172 5.58172 2 10 2ZM10.4082 6.58984C10.1446 5.93661 9.92302 5.71814 9.60645 6.49805C8.91401 8.15984 8.0872 8.95183 6.45996 9.6377C6.29657 9.71319 6.00191 9.84453 6 10C6.00211 10.1554 6.29471 10.2868 6.45996 10.3623C8.08527 11.0462 8.91405 11.8399 9.60645 13.502C9.9268 14.2958 10.1491 14.0465 10.4082 13.4102C11.1026 11.8036 11.8788 11.0584 13.5166 10.3623C13.6883 10.2804 13.9713 10.1709 14 10.0078V9.98926C13.9709 9.8277 13.6901 9.71755 13.5166 9.63574V9.6377C11.8789 8.9416 11.1026 8.19694 10.4082 6.58984Z",fill:"url(#paint0_linear_12024_101153)",style:{mixBlendMode:"overlay"}})]}),n.jsxs("defs",{children:[n.jsxs("linearGradient",{id:"paint0_linear_12024_101153",x1:"10",y1:"2",x2:"10",y2:"18",gradientUnits:"userSpaceOnUse",children:[n.jsx("stop",{stopColor:"white"}),n.jsx("stop",{offset:"1"})]}),n.jsx("clipPath",{id:"clip0_12024_101153",children:n.jsx("rect",{width:"20",height:"20",fill:"white"})})]})]})},CJ=({size:e,width:t=20,height:s=20,color:i="#F3CA5F",fill:a,className:r="",style:o,onClick:l,...c})=>{const d=e||t,u=e||s;return n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:d,height:u,viewBox:"0 0 20 20",fill:"none",className:r,style:o,onClick:l,...c,children:n.jsx("path",{d:"M8.61905 10.4762C6.31429 10.4762 4.14286 9.90476 2.90476 9V6.32381C4.30476 7.11429 6.34286 7.61905 8.61905 7.61905C10.8952 7.61905 12.9333 7.11429 14.3333 6.32381V8.64762C14.6476 8.6 14.9619 8.57143 15.2857 8.57143C15.6095 8.57143 15.9238 8.6 16.2381 8.64762V3.80952C16.2381 1.70476 12.8286 0 8.61905 0C4.40952 0 1 1.70476 1 3.80952V13.3333C1 15.4381 4.41905 17.1429 8.61905 17.1429H8.89524C8.7165 16.5236 8.62357 15.8827 8.61905 15.2381C4.93333 15.2381 2.90476 13.8095 2.90476 13.3333V11.2095C4.4381 11.9524 6.44762 12.381 8.61905 12.381C8.84762 12.381 9.06667 12.381 9.28572 12.3524C9.66667 11.5619 10.1905 10.8667 10.8286 10.2952C10.1238 10.4095 9.38095 10.4762 8.61905 10.4762ZM8.61905 1.90476C12.3048 1.90476 14.3333 3.33333 14.3333 3.80952C14.3333 4.28571 12.3048 5.71429 8.61905 5.71429C4.93333 5.71429 2.90476 4.28571 2.90476 3.80952C2.90476 3.33333 4.93333 1.90476 8.61905 1.90476ZM18.8095 15.8095V14.8571L19.8571 14.0952C19.9524 14 20.0476 13.9048 19.9524 13.8095L19 12.1905C19 12.0952 18.8095 12.0952 18.7143 12.0952L17.5714 12.5714C17.2857 12.381 17 12.1905 16.7143 12.0952L16.5238 10.8571C16.5238 10.7619 16.4286 10.6667 16.3333 10.6667H14.4286C14.2381 10.6667 14.1429 10.7619 14.1429 10.8571L13.9524 12.0952C13.6667 12.2857 13.4762 12.381 13.1905 12.5714L12.0476 12.0952C11.9524 12.0952 11.8571 12.0952 11.7619 12.1905L10.8095 13.8095C10.8095 13.9048 10.8095 14 10.9048 14.0952L11.9524 14.8571V15.8095L10.9048 16.5714C10.8095 16.6667 10.7143 16.7619 10.8095 16.8571L11.7619 18.4762C11.8571 18.5714 11.9524 18.5714 12.0476 18.5714L13.1905 18.0952C13.381 18.2857 13.6667 18.4762 13.9524 18.5714L14.1429 19.8095C14.2381 19.9048 14.3333 20 14.4286 20H16.3333C16.4286 20 16.5238 19.9048 16.5238 19.8095L16.7143 18.5714C17 18.381 17.1905 18.2857 17.4762 18.0952L18.619 18.4762C18.7143 18.4762 18.8095 18.4762 18.9048 18.381L19.8571 16.7619C19.9524 16.6667 19.9524 16.5714 19.8571 16.5714L18.8095 15.8095ZM15.2857 16.6667C14.5238 16.6667 13.8571 16 13.8571 15.2381C13.8571 14.4762 14.5238 13.8095 15.2857 13.8095C16.0476 13.8095 16.7143 14.4762 16.7143 15.2381C16.7143 16 16.0476 16.6667 15.2857 16.6667Z",fill:"#B1B1B3"})})},NJ=({currentUsage:e,machineType:t})=>n.jsxs("div",{className:"flex flex-col justify-between w-full md:flex-row",children:[n.jsxs("div",{className:"w-full md:w-1/2 flex flex-col justify-between items-start bg-white/5 p-5 rounded-[12px]",children:[n.jsxs("div",{className:"flex items-center justify-between w-full",children:[n.jsx("p",{className:"text-[#B1B1B3] font-medium font-['Inter']",children:"Credits Spent"}),n.jsx(jJ,{width:24,height:24})]}),n.jsx("p",{className:"mt-10 md:mt-12 text-[#F2C75B] text-[24px] font-semibold font-['Inter'] leading-[24px]",children:null==e?void 0:e.toFixed(4)})]}),n.jsxs("div",{className:"mt-4 md:mt-0 w-full md:w-1/2 md:ml-4 flex flex-col justify-between items-start bg-white/5 p-5 rounded-[12px]",children:[n.jsxs("div",{className:"flex items-center justify-between w-full",children:[n.jsx("p",{className:"text-[#B1B1B3] font-medium font-['Inter']",children:"Machine type"}),n.jsx(CJ,{width:24,height:24})]}),n.jsx("p",{className:"mt-10 md:mt-12 text-[#FFF] text-[24px] font-semibold font-['Inter'] leading-[24px]",children:t&&t.charAt(0).toUpperCase()+t.slice(1)||"Regular"})]})]}),FJ=gv.common.link,_J=gv.common.copyable,kJ=gv.common.greenBranch,SJ=gv.menuIcons.github,EJ=gv.icons.branch2,IJ=gv.upload.arrowNext,AJ=gv.upload.uploadNormal;function TJ({isOpen:e,onClose:t,chatInfo:s,onOpenUploadAssetsModal:i}){const{isMobile:a}=QE(),r=Le(),o=eI(),{deployStatus:l,deployUrl:c,customDomainUrl:d,customDomain:u}=cU({jobId:s.jobId,tabId:"",silent:!0}),[p,m]=De.useState("info"),[h,x]=De.useState([]),[f,g]=De.useState(!1),{toast:v}=on(),b=De.useRef(null),{budgetInfo:y}=KK({jobId:s.jobId}),{tier:w}=Xg(),j=Ig(),[C,N]=De.useState(!1),[F,_]=De.useState({top:0,left:0}),[k,S]=De.useState("free"===w?"public":"private"),[E,I]=De.useState(!1),A=De.useRef(null),{data:T}=Lf(s.user_prompt_id||"",{skip:!s.user_prompt_id}),D=De.useCallback(async()=>{if(s.jobId){g(!0);try{const e=await rm(s.jobId);x(e.reverse())}catch(e){v({title:"Error",description:"Failed to load artifacts",variant:"destructive"})}finally{g(!1)}}},[s.jobId,v]);De.useEffect(()=>{e&&s.jobId&&D()},[e,s.jobId,D]);const M=De.useCallback(async(e,t)=>{try{await om(e),x(t=>t.filter(t=>t.id!==e)),v({title:"Deleted",description:`${t} has been deleted`})}catch(n){v({title:"Error",description:`Failed to delete ${t}`,variant:"destructive"})}},[v]),L=De.useCallback(async e=>{try{const t=await lm(e.id);await f$(t.download_url,e.name||"download")}catch(t){v({title:"Download failed",description:"Failed to get download link for this artifact",variant:"destructive"})}},[v]),P=De.useCallback(e=>{const t=e.target.files;if(t&&t.length>0){const e=Array.from(t);i(e)}b.current&&(b.current.value="")},[i]),R=De.useCallback(()=>{b.current&&b.current.click()},[]),O=()=>{var e,t,i,a,r,x,g;return n.jsxs(n.Fragment,{children:["info"==p&&n.jsx("div",{className:fb("flex-1 md:p-6 space-y-4 md:space-y-8 h-full overflow-x-hidden overflow-y-auto  max-md:pt-4"),children:n.jsxs("div",{className:"p-4 pt-0 space-y-6",children:[n.jsx(NJ,{currentUsage:null==y?void 0:y.current_usage,machineType:null==s?void 0:s.machineType}),n.jsxs("div",{className:"space-y-4",children:[n.jsx(XK,{title:"Model",value:s.modelName}),(o||s.user_prompt_id)&&n.jsx(XK,{title:"Agent",value:s.user_prompt_id?(null==(e=null==T?void 0:T.prompt_name)?void 0:e.replaceAll("_"," "))||s.promptName||s.user_prompt_id:s.promptName})]}),n.jsx("div",{className:"space-y-4",children:n.jsx(XK,{title:"Job ID",value:s.jobId,copyable:!0,icon:_J})}),"success"===l&&n.jsx(eJ,{title:"DEPLOYMENT INFO"}),"success"===l&&n.jsxs("div",{className:"text-[#C4C4CC] font-['Inter'] text-base space-y-4 flex-col flex",children:[n.jsx(XK,{title:"Live Link",icon:FJ,value:c,onClick:()=>{c&&window.open(c,"_blank")},className:"cursor-pointer group"}),d&&"verified"===(null==u?void 0:u.status)&&n.jsx(XK,{title:"Custom Domain",icon:FJ,value:u.domain,onClick:()=>{d&&window.open(d,"_blank")},className:"cursor-pointer group"})]}),n.jsxs(n.Fragment,{children:[n.jsx(eJ,{title:"ASSETS"}),n.jsx(wJ,{view:"info",jobId:s.jobId,loading:f,artifacts:h,onUploadClick:R,onDelete:M,onDownload:L,onViewAllClick:()=>m("assets")})]}),s.vscodeUrl&&n.jsx(eJ,{title:"VS CODE INFO"}),n.jsx("div",{className:"space-y-4",children:n.jsxs("div",{className:"text-[#C4C4CC] font-['Inter'] text-base space-y-4 flex-col flex",children:[n.jsx(XK,{title:"VSCode URL",icon:FJ,value:`${s.vscodeUrl}`,onClick:()=>{window.open(s.vscodeUrl,"_blank")},className:"cursor-pointer group"}),n.jsx(XK,{title:"VSCode Password",icon:_J,value:`${s.vscodePassword}`,copyable:!0})]})}),(s.sourceRepo||s.targetRepo)&&n.jsx(eJ,{title:"GITHUB INFO"}),s.sourceRepo&&n.jsxs("div",{className:"bg-[#FFFFFF0D] p-3 rounded-[8px] text-sm flex flex-col gap-2 font-['Inter'] font-medium cursor-pointer hover:opacity-80 transition-opacity duration-200",onClick:()=>{var e,t,n;const i=`https://github.com/${null==(e=s.sourceRepo)?void 0:e.owner}/${null==(t=s.sourceRepo)?void 0:t.repo}/tree/${null==(n=s.sourceRepo)?void 0:n.branch}`;window.open(i,"_blank")},children:[n.jsx("span",{className:"text-[#7B7B80] font-['Inter'] text-sm font-medium",children:"Source Repository"}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("img",{src:SJ,alt:"Github",className:"w-5 h-5"}),n.jsxs("span",{className:"capitalize text-[#C4C4CC] text-nowrap truncate",children:[null==(t=s.sourceRepo)?void 0:t.owner," / ",null==(i=s.sourceRepo)?void 0:i.repo]}),n.jsxs("div",{className:"flex items-center gap-1 ml-2 text-nowrap",children:[n.jsx("img",{src:EJ,alt:"Branch"}),n.jsx("span",{className:"text-[#DADEE5] text-nowrap truncate",children:null==(a=s.sourceRepo)?void 0:a.branch})]})]})]}),s.targetRepo&&n.jsxs("div",{className:"bg-[#FFFFFF0D] p-3 rounded-[8px] text-sm flex flex-col gap-2 font-['Inter'] font-medium cursor-pointer hover:opacity-80 transition-opacity duration-200",onClick:()=>{var e,t,n;const i=`https://github.com/${null==(e=s.targetRepo)?void 0:e.owner}/${null==(t=s.targetRepo)?void 0:t.repo}/tree/${null==(n=s.targetRepo)?void 0:n.branch}`;window.open(i,"_blank")},children:[n.jsx("span",{className:"text-[#7B7B80] font-['Inter'] text-sm font-medium",children:"Most Recent Export"}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("img",{src:SJ,alt:"Github",className:"w-5 h-5"}),n.jsxs("span",{className:"capitalize text-[#C4C4CC]",children:[null==(r=s.targetRepo)?void 0:r.owner," / ",null==(x=s.targetRepo)?void 0:x.repo]}),n.jsxs("div",{className:"flex items-center gap-1 ml-2",children:[n.jsx("img",{src:kJ,alt:"Branch"}),n.jsx("span",{className:"text-[#2EE572]",children:null==(g=s.targetRepo)?void 0:g.branch})]})]})]})]})}),"assets"==p&&n.jsx(wJ,{view:"assets",jobId:s.jobId,loading:f,artifacts:h,onUploadClick:R,onDelete:M,onDownload:L,onViewAllClick:()=>m("assets")})]})};if(a){const s=e&&r.pathname.includes("/chat");return n.jsxs(VI,{trigger:n.jsx("div",{}),open:s,onOpenChange:e=>{e||t()},maxWidth:"max-w-full",showDefaultFooter:!1,contentPadding:"p-0",showCancel:!0,onCancel:()=>{null==t||t()},title:"Chat Info",children:[n.jsx("div",{className:"h-[1px] bg-[#212121]"}),n.jsx("div",{className:"max-h-[80dvh] flex flex-col bg-[#111112] h-full overflow-clip rounded-t-2xl",children:O()}),n.jsx("input",{"aria-hidden":"true",ref:b,type:"file",accept:"*/*",multiple:!0,onChange:P,style:{display:"none"}})]})}const z=e&&r.pathname.includes("/chat");return n.jsxs("div",{className:fb("md:top-14 max-md:inset-0 h-[calc(100%-4rem)] w-screen md:w-full bg-[#0F0F10]  transform transition-transform duration-300 ease-in-out z-50 pointer-events-auto max-md:absolute",z?"block":"hidden"),children:[n.jsxs("div",{className:"flex flex-col h-full",children:[n.jsxs("div",{className:"p-4 md:px-6 md:py-5 bg-[#181818] md:bg-transparent flex items-center justify-between border-b border-[#242424]/60",children:["info"==p&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"text-[#939399] flex items-center gap-2 font-['Brockmann']  text-[15px]  md:text-[18px] font-medium leading-[24px]",children:["Run Details",j&&n.jsxs("button",{ref:A,type:"button",className:fb("rounded-full flex items-center gap-[6px] max-h-[32px] py-2 px-3 text-[14px] font-medium transition-colors","free"===w?"bg-[#FFFFFF1A] text-[#E6E6E6] hover:bg-[#FFFFFF2A]":"bg-[#FFFFFF1A] text-[#E6E6E6] cursor-default opacity-80"),onClick:e=>{e.stopPropagation(),yg("privacy_button_clicked",{currentPrivacy:k,userTier:w,isFreeUser:"free"===w,isMobile:a,source:"chat_info_panel",action:"free"!==w?"disabled_click":a?"open_mobile_sheet":"toggle_dropdown"}),"free"===w&&(a?I(!0):(C||(()=>{if(!A.current)return;const e=A.current.getBoundingClientRect();let t=e.bottom+8,n=e.left;n+276>window.innerWidth&&(n=window.innerWidth-276-16),t+124>window.innerHeight&&(t=e.top-124-8),n<16&&(n=16),_({top:t,left:n})})(),N(!C)))},children:["public"===k?n.jsx(YI,{size:16}):n.jsx(rA,{size:16,color:"#ffffff",opacity:1}),!a&&("public"===k?"Public":"Private")]})]}),n.jsx("button",{type:"button",title:"Close",onClick:t,className:"w-10 h-10 flex items-center justify-center bg-[#FFFFFF05] hover:bg-[#FFFFFF1A] backdrop-blur-lg rounded-[10px]",children:n.jsx(RS,{className:"w-6 h-6 text-[#7B7B80]"})})]}),"assets"==p&&n.jsx(n.Fragment,{children:n.jsxs("div",{className:"text-[#939399] font-['Brockmann'] flex items-center w-full justify-between text-[15px] gap-2  md:text-[18px] font-medium leading-[24px]",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{onClick:()=>{m("info")},className:"w-8 h-8 hover:bg-[#FFFFFF10]  flex items-center cursor-pointer justify-center rounded-[8px] backdrop-blur-lg",children:n.jsx("img",{src:IJ,alt:"Arrow",className:"w-6 h-6 rotate-180"})}),"Assets (",h.length,")"]}),n.jsxs("button",{type:"button",onClick:R,className:"text-[16px] pr-4 radial-green text-[#80FFF9] flex justify-center items-center gap-2 p-2 pl-3 min-h-[36px] max-h-[36px] rounded-[10px] ",children:[n.jsx("img",{src:AJ,alt:"Add",className:"w-5 h-5"}),"Upload Files"]})]})})]}),O()]}),n.jsx("input",{"aria-hidden":"true",ref:b,type:"file",accept:"*/*",multiple:!0,onChange:P,style:{display:"none"}}),j&&n.jsxs(n.Fragment,{children:[n.jsx(JK,{show:C&&!a,onClose:()=>N(!1),selectedPrivacy:k,onPrivacyChange:S,position:F}),n.jsx(QK,{show:E,onClose:()=>I(!1),selectedPrivacy:k,onPrivacyChange:S})]})]})}const DJ=({isOpen:e,onOpenChange:t,vscodeUrl:s,vscodePassword:i,onOpenInBrowser:a})=>{const{isMobile:r}=QE(),o=({showHeader:e=!1}={})=>n.jsxs("div",{className:"relative space-y-4",children:[e&&!r&&n.jsxs("div",{className:"flex flex-col space-y-2",children:[n.jsx(MA,{className:"text-base",children:"VS Code Link"}),n.jsx(LA,{className:"text-sm",children:"Access VS Code in your browser with the following link and password"})]}),n.jsxs("div",{className:"w-full space-y-2",children:[n.jsx("p",{className:"text-sm font-medium text-[#737780]",children:"Link"}),n.jsxs("div",{className:"flex items-center w-full gap-2",children:[n.jsx("input",{type:"text","aria-label":"Link",className:"flex-1 w-full px-3 py-2 bg-[#1A1A1B] border border-[#242424] rounded-md text-[#DDDDE6] text-sm",value:s,readOnly:!0}),n.jsx(aH,{showIcon:!0,iconOnly:!0,className:"border-none bg-none",buttonClassName:yb({variant:"outline",size:"sm",className:"whitespace-nowrap rounded-lg  transition-all ease-in-out duration-200 bg-white/10 border-white/20 border hover:bg-white/20 hover:text-white text-white/40"}),value:s,tooltipText:"Copy",copiedTooltipText:"Copied",feedbackType:"tooltip",iconProps:{size:16},onCopy:()=>{}})]})]}),i&&n.jsxs("div",{className:"w-full space-y-2",children:[n.jsx("p",{className:"text-sm font-medium text-[#737780]",children:"Password"}),n.jsxs("div",{className:"flex items-center w-full gap-2",children:[n.jsx("input",{type:"password","aria-label":"Password",className:"flex-1 w-full px-3 py-2 bg-[#1A1A1B] border border-[#242424] rounded-md text-[#DDDDE6] text-sm",value:i,readOnly:!0}),n.jsx(aH,{showIcon:!0,iconOnly:!0,className:"border-none bg-none",buttonClassName:yb({variant:"outline",size:"sm",className:"whitespace-nowrap rounded-lg  transition-all ease-in-out duration-200 bg-white/10 border-white/20 border hover:bg-white/20 hover:text-white text-white/40"}),value:i,tooltipText:"Copy",copiedTooltipText:"Copied",iconProps:{size:16},onCopy:()=>{}})]})]})]});return r?n.jsxs(VI,{trigger:n.jsx("div",{}),title:"VS Code Info",description:"",open:e,onOpenChange:t,maxWidth:"max-w-full",showDefaultFooter:!1,footer:n.jsxs("div",{className:"flex-row justify-between bg-[#111112] w-full sm:justify-between flex gap-4",children:[n.jsx(wb,{className:"flex-1",variant:"secondary",onClick:()=>t(!1),children:n.jsx("div",{className:"flex items-center justify-center w-full",children:"Cancel"})}),n.jsx(wb,{className:"flex-1",onClick:a,children:n.jsx("div",{className:"flex items-center justify-center w-full",children:"Open in Browser"})})]}),showCancel:!0,contentPadding:"p-0",onCancel:()=>{t(!1)},children:[n.jsx("div",{className:"h-[1px] bg-[#212121]"}),n.jsx("div",{className:" p-4 bg-[#111112] flex flex-col px-3 rounded-t-2xl ",children:o({showHeader:!0})})]}):n.jsx(_A,{open:e,onOpenChange:t,children:n.jsxs(AA,{className:"m-4 mx-auto max-w-[calc(100vw-32px)] sm:max-w-md",children:[n.jsxs(TA,{children:[n.jsx(MA,{children:"VS Code Link"}),n.jsx(LA,{children:"Access VS Code in your browser with the following link and password"})]}),n.jsx("div",{className:"p-6",children:o()}),n.jsxs(DA,{className:"flex-row justify-between w-full sm:justify-between",children:[n.jsx(EA,{asChild:!0,children:n.jsx(wb,{variant:"secondary",children:"Cancel"})}),n.jsx(wb,{onClick:a,children:"Open in Browser"})]})]})})};const MJ=(e,t)=>!!e.user_id&&(!!t&&e.user_id!==t),LJ=({task:e,containerId:t,jobId:n,showSubagentPanel:s,selectedMessageId:i,selectedSubagent:a,setSelectedSubagentMessages:r,setIsSubagentActive:o,setAiMessages:l,getCurrentMessages:c,createdByUserId:d})=>{const{user:u}=Wg(),p=De.useCallback((e,t,n)=>{const{messages:c,hasActiveSubagent:d}=m(e,n);if(s&&i){const e=c.find(e=>e.id===i);e&&e.subagent_trajectory&&e.subagent_trajectory.length>0&&e.agent_name===a&&r(e.subagent_trajectory)}const u=t?[...c,t]:c;l(t?u:c),o(d)},[e,t,n,s,i,a,r,o,l,c]),m=De.useCallback((s,i)=>{var a,r,o;const l=[];let p=[],m=null,h=!1,x=-1,f=0;if(e){const t=((null==c?void 0:c())||[]).find(e=>"user-task"===e.id);"initial-llm"===s[0].action&&(f=1);const n=s[f],p="artifact_share"===(null==(a=null==n?void 0:n.traj_payload)?void 0:a.action);let m=(null==(r=null==t?void 0:t.base64_image_list)?void 0:r.length)?t.base64_image_list:null==n?void 0:n.base64_image_list,h=((e,t,n,s,i)=>({id:"user-task",role:s&&i&&s!==i?"member":"user",content:e,timestamp:t||(new Date).toISOString(),base64_image_list:n||[],...s&&{user_id:s}}))(e,i,m,d,null==u?void 0:u.id);p&&(null==(o=null==n?void 0:n.traj_payload)?void 0:o.artifacts)&&(h={...h,artifacts:n.traj_payload.artifacts,artifact_shared_data:{artifacts:n.traj_payload.artifacts,base64_image_list:n.base64_image_list||[],content:n.thought||"USER SHARED ASSETS WITH AGENT",agent_name:n.agent_name||void 0}}),l.push(h)}if(s.forEach((e,i)=>{var a;if(i===f&&"artifact_share"===(null==(a=e.traj_payload)?void 0:a.action))return;const r=e.agent_name||"EmergentAssistant",o=s[0].agent_name||"EmergentAssistant",c=m||"EmergentAssistant";if(r!==o&&(h=((e,t,n,s)=>{if(t!==n&&"finish"===e[s].action)return!1;if(t!==n&&e[s].action&&!e[s].observation)return!0;const i=!e.slice(s+1).some(e=>e.agent_name===t);return!(t===n||!i)})(s,r,o,i)||h),e.human_message&&r===o){const t=((e,t)=>MJ(e,t)?(e=>({id:`member-${e.step_num}`,role:"member",content:e.human_message||"",timestamp:e.timestamp,base64_image_list:e.base64_image_list,user_id:e.user_id,warning_for_token_limit:!1,current_token_count:0,max_token_count:2e5}))(e):(e=>({id:`user-${e.step_num}`,role:"user",content:e.human_message||"",timestamp:e.timestamp,base64_image_list:e.base64_image_list,user_id:e.user_id,warning_for_token_limit:!1,current_token_count:0,max_token_count:2e5}))(e))(e,null==u?void 0:u.id);l.push(t)}if(null!==m&&r!==c&&p.length>0&&x>=0){l[x].subagent_trajectory=[...p],p=[]}if(r!==o)e.human_message&&p.push(((e,t,n,s)=>({id:`subagent-${MJ(e,s)?"member":"user"}-${e.step_num}`,role:MJ(e,s)?"member":"user",content:e.human_message||"",timestamp:e.timestamp,step_number:e.step_num,job_id:t||null,container_id:n,thought:"",enable_rollback:!1,error:!1,error_message:"",action:void 0,thinking_level:"thinking",observation:void 0,env_success:void 0,function_name:void 0,subagent_trajectory:[],args:void 0,base64_image_list:e.base64_image_list,user_id:e.user_id,warning_for_token_limit:!1,current_token_count:0,max_token_count:2e5,request_id:e.request_id,next_call_agent:e.next_call_agent||null}))(e,n,t,null==u?void 0:u.id)),p.push(((e,t)=>{var n,s;return{id:`subagent-${e.step_num}`,role:"assistant",content:e.thought,action:e.action||"",observation:e.observation||"",env_success:e.env_success,function_name:e.function_name,agent_name:e.agent_name,timestamp:e.timestamp,step_number:e.step_num,job_id:t||null,error:(null==e?void 0:e.error)||!1,request_id:e.request_id,error_message:(null==e?void 0:e.error_message)||"",expertise_type:e.expertise_type,base64_image_list:e.human_message?[]:e.base64_image_list||[],switching_to_build_mode:(null==(n=e.traj_payload)?void 0:n.switching_to_build_mode)||!1,next_call_agent:(null==(s=e.traj_payload)?void 0:s.next_call_agent)||null}})(e,n));else{const n=((e,t)=>{var n,s,i,a,r,o;return{id:`message-${e.step_num}`,role:"assistant",content:e.thought,action:e.action,observation:e.observation,env_success:e.env_success,function_name:e.function_name,agent_name:e.agent_name||"",timestamp:e.timestamp,step_number:e.step_num,containerId:t,error:(null==e?void 0:e.error)||!1,error_message:(null==e?void 0:e.error_message)||"",error_ts:e.error_ts||"",expertise_type:e.expertise_type,request_id:e.request_id,acc_cost:e.acc_cost,max_budget:e.max_bugdet||e.max_budget,artifacts:e.artifacts,thinking_level:e.thinking_level||"thinking",enable_rollback:e.enable_rollback,warning_for_token_limit:(null==(n=e.traj_payload)?void 0:n.warning_for_token_limit)||!1,current_token_count:(null==(s=e.traj_payload)?void 0:s.current_token_count)||0,max_token_count:(null==(i=e.traj_payload)?void 0:i.max_token_count)||2e5,switching_to_build_mode:(null==(a=e.traj_payload)?void 0:a.switching_to_build_mode)||!1,forked_job_id:(null==(r=e.traj_payload)?void 0:r.forked_job_id)||null,fork_status:e.fork_status||null,next_call_agent:(null==(o=e.traj_payload)?void 0:o.next_call_agent)||null}})(e,t);l.push(n),x=l.length-1}m=r}),p.length>0&&x>=0){l[x].subagent_trajectory=[...p]}if(s.length>0){const e=s[s.length-1],t=s[0].agent_name||"EmergentAssistant";(e.agent_name!==t&&"finish"===e.action||e.agent_name===t)&&(h=!1)}const g=(e=>{const t=[];let n=0;for(;n<e.length;){const s=e[n];if("artifact_shared"===s.function_name){let i=-1;for(let t=n+1;t<e.length;t++)if("user"===e[t].role||"member"===e[t].role){i=t;break}if(-1!==i){const a=e[i],r={...a,artifacts:s.artifacts||a.artifacts,base64_image_list:a.base64_image_list||s.base64_image_list,artifact_shared_data:{artifacts:s.artifacts,base64_image_list:s.base64_image_list,content:s.content,agent_name:s.agent_name}};for(let s=n+1;s<i;s++)t.push(e[s]);t.push(r),n=i+1}else n++}else t.push(s),n++}return t})(l);return{messages:g,hasActiveSubagent:h}},[e,t,n,c,null==u?void 0:u.id]);return{processTrajectory:p}},PJ=({color:e="#7A7A7B",size:t=32})=>n.jsxs("svg",{width:t,height:t,viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[n.jsx("rect",{width:t,height:t,rx:"8",fill:e,fillOpacity:"0.1"}),n.jsx("path",{d:"M24.0013 15.9997C24.0013 11.581 20.4193 7.99902 16.0006 7.99902C11.582 7.99902 8 11.581 8 15.9997C8 20.4183 11.582 24.0003 16.0006 24.0003C20.4193 24.0003 24.0013 20.4183 24.0013 15.9997Z",stroke:e,strokeWidth:"1.2"}),n.jsx("path",{d:"M16 16L21 16C21 16.9889 20.7068 17.9556 20.1573 18.7778C19.6079 19.6001 18.827 20.241 17.9134 20.6194C16.9998 20.9978 15.9945 21.0968 15.0246 20.9039C14.0546 20.711 13.1637 20.2348 12.4645 19.5355C11.7652 18.8363 11.289 17.9454 11.0961 16.9754C10.9032 16.0055 11.0022 15.0002 11.3806 14.0866C11.759 13.173 12.3999 12.3921 13.2222 11.8427C14.0444 11.2932 15.0111 11 16 11L16 16Z",fill:e})]}),RJ=e=>{if(!e)return 0;const t=localStorage.getItem("rollback_retry_attempt_job_id_map");return JSON.parse(t||"{}")[e]||0};function OJ({containerId:e,jobId:t,session:n,resetPolling:s,onRollbackSuccess:i,rollbackRequestId:a,maxAttempts:r=3}){const[o,l]=De.useState(!1),[c,d]=De.useState("INIT"),[u,p]=De.useState(RJ(a||"")),m=De.useCallback(async(e="all")=>{if(!a)return void rn({title:"Error",description:"No rollback request ID available",variant:"destructive"});l(!0),d("IN_PROGRESS"),u>=r&&d("FAILED");const n=u+1;try{const s=await(async({jobId:e,rollbackRequestId:t,rollbackType:n,currentAttempt:s})=>{let i=null;const a=s>1;if(!e)throw new Error("Job ID not available");return i=await Ap(e,t,void 0,n,a),i})({jobId:t,rollbackRequestId:a,rollbackType:e,currentAttempt:n});if(!s||!1===s.status||"fail"===s.status||"400"===s.http_status_code)throw new Error("Failed to execute rollback command");l(!1),d("COMPLETED"),p(0)}catch(s){l(!1);let e="Error";const t=u+1,n=JSON.parse(localStorage.getItem("rollback_retry_attempt_job_id_map")||"{}");localStorage.setItem("rollback_retry_attempt_job_id_map",JSON.stringify({...n,[a]:t})),t>=r?(d("FAILED"),e="Failed"):d("ERROR"),rn({title:e,description:"Failed to execute rollback command",variant:"destructive"})}},[a,t,i]),h=De.useCallback(e=>{e&&d(e),s()},[s]),x=De.useCallback(()=>{d("INIT"),l(!1)},[]);return{isRollbackLoading:o,rollbackStatus:c,retryAttempted:u,handleConfirmRollback:m,handleRollbackComplete:h,resetRollbackStatus:x}}const zJ=({color:e="#ED5B5B",size:t=40})=>n.jsxs("svg",{width:t,height:t,viewBox:`0 0 ${t} ${t}`,fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[n.jsxs("g",{id:"Group 1321315311",children:[n.jsxs("g",{id:"mingcute:copper-coin-fill","clip-path":"url(#clip0_5221_25696)",children:[n.jsx("circle",{id:"Ellipse 6428",cx:"20",cy:"20",r:"19",fill:"white","fill-opacity":"0.05",stroke:e,"stroke-width":"2"}),n.jsxs("g",{id:"Group 1321315310",children:[n.jsx("path",{id:"history_2",d:"M19.9749 30C17.3851 30 15.1378 29.1417 13.2331 27.425C11.3283 25.7083 10.2506 23.5667 10 21H12.0301C12.2807 23.0167 13.1621 24.6875 14.6742 26.0125C16.1863 27.3375 17.9532 28 19.9749 28C22.2139 28 24.1103 27.225 25.6642 25.675C27.218 24.125 27.995 22.2333 27.995 20C27.995 17.7667 27.218 15.875 25.6642 14.325C24.1103 12.775 22.2139 12 19.9749 12C18.538 12 17.2055 12.3542 15.9774 13.0625C14.7494 13.7708 13.7761 14.75 13.0576 16H15.9649V18H10.1504C10.6349 15.6667 11.7962 13.75 13.6341 12.25C15.472 10.75 17.5856 10 19.9749 10C21.3617 10 22.665 10.2625 23.8847 10.7875C25.1044 11.3125 26.1654 12.025 27.0677 12.925C27.9699 13.825 28.6842 14.8833 29.2105 16.1C29.7368 17.3167 30 18.6167 30 20C30 21.3833 29.7368 22.6833 29.2105 23.9C28.6842 25.1167 27.9699 26.175 27.0677 27.075C26.1654 27.975 25.1044 28.6875 23.8847 29.2125C22.665 29.7375 21.3617 30 19.9749 30Z",fill:"white"}),n.jsx("path",{id:"history_2_2",d:"M22.7822 24.2L18.9727 20.4V15H20.9777V19.6L24.1857 22.8L22.7822 24.2Z",fill:"white"})]})]}),n.jsxs("g",{id:"Group 1321315302",children:[n.jsx("circle",{id:"Ellipse 6394",cx:"33",cy:"33",r:"11",fill:"#111112"}),n.jsx("path",{id:"add_circle",d:"M33 40C32.0317 40 31.1217 39.8162 30.27 39.4487C29.4183 39.0812 28.6775 38.5825 28.0475 37.9525C27.4175 37.3225 26.9188 36.5817 26.5513 35.73C26.1837 34.8783 26 33.9683 26 33C26 32.0317 26.1837 31.1217 26.5513 30.27C26.9188 29.4183 27.4175 28.6775 28.0475 28.0475C28.6775 27.4175 29.4183 26.9188 30.27 26.5513C31.1217 26.1837 32.0317 26 33 26C33.9683 26 34.8783 26.1837 35.73 26.5513C36.5817 26.9188 37.3225 27.4175 37.9525 28.0475C38.5825 28.6775 39.0812 29.4183 39.4487 30.27C39.8162 31.1217 40 32.0317 40 33C40 33.9683 39.8162 34.8783 39.4487 35.73C39.0812 36.5817 38.5825 37.3225 37.9525 37.9525C37.3225 38.5825 36.5817 39.0812 35.73 39.4487C34.8783 39.8162 33.9683 40 33 40Z",fill:"#ED5B5B"}),n.jsx("rect",{id:"Rectangle 3474760",x:"32",y:"29",width:"2",height:"5",rx:"1",fill:"#111112"}),n.jsx("rect",{id:"Rectangle 3474761",x:"32",y:"35",width:"2",height:"2",rx:"1",fill:"#111112"})]})]}),n.jsx("defs",{children:n.jsx("clipPath",{id:"clip0_5221_25696",children:n.jsx("rect",{width:t,height:t,fill:"white"})})})]}),BJ=[{id:1,label:"Pausing the Agent"},{id:2,label:"Cleaning up the context"},{id:3,label:"Restoring previous workspace state"},{id:4,label:"Finalizing the reversion"}],HJ=({header:e})=>n.jsx("div",{className:"px-6 pt-20 pb-4",children:n.jsx("h2",{className:"text-[24px] font-semibold text-white",children:e})}),$J=({status:e})=>{switch(e){case"INIT":return n.jsx("div",{className:"flex-1 min-h-0 px-4 pt-4 pb-0 overflow-y-auto",children:n.jsxs("p",{className:"text-[16px] text-[#8A8B91] max-w-[600px] mb-4",children:["Youre about to revert this conversation to an earlier state. Doing so will permanently delete all ",n.jsx("span",{className:"font-medium text-white",children:"messages"})," and ",n.jsx("span",{className:"font-medium text-white",children:"code generated"})," after the selected point."]})});case"IN_PROGRESS":default:return null;case"COMPLETED":return n.jsx("div",{className:"flex-1 min-h-0 px-4 py-6 overflow-y-auto",children:n.jsx("p",{className:"text-[16px] text-[#8A8B91] max-w-[600px] mb-4",children:"Your chat, code, and workspace have been successfully rolled back to the selected point. All changes made after that have been erased."})});case"ERROR":return n.jsx("div",{className:"flex-1 min-h-0 px-4 py-6 overflow-y-auto",children:n.jsx("p",{className:"text-[16px] text-[#8A8B91] max-w-[600px] mb-4",children:"Your attempt to roll back couldn't be completed due to a temporary connection issue or because the snapshot data is still processing."})});case"FAILED":return n.jsx("div",{className:"flex-1 min-h-0 px-4 py-6 overflow-y-auto",children:n.jsx("p",{className:"text-[16px] text-[#8A8B91] max-w-[600px] mb-4",children:"We have tried multiple times to roll back to your selected point, but the operation cannot be completed. Your current session may be unusable."})})}},UJ=({status:e,prompt:t,nextAction:s})=>{switch(e){case"INIT":return n.jsx("div",{className:"flex-1 min-h-0 px-6 pb-2 overflow-y-auto",children:n.jsx("p",{className:"text-[#FF884D] text-base font-medium mb-6",children:t})});case"IN_PROGRESS":default:return null;case"COMPLETED":return n.jsx("div",{className:"flex-1 min-h-0 px-6 py-2 overflow-y-auto",children:n.jsx("p",{className:"text-[#27BF7B] text-base font-medium mb-6",children:t})});case"ERROR":return n.jsxs("div",{className:"flex-1 min-h-0 px-6 py-2 overflow-y-auto",children:[n.jsx("span",{className:"text-[#ED5B5B] text-base font-medium",children:`${t} - `}),s&&n.jsx("span",{className:"text-base font-medium text-white",children:s})]});case"FAILED":return n.jsx("div",{className:"flex-1 min-h-0 px-6 py-2 overflow-y-auto",children:n.jsxs("p",{className:"mb-6 text-base font-medium text-white",children:[n.jsxs("div",{className:"inline-flex gap-2 items-top",children:[n.jsx(kS,{size:35,color:"#ED5B5B"}),t]}),s&&n.jsxs("div",{className:"mt-4 mb-8 text-base font-medium text-white",children:[n.jsxs("div",{className:"inline-flex gap-2 items-top",children:[n.jsx(xS,{size:22,color:"white"}),s]}),n.jsxs("span",{className:"text-base font-medium text-green-500",children:[" ",ev]})]})]})})}},VJ=({currentStatus:e})=>{switch(e){case"COMPLETED":return n.jsxs("div",{className:"relative",children:[n.jsx(tS,{className:"w-6 h-6 text-white"}),n.jsx("div",{className:"absolute -bottom-1 -right-1 bg-[#29CC83] rounded-full w-4 h-4 flex items-center justify-center",children:n.jsx(Uk,{className:"w-3 h-3 text-black"})})]});case"IN_PROGRESS":return n.jsx(tS,{className:"w-6 h-6 text-[#FF884D]"});case"INIT":return n.jsx(tS,{className:"w-4 h-4 text-[#FF884D]"});case"FAILED":case"ERROR":return n.jsx(zJ,{size:40,color:"#ED5B5B"});default:return null}},WJ=({currentStatus:e})=>n.jsx("div",{className:"absolute left-5 top-4",children:n.jsx("div",{className:"flex items-center justify-center w-12 h-12 rounded-full bg-[#2A2A2C]",children:n.jsx(VJ,{currentStatus:e})})}),qJ={INIT:{status:"INIT",header:n.jsx(HJ,{header:"Revert to a Previous Point"}),description:n.jsx($J,{status:"INIT"}),prompt:n.jsx(UJ,{status:"INIT",prompt:"This action cannot be undone."}),etaMessage:"Reverting typically takes 12 minutes.",buttons:["cancel","confirm"]},IN_PROGRESS:{status:"IN_PROGRESS",header:n.jsx(HJ,{header:"Reverting to the previous point"}),description:n.jsx($J,{status:"IN_PROGRESS"}),prompt:n.jsx(UJ,{status:"IN_PROGRESS",prompt:"Are you sure you want to continue?"}),eta:!0,buttons:["inProgress"]},COMPLETED:{status:"COMPLETED",header:n.jsx(HJ,{header:"Rollback Complete !"}),description:n.jsx($J,{status:"COMPLETED"}),prompt:n.jsx(UJ,{status:"COMPLETED",prompt:"To continue, send a message to our agent to restart the conversation."}),buttons:["okay"]},ERROR:{status:"ERROR",header:n.jsx(HJ,{header:"Rollback Failed !"}),description:n.jsx($J,{status:"ERROR"}),prompt:n.jsx(UJ,{status:"ERROR",prompt:"Please try again",nextAction:"If the problem persists after multiple attempts, a more serious issue may be at play."}),attempts:!0,maxAttempts:3,buttons:["contact","retry"]},FAILED:{status:"FAILED",header:n.jsx(HJ,{header:"Rollback Permanently Failed"}),description:n.jsx($J,{status:"FAILED"}),prompt:n.jsx(UJ,{status:"FAILED",prompt:"Unfortunately, your work since the last successful snapshot may not be recoverable through normal means.",nextAction:"Please contact support for assistance with restoring your work"}),buttons:["contact","okay-failed"]}};function GJ({isOpen:e,onOpenChange:t,rollbackRequestId:s,containerId:i,jobId:a,session:r,resetPolling:o,setAiMessages:l}){const[c,d]=De.useState(0),[u,p]=De.useState(0),[m,h]=De.useState("INIT"),[x,f]=De.useState("all"),{isRollbackLoading:g,rollbackStatus:v,handleConfirmRollback:b,handleRollbackComplete:y,resetRollbackStatus:w}=OJ({containerId:i,jobId:a,session:r,resetPolling:o,rollbackRequestId:s,onRollbackSuccess:()=>l([]),maxAttempts:tv});De.useEffect(()=>{let t,n;if(e&&h(v),"IN_PROGRESS"===v&&(t=setInterval(()=>{p(e=>e+1)},1e3),c<BJ.length-1)){n=setTimeout(()=>{d(e=>e+1)},[2e3,3e3,4e3,3e3,3e3][c])}return"COMPLETED"===v&&(y(),e&&h("COMPLETED")),"INIT"!==v&&"ERROR"!==v&&"FAILED"!==v||(d(0),p(0)),()=>{clearInterval(t),clearTimeout(n)}},[g,v,c,e]),De.useEffect(()=>{const e=RJ(s||"");h(e>=tv?"FAILED":"INIT")},[s]),De.useEffect(()=>{e&&(w(),h("INIT"),d(0),p(0))},[e,w]);const j=()=>{t(!1)};return n.jsx(_A,{open:e,onOpenChange:j,children:n.jsxs(AA,{hideclosebutton:"IN_PROGRESS"===m,onInteractOutside:e=>{"IN_PROGRESS"===m&&e.preventDefault()},className:"p-0 m-4 mx-auto max-w-[calc(100vw-32px)] md:max-w-[600px] max-h-[85vh] flex flex-col border-[#2A2A2C] bg-[#0E0E0F] overflow-hidden",children:[n.jsxs("div",{className:"relative border-b border-[#1A1A1C]",children:[n.jsx(WJ,{currentStatus:m}),qJ[m].header]}),qJ[m].description,qJ[m].prompt,"INIT"===m?n.jsx("div",{className:"flex-1 min-h-0 px-6 pt-4 pb-10 overflow-y-auto",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("input",{title:"Erase all messages and generated code",type:"radio",id:"confirm-rollback-all",name:"rollback-confirmation",className:"h-4 w-4 accent-[#FF884D] border-[#FF884D] focus:ring-[#FF884D] focus:ring-offset-0 checked:bg-[#FF884D]",onChange:()=>f("all"),checked:"all"===x}),n.jsx(qA,{htmlFor:"confirm-rollback-all",className:"text-white",children:"Erase all messages and generated code"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("input",{title:"Erase messages only (keep code)",type:"radio",id:"confirm-rollback-messages",name:"rollback-confirmation",className:"h-4 w-4 accent-[#FF884D] border-[#FF884D] focus:ring-[#FF884D] focus:ring-offset-0 bg-transparent",onChange:()=>f("messages"),checked:"messages"===x}),n.jsx(qA,{htmlFor:"confirm-rollback-messages",className:"text-white",children:"Erase messages only (keep code)"})]})]})}):null,"IN_PROGRESS"===m?n.jsx("div",{className:"flex-1 min-h-0 px-6 py-6 overflow-y-auto",children:n.jsx("div",{className:"space-y-6",children:BJ.map((e,t)=>{let s;return s=t<c?"completed":t===c?"active":"pending",n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"w-6 h-6 mr-3",children:"completed"===s?n.jsx("div",{className:"flex items-center justify-center w-5 h-5 bg-black rounded-full",children:n.jsx(Uk,{className:"w-3 h-3 text-white"})}):"active"===s?n.jsx("div",{className:"w-5 h-5 rounded-full bg-[#FF884D] flex items-center justify-center",children:n.jsx("div",{className:"w-2 h-2 bg-white rounded-full animate-pulse"})}):n.jsx("div",{className:"w-5 h-5 rounded-full border border-[#2A2A2C]"})}),n.jsx("span",{className:"text-base "+("active"===s?"text-[#FF884D] font-medium":"text-[#8A8B91]"),children:e.label})]},e.id)})})}):null,n.jsx("div",{className:"border-t border-[#1A1A1C] px-6 py-4",children:n.jsxs("div",{className:"flex items-center justify-between gap-2",children:[n.jsxs("div",{className:"items-center hidden flex-grow-2 md:flex",children:[qJ[m].etaMessage?n.jsxs(n.Fragment,{children:[n.jsx(PJ,{size:32,color:"#7A7A7B"}),n.jsx("div",{className:"text-[#8A8B91] text-sm hidden md:block",children:qJ[m].etaMessage})]}):null,qJ[m].eta?n.jsxs(n.Fragment,{children:[n.jsx(PJ,{size:32,color:"#7A7A7B"}),n.jsx("div",{className:"text-[#8A8B91] text-lg",children:(e=>{const t=e%60;return`${Math.floor(e/60).toString().padStart(2,"0")}:${t.toString().padStart(2,"0")}`})(u)})]}):null]}),n.jsx("div",{className:"flex items-center gap-2 mt-4",children:qJ[m].buttons.map((e,t)=>{switch(e){case"cancel":return n.jsx(wb,{variant:"secondary",onClick:()=>j(),className:"text-[#DDDDE6] bg-[#2A2A2C] hover:bg-[#3A3A3C] rounded-full h-10 px-6",children:"Cancel"},t);case"confirm":return n.jsxs(wb,{onClick:()=>{b(x),p(0),d(0)},className:"bg-[#FF884D] hover:bg-[#E57440] text-background rounded-full h-10 px-6 flex items-center",children:["Confirm Revert",n.jsx(tS,{className:"w-5 h-5 ml-2"})]},t);case"inProgress":return n.jsxs(wb,{variant:"secondary",onClick:()=>{},className:"text-[#DDDDE6] bg-[#2A2A2C] hover:bg-[#3A3A3C] rounded-full h-10 px-6",children:[n.jsx("span",{className:"font-medium text-[#FF884D]",children:"Reverting..."}),n.jsx("div",{className:"ml-2 w-5 h-5 rounded-full border-2 border-[#FF884D] border-t-transparent animate-spin"})]},t);case"okay":return n.jsx(wb,{onClick:()=>{j()},className:"flex items-center h-10 px-6 text-black bg-white rounded-full hover:bg-white/80",children:"Okay, Got It"},t);case"okay-failed":return n.jsx(wb,{onClick:()=>j(),className:"flex items-center h-10 px-6 text-black bg-white rounded-full hover:bg-white/80",children:"Okay, Got It"},t);case"retry":return n.jsxs(wb,{onClick:()=>b(x),className:"flex items-center h-10 px-6 bg-white rounded-full hover:bg-white/80 text-background",children:["Retry",n.jsx(DS,{className:"w-5 h-5"})]},t);case"contact":return n.jsxs(wb,{onClick:()=>window.location.href=`mailto:${ev}`,className:"bg-[#272729] hover:bg-[#3A3A3C] text-white rounded-full h-10 px-6 flex items-center",children:["Contact Support",n.jsx(xS,{className:"w-5 h-5 ml-2"})]},t);case"back":return n.jsxs(wb,{variant:"secondary",onClick:()=>j(),className:"text-[#DDDDE6] bg-[#2A2A2C] hover:bg-[#3A3A3C] rounded-full h-10 px-6 flex items-center gap-2",children:[n.jsx(MS,{className:"w-5 h-5"}),"Go Back"]});default:return null}})})]})})]})})}const ZJ=gv.common.bot,YJ=gv.common.play;function KJ(){const{setTabs:e,setActiveTab:t,updateTabState:s}=Oee(),i=Me();return n.jsx("div",{className:"w-full flex mx-auto pb-10",children:n.jsxs("div",{className:"max-w-4xl mx-auto my-8 group flex flex-col space-y-[10px]",children:[n.jsx("div",{className:"px-4 py-1 rounded-lg overflow-hidden space-y-[10px]",children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(_M,{className:"h-10 w-10 flex-shrink-0 bg-background border border-[1px] border-[#252526]",children:n.jsx(SM,{className:"bg-background",children:n.jsx("img",{src:ZJ,alt:"Robot",className:"w-fit h-8"})})}),n.jsx("div",{className:"flex-1 min-w-0",children:n.jsxs("div",{className:"prose prose-invert max-w-none",children:["We're sorry, but we couldn't complete the rollback operation. Any work since your last successful snapshot may be affected. Please contact our support team for assistance with restoring your work",n.jsx("p",{children:"To continue working, you'll need to start a new chat session."})]})})]})}),n.jsxs("div",{className:"flex justify-start mx-8 px-8 pt-6 space-x-4",children:[n.jsxs(wb,{onClick:n=>{n.preventDefault(),n.stopPropagation(),(()=>{const n=`tab-${Date.now()}-${Math.random().toString(36).substr(2,9)}`;e(e=>[...e,{id:n,title:"New Task",path:"/create-task",state:{tabId:n,sourceTabId:n}}]),s(n,{isCloudFlow:!0}),t(n),i("/create-task")})()},className:"bg-white hover:bg-gray-200 text-black font-semibold rounded-full h-10 pl-5 pr-4 flex items-center",children:["Start New Run",n.jsx("img",{src:YJ,className:"w-5 h-5"})]}),n.jsxs(wb,{onClick:()=>fp.openExternal(`mailto:${ev}`),className:"bg-[#272729] hover:bg-[#3A3A3C] text-white font-medium rounded-full h-10 pl-5 pr-4 flex items-center",children:["Contact Support",n.jsx(xS,{className:"w-5 h-5 ml-2"})]})]}),n.jsx("div",{className:"flex justify-end mx-8",children:n.jsx("div",{className:"inline-flex items-center gap-2 text-[#5C5F66]",children:n.jsx("span",{className:"font-['Berkeley Mono Trial'] text-[15px] leading-[20px]",children:new Date((new Date).toISOString()).toLocaleString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0})})})})]})})}const JJ=gv.common.alertFill,QJ=()=>{const{toast:e}=on(),{user:t}=Wg(),s=Oee();return{showErrorToast:(i,a,r={})=>{const o={userId:null==t?void 0:t.id,userEmail:null==t?void 0:t.email,jobId:null==s?void 0:s.jobId,containerId:null==s?void 0:s.containerId,...r};((e,t,s,i={})=>{xg(t,{errorTitle:e,...i}),s({variant:"destructive",title:"",duration:5e3,description:n.jsxs("div",{className:"relative w-full p-4 pb-6",children:[n.jsx("img",{src:JJ,alt:"Error",className:" left-4 top-4",width:24,height:24}),n.jsxs("div",{className:"pt-4",children:[n.jsx("div",{className:"mb-1 text-base font-inter font-semibold text-[#ed5b5b]",children:e}),n.jsx("div",{className:"text-base font-inter text-[#cca3a3]",children:e.toLowerCase().includes("email")?"Please enter a valid invite code to sign up. If you believe this is an error, reach out to support@emergent.sh for assistance.":t})]})]}),className:"bg-[#261818] border-none p-0 rounded-lg "})})(i,a,e,o)}}};function XJ(e){const[t,n]=De.useState(!1),[s,i]=De.useState("cdn"),[a,r]=De.useState(""),[o,l]=De.useState(!0);return De.useEffect(()=>{if(!e)return void l(!1);const t=e.split(".")[0],{cdnUrl:s}=qt;if(!t||!s)return void l(!1);(async()=>{n(!0);try{const e=s.startsWith("http")?s:`https://${t}.${s}`;return(await fetch(e)).ok?(i("cdn"),r(e),!0):(i("game"),!1)}catch(e){return i("game"),!1}finally{n(!1),l(!1)}})()},[e]),{cdnLoading:t,previewSource:s,cdnUrl:a,setPreviewSource:i,initializing:o}}var eQ,tQ,nQ={};var sQ,iQ={},aQ={};function rQ(){if(sQ)return aQ;let e;sQ=1;const t=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];return aQ.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return 4*e+17},aQ.getSymbolTotalCodewords=function(e){return t[e]},aQ.getBCHDigit=function(e){let t=0;for(;0!==e;)t++,e>>>=1;return t},aQ.setToSJISFunction=function(t){if("function"!=typeof t)throw new Error('"toSJISFunc" is not a valid function.');e=t},aQ.isKanjiModeEnabled=function(){return void 0!==e},aQ.toSJIS=function(t){return e(t)},aQ}var oQ,lQ,cQ,dQ,uQ,pQ={};function mQ(){return oQ||(oQ=1,(e=pQ).L={bit:1},e.M={bit:0},e.Q={bit:3},e.H={bit:2},e.isValid=function(e){return e&&void 0!==e.bit&&e.bit>=0&&e.bit<4},e.from=function(t,n){if(e.isValid(t))return t;try{return function(t){if("string"!=typeof t)throw new Error("Param is not a string");switch(t.toLowerCase()){case"l":case"low":return e.L;case"m":case"medium":return e.M;case"q":case"quartile":return e.Q;case"h":case"high":return e.H;default:throw new Error("Unknown EC Level: "+t)}}(t)}catch(s){return n}}),pQ;var e}var hQ,xQ={};var fQ,gQ={};var vQ,bQ={};var yQ,wQ={};function jQ(){if(yQ)return wQ;yQ=1;const e=mQ(),t=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],n=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];return wQ.getBlocksCount=function(n,s){switch(s){case e.L:return t[4*(n-1)+0];case e.M:return t[4*(n-1)+1];case e.Q:return t[4*(n-1)+2];case e.H:return t[4*(n-1)+3];default:return}},wQ.getTotalCodewordsCount=function(t,s){switch(s){case e.L:return n[4*(t-1)+0];case e.M:return n[4*(t-1)+1];case e.Q:return n[4*(t-1)+2];case e.H:return n[4*(t-1)+3];default:return}},wQ}var CQ,NQ,FQ,_Q,kQ={},SQ={};function EQ(){return NQ||(NQ=1,function(e){const t=function(){if(CQ)return SQ;CQ=1;const e=new Uint8Array(512),t=new Uint8Array(256);return function(){let n=1;for(let s=0;s<255;s++)e[s]=n,t[n]=s,n<<=1,256&n&&(n^=285);for(let t=255;t<512;t++)e[t]=e[t-255]}(),SQ.log=function(e){if(e<1)throw new Error("log("+e+")");return t[e]},SQ.exp=function(t){return e[t]},SQ.mul=function(n,s){return 0===n||0===s?0:e[t[n]+t[s]]},SQ}();e.mul=function(e,n){const s=new Uint8Array(e.length+n.length-1);for(let i=0;i<e.length;i++)for(let a=0;a<n.length;a++)s[i+a]^=t.mul(e[i],n[a]);return s},e.mod=function(e,n){let s=new Uint8Array(e);for(;s.length-n.length>=0;){const e=s[0];for(let a=0;a<n.length;a++)s[a]^=t.mul(n[a],e);let i=0;for(;i<s.length&&0===s[i];)i++;s=s.slice(i)}return s},e.generateECPolynomial=function(n){let s=new Uint8Array([1]);for(let i=0;i<n;i++)s=e.mul(s,new Uint8Array([1,t.exp(i)]));return s}}(kQ)),kQ}var IQ,AQ={},TQ={},DQ={};function MQ(){return IQ||(IQ=1,DQ.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40}),DQ}var LQ,PQ,RQ,OQ={};function zQ(){if(LQ)return OQ;LQ=1;const e="[0-9]+";let t="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";t=t.replace(/u/g,"\\u");const n="(?:(?![A-Z0-9 $%*+\\-./:]|"+t+")(?:.|[\r\n]))+";OQ.KANJI=new RegExp(t,"g"),OQ.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),OQ.BYTE=new RegExp(n,"g"),OQ.NUMERIC=new RegExp(e,"g"),OQ.ALPHANUMERIC=new RegExp("[A-Z $%*+\\-./:]+","g");const s=new RegExp("^"+t+"$"),i=new RegExp("^"+e+"$"),a=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");return OQ.testKanji=function(e){return s.test(e)},OQ.testNumeric=function(e){return i.test(e)},OQ.testAlphanumeric=function(e){return a.test(e)},OQ}function BQ(){return PQ||(PQ=1,function(e){const t=MQ(),n=zQ();e.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},e.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},e.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},e.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},e.MIXED={bit:-1},e.getCharCountIndicator=function(e,n){if(!e.ccBits)throw new Error("Invalid mode: "+e);if(!t.isValid(n))throw new Error("Invalid version: "+n);return n>=1&&n<10?e.ccBits[0]:n<27?e.ccBits[1]:e.ccBits[2]},e.getBestModeForData=function(t){return n.testNumeric(t)?e.NUMERIC:n.testAlphanumeric(t)?e.ALPHANUMERIC:n.testKanji(t)?e.KANJI:e.BYTE},e.toString=function(e){if(e&&e.id)return e.id;throw new Error("Invalid mode")},e.isValid=function(e){return e&&e.bit&&e.ccBits},e.from=function(t,n){if(e.isValid(t))return t;try{return function(t){if("string"!=typeof t)throw new Error("Param is not a string");switch(t.toLowerCase()){case"numeric":return e.NUMERIC;case"alphanumeric":return e.ALPHANUMERIC;case"kanji":return e.KANJI;case"byte":return e.BYTE;default:throw new Error("Unknown mode: "+t)}}(t)}catch(s){return n}}}(TQ)),TQ}function HQ(){return RQ||(RQ=1,function(e){const t=rQ(),n=jQ(),s=mQ(),i=BQ(),a=MQ(),r=t.getBCHDigit(7973);function o(e,t){return i.getCharCountIndicator(e,t)+4}function l(e,t){let n=0;return e.forEach(function(e){const s=o(e.mode,t);n+=s+e.getBitsLength()}),n}e.from=function(e,t){return a.isValid(e)?parseInt(e,10):t},e.getCapacity=function(e,s,r){if(!a.isValid(e))throw new Error("Invalid QR Code version");void 0===r&&(r=i.BYTE);const l=8*(t.getSymbolTotalCodewords(e)-n.getTotalCodewordsCount(e,s));if(r===i.MIXED)return l;const c=l-o(r,e);switch(r){case i.NUMERIC:return Math.floor(c/10*3);case i.ALPHANUMERIC:return Math.floor(c/11*2);case i.KANJI:return Math.floor(c/13);case i.BYTE:default:return Math.floor(c/8)}},e.getBestVersionForData=function(t,n){let a;const r=s.from(n,s.M);if(Array.isArray(t)){if(t.length>1)return function(t,n){for(let s=1;s<=40;s++)if(l(t,s)<=e.getCapacity(s,n,i.MIXED))return s}(t,r);if(0===t.length)return 1;a=t[0]}else a=t;return function(t,n,s){for(let i=1;i<=40;i++)if(n<=e.getCapacity(i,s,t))return i}(a.mode,a.getLength(),r)},e.getEncodedBits=function(e){if(!a.isValid(e)||e<7)throw new Error("Invalid QR Code version");let n=e<<12;for(;t.getBCHDigit(n)-r>=0;)n^=7973<<t.getBCHDigit(n)-r;return e<<12|n}}(AQ)),AQ}var $Q,UQ={};var VQ,WQ,qQ,GQ,ZQ,YQ,KQ,JQ,QQ={};var XQ,eX,tX,nX={exports:{}};function sX(){return eX||(eX=1,function(e){const t=BQ(),n=function(){if(WQ)return VQ;WQ=1;const e=BQ();function t(t){this.mode=e.NUMERIC,this.data=t.toString()}return t.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)},t.prototype.getLength=function(){return this.data.length},t.prototype.getBitsLength=function(){return t.getBitsLength(this.data.length)},t.prototype.write=function(e){let t,n,s;for(t=0;t+3<=this.data.length;t+=3)n=this.data.substr(t,3),s=parseInt(n,10),e.put(s,10);const i=this.data.length-t;i>0&&(n=this.data.substr(t),s=parseInt(n,10),e.put(s,3*i+1))},VQ=t}(),s=function(){if(GQ)return qQ;GQ=1;const e=BQ(),t=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function n(t){this.mode=e.ALPHANUMERIC,this.data=t}return n.getBitsLength=function(e){return 11*Math.floor(e/2)+e%2*6},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(e){let n;for(n=0;n+2<=this.data.length;n+=2){let s=45*t.indexOf(this.data[n]);s+=t.indexOf(this.data[n+1]),e.put(s,11)}this.data.length%2&&e.put(t.indexOf(this.data[n]),6)},qQ=n}(),i=function(){if(YQ)return ZQ;YQ=1;const e=BQ();function t(t){this.mode=e.BYTE,this.data="string"==typeof t?(new TextEncoder).encode(t):new Uint8Array(t)}return t.getBitsLength=function(e){return 8*e},t.prototype.getLength=function(){return this.data.length},t.prototype.getBitsLength=function(){return t.getBitsLength(this.data.length)},t.prototype.write=function(e){for(let t=0,n=this.data.length;t<n;t++)e.put(this.data[t],8)},ZQ=t}(),a=function(){if(JQ)return KQ;JQ=1;const e=BQ(),t=rQ();function n(t){this.mode=e.KANJI,this.data=t}return n.getBitsLength=function(e){return 13*e},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(e){let n;for(n=0;n<this.data.length;n++){let s=t.toSJIS(this.data[n]);if(s>=33088&&s<=40956)s-=33088;else{if(!(s>=57408&&s<=60351))throw new Error("Invalid SJIS character: "+this.data[n]+"\nMake sure your charset is UTF-8");s-=49472}s=192*(s>>>8&255)+(255&s),e.put(s,13)}},KQ=n}(),r=zQ(),o=rQ(),l=function(){return XQ?nX.exports:(XQ=1,e={single_source_shortest_paths:function(t,n,s){var i={},a={};a[n]=0;var r,o,l,c,d,u,p,m=e.PriorityQueue.make();for(m.push(n,0);!m.empty();)for(l in o=(r=m.pop()).value,c=r.cost,d=t[o]||{})d.hasOwnProperty(l)&&(u=c+d[l],p=a[l],(void 0===a[l]||p>u)&&(a[l]=u,m.push(l,u),i[l]=o));if(void 0!==s&&void 0===a[s]){var h=["Could not find a path from ",n," to ",s,"."].join("");throw new Error(h)}return i},extract_shortest_path_from_predecessor_list:function(e,t){for(var n=[],s=t;s;)n.push(s),e[s],s=e[s];return n.reverse(),n},find_path:function(t,n,s){var i=e.single_source_shortest_paths(t,n,s);return e.extract_shortest_path_from_predecessor_list(i,s)},PriorityQueue:{make:function(t){var n,s=e.PriorityQueue,i={};for(n in t=t||{},s)s.hasOwnProperty(n)&&(i[n]=s[n]);return i.queue=[],i.sorter=t.sorter||s.default_sorter,i},default_sorter:function(e,t){return e.cost-t.cost},push:function(e,t){var n={value:e,cost:t};this.queue.push(n),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return 0===this.queue.length}}},nX.exports=e);var e}();function c(e){return unescape(encodeURIComponent(e)).length}function d(e,t,n){const s=[];let i;for(;null!==(i=e.exec(n));)s.push({data:i[0],index:i.index,mode:t,length:i[0].length});return s}function u(e){const n=d(r.NUMERIC,t.NUMERIC,e),s=d(r.ALPHANUMERIC,t.ALPHANUMERIC,e);let i,a;o.isKanjiModeEnabled()?(i=d(r.BYTE,t.BYTE,e),a=d(r.KANJI,t.KANJI,e)):(i=d(r.BYTE_KANJI,t.BYTE,e),a=[]);return n.concat(s,i,a).sort(function(e,t){return e.index-t.index}).map(function(e){return{data:e.data,mode:e.mode,length:e.length}})}function p(e,r){switch(r){case t.NUMERIC:return n.getBitsLength(e);case t.ALPHANUMERIC:return s.getBitsLength(e);case t.KANJI:return a.getBitsLength(e);case t.BYTE:return i.getBitsLength(e)}}function m(e,r){let l;const c=t.getBestModeForData(e);if(l=t.from(r,c),l!==t.BYTE&&l.bit<c.bit)throw new Error('"'+e+'" cannot be encoded with mode '+t.toString(l)+".\n Suggested mode is: "+t.toString(c));switch(l!==t.KANJI||o.isKanjiModeEnabled()||(l=t.BYTE),l){case t.NUMERIC:return new n(e);case t.ALPHANUMERIC:return new s(e);case t.KANJI:return new a(e);case t.BYTE:return new i(e)}}e.fromArray=function(e){return e.reduce(function(e,t){return"string"==typeof t?e.push(m(t,null)):t.data&&e.push(m(t.data,t.mode)),e},[])},e.fromString=function(n,s){const i=function(e){const n=[];for(let s=0;s<e.length;s++){const i=e[s];switch(i.mode){case t.NUMERIC:n.push([i,{data:i.data,mode:t.ALPHANUMERIC,length:i.length},{data:i.data,mode:t.BYTE,length:i.length}]);break;case t.ALPHANUMERIC:n.push([i,{data:i.data,mode:t.BYTE,length:i.length}]);break;case t.KANJI:n.push([i,{data:i.data,mode:t.BYTE,length:c(i.data)}]);break;case t.BYTE:n.push([{data:i.data,mode:t.BYTE,length:c(i.data)}])}}return n}(u(n,o.isKanjiModeEnabled())),a=function(e,n){const s={},i={start:{}};let a=["start"];for(let r=0;r<e.length;r++){const o=e[r],l=[];for(let e=0;e<o.length;e++){const c=o[e],d=""+r+e;l.push(d),s[d]={node:c,lastCount:0},i[d]={};for(let e=0;e<a.length;e++){const r=a[e];s[r]&&s[r].node.mode===c.mode?(i[r][d]=p(s[r].lastCount+c.length,c.mode)-p(s[r].lastCount,c.mode),s[r].lastCount+=c.length):(s[r]&&(s[r].lastCount=c.length),i[r][d]=p(c.length,c.mode)+4+t.getCharCountIndicator(c.mode,n))}}a=l}for(let t=0;t<a.length;t++)i[a[t]].end=0;return{map:i,table:s}}(i,s),r=l.find_path(a.map,"start","end"),d=[];for(let e=1;e<r.length-1;e++)d.push(a.table[r[e]].node);return e.fromArray(function(e){return e.reduce(function(e,t){const n=e.length-1>=0?e[e.length-1]:null;return n&&n.mode===t.mode?(e[e.length-1].data+=t.data,e):(e.push(t),e)},[])}(d))},e.rawSplit=function(t){return e.fromArray(u(t,o.isKanjiModeEnabled()))}}(QQ)),QQ}function iX(){if(tX)return iQ;tX=1;const e=rQ(),t=mQ(),n=function(){if(cQ)return lQ;function e(){this.buffer=[],this.length=0}return cQ=1,e.prototype={get:function(e){const t=Math.floor(e/8);return 1==(this.buffer[t]>>>7-e%8&1)},put:function(e,t){for(let n=0;n<t;n++)this.putBit(1==(e>>>t-n-1&1))},getLengthInBits:function(){return this.length},putBit:function(e){const t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}},lQ=e}(),s=function(){if(uQ)return dQ;function e(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}return uQ=1,e.prototype.set=function(e,t,n,s){const i=e*this.size+t;this.data[i]=n,s&&(this.reservedBit[i]=!0)},e.prototype.get=function(e,t){return this.data[e*this.size+t]},e.prototype.xor=function(e,t,n){this.data[e*this.size+t]^=n},e.prototype.isReserved=function(e,t){return this.reservedBit[e*this.size+t]},dQ=e}(),i=(hQ||(hQ=1,function(e){const t=rQ().getSymbolSize;e.getRowColCoords=function(e){if(1===e)return[];const n=Math.floor(e/7)+2,s=t(e),i=145===s?26:2*Math.ceil((s-13)/(2*n-2)),a=[s-7];for(let t=1;t<n-1;t++)a[t]=a[t-1]-i;return a.push(6),a.reverse()},e.getPositions=function(t){const n=[],s=e.getRowColCoords(t),i=s.length;for(let e=0;e<i;e++)for(let t=0;t<i;t++)0===e&&0===t||0===e&&t===i-1||e===i-1&&0===t||n.push([s[e],s[t]]);return n}}(xQ)),xQ),a=function(){if(fQ)return gQ;fQ=1;const e=rQ().getSymbolSize;return gQ.getPositions=function(t){const n=e(t);return[[0,0],[n-7,0],[0,n-7]]},gQ}(),r=(vQ||(vQ=1,function(e){e.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const t=3,n=3,s=40,i=10;function a(t,n,s){switch(t){case e.Patterns.PATTERN000:return(n+s)%2==0;case e.Patterns.PATTERN001:return n%2==0;case e.Patterns.PATTERN010:return s%3==0;case e.Patterns.PATTERN011:return(n+s)%3==0;case e.Patterns.PATTERN100:return(Math.floor(n/2)+Math.floor(s/3))%2==0;case e.Patterns.PATTERN101:return n*s%2+n*s%3==0;case e.Patterns.PATTERN110:return(n*s%2+n*s%3)%2==0;case e.Patterns.PATTERN111:return(n*s%3+(n+s)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}}e.isValid=function(e){return null!=e&&""!==e&&!isNaN(e)&&e>=0&&e<=7},e.from=function(t){return e.isValid(t)?parseInt(t,10):void 0},e.getPenaltyN1=function(e){const n=e.size;let s=0,i=0,a=0,r=null,o=null;for(let l=0;l<n;l++){i=a=0,r=o=null;for(let c=0;c<n;c++){let n=e.get(l,c);n===r?i++:(i>=5&&(s+=t+(i-5)),r=n,i=1),n=e.get(c,l),n===o?a++:(a>=5&&(s+=t+(a-5)),o=n,a=1)}i>=5&&(s+=t+(i-5)),a>=5&&(s+=t+(a-5))}return s},e.getPenaltyN2=function(e){const t=e.size;let s=0;for(let n=0;n<t-1;n++)for(let i=0;i<t-1;i++){const t=e.get(n,i)+e.get(n,i+1)+e.get(n+1,i)+e.get(n+1,i+1);4!==t&&0!==t||s++}return s*n},e.getPenaltyN3=function(e){const t=e.size;let n=0,i=0,a=0;for(let s=0;s<t;s++){i=a=0;for(let r=0;r<t;r++)i=i<<1&2047|e.get(s,r),r>=10&&(1488===i||93===i)&&n++,a=a<<1&2047|e.get(r,s),r>=10&&(1488===a||93===a)&&n++}return n*s},e.getPenaltyN4=function(e){let t=0;const n=e.data.length;for(let s=0;s<n;s++)t+=e.data[s];return Math.abs(Math.ceil(100*t/n/5)-10)*i},e.applyMask=function(e,t){const n=t.size;for(let s=0;s<n;s++)for(let i=0;i<n;i++)t.isReserved(i,s)||t.xor(i,s,a(e,i,s))},e.getBestMask=function(t,n){const s=Object.keys(e.Patterns).length;let i=0,a=1/0;for(let r=0;r<s;r++){n(r),e.applyMask(r,t);const s=e.getPenaltyN1(t)+e.getPenaltyN2(t)+e.getPenaltyN3(t)+e.getPenaltyN4(t);e.applyMask(r,t),s<a&&(a=s,i=r)}return i}}(bQ)),bQ),o=jQ(),l=function(){if(_Q)return FQ;_Q=1;const e=EQ();function t(e){this.genPoly=void 0,this.degree=e,this.degree&&this.initialize(this.degree)}return t.prototype.initialize=function(t){this.degree=t,this.genPoly=e.generateECPolynomial(this.degree)},t.prototype.encode=function(t){if(!this.genPoly)throw new Error("Encoder not initialized");const n=new Uint8Array(t.length+this.degree);n.set(t);const s=e.mod(n,this.genPoly),i=this.degree-s.length;if(i>0){const e=new Uint8Array(this.degree);return e.set(s,i),e}return s},FQ=t}(),c=HQ(),d=function(){if($Q)return UQ;$Q=1;const e=rQ(),t=e.getBCHDigit(1335);return UQ.getEncodedBits=function(n,s){const i=n.bit<<3|s;let a=i<<10;for(;e.getBCHDigit(a)-t>=0;)a^=1335<<e.getBCHDigit(a)-t;return 21522^(i<<10|a)},UQ}(),u=BQ(),p=sX();function m(e,t,n){const s=e.size,i=d.getEncodedBits(t,n);let a,r;for(a=0;a<15;a++)r=1==(i>>a&1),a<6?e.set(a,8,r,!0):a<8?e.set(a+1,8,r,!0):e.set(s-15+a,8,r,!0),a<8?e.set(8,s-a-1,r,!0):a<9?e.set(8,15-a-1+1,r,!0):e.set(8,15-a-1,r,!0);e.set(s-8,8,1,!0)}function h(t,s,i){const a=new n;i.forEach(function(e){a.put(e.mode.bit,4),a.put(e.getLength(),u.getCharCountIndicator(e.mode,t)),e.write(a)});const r=8*(e.getSymbolTotalCodewords(t)-o.getTotalCodewordsCount(t,s));for(a.getLengthInBits()+4<=r&&a.put(0,4);a.getLengthInBits()%8!=0;)a.putBit(0);const c=(r-a.getLengthInBits())/8;for(let e=0;e<c;e++)a.put(e%2?17:236,8);return function(t,n,s){const i=e.getSymbolTotalCodewords(n),a=o.getTotalCodewordsCount(n,s),r=i-a,c=o.getBlocksCount(n,s),d=i%c,u=c-d,p=Math.floor(i/c),m=Math.floor(r/c),h=m+1,x=p-m,f=new l(x);let g=0;const v=new Array(c),b=new Array(c);let y=0;const w=new Uint8Array(t.buffer);for(let e=0;e<c;e++){const t=e<u?m:h;v[e]=w.slice(g,g+t),b[e]=f.encode(v[e]),g+=t,y=Math.max(y,t)}const j=new Uint8Array(i);let C,N,F=0;for(C=0;C<y;C++)for(N=0;N<c;N++)C<v[N].length&&(j[F++]=v[N][C]);for(C=0;C<x;C++)for(N=0;N<c;N++)j[F++]=b[N][C];return j}(a,t,s)}function x(t,n,o,l){let d;if(Array.isArray(t))d=p.fromArray(t);else{if("string"!=typeof t)throw new Error("Invalid data");{let e=n;if(!e){const n=p.rawSplit(t);e=c.getBestVersionForData(n,o)}d=p.fromString(t,e||40)}}const u=c.getBestVersionForData(d,o);if(!u)throw new Error("The amount of data is too big to be stored in a QR Code");if(n){if(n<u)throw new Error("\nThe chosen QR Code version cannot contain this amount of data.\nMinimum version required to store current data is: "+u+".\n")}else n=u;const x=h(n,o,d),f=e.getSymbolSize(n),g=new s(f);return function(e,t){const n=e.size,s=a.getPositions(t);for(let i=0;i<s.length;i++){const t=s[i][0],a=s[i][1];for(let s=-1;s<=7;s++)if(!(t+s<=-1||n<=t+s))for(let i=-1;i<=7;i++)a+i<=-1||n<=a+i||(s>=0&&s<=6&&(0===i||6===i)||i>=0&&i<=6&&(0===s||6===s)||s>=2&&s<=4&&i>=2&&i<=4?e.set(t+s,a+i,!0,!0):e.set(t+s,a+i,!1,!0))}}(g,n),function(e){const t=e.size;for(let n=8;n<t-8;n++){const t=n%2==0;e.set(n,6,t,!0),e.set(6,n,t,!0)}}(g),function(e,t){const n=i.getPositions(t);for(let s=0;s<n.length;s++){const t=n[s][0],i=n[s][1];for(let n=-2;n<=2;n++)for(let s=-2;s<=2;s++)-2===n||2===n||-2===s||2===s||0===n&&0===s?e.set(t+n,i+s,!0,!0):e.set(t+n,i+s,!1,!0)}}(g,n),m(g,o,0),n>=7&&function(e,t){const n=e.size,s=c.getEncodedBits(t);let i,a,r;for(let o=0;o<18;o++)i=Math.floor(o/3),a=o%3+n-8-3,r=1==(s>>o&1),e.set(i,a,r,!0),e.set(a,i,r,!0)}(g,n),function(e,t){const n=e.size;let s=-1,i=n-1,a=7,r=0;for(let o=n-1;o>0;o-=2)for(6===o&&o--;;){for(let n=0;n<2;n++)if(!e.isReserved(i,o-n)){let s=!1;r<t.length&&(s=1==(t[r]>>>a&1)),e.set(i,o-n,s),a--,-1===a&&(r++,a=7)}if(i+=s,i<0||n<=i){i-=s,s=-s;break}}}(g,x),isNaN(l)&&(l=r.getBestMask(g,m.bind(null,g,o))),r.applyMask(l,g),m(g,o,l),{modules:g,version:n,errorCorrectionLevel:o,maskPattern:l,segments:d}}return iQ.create=function(n,s){if(void 0===n||""===n)throw new Error("No input text");let i,a,o=t.M;return void 0!==s&&(o=t.from(s.errorCorrectionLevel,t.M),i=c.from(s.version),a=r.from(s.maskPattern),s.toSJISFunc&&e.setToSJISFunction(s.toSJISFunc)),x(n,i,o,a)},iQ}var aX,rX,oX={},lX={};function cX(){return aX||(aX=1,function(e){function t(e){if("number"==typeof e&&(e=e.toString()),"string"!=typeof e)throw new Error("Color should be defined as hex string");let t=e.slice().replace("#","").split("");if(t.length<3||5===t.length||t.length>8)throw new Error("Invalid hex color: "+e);3!==t.length&&4!==t.length||(t=Array.prototype.concat.apply([],t.map(function(e){return[e,e]}))),6===t.length&&t.push("F","F");const n=parseInt(t.join(""),16);return{r:n>>24&255,g:n>>16&255,b:n>>8&255,a:255&n,hex:"#"+t.slice(0,6).join("")}}e.getOptions=function(e){e||(e={}),e.color||(e.color={});const n=void 0===e.margin||null===e.margin||e.margin<0?4:e.margin,s=e.width&&e.width>=21?e.width:void 0,i=e.scale||4;return{width:s,scale:s?4:i,margin:n,color:{dark:t(e.color.dark||"#000000ff"),light:t(e.color.light||"#ffffffff")},type:e.type,rendererOpts:e.rendererOpts||{}}},e.getScale=function(e,t){return t.width&&t.width>=e+2*t.margin?t.width/(e+2*t.margin):t.scale},e.getImageWidth=function(t,n){const s=e.getScale(t,n);return Math.floor((t+2*n.margin)*s)},e.qrToImageData=function(t,n,s){const i=n.modules.size,a=n.modules.data,r=e.getScale(i,s),o=Math.floor((i+2*s.margin)*r),l=s.margin*r,c=[s.color.light,s.color.dark];for(let e=0;e<o;e++)for(let n=0;n<o;n++){let d=4*(e*o+n),u=s.color.light;if(e>=l&&n>=l&&e<o-l&&n<o-l){u=c[a[Math.floor((e-l)/r)*i+Math.floor((n-l)/r)]?1:0]}t[d++]=u.r,t[d++]=u.g,t[d++]=u.b,t[d]=u.a}}}(lX)),lX}function dX(){return rX||(rX=1,function(e){const t=cX();e.render=function(e,n,s){let i=s,a=n;void 0!==i||n&&n.getContext||(i=n,n=void 0),n||(a=function(){try{return document.createElement("canvas")}catch(e){throw new Error("You need to specify a canvas element")}}()),i=t.getOptions(i);const r=t.getImageWidth(e.modules.size,i),o=a.getContext("2d"),l=o.createImageData(r,r);return t.qrToImageData(l.data,e,i),function(e,t,n){e.clearRect(0,0,t.width,t.height),t.style||(t.style={}),t.height=n,t.width=n,t.style.height=n+"px",t.style.width=n+"px"}(o,a,r),o.putImageData(l,0,0),a},e.renderToDataURL=function(t,n,s){let i=s;void 0!==i||n&&n.getContext||(i=n,n=void 0),i||(i={});const a=e.render(t,n,i),r=i.type||"image/png",o=i.rendererOpts||{};return a.toDataURL(r,o.quality)}}(oX)),oX}var uX,pX,mX={};function hX(){if(uX)return mX;uX=1;const e=cX();function t(e,t){const n=e.a/255,s=t+'="'+e.hex+'"';return n<1?s+" "+t+'-opacity="'+n.toFixed(2).slice(1)+'"':s}function n(e,t,n){let s=e+t;return void 0!==n&&(s+=" "+n),s}return mX.render=function(s,i,a){const r=e.getOptions(i),o=s.modules.size,l=s.modules.data,c=o+2*r.margin,d=r.color.light.a?"<path "+t(r.color.light,"fill")+' d="M0 0h'+c+"v"+c+'H0z"/>':"",u="<path "+t(r.color.dark,"stroke")+' d="'+function(e,t,s){let i="",a=0,r=!1,o=0;for(let l=0;l<e.length;l++){const c=Math.floor(l%t),d=Math.floor(l/t);c||r||(r=!0),e[l]?(o++,l>0&&c>0&&e[l-1]||(i+=r?n("M",c+s,.5+d+s):n("m",a,0),a=0,r=!1),c+1<t&&e[l+1]||(i+=n("h",o),o=0)):a++}return i}(l,o,r.margin)+'"/>',p='viewBox="0 0 '+c+" "+c+'"',m='<svg xmlns="http://www.w3.org/2000/svg" '+(r.width?'width="'+r.width+'" height="'+r.width+'" ':"")+p+' shape-rendering="crispEdges">'+d+u+"</svg>\n";return"function"==typeof a&&a(null,m),m},mX}const xX=Te(function(){if(pX)return nQ;pX=1;const e=tQ?eQ:(tQ=1,eQ=function(){return"function"==typeof Promise&&Promise.prototype&&Promise.prototype.then}),t=iX(),n=dX(),s=hX();function i(n,s,i,a,r){const o=[].slice.call(arguments,1),l=o.length,c="function"==typeof o[l-1];if(!c&&!e())throw new Error("Callback required as last argument");if(!c){if(l<1)throw new Error("Too few arguments provided");return 1===l?(i=s,s=a=void 0):2!==l||s.getContext||(a=i,i=s,s=void 0),new Promise(function(e,r){try{const r=t.create(i,a);e(n(r,s,a))}catch(o){r(o)}})}if(l<2)throw new Error("Too few arguments provided");2===l?(r=i,i=s,s=a=void 0):3===l&&(s.getContext&&void 0===r?(r=a,a=void 0):(r=a,a=i,i=s,s=void 0));try{const e=t.create(i,a);r(null,n(e,s,a))}catch(d){r(d)}}return nQ.create=t.create,nQ.toCanvas=i.bind(null,n.render),nQ.toDataURL=i.bind(null,n.renderToDataURL),nQ.toString=i.bind(null,function(e,t,n){return s.render(e,n)}),nQ}()),fX=({width:e=16,height:t=16,fill:s="black",className:i=""})=>n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:t,viewBox:"0 0 16 16",fill:"none",className:i,children:n.jsx("path",{d:"M7.99998 15.3333C8.73332 15.3333 9.32665 14.74 9.32665 14.0067H6.67332C6.67332 14.74 7.26665 15.3333 7.99998 15.3333ZM13.5267 12.1933L12.6667 11.3333V7.33333C12.6667 5.1 11.0933 3.23333 8.99998 2.78V2C8.99998 1.44667 8.55332 1 7.99998 1C7.44665 1 6.99998 1.44667 6.99998 2V2.78C4.90665 3.23333 3.33332 5.1 3.33332 7.33333V11.3333L2.47332 12.1933C2.05332 12.6133 2.34665 13.3333 2.93998 13.3333H13.0533C13.6533 13.3333 13.9467 12.6133 13.5267 12.1933ZM8.66665 10.6667H7.33332V9.33333H8.66665V10.6667ZM8.66665 7.33333C8.66665 7.7 8.36665 8 7.99998 8C7.63332 8 7.33332 7.7 7.33332 7.33333V6C7.33332 5.63333 7.63332 5.33333 7.99998 5.33333C8.36665 5.33333 8.66665 5.63333 8.66665 6V7.33333Z",fill:s})}),gX=({width:e=16,height:t=16,fill:s="black",className:i="",opacity:a=.8})=>{const r=`mask_${Math.random().toString(36).substr(2,9)}`;return n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:t,viewBox:"0 0 16 16",fill:"none",className:i,children:n.jsxs("g",{opacity:a,children:[n.jsx("mask",{id:r,style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"16",height:"16",children:n.jsx("rect",{width:"16",height:"16",fill:"#D9D9D9"})}),n.jsx("g",{mask:`url(#${r})`,children:n.jsx("path",{d:"M6.3333 10.4333H9.66663V9.43332H7.79996L9.66663 7.33332V6.43332H6.3333V7.43332H8.2333L6.3333 9.56665V10.4333ZM7.99996 14.6666C7.16663 14.6666 6.38608 14.5083 5.6583 14.1916C4.93052 13.875 4.29719 13.4472 3.7583 12.9083C3.21941 12.3694 2.79163 11.7361 2.47496 11.0083C2.1583 10.2805 1.99996 9.49998 1.99996 8.66665C1.99996 7.83332 2.1583 7.05276 2.47496 6.32498C2.79163 5.59721 3.21941 4.96387 3.7583 4.42498C4.29719 3.88609 4.93052 3.45832 5.6583 3.14165C6.38608 2.82498 7.16663 2.66665 7.99996 2.66665C8.8333 2.66665 9.61385 2.82498 10.3416 3.14165C11.0694 3.45832 11.7027 3.88609 12.2416 4.42498C12.7805 4.96387 13.2083 5.59721 13.525 6.32498C13.8416 7.05276 14 7.83332 14 8.66665C14 9.49998 13.8416 10.2805 13.525 11.0083C13.2083 11.7361 12.7805 12.3694 12.2416 12.9083C11.7027 13.4472 11.0694 13.875 10.3416 14.1916C9.61385 14.5083 8.8333 14.6666 7.99996 14.6666ZM3.7333 1.56665L4.66663 2.49998L1.8333 5.33332L0.899963 4.39998L3.7333 1.56665ZM12.2666 1.56665L15.1 4.39998L14.1666 5.33332L11.3333 2.49998L12.2666 1.56665ZM7.99996 13.3333C9.29996 13.3333 10.4027 12.8805 11.3083 11.975C12.2139 11.0694 12.6666 9.96665 12.6666 8.66665C12.6666 7.36665 12.2139 6.26387 11.3083 5.35832C10.4027 4.45276 9.29996 3.99998 7.99996 3.99998C6.69996 3.99998 5.59719 4.45276 4.69163 5.35832C3.78607 6.26387 3.3333 7.36665 3.3333 8.66665C3.3333 9.96665 3.78607 11.0694 4.69163 11.975C5.59719 12.8805 6.69996 13.3333 7.99996 13.3333Z",fill:s})})]})})};function vX({qrCodeUrl:e,onUpdated:t,onLater:s}){const[i,a]=De.useState(""),[r,o]=De.useState(!1);return De.useEffect(()=>{e&&(o(!0),xX.toDataURL(e,{width:100,margin:1,color:{dark:"#000000",light:"#FFFFFF"}}).then(e=>{a(e)}).catch(e=>{}).finally(()=>{o(!1)}))},[e]),n.jsx(TE,{side:"bottom",className:"bg-white text-black border-0 [filter:drop-shadow(0_0_20px_rgba(0,0,0,0.15))] max-w-xl p-0 overflow-hidden rounded-lg",style:{fontWeight:500},children:n.jsxs("div",{className:"flex items-start gap-6 p-2",children:[n.jsxs("div",{className:"flex-1 space-y-1 p-1",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(fX,{className:"w-4 h-4",fill:"#000000"}),n.jsx("span",{className:"text-black font-semibold text-sm",children:"Important"})]}),n.jsxs("p",{className:"text-gray-700 text-xs leading-relaxed",children:["We've upgraded to ",n.jsx("span",{className:"font-semibold",children:"Expo v54.0.0."})," for better performance. Update your Expo Go app to continue previewing."]}),n.jsxs("div",{className:"flex gap-3 pt-2",children:[n.jsx("button",{onClick:t,className:"bg-[#0098FE] hover:bg-[#0098FE] text-white font-semibold px-[6px] py-2 rounded-[6px] transition-colors duration-200 text-xs",children:"I have updated the Expo app"}),n.jsxs("button",{onClick:s,className:"bg-[#000]/10 hover:bg-[#000]/10 text-black font-semibold px-[6px] py-2 rounded-[6px] transition-colors duration-200 flex items-center justify-center gap-2 text-xs",children:[n.jsx(gX,{className:"w-4 h-4",fill:"#000"}),"I'll do it later"]})]})]}),n.jsx("div",{className:"flex-shrink-0",children:n.jsx("div",{className:"bg-white p-3 rounded-xl border border-gray-200",children:r?n.jsx("div",{className:"w-[96px] h-[96px] flex items-center justify-center bg-gray-100 rounded-lg",children:n.jsx("div",{className:"text-gray-500 text-xs",children:"Loading..."})}):i?n.jsx("img",{src:i,alt:"QR Code for Expo update",className:"w-[96px] h-[96px] rounded-lg"}):n.jsx("div",{className:"w-[96px] h-[96px] flex items-center justify-center bg-gray-100 rounded-lg",children:n.jsx("div",{className:"text-gray-500 text-xs text-center",children:"Failed to generate QR code"})})})})]})})}const bX=()=>{const[e,t]=De.useState(!1),[n]=Dx();return{isDownloading:e,handleDownload:async s=>{if(s&&!e){t(!0);try{const e=await n(s).unwrap();if(null==e?void 0:e.download_url){const t=e.file_name||`code-backup-${s}.tar.gz`;await f$(e.download_url,t)}}catch(i){}finally{t(!1)}}}}},yX=({children:e,className:t="",title:s="preview",maxWidth:i="400px",aspectRatio:a="9/19.5"})=>n.jsx("div",{className:`relative w-full h-full ${t}`,style:{maxWidth:i,aspectRatio:a},children:n.jsxs("svg",{width:"100%",height:"100%",viewBox:"0 0 427 881",fill:"none",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMid meet",filter:"url(#shadow)",className:"w-full h-full",children:[n.jsxs("g",{clipPath:"url(#clip0_2905_1090)",children:[n.jsx("rect",{width:"426.667",height:"880.667",rx:"70",fill:"black"}),n.jsx("rect",{x:"3.83268",y:"3.83366",width:"419",height:"873",rx:"66.1667",className:"stroke-[#dcdcdf] dark:stroke-[#454548]",strokeWidth:"4.33333"}),n.jsx("rect",{x:"0.833333",y:"0.833333",width:"425",height:"879",rx:"69.1667",className:"stroke-[#c1c2c4] dark:stroke-[#37373a]",strokeWidth:"1.66667"}),n.jsx("g",{opacity:"0.9",filter:"url(#filter0_f_2905_1090)",children:n.jsx("rect",{x:"1.66602",y:"2",width:"423.333",height:"877",rx:"68.6667",className:"stroke-[#b2b2b9] dark:stroke-[#454548]",strokeWidth:"1.66667"})}),n.jsx("g",{opacity:"0.8",filter:"url(#filter1_f_2905_1090)",children:n.jsx("rect",{x:"7.33268",y:"7.33366",width:"412",height:"866",rx:"62.6667",stroke:"#646464",strokeWidth:"0.666667"})}),n.jsx("foreignObject",{x:"18",y:"18",width:"390",height:"844",rx:"55",clipPath:"url(#clip1_2905_1090)",children:n.jsx("div",{className:"size-full pt-[62px] pb-[34px] overflow-hidden rounded-[55.75px] object-contain bg-white",children:e})}),n.jsx("rect",{width:"139",height:"5",rx:"2.5",transform:"matrix(-1 0 0 1 284 849)",className:"fill-[black] dark:fill-[#ffffffa2]"}),n.jsx("path",{d:"M73.7471 43.5257C76.5938 43.5257 78.966 45.522 78.966 50.0516V50.0695C78.966 54.3395 76.9876 56.8908 73.6934 56.8908C71.3032 56.8908 69.5129 55.5122 69.11 53.5607L69.0921 53.4622H71.3838L71.4106 53.5428C71.7598 54.429 72.5475 55.002 73.7023 55.002C75.7791 55.002 76.6475 53.0146 76.737 50.5708C76.7459 50.4365 76.7549 50.3022 76.7549 50.159H76.7012C76.1909 51.3407 74.9019 52.2358 73.1563 52.2358C70.6676 52.2358 68.9131 50.4455 68.9131 48.0195V48.0016C68.9131 45.3966 70.9631 43.5257 73.7471 43.5257ZM73.7471 50.4544C75.2241 50.4544 76.3521 49.416 76.3521 47.9748V47.9658C76.3521 46.5335 75.2241 45.4146 73.7739 45.4146C72.3416 45.4146 71.1868 46.5246 71.1868 47.9211V47.939C71.1868 49.4071 72.279 50.4544 73.7471 50.4544ZM81.8485 48.2165C81.1234 48.2165 80.5505 47.6436 80.5505 46.9185C80.5505 46.1934 81.1234 45.6294 81.8485 45.6294C82.5736 45.6294 83.1375 46.1934 83.1375 46.9185C83.1375 47.6436 82.5736 48.2165 81.8485 48.2165ZM81.8485 54.7871C81.1234 54.7871 80.5505 54.2142 80.5505 53.4891C80.5505 52.764 81.1234 52.2 81.8485 52.2C82.5736 52.2 83.1375 52.764 83.1375 53.4891C83.1375 54.2142 82.5736 54.7871 81.8485 54.7871ZM91.0778 56.667V54.1873H84.6325V52.2179L89.9946 43.7495H93.2799V52.2896H95.0345V54.1873H93.2799V56.667H91.0778ZM86.7093 52.3433H91.1136V45.4951H91.0599L86.7093 52.2806V52.3433ZM99.7163 56.667V45.9517H99.6626L96.3236 48.2433V46.1217L99.6984 43.7495H101.981V56.667H99.7163Z",className:"fill-[black]"}),n.jsxs("g",{opacity:"0.9",children:[n.jsx("rect",{x:"297.333",y:"50",width:"3.33333",height:"4",rx:"0.333333",className:"fill-[black]"}),n.jsx("rect",{x:"302",y:"48",width:"3.33333",height:"6",rx:"0.333333",className:"fill-[black]"}),n.jsx("rect",{x:"307",y:"45.667",width:"3.33333",height:"8.33333",rx:"0.333333",className:"fill-[black]"}),n.jsx("rect",{x:"311.666",y:"43",width:"3.33333",height:"11",rx:"0.333333",className:"fill-[black]"})]}),n.jsxs("g",{opacity:"0.9",children:[n.jsx("path",{d:"M341.382 45.8776C339.208 43.6888 336.196 42.3335 332.867 42.3335C329.528 42.3335 326.508 43.6969 324.333 45.8974L326.219 47.7831C327.911 46.0652 330.265 45.0002 332.867 45.0002C335.459 45.0002 337.805 46.057 339.496 47.7633L341.382 45.8776Z",className:"fill-[black]"}),n.jsx("path",{d:"M338.318 48.9418C336.928 47.5371 334.999 46.6668 332.867 46.6668C330.725 46.6668 328.788 47.5453 327.397 48.9616L329.283 50.8474C330.191 49.9136 331.462 49.3335 332.867 49.3335C334.263 49.3335 335.525 49.9053 336.432 50.8275L338.318 48.9418Z",className:"fill-[black]"}),n.jsx("path",{d:"M335.253 52.006C334.648 51.3855 333.803 51.0002 332.867 51.0002C331.922 51.0002 331.068 51.3938 330.462 52.0261L332.847 54.412L335.253 52.006Z",className:"fill-[black]"})]}),n.jsx("rect",{opacity:"0.6",x:"351.166",y:"43.167",width:"22.3333",height:"10.6667",rx:"2.16667",className:"stroke-[black] dark:stroke-[white]"}),n.jsx("rect",{opacity:"0.9",x:"352.333",y:"44.3335",width:"20",height:"8.33333",rx:"1.33333",className:"fill-[black]"}),n.jsx("path",{opacity:"0.6",d:"M374.666 47V47C375.402 47 375.999 47.597 375.999 48.3333V48.6667C375.999 49.403 375.402 50 374.666 50V50V47Z",className:"fill-[black]"}),n.jsx("rect",{x:"151.666",y:"31.667",width:"123.333",height:"36",rx:"18",fill:"black"}),n.jsxs("g",{opacity:"0.75",children:[n.jsx("rect",{x:"241.999",y:"41.3338",width:"16.6667",height:"16.6667",rx:"8.33333",fill:"#121212"}),n.jsx("rect",{x:"241.999",y:"41.3338",width:"16.6667",height:"16.6667",rx:"8.33333",stroke:"#0E0E0E",strokeWidth:"0.666667"}),n.jsx("g",{filter:"url(#filter2_f_2905_1090)",children:n.jsx("path",{d:"M248.476 45.9526C245.66 46.778 244.722 51.5241 248.476 53.3812C247.538 50.905 247.538 48.6352 248.476 45.9526Z",fill:"#50A99A"})}),n.jsx("g",{filter:"url(#filter3_f_2905_1090)",children:n.jsx("path",{d:"M247.857 47.667C246.449 48.1114 245.98 50.667 247.857 51.667C247.388 50.3337 247.388 49.1114 247.857 47.667Z",fill:"#50A99A"})}),n.jsx("g",{opacity:"0.4",filter:"url(#filter4_f_2905_1090)",children:n.jsx("path",{d:"M248.436 47.0219C247.23 47.2038 246.348 50.5423 247.805 51.4287C247.289 50.2382 247.547 47.8573 248.436 47.0219Z",fill:"#D0FFF7"})}),n.jsx("g",{filter:"url(#filter5_f_2905_1090)",children:n.jsx("path",{d:"M252.19 45.9526C255.006 46.778 255.944 51.5241 252.19 53.3812C253.128 50.905 253.128 48.6352 252.19 45.9526Z",fill:"#3E518C"})}),n.jsx("g",{filter:"url(#filter6_f_2905_1090)",children:n.jsx("path",{d:"M252.809 47.667C254.217 48.1114 254.686 50.667 252.809 51.667C253.278 50.3337 253.278 49.1114 252.809 47.667Z",fill:"#26408D"})}),n.jsx("g",{opacity:"0.5",filter:"url(#filter7_f_2905_1090)",children:n.jsx("path",{d:"M252.23 47.0219C253.437 47.2038 254.318 50.5423 252.861 51.4287C253.377 50.2382 253.119 47.8573 252.23 47.0219Z",fill:"#0D308C"})})]}),n.jsxs("g",{opacity:"0.4",children:[n.jsx("rect",{width:"24",height:"24",rx:"12",transform:"matrix(-1 0 0 1 181.666 37.667)",fill:"#141414"}),n.jsx("rect",{width:"15.6",height:"15.6",rx:"7.8",transform:"matrix(-1 0 0 1 177.466 41.8672)",fill:"black"}),n.jsx("g",{filter:"url(#filter8_f_2905_1090)",children:n.jsx("path",{d:"M172.006 44.9868C175.554 46.0268 176.736 52.0068 172.006 54.3468C173.189 51.2268 173.189 48.3668 172.006 44.9868Z",fill:"#50A99A"})}),n.jsx("g",{filter:"url(#filter9_f_2905_1090)",children:n.jsx("path",{d:"M172.786 47.147C174.56 47.707 175.151 50.927 172.786 52.187C173.377 50.507 173.377 48.967 172.786 47.147Z",fill:"#50A99A"})}),n.jsx("g",{opacity:"0.5",filter:"url(#filter10_f_2905_1090)",children:n.jsx("path",{d:"M172.056 46.3343C173.576 46.5634 174.687 50.7699 172.851 51.8868C173.501 50.3868 173.176 47.3868 172.056 46.3343Z",fill:"#D0FFF7"})}),n.jsx("g",{filter:"url(#filter11_f_2905_1090)",children:n.jsx("path",{d:"M167.325 44.9868C163.777 46.0268 162.595 52.0068 167.325 54.3468C166.143 51.2268 166.143 48.3668 167.325 44.9868Z",fill:"#3E518C"})}),n.jsx("g",{filter:"url(#filter12_f_2905_1090)",children:n.jsx("path",{d:"M166.545 47.147C164.771 47.707 164.180 50.927 166.545 52.187C165.954 50.507 165.954 48.967 166.545 47.147Z",fill:"#26408D"})}),n.jsx("g",{opacity:"0.5",filter:"url(#filter13_f_2905_1090)",children:n.jsx("path",{d:"M167.275 46.3343C165.755 46.5634 164.644 50.7699 166.48 51.8868C165.83 50.3868 166.155 47.3868 167.275 46.3343Z",fill:"#0D308C"})})]}),n.jsxs("g",{opacity:"0.4",children:[n.jsx("g",{opacity:"0.75",style:{mixBlendMode:"screen"},children:n.jsx("rect",{x:"-0.000976562",y:"786",width:"6",height:"5.33333",fill:"#7C7C7C"})}),n.jsx("g",{opacity:"0.75",style:{mixBlendMode:"screen"},children:n.jsx("rect",{x:"87.666",y:"874",width:"5.33333",height:"6",fill:"#7C7C7C"})}),n.jsx("g",{opacity:"0.75",style:{mixBlendMode:"screen"},children:n.jsx("rect",{x:"420.666",y:"89.0005",width:"6",height:"5.33333",fill:"#7C7C7C"})}),n.jsx("g",{opacity:"0.75",style:{mixBlendMode:"screen"},children:n.jsx("rect",{x:"-0.000976562",y:"89.0005",width:"6",height:"5.33333",fill:"#7C7C7C"})}),n.jsx("g",{opacity:"0.75",style:{mixBlendMode:"screen"},children:n.jsx("rect",{x:"339.666",y:"0.000488281",width:"5.33333",height:"6",fill:"#7C7C7C"})}),n.jsx("g",{opacity:"0.75",style:{mixBlendMode:"screen"},children:n.jsx("rect",{x:"420.666",y:"785.667",width:"6",height:"5.33333",fill:"#7C7C7C"})})]})]}),n.jsxs("defs",{children:[n.jsx("filter",{id:"shadow",x:"-50%",y:"-50%",width:"200%",height:"200%",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:n.jsx("feDropShadow",{dx:"0",dy:"4",stdDeviation:"8",floodOpacity:"0.1",floodColor:"black"})}),n.jsxs("filter",{id:"filter0_f_2905_1090",x:"-0.166992",y:"0.166504",width:"427",height:"880.667",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[n.jsx("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),n.jsx("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),n.jsx("feGaussianBlur",{stdDeviation:"0.5",result:"effect1_foregroundBlur_2905_1090"})]}),n.jsxs("filter",{id:"filter1_f_2905_1090",x:"6.33236",y:"6.33382",width:"414",height:"868",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[n.jsx("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),n.jsx("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),n.jsx("feGaussianBlur",{stdDeviation:"0.333333",result:"effect1_foregroundBlur_2905_1090"})]}),n.jsxs("filter",{id:"filter2_f_2905_1090",x:"244.143",y:"44.0955",width:"6.19085",height:"11.143",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[n.jsx("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),n.jsx("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),n.jsx("feGaussianBlur",{stdDeviation:"0.928572",result:"effect1_foregroundBlur_2905_1090"})]}),n.jsxs("filter",{id:"filter3_f_2905_1090",x:"244.762",y:"45.8098",width:"4.95257",height:"7.71429",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[n.jsx("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),n.jsx("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),n.jsx("feGaussianBlur",{stdDeviation:"0.928572",result:"effect1_foregroundBlur_2905_1090"})]}),n.jsxs("filter",{id:"filter4_f_2905_1090",x:"245.808",y:"45.7839",width:"3.86682",height:"6.88293",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[n.jsx("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),n.jsx("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),n.jsx("feGaussianBlur",{stdDeviation:"0.619048",result:"effect1_foregroundBlur_2905_1090"})]}),n.jsxs("filter",{id:"filter5_f_2905_1090",x:"250.332",y:"44.0955",width:"6.19085",height:"11.143",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[n.jsx("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),n.jsx("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),n.jsx("feGaussianBlur",{stdDeviation:"0.928572",result:"effect1_foregroundBlur_2905_1090"})]}),n.jsxs("filter",{id:"filter6_f_2905_1090",x:"250.951",y:"45.8098",width:"4.95257",height:"7.71429",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[n.jsx("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),n.jsx("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),n.jsx("feGaussianBlur",{stdDeviation:"0.928572",result:"effect1_foregroundBlur_2905_1090"})]}),n.jsxs("filter",{id:"filter7_f_2905_1090",x:"250.991",y:"45.7839",width:"3.86682",height:"6.88293",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[n.jsx("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),n.jsx("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),n.jsx("feGaussianBlur",{stdDeviation:"0.619048",result:"effect1_foregroundBlur_2905_1090"})]}),n.jsxs("filter",{id:"filter8_f_2905_1090",x:"169.666",y:"42.6468",width:"7.80012",height:"14.0399",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[n.jsx("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),n.jsx("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),n.jsx("feGaussianBlur",{stdDeviation:"1.17",result:"effect1_foregroundBlur_2905_1090"})]}),n.jsxs("filter",{id:"filter9_f_2905_1090",x:"170.446",y:"44.807",width:"6.23957",height:"9.72004",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[n.jsx("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),n.jsx("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),n.jsx("feGaussianBlur",{stdDeviation:"1.17",result:"effect1_foregroundBlur_2905_1090"})]}),n.jsxs("filter",{id:"filter10_f_2905_1090",x:"171.276",y:"45.5545",width:"3.31098",height:"7.11225",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[n.jsx("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),n.jsx("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),n.jsx("feGaussianBlur",{stdDeviation:"0.39",result:"effect1_foregroundBlur_2905_1090"})]}),n.jsxs("filter",{id:"filter11_f_2905_1090",x:"161.865",y:"42.6468",width:"7.80012",height:"14.0399",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[n.jsx("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),n.jsx("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),n.jsx("feGaussianBlur",{stdDeviation:"1.17",result:"effect1_foregroundBlur_2905_1090"})]}),n.jsxs("filter",{id:"filter12_f_2905_1090",x:"162.645",y:"44.807",width:"6.23957",height:"9.72004",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[n.jsx("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),n.jsx("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),n.jsx("feGaussianBlur",{stdDeviation:"1.17",result:"effect1_foregroundBlur_2905_1090"})]}),n.jsxs("filter",{id:"filter13_f_2905_1090",x:"164.744",y:"45.5545",width:"3.31098",height:"7.11225",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[n.jsx("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),n.jsx("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),n.jsx("feGaussianBlur",{stdDeviation:"0.39",result:"effect1_foregroundBlur_2905_1090"})]}),n.jsx("clipPath",{id:"clip0_2905_1090",children:n.jsx("rect",{width:"426.667",height:"880.667",rx:"70",fill:"white"})}),n.jsx("clipPath",{id:"clip1_2905_1090",children:n.jsx("rect",{x:"18",y:"18",width:"390",height:"844",rx:"55",fill:"white"})})]})]})}),wX=({width:e=20,height:t=20,fill:s="#737380",className:i,style:a,onClick:r,"aria-label":o="Refresh icon",focusable:l=!1,viewBox:c="0 0 20 20",spinning:d=!1,...u})=>{const p={...a,...d&&{animation:"spin 1s linear infinite",transformOrigin:"center"}},m=`${i||""} ${d?"refresh-spinning":""}`.trim();return n.jsxs(n.Fragment,{children:[d&&n.jsx("style",{children:"\n            @keyframes spin {\n              from { transform: rotate(0deg); }\n              to { transform: rotate(360deg); }\n            }\n          "}),n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:t,viewBox:c,fill:"none",className:m,style:p,onClick:r,"aria-label":o,focusable:l,...u,children:n.jsx("path",{d:"M10.0418 16.6667C8.18072 16.6667 6.59738 16.0209 5.29183 14.7292C3.98627 13.4375 3.3335 11.8612 3.3335 10V9.85421L2.00016 11.1875L0.833496 10.0209L4.16683 6.68754L7.50016 10.0209L6.3335 11.1875L5.00016 9.85421V10C5.00016 11.3889 5.48975 12.5695 6.46891 13.5417C7.44808 14.5139 8.63905 15 10.0418 15C10.4029 15 10.7571 14.9584 11.1043 14.875C11.4516 14.7917 11.7918 14.6667 12.1252 14.5L13.3752 15.75C12.8474 16.0556 12.3057 16.2848 11.7502 16.4375C11.1946 16.5903 10.6252 16.6667 10.0418 16.6667ZM15.8335 13.3125L12.5002 9.97921L13.6668 8.81254L15.0002 10.1459V10C15.0002 8.61115 14.5106 7.4306 13.5314 6.45837C12.5522 5.48615 11.3613 5.00004 9.9585 5.00004C9.59738 5.00004 9.24322 5.04171 8.896 5.12504C8.54877 5.20837 8.2085 5.33337 7.87516 5.50004L6.62516 4.25004C7.15294 3.94449 7.69461 3.71532 8.25016 3.56254C8.80572 3.40976 9.37516 3.33337 9.9585 3.33337C11.8196 3.33337 13.4029 3.97921 14.7085 5.27087C16.014 6.56254 16.6668 8.13893 16.6668 10V10.1459L18.0002 8.81254L19.1668 9.97921L15.8335 13.3125Z",fill:s})})]})},jX=({color:e="#737380",size:t=20,className:s=""})=>n.jsx("svg",{width:t,height:t,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:s,children:n.jsx("path",{d:"M6.43188 5.13649C6.43193 4.83302 6.5525 4.54199 6.76709 4.3274C6.98168 4.11281 7.27271 3.99223 7.57619 3.99219L14.8596 3.99219C15.1631 3.99223 15.4541 4.11281 15.6687 4.3274C15.8833 4.54199 16.0039 4.83302 16.0039 5.13649V12.4199C15.9987 12.72 15.8758 13.0059 15.6618 13.2163C15.4478 13.4266 15.1597 13.5445 14.8596 13.5445C14.5595 13.5445 14.2714 13.4266 14.0574 13.2163C13.8434 13.0059 13.7205 12.72 13.7153 12.4199L13.6457 7.96893L5.95765 15.657C5.74302 15.8716 5.45192 15.9922 5.14838 15.9922C4.84485 15.9922 4.55375 15.8716 4.33912 15.657C4.12448 15.4423 4.00391 15.1512 4.00391 14.8477C4.00391 14.5442 4.12448 14.2531 4.33912 14.0384L12.0272 6.35039L7.57619 6.2808C7.27271 6.28075 6.98168 6.16018 6.76709 5.94559C6.5525 5.731 6.43193 5.43997 6.43188 5.13649Z",fill:e})}),CX=({width:e=20,height:t=20,fill:s="#DCDCE6",className:i,style:a,...r})=>n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:t,viewBox:"0 0 20 20",fill:"none",className:i,style:a,...r,children:n.jsx("path",{d:"M2.47217 14.7583V10.053C2.47217 9.53319 2.8932 9.11106 3.41301 9.11106C3.93283 9.11106 4.35386 9.53319 4.35386 10.053V14.7583C4.35386 15.008 4.45309 15.248 4.62961 15.4245C4.80612 15.6011 5.04618 15.7003 5.29581 15.7003H14.7076C14.957 15.7003 15.1962 15.6008 15.3727 15.4245C15.5492 15.248 15.6484 15.008 15.6484 14.7583V10.053C15.6484 9.53319 16.0706 9.11106 16.5904 9.11106C17.11 9.11126 17.5312 9.53332 17.5312 10.053V14.7583C17.5312 15.5072 17.2335 16.2263 16.704 16.7558C16.1745 17.2852 15.4563 17.582 14.7076 17.582H5.29581C4.54693 17.582 3.82784 17.2854 3.2983 16.7558C2.76877 16.2263 2.47217 15.5072 2.47217 14.7583ZM9.0603 11.4648V4.79508L7.8437 6.01168L7.77201 6.07675C7.40233 6.3783 6.85701 6.35628 6.5124 6.01168C6.14508 5.64416 6.14508 5.049 6.5124 4.68148L9.33604 1.85783L9.40774 1.79276C9.77742 1.49139 10.3228 1.5133 10.6673 1.85783L13.491 4.68148C13.8581 5.04895 13.8581 5.6442 13.491 6.01168C13.1234 6.37924 12.5273 6.37924 12.1597 6.01168L10.9431 4.79508V11.4648C10.9429 11.9845 10.5208 12.4057 10.0011 12.4057C9.48162 12.4055 9.06049 11.9844 9.0603 11.4648Z",fill:s})}),NX="/app-image.png",FX=3e4,_X=1e4,kX=5,SX=24e5,EX={min:.5,max:3.5},IX={min:100,max:800},AX={MATRIX_FILTER:"sepia(1) hue-rotate(120deg) saturate(1) brightness(1)",LOGO_SCALE:3.5,BUTTON_STYLES:{gradient:{background:"radial-gradient(50% 50% at 50% 50%, rgba(252, 185, 73, 0.15) 0%, rgba(252, 185, 73, 0.08) 100%)",textGradient:"linear-gradient(270deg, #FCB949 40.48%, #E28C37 92.65%)"},white:{background:"radial-gradient(50% 50% at 50% 50%, rgba(255, 255, 255, 0.15) 0%, rgba(255, 255, 255, 0.08) 100%)"}}},TX={loading:{title:"Booting up the preview...",subtitle:"This usually takes around \nplease enjoy these amazing vibe-coded games from our community.",highlight:"3-5 mins"},completed:{title:"Your Preview is Ready!",subtitle:"Your pod has successfully booted up and is ready to explore."},buttons:{openEmergent:"Open Emergent",needHelp:"Need Help?",exploreGames:"Explore Games",launchApp:"Launch App",goBack:"Go Back"},sheet:{gameTitle:"Play Games from Our Creators"}},DX=gv.fork.matrixCode,MX=()=>n.jsx("div",{className:"absolute top-0 bottom-0 left-0 grid w-full h-full grid-cols-3 pointer-events-none z-[1] opacity-[0.2] overflow-hidden",children:Array.from({length:6}).map((e,t)=>n.jsx("img",{src:DX,alt:"Matrix Code",className:"object-cover w-full h-full",style:{filter:AX.MATRIX_FILTER}},t))}),LX=({className:e,children:t,showRadialGradient:s=!0,...i})=>n.jsx("main",{children:n.jsxs("div",{className:fb("relative flex flex-col h-[90dvh] items-center justify-center bg-zinc-50 dark:bg-zinc-900 text-slate-950 transition-bg",e),...i,children:[n.jsx("div",{className:"absolute inset-0 overflow-hidden opacity-20",children:n.jsx("div",{className:fb('\n            [--white-gradient:repeating-linear-gradient(100deg,var(--white)_0%,var(--white)_7%,var(--transparent)_10%,var(--transparent)_12%,var(--white)_16%)]\n            [--dark-gradient:repeating-linear-gradient(100deg,var(--black)_0%,var(--black)_7%,var(--transparent)_10%,var(--transparent)_12%,var(--black)_16%)]\n            [--aurora:repeating-linear-gradient(100deg,var(--blue-500)_10%,var(--indigo-300)_15%,var(--blue-300)_20%,var(--violet-200)_25%,var(--blue-400)_30%)]\n            [background-image:var(--white-gradient),var(--aurora)]\n            dark:[background-image:var(--dark-gradient),var(--aurora)]\n            [background-size:300%,_200%]\n            [background-position:50%_50%,50%_50%]\n            filter blur-[10px] invert dark:invert-0\n            after:content-[""] after:absolute after:inset-0 after:[background-image:var(--white-gradient),var(--aurora)] \n            after:dark:[background-image:var(--dark-gradient),var(--aurora)]\n            after:[background-size:200%,_100%] \n            after:animate-aurora after:[background-attachment:fixed] after:mix-blend-difference\n            pointer-events-none\n            absolute -inset-[10px] opacity-50 will-change-transform ',s&&"[mask-image:radial-gradient(ellipse_at_100%_0%,black_10%,var(--transparent)_70%)]")})}),t]})}),PX=({width:e=24,height:t=24,className:s="",fill:i="white",accentFill:a="#80FFF9"})=>n.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:t,viewBox:"0 0 24 24",fill:"none",className:s,children:[n.jsx("path",{d:"M13.6035 19.1602C13.9858 19.159 14.3142 19.4476 14.3549 19.836C14.3981 20.2502 14.0978 20.6213 13.6836 20.6647L13.2637 20.7025C12.4237 20.7683 11.5798 20.7683 10.7398 20.7025L10.3208 20.6647L10.2444 20.6528C9.87014 20.5748 9.60815 20.2244 9.64866 19.836C9.68933 19.4474 10.0184 19.1588 10.401 19.1602L10.4774 19.1638L10.8577 19.1988C11.7461 19.2685 12.6393 19.2567 13.5261 19.1638L13.6035 19.1602Z",fill:i}),n.jsx("path",{d:"M13.9993 16.8075C14.3804 16.7745 14.7324 17.035 14.805 17.4189C14.8822 17.8281 14.6129 18.2226 14.2037 18.3001L13.6531 18.3913C12.549 18.547 11.4284 18.5471 10.3244 18.3913L9.77467 18.3001L9.69917 18.2817C9.33282 18.173 9.10096 17.8025 9.17339 17.4189C9.24599 17.0352 9.59732 16.7748 9.97817 16.8075L10.0546 16.8176L10.5353 16.8968C11.6601 17.0556 12.8045 17.0292 13.9229 16.8176L13.9993 16.8075Z",fill:i}),n.jsx("path",{d:"M12.0031 2.75C13.5584 2.75004 15.074 3.24191 16.3143 4.15514C17.5552 5.06877 18.453 6.35488 18.8622 7.81717L18.9331 8.09248C19.2349 9.38133 19.1445 10.7269 18.6725 11.9663L18.5648 12.2296C17.9635 13.6272 16.9018 14.7888 15.551 15.5399L15.1688 14.8521L14.7858 14.1642C15.8406 13.5777 16.6581 12.6766 17.1182 11.6072L17.2001 11.4055C17.5607 10.4588 17.63 9.43376 17.3999 8.4516L17.3456 8.24165C17.0335 7.12634 16.3455 6.13455 15.3806 5.424C14.4151 4.7131 13.2278 4.32461 12.0031 4.32457C10.8549 4.32457 9.73948 4.66563 8.80887 5.29417L8.62563 5.424C7.66061 6.13457 6.97181 7.12627 6.65972 8.24165C6.3479 9.3564 6.42755 10.5386 6.88716 11.6072L6.9774 11.8061C7.41857 12.7228 8.12787 13.503 9.02434 14.0501L9.21955 14.1642L9.28769 14.2066C9.61528 14.4347 9.7234 14.8788 9.52525 15.2351C9.32713 15.5911 8.89351 15.7333 8.52711 15.5758L8.45436 15.5399L8.20483 15.3944C7.05503 14.6929 6.13431 13.6858 5.55845 12.4893L5.44058 12.2296C4.83916 10.8315 4.73482 9.27988 5.14409 7.81717C5.55325 6.35486 6.45104 5.06876 7.69194 4.15514L7.92767 3.9894C9.12193 3.18276 10.545 2.75 12.0031 2.75ZM15.551 15.5399C15.1711 15.751 14.6924 15.6147 14.481 15.2351C14.2698 14.8553 14.4061 14.3757 14.7858 14.1642L15.551 15.5399Z",fill:a}),n.jsx("path",{d:"M11.9875 6.89174C12.2827 6.6231 12.7393 6.61669 13.0427 6.88898C13.3661 7.17943 13.3929 7.67685 13.1026 8.00039L12.1588 9.05194L12.8402 9.17625H12.8392C13.0002 9.20547 13.1525 9.2681 13.2867 9.35949L13.4147 9.45986L13.5271 9.57772C13.6308 9.70257 13.7083 9.84818 13.7527 10.0059H13.7517C13.811 10.2159 13.8095 10.4374 13.749 10.6458L13.7499 10.6468C13.6888 10.857 13.569 11.045 13.4064 11.19V11.191L11.6256 12.7766L11.563 12.8272C11.2398 13.0612 10.7854 13.0174 10.5142 12.713C10.225 12.3884 10.2542 11.8909 10.5787 11.6016L11.7306 10.574L11.1542 10.47H11.1532V10.4691C11.0009 10.441 10.8558 10.3838 10.7269 10.2996L10.6035 10.2066C10.4861 10.1054 10.3905 9.98171 10.3218 9.84383L10.2619 9.70111C10.195 9.50562 10.1814 9.29586 10.2223 9.09338L10.2628 8.94421C10.3131 8.79854 10.3924 8.66396 10.4958 8.54826L10.4967 8.54734L11.9304 6.94883L11.9875 6.89174Z",fill:a})]}),RX=({width:e=24,height:t=24,fill:s="white",className:i=""})=>n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:t,viewBox:"0 0 24 24",fill:"none",className:i,children:n.jsx("path",{d:"M22.002 5.00586H23.002V19.0059H22.002V20.0059H2.00195V19.0059H1.00195V5.00586H2.00195V4.00586H22.002V5.00586ZM3.00195 15.0059H5.00195V13.0059H8.00195V9.00586H3.00195V15.0059ZM9.00195 15.0059H11.002V14.0059H12.002V15.0059H14.002V13.0059H13.002V12.0059H14.002V9.00586H9.00195V15.0059ZM15.002 15.0059H21.002V9.00586H15.002V15.0059ZM19 13.0059H17V11.0059H19V13.0059ZM6 12.0059H5V10.0059H6V12.0059ZM12 12.0059H11V10.0059H12V12.0059Z",fill:s})}),OX=({totalSteps:e,currentStep:t,onStepClick:s,className:i="",activeColor:a="#80FFF9",inactiveColor:r="#333333",completedColor:o="#80FFF9"})=>n.jsx("div",{className:`flex items-center gap-2 ${i}`,children:Array.from({length:e},(e,i)=>n.jsx(Pt.button,{type:"button",onClick:()=>null==s?void 0:s(i),className:"relative h-2 rounded-full overflow-hidden",animate:{width:i===t?48:16,backgroundColor:i===t?"#FFFFFF40":r},transition:{duration:.3,ease:"easeInOut"},"aria-label":`Step ${i+1}`,disabled:!s,children:i===t&&n.jsx(Pt.div,{className:"absolute inset-0 origin-left rounded-full bg-white",initial:{scaleX:0},animate:{scaleX:1},transition:{duration:.5,ease:"easeOut"}})},i))}),zX=({className:e})=>n.jsxs("svg",{width:"37",height:"36",viewBox:"0 0 37 36",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,children:[n.jsx("rect",{x:"0.5",width:"36",height:"36",rx:"18",fill:"#2EE572",fillOpacity:"0.1"}),n.jsx("circle",{opacity:"0.2",cx:"18.5004",cy:"18.0004",r:"9.6",fill:"#2EE572"}),n.jsx("circle",{cx:"18.5004",cy:"18.0004",r:"3",stroke:"#2EE572",strokeWidth:"1.2"}),n.jsx("circle",{cx:"18.4992",cy:"17.9992",r:"4.8",fill:"#2EE572"})]}),BX=({className:e})=>n.jsx("div",{className:`bg-[#1c1c1f] rounded-[30px] p-1 flex items-center ${e}`,children:n.jsxs("div",{className:"relative w-5 h-5",children:[n.jsx("div",{className:"absolute left-[2px] top-[2px] w-4 h-4",children:n.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("circle",{opacity:"0.2",cx:"8",cy:"8",r:"8",fill:"#2EE572"})})}),n.jsx("div",{className:"absolute left-[7px] top-[7px] w-[6px] h-[6px]",children:n.jsx("svg",{width:"6",height:"6",viewBox:"0 0 6 6",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("circle",{cx:"3",cy:"3",r:"3",fill:"#2EE572"})})}),n.jsx("div",{className:"absolute left-[6px] top-[6px] w-2 h-2",children:n.jsx("svg",{width:"8",height:"8",viewBox:"0 0 8 8",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("circle",{cx:"4",cy:"4",r:"3.4",stroke:"#2EE572",strokeWidth:"1.2"})})})]})}),HX=gv.common.badgeCheck,$X=gv.common.badgeCheckGray,UX=gv.common.badgeCheckYellow,VX=gv.common.arrowUploadReady,WX=gv.common.adjustIcon,qX=gv.common.recordStopIcon,GX=[{title:"Welcome to Test Mode",icon:WX,content:n.jsxs("div",{className:"flex flex-col gap-4",children:[n.jsx("p",{className:"text-white/60 text-base leading-6 font-['Inter'] font-medium",children:"Test Mode lets you interact with your app like a real user while we capture everything needed to fix bugs quickly."}),n.jsxs("div",{className:"flex flex-col gap-3",children:[n.jsx("p",{className:"text-[#2EE572] text-base leading-6 font-['Inter'] font-medium",children:"Perfect for:"}),n.jsxs("div",{className:"flex flex-col gap-[10px]",children:[n.jsxs("div",{className:"flex items-center gap-[6px]",children:[n.jsx("img",{src:HX,alt:"",className:"w-5 h-5"}),n.jsx("span",{className:"text-white text-base leading-6 font-['Inter'] font-medium",children:"Testing user flows and interactions"})]}),n.jsxs("div",{className:"flex items-center gap-[6px]",children:[n.jsx("img",{src:HX,alt:"",className:"w-5 h-5"}),n.jsx("span",{className:"text-white text-base leading-6 font-['Inter'] font-medium",children:"Finding UI issues or broken functionality"})]}),n.jsxs("div",{className:"flex items-center gap-[6px]",children:[n.jsx("img",{src:HX,alt:"",className:"w-5 h-5"}),n.jsx("span",{className:"text-white text-base leading-6 font-['Inter'] font-medium",children:"Getting precise help from your AI agent"})]})]})]}),n.jsx("p",{className:"text-white/60 text-base leading-6 font-['Inter'] font-medium",children:"Think of it as having a QA engineer watching over your shoulder."})]}),buttonText:"Got it, Next"},{title:"Your session will be recorded",badge:n.jsx(zX,{}),content:n.jsxs("div",{className:"flex flex-col gap-6",children:[n.jsxs("div",{className:"flex flex-col gap-3",children:[n.jsx("p",{className:"text-[#2EE572] text-base leading-6 font-['Inter'] font-medium",children:"We'll capture:"}),n.jsxs("div",{className:"flex flex-col gap-[10px]",children:[n.jsxs("div",{className:"flex items-center gap-[6px]",children:[n.jsx("img",{src:HX,alt:"",className:"w-5 h-5"}),n.jsx("span",{className:"text-white text-base leading-6 font-['Inter'] font-medium",children:"Screen recording of your interactions"})]}),n.jsxs("div",{className:"flex items-center gap-[6px]",children:[n.jsx("img",{src:HX,alt:"",className:"w-5 h-5"}),n.jsx("span",{className:"text-white text-base leading-6 font-['Inter'] font-medium",children:"Technical logs and error data"})]}),n.jsxs("div",{className:"flex items-center gap-[6px]",children:[n.jsx("img",{src:HX,alt:"",className:"w-5 h-5"}),n.jsx("span",{className:"text-white text-base leading-6 font-['Inter'] font-medium",children:"Step-by-step reproduction script"})]})]})]}),n.jsxs("div",{className:"flex flex-col gap-3",children:[n.jsx("p",{className:"text-white text-base leading-6 font-['Inter'] font-medium",children:"Your Privacy:"}),n.jsxs("div",{className:"flex flex-col gap-[10px]",children:[n.jsxs("div",{className:"flex items-center gap-[6px]",children:[n.jsx("img",{src:$X,alt:"",className:"w-5 h-5"}),n.jsx("span",{className:"text-white/60 text-base leading-6 font-['Inter'] font-medium",children:"Recording stays local to your account"})]}),n.jsxs("div",{className:"flex items-center gap-[6px]",children:[n.jsx("img",{src:$X,alt:"",className:"w-5 h-5"}),n.jsx("span",{className:"text-white/60 text-base leading-6 font-['Inter'] font-medium",children:"Only shared when you choose to send to AI agent"})]}),n.jsxs("div",{className:"flex items-center gap-[6px]",children:[n.jsx("img",{src:$X,alt:"",className:"w-5 h-5"}),n.jsx("span",{className:"text-white/60 text-base leading-6 font-['Inter'] font-medium",children:"Automatically deleted after 30 days"})]}),n.jsxs("div",{className:"flex items-center gap-[6px]",children:[n.jsx("img",{src:$X,alt:"",className:"w-5 h-5"}),n.jsx("span",{className:"text-white/60 text-base leading-6 font-['Inter'] font-medium",children:"No personal data outside your app is captured"})]})]})]})]}),buttonText:"I Understand, Next"},{title:"How to get the most out of Test Mode",content:n.jsxs("div",{className:"flex flex-col gap-4",children:[n.jsxs("div",{className:"flex flex-col gap-1",children:[n.jsxs("div",{className:"flex items-center gap-[6px]",children:[n.jsx("img",{src:$X,alt:"",className:"w-5 h-5"}),n.jsx("p",{className:"text-white text-base leading-6 font-['Inter'] font-semibold",children:"Use your app normally"})]}),n.jsx("p",{className:"text-white/60 text-base leading-6 font-['Inter'] font-medium",children:"Click, scroll, type as you would"})]}),n.jsxs("div",{className:"flex flex-col gap-1",children:[n.jsxs("div",{className:"flex items-center gap-[6px]",children:[n.jsx("img",{src:$X,alt:"",className:"w-5 h-5"}),n.jsx("p",{className:"text-white text-base leading-6 font-['Inter'] font-semibold",children:"Try to break things"})]}),n.jsx("p",{className:"text-white/60 text-base leading-6 font-['Inter'] font-medium",children:"Test edge cases, rapid clicks, invalid inputs 3."})]}),n.jsxs("div",{className:"flex flex-col gap-1",children:[n.jsxs("div",{className:"flex items-center gap-[6px]",children:[n.jsx("img",{src:$X,alt:"",className:"w-5 h-5"}),n.jsx("p",{className:"text-white text-base leading-6 font-['Inter'] font-semibold",children:"Don't rush"})]}),n.jsx("p",{className:"text-white/60 text-base leading-6 font-['Inter'] font-medium",children:"Take your time, the recording captures everything"})]}),n.jsxs("div",{className:"flex flex-col gap-1",children:[n.jsxs("div",{className:"flex items-center gap-[6px]",children:[n.jsx("img",{src:$X,alt:"",className:"w-5 h-5"}),n.jsx("p",{className:"text-white text-base leading-6 font-['Inter'] font-semibold",children:"When you find issues"})]}),n.jsxs("div",{className:"flex gap-1 items-start",children:[n.jsxs("div",{className:"flex items-center gap-[5px]",children:[n.jsxs("p",{className:"text-white/60 text-base leading-6 font-['Inter'] font-medium",children:["Click ",n.jsx("span",{className:"text-[#FF6A4D]",children:"End Session"})]}),n.jsx("img",{src:qX,alt:"",className:"w-5 h-5"})]}),n.jsx("p",{className:"text-white/60 text-base leading-6 font-['Inter'] font-medium",children:"and we'll package everything for debugging"})]})]}),n.jsxs("div",{className:"flex flex-col gap-1",children:[n.jsxs("div",{className:"flex items-center gap-[6px]",children:[n.jsx("img",{src:UX,alt:"",className:"w-5 h-5"}),n.jsx("p",{className:"text-[#F8FF99] text-base leading-6 font-['Inter'] font-semibold",children:"Pro tip"})]}),n.jsx("p",{className:"text-white text-base leading-6 font-['Inter'] font-medium",children:"Test the specific flow where you noticed problems!"})]})]}),buttonText:"Start Testing",buttonStyle:"green"}],ZX=({isOpen:e,onClose:t,onComplete:s})=>{const[i,a]=De.useState(0),r=()=>{a(0),t()};return e?n.jsxs("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center",children:[n.jsx("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-sm",onClick:r}),n.jsxs(Pt.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"relative w-[612px] h-[610px] mx-4 bg-[#1C1C1F] rounded-[20px] border border-[#242424] overflow-hidden flex flex-col",style:{backgroundImage:"url(/assets/grid_background-CTLD35eH.png)",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"},children:[n.jsxs("div",{className:"flex items-center justify-between pt-[33px] px-[40px] pb-[20px]",children:[n.jsx(OX,{totalSteps:GX.length,currentStep:i,activeColor:"#FFFFFF",inactiveColor:"#333333",completedColor:"#80FFF9"}),n.jsx("button",{onClick:r,className:"w-8 h-8 flex items-center justify-center rounded-lg hover:bg-[#333333] transition-colors",children:n.jsx(RS,{className:"w-5 h-5 text-[#B8B8CC]"})})]}),n.jsx("div",{className:"flex-1 px-[40px]",children:n.jsx(Rt,{mode:"wait",children:n.jsxs(Pt.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.2},children:[n.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[n.jsx("h2",{className:"text-2xl font-['Brockmann'] font-semibold text-white tracking-[-0.48px] leading-6",children:GX[i].title}),GX[i].icon&&n.jsx("img",{src:GX[i].icon,alt:"",className:"w-6 h-6 flex-shrink-0"}),GX[i].badge&&GX[i].badge]}),GX[i].content]},i)})}),n.jsx("div",{className:"p-[40px]",children:n.jsxs("button",{onClick:()=>{i<GX.length-1?a(i+1):s()},className:"flex items-center gap-2 px-6 py-3 rounded-[28px] font-['Brockmann'] font-semibold transition-colors tracking-[-0.2px] h-[48px] "+("green"===GX[i].buttonStyle?"bg-[#2EE572] text-[#003313] hover:bg-[#2EE572]/90":"bg-white text-black hover:bg-white/90"),children:[GX[i].buttonText,"green"===GX[i].buttonStyle?n.jsx(BX,{}):n.jsx("img",{src:VX,alt:"",className:"w-6 h-6"})]})})]})]}):null},YX="hasSeenTestModeOnboarding",KX=pe,JX=me,QX=he,XX=({width:e=71,height:t=20,fill:s="white",fillOpacity:i=.6,className:a,style:r,onClick:o,"aria-label":l="Aexpo logo",focusable:c=!1,viewBox:d="0 0 71 20",...u})=>n.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:t,viewBox:d,fill:"none",className:a,style:r,onClick:o,"aria-label":l,focusable:c,...u,children:[n.jsx("g",{clipPath:"url(#clip0_aexpo_logo)",children:n.jsx("path",{d:"M9.25792 6.342C9.41592 6.112 9.58892 6.082 9.72992 6.082C9.86992 6.082 10.1039 6.112 10.2619 6.342C12.3219 9.148 16.5939 16.55 16.9889 16.953C17.5739 17.55 18.3769 17.178 18.8429 16.501C19.3029 15.834 19.4299 15.366 19.4299 14.867C19.4299 14.527 12.7769 2.253 12.1059 1.231C11.4619 0.248 11.2519 0 10.1499 0H9.32492C8.22492 0 8.06592 0.248 7.42192 1.23C6.74992 2.254 0.0969238 14.528 0.0969238 14.868C0.0969238 15.368 0.223924 15.835 0.683924 16.502C1.14992 17.179 1.95292 17.552 2.53792 16.954C2.93292 16.551 7.19892 9.149 9.25792 6.344V6.342ZM24.1989 1.105V16.449H33.5489V13.336H27.4239V10.092H32.8739V6.98H27.4239V4.218H33.5489V1.105H24.1989ZM46.2499 16.449L42.3699 10.881L45.9889 5.686H42.3269L40.5399 8.23L38.7749 5.687H35.0689L38.6869 10.904L34.8299 16.45H38.4909L40.5179 13.535L42.5449 16.45H46.2499V16.449ZM53.8219 5.467C52.3399 5.467 51.1849 6.081 50.4439 7.199V5.686H47.3699V20H50.4429V14.937C51.1829 16.054 52.3389 16.668 53.8209 16.668C56.5889 16.668 58.7909 14.148 58.7909 11.057C58.7909 7.966 56.5899 5.467 53.8219 5.467ZM53.1249 13.709C51.6209 13.709 50.4439 12.569 50.4439 11.057C50.4439 9.567 51.6209 8.404 53.1239 8.404C54.6069 8.404 55.8049 9.588 55.8049 11.057C55.8049 12.547 54.6069 13.709 53.1249 13.709ZM65.3129 5.467C62.1529 5.467 59.7549 7.878 59.7549 11.079C59.7549 14.279 62.1519 16.669 65.3119 16.669C68.4509 16.669 70.8699 14.279 70.8699 11.079C70.8699 7.879 68.4499 5.467 65.3119 5.467H65.3129ZM65.3129 8.427C66.7509 8.427 67.8629 9.544 67.8629 11.079C67.8629 12.569 66.7509 13.709 65.3129 13.709C63.8529 13.709 62.7629 12.569 62.7629 11.079C62.7629 9.544 63.8529 8.426 65.3129 8.426V8.427Z",fill:s,fillOpacity:i})}),n.jsx("defs",{children:n.jsx("clipPath",{id:"clip0_aexpo_logo",children:n.jsx("rect",{width:"71",height:"20",fill:"white"})})})]}),e1=({width:e=20,height:t=20,fill:s="white",fillOpacity:i=.8,className:a,style:r,...o})=>n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:t,viewBox:"0 0 20 20",fill:"none",className:a,style:r,...o,children:n.jsx("path",{d:"M5.16634 4.615C5.37713 3.9978 5.77576 3.46201 6.30634 3.08274C6.83693 2.70346 7.47289 2.49969 8.12509 2.5H14.3751C15.2039 2.5 15.9987 2.82924 16.5848 3.41529C17.1709 4.00134 17.5001 4.7962 17.5001 5.625V11.875C17.5001 13.2475 16.6151 14.4125 15.3851 14.8337V15.2887C15.3851 15.7075 15.2388 16.2425 14.8951 16.6838C14.5338 17.1488 13.9601 17.5 13.1738 17.5H5.96134C5.50582 17.5032 5.05421 17.4157 4.63276 17.2428C4.21131 17.0699 3.82844 16.815 3.50638 16.4928C3.18433 16.1707 2.92952 15.7877 2.75677 15.3662C2.58402 14.9447 2.49677 14.493 2.50009 14.0375V6.82875C2.50009 6.1425 2.74634 5.57125 3.18259 5.175C3.60759 4.78875 4.16384 4.61625 4.71134 4.61625L5.16634 4.615ZM5.00009 5.865H4.71259C4.46122 5.85373 4.21483 5.93765 4.02259 6.1C3.87509 6.23375 3.75009 6.455 3.75009 6.8275V14.0387C3.75009 15.28 4.72009 16.2513 5.96259 16.2513H13.1738C13.5476 16.2513 13.7663 16.1 13.9088 15.9163C14.0455 15.7346 14.124 15.5158 14.1338 15.2887V15H8.12509C7.29629 15 6.50143 14.6708 5.91538 14.0847C5.32933 13.4987 5.00009 12.7038 5.00009 11.875V5.865ZM10.0001 7.5H11.6163L8.30759 10.8075C8.24948 10.8656 8.20339 10.9346 8.17194 11.0105C8.14049 11.0864 8.1243 11.1678 8.1243 11.25C8.1243 11.3322 8.14049 11.4136 8.17194 11.4895C8.20339 11.5654 8.24948 11.6344 8.30759 11.6925C8.3657 11.7506 8.43469 11.7967 8.51061 11.8282C8.58654 11.8596 8.66791 11.8758 8.75009 11.8758C8.83227 11.8758 8.91365 11.8596 8.98957 11.8282C9.0655 11.7967 9.13448 11.7506 9.19259 11.6925L12.5001 8.38375V10C12.5001 10.1658 12.5659 10.3247 12.6831 10.4419C12.8004 10.5592 12.9593 10.625 13.1251 10.625C13.2909 10.625 13.4498 10.5592 13.567 10.4419C13.6842 10.3247 13.7501 10.1658 13.7501 10V6.875C13.7501 6.70924 13.6842 6.55027 13.567 6.43306C13.4498 6.31585 13.2909 6.25 13.1251 6.25H10.0001C9.83433 6.25 9.67536 6.31585 9.55815 6.43306C9.44094 6.55027 9.37509 6.70924 9.37509 6.875C9.37509 7.04076 9.44094 7.19973 9.55815 7.31694C9.67536 7.43415 9.83433 7.5 10.0001 7.5Z",fill:s,fillOpacity:i})}),t1=({isOpen:e,onOpenChange:t,previewUrl:s})=>{const{isMobile:i}=QE(),[a,r]=De.useState(""),[o,l]=De.useState(""),[c,d]=De.useState(!1),[u,p]=De.useState(!1),[m,h]=De.useState(!1),[x,f]=De.useState(!0),g=e=>{(e||x)&&(h(e),f(!e))},v=e=>{(e||m)&&(f(e),h(!e))},b=`exp://${null==s?void 0:s.replace(/^https:\/\//,"").split(".")[0]}.ngrok.io`,y="https://expo.dev/client";De.useEffect(()=>{e&&(b&&(d(!0),xX.toDataURL(b,{width:256,margin:2,color:{dark:"#000000",light:"#FFFFFF"}}).then(e=>{r(e)}).catch(e=>{}).finally(()=>{d(!1)})),p(!0),xX.toDataURL(y,{width:256,margin:2,color:{dark:"#000000",light:"#FFFFFF"}}).then(e=>{l(e)}).catch(e=>{}).finally(()=>{p(!1)}))},[e,b,y]);const w=({showHeader:e=!1}={})=>n.jsxs("div",{className:"relative space-y-6 w-full",children:[e&&n.jsx("div",{className:"flex flex-col space-y-2",children:n.jsx(MA,{className:"text-xl font-medium text-white",children:"Preview on your phone"})}),n.jsxs("div",{className:"space-y-5",children:[n.jsxs(KX,{open:m,onOpenChange:g,className:"bg-[#202021] rounded-lg overflow-hidden",children:[n.jsxs(JX,{className:"flex items-center justify-between w-full p-5 border-none text-left hover:bg-[#202021] transition-colors",children:[n.jsxs("h3",{className:"text-lg font-medium text-white flex items-center gap-2",children:[n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",children:n.jsx("path",{d:"M2 15C2 14.4477 2.44772 14 3 14C3.55228 14 4 14.4477 4 15C4 17.2091 5.79087 19 8 19H16C18.2091 19 20 17.2091 20 15C20 14.4477 20.4477 14 21 14C21.5523 14 22 14.4477 22 15C22 18.3137 19.3137 21 16 21H8C4.68629 21 2 18.3137 2 15ZM11 4C11 3.44772 11.4477 3 12 3C12.5523 3 13 3.44772 13 4V12.9844C13.4293 12.5461 13.8312 12.0809 14.2002 11.5889C14.5315 11.1471 15.1578 11.0574 15.5996 11.3887C16.0414 11.72 16.131 12.3463 15.7998 12.7881C15.0103 13.8408 14.0944 14.7917 13.0732 15.6191V15.6201C12.761 15.873 12.3801 16 12 16C11.6199 16 11.239 15.873 10.9268 15.6201V15.6191C10.0333 14.8951 9.22012 14.0772 8.50195 13.1787L8.2002 12.7881L8.14258 12.7031C7.88133 12.269 7.98631 11.6992 8.40039 11.3887C8.81456 11.0782 9.39089 11.1372 9.73438 11.5098L9.7998 11.5889L10.0645 11.9297C10.3583 12.2973 10.6712 12.6487 11 12.9844V4Z",fill:"white","fill-opacity":"0.8"})}),"Download Expo Go App"]}),n.jsx("svg",{className:"w-5 h-5 text-[#9CA3AF] transition-transform duration-200 "+(m?"":"-rotate-90"),viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),n.jsx(QX,{className:"data-[state=open]:animate-collapsible-down data-[state=closed]:animate-collapsible-up overflow-hidden",children:n.jsxs("div",{className:"space-y-4 p-5 pt-0",children:[n.jsx("p",{className:"text-sm text-[#9CA3AF]",children:"Scan this QR code to install the Expo Go app from the Play Store."}),n.jsx("div",{className:"flex items-center rounded-lg p-4 px-0",children:n.jsxs("div",{className:"flex items-center w-full justify-between space-x-2",children:[n.jsx("div",{className:"bg-[#FFFFFF08] rounded-lg justify-center items-center flex flex-1 p-4 hidden md:block",children:u?n.jsx("div",{className:"w-16 h-16 flex items-center justify-center bg-[#FFFFFF08] rounded",children:n.jsx("div",{className:"text-gray-500 text-xs",children:"Loading..."})}):o?n.jsx("img",{src:o,alt:"QR Code for Expo Go download",className:"w-48 h-48 rounded-lg opacity-80"}):n.jsx("div",{className:"w-16 h-16 bg-black flex items-center justify-center text-white text-xs",children:"QR Code"})}),n.jsxs("div",{className:"flex flex-col space-y-4 justify-center items-center h-full rounded-2xl border border-1 border-white/5 p-4 w-full",children:[n.jsx("div",{className:"rounded-[10px] h-full w-full bg-gradient-to-b from-white/[0.02] to-white/0 flex items-center justify-center min-h-[144px]",children:n.jsx(XX,{width:71,height:20})}),n.jsx("a",{href:"https://expo.dev/client",target:"_blank",rel:"noopener noreferrer",children:n.jsxs("div",{className:"bg-[#FFFFFF0A] rounded-[10px] flex space-x-2 items-center justify-center py-[10px] px-4",children:[n.jsx("p",{className:"text-white/80 font-medium text-sm",children:"Download Expo Go"}),n.jsx(e1,{width:16,height:16})]})})]})]})})]})})]}),n.jsxs(KX,{open:x,onOpenChange:v,className:"bg-[#202021] rounded-lg overflow-hidden",children:[n.jsxs(JX,{className:"flex items-center justify-between w-full p-5 border-none text-left hover:bg-[#202021] transition-colors",children:[n.jsxs("h3",{className:"text-lg font-medium text-white flex items-center gap-2",children:[n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",children:n.jsx("path",{d:"M9 16C9 15.4477 8.5523 15 8 15H6C5.44771 15 5 15.4477 5 16V18C5 18.5523 5.44771 19 6 19H8C8.5523 19 9 18.5523 9 18V16ZM13 20V19.9902C13 19.438 13.4477 18.9902 14 18.9902C14.5523 18.9902 15 19.438 15 19.9902V20C15 20.5523 14.5523 21 14 21C13.4477 21 13 20.5523 13 20ZM17 20V18C17 17.4477 17.4477 17 18 17H20C20.5523 17 21 17.4477 21 18C21 18.5523 20.5523 19 20 19H19V20C19 20.5523 18.5523 21 18 21C17.4477 21 17 20.5523 17 20ZM13 14C13 13.4477 13.4477 13 14 13C14.5523 13 15 13.4477 15 14V15H16C16.5523 15 17 15.4477 17 16C17 16.5523 16.5523 17 16 17H14C13.4477 17 13 16.5523 13 16V14ZM20 13C20.5523 13 21 13.4477 21 14C21 14.5523 20.5523 15 20 15H18C17.4477 15 17 14.5523 17 14C17 13.4477 17.4477 13 18 13H20ZM9 6C9 5.44771 8.55229 5 8 5H6C5.44771 5 5 5.44771 5 6V8C5 8.55229 5.44771 9 6 9H8C8.55229 9 9 8.55229 9 8V6ZM19 6C19 5.44771 18.5523 5 18 5H16C15.4477 5 15 5.44771 15 6V8C15 8.5523 15.4477 9 16 9H18C18.5523 9 19 8.5523 19 8V6ZM11 18C11 19.6569 9.65685 21 8 21H6C4.34315 21 3 19.6569 3 18V16C3 14.3431 4.34315 13 6 13H8C9.65685 13 11 14.3431 11 16V18ZM11 8C11 9.65685 9.65685 11 8 11H6C4.34315 11 3 9.65685 3 8V6C3 4.34315 4.34315 3 6 3H8C9.65685 3 11 4.34315 11 6V8ZM21 8C21 9.65685 19.6569 11 18 11H16C14.3431 11 13 9.65685 13 8V6C13 4.34315 14.3431 3 16 3H18C19.6569 3 21 4.34315 21 6V8Z",fill:"white"})}),"Preview QR Code"]}),n.jsx("svg",{className:"w-5 h-5 text-[#9CA3AF] transition-transform duration-200 "+(x?"rotate-90":"rotate-none"),viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]}),n.jsx(QX,{className:"data-[state=open]:animate-collapsible-down data-[state=closed]:animate-collapsible-up overflow-hidden",children:n.jsxs("div",{className:"p-5 pt-0 flex flex-col items-start space-y-4",children:[n.jsx("div",{className:"text-start space-y-2 w-full",children:n.jsx("p",{className:"text-sm text-[#9CA3AF]",children:"Scan this QR code with your camera to preview the app"})}),n.jsx("div",{className:"bg-[#FFFFFF08] p-4 rounded-lg",children:c?n.jsx("div",{className:"w-48 h-48 flex items-center justify-center bg-gray-100 rounded",children:n.jsx("div",{className:"text-gray-500 text-sm",children:"Generating QR code..."})}):a?n.jsx("img",{src:a,alt:"QR Code for app preview",className:"w-48 h-48 rounded-lg opacity-80"}):n.jsx("div",{className:"w-48 h-48 flex items-center justify-center bg-gray-100 rounded",children:n.jsx("div",{className:"text-gray-500 text-sm",children:"Failed to generate QR code"})})})]})})]})]})]});return i?n.jsx(VI,{trigger:n.jsx("div",{}),title:"",description:"",open:e,onOpenChange:t,maxWidth:"max-w-full",showDefaultFooter:!1,contentPadding:"p-0",triggerColor:"bg-white/10",handleColor:"bg-[#fff]/10",children:n.jsx("div",{className:"h-[90dvh] flex flex-col p-4 pt-8 rounded-2xl bg-[#18181A] overflow-y-auto",children:w({showHeader:!0})})}):n.jsx(_A,{open:e,onOpenChange:t,children:n.jsxs(AA,{className:"m-4 mx-auto max-w-[calc(100vw-32px)] sm:max-w-xl w-xl bg-[#18181A] border-[#242424] text-white",children:[n.jsxs(TA,{className:"pb-4 bg-[#18181A] space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(MA,{className:"text-[22px] font-medium text-white",children:"Preview on your phone"}),n.jsx("button",{onClick:()=>t(!1),className:"text-[#9CA3AF] hover:text-white transition-colors p-1",children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:n.jsx("path",{d:"M18 6L6 18M6 6l12 12"})})})]}),n.jsx(LA,{className:"text-sm text-[#737780]",children:"Download Expo Go app to see your app in your phone or just directly scan the preview QR to see it in your native browser"})]}),n.jsx("div",{className:"px-6 pb-6 pt-5",children:(({showHeader:e=!1}={})=>n.jsxs("div",{className:"relative space-y-6",children:[e&&n.jsxs("div",{className:"flex flex-col space-y-2",children:[n.jsx(MA,{className:"text-xl font-medium text-white",children:"Preview on your phone"}),n.jsx(LA,{className:"text-sm text-[#9CA3AF]",children:"Download Expo Go app to see your app in your phone or just directly scan the preview QR to see it in your native browser"})]}),n.jsxs("div",{className:"space-y-5",children:[n.jsxs(KX,{open:m,onOpenChange:g,className:"bg-[#202021] rounded-lg overflow-hidden",children:[n.jsxs(JX,{className:"flex items-center justify-between w-full p-5 border-none text-left hover:bg-[#202021] transition-colors",children:[n.jsxs("h3",{className:"text-lg font-medium text-white flex items-center gap-2",children:[n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",children:n.jsx("path",{d:"M2 15C2 14.4477 2.44772 14 3 14C3.55228 14 4 14.4477 4 15C4 17.2091 5.79087 19 8 19H16C18.2091 19 20 17.2091 20 15C20 14.4477 20.4477 14 21 14C21.5523 14 22 14.4477 22 15C22 18.3137 19.3137 21 16 21H8C4.68629 21 2 18.3137 2 15ZM11 4C11 3.44772 11.4477 3 12 3C12.5523 3 13 3.44772 13 4V12.9844C13.4293 12.5461 13.8312 12.0809 14.2002 11.5889C14.5315 11.1471 15.1578 11.0574 15.5996 11.3887C16.0414 11.72 16.131 12.3463 15.7998 12.7881C15.0103 13.8408 14.0944 14.7917 13.0732 15.6191V15.6201C12.761 15.873 12.3801 16 12 16C11.6199 16 11.239 15.873 10.9268 15.6201V15.6191C10.0333 14.8951 9.22012 14.0772 8.50195 13.1787L8.2002 12.7881L8.14258 12.7031C7.88133 12.269 7.98631 11.6992 8.40039 11.3887C8.81456 11.0782 9.39089 11.1372 9.73438 11.5098L9.7998 11.5889L10.0645 11.9297C10.3583 12.2973 10.6712 12.6487 11 12.9844V4Z",fill:"white","fill-opacity":"0.8"})}),"Download Expo Go App"]}),n.jsx("svg",{className:"w-5 h-5 text-[#9CA3AF] transition-transform duration-200 "+(m?"":"-rotate-90"),viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),n.jsx(QX,{className:"data-[state=open]:animate-collapsible-down data-[state=closed]:animate-collapsible-up overflow-hidden",children:n.jsxs("div",{className:"space-y-4 p-5 pt-0",children:[n.jsx("p",{className:"text-sm text-[#9CA3AF]",children:"Scan this QR code to install the Expo Go app from the Play Store."}),n.jsx("div",{className:"flex items-center rounded-lg p-4 px-0",children:n.jsxs("div",{className:"flex items-center w-full justify-between space-x-2",children:[n.jsx("div",{className:"bg-[#FFFFFF08] rounded-lg justify-center items-center flex flex-1 p-4",children:u?n.jsx("div",{className:"w-16 h-16 flex items-center justify-center bg-[#FFFFFF08] rounded",children:n.jsx("div",{className:"text-gray-500 text-xs",children:"Loading..."})}):o?n.jsx("img",{src:o,alt:"QR Code for Expo Go download",className:"w-48 h-48 rounded-lg opacity-80"}):n.jsx("div",{className:"w-16 h-16 bg-black flex items-center justify-center text-white text-xs",children:"QR Code"})}),n.jsxs("div",{className:"flex flex-col space-y-4 justify-center items-center h-full rounded-2xl border border-1 border-white/5 p-4",children:[n.jsx("div",{className:"rounded-[10px] h-full w-full bg-gradient-to-b from-white/[0.02] to-white/0 flex items-center justify-center min-h-[144px]",children:n.jsx(XX,{width:71,height:20})}),n.jsx("a",{href:"https://expo.dev/client",target:"_blank",rel:"noopener noreferrer",children:n.jsxs("div",{className:"bg-[#FFFFFF0A] rounded-[10px] flex space-x-2 items-center justify-center py-[10px] px-4",children:[n.jsx("p",{className:"text-white/80 font-medium text-sm",children:"Download Expo Go"}),n.jsx(e1,{width:16,height:16})]})})]})]})})]})})]}),n.jsxs(KX,{open:x,onOpenChange:v,className:"bg-[#202021] rounded-lg overflow-hidden",children:[n.jsxs(JX,{className:"flex items-center justify-between w-full p-5 border-none text-left hover:bg-[#202021] transition-colors",children:[n.jsxs("h3",{className:"text-lg font-medium text-white flex items-center gap-2",children:[n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",children:n.jsx("path",{d:"M9 16C9 15.4477 8.5523 15 8 15H6C5.44771 15 5 15.4477 5 16V18C5 18.5523 5.44771 19 6 19H8C8.5523 19 9 18.5523 9 18V16ZM13 20V19.9902C13 19.438 13.4477 18.9902 14 18.9902C14.5523 18.9902 15 19.438 15 19.9902V20C15 20.5523 14.5523 21 14 21C13.4477 21 13 20.5523 13 20ZM17 20V18C17 17.4477 17.4477 17 18 17H20C20.5523 17 21 17.4477 21 18C21 18.5523 20.5523 19 20 19H19V20C19 20.5523 18.5523 21 18 21C17.4477 21 17 20.5523 17 20ZM13 14C13 13.4477 13.4477 13 14 13C14.5523 13 15 13.4477 15 14V15H16C16.5523 15 17 15.4477 17 16C17 16.5523 16.5523 17 16 17H14C13.4477 17 13 16.5523 13 16V14ZM20 13C20.5523 13 21 13.4477 21 14C21 14.5523 20.5523 15 20 15H18C17.4477 15 17 14.5523 17 14C17 13.4477 17.4477 13 18 13H20ZM9 6C9 5.44771 8.55229 5 8 5H6C5.44771 5 5 5.44771 5 6V8C5 8.55229 5.44771 9 6 9H8C8.55229 9 9 8.55229 9 8V6ZM19 6C19 5.44771 18.5523 5 18 5H16C15.4477 5 15 5.44771 15 6V8C15 8.5523 15.4477 9 16 9H18C18.5523 9 19 8.5523 19 8V6ZM11 18C11 19.6569 9.65685 21 8 21H6C4.34315 21 3 19.6569 3 18V16C3 14.3431 4.34315 13 6 13H8C9.65685 13 11 14.3431 11 16V18ZM11 8C11 9.65685 9.65685 11 8 11H6C4.34315 11 3 9.65685 3 8V6C3 4.34315 4.34315 3 6 3H8C9.65685 3 11 4.34315 11 6V8ZM21 8C21 9.65685 19.6569 11 18 11H16C14.3431 11 13 9.65685 13 8V6C13 4.34315 14.3431 3 16 3H18C19.6569 3 21 4.34315 21 6V8Z",fill:"white"})}),"Preview QR Code"]}),n.jsx("svg",{className:"w-5 h-5 text-[#9CA3AF] transition-transform duration-200 "+(x?"rotate-90":"rotate-none"),viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]}),n.jsx(QX,{className:"data-[state=open]:animate-collapsible-down data-[state=closed]:animate-collapsible-up overflow-hidden",children:n.jsxs("div",{className:"p-5 pt-0 flex flex-col items-start space-y-4",children:[n.jsx("div",{className:"text-start space-y-2 w-full",children:n.jsx("p",{className:"text-sm text-[#9CA3AF]",children:"Scan this QR code with your camera to preview the app"})}),n.jsx("div",{className:"bg-[#FFFFFF08] p-4 rounded-lg",children:c?n.jsx("div",{className:"w-48 h-48 flex items-center justify-center bg-gray-100 rounded",children:n.jsx("div",{className:"text-gray-500 text-sm",children:"Generating QR code..."})}):a?n.jsx("img",{src:a,alt:"QR Code for app preview",className:"w-48 h-48 rounded-lg opacity-80"}):n.jsx("div",{className:"w-48 h-48 flex items-center justify-center bg-gray-100 rounded",children:n.jsx("div",{className:"text-gray-500 text-sm",children:"Failed to generate QR code"})})})]})})]})]})]}))()})]})})},n1={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},s1=Object.create(null);for(const Wae in n1)Object.hasOwn(n1,Wae)&&(s1[n1[Wae]]=Wae);const i1={to:{},get:{}};function a1(e,t,n){return Math.min(Math.max(t,e),n)}function r1(e){const t=Math.round(e).toString(16).toUpperCase();return t.length<2?"0"+t:t}i1.get=function(e){let t,n;switch(e.slice(0,3).toLowerCase()){case"hsl":t=i1.get.hsl(e),n="hsl";break;case"hwb":t=i1.get.hwb(e),n="hwb";break;default:t=i1.get.rgb(e),n="rgb"}return t?{model:n,value:t}:null},i1.get.rgb=function(e){if(!e)return null;let t,n,s,i=[0,0,0,1];if(t=e.match(/^#([a-f\d]{6})([a-f\d]{2})?$/i)){for(s=t[2],t=t[1],n=0;n<3;n++){const e=2*n;i[n]=Number.parseInt(t.slice(e,e+2),16)}s&&(i[3]=Number.parseInt(s,16)/255)}else if(t=e.match(/^#([a-f\d]{3,4})$/i)){for(t=t[1],s=t[3],n=0;n<3;n++)i[n]=Number.parseInt(t[n]+t[n],16);s&&(i[3]=Number.parseInt(s+s,16)/255)}else if(t=e.match(/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[\s,|/]\s*([+-]?[\d.]+)(%?)\s*)?\)$/)){for(n=0;n<3;n++)i[n]=Number.parseInt(t[n+1],10);t[4]&&(i[3]=t[5]?.01*Number.parseFloat(t[4]):Number.parseFloat(t[4]))}else{if(!(t=e.match(/^rgba?\(\s*([+-]?[\d.]+)%\s*,?\s*([+-]?[\d.]+)%\s*,?\s*([+-]?[\d.]+)%\s*(?:[\s,|/]\s*([+-]?[\d.]+)(%?)\s*)?\)$/)))return(t=e.match(/^(\w+)$/))?"transparent"===t[1]?[0,0,0,0]:Object.hasOwn(n1,t[1])?(i=n1[t[1]],i[3]=1,i):null:null;for(n=0;n<3;n++)i[n]=Math.round(2.55*Number.parseFloat(t[n+1]));t[4]&&(i[3]=t[5]?.01*Number.parseFloat(t[4]):Number.parseFloat(t[4]))}for(n=0;n<3;n++)i[n]=a1(i[n],0,255);return i[3]=a1(i[3],0,1),i},i1.get.hsl=function(e){if(!e)return null;const t=e.match(/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d.]+)%\s*,?\s*([+-]?[\d.]+)%\s*(?:[,|/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/);if(t){const e=Number.parseFloat(t[4]);return[(Number.parseFloat(t[1])%360+360)%360,a1(Number.parseFloat(t[2]),0,100),a1(Number.parseFloat(t[3]),0,100),a1(Number.isNaN(e)?1:e,0,1)]}return null},i1.get.hwb=function(e){if(!e)return null;const t=e.match(/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*[\s,]\s*([+-]?[\d.]+)%\s*[\s,]\s*([+-]?[\d.]+)%\s*(?:[\s,]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/);if(t){const e=Number.parseFloat(t[4]);return[(Number.parseFloat(t[1])%360+360)%360,a1(Number.parseFloat(t[2]),0,100),a1(Number.parseFloat(t[3]),0,100),a1(Number.isNaN(e)?1:e,0,1)]}return null},i1.to.hex=function(...e){return"#"+r1(e[0])+r1(e[1])+r1(e[2])+(e[3]<1?r1(Math.round(255*e[3])):"")},i1.to.rgb=function(...e){return e.length<4||1===e[3]?"rgb("+Math.round(e[0])+", "+Math.round(e[1])+", "+Math.round(e[2])+")":"rgba("+Math.round(e[0])+", "+Math.round(e[1])+", "+Math.round(e[2])+", "+e[3]+")"},i1.to.rgb.percent=function(...e){const t=Math.round(e[0]/255*100),n=Math.round(e[1]/255*100),s=Math.round(e[2]/255*100);return e.length<4||1===e[3]?"rgb("+t+"%, "+n+"%, "+s+"%)":"rgba("+t+"%, "+n+"%, "+s+"%, "+e[3]+")"},i1.to.hsl=function(...e){return e.length<4||1===e[3]?"hsl("+e[0]+", "+e[1]+"%, "+e[2]+"%)":"hsla("+e[0]+", "+e[1]+"%, "+e[2]+"%, "+e[3]+")"},i1.to.hwb=function(...e){let t="";return e.length>=4&&1!==e[3]&&(t=", "+e[3]),"hwb("+e[0]+", "+e[1]+"%, "+e[2]+"%"+t+")"},i1.to.keyword=function(...e){return s1[e.slice(0,3)]};const o1={};for(const Wae of Object.keys(n1))o1[n1[Wae]]=Wae;const l1={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},oklab:{channels:3,labels:["okl","oka","okb"]},lch:{channels:3,labels:"lch"},oklch:{channels:3,labels:["okl","okc","okh"]},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}},c1=(6/29)**3;function d1(e){const t=e>.0031308?1.055*e**(1/2.4)-.055:12.92*e;return Math.min(Math.max(0,t),1)}function u1(e){return e>.04045?((e+.055)/1.055)**2.4:e/12.92}for(const Wae of Object.keys(l1)){if(!("channels"in l1[Wae]))throw new Error("missing channels property: "+Wae);if(!("labels"in l1[Wae]))throw new Error("missing channel labels property: "+Wae);if(l1[Wae].labels.length!==l1[Wae].channels)throw new Error("channel and label counts mismatch: "+Wae);const{channels:e,labels:t}=l1[Wae];delete l1[Wae].channels,delete l1[Wae].labels,Object.defineProperty(l1[Wae],"channels",{value:e}),Object.defineProperty(l1[Wae],"labels",{value:t})}function p1(e,t){return(e[0]-t[0])**2+(e[1]-t[1])**2+(e[2]-t[2])**2}function m1(e){const t=function(){const e={},t=Object.keys(l1);for(let{length:n}=t,s=0;s<n;s++)e[t[s]]={distance:-1,parent:null};return e}(),n=[e];for(t[e].distance=0;n.length>0;){const e=n.pop(),s=Object.keys(l1[e]);for(let{length:i}=s,a=0;a<i;a++){const i=s[a],r=t[i];-1===r.distance&&(r.distance=t[e].distance+1,r.parent=e,n.unshift(i))}}return t}function h1(e,t){return function(n){return t(e(n))}}function x1(e,t){const n=[t[e].parent,e];let s=l1[t[e].parent][e],i=t[e].parent;for(;t[i].parent;)n.unshift(t[i].parent),s=h1(l1[t[i].parent][i],s),i=t[i].parent;return s.conversion=n,s}function f1(e){const t=m1(e),n={},s=Object.keys(t);for(let{length:i}=s,a=0;a<i;a++){const e=s[a];null!==t[e].parent&&(n[e]=x1(e,t))}return n}l1.rgb.hsl=function(e){const t=e[0]/255,n=e[1]/255,s=e[2]/255,i=Math.min(t,n,s),a=Math.max(t,n,s),r=a-i;let o,l;switch(a){case i:o=0;break;case t:o=(n-s)/r;break;case n:o=2+(s-t)/r;break;case s:o=4+(t-n)/r}o=Math.min(60*o,360),o<0&&(o+=360);const c=(i+a)/2;return l=a===i?0:c<=.5?r/(a+i):r/(2-a-i),[o,100*l,100*c]},l1.rgb.hsv=function(e){let t,n,s,i,a;const r=e[0]/255,o=e[1]/255,l=e[2]/255,c=Math.max(r,o,l),d=c-Math.min(r,o,l),u=function(e){return(c-e)/6/d+.5};if(0===d)i=0,a=0;else{switch(a=d/c,t=u(r),n=u(o),s=u(l),c){case r:i=s-n;break;case o:i=1/3+t-s;break;case l:i=2/3+n-t}i<0?i+=1:i>1&&(i-=1)}return[360*i,100*a,100*c]},l1.rgb.hwb=function(e){const t=e[0],n=e[1];let s=e[2];const i=l1.rgb.hsl(e)[0],a=1/255*Math.min(t,Math.min(n,s));return s=1-1/255*Math.max(t,Math.max(n,s)),[i,100*a,100*s]},l1.rgb.oklab=function(e){const t=u1(e[0]/255),n=u1(e[1]/255),s=u1(e[2]/255),i=Math.cbrt(.4122214708*t+.5363325363*n+.0514459929*s),a=Math.cbrt(.2119034982*t+.6806995451*n+.1073969566*s),r=Math.cbrt(.0883024619*t+.2817188376*n+.6299787005*s);return[100*(.2104542553*i+.793617785*a-.0040720468*r),100*(1.9779984951*i-2.428592205*a+.4505937099*r),100*(.0259040371*i+.7827717662*a-.808675766*r)]},l1.rgb.cmyk=function(e){const t=e[0]/255,n=e[1]/255,s=e[2]/255,i=Math.min(1-t,1-n,1-s);return[100*((1-t-i)/(1-i)||0),100*((1-n-i)/(1-i)||0),100*((1-s-i)/(1-i)||0),100*i]},l1.rgb.keyword=function(e){const t=o1[e];if(t)return t;let n,s=Number.POSITIVE_INFINITY;for(const i of Object.keys(n1)){const t=p1(e,n1[i]);t<s&&(s=t,n=i)}return n},l1.keyword.rgb=function(e){return n1[e]},l1.rgb.xyz=function(e){const t=u1(e[0]/255),n=u1(e[1]/255),s=u1(e[2]/255);return[100*(.4124564*t+.3575761*n+.1804375*s),100*(.2126729*t+.7151522*n+.072175*s),100*(.0193339*t+.119192*n+.9503041*s)]},l1.rgb.lab=function(e){const t=l1.rgb.xyz(e);let n=t[0],s=t[1],i=t[2];n/=95.047,s/=100,i/=108.883,n=n>c1?n**(1/3):7.787*n+16/116,s=s>c1?s**(1/3):7.787*s+16/116,i=i>c1?i**(1/3):7.787*i+16/116;return[116*s-16,500*(n-s),200*(s-i)]},l1.hsl.rgb=function(e){const t=e[0]/360,n=e[1]/100,s=e[2]/100;let i,a;if(0===n)return a=255*s,[a,a,a];const r=s<.5?s*(1+n):s+n-s*n,o=2*s-r,l=[0,0,0];for(let c=0;c<3;c++)i=t+1/3*-(c-1),i<0&&i++,i>1&&i--,a=6*i<1?o+6*(r-o)*i:2*i<1?r:3*i<2?o+(r-o)*(2/3-i)*6:o,l[c]=255*a;return l},l1.hsl.hsv=function(e){const t=e[0];let n=e[1]/100,s=e[2]/100,i=n;const a=Math.max(s,.01);s*=2,n*=s<=1?s:2-s,i*=a<=1?a:2-a;return[t,100*(0===s?2*i/(a+i):2*n/(s+n)),100*((s+n)/2)]},l1.hsv.rgb=function(e){const t=e[0]/60,n=e[1]/100;let s=e[2]/100;const i=Math.floor(t)%6,a=t-Math.floor(t),r=255*s*(1-n),o=255*s*(1-n*a),l=255*s*(1-n*(1-a));switch(s*=255,i){case 0:return[s,l,r];case 1:return[o,s,r];case 2:return[r,s,l];case 3:return[r,o,s];case 4:return[l,r,s];case 5:return[s,r,o]}},l1.hsv.hsl=function(e){const t=e[0],n=e[1]/100,s=e[2]/100,i=Math.max(s,.01);let a,r;r=(2-n)*s;const o=(2-n)*i;return a=n*i,a/=o<=1?o:2-o,a=a||0,r/=2,[t,100*a,100*r]},l1.hwb.rgb=function(e){const t=e[0]/360;let n=e[1]/100,s=e[2]/100;const i=n+s;let a;i>1&&(n/=i,s/=i);const r=Math.floor(6*t),o=1-s;a=6*t-r,1&r&&(a=1-a);const l=n+a*(o-n);let c,d,u;switch(r){default:case 6:case 0:c=o,d=l,u=n;break;case 1:c=l,d=o,u=n;break;case 2:c=n,d=o,u=l;break;case 3:c=n,d=l,u=o;break;case 4:c=l,d=n,u=o;break;case 5:c=o,d=n,u=l}return[255*c,255*d,255*u]},l1.cmyk.rgb=function(e){const t=e[0]/100,n=e[1]/100,s=e[2]/100,i=e[3]/100;return[255*(1-Math.min(1,t*(1-i)+i)),255*(1-Math.min(1,n*(1-i)+i)),255*(1-Math.min(1,s*(1-i)+i))]},l1.xyz.rgb=function(e){const t=e[0]/100,n=e[1]/100,s=e[2]/100;let i,a,r;return i=3.2404542*t+-1.5371385*n+-.4985314*s,a=-.969266*t+1.8760108*n+.041556*s,r=.0556434*t+-.2040259*n+1.0572252*s,i=d1(i),a=d1(a),r=d1(r),[255*i,255*a,255*r]},l1.xyz.lab=function(e){let t=e[0],n=e[1],s=e[2];t/=95.047,n/=100,s/=108.883,t=t>c1?t**(1/3):7.787*t+16/116,n=n>c1?n**(1/3):7.787*n+16/116,s=s>c1?s**(1/3):7.787*s+16/116;return[116*n-16,500*(t-n),200*(n-s)]},l1.xyz.oklab=function(e){const t=e[0]/100,n=e[1]/100,s=e[2]/100,i=Math.cbrt(.8189330101*t+.3618667424*n-.1288597137*s),a=Math.cbrt(.0329845436*t+.9293118715*n+.0361456387*s),r=Math.cbrt(.0482003018*t+.2643662691*n+.633851707*s);return[100*(.2104542553*i+.793617785*a-.0040720468*r),100*(1.9779984951*i-2.428592205*a+.4505937099*r),100*(.0259040371*i+.7827717662*a-.808675766*r)]},l1.oklab.oklch=function(e){return l1.lab.lch(e)},l1.oklab.xyz=function(e){const t=e[0]/100,n=e[1]/100,s=e[2]/100,i=(.999999998*t+.396337792*n+.215803758*s)**3,a=(1.000000008*t-.105561342*n-.063854175*s)**3,r=(1.000000055*t-.089484182*n-1.291485538*s)**3;return[100*(1.227013851*i-.55779998*a+.281256149*r),100*(-.040580178*i+1.11225687*a-.071676679*r),100*(-.076381285*i-.421481978*a+1.58616322*r)]},l1.oklab.rgb=function(e){const t=e[0]/100,n=e[1]/100,s=e[2]/100,i=(t+.3963377774*n+.2158037573*s)**3,a=(t-.1055613458*n-.0638541728*s)**3,r=(t-.0894841775*n-1.291485548*s)**3;return[255*d1(4.0767416621*i-3.3077115913*a+.2309699292*r),255*d1(-1.2684380046*i+2.6097574011*a-.3413193965*r),255*d1(-.0041960863*i-.7034186147*a+1.707614701*r)]},l1.oklch.oklab=function(e){return l1.lch.lab(e)},l1.lab.xyz=function(e){let t,n,s;n=(e[0]+16)/116,t=e[1]/500+n,s=n-e[2]/200;const i=n**3,a=t**3,r=s**3;return n=i>c1?i:(n-16/116)/7.787,t=a>c1?a:(t-16/116)/7.787,s=r>c1?r:(s-16/116)/7.787,t*=95.047,n*=100,s*=108.883,[t,n,s]},l1.lab.lch=function(e){const t=e[0],n=e[1],s=e[2];let i;i=360*Math.atan2(s,n)/2/Math.PI,i<0&&(i+=360);return[t,Math.sqrt(n*n+s*s),i]},l1.lch.lab=function(e){const t=e[0],n=e[1],s=e[2]/360*2*Math.PI;return[t,n*Math.cos(s),n*Math.sin(s)]},l1.rgb.ansi16=function(e,t=null){const[n,s,i]=e;let a=null===t?l1.rgb.hsv(e)[2]:t;if(a=Math.round(a/50),0===a)return 30;let r=30+(Math.round(i/255)<<2|Math.round(s/255)<<1|Math.round(n/255));return 2===a&&(r+=60),r},l1.hsv.ansi16=function(e){return l1.rgb.ansi16(l1.hsv.rgb(e),e[2])},l1.rgb.ansi256=function(e){const t=e[0],n=e[1],s=e[2];if(t>>4==n>>4&&n>>4==s>>4)return t<8?16:t>248?231:Math.round((t-8)/247*24)+232;return 16+36*Math.round(t/255*5)+6*Math.round(n/255*5)+Math.round(s/255*5)},l1.ansi16.rgb=function(e){let t=(e=e[0])%10;if(0===t||7===t)return e>50&&(t+=3.5),t=t/10.5*255,[t,t,t];const n=.5*(Math.trunc(e>50)+1);return[(1&t)*n*255,(t>>1&1)*n*255,(t>>2&1)*n*255]},l1.ansi256.rgb=function(e){if((e=e[0])>=232){const t=10*(e-232)+8;return[t,t,t]}let t;e-=16;return[Math.floor(e/36)/5*255,Math.floor((t=e%36)/6)/5*255,t%6/5*255]},l1.rgb.hex=function(e){const t=(((255&Math.round(e[0]))<<16)+((255&Math.round(e[1]))<<8)+(255&Math.round(e[2]))).toString(16).toUpperCase();return"000000".slice(t.length)+t},l1.hex.rgb=function(e){const t=e.toString(16).match(/[a-f\d]{6}|[a-f\d]{3}/i);if(!t)return[0,0,0];let n=t[0];3===t[0].length&&(n=[...n].map(e=>e+e).join(""));const s=Number.parseInt(n,16);return[s>>16&255,s>>8&255,255&s]},l1.rgb.hcg=function(e){const t=e[0]/255,n=e[1]/255,s=e[2]/255,i=Math.max(Math.max(t,n),s),a=Math.min(Math.min(t,n),s),r=i-a;let o;return o=r<=0?0:i===t?(n-s)/r%6:i===n?2+(s-t)/r:4+(t-n)/r,o/=6,o%=1,[360*o,100*r,100*(r<1?a/(1-r):0)]},l1.hsl.hcg=function(e){const t=e[1]/100,n=e[2]/100,s=n<.5?2*t*n:2*t*(1-n);let i=0;return s<1&&(i=(n-.5*s)/(1-s)),[e[0],100*s,100*i]},l1.hsv.hcg=function(e){const t=e[1]/100,n=e[2]/100,s=t*n;let i=0;return s<1&&(i=(n-s)/(1-s)),[e[0],100*s,100*i]},l1.hcg.rgb=function(e){const t=e[0]/360,n=e[1]/100,s=e[2]/100;if(0===n)return[255*s,255*s,255*s];const i=[0,0,0],a=t%1*6,r=a%1,o=1-r;let l=0;switch(Math.floor(a)){case 0:i[0]=1,i[1]=r,i[2]=0;break;case 1:i[0]=o,i[1]=1,i[2]=0;break;case 2:i[0]=0,i[1]=1,i[2]=r;break;case 3:i[0]=0,i[1]=o,i[2]=1;break;case 4:i[0]=r,i[1]=0,i[2]=1;break;default:i[0]=1,i[1]=0,i[2]=o}return l=(1-n)*s,[255*(n*i[0]+l),255*(n*i[1]+l),255*(n*i[2]+l)]},l1.hcg.hsv=function(e){const t=e[1]/100,n=t+e[2]/100*(1-t);let s=0;return n>0&&(s=t/n),[e[0],100*s,100*n]},l1.hcg.hsl=function(e){const t=e[1]/100,n=e[2]/100*(1-t)+.5*t;let s=0;return n>0&&n<.5?s=t/(2*n):n>=.5&&n<1&&(s=t/(2*(1-n))),[e[0],100*s,100*n]},l1.hcg.hwb=function(e){const t=e[1]/100,n=t+e[2]/100*(1-t);return[e[0],100*(n-t),100*(1-n)]},l1.hwb.hcg=function(e){const t=e[1]/100,n=1-e[2]/100,s=n-t;let i=0;return s<1&&(i=(n-s)/(1-s)),[e[0],100*s,100*i]},l1.apple.rgb=function(e){return[e[0]/65535*255,e[1]/65535*255,e[2]/65535*255]},l1.rgb.apple=function(e){return[e[0]/255*65535,e[1]/255*65535,e[2]/255*65535]},l1.gray.rgb=function(e){return[e[0]/100*255,e[0]/100*255,e[0]/100*255]},l1.gray.hsl=function(e){return[0,0,e[0]]},l1.gray.hsv=l1.gray.hsl,l1.gray.hwb=function(e){return[0,100,e[0]]},l1.gray.cmyk=function(e){return[0,0,0,e[0]]},l1.gray.lab=function(e){return[e[0],0,0]},l1.gray.hex=function(e){const t=255&Math.round(e[0]/100*255),n=((t<<16)+(t<<8)+t).toString(16).toUpperCase();return"000000".slice(n.length)+n},l1.rgb.gray=function(e){return[(e[0]+e[1]+e[2])/3/255*100]};const g1={},v1=Object.keys(l1);function b1(e){const t=function(...t){const n=t[0];return null==n?n:(n.length>1&&(t=n),e(t))};return"conversion"in e&&(t.conversion=e.conversion),t}function y1(e){const t=function(...t){const n=t[0];if(null==n)return n;n.length>1&&(t=n);const s=e(t);if("object"==typeof s)for(let{length:e}=s,i=0;i<e;i++)s[i]=Math.round(s[i]);return s};return"conversion"in e&&(t.conversion=e.conversion),t}for(const Wae of v1){g1[Wae]={},Object.defineProperty(g1[Wae],"channels",{value:l1[Wae].channels}),Object.defineProperty(g1[Wae],"labels",{value:l1[Wae].labels});const e=f1(Wae),t=Object.keys(e);for(const n of t){const t=e[n];g1[Wae][n]=y1(t),g1[Wae][n].raw=b1(t)}}const w1=["keyword","gray","hex"],j1={};for(const Wae of Object.keys(g1))j1[[...g1[Wae].labels].sort().join("")]=Wae;const C1={};function N1(e,t){if(!(this instanceof N1))return new N1(e,t);if(t&&t in w1&&(t=null),t&&!(t in g1))throw new Error("Unknown model: "+t);let n,s;if(null==e)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(e instanceof N1)this.model=e.model,this.color=[...e.color],this.valpha=e.valpha;else if("string"==typeof e){const t=i1.get(e);if(null===t)throw new Error("Unable to parse color from string: "+e);this.model=t.model,s=g1[this.model].channels,this.color=t.value.slice(0,s),this.valpha="number"==typeof t.value[s]?t.value[s]:1}else if(e.length>0){this.model=t||"rgb",s=g1[this.model].channels;const n=Array.prototype.slice.call(e,0,s);this.color=S1(n,s),this.valpha="number"==typeof e[s]?e[s]:1}else if("number"==typeof e)this.model="rgb",this.color=[e>>16&255,e>>8&255,255&e],this.valpha=1;else{this.valpha=1;const t=Object.keys(e);"alpha"in e&&(t.splice(t.indexOf("alpha"),1),this.valpha="number"==typeof e.alpha?e.alpha:0);const s=t.sort().join("");if(!(s in j1))throw new Error("Unable to parse color from object: "+JSON.stringify(e));this.model=j1[s];const{labels:i}=g1[this.model],a=[];for(n=0;n<i.length;n++)a.push(e[i[n]]);this.color=S1(a)}if(C1[this.model])for(s=g1[this.model].channels,n=0;n<s;n++){const e=C1[this.model][n];e&&(this.color[n]=e(this.color[n]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}N1.prototype={toString(){return this.string()},toJSON(){return this[this.model]()},string(e){let t=this.model in i1.to?this:this.rgb();t=t.round("number"==typeof e?e:1);const n=1===t.valpha?t.color:[...t.color,this.valpha];return i1.to[t.model](...n)},percentString(e){const t=this.rgb().round("number"==typeof e?e:1),n=1===t.valpha?t.color:[...t.color,this.valpha];return i1.to.rgb.percent(...n)},array(){return 1===this.valpha?[...this.color]:[...this.color,this.valpha]},object(){const e={},{channels:t}=g1[this.model],{labels:n}=g1[this.model];for(let s=0;s<t;s++)e[n[s]]=this.color[s];return 1!==this.valpha&&(e.alpha=this.valpha),e},unitArray(){const e=this.rgb().color;return e[0]/=255,e[1]/=255,e[2]/=255,1!==this.valpha&&e.push(this.valpha),e},unitObject(){const e=this.rgb().object();return e.r/=255,e.g/=255,e.b/=255,1!==this.valpha&&(e.alpha=this.valpha),e},round(e){return e=Math.max(e||0,0),new N1([...this.color.map(F1(e)),this.valpha],this.model)},alpha(e){return void 0!==e?new N1([...this.color,Math.max(0,Math.min(1,e))],this.model):this.valpha},red:_1("rgb",0,k1(255)),green:_1("rgb",1,k1(255)),blue:_1("rgb",2,k1(255)),hue:_1(["hsl","hsv","hsl","hwb","hcg"],0,e=>(e%360+360)%360),saturationl:_1("hsl",1,k1(100)),lightness:_1("hsl",2,k1(100)),saturationv:_1("hsv",1,k1(100)),value:_1("hsv",2,k1(100)),chroma:_1("hcg",1,k1(100)),gray:_1("hcg",2,k1(100)),white:_1("hwb",1,k1(100)),wblack:_1("hwb",2,k1(100)),cyan:_1("cmyk",0,k1(100)),magenta:_1("cmyk",1,k1(100)),yellow:_1("cmyk",2,k1(100)),black:_1("cmyk",3,k1(100)),x:_1("xyz",0,k1(95.047)),y:_1("xyz",1,k1(100)),z:_1("xyz",2,k1(108.833)),l:_1("lab",0,k1(100)),a:_1("lab",1),b:_1("lab",2),keyword(e){return void 0!==e?new N1(e):g1[this.model].keyword(this.color)},hex(e){return void 0!==e?new N1(e):i1.to.hex(...this.rgb().round().color)},hexa(e){if(void 0!==e)return new N1(e);const t=this.rgb().round().color;let n=Math.round(255*this.valpha).toString(16).toUpperCase();return 1===n.length&&(n="0"+n),i1.to.hex(...t)+n},rgbNumber(){const e=this.rgb().color;return(255&e[0])<<16|(255&e[1])<<8|255&e[2]},luminosity(){const e=this.rgb().color,t=[];for(const[n,s]of e.entries()){const e=s/255;t[n]=e<=.04045?e/12.92:((e+.055)/1.055)**2.4}return.2126*t[0]+.7152*t[1]+.0722*t[2]},contrast(e){const t=this.luminosity(),n=e.luminosity();return t>n?(t+.05)/(n+.05):(n+.05)/(t+.05)},level(e){const t=this.contrast(e);return t>=7?"AAA":t>=4.5?"AA":""},isDark(){const e=this.rgb().color;return(2126*e[0]+7152*e[1]+722*e[2])/1e4<128},isLight(){return!this.isDark()},negate(){const e=this.rgb();for(let t=0;t<3;t++)e.color[t]=255-e.color[t];return e},lighten(e){const t=this.hsl();return t.color[2]+=t.color[2]*e,t},darken(e){const t=this.hsl();return t.color[2]-=t.color[2]*e,t},saturate(e){const t=this.hsl();return t.color[1]+=t.color[1]*e,t},desaturate(e){const t=this.hsl();return t.color[1]-=t.color[1]*e,t},whiten(e){const t=this.hwb();return t.color[1]+=t.color[1]*e,t},blacken(e){const t=this.hwb();return t.color[2]+=t.color[2]*e,t},grayscale(){const e=this.rgb().color,t=.3*e[0]+.59*e[1]+.11*e[2];return N1.rgb(t,t,t)},fade(e){return this.alpha(this.valpha-this.valpha*e)},opaquer(e){return this.alpha(this.valpha+this.valpha*e)},rotate(e){const t=this.hsl();let n=t.color[0];return n=(n+e)%360,n=n<0?360+n:n,t.color[0]=n,t},mix(e,t){if(!e||!e.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+typeof e);const n=e.rgb(),s=this.rgb(),i=void 0===t?.5:t,a=2*i-1,r=n.alpha()-s.alpha(),o=((a*r===-1?a:(a+r)/(1+a*r))+1)/2,l=1-o;return N1.rgb(o*n.red()+l*s.red(),o*n.green()+l*s.green(),o*n.blue()+l*s.blue(),n.alpha()*i+s.alpha()*(1-i))}};for(const Wae of Object.keys(g1)){if(w1.includes(Wae))continue;const{channels:e}=g1[Wae];N1.prototype[Wae]=function(...e){return this.model===Wae?new N1(this):e.length>0?new N1(e,Wae):new N1([...(t=g1[this.model][Wae].raw(this.color),Array.isArray(t)?t:[t]),this.valpha],Wae);var t},N1[Wae]=function(...t){let n=t[0];return"number"==typeof n&&(n=S1(t,e)),new N1(n,Wae)}}function F1(e){return function(t){return function(e,t){return Number(e.toFixed(t))}(t,e)}}function _1(e,t,n){e=Array.isArray(e)?e:[e];for(const s of e)(C1[s]||(C1[s]=[]))[t]=n;return e=e[0],function(s){let i;return void 0!==s?(n&&(s=n(s)),i=this[e](),i.color[t]=s,i):(i=this[e]().color[t],n&&(i=n(i)),i)}}function k1(e){return function(t){return Math.max(0,Math.min(e,t))}}function S1(e,t){for(let n=0;n<t;n++)"number"!=typeof e[n]&&(e[n]=0);return e}const E1=De.createContext(void 0),I1=()=>{const e=De.useContext(E1);if(!e)throw new Error("useColorPicker must be used within a ColorPickerProvider");return e},A1=({value:e,defaultValue:t="#000000",onChange:s,className:i,...a})=>{const[r,o]=De.useState(()=>{if(e){return N1(e).hue()||0}if(t){return N1(t).hue()||0}return 0}),[l,c]=De.useState(()=>{if(e){return N1(e).saturationl()||0}if(t){return N1(t).saturationl()||0}return 0}),[d,u]=De.useState(()=>{if(e){return N1(e).lightness()||0}if(t){return N1(t).lightness()||0}return 0}),[p,m]=De.useState(()=>{if(e){return 100*N1(e).alpha()}if(t){return 100*N1(t).alpha()}return 100}),[h,x]=De.useState("hex"),f=De.useRef(!1),g=De.useRef(e);De.useEffect(()=>{if(!e)return;if(g.current===e)return;const t=N1(e),[n,s,i]=t.hsl().array(),a=100*(t.alpha()||1);f.current=!0,o(n||0),c(s||0),u(i||0),m(a),g.current=e},[e]),De.useLayoutEffect(()=>{f.current&&(f.current=!1)},[r,l,d,p]);const v=De.useRef(s);return De.useEffect(()=>{v.current=s},[s]),De.useEffect(()=>{if(f.current||!v.current)return;const e=N1.hsl(r,l,d).alpha(p/100).rgb().array();v.current([e[0],e[1],e[2],p/100])},[r,l,d,p]),n.jsx(E1.Provider,{value:{hue:r,saturation:l,lightness:d,alpha:p,mode:h,setHue:o,setSaturation:c,setLightness:u,setAlpha:m,setMode:x},children:n.jsx("div",{className:fb("flex size-full flex-col gap-4",i),...a})})},T1=De.memo(({className:e,...t})=>{const s=De.useRef(null),[i,a]=De.useState(!1),[r,o]=De.useState(0),[l,c]=De.useState(0),{hue:d,saturation:u,lightness:p,setSaturation:m,setLightness:h}=I1();De.useEffect(()=>{const e=u/100,t=e<.01?100:50+50*(1-e),n=t>0?1-p/t:0;o(Math.max(0,Math.min(1,e))),c(Math.max(0,Math.min(1,n)))},[u,p]);const x=De.useMemo(()=>`linear-gradient(0deg, rgba(0,0,0,1), rgba(0,0,0,0)),\n            linear-gradient(90deg, rgba(255,255,255,1), rgba(255,255,255,0)),\n            hsl(${d}, 100%, 50%)`,[d]),f=De.useCallback(e=>{if(!i||!s.current)return;const t=s.current.getBoundingClientRect(),n=Math.max(0,Math.min(1,(e.clientX-t.left)/t.width)),a=Math.max(0,Math.min(1,(e.clientY-t.top)/t.height));o(n),c(a),m(100*n);h((n<.01?100:50+50*(1-n))*(1-a))},[i,m,h]);return De.useEffect(()=>{const e=()=>a(!1);return i&&(window.addEventListener("pointermove",f),window.addEventListener("pointerup",e)),()=>{window.removeEventListener("pointermove",f),window.removeEventListener("pointerup",e)}},[i,f]),n.jsx("div",{className:fb("relative size-full cursor-crosshair rounded",e),onPointerDown:e=>{e.preventDefault(),a(!0),f(e.nativeEvent)},ref:s,style:{background:x},...t,children:n.jsx("div",{className:"-translate-x-1/2 -translate-y-1/2 pointer-events-none absolute h-4 w-4 rounded-full border-2 border-white",style:{left:100*r+"%",top:100*l+"%",boxShadow:"0 0 0 1px rgba(0,0,0,0.5)"}})})});T1.displayName="ColorPickerSelection";const D1=({className:e,...t})=>{const{hue:s,setHue:i}=I1();return n.jsxs(xe,{className:fb("relative flex h-4 w-full touch-none",e),max:360,onValueChange:([e])=>i(e),step:1,value:[s],...t,children:[n.jsx(fe,{className:"relative my-0.5 h-3 w-full grow rounded-full bg-[linear-gradient(90deg,#FF0000,#FFFF00,#00FF00,#00FFFF,#0000FF,#FF00FF,#FF0000)]",children:n.jsx(ge,{className:"absolute h-full"})}),n.jsx(ve,{className:"block h-4 w-4 rounded-full border border-primary/50 bg-background shadow transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50"})]})},M1=({className:e,...t})=>{const{alpha:s,setAlpha:i}=I1();return n.jsxs(xe,{className:fb("relative flex h-4 w-full touch-none",e),max:100,onValueChange:([e])=>i(e),step:1,value:[s],...t,children:[n.jsxs(fe,{className:"relative my-0.5 h-3 w-full grow rounded-full bg-[url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAMUlEQVQ4T2NkYGAQYcAP3uCTZhw1gGGYhAGBZIA/nYDCgBDAm9BGDWAAJyRCgLaBCAAgXwixzAS0pgAAAABJRU5ErkJggg==')] bg-center bg-repeat-x dark:bg-[url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAALklEQVR4nGP8+vWrCAMewM3N/QafPBM+SWLAqAGDwQBGQgoIpZOB98KoAVQwAADxzQcSVIRCfQAAAABJRU5ErkJggg==')]",children:[n.jsx("div",{className:"absolute inset-0 rounded-full bg-gradient-to-r from-transparent to-black/50 dark:to-white/50"}),n.jsx(ge,{className:"absolute h-full rounded-full bg-transparent"})]}),n.jsx(ve,{className:"block h-4 w-4 rounded-full border border-primary/50 bg-background shadow transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50"})]})},L1=({className:e,...t})=>{const{setHue:s,setSaturation:i,setLightness:a,setAlpha:r}=I1();return n.jsx(wb,{className:fb("shrink-0 text-muted-foreground",e),onClick:async()=>{try{const e=new EyeDropper,t=N1((await e.open()).sRGBHex),[n,o,l]=t.hsl().array();s(n),i(o),a(l),r(100)}catch(e){}},size:"icon",type:"button",variant:"outline",...t,children:n.jsx(bS,{size:16})})},P1=["hex","rgb"],R1=({className:e,...t})=>{const{mode:s,setMode:i}=I1();return n.jsxs(OS,{onValueChange:i,value:s,children:[n.jsx(BS,{className:"h-8 w-20 shrink-0 text-xs",...t,children:n.jsx(zS,{placeholder:"Mode"})}),n.jsx(US,{children:P1.map(e=>n.jsx(VS,{className:"text-xs",value:e,children:e.toUpperCase()},e))})]})},O1=({className:e,...t})=>n.jsxs("div",{className:"relative",children:[n.jsx(qS,{readOnly:!0,type:"text",...t,className:fb("h-8 w-[3.25rem] rounded-l-none bg-secondary px-2 text-xs shadow-none",e)}),n.jsx("span",{className:"-translate-y-1/2 absolute top-1/2 right-2 text-muted-foreground text-xs",children:"%"})]}),z1=({className:e,...t})=>{const{hue:s,saturation:i,lightness:a,alpha:r,mode:o}=I1(),l=N1.hsl(s,i,a,r/100);if("hex"===o){const s=l.hex();return n.jsxs("div",{className:fb("-space-x-px relative flex w-full items-center rounded-md shadow-sm",e),...t,children:[n.jsx(qS,{className:"h-8 rounded-r-none bg-secondary px-2 text-xs shadow-none",readOnly:!0,type:"text",value:s}),n.jsx(O1,{value:r})]})}if("rgb"===o){const s=l.rgb().array().map(e=>Math.round(e));return n.jsxs("div",{className:fb("-space-x-px flex items-center rounded-md shadow-sm",e),...t,children:[s.map((t,s)=>n.jsx(qS,{className:fb("h-8 rounded-r-none bg-secondary px-2 text-xs shadow-none",s&&"rounded-l-none",e),readOnly:!0,type:"text",value:t},s)),n.jsx(O1,{value:r})]})}if("css"===o){const s=l.rgb().array().map(e=>Math.round(e));return n.jsx("div",{className:fb("w-full rounded-md shadow-sm",e),...t,children:n.jsx(qS,{className:"h-8 w-full bg-secondary px-2 text-xs shadow-none",readOnly:!0,type:"text",value:`rgba(${s.join(", ")}, ${r}%)`,...t})})}if("hsl"===o){const s=l.hsl().array().map(e=>Math.round(e));return n.jsxs("div",{className:fb("-space-x-px flex items-center rounded-md shadow-sm",e),...t,children:[s.map((t,s)=>n.jsx(qS,{className:fb("h-8 rounded-r-none bg-secondary px-2 text-xs shadow-none",s&&"rounded-l-none",e),readOnly:!0,type:"text",value:t},s)),n.jsx(O1,{value:r})]})}return null},B1=({value:e,defaultValue:t,onChange:s})=>n.jsxs(A1,{className:"max-w-sm rounded-md border bg-background p-4 shadow-sm",value:e,defaultValue:t,onChange:s,children:[n.jsx(T1,{}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(L1,{}),n.jsxs("div",{className:"grid w-full gap-1",children:[n.jsx(D1,{}),n.jsx(M1,{})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(R1,{}),n.jsx(z1,{})]})]}),H1={none:"0",sm:"2","":"4",md:"6",lg:"8",xl:"12","2xl":"16","3xl":"24",full:"9999"},$1=Object.entries(H1).reduce((e,[t,n])=>(e[n]=t,e),{}),U1=e=>{const t=e.trim();if(!t)return null;const n=Number(t);return Number.isFinite(n)?9999===n?"9999":Number.isInteger(n)?n.toString():null:null},V1=e=>{const t=e.trim();return t?/^-?\d+(\.\d+)?$/.test(t)?`${t}px`:t:null},W1=e=>e.split(/\s+/).map(e=>e.trim()).filter(Boolean).sort(),q1=(e,t)=>{const n=W1(e),s=W1(t);return n.length===s.length&&n.every((e,t)=>e===s[t])},G1=new Set(["text-xs","text-sm","text-base","text-lg","text-xl","text-2xl","text-3xl","text-4xl","text-5xl","text-6xl","text-7xl","text-8xl","text-9xl","text-left","text-center","text-right","text-justify"]),Z1=e=>e.startsWith("text-[")||e.startsWith("!text-[")||e.startsWith("text-")&&!G1.has(e),Y1=new Set(["bg-clip-border","bg-clip-content","bg-clip-padding","bg-clip-text","bg-fixed","bg-local","bg-scroll","bg-contain","bg-cover","bg-center","bg-top","bg-bottom","bg-left","bg-right","bg-no-repeat","bg-repeat","bg-repeat-x","bg-repeat-y","bg-repeat-round","bg-repeat-space","bg-origin-border","bg-origin-padding","bg-origin-content","bg-blend-normal","bg-blend-multiply","bg-blend-screen","bg-blend-overlay","bg-blend-darken","bg-blend-lighten","bg-blend-color-dodge","bg-blend-color-burn","bg-blend-hard-light","bg-blend-soft-light","bg-blend-difference","bg-blend-exclusion","bg-blend-hue","bg-blend-saturation","bg-blend-color","bg-blend-luminosity"]),K1=e=>e.startsWith("bg-[")||e.startsWith("!bg-[")||"bg-transparent"===e||"!bg-transparent"===e||e.startsWith("bg-")&&!e.startsWith("bg-gradient")&&!Y1.has(e),J1=e=>e.split(" ").map(e=>e.trim()).filter(Z1),Q1=e=>e.split(" ").map(e=>e.trim()).filter(K1),X1=({className:e})=>n.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,children:n.jsx("path",{d:"M7.2617 10.2438C7.72041 10.2438 8.0923 10.6371 8.09249 11.1219C8.09249 11.6069 7.72053 12 7.2617 12H2.83079C2.37196 12 2 11.6069 2 11.1219C2.00019 10.6371 2.37208 10.2438 2.83079 10.2438H7.2617ZM13.1692 7.12248C13.628 7.12248 14 7.51562 14 8.00057C13.9998 8.48535 13.6279 8.87866 13.1692 8.87866H2.83079C2.37208 8.87866 2.00019 8.48535 2 8.00057C2 7.51562 2.37196 7.12248 2.83079 7.12248H13.1692ZM13.1692 4C13.628 4 14 4.39313 14 4.87809C14 5.36305 13.628 5.75618 13.1692 5.75618H2.83079C2.37196 5.75618 2 5.36305 2 4.87809C2 4.39313 2.37196 4 2.83079 4H13.1692Z",fill:"currentColor"})}),e0=({className:e})=>n.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,children:n.jsx("g",{children:n.jsx("path",{d:"M7.99805 2C11.3116 2 13.998 4.68645 13.998 8C13.998 11.3135 11.3116 14 7.99805 14C4.6845 14 1.99805 11.3135 1.99805 8C1.99805 4.68645 4.6845 2 7.99805 2ZM4.60547 11.3945C5.4739 12.2625 6.67312 12.7998 7.99805 12.7998C10.6489 12.7998 12.7979 10.6508 12.7979 8C12.7979 6.67508 12.2605 5.47586 11.3926 4.60742L4.60547 11.3945Z",fill:"currentColor"})})}),t0=({className:e})=>n.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,children:n.jsx("g",{children:n.jsx("path",{d:"M2 8.14286H7.14286V9.85714H5.42857V15H3.71429V9.85714H2V8.14286ZM14 4.71429H10.6283V15H8.80022V4.71429H5.42857V3H14V4.71429Z",fill:"currentColor"})})}),n0=({className:e})=>n.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,children:n.jsx("g",{children:n.jsx("path",{d:"M3.72247 5.45755L3.17112 5.99358C3.05881 6.10589 2.91853 6.16204 2.75026 6.16204C2.582 6.16204 2.43641 6.10078 2.31348 5.97826C2.20117 5.86595 2.14501 5.72301 2.14501 5.54944C2.14501 5.37587 2.20117 5.23293 2.31348 5.12062L3.90625 3.52785C3.96751 3.46659 4.03387 3.4233 4.10534 3.39798C4.17681 3.37266 4.25339 3.35979 4.33507 3.35938C4.41675 3.35898 4.49332 3.37184 4.56479 3.39798C4.63626 3.42412 4.70263 3.46741 4.76389 3.52785L6.35666 5.12062C6.46897 5.23293 6.52778 5.37342 6.53309 5.54209C6.5384 5.71076 6.47959 5.85615 6.35666 5.97826C6.24435 6.09057 6.10406 6.14938 5.9358 6.15469C5.76754 6.16 5.62194 6.1063 5.49901 5.99358L4.94767 5.45755V10.5422L5.49901 10.0061C5.61132 9.89382 5.75182 9.83766 5.92049 9.83766C6.08916 9.83766 6.23455 9.89892 6.35666 10.0214C6.46897 10.1338 6.52512 10.2767 6.52512 10.4503C6.52512 10.6238 6.46897 10.7668 6.35666 10.8791L4.76389 12.4719C4.70263 12.5331 4.63626 12.5766 4.56479 12.6023C4.49332 12.6281 4.41675 12.6407 4.33507 12.6403C4.25339 12.6399 4.17681 12.6273 4.10534 12.6023C4.03387 12.5774 3.96751 12.5339 3.90625 12.4719L2.31348 10.8791C2.20117 10.7668 2.14236 10.6265 2.13705 10.4582C2.13174 10.29 2.19055 10.1444 2.31348 10.0214C2.42579 9.90913 2.56628 9.85032 2.73495 9.84501C2.90362 9.8397 3.04901 9.89341 3.17112 10.0061L3.72247 10.5422V5.45755ZM8.62329 12.2881C8.44972 12.2881 8.30433 12.2293 8.18712 12.1116C8.0699 11.994 8.0111 11.8486 8.01069 11.6755C8.01028 11.5023 8.06909 11.3569 8.18712 11.2393C8.30514 11.1217 8.45054 11.0629 8.62329 11.0629H13.5241C13.6977 11.0629 13.8433 11.1217 13.9609 11.2393C14.0785 11.3569 14.1371 11.5023 14.1367 11.6755C14.1363 11.8486 14.0775 11.9942 13.9603 12.1123C13.8431 12.2303 13.6977 12.2889 13.5241 12.2881H8.62329ZM8.62329 8.61245C8.44972 8.61245 8.30433 8.55365 8.18712 8.43603C8.0699 8.31841 8.0111 8.17301 8.01069 7.99985C8.01028 7.82669 8.06909 7.6813 8.18712 7.56368C8.30514 7.44606 8.45054 7.38725 8.62329 7.38725H13.5241C13.6977 7.38725 13.8433 7.44606 13.9609 7.56368C14.0785 7.6813 14.1371 7.82669 14.1367 7.99985C14.1363 8.17301 14.0775 8.31861 13.9603 8.43664C13.8431 8.55467 13.6977 8.61327 13.5241 8.61245H8.62329ZM8.62329 4.93684C8.44972 4.93684 8.30433 4.87803 8.18712 4.76041C8.0699 4.64279 8.0111 4.4974 8.01069 4.32423C8.01028 4.15107 8.06909 4.00568 8.18712 3.88806C8.30514 3.77044 8.45054 3.71163 8.62329 3.71163H13.5241C13.6977 3.71163 13.8433 3.77044 13.9609 3.88806C14.0785 4.00568 14.1371 4.15107 14.1367 4.32423C14.1363 4.4974 14.0775 4.64299 13.9603 4.76102C13.8431 4.87905 13.6977 4.93765 13.5241 4.93684H8.62329Z",fill:"currentColor"})})}),s0=({className:e})=>n.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,children:n.jsx("g",{opacity:"0.4",children:n.jsx("path",{d:"M2 8.14286H7.14286V9.85714H5.42857V15H3.71429V9.85714H2V8.14286ZM14 4.71429H10.6283V15H8.80022V4.71429H5.42857V3H14V4.71429Z",fill:"currentColor"})})}),i0=({className:e})=>n.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,children:n.jsx("g",{opacity:"0.4",children:n.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1.16602 1.63225C1.16602 1.50912 1.21493 1.39103 1.302 1.30395C1.38907 1.21688 1.50717 1.16797 1.6303 1.16797H13.7017C13.8249 1.16797 13.943 1.21688 14.03 1.30395C14.1171 1.39103 14.166 1.50912 14.166 1.63225C14.166 1.75539 14.1171 1.87348 14.03 1.96055C13.943 2.04762 13.8249 2.09654 13.7017 2.09654H1.6303C1.50717 2.09654 1.38907 2.04762 1.302 1.96055C1.21493 1.87348 1.16602 1.75539 1.16602 1.63225ZM1.16602 13.7037C1.16602 13.5805 1.21493 13.4625 1.302 13.3754C1.38907 13.2883 1.50717 13.2394 1.6303 13.2394H13.7017C13.8249 13.2394 13.943 13.2883 14.03 13.3754C14.1171 13.4625 14.166 13.5805 14.166 13.7037C14.166 13.8268 14.1171 13.9449 14.03 14.032C13.943 14.1191 13.8249 14.168 13.7017 14.168H1.6303C1.50717 14.168 1.38907 14.1191 1.302 14.032C1.21493 13.9449 1.16602 13.8268 1.16602 13.7037ZM4.47544 11.3823H5.41887L6.16544 9.27811H9.1703L9.91687 11.3823H10.8603L8.13216 3.95368H7.20359L4.47544 11.3823ZM8.88616 8.48047L7.69759 5.12833H7.63909L6.44866 8.48047H8.88616Z",fill:"currentColor"})})}),a0=({className:e})=>n.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,children:n.jsx("g",{opacity:"0.4",children:n.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.5 2C0.632608 2 0.759785 2.05268 0.853553 2.14645C0.947321 2.24021 1 2.36739 1 2.5V13.5C1 13.6326 0.947321 13.7598 0.853553 13.8536C0.759785 13.9473 0.632608 14 0.5 14C0.367392 14 0.240215 13.9473 0.146447 13.8536C0.0526785 13.7598 0 13.6326 0 13.5V2.5C0 2.36739 0.0526785 2.24021 0.146447 2.14645C0.240215 2.05268 0.367392 2 0.5 2ZM15.5 2C15.6326 2 15.7598 2.05268 15.8536 2.14645C15.9473 2.24021 16 2.36739 16 2.5V13.5C16 13.6326 15.9473 13.7598 15.8536 13.8536C15.7598 13.9473 15.6326 14 15.5 14C15.3674 14 15.2402 13.9473 15.1464 13.8536C15.0527 13.7598 15 13.6326 15 13.5V2.5C15 2.36739 15.0527 2.24021 15.1464 2.14645C15.2402 2.05268 15.3674 2 15.5 2ZM4.564 12H5.58L6.384 9.734H9.62L10.424 12H11.44L8.502 4H7.502L4.564 12ZM9.314 8.875L8.034 5.265H7.971L6.689 8.875H9.314Z",fill:"currentColor"})})}),r0=({className:e})=>n.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,children:n.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.248 5.5H18.998V7H18.248H5.74805H4.99805V5.5H5.74805H18.248ZM13.998 10.75H13.248H5.74805H4.99805V12.25H5.74805H13.248H13.998V10.75ZM15.998 16H15.248H5.74805H4.99805V17.5H5.74805H15.248H15.998V16Z",fill:"currentColor"})}),o0=({className:e})=>n.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,children:n.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.248 5.5H18.998V7H18.248H5.74805H4.99805V5.5H5.74805H18.248ZM15.998 10.75H15.248H8.74805H7.99805V12.25H8.74805H15.248H15.998V10.75ZM17.248 16H17.998V17.5H17.248H6.74805H5.99805V16H6.74805H17.248Z",fill:"currentColor"})}),l0=({className:e})=>n.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,children:n.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.74805 5.5H4.99805V7H5.74805H18.248H18.998V5.5H18.248H5.74805ZM10.998 10.75H10.248H18.248H18.998V12.25H18.248H10.248H10.998V10.75ZM8.99805 16H8.24805H18.248H18.998V17.5H18.248H8.24805H8.99805V16Z",fill:"currentColor"})}),c0=({className:e})=>n.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,children:n.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.248 5.5H18.998V7H18.248H5.74805H4.99805V5.5H5.74805H18.248ZM18.998 10.75H18.248H5.74805H4.99805V12.25H5.74805H18.248H18.998V10.75ZM18.248 16H18.998V17.5H18.248H5.74805H4.99805V16H5.74805H18.248Z",fill:"currentColor"})}),d0=({className:e})=>n.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,children:n.jsx("path",{d:"M6 11H18V13H6V11Z",fill:"currentColor"})}),u0=({className:e})=>n.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,children:n.jsx("path",{d:"M17.75 18.375H6.25V16.875H17.75V18.375ZM9.25 11.625C9.25009 12.427 9.54638 13.0518 10.0098 13.4805C10.4788 13.9142 11.164 14.1875 12 14.1875C12.836 14.1875 13.5211 13.9142 13.9902 13.4805C14.4536 13.0518 14.7499 12.427 14.75 11.625V4.625H16.25V11.625C16.2499 12.8225 15.7961 13.8545 15.0098 14.582C14.2289 15.3042 13.1638 15.6875 12 15.6875C10.8362 15.6875 9.77113 15.3042 8.99023 14.582C8.20387 13.8545 7.75009 12.8225 7.75 11.625V4.625H9.25V11.625Z",fill:"currentColor"})}),p0=({className:e})=>n.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,children:n.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 4.08203C10.1519 4.08203 8.89601 4.70608 8.10921 5.58031C7.34402 6.43052 7.08334 7.45034 7.08334 8.16537C7.08334 8.80112 7.25446 9.4863 7.73035 10.1238C7.82673 10.2529 7.934 10.378 8.05254 10.4987H5.75H5V11.9987H5.75H18.25H19V10.4987H18.25H11.0181L10.5177 10.3011C9.6688 9.9659 9.19511 9.57851 8.93239 9.22655C8.67477 8.88144 8.58334 8.52186 8.58334 8.16537C8.58334 7.76929 8.73934 7.12244 9.22415 6.58376C9.68734 6.0691 10.5148 5.58203 12 5.58203C13.99 5.58203 14.8295 6.45439 15.1785 7.18816L15.5006 7.86545L16.8552 7.22118L16.5331 6.54388C15.9243 5.26401 14.5425 4.08203 12 4.08203ZM16.9167 14.7487V13.9987H15.4167V14.7487C15.4167 15.1478 15.2587 15.8193 14.7686 16.3802C14.302 16.9142 13.4759 17.4154 12 17.4154C10.1395 17.4154 9.27285 16.5389 8.87848 15.7987L8.52584 15.1367L7.20199 15.842L7.55464 16.504C8.18889 17.6945 9.54264 18.9154 12 18.9154C13.8575 18.9154 15.1147 18.2639 15.8981 17.3672C16.658 16.4975 16.9167 15.4608 16.9167 14.7487Z",fill:"currentColor"})}),m0=({className:e})=>n.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,children:n.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.25 5H9H17.75H18.5V6.5H17.75H14.5475L11.0275 17.5H15H15.75V19H15H6.25H5.5V17.5H6.25H9.45254L12.9725 6.5H9H8.25V5Z",fill:"currentColor"})}),h0=({className:e})=>n.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,children:n.jsx("g",{opacity:"0.4",children:n.jsx("path",{d:"M14 1V15H12.5V1H14ZM5.00488 5.89746C5.05621 5.39333 5.48232 5 6 5H10L10.1025 5.00488C10.573 5.05278 10.9472 5.42703 10.9951 5.89746L11 6V10L10.9951 10.1025C10.9472 10.573 10.573 10.9472 10.1025 10.9951L10 11H6C5.48232 11 5.05621 10.6067 5.00488 10.1025L5 10V6L5.00488 5.89746ZM9.5 9.5V6.5H6.5V9.5H9.5ZM3.5 1V15H2V1H3.5Z",fill:"currentColor"})})}),x0=({className:e})=>n.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,children:n.jsx("g",{opacity:"0.4",children:n.jsx("path",{d:"M15 14H1V12.5H15V14ZM10.1025 5.00488C10.6067 5.05621 11 5.48232 11 6V10L10.9951 10.1025C10.9472 10.573 10.573 10.9472 10.1025 10.9951L10 11H6L5.89746 10.9951C5.42703 10.9472 5.05278 10.573 5.00488 10.1025L5 10V6C5 5.48232 5.39333 5.05621 5.89746 5.00488L6 5H10L10.1025 5.00488ZM6.5 9.5H9.5V6.5H6.5V9.5ZM15 3.5H1V2H15V3.5Z",fill:"currentColor"})})}),f0=({className:e})=>n.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,children:n.jsx("g",{opacity:"0.4",children:n.jsx("path",{d:"M14.9951 14.1025C14.9438 14.6067 14.5177 15 14 15H2L1.89746 14.9951C1.42703 14.9472 1.05278 14.573 1.00488 14.1025L1 14V2L1.00488 1.89746C1.05278 1.42703 1.42703 1.05278 1.89746 1.00488L2 1H14C14.5177 1 14.9438 1.39333 14.9951 1.89746L15 2V14L14.9951 14.1025ZM2.5 2.5V13.5H13.5V2.5H2.5ZM4.2666 12.375V3.625H5.66699V12.375H4.2666ZM10.333 12.375V3.625H11.7334V12.375H10.333Z",fill:"currentColor"})})}),g0=({className:e})=>n.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,children:n.jsx("g",{opacity:"0.4",children:n.jsx("path",{d:"M14.1025 1.00488C14.6067 1.05621 15 1.48232 15 2V14L14.9951 14.1025C14.9472 14.573 14.573 14.9472 14.1025 14.9951L14 15H2L1.89746 14.9951C1.42703 14.9472 1.05278 14.573 1.00488 14.1025L1 14V2C1 1.48232 1.39333 1.05621 1.89746 1.00488L2 1H14L14.1025 1.00488ZM2.5 13.5H13.5V2.5H2.5V13.5ZM12.375 11.7334H3.625V10.333H12.375V11.7334ZM12.375 5.66699H3.625V4.2666H12.375V5.66699Z",fill:"currentColor"})})}),v0=({className:e})=>n.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,children:n.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1 5.25V6H2.5V5.25V2.5H5.25H6V1H5.25H2C1.44772 1 1 1.44772 1 2V5.25ZM5.25 14.9994H6V13.4994H5.25H2.5V10.7494V9.99939H1V10.7494V13.9994C1 14.5517 1.44772 14.9994 2 14.9994H5.25ZM15 10V10.75V14C15 14.5523 14.5523 15 14 15H10.75H10V13.5H10.75H13.5V10.75V10H15ZM10.75 1H10V2.5H10.75H13.5V5.25V6H15V5.25V2C15 1.44772 14.5523 1 14 1H10.75Z",fill:"currentColor"})}),b0=({className:e})=>n.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,children:n.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6 1V1.75V5C6 5.55229 5.55228 6 5 6H1.75H1V4.5H1.75H4.5V1.75V1H6ZM14.25 6H15V4.5H14.25H11.5V1.75V1H10V1.75V5C10 5.55228 10.4477 6 11 6H14.25ZM10 14.25V15H11.5V14.25V11.5H14.29H15.04V10H14.29H11C10.4477 10 10 10.4477 10 11V14.25ZM1.75 10H1V11.5H1.75H4.5V14.25V15H6V14.25V11C6 10.4477 5.55229 10 5 10H1.75Z",fill:"currentColor"})}),y0=({className:e})=>n.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,children:n.jsx("g",{opacity:"0.4",children:n.jsx("path",{d:"M10.1025 5.00488C10.6067 5.05621 11 5.48232 11 6V10L10.9951 10.1025C10.9472 10.573 10.573 10.9472 10.1025 10.9951L10 11H6L5.89746 10.9951C5.42703 10.9472 5.05278 10.573 5.00488 10.1025L5 10V6C5 5.48232 5.39333 5.05621 5.89746 5.00488L6 5H10L10.1025 5.00488ZM6.5 9.5H9.5V6.5H6.5V9.5ZM15 3.5H1V2H15V3.5Z",fill:"currentColor"})})}),w0=({className:e})=>n.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,children:n.jsx("g",{opacity:"0.4",children:n.jsx("path",{d:"M15 14H1V12.5H15V14ZM10.1025 5.00488C10.6067 5.05621 11 5.48232 11 6V10L10.9951 10.1025C10.9472 10.573 10.573 10.9472 10.1025 10.9951L10 11H6L5.89746 10.9951C5.42703 10.9472 5.05278 10.573 5.00488 10.1025L5 10V6C5 5.48232 5.39333 5.05621 5.89746 5.00488L6 5H10L10.1025 5.00488ZM6.5 9.5H9.5V6.5H6.5V9.5Z",fill:"currentColor"})})}),j0=({className:e})=>n.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,children:n.jsx("g",{opacity:"0.4",children:n.jsx("path",{d:"M5.00488 5.89746C5.05621 5.39333 5.48232 5 6 5H10L10.1025 5.00488C10.573 5.05278 10.9472 5.42703 10.9951 5.89746L11 6V10L10.9951 10.1025C10.9472 10.573 10.573 10.9472 10.1025 10.9951L10 11H6C5.48232 11 5.05621 10.6067 5.00488 10.1025L5 10V6L5.00488 5.89746ZM9.5 9.5V6.5H6.5V9.5H9.5ZM3.5 1V15H2V1H3.5Z",fill:"currentColor"})})}),C0=({className:e})=>n.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,children:n.jsx("g",{opacity:"0.4",children:n.jsx("path",{d:"M14 1V15H12.5V1H14ZM5.00488 5.89746C5.05621 5.39333 5.48232 5 6 5H10L10.1025 5.00488C10.573 5.05278 10.9472 5.42703 10.9951 5.89746L11 6V10L10.9951 10.1025C10.9472 10.573 10.573 10.9472 10.1025 10.9951L10 11H6C5.48232 11 5.05621 10.6067 5.00488 10.1025L5 10V6L5.00488 5.89746ZM9.5 9.5V6.5H6.5V9.5H9.5Z",fill:"currentColor"})})}),N0=({className:e})=>n.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,children:n.jsx("g",{opacity:"0.4",children:n.jsx("path",{d:"M14.1025 1.00488C14.6067 1.05621 15 1.48232 15 2V14L14.9951 14.1025C14.9472 14.573 14.573 14.9472 14.1025 14.9951L14 15H2L1.89746 14.9951C1.42703 14.9472 1.05278 14.573 1.00488 14.1025L1 14V2C1 1.48232 1.39333 1.05621 1.89746 1.00488L2 1H14L14.1025 1.00488ZM2.5 13.5H13.5V2.5H2.5V13.5ZM12.375 5.66699H3.625V4.2666H12.375V5.66699Z",fill:"currentColor"})})}),F0=({className:e})=>n.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,children:n.jsx("g",{opacity:"0.4",children:n.jsx("path",{d:"M14.1025 1.00488C14.6067 1.05621 15 1.48232 15 2V14L14.9951 14.1025C14.9472 14.573 14.573 14.9472 14.1025 14.9951L14 15H2L1.89746 14.9951C1.42703 14.9472 1.05278 14.573 1.00488 14.1025L1 14V2C1 1.48232 1.39333 1.05621 1.89746 1.00488L2 1H14L14.1025 1.00488ZM2.5 13.5H13.5V2.5H2.5V13.5ZM12.375 11.7334H3.625V10.333H12.375V11.7334Z",fill:"currentColor"})})}),_0=({className:e})=>n.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,children:n.jsx("g",{opacity:"0.4",children:n.jsx("path",{d:"M14.9951 14.1025C14.9438 14.6067 14.5177 15 14 15H2L1.89746 14.9951C1.42703 14.9472 1.05278 14.573 1.00488 14.1025L1 14V2L1.00488 1.89746C1.05278 1.42703 1.42703 1.05278 1.89746 1.00488L2 1H14C14.5177 1 14.9438 1.39333 14.9951 1.89746L15 2V14L14.9951 14.1025ZM2.5 2.5V13.5H13.5V2.5H2.5ZM4.2666 12.375V3.625H5.66699V12.375H4.2666Z",fill:"currentColor"})})}),k0=({className:e})=>n.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,children:n.jsx("g",{opacity:"0.4",children:n.jsx("path",{d:"M14.9951 14.1025C14.9438 14.6067 14.5177 15 14 15H2L1.89746 14.9951C1.42703 14.9472 1.05278 14.573 1.00488 14.1025L1 14V2L1.00488 1.89746C1.05278 1.42703 1.42703 1.05278 1.89746 1.00488L2 1H14C14.5177 1 14.9438 1.39333 14.9951 1.89746L15 2V14L14.9951 14.1025ZM2.5 2.5V13.5H13.5V2.5H2.5ZM10.333 12.375V3.625H11.7334V12.375H10.333Z",fill:"currentColor"})})}),S0=({className:e})=>n.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,children:n.jsx("g",{children:n.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.4444 13.0556C13.4444 13.2702 13.6187 13.4444 13.8333 13.4444H14.2222C14.4285 13.4444 14.6263 13.5264 14.7722 13.6722C14.9181 13.8181 15 14.0159 15 14.2222C15 14.4285 14.9181 14.6263 14.7722 14.7722C14.6263 14.9181 14.4285 15 14.2222 15H13.8333C12.76 15 11.8889 14.1289 11.8889 13.0556V2.94444C11.8889 1.87111 12.76 1 13.8333 1H14.2222C14.4285 1 14.6263 1.08194 14.7722 1.22781C14.9181 1.37367 15 1.5715 15 1.77778C15 1.98406 14.9181 2.18189 14.7722 2.32775C14.6263 2.47361 14.4285 2.55556 14.2222 2.55556H13.8333C13.7302 2.55556 13.6313 2.59653 13.5583 2.66946C13.4854 2.74239 13.4444 2.8413 13.4444 2.94444V13.0556ZM1 14.2222C1 14.0159 1.08194 13.8181 1.22781 13.6722C1.37367 13.5264 1.5715 13.4444 1.77778 13.4444H2.16667C2.26981 13.4444 2.36872 13.4035 2.44165 13.3305C2.51458 13.2576 2.55556 13.1587 2.55556 13.0556V2.94444C2.55556 2.8413 2.51458 2.74239 2.44165 2.66946C2.36872 2.59653 2.26981 2.55556 2.16667 2.55556H1.77778C1.5715 2.55556 1.37367 2.47361 1.22781 2.32775C1.08194 2.18189 1 1.98406 1 1.77778C1 1.5715 1.08194 1.37367 1.22781 1.22781C1.37367 1.08194 1.5715 1 1.77778 1H2.16667C3.24 1 4.11111 1.87111 4.11111 2.94444V13.0556C4.11111 14.1289 3.24 15 2.16667 15H1.77778C1.5715 15 1.37367 14.9181 1.22781 14.7722C1.08194 14.6263 1 14.4285 1 14.2222ZM7.22222 11.1111C7.22222 11.3174 7.30417 11.5152 7.45003 11.6611C7.59589 11.8069 7.79372 11.8889 8 11.8889C8.20628 11.8889 8.40411 11.8069 8.54997 11.6611C8.69583 11.5152 8.77778 11.3174 8.77778 11.1111V4.88889C8.77778 4.68261 8.69583 4.48478 8.54997 4.33892C8.40411 4.19305 8.20628 4.11111 8 4.11111C7.79372 4.11111 7.59589 4.19305 7.45003 4.33892C7.30417 4.48478 7.22222 4.68261 7.22222 4.88889V11.1111Z",fill:"currentColor"})})}),E0=({className:e})=>n.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,children:[n.jsx("g",{opacity:"0.4",clipPath:"url(#clip0_opacity)",children:n.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.66667 1.33333H13.3333C13.687 1.33333 14.0261 1.47381 14.2761 1.72386C14.5262 1.97391 14.6667 2.31304 14.6667 2.66667V13.3333C14.6667 13.687 14.5262 14.0261 14.2761 14.2761C14.0261 14.5262 13.687 14.6667 13.3333 14.6667H2.66667C2.31304 14.6667 1.97391 14.5262 1.72386 14.2761C1.47381 14.0261 1.33333 13.687 1.33333 13.3333V2.66667C1.33333 2.31304 1.47381 1.97391 1.72386 1.72386C1.97391 1.47381 2.31304 1.33333 2.66667 1.33333ZM0 2.66667C0 1.95942 0.280951 1.28115 0.781048 0.781048C1.28115 0.280951 1.95942 0 2.66667 0H13.3333C14.0406 0 14.7189 0.280951 15.219 0.781048C15.719 1.28115 16 1.95942 16 2.66667V13.3333C16 14.0406 15.719 14.7189 15.219 15.219C14.7189 15.719 14.0406 16 13.3333 16H2.66667C1.95942 16 1.28115 15.719 0.781048 15.219C0.280951 14.7189 0 14.0406 0 13.3333V2.66667ZM12 4.66667C12.1768 4.66667 12.3464 4.59643 12.4714 4.47141C12.5964 4.34638 12.6667 4.17681 12.6667 4C12.6667 3.82319 12.5964 3.65362 12.4714 3.52859C12.3464 3.40357 12.1768 3.33333 12 3.33333C11.8232 3.33333 11.6536 3.40357 11.5286 3.52859C11.4036 3.65362 11.3333 3.82319 11.3333 4C11.3333 4.17681 11.4036 4.34638 11.5286 4.47141C11.6536 4.59643 11.8232 4.66667 12 4.66667ZM10 6.66667C10 6.84348 9.92976 7.01305 9.80474 7.13807C9.67971 7.2631 9.51014 7.33333 9.33333 7.33333C9.15652 7.33333 8.98695 7.2631 8.86193 7.13807C8.7369 7.01305 8.66667 6.84348 8.66667 6.66667C8.66667 6.48986 8.7369 6.32029 8.86193 6.19526C8.98695 6.07024 9.15652 6 9.33333 6C9.51014 6 9.67971 6.07024 9.80474 6.19526C9.92976 6.32029 10 6.48986 10 6.66667ZM7.33333 9.33333C7.33333 9.51014 7.2631 9.67971 7.13807 9.80474C7.01305 9.92976 6.84348 10 6.66667 10C6.48986 10 6.32029 9.92976 6.19526 9.80474C6.07024 9.67971 6 9.51014 6 9.33333C6 9.15652 6.07024 8.98695 6.19526 8.86193C6.32029 8.7369 6.48986 8.66667 6.66667 8.66667C6.84348 8.66667 7.01305 8.7369 7.13807 8.86193C7.2631 8.98695 7.33333 9.15652 7.33333 9.33333ZM4.66667 12C4.66667 12.1768 4.59643 12.3464 4.47141 12.4714C4.34638 12.5964 4.17681 12.6667 4 12.6667C3.82319 12.6667 3.65362 12.5964 3.52859 12.4714C3.40357 12.3464 3.33333 12.1768 3.33333 12C3.33333 11.8232 3.40357 11.6536 3.52859 11.5286C3.65362 11.4036 3.82319 11.3333 4 11.3333C4.17681 11.3333 4.34638 11.4036 4.47141 11.5286C4.59643 11.6536 4.66667 11.8232 4.66667 12ZM6.66667 12.6667C6.84348 12.6667 7.01305 12.5964 7.13807 12.4714C7.2631 12.3464 7.33333 12.1768 7.33333 12C7.33333 11.8232 7.2631 11.6536 7.13807 11.5286C7.01305 11.4036 6.84348 11.3333 6.66667 11.3333C6.48986 11.3333 6.32029 11.4036 6.19526 11.5286C6.07024 11.6536 6 11.8232 6 12C6 12.1768 6.07024 12.3464 6.19526 12.4714C6.32029 12.5964 6.48986 12.6667 6.66667 12.6667ZM9.33333 10C9.51014 10 9.67971 9.92976 9.80474 9.80474C9.92976 9.67971 10 9.51014 10 9.33333C10 9.15652 9.92976 8.98695 9.80474 8.86193C9.67971 8.7369 9.51014 8.66667 9.33333 8.66667C9.15652 8.66667 8.98695 8.7369 8.86193 8.86193C8.7369 8.98695 8.66667 9.15652 8.66667 9.33333C8.66667 9.51014 8.7369 9.67971 8.86193 9.80474C8.98695 9.92976 9.15652 10 9.33333 10ZM10 12C10 12.1768 9.92976 12.3464 9.80474 12.4714C9.67971 12.5964 9.51014 12.6667 9.33333 12.6667C9.15652 12.6667 8.98695 12.5964 8.86193 12.4714C8.7369 12.3464 8.66667 12.1768 8.66667 12C8.66667 11.8232 8.7369 11.6536 8.86193 11.5286C8.98695 11.4036 9.15652 11.3333 9.33333 11.3333C9.51014 11.3333 9.67971 11.4036 9.80474 11.5286C9.92976 11.6536 10 11.8232 10 12ZM12.6667 6.66667C12.6667 6.84348 12.5964 7.01305 12.4714 7.13807C12.3464 7.2631 12.1768 7.33333 12 7.33333C11.8232 7.33333 11.6536 7.2631 11.5286 7.13807C11.4036 7.01305 11.3333 6.84348 11.3333 6.66667C11.3333 6.48986 11.4036 6.32029 11.5286 6.19526C11.6536 6.07024 11.8232 6 12 6C12.1768 6 12.3464 6.07024 12.4714 6.19526C12.5964 6.32029 12.6667 6.48986 12.6667 6.66667ZM12 10C12.1768 10 12.3464 9.92976 12.4714 9.80474C12.5964 9.67971 12.6667 9.51014 12.6667 9.33333C12.6667 9.15652 12.5964 8.98695 12.4714 8.86193C12.3464 8.7369 12.1768 8.66667 12 8.66667C11.8232 8.66667 11.6536 8.7369 11.5286 8.86193C11.4036 8.98695 11.3333 9.15652 11.3333 9.33333C11.3333 9.51014 11.4036 9.67971 11.5286 9.80474C11.6536 9.92976 11.8232 10 12 10ZM12.6667 12C12.6667 12.1768 12.5964 12.3464 12.4714 12.4714C12.3464 12.5964 12.1768 12.6667 12 12.6667C11.8232 12.6667 11.6536 12.5964 11.5286 12.4714C11.4036 12.3464 11.3333 12.1768 11.3333 12C11.3333 11.8232 11.4036 11.6536 11.5286 11.5286C11.6536 11.4036 11.8232 11.3333 12 11.3333C12.1768 11.3333 12.3464 11.4036 12.4714 11.5286C12.5964 11.6536 12.6667 11.8232 12.6667 12Z",fill:"currentColor"})}),n.jsx("defs",{children:n.jsx("clipPath",{id:"clip0_opacity",children:n.jsx("rect",{width:"16",height:"16",fill:"white"})})})]}),I0=({className:e})=>n.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,children:[n.jsx("g",{opacity:"0.4",clipPath:"url(#clip0_shadow)",children:n.jsxs("g",{clipPath:"url(#clip1_shadow)",children:[n.jsx("mask",{id:"mask0_shadow",style:{maskType:"luminance"},maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"16",height:"16",children:n.jsx("path",{d:"M16 0H0V16H16V0Z",fill:"white"})}),n.jsxs("g",{mask:"url(#mask0_shadow)",children:[n.jsx("path",{opacity:"0.33",d:"M15.25 11.9981C15.25 13.793 13.7949 15.2481 12 15.2481H4C2.20508 15.2481 0.750002 13.793 0.75 11.9981V11.9473C1.63982 13.0705 3.00385 13.748 4.47168 13.7481H11.2832C12.8846 13.748 14.3732 12.9398 15.25 11.6055V11.9981Z",fill:"currentColor",stroke:"currentColor",strokeWidth:"1.5",strokeLinejoin:"round"}),n.jsx("path",{d:"M12 0.75H4C2.20507 0.75 0.75 2.20507 0.75 4V9C0.75 10.7949 2.20507 12.25 4 12.25H12C13.7949 12.25 15.25 10.7949 15.25 9V4C15.25 2.20507 13.7949 0.75 12 0.75Z",stroke:"currentColor",strokeWidth:"1.5",strokeLinejoin:"round"})]})]})}),n.jsxs("defs",{children:[n.jsx("clipPath",{id:"clip0_shadow",children:n.jsx("rect",{width:"16",height:"16",fill:"white"})}),n.jsx("clipPath",{id:"clip1_shadow",children:n.jsx("rect",{width:"16",height:"16",fill:"white"})})]})]}),A0=[{name:"Inherit (from parent)",value:""},{name:"Sans-serif",value:"sans-serif"},{name:"Serif",value:"serif"},{name:"Monospace",value:"monospace"},{name:"Arial",value:"Arial"},{name:"Times New Roman",value:"Times New Roman"},{name:"Georgia",value:"Georgia"},{name:"Courier New",value:"Courier New"},{name:"Verdana",value:"Verdana"},{name:"Trebuchet MS",value:"Trebuchet MS"},{name:"Comic Sans MS",value:"Comic Sans MS"},{name:"Impact",value:"Impact"},{name:"Tahoma",value:"Tahoma"}];function T0(e){const t=e.split(" ").filter(Boolean),n=e=>{for(const n of t){const{normalized:t,important:s}=R0(n);if(e(t))return{normalized:t,important:s}}return null},s=n(e=>B0.has(e)),i=(null==s?void 0:s.normalized)??"",a=(null==s?void 0:s.important)??!1,r=n(e=>H0.has(e)),o=(null==r?void 0:r.normalized)??"",l=(null==r?void 0:r.important)??!1,c=n(e=>e.startsWith("leading-"));let d="";const u=(null==c?void 0:c.important)??!1,p=(null==c?void 0:c.normalized)??"";if(p&&p.startsWith("leading-[")&&p.endsWith("]")){d=p.slice(9,-1).replace("rem","")}const m=n(e=>e.startsWith("tracking-"));let h="";const x=(null==m?void 0:m.important)??!1,f=(null==m?void 0:m.normalized)??"";if(f&&f.startsWith("tracking-[")&&f.endsWith("]")){h=f.slice(10,-1).replace("em","")}const g=n(e=>$0.has(e)),v=(null==g?void 0:g.normalized)??"",b=(null==g?void 0:g.important)??!1,y=n(e=>"underline"===e),w=n(e=>"line-through"===e),j=n(e=>"italic"===e);let C="none",N=!1;y?(C="underline",N=y.important):w?(C="line-through",N=w.important):j&&(C="italic",N=j.important);let F="",_=!1;const k=n(e=>e.startsWith("font-[")||"font-sans"===e||"font-serif"===e||"font-mono"===e);if(k){const e=k.normalized;if(_=k.important,"font-sans"===e)F="sans-serif";else if("font-serif"===e)F="serif";else if("font-mono"===e)F="monospace";else if(e.startsWith("font-[")&&e.endsWith("]")){F=e.slice(6,-1).replace(/['"]/g,"").replace(/_/g," ")}}return{fontWeight:i,fontWeightImportant:a,fontSize:o,fontSizeImportant:l,lineHeight:d,lineHeightImportant:u,letterSpacing:h,letterSpacingImportant:x,textAlign:v,textAlignImportant:b,textDecoration:C,textDecorationImportant:N,fontFamily:F,fontFamilyImportant:_}}function D0(e){const t=e.split(" ").filter(Boolean),n={0:"0",.5:"2",1:"4",1.5:"6",2:"8",2.5:"10",3:"12",3.5:"14",4:"16",5:"20",6:"24",7:"28",8:"32",9:"36",10:"40",11:"44",12:"48",14:"56",16:"64",20:"80",24:"96",28:"112",32:"128",36:"144",40:"160",44:"176",48:"192",52:"208",56:"224",60:"240",64:"256",72:"288",80:"320",96:"384"},s=(e,t)=>{if(!e.startsWith(t))return"";const s=e.substring(t.length);if(s.startsWith("[")&&s.endsWith("]")){return s.slice(1,-1).replace("px","")}return n[s]||""},i=e=>t.find(t=>{const{normalized:n}=R0(t);return n.startsWith(e)});let a="",r="",o="",l="";const c=i("mt-"),d=i("mb-"),u=i("ml-"),p=i("mr-");if(c){const{normalized:e}=R0(c);a=s(e,"mt-")}if(d){const{normalized:e}=R0(d);r=s(e,"mb-")}if(u){const{normalized:e}=R0(u);o=s(e,"ml-")}if(p){const{normalized:e}=R0(p);l=s(e,"mr-")}const m=i("mx-"),h=i("my-"),x=t.find(e=>{const{normalized:t}=R0(e);return/^m-\d/.test(t)||t.startsWith("m-[")});if(m&&!u&&!p){const{normalized:e}=R0(m),t=s(e,"mx-");o=t,l=t}if(h&&!c&&!d){const{normalized:e}=R0(h),t=s(e,"my-");a=t,r=t}if(x&&!c&&!d&&!u&&!p){const{normalized:e}=R0(x),t=s(e,"m-");a=t,r=t,o=t,l=t}let f="",g="",v="",b="";const y=i("pt-"),w=i("pb-"),j=i("pl-"),C=i("pr-");if(y){const{normalized:e}=R0(y);f=s(e,"pt-")}if(w){const{normalized:e}=R0(w);g=s(e,"pb-")}if(j){const{normalized:e}=R0(j);v=s(e,"pl-")}if(C){const{normalized:e}=R0(C);b=s(e,"pr-")}const N=i("px-"),F=i("py-"),_=t.find(e=>{const{normalized:t}=R0(e);return/^p-\d/.test(t)||t.startsWith("p-[")});if(N&&!j&&!C){const{normalized:e}=R0(N),t=s(e,"px-");v=t,b=t}if(F&&!y&&!w){const{normalized:e}=R0(F),t=s(e,"py-");f=t,g=t}if(_&&!y&&!w&&!j&&!C){const{normalized:e}=R0(_),t=s(e,"p-");f=t,g=t,v=t,b=t}return{marginTop:a,marginBottom:r,marginLeft:o,marginRight:l,marginLinked:""===a&&""===r&&""===o&&""===l||a===r&&r===o&&o===l&&""!==a,paddingTop:f,paddingBottom:g,paddingLeft:v,paddingRight:b,paddingLinked:""===f&&""===g&&""===v&&""===b||f===g&&g===v&&v===b&&""!==f}}function M0(e){const t=e.split(" ").filter(Boolean),n={0:"0",.5:"2",1:"4",1.5:"6",2:"8",2.5:"10",3:"12",3.5:"14",4:"16",5:"20",6:"24",7:"28",8:"32",9:"36",10:"40",11:"44",12:"48",14:"56",16:"64",20:"80",24:"96",28:"112",32:"128",36:"144",40:"160",44:"176",48:"192",52:"208",56:"224",60:"240",64:"256",72:"288",80:"320",96:"384"},s=t.find(e=>{const{normalized:t}=R0(e);return t.startsWith("gap-")&&!t.startsWith("gap-x-")&&!t.startsWith("gap-y-")});let i="";if(s){const{normalized:e}=R0(s);i=((e,t)=>{if(!e.startsWith(t))return"";const s=e.substring(t.length);if(s.startsWith("[")&&s.endsWith("]"))return s.slice(1,-1).replace("px","");return n[s]||""})(e,"gap-")}return i}const L0=e=>e.split(/\s+/).map(e=>e.trim()).filter(Boolean),P0=(e,t)=>{if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0},R0=e=>e.startsWith("!")?{normalized:e.slice(1),important:!0}:{normalized:e,important:!1},O0=e=>e?e.startsWith("!")?e:`!${e}`:e??null,z0=e=>{var t;const n=e.match(/!?(?:text|bg)-\[(.+)\]/);if(!n)return null;const s=(null==(t=n[1])?void 0:t.trim())??"";if(!s)return null;try{const e=N1(s),t=Math.round(100*e.alpha());return{color:e.alpha(1).hex(),opacity:t}}catch(i){return null}},B0=new Set(["font-thin","font-extralight","font-light","font-normal","font-medium","font-semibold","font-bold","font-extrabold"]),H0=new Set(["text-xs","text-sm","text-base","text-lg","text-xl","text-2xl","text-3xl","text-4xl","text-5xl","text-6xl","text-7xl","text-8xl","text-9xl"]),$0=new Set(["text-left","text-center","text-right","text-justify"]),U0=new Set(["underline","no-underline","line-through","italic","not-italic"]),V0=e=>(()=>{const{normalized:t}=R0(e);return B0.has(t)||H0.has(t)||t.startsWith("leading-")||t.startsWith("tracking-")||$0.has(t)||U0.has(t)||"font-sans"===t||"font-serif"===t||"font-mono"===t||t.startsWith("font-[")})(),W0=e=>{const{normalized:t}=R0(e);return t.startsWith("m-")||t.startsWith("mt-")||t.startsWith("mb-")||t.startsWith("ml-")||t.startsWith("mr-")||t.startsWith("mx-")||t.startsWith("my-")||t.startsWith("p-")||t.startsWith("pt-")||t.startsWith("pb-")||t.startsWith("pl-")||t.startsWith("pr-")||t.startsWith("px-")||t.startsWith("py-")||t.startsWith("gap-")},q0=e=>{const{normalized:t}=R0(e);return"rounded"===t||t.startsWith("rounded-")||/^rounded-(none|sm|md|lg|xl|2xl|3xl|full)$/.test(t)},G0=e=>{const{normalized:t}=R0(e);return t.startsWith("opacity-")||t.startsWith("opacity-[")},Z0=e=>{const{normalized:t}=R0(e);return"shadow"===t||t.startsWith("shadow-")},Y0=e=>(e=>e.startsWith("text-[")||e.startsWith("!text-[")||e.startsWith("text-")&&!H0.has(e)&&!$0.has(e))(e)||(e=>e.startsWith("bg-[")||e.startsWith("!bg-[")||"bg-transparent"===e||"!bg-transparent"===e||e.startsWith("bg-")&&!e.startsWith("bg-gradient"))(e),K0=e=>V0(e)||W0(e)||(e=>q0(e)||G0(e)||Z0(e))(e)||Y0(e);function J0(e){const t=e.split(" ").filter(Boolean),n=(e,t)=>{if(!e.startsWith(t))return"";const n=e.substring(t.length);if(n.startsWith("[")&&n.endsWith("]")){const e=n.slice(1,-1);return e.endsWith("px")?e.slice(0,-2):e}const s=H1[n]??null;return null!==s?s:""};let s="",i="",a="",r="";const o=t.find(e=>{const{normalized:t}=R0(e);return t.startsWith("rounded-t-")}),l=t.find(e=>{const{normalized:t}=R0(e);return t.startsWith("rounded-b-")}),c=t.find(e=>{const{normalized:t}=R0(e);return t.startsWith("rounded-l-")}),d=t.find(e=>{const{normalized:t}=R0(e);return t.startsWith("rounded-r-")});if(o){const{normalized:e}=R0(o);s=n(e,"rounded-t-")}if(l){const{normalized:e}=R0(l);i=n(e,"rounded-b-")}if(c){const{normalized:e}=R0(c);a=n(e,"rounded-l-")}if(d){const{normalized:e}=R0(d);r=n(e,"rounded-r-")}const u=t.find(e=>{const{normalized:t}=R0(e);return("rounded"===t||t.startsWith("rounded-"))&&!t.startsWith("rounded-t-")&&!t.startsWith("rounded-b-")&&!t.startsWith("rounded-l-")&&!t.startsWith("rounded-r-")&&!t.startsWith("rounded-tl-")&&!t.startsWith("rounded-tr-")&&!t.startsWith("rounded-bl-")&&!t.startsWith("rounded-br-")});if(u&&!o&&!l&&!c&&!d){const{normalized:e}=R0(u),t=n(e,"rounded-");s=t,i=t,a=t,r=t}const p=""===s&&""===i&&""===a&&""===r||s===i&&i===a&&a===r&&""!==s;let m="100";const h=t.map(e=>({original:e,...R0(e)})).find(({normalized:e})=>e.startsWith("opacity-"));if(h){const e=h.normalized.substring(8);if(e.startsWith("[")&&e.endsWith("]")){const t=e.slice(1,-1).trim(),n=t.endsWith("%")?t.slice(0,-1):t,s=Number(n);m=Number.isNaN(s)?n:s.toString()}else m=e}let x="none";const f=t.map(e=>({original:e,...R0(e)})).find(({normalized:e})=>"shadow"===e||e.startsWith("shadow-"));if(f){const{normalized:e}=f;if("shadow"===e)x="md";else{x=e.substring(7)}}return{cornerRadiusTop:s,cornerRadiusBottom:i,cornerRadiusLeft:a,cornerRadiusRight:r,cornerRadiusLinked:p,elementOpacity:m,shadow:x}}const Q0=({value:e,onValueChange:t})=>n.jsxs(OS,{value:e,onValueChange:t,children:[n.jsx(BS,{className:"w-auto h-6 text-sm bg-transparent border-0 ml-0 p-0 shadow-none focus:ring-0 text-white hover:bg-transparent [&>svg]:hidden gap-0",children:n.jsx(zS,{})}),n.jsxs(US,{className:"min-w-[4rem] bg-[#1A1A1A] border-[rgba(255,255,255,0.12)] rounded-lg",children:[n.jsx(VS,{value:"rem",className:"text-white text-sm py-1.5 pl-6 pr-2 focus:bg-[rgba(255,255,255,0.1)] focus:text-white cursor-pointer",children:"rem"}),n.jsx(VS,{value:"em",className:"text-white text-sm py-1.5 pl-6 pr-2 focus:bg-[rgba(255,255,255,0.1)] focus:text-white cursor-pointer",children:"em"}),n.jsx(VS,{value:"px",className:"text-white text-sm py-1.5 pl-6 pr-2 focus:bg-[rgba(255,255,255,0.1)] focus:text-white cursor-pointer",children:"px"})]})]});function X0({label:e,color:t,opacity:s,hasColor:i,onColorChange:a,onOpacityChange:r,onToggleColor:o,colorType:l,showColorPicker:c,activeColorPicker:d,onOpenColorPicker:u,onCloseColorPicker:p}){const[m,h]=De.useState({top:0,left:0}),x=De.useRef(null),f=De.useRef(null),g=De.useRef(null),v=De.useRef({color:t,hasColor:i}),[b,y]=De.useState(i?t.replace("#",""):"none"),w=c&&d===l;De.useEffect(()=>{if(document.activeElement===g.current)return;if(v.current.color!==t||v.current.hasColor!==i){const e=i?t.replace("#",""):"none";y(e),v.current={color:t,hasColor:i}}},[t,i]);const j=De.useMemo(()=>{if(!i)return"rgba(255, 255, 255, 0)";return N1(t).alpha(s/100).rgb().string()},[i,t,s]);De.useEffect(()=>{const e=e=>{var t;const n=e.target;if(f.current&&f.current.contains(n))return;(null==(t=n.closest)?void 0:t.call(n,"[data-radix-popper-content-wrapper], [data-radix-select-content]"))||p()},t=e=>{"Escape"===e.key&&p()};return w&&(document.addEventListener("mousedown",e),document.addEventListener("keydown",t)),()=>{document.removeEventListener("mousedown",e),document.removeEventListener("keydown",t)}},[w,p]);const C=i?{backgroundColor:t}:{background:"linear-gradient(45deg, rgba(255,255,255,0.1) 25%, transparent 25%, transparent 75%, rgba(255,255,255,0.1) 75%), linear-gradient(45deg, rgba(255,255,255,0.1) 25%, transparent 25%, transparent 75%, rgba(255,255,255,0.1) 75%)",backgroundSize:"4px 4px",backgroundPosition:"0 0, 2px 2px"};return n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"block text-xs font-medium text-white/50",children:e}),n.jsx("div",{className:"bg-[rgba(255,255,255,0.04)] border border-[rgba(255,255,255,0.12)] focus-within:border-[rgba(255,255,255,0.3)] rounded-lg",children:n.jsxs("div",{className:"flex items-center p-2.5 h-[36px]",children:[n.jsx("div",{ref:x,className:"w-[14px] h-[14px] rounded-[4px] border border-[rgba(255,255,255,0.12)] mr-2.5 flex-shrink-0 cursor-pointer hover:border-[rgba(255,255,255,0.2)] transition-colors",style:C,onClick:e=>{if(e.stopPropagation(),!x.current)return;const t=x.current.getBoundingClientRect();let n=t.bottom+8,s=t.left;s+280>window.innerWidth&&(s=t.right-280),n+200>window.innerHeight&&(n=t.top-200-8),n=Math.max(8,Math.min(n,window.innerHeight-200-8)),s=Math.max(8,Math.min(s,window.innerWidth-280-8)),h({top:n,left:s}),u(l)}}),n.jsx("div",{className:"flex-1",children:n.jsx("input",{ref:g,type:"text",value:b,onChange:e=>{let t=e.target.value;if("none"===t.toLowerCase()?t="none":(t=t.toUpperCase(),t.length>6&&(t=t.slice(0,6))),y(t),"none"===t||""===t)o(!1);else if(/^[0-9A-F]{6}$/.test(t)||/^[0-9A-F]{3}$/.test(t)){const e=3===t.length?t.split("").map(e=>e+e).join(""):t;a(`#${e}`),o(!0)}},className:fb("w-full bg-transparent text-sm focus:outline-none",i?"text-white":"text-white/60"),placeholder:"1A1A1A"})}),i&&n.jsxs("div",{className:"flex items-center pl-1.5 ml-2.5 border-l border-[rgba(255,255,255,0.12)]",children:[n.jsx("input",{type:"number",value:s,onChange:e=>{const t=Math.max(0,Math.min(100,parseInt(e.target.value)||0));r(t)},min:"0",max:"100",className:"w-8 bg-transparent text-white text-sm focus:outline-none text-right [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none"}),n.jsx("span",{className:"text-white text-sm",children:"%"})]})]})}),w&&n.jsx("div",{ref:f,className:"fixed z-[48] h-60 w-80",style:{top:m.top,left:m.left},children:n.jsx(B1,{value:j,onChange:e=>{const[t,n,s,i]=e,l="#"+[t,n,s].map(e=>{const t=Math.round(e).toString(16);return 1===t.length?"0"+t:t}).join("").toUpperCase(),c=Math.round(100*i);a(l),r(c),o(!0)}})})]})}const e2=De.forwardRef(({isVisible:e,element:t,position:s,onClose:i,onSave:a,onRevert:r,onChangesDetected:o,onTriggerSave:l,onDiscardChanges:c,onTriggerComplete:d,onHistoryPush:u},p)=>{var m,h;const[x,f]=De.useState("content"),[g,v]=De.useState(""),[b,y]=De.useState(""),[w,j]=De.useState(""),[C,N]=De.useState(100),[F,_]=De.useState(!1),[k,S]=De.useState(""),[E,I]=De.useState(100),[A,T]=De.useState(!1),[D,M]=De.useState(""),[L,P]=De.useState(!1),[R,O]=De.useState(!1),[z,B]=De.useState(""),[H,$]=De.useState(!1),[U,V]=De.useState(""),[W,q]=De.useState(!1),[G,Z]=De.useState(""),[Y,K]=De.useState("rem"),[J,Q]=De.useState(""),[X,ee]=De.useState("em"),[te,ne]=De.useState(""),[se,ie]=De.useState("none"),[ae,re]=De.useState(!1),[oe,le]=De.useState(!1),[ce,de]=De.useState(!1),[ue,pe]=De.useState(!1),[me,he]=De.useState(""),[xe,fe]=De.useState(""),[ge,ve]=De.useState(""),[Ne,Fe]=De.useState(""),[_e,ke]=De.useState(!0),[Se,Ee]=De.useState(""),[Ie,Ae]=De.useState(""),[Te,Me]=De.useState(""),[Le,Pe]=De.useState(""),[Re,Oe]=De.useState(!0),[ze,Be]=De.useState(""),[He,$e]=De.useState(""),[Ue,Ve]=De.useState(""),[We,qe]=De.useState(""),[Ge,Ze]=De.useState(""),[Ye,Ke]=De.useState(!0),[Je,Qe]=De.useState("100"),[Xe,et]=De.useState("none"),[tt,nt]=De.useState(!0),[st,it]=De.useState(!1),[at,rt]=De.useState(!0),[ot,lt]=De.useState(!1),[ct,dt]=De.useState(!1),[ut,pt]=De.useState({x:0,y:0}),[mt,ht]=De.useState({x:0,y:0}),xt=De.useRef(null),[ft,gt]=De.useState({width:420,height:400}),vt=De.useRef(null),[bt,yt]=De.useState(!0),wt=De.useRef(!1),jt=De.useRef({textContent:"",className:""}),Ct=De.useRef([]),Nt=De.useRef([]),Ft=De.useRef([]),_t=De.useRef([]),kt=De.useRef([]),St=De.useRef([]),Et=De.useRef([]),It=De.useRef([]),At=De.useRef([]),Tt=De.useRef(!1),Dt=De.useRef(null),[Mt,Lt]=De.useState(null),Pt=De.useRef(null),[Rt,Ot]=De.useState(!1),[zt,Bt]=De.useState(null),Ht=De.useRef(null),$t=De.useRef(!1),Ut=De.useRef(!1),Vt=De.useRef(null),[Wt,qt]=De.useState({textContent:"",tailwindClasses:"",textColor:"",textOpacity:100,hasTextColor:!1,backgroundColor:"",backgroundOpacity:100,hasBackgroundColor:!1,fontFamily:"",hasExplicitFontFamily:!1,fontFamilyImportant:!1,fontWeight:"",fontWeightImportant:!1,fontSize:"",fontSizeImportant:!1,lineHeight:"",lineHeightUnit:"rem",lineHeightImportant:!1,letterSpacing:"",letterSpacingUnit:"em",letterSpacingImportant:!1,textAlign:"",textAlignImportant:!1,textDecoration:"none",textDecorationImportant:!1,marginTop:"",marginBottom:"",marginLeft:"",marginRight:"",marginLinked:!0,paddingTop:"",paddingBottom:"",paddingLeft:"",paddingRight:"",paddingLinked:!0,gap:"",cornerRadiusTop:"",cornerRadiusBottom:"",cornerRadiusLeft:"",cornerRadiusRight:"",cornerRadiusLinked:!0,elementOpacity:"100",shadow:"none"}),[Gt,Zt]=De.useState(!1);De.useEffect(()=>{if(!xt.current)return;const e=new ResizeObserver(e=>{for(const t of e){const{width:e,height:n}=t.contentRect;gt({width:e,height:n})}});return e.observe(xt.current),()=>{e.disconnect()}},[]),De.useEffect(()=>{var e,n,s,i,a;const r=(null==(e=null==t?void 0:t.attributes)?void 0:e["x-id"])||null,o=r!==Vt.current;if(t){o&&($t.current=!1,Ht.current=null,Vt.current=r),wt.current=!0;const e="true"===(null==(n=t.attributes)?void 0:n["x-dynamic"]);it(e);const l="img"===(null==(s=t.tagName)?void 0:s.toLowerCase()),c="div"===(null==(i=t.tagName)?void 0:i.toLowerCase()),d=!(e||l||c)&&(t.hasDirectTextContent??!0);nt(d);rt(!l);const u=(null==(a=t.computedStyles)?void 0:a.display)||"",p=["flex","inline-flex","grid","inline-grid"].includes(u);lt(p),f("content");const m=t.textContent||"",h=t.className||"";v(m),Dt.current=null,Lt(null),Kt(h);const x=L0(h);Ct.current=x.filter(e=>!K0(e));const g=x.filter(W0),b=x.filter(q0),y=x.filter(e=>G0(e)||Z0(e));_t.current=g,kt.current=b,St.current=y,Et.current=[...g],It.current=[...b],At.current=[...y],Nt.current=J1(h),Ft.current=Q1(h);let w="#000000",C=100,F=!1,k="#ffffff",E=100,A=!1;const D=h.split(" ").filter(Boolean).some(e=>e.startsWith("text-[")||e.startsWith("!text-[")||e.startsWith("text-")&&!["text-xs","text-sm","text-base","text-lg","text-xl","text-2xl","text-3xl","text-4xl","text-5xl","text-6xl","text-7xl","text-8xl","text-9xl","text-left","text-center","text-right","text-justify"].includes(e)),L=function(e){return e.split(" ").filter(Boolean).some(e=>e.startsWith("bg-[")||e.startsWith("!bg-[")||"bg-transparent"===e||"!bg-transparent"===e||e.startsWith("bg-")&&"bg-gradient-to-r"!==e&&"bg-gradient-to-l"!==e&&"bg-gradient-to-t"!==e&&"bg-gradient-to-b"!==e&&!e.startsWith("bg-gradient"))}(h);if(t.computedStyles){const{color:e,backgroundColor:n}=t.computedStyles;D&&e.hasColor&&e.hex?(w=e.hex,C=e.opacity,F=!0,j(e.hex),N(e.opacity),_(!0)):(w="",C=100,j(""),N(100),F=!1,_(!1)),L&&n.hasColor&&n.hex?(k=n.hex,E=n.opacity,A=!0,S(n.hex),I(n.opacity),T(!0)):(k="",E=100,S(""),I(100),A=!1,T(!1))}const R=T0(h);B(R.fontWeight),$(R.fontWeightImportant),V(R.fontSize),q(R.fontSizeImportant),Z(R.lineHeight),re(R.lineHeightImportant),Q(R.letterSpacing),le(R.letterSpacingImportant),ne(R.textAlign),de(R.textAlignImportant),ie(R.textDecoration),pe(R.textDecorationImportant);const z=Boolean(R.fontFamily),H=z?R.fontFamily:"";M(H),P(z),O(R.fontFamilyImportant);const U=D0(h);he(U.marginTop),fe(U.marginBottom),ve(U.marginLeft),Fe(U.marginRight),ke(U.marginLinked),Ee(U.paddingTop),Ae(U.paddingBottom),Me(U.paddingLeft),Pe(U.paddingRight),Oe(U.paddingLinked);const W=M0(h);Be(W);const G=J0(h);$e(G.cornerRadiusTop),Ve(G.cornerRadiusBottom),qe(G.cornerRadiusLeft),Ze(G.cornerRadiusRight),Ke(G.cornerRadiusLinked),Qe(G.elementOpacity),et(G.shadow);const Y={textContent:m,tailwindClasses:h,textColor:w,textOpacity:C,hasTextColor:F,backgroundColor:k,backgroundOpacity:E,hasBackgroundColor:A,fontFamily:H,hasExplicitFontFamily:z,fontFamilyImportant:R.fontFamilyImportant,fontWeight:R.fontWeight,fontWeightImportant:R.fontWeightImportant,fontSize:R.fontSize,fontSizeImportant:R.fontSizeImportant,lineHeight:R.lineHeight,lineHeightUnit:"rem",lineHeightImportant:R.lineHeightImportant,letterSpacing:R.letterSpacing,letterSpacingUnit:"em",letterSpacingImportant:R.letterSpacingImportant,textAlign:R.textAlign,textAlignImportant:R.textAlignImportant,textDecoration:R.textDecoration,textDecorationImportant:R.textDecorationImportant,marginTop:U.marginTop,marginBottom:U.marginBottom,marginLeft:U.marginLeft,marginRight:U.marginRight,marginLinked:U.marginLinked,paddingTop:U.paddingTop,paddingBottom:U.paddingBottom,paddingLeft:U.paddingLeft,paddingRight:U.paddingRight,paddingLinked:U.paddingLinked,gap:W,cornerRadiusTop:G.cornerRadiusTop,cornerRadiusBottom:G.cornerRadiusBottom,cornerRadiusLeft:G.cornerRadiusLeft,cornerRadiusRight:G.cornerRadiusRight,cornerRadiusLinked:G.cornerRadiusLinked,elementOpacity:G.elementOpacity,shadow:G.shadow};qt(Y),Zt(!1),jt.current={textContent:m,className:h},setTimeout(()=>{wt.current=!1},0)}},[t]),De.useEffect(()=>{Ot(!1),Bt(null)},[t]),De.useEffect(()=>{const e=e=>{xt.current&&!xt.current.contains(e.target)&&(Ut.current=!0)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]),De.useEffect(()=>{Dt.current=Mt},[Mt]),De.useEffect(()=>{if(!Tt.current)return;Tt.current=!1;const e=L0(b);Ct.current=e.filter(e=>!K0(e));const t=T0(b);B(t.fontWeight),$(t.fontWeightImportant),V(t.fontSize),q(t.fontSizeImportant),Z(t.lineHeight),re(t.lineHeightImportant),K("rem"),Q(t.letterSpacing),le(t.letterSpacingImportant),ee("em"),ne(t.textAlign),de(t.textAlignImportant),ie(t.textDecoration),pe(t.textDecorationImportant),M(t.fontFamily),P(Boolean(t.fontFamily)),O(t.fontFamilyImportant);const n=D0(b);he(n.marginTop),fe(n.marginBottom),ve(n.marginLeft),Fe(n.marginRight),ke(n.marginLinked),Ee(n.paddingTop),Ae(n.paddingBottom),Me(n.paddingLeft),Pe(n.paddingRight),Oe(n.paddingLinked);const s=M0(b);Be(s);const i=J0(b);$e(i.cornerRadiusTop),Ve(i.cornerRadiusBottom),qe(i.cornerRadiusLeft),Ze(i.cornerRadiusRight),Ke(i.cornerRadiusLinked),Qe(i.elementOpacity||"100"),et(i.shadow||"none");const a=J1(b),r=Q1(b);P0(a,Nt.current)||(Nt.current=a),P0(r,Ft.current)||(Ft.current=r);const o=q1(b,Wt.tailwindClasses);if(a.length>0){const e=a.find(e=>e.startsWith("!text-[")||e.startsWith("text-[")),t=e?z0(e):null;t?(_(!0),j(t.color),N(t.opacity)):o?(_(Wt.hasTextColor),j(Wt.textColor),N(Wt.textOpacity)):(_(!1),j(""),N(100))}else _(!1),j(""),N(100);if(r.length>0){const e=r.find(e=>e.startsWith("!bg-[")||e.startsWith("bg-[")),t=e?z0(e):null;t?(T(!0),S(t.color),I(t.opacity)):o?(T(Wt.hasBackgroundColor),S(Wt.backgroundColor),I(Wt.backgroundOpacity)):(T(!1),S(""),I(100))}else T(!1),S(""),I(100);const l=e.filter(W0);P0(l,_t.current)||(_t.current=l);const c=e.filter(q0);P0(c,kt.current)||(kt.current=c);const d=e.filter(e=>G0(e)||Z0(e));P0(d,St.current)||(St.current=d);const u=e.some(e=>["flex","inline-flex","grid","inline-grid"].includes(e));u!==ot&&lt(u)},[b,ot,Wt]),De.useEffect(()=>{if(wt.current)return void(Gt&&(Zt(!1),null==o||o(!1)));const e={textContent:g,tailwindClasses:b,textColor:w,textOpacity:C,hasTextColor:F,backgroundColor:k,backgroundOpacity:E,hasBackgroundColor:A,fontFamily:D,hasExplicitFontFamily:L,fontFamilyImportant:R,fontWeight:z,fontWeightImportant:H,fontSize:U,fontSizeImportant:W,lineHeight:G,lineHeightUnit:Y,lineHeightImportant:ae,letterSpacing:J,letterSpacingUnit:X,letterSpacingImportant:oe,textAlign:te,textAlignImportant:ce,textDecoration:se,textDecorationImportant:ue,marginTop:me,marginBottom:xe,marginLeft:ge,marginRight:Ne,marginLinked:_e,paddingTop:Se,paddingBottom:Ie,paddingLeft:Te,paddingRight:Le,paddingLinked:Re,gap:ze,cornerRadiusTop:He,cornerRadiusBottom:Ue,cornerRadiusLeft:We,cornerRadiusRight:Ge,cornerRadiusLinked:Ye,elementOpacity:Je,shadow:Xe},t=JSON.stringify(e)!==JSON.stringify(Wt);t!==Gt&&(Zt(t),o&&o(t))},[g,b,w,C,F,k,E,A,D,L,R,z,H,U,W,G,Y,ae,J,X,oe,te,ce,se,ue,me,xe,ge,Ne,_e,Se,Ie,Te,Le,Re,ze,He,Ue,We,Ge,Ye,Je,Xe,Wt,Gt,o]);const Yt=(e,t,n)=>{if(!e||t===n)return e;const s=parseFloat(e);if(isNaN(s))return e;let i;return i="rem"===t||"em"===t?16*s:s,"rem"===n||"em"===n?(i/16).toFixed(3).replace(/\.?0+$/,""):Math.round(i).toString()},Kt=(e,t)=>{if(null==t?void 0:t.fromManual)return Tt.current=!0,Dt.current=e,Lt(e),void y(e);Lt(e=>null!==e?(Dt.current=e,e):(Dt.current=null,e)),y(t=>t===e||null!==Dt.current?t:e)},Jt=()=>{if(He===Wt.cornerRadiusTop&&Ue===Wt.cornerRadiusBottom&&We===Wt.cornerRadiusLeft&&Ge===Wt.cornerRadiusRight&&Ye===Wt.cornerRadiusLinked)return It.current;const e=[];if(Ye){if(He){const t=(e=>{const t=U1(e);if(null===t)return null;const n=$1[t];return void 0===n?null:""===n?"rounded":"none"===n?"rounded-none":`rounded-${n}`})(He);if(t)e.push(O0(t));else{const t=V1(He);t&&e.push(O0(`rounded-[${t}]`))}}}else{const t=(t,n)=>{if(!t)return;const s=((e,t)=>{const n=U1(e);if(null===n)return null;const s=$1[n];return void 0===s?null:""===s?`rounded-${t}`:`rounded-${t}-${s}`})(t,n);if(s)return void e.push(O0(s));const i=V1(t);i&&e.push(O0(`rounded-${n}-[${i}]`))};t(He,"t"),t(Ue,"b"),t(We,"l"),t(Ge,"r")}return e},Qt=()=>{const e=L0(b),t=e.filter(V0),n=e.filter(W0),s=e.filter(q0);e.filter(e=>G0(e)||Z0(e));const i=e.filter(Y0),a=e.filter(e=>!K0(e)),r=(()=>{const e=[];if(L&&D)if("sans-serif"===D)e.push(O0("font-sans"));else if("serif"===D)e.push(O0("font-serif"));else if("monospace"===D)e.push(O0("font-mono"));else{const t=D.replace(/ /g,"_");e.push(O0(`font-['${t}']`))}return z&&e.push(O0(z)),U&&e.push(O0(U)),G&&e.push(O0(`leading-[${G}${Y}]`)),J&&e.push(O0(`tracking-[${J}${X}]`)),te&&e.push(O0(te)),"underline"===se?e.push(O0("underline")):"line-through"===se?e.push(O0("line-through")):"italic"===se&&e.push(O0("italic")),e})(),o=(()=>{if(me===Wt.marginTop&&xe===Wt.marginBottom&&ge===Wt.marginLeft&&Ne===Wt.marginRight&&_e===Wt.marginLinked&&Se===Wt.paddingTop&&Ie===Wt.paddingBottom&&Te===Wt.paddingLeft&&Le===Wt.paddingRight&&Re===Wt.paddingLinked&&ze===Wt.gap)return Et.current;const e=[];if(_e){const t=me||xe,n=ge||Ne;t&&e.push(O0(`my-[${t}px]`)),n&&e.push(O0(`mx-[${n}px]`))}else me&&e.push(O0(`mt-[${me}px]`)),xe&&e.push(O0(`mb-[${xe}px]`)),ge&&e.push(O0(`ml-[${ge}px]`)),Ne&&e.push(O0(`mr-[${Ne}px]`));if(Re){const t=Se||Ie,n=Te||Le;t&&e.push(O0(`py-[${t}px]`)),n&&e.push(O0(`px-[${n}px]`))}else Se&&e.push(O0(`pt-[${Se}px]`)),Ie&&e.push(O0(`pb-[${Ie}px]`)),Te&&e.push(O0(`pl-[${Te}px]`)),Le&&e.push(O0(`pr-[${Le}px]`));return ze&&e.push(O0(`gap-[${ze}px]`)),e})(),l=Jt(),c=(()=>{if(Je===Wt.elementOpacity&&Xe===Wt.shadow)return At.current;const e=[];return Je&&"100"!==Je&&e.push(O0(`opacity-[${Je}%]`)),Xe&&"none"!==Xe&&e.push(O0(`shadow-${Xe}`)),e})(),d=(()=>{const e=[],t=F&&Wt.hasTextColor&&w===Wt.textColor&&C===Wt.textOpacity;if(F)if(t&&Nt.current.length>0)e.push(...Nt.current);else if(w)if(100===C)e.push(`!text-[${w}]`);else{const t=N1(w).alpha(C/100).rgb().string().replace(/\s/g,"");e.push(`!text-[${t}]`)}const n=A&&Wt.hasBackgroundColor&&k===Wt.backgroundColor&&E===Wt.backgroundOpacity;if(A)if(n&&Ft.current.length>0)e.push(...Ft.current);else if(k)if(100===E)e.push(`!bg-[${k}]`);else{const t=N1(k).alpha(E/100).rgb().string().replace(/\s/g,"");e.push(`!bg-[${t}]`)}return e})();return(e=>{const t=new Set,n=[];for(let s=e.length-1;s>=0;s--){const i=e[s];i&&!t.has(i)&&(t.add(i),n.push(i))}return n.reverse()})([...a,...r.length>0?r:t,...o.length>0?o:n,...l.length>0?l:s,...c,...d.length>0?d:i]).join(" ")},Xt=()=>{Lt(null),Dt.current=null;const e=Qt();Kt(e)},en=De.useCallback(()=>{let e=Qt();const n=(null==t?void 0:t.hasDirectTextContent)??!0,s={className:jt.current.className};n&&(s.textContent=jt.current.textContent);const i={};if(g!==jt.current.textContent&&(i.textContent=g),e!==jt.current.className){q1(e,jt.current.className)?e=jt.current.className:i.className=e}if(Object.keys(i).length>0&&u&&(null==t?void 0:t.attributes)){const a=t.attributes["x-id"],r=t.attributes["x-file-name"],o=t.attributes["x-line-number"],l=t.attributes["x-component"];if(a&&r&&o&&l){const c={className:void 0!==i.className?e:s.className};n&&(c.textContent=void 0!==i.textContent?g:s.textContent),u({elementId:a,fileName:r,lineNumber:parseInt(o),component:l,hasChildElements:null==t?void 0:t.hasChildElements,hasDirectTextContent:null==t?void 0:t.hasDirectTextContent,isMultiElement:null==t?void 0:t.isMultiElement,previousState:s,currentState:c})}}if(Object.keys(i).length>0&&(a(i),void 0!==i.textContent&&(jt.current.textContent=g),void 0!==i.className)){jt.current.className=e;const t=L0(e);Ct.current=t.filter(e=>!K0(e)),_t.current=t.filter(W0),kt.current=t.filter(q0),St.current=t.filter(e=>G0(e)||Z0(e)),Nt.current=J1(e),Ft.current=Q1(e),Kt(e)}},[t,Gt,g,w,C,F,k,E,A,D,L,R,z,H,U,W,G,Y,ae,J,X,oe,te,ce,se,ue,me,xe,ge,Ne,_e,Se,Ie,Te,Le,Re,ze,He,Ue,We,Ge,Ye,Je,Xe,a,u,Qt]);De.useEffect(()=>{if(!wt.current)return Pt.current&&clearTimeout(Pt.current),Pt.current=setTimeout(()=>{Gt?en():r&&r()},150),()=>{Pt.current&&clearTimeout(Pt.current)}},[Gt,g,b,w,C,F,k,E,A,D,L,z,U,G,Y,J,X,te,se,me,xe,ge,Ne,_e,Se,Ie,Te,Le,Re,ze,He,Ue,We,Ge,Ye,Je,Xe]),De.useEffect(()=>{l&&Gt&&(rn(),d&&d("save"))},[l]),De.useEffect(()=>{c&&Gt&&(nn(),d&&d("discard"))},[c]);const tn=()=>{Pt.current&&(clearTimeout(Pt.current),Pt.current=null)},nn=()=>{v(Wt.textContent),Lt(null),Dt.current=null,Kt(Wt.tailwindClasses),j(Wt.textColor),N(Wt.textOpacity),_(Wt.hasTextColor),S(Wt.backgroundColor),I(Wt.backgroundOpacity),T(Wt.hasBackgroundColor),M(Wt.fontFamily),P(Wt.hasExplicitFontFamily),O(Wt.fontFamilyImportant),B(Wt.fontWeight),$(Wt.fontWeightImportant),V(Wt.fontSize),q(Wt.fontSizeImportant),Z(Wt.lineHeight),K(Wt.lineHeightUnit),re(Wt.lineHeightImportant),Q(Wt.letterSpacing),ee(Wt.letterSpacingUnit),le(Wt.letterSpacingImportant),ne(Wt.textAlign),ie(Wt.textDecoration),de(Wt.textAlignImportant),pe(Wt.textDecorationImportant),he(Wt.marginTop),fe(Wt.marginBottom),ve(Wt.marginLeft),Fe(Wt.marginRight),ke(Wt.marginLinked),Ee(Wt.paddingTop),Ae(Wt.paddingBottom),Me(Wt.paddingLeft),Pe(Wt.paddingRight),Oe(Wt.paddingLinked),Be(Wt.gap),$e(Wt.cornerRadiusTop),Ve(Wt.cornerRadiusBottom),qe(Wt.cornerRadiusLeft),Ze(Wt.cornerRadiusRight),Ke(Wt.cornerRadiusLinked),Qe(Wt.elementOpacity),et(Wt.shadow),Zt(!1),o&&o(!1)};De.useEffect(()=>{if(!s||!xt.current)return;const e={getBoundingClientRect:()=>({width:s.width,height:s.height,x:s.elementRect.left,y:s.elementRect.top,top:s.elementRect.top,left:s.elementRect.left,right:s.elementRect.right,bottom:s.elementRect.bottom})},t=s.constraintBounds?{left:s.constraintBounds.left,top:s.constraintBounds.top,right:s.constraintBounds.right,bottom:s.constraintBounds.bottom}:s.iframeBounds?{left:s.iframeBounds.left,top:s.iframeBounds.top,right:s.iframeBounds.right,bottom:s.iframeBounds.bottom}:{left:0,top:0,right:window.innerWidth,bottom:window.innerHeight},n={x:t.left,y:t.top,width:Math.max(t.right-t.left,0),height:Math.max(t.bottom-t.top,0),top:t.top,right:t.right,bottom:t.bottom,left:t.left},i={left:t.left,top:t.top,right:t.right,bottom:t.bottom};yt(!0);let a=!1;return be(e,xt.current,{placement:"bottom-start",strategy:"fixed",middleware:[ye(10),we({boundary:n,fallbackPlacements:["bottom-end","top-start","top-end","right","left"]}),je({boundary:n,padding:0}),Ce({boundary:n,padding:0})]}).then(({x:e,y:t})=>{var n;if(a)return;const s=null==(n=xt.current)?void 0:n.getBoundingClientRect(),r=(null==s?void 0:s.width)??ft.width,o=(null==s?void 0:s.height)??ft.height,l=Math.max(i.right-i.left,0),c=Math.max(i.bottom-i.top,0),d=c>0&&o<=c,u=i.right-r,p=i.bottom-o,m=l>0&&r<=l?Math.max(i.left,Math.min(e,u)):i.left,h=d?Math.max(i.top,Math.min(t,p)):i.top;ht({x:m,y:h}),yt(!1),dt(!1)}).catch(e=>{a||yt(!1)}),()=>{a=!0}},[s,ft]);De.useEffect(()=>{const e=e=>{ct&&s&&(vt.current&&cancelAnimationFrame(vt.current),vt.current=requestAnimationFrame(()=>{var t;const n=null==(t=xt.current)?void 0:t.getBoundingClientRect(),i=(null==n?void 0:n.width)??ft.width,a=(null==n?void 0:n.height)??ft.height,r=e.clientX-ut.x,o=e.clientY-ut.y,l=s.constraintBounds?{left:s.constraintBounds.left,top:s.constraintBounds.top,right:s.constraintBounds.right,bottom:s.constraintBounds.bottom}:s.iframeBounds?{left:s.iframeBounds.left,top:s.iframeBounds.top,right:s.iframeBounds.right,bottom:s.iframeBounds.bottom}:{left:0,top:0,right:window.innerWidth,bottom:window.innerHeight},c=Math.max(l.left,Math.min(r,l.right-i)),d=Math.max(l.top,Math.min(o,l.bottom-a));ht({x:c,y:d})}))},t=()=>{dt(!1),vt.current&&(cancelAnimationFrame(vt.current),vt.current=null)};return ct&&(document.addEventListener("mousemove",e),document.addEventListener("mouseup",t)),()=>{document.removeEventListener("mousemove",e),document.removeEventListener("mouseup",t),vt.current&&(cancelAnimationFrame(vt.current),vt.current=null)}},[ct,ut,s,ft]);const sn=e=>{Ot(!0),Bt(e)},an=()=>{Ot(!1),Bt(null)},rn=()=>{tn(),en();const e=Qt();qt({textContent:g,tailwindClasses:e,textColor:w,textOpacity:C,hasTextColor:F,backgroundColor:k,backgroundOpacity:E,hasBackgroundColor:A,fontFamily:D,hasExplicitFontFamily:L,fontFamilyImportant:R,fontWeight:z,fontWeightImportant:H,fontSize:U,fontSizeImportant:W,lineHeight:G,lineHeightUnit:Y,lineHeightImportant:ae,letterSpacing:J,letterSpacingUnit:X,letterSpacingImportant:oe,textAlign:te,textAlignImportant:ce,textDecoration:se,textDecorationImportant:ue,marginTop:me,marginBottom:xe,marginLeft:ge,marginRight:Ne,marginLinked:_e,paddingTop:Se,paddingBottom:Ie,paddingLeft:Te,paddingRight:Le,paddingLinked:Re,gap:ze,cornerRadiusTop:He,cornerRadiusBottom:Ue,cornerRadiusLeft:We,cornerRadiusRight:Ge,cornerRadiusLinked:Ye,elementOpacity:Je,shadow:Xe}),jt.current={textContent:g,className:e};const t=L0(e);Ct.current=t.filter(e=>!K0(e)),Nt.current=J1(e),Ft.current=Q1(e),Lt(null),Dt.current=null,Kt(e),Zt(!1),o&&o(!1)};if(De.useImperativeHandle(p,()=>({handleSave:rn,handleDiscard:nn,cancelAutoSave:tn})),!e||!t||!s)return null;const on=["div","img","video","audio","canvas","svg","iframe","hr","br"].includes((null==(m=t.tagName)?void 0:m.toLowerCase())||"")||"button"===(null==(h=t.tagName)?void 0:h.toLowerCase())&&!t.hasDirectTextContent,ln=[{id:"content",name:"Content",icon:n.jsx(X1,{className:"w-4 h-4"})},{id:"appearance",name:"Appearance",icon:n.jsx(e0,{className:"w-4 h-4"})},{id:"type",name:"Type",icon:n.jsx(t0,{className:"w-4 h-4"})},{id:"layout",name:"Layout",icon:n.jsx(n0,{className:"w-4 h-4"})}],cn=on?ln.filter(e=>"type"!==e.id):ln;return n.jsxs("div",{ref:xt,className:fb("floating-edit-widget bg-[#1A1A1A] border border-[rgba(255,255,255,0.12)] rounded-[14px] select-none transition-opacity","shadow-[0px_12px_26px_0px_rgba(0,0,0,0.13),0px_47px_47px_0px_rgba(0,0,0,0.11),0px_106px_64px_0px_rgba(0,0,0,0.07),0px_189px_76px_0px_rgba(0,0,0,0.02),0px_296px_83px_0px_rgba(0,0,0,0)]",ct&&"cursor-grabbing opacity-90"),style:(()=>{var t,n,i,a,r;if(!e||!s)return{display:"none"};const o="undefined"!=typeof window?window.innerWidth:ft.width,l="undefined"!=typeof window?window.innerHeight:ft.height,c=(null==(t=s.constraintBounds)?void 0:t.width)??(null==(n=s.iframeBounds)?void 0:n.width)??o,d=(null==(i=s.constraintBounds)?void 0:i.height)??(null==(a=s.iframeBounds)?void 0:a.height)??l,u=null==(r=xt.current)?void 0:r.getBoundingClientRect(),p=(null==u?void 0:u.width)??ft.width;(null==u?void 0:u.height)??ft.height;const m=Math.max(c,0),h=Math.max(d,0),x=m>0?Math.min(p,m):p;return{position:"fixed",left:`${mt.x}px`,top:`${mt.y}px`,zIndex:48,width:`${x}px`,maxHeight:h>0?`${h}px`:void 0,overflowY:h>0?"auto":void 0,pointerEvents:bt?"none":"auto"}})(),children:[n.jsxs("div",{className:fb("flex items-center justify-between p-2 border-b border-[rgba(255,255,255,0.12)]",ct?"cursor-grabbing":"cursor-grab"),onMouseDown:e=>{if(!xt.current)return;const t=xt.current.getBoundingClientRect();pt({x:e.clientX-t.left,y:e.clientY-t.top}),dt(!0)},children:[n.jsx("div",{className:"flex items-center gap-0",children:cn.map(e=>n.jsxs("button",{onClick:()=>f(e.id),onMouseDown:e=>e.stopPropagation(),className:fb("flex items-center gap-1 p-[6px] pr-[8px] rounded-lg text-xs font-medium transition-all",x===e.id?"bg-[rgba(83,169,255,0.2)] border border-[rgba(83,169,255,0.4)] text-[#99CCFF]":"text-white/60 hover:text-white/80 hover:bg-white/5 border border-transparent"),children:[n.jsx("span",{className:"flex-shrink-0",children:e.icon}),e.name]},e.id))}),n.jsx("button",{type:"button",onClick:i,onMouseDown:e=>e.stopPropagation(),className:"flex items-center justify-center w-7 h-7 rounded-md bg-[rgba(255,255,255,0.06)] hover:bg-[rgba(255,255,255,0.1)] text-white/60 hover:text-white/80 transition-colors",title:"Close",children:n.jsx(RS,{className:"w-4 h-4"})})]}),n.jsxs("div",{className:fb("p-3 space-y-3",ct&&"pointer-events-none"),children:["content"===x&&n.jsxs(n.Fragment,{children:[(tt||st)&&n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"block text-xs font-medium text-white/50",children:"Content"}),n.jsx("div",{className:"flex items-stretch self-stretch gap-2.5 p-2.5 bg-[rgba(255,255,255,0.04)] border border-[rgba(255,255,255,0.12)] focus-within:border-[rgba(255,255,255,0.3)] rounded-lg h-[102px]",children:n.jsx("textarea",{value:st?"":g,onChange:e=>{$t.current=!0,v(e.target.value)},onFocus:e=>{Ht.current=e.target,$t.current=!0},onBlur:e=>{const t=document.activeElement;if(Ut.current)return Ut.current=!1,void($t.current=!1);!$t.current||"BODY"!==(null==t?void 0:t.tagName)&&t?t&&xt.current&&!xt.current.contains(t)&&($t.current=!1):setTimeout(()=>{var e;null==(e=Ht.current)||e.focus()},0)},disabled:st,className:fb("flex-1 bg-transparent text-white text-sm leading-[1.429em] placeholder-white/40 focus:outline-none resize-none",st&&"opacity-50 cursor-not-allowed"),placeholder:st?"This content is dynamically generated and cannot be edited directly. You can modify the content via the chat.":"Enter content text..."})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"block text-xs font-medium text-white/50",children:"Advanced Tailwind Classes"}),n.jsx("div",{className:"flex items-stretch self-stretch gap-2.5 p-2.5 bg-[rgba(255,255,255,0.04)] border border-[rgba(255,255,255,0.12)] focus-within:border-[rgba(255,255,255,0.3)] rounded-lg",children:n.jsx("textarea",{value:Mt??b,onChange:e=>{$t.current=!0,Kt(e.target.value,{fromManual:!0})},onFocus:e=>{Ht.current=e.target,$t.current=!0},onBlur:e=>{const t=document.activeElement;if(Ut.current)return Ut.current=!1,$t.current=!1,void Xt();const n=$t.current&&("BODY"===(null==t?void 0:t.tagName)||!t);Xt(),n?setTimeout(()=>{var e;null==(e=Ht.current)||e.focus()},0):t&&xt.current&&!xt.current.contains(t)&&($t.current=!1)},className:"flex-1 bg-transparent text-white text-xs font-mono leading-[1.667em] placeholder-white/40 focus:outline-none resize-none",placeholder:"Enter tailwind class...",rows:2,style:{fontFamily:"JetBrains Mono, monospace"}})})]})]}),"appearance"===x&&n.jsxs(n.Fragment,{children:[tt&&n.jsx(X0,{label:"Text Color",color:w,opacity:C,hasColor:F,onColorChange:j,onOpacityChange:N,onToggleColor:_,colorType:"text",showColorPicker:Rt,activeColorPicker:zt,onOpenColorPicker:sn,onCloseColorPicker:an}),at&&n.jsx(X0,{label:"Background Color",color:k,opacity:E,hasColor:A,onColorChange:S,onOpacityChange:I,onToggleColor:T,colorType:"background",showColorPicker:Rt,activeColorPicker:zt,onOpenColorPicker:sn,onCloseColorPicker:an}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"block text-xs font-medium text-white/50",children:"Corner Radius"}),Ye?n.jsxs("div",{className:"flex gap-2",children:[n.jsx("div",{className:"flex-1 min-w-0 bg-[rgba(255,255,255,0.04)] border border-[rgba(255,255,255,0.12)] focus-within:border-[rgba(255,255,255,0.3)] rounded-lg",children:n.jsxs("div",{className:"flex items-center p-2.5 h-[36px]",children:[n.jsx(y0,{className:"w-4 h-4 mr-2.5 flex-shrink-0 text-white opacity-40"}),n.jsx("input",{type:"number",value:He,onChange:e=>{const t=e.target.value,n=parseFloat(t)>9999?"9999":t;$e(n),Ve(n),qe(n),Ze(n)},className:"w-full bg-transparent text-white text-sm focus:outline-none [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none",placeholder:"0",max:"9999"}),n.jsx("span",{className:"text-white text-sm ml-1",children:"px"})]})}),n.jsx("button",{onClick:()=>Ke(!1),className:"w-9 h-9 flex items-center justify-center bg-[rgba(255,255,255,0.06)] border border-[rgba(255,255,255,0.12)] rounded-lg transition-colors hover:bg-[rgba(255,255,255,0.1)]",children:n.jsx(v0,{className:"w-4 h-4 text-white"})})]}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex gap-2",children:[n.jsx("div",{className:"flex-1 min-w-0 bg-[rgba(255,255,255,0.04)] border border-[rgba(255,255,255,0.12)] focus-within:border-[rgba(255,255,255,0.3)] rounded-lg",children:n.jsxs("div",{className:"flex items-center p-2.5 h-[36px]",children:[n.jsx(y0,{className:"w-4 h-4 mr-2.5 flex-shrink-0 text-white opacity-40"}),n.jsx("input",{type:"number",value:He,onChange:e=>{const t=e.target.value,n=parseFloat(t);$e(n>9999?"9999":t)},className:"w-full bg-transparent text-white text-sm focus:outline-none [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none",placeholder:"0",max:"9999"}),n.jsx("span",{className:"text-white text-sm ml-1",children:"px"})]})}),n.jsx("div",{className:"flex-1 min-w-0 bg-[rgba(255,255,255,0.04)] border border-[rgba(255,255,255,0.12)] focus-within:border-[rgba(255,255,255,0.3)] rounded-lg",children:n.jsxs("div",{className:"flex items-center p-2.5 h-[36px]",children:[n.jsx(w0,{className:"w-4 h-4 mr-2.5 flex-shrink-0 text-white opacity-40"}),n.jsx("input",{type:"number",value:Ue,onChange:e=>{const t=e.target.value,n=parseFloat(t);Ve(n>9999?"9999":t)},className:"w-full bg-transparent text-white text-sm focus:outline-none [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none",placeholder:"0",max:"9999"}),n.jsx("span",{className:"text-white text-sm ml-1",children:"px"})]})}),n.jsx("button",{onClick:()=>Ke(!0),className:"w-9 h-9 flex items-center justify-center bg-[rgba(153,204,255,0.06)] border border-[rgba(153,204,255,0.12)] rounded-lg transition-colors hover:bg-[rgba(153,204,255,0.1)]",children:n.jsx(b0,{className:"w-4 h-4 text-[#99CCFF]"})})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("div",{className:"flex-1 min-w-0 bg-[rgba(255,255,255,0.04)] border border-[rgba(255,255,255,0.12)] focus-within:border-[rgba(255,255,255,0.3)] rounded-lg",children:n.jsxs("div",{className:"flex items-center p-2.5 h-[36px]",children:[n.jsx(j0,{className:"w-4 h-4 mr-2.5 flex-shrink-0 text-white opacity-40"}),n.jsx("input",{type:"number",value:We,onChange:e=>{const t=e.target.value,n=parseFloat(t);qe(n>9999?"9999":t)},className:"w-full bg-transparent text-white text-sm focus:outline-none [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none",placeholder:"0",max:"9999"}),n.jsx("span",{className:"text-white text-sm ml-1",children:"px"})]})}),n.jsx("div",{className:"flex-1 min-w-0 bg-[rgba(255,255,255,0.04)] border border-[rgba(255,255,255,0.12)] focus-within:border-[rgba(255,255,255,0.3)] rounded-lg",children:n.jsxs("div",{className:"flex items-center p-2.5 h-[36px]",children:[n.jsx(C0,{className:"w-4 h-4 mr-2.5 flex-shrink-0 text-white opacity-40"}),n.jsx("input",{type:"number",value:Ge,onChange:e=>{const t=e.target.value,n=parseFloat(t);Ze(n>9999?"9999":t)},className:"w-full bg-transparent text-white text-sm focus:outline-none [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none",placeholder:"0",max:"9999"}),n.jsx("span",{className:"text-white text-sm ml-1",children:"px"})]})}),n.jsx("div",{className:"w-9 h-9 opacity-0 pointer-events-none"})]})]})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsxs("div",{className:"flex-1 space-y-2",children:[n.jsx("label",{className:"block text-xs font-medium text-white/50",children:"Opacity"}),n.jsx("div",{className:"bg-[rgba(255,255,255,0.04)] border border-[rgba(255,255,255,0.12)] focus-within:border-[rgba(255,255,255,0.3)] rounded-lg",children:n.jsxs("div",{className:"flex items-center p-2.5 h-[36px]",children:[n.jsx(E0,{className:"w-4 h-4 mr-2.5 flex-shrink-0 text-white"}),n.jsx("input",{type:"number",value:Je,onChange:e=>{const t=Math.max(0,Math.min(100,parseInt(e.target.value)||0)).toString();Qe(t)},min:"0",max:"100",className:"w-full bg-transparent text-white text-sm focus:outline-none [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none",placeholder:"100"}),n.jsx("span",{className:"text-white/50 text-sm ml-1",children:"%"})]})})]}),n.jsxs("div",{className:"flex-1 space-y-2",children:[n.jsx("label",{className:"block text-xs font-medium text-white/50",children:"Shadow"}),n.jsx("div",{className:"bg-[rgba(255,255,255,0.04)] border border-[rgba(255,255,255,0.12)] focus-within:border-[rgba(255,255,255,0.3)] rounded-lg",children:n.jsxs("div",{className:"flex items-center h-[36px] relative",children:[n.jsx(I0,{className:"w-4 h-4 ml-2.5 mr-2 flex-shrink-0 text-white pointer-events-none absolute left-0"}),n.jsxs("select",{value:Xe,onChange:e=>et(e.target.value),className:"flex-1 bg-transparent text-white text-sm pl-9 pr-8 focus:outline-none cursor-pointer appearance-none",children:[n.jsx("option",{value:"none",className:"bg-[#1A1A1A]",children:"None"}),n.jsx("option",{value:"2xs",className:"bg-[#1A1A1A]",children:"2XS"}),n.jsx("option",{value:"xs",className:"bg-[#1A1A1A]",children:"XS"}),n.jsx("option",{value:"sm",className:"bg-[#1A1A1A]",children:"Small"}),n.jsx("option",{value:"md",className:"bg-[#1A1A1A]",children:"Medium"}),n.jsx("option",{value:"lg",className:"bg-[#1A1A1A]",children:"Large"}),n.jsx("option",{value:"xl",className:"bg-[#1A1A1A]",children:"XL"}),n.jsx("option",{value:"2xl",className:"bg-[#1A1A1A]",children:"2XL"})]}),n.jsx("div",{className:"flex items-center justify-end pr-2.5 pointer-events-none absolute right-0",children:n.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{d:"M2.66602 4.6665L7.99935 9.99983L13.3327 4.6665",stroke:"rgba(255, 255, 255, 0.4)",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})})]})})]})]})]}),"type"===x&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"block text-xs font-medium text-white/50",children:"Font"}),n.jsx("div",{className:"bg-[rgba(255,255,255,0.04)] border border-[rgba(255,255,255,0.12)] focus-within:border-[rgba(255,255,255,0.3)] rounded-lg",children:n.jsxs("div",{className:"flex items-center h-[36px] relative",children:[n.jsx(s0,{className:"w-4 h-4 ml-2.5 mr-2 flex-shrink-0 text-white pointer-events-none absolute left-0"}),n.jsx("select",{value:D,onChange:e=>(e=>{M(e);const t=""!==e;P(t),O(t)})(e.target.value),className:"flex-1 bg-transparent text-white text-sm pl-9 pr-8 focus:outline-none cursor-pointer appearance-none",children:A0.map(e=>n.jsx("option",{value:e.value,className:"bg-[#1A1A1A]",children:e.name},e.value))}),n.jsx("div",{className:"flex items-center justify-end pr-2.5 pointer-events-none absolute right-0",children:n.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{d:"M2.66602 4.6665L7.99935 9.99983L13.3327 4.6665",stroke:"rgba(255, 255, 255, 0.4)",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})})]})})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("div",{className:"flex-1 space-y-2",children:[n.jsx("label",{className:"block text-xs font-medium text-white/50",children:"Weight"}),n.jsx("div",{className:"bg-[rgba(255,255,255,0.04)] border border-[rgba(255,255,255,0.12)] focus-within:border-[rgba(255,255,255,0.3)] rounded-lg",children:n.jsxs("div",{className:"flex items-center justify-between h-[36px] relative",children:[n.jsxs("select",{value:z,onChange:e=>{$(!0),B(e.target.value)},className:"flex-1 bg-transparent text-white text-sm pl-2.5 pr-8 focus:outline-none cursor-pointer appearance-none",children:[n.jsx("option",{value:"font-thin",className:"bg-[#1A1A1A]",children:"Thin"}),n.jsx("option",{value:"font-extralight",className:"bg-[#1A1A1A]",children:"Extra Light"}),n.jsx("option",{value:"font-light",className:"bg-[#1A1A1A]",children:"Light"}),n.jsx("option",{value:"font-normal",className:"bg-[#1A1A1A]",children:"Normal"}),n.jsx("option",{value:"font-medium",className:"bg-[#1A1A1A]",children:"Medium"}),n.jsx("option",{value:"font-semibold",className:"bg-[#1A1A1A]",children:"Semi Bold"}),n.jsx("option",{value:"font-bold",className:"bg-[#1A1A1A]",children:"Bold"}),n.jsx("option",{value:"font-extrabold",className:"bg-[#1A1A1A]",children:"Extra Bold"})]}),n.jsx("div",{className:"flex items-center justify-end pr-2.5 pointer-events-none absolute right-0",children:n.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{d:"M2.66602 4.6665L7.99935 9.99983L13.3327 4.6665",stroke:"rgba(255, 255, 255, 0.4)",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})})]})})]}),n.jsxs("div",{className:"flex-1 space-y-2",children:[n.jsx("label",{className:"block text-xs font-medium text-white/50",children:"Size"}),n.jsx("div",{className:"bg-[rgba(255,255,255,0.04)] border border-[rgba(255,255,255,0.12)] focus-within:border-[rgba(255,255,255,0.3)] rounded-lg",children:n.jsxs("div",{className:"flex items-center justify-between h-[36px] relative",children:[n.jsxs("select",{value:U,onChange:e=>{q(!0),V(e.target.value)},className:"flex-1 bg-transparent text-white text-sm pl-2.5 pr-8 focus:outline-none cursor-pointer appearance-none",children:[n.jsx("option",{value:"text-xs",className:"bg-[#1A1A1A]",children:"XS"}),n.jsx("option",{value:"text-sm",className:"bg-[#1A1A1A]",children:"Small"}),n.jsx("option",{value:"text-base",className:"bg-[#1A1A1A]",children:"Body"}),n.jsx("option",{value:"text-lg",className:"bg-[#1A1A1A]",children:"Large"}),n.jsx("option",{value:"text-xl",className:"bg-[#1A1A1A]",children:"XL"}),n.jsx("option",{value:"text-2xl",className:"bg-[#1A1A1A]",children:"2XL"}),n.jsx("option",{value:"text-3xl",className:"bg-[#1A1A1A]",children:"3XL"}),n.jsx("option",{value:"text-4xl",className:"bg-[#1A1A1A]",children:"4XL"}),n.jsx("option",{value:"text-5xl",className:"bg-[#1A1A1A]",children:"5XL"}),n.jsx("option",{value:"text-6xl",className:"bg-[#1A1A1A]",children:"6XL"}),n.jsx("option",{value:"text-7xl",className:"bg-[#1A1A1A]",children:"7XL"}),n.jsx("option",{value:"text-8xl",className:"bg-[#1A1A1A]",children:"8XL"}),n.jsx("option",{value:"text-9xl",className:"bg-[#1A1A1A]",children:"9XL"})]}),n.jsx("div",{className:"flex items-center justify-end pr-2.5 pointer-events-none absolute right-0",children:n.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{d:"M2.66602 4.6665L7.99935 9.99983L13.3327 4.6665",stroke:"rgba(255, 255, 255, 0.4)",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})})]})})]})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsxs("div",{className:"flex-1 space-y-2",children:[n.jsx("label",{className:"block text-xs font-medium text-white/50",children:"Line Height"}),n.jsx("div",{className:"bg-[rgba(255,255,255,0.04)] border border-[rgba(255,255,255,0.12)] focus-within:border-[rgba(255,255,255,0.3)] rounded-lg",children:n.jsxs("div",{className:"flex items-center p-2.5 h-[36px]",children:[n.jsx(i0,{className:"w-4 h-4 mr-2.5 flex-shrink-0 text-white"}),n.jsx("input",{type:"number",value:G,onChange:e=>Z(e.target.value),className:"w-full bg-transparent text-white text-sm focus:outline-none [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none",placeholder:"1.75",step:"0.01"}),n.jsx(Q0,{value:Y,onValueChange:e=>(e=>{if(G){const t=Yt(G,Y,e);Z(t)}K(e)})(e)})]})})]}),n.jsxs("div",{className:"flex-1 space-y-2",children:[n.jsx("label",{className:"block text-xs font-medium text-white/50",children:"Letter Spacing"}),n.jsx("div",{className:"bg-[rgba(255,255,255,0.04)] border border-[rgba(255,255,255,0.12)] focus-within:border-[rgba(255,255,255,0.3)] rounded-lg",children:n.jsxs("div",{className:"flex items-center p-2.5 h-[36px]",children:[n.jsx(a0,{className:"w-4 h-4 mr-2.5 flex-shrink-0 text-white"}),n.jsx("input",{type:"number",value:J,onChange:e=>Q(e.target.value),className:"w-full bg-transparent text-white text-sm focus:outline-none [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none",placeholder:"0",step:"0.01"}),n.jsx(Q0,{value:X,onValueChange:e=>(e=>{if(J){const t=Yt(J,X,e);Q(t)}ee(e)})(e)})]})})]})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsxs("div",{className:"flex-1 space-y-2",children:[n.jsx("label",{className:"block text-xs font-medium text-white/50",children:"Alignment"}),n.jsx("div",{className:"bg-[rgba(255,255,255,0.04)] border border-[rgba(255,255,255,0.12)] focus-within:border-[rgba(255,255,255,0.3)] rounded-lg",children:n.jsxs("div",{className:"flex items-stretch p-1",children:[n.jsx("button",{onClick:()=>ne("text-left"),className:fb("flex-1 flex items-center justify-center py-0.5 px-2.5 rounded transition-colors","text-left"===te?"bg-[rgba(255,255,255,0.2)]":"hover:bg-[rgba(255,255,255,0.05)]"),children:n.jsx(r0,{className:fb("w-6 h-6","text-left"===te?"text-white":"text-white/60")})}),n.jsx("button",{onClick:()=>ne("text-center"),className:fb("flex-1 flex items-center justify-center py-0.5 px-2.5 rounded transition-colors","text-center"===te?"bg-[rgba(255,255,255,0.2)]":"hover:bg-[rgba(255,255,255,0.05)]"),children:n.jsx(o0,{className:fb("w-6 h-6","text-center"===te?"text-white":"text-white/60")})}),n.jsx("button",{onClick:()=>ne("text-right"),className:fb("flex-1 flex items-center justify-center py-0.5 px-2.5 rounded transition-colors","text-right"===te?"bg-[rgba(255,255,255,0.2)]":"hover:bg-[rgba(255,255,255,0.05)]"),children:n.jsx(l0,{className:fb("w-6 h-6","text-right"===te?"text-white":"text-white/60")})}),n.jsx("button",{onClick:()=>ne("text-justify"),className:fb("flex-1 flex items-center justify-center py-0.5 px-2.5 rounded transition-colors","text-justify"===te?"bg-[rgba(255,255,255,0.2)]":"hover:bg-[rgba(255,255,255,0.05)]"),children:n.jsx(c0,{className:fb("w-6 h-6","text-justify"===te?"text-white":"text-white/60")})})]})})]}),n.jsxs("div",{className:"flex-1 space-y-2",children:[n.jsx("label",{className:"block text-xs font-medium text-white/50",children:"Decoration"}),n.jsx("div",{className:"bg-[rgba(255,255,255,0.04)] border border-[rgba(255,255,255,0.12)] focus-within:border-[rgba(255,255,255,0.3)] rounded-lg",children:n.jsxs("div",{className:"flex items-stretch p-1",children:[n.jsx("button",{onClick:()=>ie("none"),className:fb("flex-1 flex items-center justify-center py-0.5 px-2.5 rounded transition-colors","none"===se?"bg-[rgba(255,255,255,0.2)]":"hover:bg-[rgba(255,255,255,0.05)]"),children:n.jsx(d0,{className:fb("w-6 h-6","none"===se?"text-white":"text-white/60")})}),n.jsx("button",{onClick:()=>ie("italic"),className:fb("flex-1 flex items-center justify-center py-0.5 px-2.5 rounded transition-colors","italic"===se?"bg-[rgba(255,255,255,0.2)]":"hover:bg-[rgba(255,255,255,0.05)]"),children:n.jsx(m0,{className:fb("w-6 h-6","italic"===se?"text-white":"text-white/60")})}),n.jsx("button",{onClick:()=>ie("line-through"),className:fb("flex-1 flex items-center justify-center py-0.5 px-2.5 rounded transition-colors","line-through"===se?"bg-[rgba(255,255,255,0.2)]":"hover:bg-[rgba(255,255,255,0.05)]"),children:n.jsx(p0,{className:fb("w-6 h-6","line-through"===se?"text-white":"text-white/60")})}),n.jsx("button",{onClick:()=>ie("underline"),className:fb("flex-1 flex items-center justify-center py-0.5 px-2.5 rounded transition-colors","underline"===se?"bg-[rgba(102,178,255,0.2)]":"hover:bg-[rgba(255,255,255,0.05)]"),children:n.jsx(u0,{className:fb("w-6 h-6","underline"===se?"text-white":"text-white/60")})})]})})]})]})]}),"layout"===x&&n.jsxs(n.Fragment,{children:[ot&&n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"block text-xs font-medium text-white/50",children:"Gap"}),n.jsx("div",{className:"flex gap-2",children:n.jsx("div",{className:"flex-1 min-w-0 bg-[rgba(255,255,255,0.04)] border border-[rgba(255,255,255,0.12)] focus-within:border-[rgba(255,255,255,0.3)] rounded-lg",children:n.jsxs("div",{className:"flex items-center p-2.5 h-[36px]",children:[n.jsx(S0,{className:"w-4 h-4 mr-2.5 flex-shrink-0 text-white opacity-40"}),n.jsx("input",{type:"number",value:ze,onChange:e=>Be(e.target.value),className:"w-full bg-transparent text-white text-sm focus:outline-none [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none",placeholder:"0"}),n.jsx("span",{className:"text-white text-sm ml-1",children:"px"})]})})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"block text-xs font-medium text-white/50",children:"Margin"}),_e?n.jsxs("div",{className:"flex gap-2",children:[n.jsx("div",{className:"flex-1 min-w-0 bg-[rgba(255,255,255,0.04)] border border-[rgba(255,255,255,0.12)] focus-within:border-[rgba(255,255,255,0.3)] rounded-lg",children:n.jsxs("div",{className:"flex items-center p-2.5 h-[36px]",children:[n.jsx(x0,{className:"w-4 h-4 mr-2.5 flex-shrink-0 text-white"}),n.jsx("input",{type:"number",value:me,onChange:e=>{const t=e.target.value;he(t),fe(t)},className:"w-full bg-transparent text-white text-sm focus:outline-none [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none",placeholder:"0"}),n.jsx("span",{className:"text-white text-sm ml-1",children:"px"})]})}),n.jsx("div",{className:"flex-1 min-w-0 bg-[rgba(255,255,255,0.04)] border border-[rgba(255,255,255,0.12)] focus-within:border-[rgba(255,255,255,0.3)] rounded-lg",children:n.jsxs("div",{className:"flex items-center p-2.5 h-[36px]",children:[n.jsx(h0,{className:"w-4 h-4 mr-2.5 flex-shrink-0 text-white"}),n.jsx("input",{type:"number",value:ge,onChange:e=>{const t=e.target.value;ve(t),Fe(t)},className:"w-full bg-transparent text-white text-sm focus:outline-none [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none",placeholder:"0"}),n.jsx("span",{className:"text-white text-sm ml-1",children:"px"})]})}),n.jsx("button",{onClick:()=>ke(!1),className:"w-9 h-9 flex items-center justify-center bg-[rgba(255,255,255,0.06)] border border-[rgba(255,255,255,0.12)] rounded-lg transition-colors hover:bg-[rgba(255,255,255,0.1)]",children:n.jsx(v0,{className:"w-4 h-4 text-white"})})]}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex gap-2",children:[n.jsx("div",{className:"flex-1 min-w-0 bg-[rgba(255,255,255,0.04)] border border-[rgba(255,255,255,0.12)] focus-within:border-[rgba(255,255,255,0.3)] rounded-lg",children:n.jsxs("div",{className:"flex items-center p-2.5 h-[36px]",children:[n.jsx(y0,{className:"w-4 h-4 mr-2.5 flex-shrink-0 text-white"}),n.jsx("input",{type:"number",value:me,onChange:e=>he(e.target.value),className:"w-full bg-transparent text-white text-sm focus:outline-none [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none",placeholder:"0"}),n.jsx("span",{className:"text-white text-sm ml-1",children:"px"})]})}),n.jsx("div",{className:"flex-1 min-w-0 bg-[rgba(255,255,255,0.04)] border border-[rgba(255,255,255,0.12)] focus-within:border-[rgba(255,255,255,0.3)] rounded-lg",children:n.jsxs("div",{className:"flex items-center p-2.5 h-[36px]",children:[n.jsx(w0,{className:"w-4 h-4 mr-2.5 flex-shrink-0 text-white"}),n.jsx("input",{type:"number",value:xe,onChange:e=>fe(e.target.value),className:"w-full bg-transparent text-white text-sm focus:outline-none [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none",placeholder:"0"}),n.jsx("span",{className:"text-white text-sm ml-1",children:"px"})]})}),n.jsx("button",{onClick:()=>ke(!0),className:"w-9 h-9 flex items-center justify-center bg-[rgba(153,204,255,0.06)] border border-[rgba(153,204,255,0.12)] rounded-lg transition-colors hover:bg-[rgba(153,204,255,0.1)]",children:n.jsx(b0,{className:"w-4 h-4 text-[#99CCFF]"})})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("div",{className:"flex-1 min-w-0 bg-[rgba(255,255,255,0.04)] border border-[rgba(255,255,255,0.12)] focus-within:border-[rgba(255,255,255,0.3)] rounded-lg",children:n.jsxs("div",{className:"flex items-center p-2.5 h-[36px]",children:[n.jsx(j0,{className:"w-4 h-4 mr-2.5 flex-shrink-0 text-white"}),n.jsx("input",{type:"number",value:ge,onChange:e=>ve(e.target.value),className:"w-full bg-transparent text-white text-sm focus:outline-none [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none",placeholder:"0"}),n.jsx("span",{className:"text-white text-sm ml-1",children:"px"})]})}),n.jsx("div",{className:"flex-1 min-w-0 bg-[rgba(255,255,255,0.04)] border border-[rgba(255,255,255,0.12)] focus-within:border-[rgba(255,255,255,0.3)] rounded-lg",children:n.jsxs("div",{className:"flex items-center p-2.5 h-[36px]",children:[n.jsx(C0,{className:"w-4 h-4 mr-2.5 flex-shrink-0 text-white"}),n.jsx("input",{type:"number",value:Ne,onChange:e=>Fe(e.target.value),className:"w-full bg-transparent text-white text-sm focus:outline-none [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none",placeholder:"0"}),n.jsx("span",{className:"text-white text-sm ml-1",children:"px"})]})}),n.jsx("div",{className:"w-9 h-9 opacity-0 pointer-events-none"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"block text-xs font-medium text-white/50",children:"Padding"}),Re?n.jsxs("div",{className:"flex gap-2",children:[n.jsx("div",{className:"flex-1 min-w-0 bg-[rgba(255,255,255,0.04)] border border-[rgba(255,255,255,0.12)] focus-within:border-[rgba(255,255,255,0.3)] rounded-lg",children:n.jsxs("div",{className:"flex items-center p-2.5 h-[36px]",children:[n.jsx(g0,{className:"w-4 h-4 mr-2.5 flex-shrink-0 text-white"}),n.jsx("input",{type:"number",value:Se,onChange:e=>{const t=e.target.value;Ee(t),Ae(t)},className:"w-full bg-transparent text-white text-sm focus:outline-none [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none",placeholder:"0"}),n.jsx("span",{className:"text-white text-sm ml-1",children:"px"})]})}),n.jsx("div",{className:"flex-1 min-w-0 bg-[rgba(255,255,255,0.04)] border border-[rgba(255,255,255,0.12)] focus-within:border-[rgba(255,255,255,0.3)] rounded-lg",children:n.jsxs("div",{className:"flex items-center p-2.5 h-[36px]",children:[n.jsx(f0,{className:"w-4 h-4 mr-2.5 flex-shrink-0 text-white"}),n.jsx("input",{type:"number",value:Te,onChange:e=>{const t=e.target.value;Me(t),Pe(t)},className:"w-full bg-transparent text-white text-sm focus:outline-none [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none",placeholder:"0"}),n.jsx("span",{className:"text-white text-sm ml-1",children:"px"})]})}),n.jsx("button",{onClick:()=>Oe(!1),className:"w-9 h-9 flex items-center justify-center bg-[rgba(255,255,255,0.06)] border border-[rgba(255,255,255,0.12)] rounded-lg transition-colors hover:bg-[rgba(255,255,255,0.1)]",children:n.jsx(v0,{className:"w-4 h-4 text-white"})})]}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex gap-2",children:[n.jsx("div",{className:"flex-1 min-w-0 bg-[rgba(255,255,255,0.04)] border border-[rgba(255,255,255,0.12)] focus-within:border-[rgba(255,255,255,0.3)] rounded-lg",children:n.jsxs("div",{className:"flex items-center p-2.5 h-[36px]",children:[n.jsx(N0,{className:"w-4 h-4 mr-2.5 flex-shrink-0 text-white"}),n.jsx("input",{type:"number",value:Se,onChange:e=>Ee(e.target.value),className:"w-full bg-transparent text-white text-sm focus:outline-none [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none",placeholder:"0"}),n.jsx("span",{className:"text-white text-sm ml-1",children:"px"})]})}),n.jsx("div",{className:"flex-1 min-w-0 bg-[rgba(255,255,255,0.04)] border border-[rgba(255,255,255,0.12)] focus-within:border-[rgba(255,255,255,0.3)] rounded-lg",children:n.jsxs("div",{className:"flex items-center p-2.5 h-[36px]",children:[n.jsx(F0,{className:"w-4 h-4 mr-2.5 flex-shrink-0 text-white"}),n.jsx("input",{type:"number",value:Ie,onChange:e=>Ae(e.target.value),className:"w-full bg-transparent text-white text-sm focus:outline-none [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none",placeholder:"0"}),n.jsx("span",{className:"text-white text-sm ml-1",children:"px"})]})}),n.jsx("button",{onClick:()=>Oe(!0),className:"w-9 h-9 flex items-center justify-center bg-[rgba(153,204,255,0.06)] border border-[rgba(153,204,255,0.12)] rounded-lg transition-colors hover:bg-[rgba(153,204,255,0.1)]",children:n.jsx(b0,{className:"w-4 h-4 text-[#99CCFF]"})})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("div",{className:"flex-1 min-w-0 bg-[rgba(255,255,255,0.04)] border border-[rgba(255,255,255,0.12)] focus-within:border-[rgba(255,255,255,0.3)] rounded-lg",children:n.jsxs("div",{className:"flex items-center p-2.5 h-[36px]",children:[n.jsx(_0,{className:"w-4 h-4 mr-2.5 flex-shrink-0 text-white"}),n.jsx("input",{type:"number",value:Te,onChange:e=>Me(e.target.value),className:"w-full bg-transparent text-white text-sm focus:outline-none [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none",placeholder:"0"}),n.jsx("span",{className:"text-white text-sm ml-1",children:"px"})]})}),n.jsx("div",{className:"flex-1 min-w-0 bg-[rgba(255,255,255,0.04)] border border-[rgba(255,255,255,0.12)] focus-within:border-[rgba(255,255,255,0.3)] rounded-lg",children:n.jsxs("div",{className:"flex items-center p-2.5 h-[36px]",children:[n.jsx(k0,{className:"w-4 h-4 mr-2.5 flex-shrink-0 text-white"}),n.jsx("input",{type:"number",value:Le,onChange:e=>Pe(e.target.value),className:"w-full bg-transparent text-white text-sm focus:outline-none [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none",placeholder:"0"}),n.jsx("span",{className:"text-white text-sm ml-1",children:"px"})]})}),n.jsx("div",{className:"w-9 h-9 opacity-0 pointer-events-none"})]})]})]})]})]})]})});function t2({className:e,size:t=20}){return n.jsxs("svg",{width:t,height:t,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,children:[n.jsx("circle",{cx:"10",cy:"10",r:"7.5",fill:"#0F0F10"}),n.jsx("circle",{cx:"10",cy:"10",r:"3.75",fill:"#2EE572"})]})}function n2({className:e,size:t=20}){return n.jsxs("svg",{width:t,height:t,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,children:[n.jsx("circle",{cx:"10",cy:"10",r:"7.5",stroke:"white",strokeWidth:"1.5"}),n.jsx("rect",{x:"7",y:"7",width:"6",height:"6",rx:"0.75",fill:"white"})]})}e2.displayName="FloatingEditWidget";const s2=({className:e})=>n.jsxs("svg",{width:"17",height:"16",viewBox:"0 0 17 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,children:[n.jsx("g",{opacity:"0.6",clipPath:"url(#clip0_5432_69607)",children:n.jsx("path",{d:"M9.72451 1.84075C9.61693 1.59936 9.44667 1.39117 9.23143 1.23783C9.01618 1.08449 8.7638 0.991575 8.50051 0.96875C8.23862 0.992946 7.98792 1.08649 7.77419 1.23975C7.56046 1.39302 7.39144 1.60047 7.28451 1.84075L0.78851 13.0888C0.11651 14.2488 0.66851 15.2008 2.00451 15.2008H14.9965C16.3325 15.2008 16.8845 14.2488 16.2125 13.0888L9.72451 1.84075ZM9.30051 12.8007H7.70051V11.2008H9.30051V12.8007ZM9.30051 9.60075H7.70051V4.80075H9.30051V9.60075Z",fill:"white"})}),n.jsx("defs",{children:n.jsx("clipPath",{id:"clip0_5432_69607",children:n.jsx("rect",{width:"16",height:"16",fill:"white",transform:"translate(0.5)"})})})]}),i2=16,a2=16,r2=(e,t,n)=>n<t?t:Math.min(Math.max(e,t),n),o2=e=>{if(!e)return null;const t=e.offsetParent;if(t)return{rect:t.getBoundingClientRect(),strategy:"absolute"};if("undefined"==typeof window)return null;const n=window.innerWidth,s=window.innerHeight;return{rect:{left:0,top:0,right:n,bottom:s,width:n,height:s,x:0,y:0,toJSON:()=>({})},strategy:"fixed"}};function l2({isVisible:e,onSave:t,onDiscard:s,className:i,jobId:a,constraintKey:r,isFullscreen:o=!1,showUnsavedChangesModal:l}){const[c,d]=De.useState(!1),[u,p]=De.useState({x:0,y:0}),[m,h]=De.useState({x:i2,y:a2}),x=De.useRef(null),f=De.useRef(!1),g=De.useRef(!1),v=De.useRef(null),[b,y]=De.useState("absolute");De.useEffect(()=>{void 0!==r&&(g.current=!1,f.current=!1)},[r]),De.useEffect(()=>{if(!e)return;if("undefined"==typeof window)return;let t=!1;const n=window.requestAnimationFrame(()=>{t||window.requestAnimationFrame(()=>{if(t)return;const e=x.current;if(!e||f.current||g.current)return;const n=o2(e);n&&(y(e=>e===n.strategy?e:n.strategy),h({x:0,y:0}),window.requestAnimationFrame(()=>{if(t)return;const{rect:s}=n,i=e.getBoundingClientRect();if(s.width<=0||s.height<=0)return;const a=(s.width-i.width)/2,r=s.height-i.height-16,o={x:r2(a,i2,s.width-i.width-i2),y:r2(r,a2,s.height-i.height-a2)};h(o),f.current=!0}))})});return()=>{t=!0,window.cancelAnimationFrame(n)}},[e,r]),De.useEffect(()=>{if("undefined"==typeof window)return;const e=()=>{const e=x.current;if(!e)return;const t=o2(e);if(!t)return;y(e=>e===t.strategy?e:t.strategy);const{rect:n}=t,s=e.getBoundingClientRect();h(e=>({x:r2(e.x,i2,n.width-s.width-i2),y:r2(e.y,a2,n.height-s.height-a2)}))};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),De.useEffect(()=>{if(!c)return;const e=e=>{if(v.current!==e.pointerId)return;const t=x.current;if("undefined"==typeof window||!t)return;const n=o2(t);if(!n)return;y(e=>e===n.strategy?e:n.strategy),g.current=!0,e.preventDefault();const s=n.rect,i=t.getBoundingClientRect(),a=e.clientX-s.left-u.x,r=e.clientY-s.top-u.y;h({x:r2(a,i2,s.width-i.width-i2),y:r2(r,a2,s.height-i.height-a2)})},t=e=>{if(v.current!==e.pointerId)return;v.current=null;const t=x.current;(null==t?void 0:t.hasPointerCapture(e.pointerId))&&t.releasePointerCapture(e.pointerId),d(!1)};return window.addEventListener("pointermove",e),window.addEventListener("pointerup",t),window.addEventListener("pointercancel",t),()=>{var n;null!==v.current&&(null==(n=x.current)?void 0:n.hasPointerCapture(v.current))&&x.current.releasePointerCapture(v.current),window.removeEventListener("pointermove",e),window.removeEventListener("pointerup",t),window.removeEventListener("pointercancel",t)}},[c,u]);return De.useEffect(()=>{var t;!e&&c&&(null!==v.current&&(null==(t=x.current)?void 0:t.hasPointerCapture(v.current))&&x.current.releasePointerCapture(v.current),v.current=null,d(!1))},[e,c]),n.jsx(n.Fragment,{children:n.jsx(Rt,{children:e&&n.jsx(Pt.div,{ref:x,initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},transition:{duration:.2,ease:"easeInOut"},onPointerDown:e=>{if(0!==e.button&&"touch"!==e.pointerType)return;if(e.target.closest("button"))return;const t=x.current;if(!t)return;const n=o2(t);n&&y(e=>e===n.strategy?e:n.strategy),e.preventDefault();const s=t.getBoundingClientRect();p({x:e.clientX-s.left,y:e.clientY-s.top}),v.current=e.pointerId,t.hasPointerCapture(e.pointerId)||t.setPointerCapture(e.pointerId),d(!0)},style:{left:m.x,top:m.y,visibility:f.current?"visible":"hidden"},className:fb("fixed"===b?"fixed":"absolute","z-[48] w-fit select-none",c?"cursor-grabbing":"cursor-grab",i),children:n.jsxs("div",{className:"bg-[#202124] border border-[rgba(255,255,255,0.2)] rounded-xl px-4 py-2 pl-3 pr-2 flex items-center gap-4 shadow-[0px_7px_15px_0px_rgba(0,0,0,0.09),0px_26px_26px_0px_rgba(0,0,0,0.08),0px_59px_36px_0px_rgba(0,0,0,0.05),0px_106px_42px_0px_rgba(0,0,0,0.01),0px_165px_46px_0px_rgba(0,0,0,0)]",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(s2,{className:"w-4 h-4 text-white opacity-60"}),n.jsx("span",{className:"text-white opacity-60 font-['Brockmann'] font-medium text-sm",children:"Unsaved Changes"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("button",{type:"button",onClick:()=>{null==l||l({onConfirm:()=>{fg("visual_edit_discarded",{jobId:a}),s()},title:"Discard Changes?",description:"Are you sure you want to discard your changes? You will lose your unsaved changes.",confirmButton:{text:"Discard",variant:"destructive"},cancelButton:{text:"Cancel",variant:"outline"},isFullscreen:o})},className:"bg-[rgba(255,255,255,0.16)] opacity-92 hover:opacity-100 rounded-md px-3 py-1 flex items-center justify-center gap-1 transition-opacity duration-200",children:n.jsx("span",{className:"text-white font-['Brockmann'] font-semibold text-sm",children:"Discard"})}),n.jsxs("button",{type:"button",onClick:()=>{fg("visual_edit_saved",{jobId:a}),t()},className:"bg-[#0161D1] opacity-92 hover:opacity-100 rounded-md px-3 py-1 flex items-center justify-center gap-1 transition-opacity duration-200",children:[n.jsx("span",{className:"text-white font-['Brockmann'] font-semibold text-sm",children:"Save Changes"}),n.jsxs("div",{className:"flex items-center gap-[2px]",children:[n.jsx("div",{className:"w-5 h-5 flex items-center justify-center rounded bg-white/20 border border-white/[0.08]",children:n.jsx("span",{className:"text-white font-['Brockmann'] font-medium text-[8px] leading-none text-center tracking-[-0.01em]",children:navigator.platform.toLowerCase().includes("mac")?"":"Ctrl"})}),n.jsx("div",{className:"w-5 h-5 flex items-center justify-center rounded bg-white/20 border border-white/[0.08]",children:n.jsx("span",{className:"text-white font-['Brockmann'] font-medium text-[12px] leading-none text-center tracking-[-0.01em]",children:"S"})})]})]})]})]})})})})}let c2=null;function d2(){const e=De.useRef(null);return{registerVisualEditState:De.useCallback((t,n,s,i,a)=>{const r={activeJobId:t,hasUnsavedChanges:n,onSave:s,onDiscard:i,onDisableVisualEdit:a};e.current=r,c2=r},[]),clearVisualEditState:De.useCallback(()=>{e.current=null,c2=null},[]),getVisualEditState:De.useCallback(()=>c2,[])}}const u2=({className:e})=>n.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,children:[n.jsx("path",{d:"M13.332 2H2.66536C1.92898 2 1.33203 2.59695 1.33203 3.33333V10C1.33203 10.7364 1.92898 11.3333 2.66536 11.3333H13.332C14.0684 11.3333 14.6654 10.7364 14.6654 10V3.33333C14.6654 2.59695 14.0684 2 13.332 2Z",stroke:"currentColor",strokeWidth:"1.33333",strokeLinecap:"round",strokeLinejoin:"round"}),n.jsx("path",{d:"M5.33203 14H10.6654",stroke:"currentColor",strokeWidth:"1.33333",strokeLinecap:"round",strokeLinejoin:"round"}),n.jsx("path",{d:"M8 11.3359V14.0026",stroke:"currentColor",strokeWidth:"1.33333",strokeLinecap:"round",strokeLinejoin:"round"})]}),p2=({className:e})=>n.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,children:n.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.75 0C1.7835 0 1 0.783501 1 1.75V14.25C1 15.2165 1.7835 16 2.75 16H13.25C14.2165 16 15 15.2165 15 14.25V1.75C15 0.783502 14.2165 0 13.25 0H2.75ZM2.5 1.75C2.5 1.61193 2.61193 1.5 2.75 1.5H13.25C13.3881 1.5 13.5 1.61193 13.5 1.75V14.25C13.5 14.3881 13.3881 14.5 13.25 14.5H2.75C2.61193 14.5 2.5 14.3881 2.5 14.25V1.75ZM4.75 4.75C5.30228 4.75 5.75 4.30228 5.75 3.75C5.75 3.19772 5.30228 2.75 4.75 2.75C4.19772 2.75 3.75 3.19772 3.75 3.75C3.75 4.30228 4.19772 4.75 4.75 4.75Z",fill:"currentColor"})}),m2=({className:e})=>n.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,children:[n.jsx("path",{d:"M11.332 1.33594H4.66536C3.92898 1.33594 3.33203 1.93289 3.33203 2.66927V13.3359C3.33203 14.0723 3.92898 14.6693 4.66536 14.6693H11.332C12.0684 14.6693 12.6654 14.0723 12.6654 13.3359V2.66927C12.6654 1.93289 12.0684 1.33594 11.332 1.33594Z",stroke:"currentColor",strokeWidth:"1.33333",strokeLinecap:"round",strokeLinejoin:"round"}),n.jsx("path",{d:"M8 12H8.00667",stroke:"currentColor",strokeWidth:"1.33333",strokeLinecap:"round",strokeLinejoin:"round"})]}),h2=({className:e})=>n.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,children:[n.jsx("path",{d:"M6.0013 9.33073L2.66797 5.9974L6.0013 2.66406",stroke:"currentColor",strokeWidth:"1.33333",strokeLinecap:"round",strokeLinejoin:"round"}),n.jsx("path",{d:"M2.66797 6H9.66797C10.1495 6 10.6263 6.09484 11.0711 6.27911C11.516 6.46338 11.9202 6.73346 12.2607 7.07394C12.6012 7.41442 12.8713 7.81863 13.0555 8.26349C13.2398 8.70835 13.3346 9.18515 13.3346 9.66667C13.3346 10.1482 13.2398 10.625 13.0555 11.0698C12.8713 11.5147 12.6012 11.9189 12.2607 12.2594C11.9202 12.5999 11.516 12.87 11.0711 13.0542C10.6263 13.2385 10.1495 13.3333 9.66797 13.3333H7.33464",stroke:"currentColor",strokeWidth:"1.33333",strokeLinecap:"round",strokeLinejoin:"round"})]}),x2=({className:e})=>n.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,children:[n.jsx("path",{d:"M10 9.33073L13.3333 5.9974L10 2.66406",stroke:"currentColor",strokeWidth:"1.33333",strokeLinecap:"round",strokeLinejoin:"round"}),n.jsx("path",{d:"M13.3346 6H6.33464C5.36217 6 4.42954 6.38631 3.74191 7.07394C3.05428 7.76157 2.66797 8.69421 2.66797 9.66667C2.66797 10.1482 2.76281 10.625 2.94708 11.0698C3.13134 11.5147 3.40143 11.9189 3.74191 12.2594C4.42954 12.947 5.36217 13.3333 6.33464 13.3333H8.66797",stroke:"currentColor",strokeWidth:"1.33333",strokeLinecap:"round",strokeLinejoin:"round"})]}),f2=({className:e})=>n.jsx("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,children:n.jsx("path",{d:"M2 1.5C1.86739 1.5 1.74021 1.55268 1.64645 1.64645C1.55268 1.74021 1.5 1.86739 1.5 2V3.614C1.5 3.81291 1.42098 4.00368 1.28033 4.14433C1.13968 4.28498 0.948912 4.364 0.75 4.364C0.551088 4.364 0.360322 4.28498 0.21967 4.14433C0.0790175 4.00368 4.19177e-09 3.81291 0 3.614V2C0 1.46957 0.210714 0.960859 0.585786 0.585786C0.960859 0.210714 1.46957 0 2 0H3.614C3.81291 4.19176e-09 4.00368 0.0790175 4.14433 0.21967C4.28498 0.360322 4.364 0.551088 4.364 0.75C4.364 0.948912 4.28498 1.13968 4.14433 1.28033C4.00368 1.42098 3.81291 1.5 3.614 1.5H2ZM7.636 0.75C7.636 0.551088 7.71502 0.360322 7.85567 0.21967C7.99632 0.0790175 8.18709 0 8.386 0H10C10.5304 0 11.0391 0.210714 11.4142 0.585786C11.7893 0.960859 12 1.46957 12 2V3.614C12 3.81291 11.921 4.00368 11.7803 4.14433C11.6397 4.28498 11.4489 4.364 11.25 4.364C11.0511 4.364 10.8603 4.28498 10.7197 4.14433C10.579 4.00368 10.5 3.81291 10.5 3.614V2C10.5 1.86739 10.4473 1.74021 10.3536 1.64645C10.2598 1.55268 10.1326 1.5 10 1.5H8.386C8.18709 1.5 7.99632 1.42098 7.85567 1.28033C7.71502 1.13968 7.636 0.948912 7.636 0.75ZM0.75 7.636C0.948912 7.636 1.13968 7.71502 1.28033 7.85567C1.42098 7.99632 1.5 8.18709 1.5 8.386V10C1.5 10.1326 1.55268 10.2598 1.64645 10.3536C1.74021 10.4473 1.86739 10.5 2 10.5H3.614C3.81291 10.5 4.00368 10.579 4.14433 10.7197C4.28498 10.8603 4.364 11.0511 4.364 11.25C4.364 11.4489 4.28498 11.6397 4.14433 11.7803C4.00368 11.921 3.81291 12 3.614 12H2C1.46957 12 0.960859 11.7893 0.585786 11.4142C0.210714 11.0391 0 10.5304 0 10V8.386C0 8.18709 0.0790175 7.99632 0.21967 7.85567C0.360322 7.71502 0.551088 7.636 0.75 7.636ZM11.25 7.636C11.4489 7.636 11.6397 7.71502 11.7803 7.85567C11.921 7.99632 12 8.18709 12 8.386V10C12 10.5304 11.7893 11.0391 11.4142 11.4142C11.0391 11.7893 10.5304 12 10 12H8.386C8.18709 12 7.99632 11.921 7.85567 11.7803C7.71502 11.6397 7.636 11.4489 7.636 11.25C7.636 11.0511 7.71502 10.8603 7.85567 10.7197C7.99632 10.579 8.18709 10.5 8.386 10.5H10C10.1326 10.5 10.2598 10.4473 10.3536 10.3536C10.4473 10.2598 10.5 10.1326 10.5 10V8.386C10.5 8.18709 10.579 7.99632 10.7197 7.85567C10.8603 7.71502 11.0511 7.636 11.25 7.636Z",fill:"currentColor"})}),g2=({className:e})=>n.jsx("svg",{width:"10",height:"10",viewBox:"0 0 10 10",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,children:n.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.408457 0.41041C0.690052 0.128822 1.1466 0.128822 1.42819 0.41041L4.99726 3.97948L8.56629 0.41041C8.84794 0.128822 9.30444 0.128822 9.58609 0.41041C9.86766 0.692005 9.86766 1.14855 9.58609 1.43014L6.01698 4.99921L9.58609 8.56823C9.86766 8.84988 9.86766 9.30638 9.58609 9.58803C9.30444 9.8696 8.84794 9.8696 8.56629 9.58803L4.99726 6.01893L1.42819 9.58803C1.1466 9.8696 0.690052 9.8696 0.408457 9.58803C0.126869 9.30638 0.126869 8.84988 0.408457 8.56823L3.97754 4.99921L0.408457 1.43014C0.126869 1.14855 0.126869 0.692005 0.408457 0.41041Z",fill:"currentColor"})}),v2=({className:e})=>n.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,children:n.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.24748 5.23582C6.44259 5.2128 6.64037 5.24142 6.82267 5.31687L6.82365 5.3159L15.2846 8.77683L15.4281 8.84715C15.5653 8.92714 15.6848 9.03498 15.7787 9.16355L15.8295 9.23972L15.8735 9.31882C15.9702 9.50791 16.013 9.72113 15.9965 9.93406C15.9775 10.1772 15.8824 10.4088 15.724 10.5942C15.5656 10.7794 15.3517 10.9087 15.1147 10.9653V10.9663L11.7699 11.7671L10.9701 15.1128C10.9138 15.3496 10.7837 15.5626 10.599 15.7212C10.4133 15.8805 10.181 15.9765 9.93693 15.9956C9.69289 16.0146 9.44886 15.9553 9.24064 15.8266C9.03263 15.698 8.87085 15.5063 8.77873 15.2798L5.31779 6.82078L5.31877 6.8198C5.23249 6.61111 5.20827 6.38147 5.25138 6.15965L5.27092 6.07664C5.32356 5.88376 5.42572 5.70699 5.56779 5.56492L5.63029 5.5073C5.78178 5.3768 5.96529 5.28688 6.16252 5.24851L6.24748 5.23582ZM9.75041 13.5942L10.2738 11.4087V11.4077C10.3402 11.1318 10.4822 10.8797 10.683 10.6792C10.8839 10.4786 11.1364 10.3369 11.4125 10.271L13.5951 9.74754L7.0883 7.08543L9.75041 13.5942ZM3.13517 7.77488C3.42776 7.46696 3.91511 7.45498 4.22306 7.74754C4.5306 8.04012 4.54275 8.52661 4.25041 8.83445L2.78947 10.3725C2.4969 10.6805 2.01052 10.6924 1.70256 10.3999C1.39462 10.1073 1.38167 9.62093 1.67424 9.31297L3.13517 7.77488ZM0.0277509 4.40965C0.140698 4.00021 0.564602 3.7597 0.97404 3.87254L3.20451 4.48777C3.61397 4.60075 3.85457 5.02458 3.74162 5.43406C3.62853 5.84338 3.20473 6.08313 2.79533 5.97019L0.56486 5.35496C0.155728 5.24186 -0.0849285 4.81889 0.0277509 4.40965ZM9.31779 1.67234C9.62571 1.37982 10.1121 1.39187 10.4047 1.69968C10.6972 2.00753 10.685 2.49398 10.3774 2.7866L8.8383 4.24851C8.5304 4.54073 8.0439 4.52879 7.75138 4.22117C7.45881 3.91319 7.47173 3.42585 7.7797 3.13328L9.31779 1.67234ZM4.41154 0.0278093C4.8209 -0.085006 5.24479 0.155625 5.35783 0.564919L5.97306 2.79539C6.08592 3.20475 5.84523 3.6286 5.43595 3.74168C5.02656 3.85445 4.60262 3.61394 4.48967 3.20457L3.87443 0.974098C3.7616 0.564688 4.00216 0.140791 4.41154 0.0278093Z",fill:"currentColor"})}),b2=({className:e})=>n.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,children:[n.jsx("path",{d:"M8 10C9.10457 10 10 9.10457 10 8C10 6.89543 9.10457 6 8 6C6.89543 6 6 6.89543 6 8C6 9.10457 6.89543 10 8 10Z",fill:"currentColor"}),n.jsx("path",{d:"M15.3394 7.45625C14.5125 6.1775 13.4397 5.09125 12.2372 4.31469C10.9069 3.45469 9.43812 3 7.99 3C6.66125 3 5.35469 3.37969 4.10656 4.12844C2.83375 4.89188 1.68062 6.00719 0.679061 7.44312C0.565994 7.60541 0.503723 7.79764 0.500162 7.9954C0.496601 8.19315 0.55191 8.3875 0.659061 8.55375C1.48437 9.84531 2.54656 10.9331 3.73031 11.6991C5.06312 12.5625 6.4975 13 7.99 13C9.44969 13 10.9216 12.5491 12.2462 11.6962C13.4481 10.9222 14.5187 9.83187 15.3425 8.5425C15.446 8.38012 15.5007 8.19146 15.5001 7.99892C15.4995 7.80638 15.4438 7.61804 15.3394 7.45625ZM8.00062 11C7.40728 11 6.82726 10.8241 6.33391 10.4944C5.84056 10.1648 5.45605 9.69623 5.22898 9.14805C5.00192 8.59987 4.94251 7.99667 5.05827 7.41473C5.17402 6.83279 5.45975 6.29824 5.8793 5.87868C6.29886 5.45912 6.83341 5.1734 7.41535 5.05764C7.9973 4.94189 8.6005 5.0013 9.14867 5.22836C9.69685 5.45542 10.1654 5.83994 10.495 6.33329C10.8247 6.82664 11.0006 7.40666 11.0006 8C10.9997 8.79537 10.6834 9.5579 10.1209 10.1203C9.55853 10.6827 8.79599 10.9991 8.00062 11Z",fill:"currentColor"})]}),y2=gv.common.agentSleeping,w2=gv.common.fluentEmojiBell,j2=gv.common.alertFill,C2=gv.common.expo,N2=gv.common.logoBlue,F2=gv.icons.animatedSpinner,_2=gv.panels.close,k2=gv.panels.link,S2=gv.panels.share,E2=gv.panels.shareGray,I2=gv.panels.phone,A2=({onClick:e})=>n.jsx("button",{type:"button",onClick:e,className:"flex items-center justify-center h-8 bg-[#FFFFFF0A] hover:bg-[#FFFFFF14] rounded-[6px] gap-1 p-2",children:n.jsx("img",{src:E2,alt:"Share app",className:"w-5 h-5"})}),T2=({onClick:e})=>n.jsxs("button",{type:"button",onClick:e,className:"flex items-center justify-center h-8 bg-white hover:bg-white/90 rounded-[6px] gap-1 p-1 pr-2",children:[n.jsx("img",{src:S2,alt:"Share app",className:"w-5 h-5"}),n.jsx("span",{className:"text-[#0F0F10] font-semibold text-[14px]",children:"Share"})]}),D2=[{title:"Ship ideas to live apps in minutes"},{title:"One-click deploy with custom domains"},{title:"Upload assets and inspirations for your apps"},{title:"Build enterprise apps with extended context",pro:!0},{title:"Create specialized AI agents for your workflow",pro:!0},{title:"Create mobile apps from scratch"},{title:"Experiment at lightning speed with forks"}];function M2({isOpen:e,onClose:t,previewUrl:s,shareableLink:i,showCase:a,podIsPaused:r=!1,onResumePod:o,isFromGithub:l,shouldReloadIframe:c=!1,onIframeReloaded:d,isResizing:u=!1,jobId:p="",archivedPod:m=!1,env_image:h="",restartError:x,isWakingUp:f=!1,testMode:g=!1,onPreviewEvent:v,isReplaying:b=!1,previewMessage:y,showExpoUpgradePopover:w=!0,agentName:j="",visualEditMode:C=!1,vscodePassword:N,onDisableVisualEdit:F,onDebugScriptReadyChange:_,onSelectedElementChange:k,onVisualEditComplete:S,onUnsavedChangesChange:E,onExposeHandlers:I,showUnsavedChangesModal:A}){const[T,D]=De.useState(!0),[M,L]=De.useState(!1),[P,R]=De.useState("The preview could not be loaded. Please try again."),O=KE(),[z,B]=De.useState(!1),[H,$]=De.useState(0),[U,V]=De.useState(!1),[W,q]=De.useState(!1),G=f,[Z,Y]=De.useState(0),[K,J]=De.useState(!1),[Q,X]=De.useState(null),[ee,te]=De.useState(!1),[ne,se]=De.useState(!1),[ie,ae]=De.useState(!1),[re,oe]=De.useState([]),[le,ce]=De.useState(null),[de,ue]=De.useState(null),[pe,me]=De.useState(!1),[he,xe]=De.useState("pc"),[fe,ge]=De.useState(!1),[ve,be]=De.useState("select"),[ye,we]=De.useState(!1),[je,Ce]=De.useState(!1),[Ne,Fe]=De.useState(!1),[_e,ke]=De.useState(new Map),[Se,Ee]=De.useState([]),[Ie,Ae]=De.useState(-1),[Te,Me]=De.useState(new Map),Le=XJ(De.useMemo(()=>{if(!s||"string"!=typeof s)return null;try{return new URL(s).hostname}catch{return null}},[s])),{previewSource:Pe,cdnUrl:Re}=De.useMemo(()=>Le,[Le.previewSource,Le.cdnUrl]),Oe=bX(),{isDownloading:ze,handleDownload:Be}=De.useMemo(()=>Oe,[Oe.isDownloading,Oe.handleDownload]),He=QE(),{isMobile:$e}=De.useMemo(()=>He,[He.isMobile]),{registerVisualEditState:Ue,clearVisualEditState:Ve}=d2(),We=De.useRef(null),qe=De.useRef(null),Ge=De.useRef(null),[Ze,Ye]=De.useState(0),Ke=De.useRef(null),Je=De.useRef(null),Qe=De.useRef(!1),Xe=(null==j?void 0:j.includes("expo"))||(null==h?void 0:h.includes("expo")),et=(null==h?void 0:h.includes("farm"))||(null==h?void 0:h.includes("shadcn")),tt=De.useCallback(()=>s+"?x_request_source=preview",[s]),nt=De.useCallback(e=>{var t,n,s,i;if("SITE_DEBUG"!==(null==(t=e.data)?void 0:t.type))return;const a=e.data;switch(oe(e=>[...e.slice(-99),a]),a.action){case"ELEMENT_SELECTED":if(ce({...a.element,isDynamic:a.isDynamic,elementCount:a.elementCount,isMultiElement:a.isMultiElement}),null==(s=null==(n=a.element)?void 0:n.attributes)?void 0:s["x-id"]){const e=a.element.attributes["x-id"];Me(t=>{if(!t.has(e)){const n=new Map(t);return n.set(e,{textContent:a.element.textContent||"",className:a.element.className||""}),n}return t})}if(a.position&&We.current){const e=We.current.getBoundingClientRect(),t={...a.position,x:a.position.x+e.left,y:a.position.y+e.top,elementRect:{top:a.position.elementRect.top+e.top,left:a.position.elementRect.left+e.left,bottom:a.position.elementRect.bottom+e.top,right:a.position.elementRect.right+e.left},iframeBounds:{left:e.left,top:e.top,right:e.right,bottom:e.bottom,width:e.width,height:e.height}};if(C&&"pc"!==he&&Ge.current){const e=Ge.current.getBoundingClientRect();t.constraintBounds={left:e.left,top:e.top,right:e.right,bottom:e.bottom,width:e.width,height:e.height}}ue(t)}else ue(a.position);me(!0),null==k||k((null==(i=a.element)?void 0:i.tagName)||null);break;case"ELEMENT_DESELECTED":case"DEBUG_MODE_DEACTIVATED":ce(null),ue(null),me(!1),null==k||k(null);break;case"DEBUG_MODE_ACTIVATED":case"CONSOLE_OUTPUT":case"JAVASCRIPT_ERROR":case"USER_CLICK":case"SCROLL":case"PAGE_INFO":break;case"MONITOR_READY":ae(!0);break;case"INTERACTION_MODE_CHANGED":be(a.mode)}},[C,he,k]),st=De.useCallback((e,t)=>{var n;(null==(n=We.current)?void 0:n.contentWindow)&&We.current.contentWindow.postMessage({type:"DEBUG_COMMAND",action:e,data:t},"*")},[]),it=De.useCallback(e=>{we(e||_e.size>0)},[_e]),at=De.useCallback(e=>{Me(t=>{if(!t.has(e.elementId)){const n=new Map(t);return n.set(e.elementId,e.previousState),n}return t}),Ee(t=>{const n=t.slice(0,Ie+1);return n.push(e),n}),Ae(e=>e+1)},[Ie]),rt=De.useCallback(()=>{var e,t;if(null==(e=qe.current)||e.cancelAutoSave(),Ie<0)return;const n=Se[Ie];(null==(t=null==le?void 0:le.attributes)?void 0:t["x-id"])===n.elementId&&(me(!1),ue(null),ce(null),st("CLEAR_SELECTION")),st("APPLY_CHANGES",{elementId:n.elementId,isMultiElement:n.isMultiElement,...n.previousState});const s=Te.get(n.elementId),i=s&&n.previousState.textContent===s.textContent&&n.previousState.className===s.className;ke(e=>{const t=new Map(e);return i?t.delete(n.elementId):t.set(n.elementId,{elementId:n.elementId,fileName:n.fileName,lineNumber:n.lineNumber,component:n.component,hasChildElements:n.hasChildElements??!1,hasDirectTextContent:n.hasDirectTextContent??!1,isMultiElement:n.isMultiElement??!1,changes:n.previousState}),t}),Ae(Ie-1)},[st,Ie,Se,le,Te]),ot=De.useCallback(()=>{var e,t;if(null==(e=qe.current)||e.cancelAutoSave(),Ie>=Se.length-1)return;const n=Ie+1,s=Se[n];(null==(t=null==le?void 0:le.attributes)?void 0:t["x-id"])===s.elementId&&(me(!1),ue(null),ce(null),st("CLEAR_SELECTION")),st("APPLY_CHANGES",{elementId:s.elementId,isMultiElement:s.isMultiElement,...s.currentState}),ke(e=>{const t=new Map(e);return t.set(s.elementId,{elementId:s.elementId,fileName:s.fileName,lineNumber:s.lineNumber,component:s.component,hasChildElements:s.hasChildElements??!1,hasDirectTextContent:s.hasDirectTextContent??!1,isMultiElement:s.isMultiElement??!1,changes:s.currentState}),t}),Ae(n)},[st,Ie,Se,le]),lt=De.useCallback(e=>{be(e),st("SET_INTERACTION_MODE",{mode:e}),"select"===e&&st("ACTIVATE"),"preview"===e&&(st("CLEAR_SELECTION"),me(!1),ce(null),ue(null))},[st]),ct=De.useCallback(async()=>{if(0===_e.size)return;if(!N)return;if(!s)return;const e=new Map(_e),t=[];if(e.forEach(e=>{const{fileName:n,lineNumber:s,component:i,changes:a}=e;void 0!==a.textContent&&(e.hasChildElements?t.push({fileName:n,lineNumber:s,component:i,type:"textContent",textContent:a.textContent}):t.push({fileName:n,lineNumber:s,component:i,type:"content",content:a.textContent})),void 0!==a.className&&t.push({fileName:n,lineNumber:s,component:i,type:"className",className:a.className})}),0!==t.length)try{const i=`${s.replace(/\/$/,"")}/edit-file`,a=await fetch(i,{method:"POST",headers:{"Content-Type":"application/json","x-api-key":N},body:JSON.stringify({changes:t})});if(a.ok){try{const e=await a.json();if(e.edits&&e.edits.length>0){const t=function(e){if(!e||0===e.length)return"";let t="Hey, the user has just edited the following elements via visual editing:\n\n";return e.forEach((e,n)=>{t+=`${n+1}. Line ${e.lineNumber} in ${e.file} - <${e.element}>\n`,"content"===e.type?t+=`   - Content: "${e.oldData}"  "${e.newData}"\n`:"className"===e.type&&(t+=`   - Style: "${e.oldData}"  "${e.newData}"\n`),t+="\n"}),t+="Please acknowledge these changes. Do not make any edits yourself.",`VISUAL_EDIT_NOTIFICATION|||${e.length}|||${t}|||END_VISUAL_EDIT`}(e.edits);t&&S&&S(t)}}catch(n){}ke(t=>{const n=new Map(t);return e.forEach((e,t)=>{n.delete(t)&&0}),n.size,0===n.size&&we(!1),n}),ht({resetToDefaults:!0,triggerRefresh:!1,callDisable:!0,preserveForReactivate:!1})}}catch(i){}},[_e,N,s,st]),dt=De.useCallback(()=>{if(!(null==le?void 0:le.attributes))return;const e=le.attributes["x-id"];e&&(ke(t=>{const n=new Map(t);return n.has(e),n.delete(e),n}),ke(e=>(we(e.size>0),e)))},[le]),ut=De.useRef(!1),[pt,mt]=De.useState(!1),ht=De.useCallback((e={})=>{var t;null==(t=qe.current)||t.cancelAutoSave(),ke(new Map),we(!1),Ee([]),Ae(-1),Me(new Map),me(!1),ce(null),ue(null),Ce(!1),Fe(!1),oe([]),e.preserveForReactivate||(e.resetToDefaults&&(xe("pc"),be("select")),ge(!1)),st("CLEAR_SELECTION"),null==k||k(null),null==E||E(!1),e.triggerRefresh&&(ut.current=!0),e.callDisable&&F&&F()},[st,k,E,F]),xt=De.useCallback(()=>{ge(!1),ht({resetToDefaults:!1,triggerRefresh:!0,callDisable:!1,preserveForReactivate:!0}),mt(!0)},[ht,_e]),ft=De.useCallback(e=>{"save"===e?Ce(!1):"discard"===e&&Fe(!1)},[]),gt=De.useCallback(()=>{ht({resetToDefaults:!0,triggerRefresh:!0,callDisable:!0,preserveForReactivate:!1})},[ht]);De.useCallback(()=>{},[]),De.useCallback(async(e,t)=>{if(N&&s&&(null==t?void 0:t.attributes))try{const n=t.attributes["x-id"],i=t.attributes["x-file-name"],a=t.attributes["x-line-number"],r=t.attributes["x-component"];if(!(n&&i&&a&&r))return;const o=[];if(void 0!==e.textContent&&o.push({fileName:i,lineNumber:parseInt(a),component:r,type:"content",content:e.textContent}),void 0!==e.className&&o.push({fileName:i,lineNumber:parseInt(a),component:r,type:"className",className:e.className}),0===o.length)return;const l=`${s.replace(/\/$/,"")}/edit-file`;fetch(l,{method:"POST",headers:{"Content-Type":"application/json","x-api-key":N},body:JSON.stringify({changes:o})}).then(e=>{e.ok}).catch(e=>{})}catch(n){}},[N,s]),De.useEffect(()=>{let e;return s||(e=setInterval(()=>{Y(e=>(e+1)%D2.length)},3e3)),()=>{e&&clearInterval(e)}},[s]),De.useEffect(()=>{yg("preview_on_mount",{jobId:p,isVisible:!0,previewUrl:s,iframeLoading:T,loadingFailed:M,loadingErrorMessage:P})},[]),De.useEffect(()=>(window.addEventListener("message",nt),()=>{window.removeEventListener("message",nt)}),[nt]),De.useEffect(()=>{var e;if(null==(e=We.current)?void 0:e.contentWindow)if(C){U&&!T&&ie&&(xe("pc"),be("select"),st("ACTIVATE"),st("SET_INTERACTION_MODE",{mode:"select"}))}else ht({resetToDefaults:!0,triggerRefresh:!1,callDisable:!1,preserveForReactivate:!1}),st("DEACTIVATE")},[C,U,T,ie,st]),De.useEffect(()=>{null==_||_(ie)},[ie,_]),De.useEffect(()=>{null==E||E(ye)},[ye,E]),De.useEffect(()=>{I&&I({save:ct,discard:xt})},[I,ct,xt]),De.useEffect(()=>{if(r){ge(!1);(C||ye||pe)&&ht({resetToDefaults:!0,triggerRefresh:!1,callDisable:!0,preserveForReactivate:!1})}},[r,C,ye,pe,ht]),De.useEffect(()=>(C&&p?Ue(p,ye,ct,xt,F):Ve(),()=>{Ve()}),[C,ye,p,Ue,Ve,ct,xt,F]),De.useEffect(()=>{if(!pe||!le||!de)return;if(!We.current)return;const e=We.current.getBoundingClientRect(),t={left:e.left,top:e.top,right:e.right,bottom:e.bottom,width:e.width,height:e.height},n={...de,iframeBounds:t};if(C&&"pc"!==he&&Ge.current){const e=Ge.current.getBoundingClientRect();n.constraintBounds={left:e.left,top:e.top,right:e.right,bottom:e.bottom,width:e.width,height:e.height}}ue(n)},[fe,pe,le,C,he]);const vt=De.useCallback(()=>{Ke.current&&(Ke.current.abort(),Ke.current=null),Je.current&&(clearTimeout(Je.current),Je.current=null),Qe.current=!1},[]);De.useEffect(()=>()=>{Q&&!Q.closed&&Q.close()},[Q]),De.useEffect(()=>(e&&s&&!r?Ft():e||(ht({resetToDefaults:!0,triggerRefresh:!1,callDisable:!1,preserveForReactivate:!1}),ae(!1)),()=>{vt()}),[e,s,r]),De.useEffect(()=>{c&&s&&!r?(Ft(),d&&d()):r&&(vt(),D(!1))},[c,s,r,d]);const bt=De.useCallback(()=>{(i||s)&&(yg("open_preview_in_new_tab_clicked",{jobId:p,isVisible:!0,previewUrl:s,iframeLoading:T,loadingFailed:M,loadingErrorMessage:P}),window.open(a?s:i,"_blank"))},[i,s,a,p,T,M,P]),yt=De.useCallback(()=>{t(),O.open({shareableLink:a?s:i,fromShowcase:a,previewUrl:tt()})},[O,s,i,a,t]),wt=De.useCallback(()=>{o&&o()},[o]),jt=De.useCallback(()=>{Lu("hasSeenExpoUpgradePopover",!0)},[]),Ct=De.useCallback(()=>{se(!1)},[]);De.useEffect(()=>{if(w&&e){const e=setTimeout(()=>{se(!0)},600);return()=>clearTimeout(e)}se(!1)},[w,e]);const Nt=async(e,t,n)=>{try{const t=await fetch(e,{method:"GET",cache:"no-cache",signal:n.signal});return!(t.status>=500&&t.status<600)}catch(s){return"AbortError"===s.name||("TypeError"===s.name&&s.message.includes("CORS")||"TypeError"===s.name&&(s.message.includes("Failed to fetch")||s.message.includes("Network request failed")||s.message.includes("cors"))),!1}finally{if(5===t)return!0}},Ft=De.useCallback(()=>{s&&(D(!0),L(!1),V(!1),R("The preview could not be loaded. Please try again."),vt(),(async()=>{if(!s||Qe.current)return;vt(),Ke.current=new AbortController,Qe.current=!0,B(!0),$(1),V(!1),L(!1),D(!0),ae(!1);let e=1;await(async()=>{for(;e<=5&&Qe.current;){$(e);const t=await Nt(s,e,Ke.current);if(!Qe.current)return;if(t)return B(!1),Qe.current=!1,Je.current=setTimeout(()=>{!1===Qe.current&&(V(!0),Ye(e=>e+1))},100),void yg("preview_healthcheck_successful",{jobId:p,isVisible:!0,previewUrl:s,iframeLoading:T,loadingFailed:M,loadingErrorMessage:P});if(e>=5)return B(!1),L(!0),D(!1),R("Service is not responding after 5 attempts. The service might be starting up or experiencing issues."),Qe.current=!1,void yg("preview_health_check_failed",{jobId:p,isVisible:!0,previewUrl:s,iframeLoading:T,loadingFailed:M,loadingErrorMessage:P});Qe.current&&await new Promise(e=>setTimeout(e,1e3)),e++}})()})())},[s]);De.useEffect(()=>{ut.current&&(ut.current=!1,Ft())},[Ft,ye]);const _t=De.useMemo(()=>D2[Z],[Z]),kt=async()=>{if(s)try{if(K&&Q)return Q.close(),X(null),J(!1),void Mg("test_stopped",{jobId:p});if(!(()=>{try{return"true"===localStorage.getItem(YX)}catch{return!1}})())return te(!0),void Mg("onboarding_opened",{jobId:p});const e=window.open(`${s}?testmode=1`,"_blank");if(!e)return void alert("Failed to open new window. Please allow popups for this site and try again.");X(e),J(!0),Mg("test_started",{jobId:p}),window.previewEventDebug={parentWindow:window,previewWindow:e,isListening:!0};const t=t=>{t.source===e?v&&(v(t.data),Mg("session_ended",{jobId:p}),J(!1),X(null),e.close()):t.source&&t.source!==window&&v&&v(t.data)};window.addEventListener("message",t)}catch(e){J(!1),X(null)}},St=async()=>{if((()=>{try{localStorage.setItem(YX,"true")}catch{}})(),te(!1),Mg("onboarding_completed",{jobId:p}),s)try{const e=window.open(`${s}?testmode=1`,"_blank");if(!e)return void alert("Failed to open new window. Please allow popups for this site and try again.");X(e),J(!0),window.previewEventDebug={parentWindow:window,previewWindow:e,isListening:!0};const t=t=>{t.source===e?v&&(v(t.data),Mg("session_ended",{jobId:p}),J(!1),X(null),e.close()):t.source&&t.source!==window&&v&&v(t.data)};window.addEventListener("message",t)}catch(e){}},Et=()=>{te(!1),Mg("onboarding_closed",{jobId:p})};De.useEffect(()=>{const e=new Map,t=(e,t)=>{var n,s,i;const a={errorType:e,message:(null==t?void 0:t.message)||(null==(n=null==t?void 0:t.error)?void 0:n.message)||"",stack:(null==t?void 0:t.stack)||(null==(s=null==t?void 0:t.error)?void 0:s.stack)||"",filename:(null==t?void 0:t.url)||(null==t?void 0:t.filename)||"",lineNumber:(null==t?void 0:t.line)||(null==t?void 0:t.lineno)||null,columnNumber:(null==t?void 0:t.col)||(null==t?void 0:t.colno)||null,componentStack:(null==t?void 0:t.componentStack)||"",errorBoundary:(null==t?void 0:t.errorBoundary)||!1};switch(e){case"buildError":return{...a,buildTool:(null==t?void 0:t.tool)||"unknown",buildPhase:(null==t?void 0:t.phase)||"unknown"};case"runtimeError":return{...a,errorName:(null==(i=null==t?void 0:t.error)?void 0:i.name)||"Error"};case"promiseRejection":return{...a,rejectionReason:(null==t?void 0:t.reason)||"",promiseSource:(null==t?void 0:t.promise)||""};case"resourceError":return{...a,resourceType:(null==t?void 0:t.resourceType)||"",resourceUrl:(null==t?void 0:t.url)||"",statusCode:(null==t?void 0:t.statusCode)||null};case"networkError":return{...a,requestUrl:(null==t?void 0:t.url)||"",method:(null==t?void 0:t.method)||"",statusCode:(null==t?void 0:t.statusCode)||null,statusText:(null==t?void 0:t.statusText)||""};default:return a}},n=n=>{var s;if("preview-logger"===(null==(s=n.data)?void 0:s.source)){const{type:s,severity:i,data:a,timestamp:r}=n.data,o=((e,t)=>{var n,s;return`${e}:${(null==t?void 0:t.message)||(null==(n=null==t?void 0:t.error)?void 0:n.message)||""}:${(null==t?void 0:t.stack)||(null==(s=null==t?void 0:t.error)?void 0:s.stack)||""}:${(null==t?void 0:t.url)||(null==t?void 0:t.filename)||""}:${(null==t?void 0:t.line)||(null==t?void 0:t.lineno)||""}:${(null==t?void 0:t.col)||(null==t?void 0:t.colno)||""}`})(s,a);if((t=>{const n=Date.now(),s=e.get(t);if(s&&n-s<5e3)return!0;e.set(t,n);for(const[i,a]of e.entries())n-a>5e3&&e.delete(i);return!1})(o))return;const l=(e,t={})=>{fg("preview_event",{preview_category:e,preview_type:s,preview_severity:i,preview_timestamp:r,preview_source:"ui_preview_panel",...t})};switch(s){case"buildError":l("build_error",t(s,a)),v&&v({type:"error",category:"build",...n.data});break;case"runtimeError":l("runtime_error",t(s,a)),v&&v({type:"error",category:"runtime",...n.data});break;case"promiseRejection":l("promise_rejection",t(s,a)),v&&v({type:"error",category:"promise",...n.data});break;case"resourceError":l("resource_error",t(s,a)),v&&v({type:"error",category:"resource",...n.data});break;case"networkError":l("network_error",t(s,a)),v&&v({type:"error",category:"network",...n.data});break;case"console":l("console",{console_level:a.level,console_message:a.message,console_args:JSON.stringify(a.args||[])}),v&&v({type:"console",...n.data});break;case"ready":l("ready",{ready_timestamp:a.timestamp,ready_url:a.url||""}),v&&v({type:"ready",...n.data});break;default:l("unknown",{unknown_type:s,unknown_data:JSON.stringify(a)})}}};return window.addEventListener("message",n),()=>{window.removeEventListener("message",n)}},[v]);const It=De.useCallback(()=>"cdn"===Pe&&Re&&r&&!U?n.jsxs("div",{className:"relative w-full h-full",children:[n.jsx("iframe",{src:Re,className:"flex-1 w-full h-full overflow-y-auto border-0 rounded-sm",style:{pointerEvents:u?"none":"auto",transform:"scale(1)",transformOrigin:"top left"},title:"CDN Preview",sandbox:"allow-scripts allow-same-origin allow-forms allow-popups"}),n.jsx("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 z-[9999]",children:n.jsx("div",{className:"bg-[#1F2533] rounded-[40px] h-[44px] flex items-center justify-center px-4 shadow-[0_155px_44px_0_rgba(0,0,0,0.00),0_99px_40px_0_rgba(0,0,0,0.01),0_56px_34px_0_rgba(0,0,0,0.04),0_25px_25px_0_rgba(0,0,0,0.07),0_6px_14px_0_rgba(0,0,0,0.09)]",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-2 h-2 bg-[#69FF66] rounded-full animate-pulse"}),n.jsx("p",{className:"text-base font-medium text-white whitespace-nowrap",children:"This is a view-only mode. Please wake the agent up to experience the full app"})]})})})]}):s?b?n.jsxs("div",{className:"flex flex-col items-center justify-center h-full w-full text-center bg-[#000000]/[0.03]",children:[n.jsx(MX,{}),n.jsx("div",{className:"relative flex flex-col max-md:w-[80%] items-center justify-center w-full h-full",children:n.jsxs("div",{className:"relative radial-bg z-[3] flex px-[70px] items-center gap-[6px] bg-[#80FFF9]/10 flex-col backdrop-blur-sm py-4 rounded-[12px]",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(IT,{size:"20",speed:"1.75",color:"#80FFF9"}),n.jsx("p",{className:"text-[#80FFF9] text-[16px] text-nowrap font-medium",children:"Recreating Environment"})]}),n.jsx("span",{className:"text-[#80FFF9]/50 text-[14px] font-inter",children:"This usually takes around 5-10 mins."})]})})]}):r&&!a?n.jsx("div",{className:"flex flex-col items-center justify-center h-full text-center",children:n.jsxs("div",{className:"w-full z-[20] px-[2rem] gap-6 rounded-[1rem] md:rounded-bl-none md:rounded-br-none md:pt-[2rem] md:pb-[3rem] flex flex-col justify-between items-center",children:[n.jsxs("div",{className:"flex flex-col items-center gap-5",children:[n.jsx("img",{src:y2,className:"min-w-[100px] min-h-[100px]",alt:"Agent Sleeping"}),n.jsxs("div",{className:"flex flex-col items-center gap-3",children:[n.jsx("span",{className:"text-[#C4C4CC] text-[20px]",children:m?"Preview archived":"Preview paused - Agent is sleeping"}),m?n.jsxs("span",{className:"text-[#7b7b80] text-sm",children:["This job has been archived. You can download your code and create a new job. Need help? Visit our"," ",n.jsx("a",{href:lv,className:"bg-gradient-to-r font-['Inter'] from-[#FCB949] to-[#E28C37] text-transparent bg-clip-text font-semibold underline underline-offset-1",children:"Help Center"})]}):l?n.jsxs("span",{className:"text-[#7b7b80] text-sm",children:["Apologies, the task has expired due to inactivity. We may not be able to recover this at this moment. Please start a new task using the same github repo. Reach out to us at"," ",n.jsx("a",{href:"mailto:support@emergent.sh",className:"text-[#ACACB2] font-extrabold underline underline-offset-1",children:"support@emergent.sh"})," ","for any assistance."]}):n.jsxs("span",{className:"text-[#7b7b80] text-sm",children:["If you are having trouble accessing your work, Please contact support at"," ",n.jsx("a",{href:"mailto:support@emergent.sh",className:"bg-gradient-to-r font-['Inter'] from-[#FCB949] to-[#E28C37] text-transparent bg-clip-text font-semibold underline underline-offset-1",children:"support@emergent.sh"})]})]})]}),m?n.jsxs("button",{type:"button",onClick:()=>Be(p),disabled:ze||!p,className:"bg-[#FCB94920] max-w-[200px] justify-center disabled:opacity-25 p-[10px] rounded-[6px] flex items-center gap-2 md:min-w-[200px] hover:bg-[#FCB94930] transition-colors duration-200",children:[n.jsx(aS,{className:"w-5 h-5 text-[#FCB949]"}),n.jsx("span",{className:"bg-gradient-to-r text-nowrap from-[#FCB949] to-[#E28C37] text-transparent text-[12px] md:text-[16px] bg-clip-text font-medium",children:ze?"Downloading...":"Download Your Code"})]}):l?null:n.jsxs("button",{type:"button",onClick:wt,disabled:G,className:"max-w-[200px] p-[10px] rounded-[6px] flex items-center gap-2 md:min-w-[200px] transition-all duration-300 "+(G?"bg-[#80FFF908]":"bg-[#FCB94920] disabled:opacity-25 hover:bg-[#FCB94930]"),children:[G?n.jsx("img",{src:F2,alt:"Loading...",className:"w-5 h-5"}):n.jsx("img",{src:w2,alt:"Wake icon",className:"w-5 h-5"}),n.jsx("span",{className:"text-[12px] md:text-[16px] font-medium transition-all duration-300 "+(G?"text-[#80FFF9]":"bg-gradient-to-r from-[#FCB949] to-[#E28C37] bg-clip-text text-transparent"),children:G?"Waking up...":"Wake up the Agent"})]})]})}):s&&e?n.jsxs("div",{className:"relative w-full h-full",children:[z&&!Xe&&n.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-[#0F0F10]",children:n.jsxs("div",{className:"flex flex-col items-center",children:[n.jsx(hS,{className:"w-8 h-8 text-[#5FD3F3] animate-spin mb-4"}),n.jsx("p",{className:"text-[#939399]",children:"Loading preview..."})]})}),U&&T||z&&Xe&&!$e&&n.jsx("div",{className:"flex flex-1 justify-center items-center w-full h-full bg-[url('/bg_grid.png')] bg-repeat",children:n.jsx(yX,{className:"w-[340px] h-[700px]",maxWidth:"340px",children:n.jsxs("div",{className:"flex flex-col items-center justify-center w-full h-full bg-black",children:[n.jsx("img",{src:NX,alt:"App",className:"relative object-contain w-full h-full"}),n.jsx("div",{className:"absolute bottom-[80px] flex flex-col justify-center items-center -space-y-6",children:n.jsxs("div",{className:"text-center",children:[n.jsx("h1",{className:"text-3xl [text-shadow:_0_0_62.351px_rgba(255,255,255,0.60)] tracking-[-1.44px] font-medium",children:"Please wait,"}),n.jsx("h1",{className:"text-3xl [text-shadow:_0_0_62.351px_rgba(255,255,255,0.60)] tracking-[-1.44px] font-medium",children:"Your app is brewing"})]})})]})})}),U&&T||z&&Xe&&$e&&n.jsx("div",{className:"flex flex-1 justify-center items-center w-full h-full bg-[url('/bg_grid.png')] bg-repeat",children:n.jsxs("div",{className:"flex flex-col items-center justify-center w-full h-full bg-black",children:[n.jsx("img",{src:NX,alt:"App",className:"relative object-contain w-full h-full"}),n.jsxs("div",{className:"absolute bottom-[80px] flex flex-col justify-center items-center -space-y-6",children:[n.jsx(Pt.div,{animate:{rotate:360,scale:[1,1.1,1]},transition:{rotate:{duration:2,repeat:1/0,ease:"linear"},scale:{duration:1.5,repeat:1/0,ease:"easeInOut"}},className:"h-[140px] w-[140px] flex items-center justify-center",children:n.jsx(nS,{className:"w-24 h-24 text-[#5FD3F3]"})}),n.jsxs("div",{className:"text-center",children:[n.jsx("h1",{className:"text-3xl [text-shadow:_0_0_62.351px_rgba(255,255,255,0.60)] tracking-[-1.44px] font-medium",children:"Please wait,"}),n.jsx("h1",{className:"text-3xl [text-shadow:_0_0_62.351px_rgba(255,255,255,0.60)] tracking-[-1.44px] font-medium",children:"Your app is brewing"})]})]})]})}),U&&T&&!Xe&&n.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-[#0F0F10]",children:n.jsxs("div",{className:"flex flex-col items-center",children:[n.jsx(hS,{className:"w-8 h-8 text-[#5FD3F3] animate-spin mb-4"}),n.jsx("p",{className:"text-[#939399]",children:"Loading preview..."})]})}),M&&n.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-[#0F0F10]",children:n.jsxs("div",{className:"flex flex-col items-center max-w-md gap-6 text-center",children:[n.jsx("img",{src:j2,alt:"Alert",className:"w-12 h-12"}),n.jsxs("div",{className:"flex flex-col gap-2",children:[n.jsx("p",{className:"text-[#C4C4CC] text-[24px] font-medium",children:"Preview failed to load"}),n.jsx("p",{className:"text-[#939399]",children:P})]}),n.jsxs("button",{type:"button",onClick:Ft,className:"bg-[#FCB94920] p-[10px] rounded-[6px] flex items-center gap-2 hover:bg-[#FCB94930] transition-colors duration-200",children:[n.jsx(CS,{className:"w-5 h-5 text-[#FCB949]"}),n.jsx("span",{className:"bg-gradient-to-r from-[#FCB949] to-[#E28C37] text-transparent bg-clip-text font-medium",children:"Retry Health Check"})]})]})}),U&&!Xe&&n.jsx("iframe",{ref:We,src:tt(),className:"flex-1 w-full h-full overflow-y-auto border-0 rounded-sm",style:{pointerEvents:u?"none":"auto",transform:"scale(1)",transformOrigin:"top left",zIndex:10},onLoad:()=>{D(!1),pt&&C&&(st("ACTIVATE"),mt(!1)),yg("preview_iframe_loaded",{jobId:p,isVisible:!0,previewUrl:s,iframeLoading:T,loadingFailed:M,loadingErrorMessage:P})},onError:e=>{D(!1),L(!0),R("Failed to load the preview after successful health check. Please try refreshing."),yg("preview_iframe_loading_failed",{jobId:p,isVisible:!0,previewUrl:s,iframeLoading:T,loadingFailed:M,loadingErrorMessage:P})},title:"URL Preview",sandbox:"allow-scripts allow-same-origin allow-forms allow-popups"},Ze),U&&Xe&&!$e&&n.jsx("div",{className:"flex flex-1 justify-center items-center w-full h-full bg-[url('/bg_grid.png')] bg-repeat",children:n.jsx(yX,{className:"w-[340px] h-[700px]",maxWidth:"340px",children:n.jsx("iframe",{ref:We,src:tt(),className:fb(["flex-1 w-full h-full overflow-y-auto border-0",T?"bg-url('/app-image.png') bg-contain bg-no-repeat bg-center":""]),style:{pointerEvents:u?"none":"auto",transform:"scale(1)",transformOrigin:"top left"},onLoad:()=>{D(!1),yg("preview_iframe_loaded",{jobId:p,isVisible:!0,previewUrl:s,iframeLoading:T,loadingFailed:M,loadingErrorMessage:P})},onError:e=>{D(!1),L(!0),R("Failed to load the preview after successful health check. Please try refreshing."),yg("preview_iframe_loading_failed",{jobId:p,isVisible:!0,previewUrl:s,iframeLoading:T,loadingFailed:M,loadingErrorMessage:P})},title:"URL Preview",sandbox:"allow-scripts allow-same-origin allow-forms allow-popups"},Ze)})}),U&&Xe&&$e&&n.jsx("div",{className:"flex flex-1 justify-center items-center w-full h-full bg-[url('/bg_grid.png')] bg-repeat",children:n.jsx("iframe",{ref:We,src:tt(),className:"flex-1 w-full h-full overflow-y-auto border-0",style:{pointerEvents:u?"none":"auto",transform:"scale(1)",transformOrigin:"top left"},onLoad:()=>{D(!1),yg("preview_iframe_loaded",{jobId:p,isVisible:!0,previewUrl:s,iframeLoading:T,loadingFailed:M,loadingErrorMessage:P})},onError:e=>{D(!1),L(!0),R("Failed to load the preview after successful health check. Please try refreshing."),yg("preview_iframe_loading_failed",{jobId:p,isVisible:!0,previewUrl:s,iframeLoading:T,loadingFailed:M,loadingErrorMessage:P})},title:"URL Preview",sandbox:"allow-scripts allow-same-origin allow-forms allow-popups"},Ze)})]}):null:n.jsx(LX,{children:n.jsxs("div",{className:"flex flex-col items-center justify-center h-full w-full text-center bg-[#80fff9]/[0.03]",children:[n.jsx(MX,{}),n.jsxs("div",{className:"h-full mb:py-[80px] pb-[140px] w-full relative flex flex-col items-center justify-between",children:[n.jsx("div",{}),n.jsxs("div",{className:"flex flex-col items-center justify-center space-y-8",children:[n.jsx("img",{alt:"Logo",src:N2,className:"backdrop-blur-sm z-[3] w-28 h-28"}),n.jsxs(Pt.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},transition:{duration:.3,ease:"easeInOut"},className:"flex items-center gap-2",children:[n.jsx(PX,{}),n.jsx("p",{className:"text-center font-['Brockmann'] text-[16px] md:text-[20px] font-medium leading-[24px] tracking-[-0.2px]",style:{color:"#80FFF9",textShadow:"0 0 30px rgba(128, 255, 249, 0.60)"},children:_t.title}),_t.pro&&n.jsx(RX,{})]},Z)]}),n.jsx("div",{className:"relative radial-bg z-[3] flex items-center space-x-3 bg-[#80FFF9]/10 backdrop-blur-sm py-4 px-6 rounded-[48px] ",children:n.jsx("p",{className:"text-[#80FFF9] text-[16px] text-nowrap font-medium",children:"Let's make something incredible!"})})]})]})}),[Pe,Re,r,U,s,e,_t,Z,z,Xe,$e,T,M,P,m,l,G,ze,p,a,u,Ze,tt,Ft,Be,wt]),At=De.useCallback(()=>n.jsxs("div",{className:"p-4 px-0 md:p-4 bg-[#0161D1] z-[2] flex items-center justify-between border-b border-[#242424]/60 relative",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("div",{className:"flex items-center gap-1 bg-[rgba(255,255,255,0.1)] border border-[rgba(255,255,255,0.2)] rounded-[8px] p-0.5",children:[n.jsx("button",{type:"button",onClick:()=>{yg("visual_edit_element_selector_mode",{jobId:p}),lt("select")},className:fb("flex items-center justify-center w-7 h-7 rounded-[6px] transition-all","select"===ve?"bg-white":"hover:bg-[rgba(255,255,255,0.2)]"),children:n.jsx(v2,{className:fb("w-4 h-4","select"===ve?"text-black":"text-white")})}),n.jsx("button",{type:"button",onClick:()=>{yg("visual_edit_interactive_mode",{jobId:p}),lt("preview")},className:fb("flex items-center justify-center w-7 h-7 rounded-[6px] transition-all","preview"===ve?"bg-white":"hover:bg-[rgba(255,255,255,0.2)]"),children:n.jsx(b2,{className:fb("w-4 h-4","preview"===ve?"text-black":"text-white")})})]}),"select"===ve&&n.jsxs(EE,{children:[n.jsx("button",{type:"button",onClick:()=>{yg("visual_edit_undo",{jobId:p}),rt()},disabled:Ie<0,className:fb("flex items-center justify-center w-8 h-8 bg-[#FFFFFF0A] border border-[rgba(255,255,255,0.2)] rounded-[6px] transition-colors",Ie<0?"opacity-40 cursor-not-allowed":"hover:bg-[#FFFFFF14] cursor-pointer"),children:n.jsx(h2,{className:"w-4 h-4 text-white"})}),n.jsx("button",{type:"button",onClick:()=>{yg("visual_edit_redo",{jobId:p}),ot()},disabled:Ie>=Se.length-1,className:fb("flex items-center justify-center w-8 h-8 bg-[#FFFFFF0A] border border-[rgba(255,255,255,0.2)] rounded-[6px] transition-colors",Ie>=Se.length-1?"opacity-40 cursor-not-allowed":"hover:bg-[#FFFFFF14] cursor-pointer"),children:n.jsx(x2,{className:"w-4 h-4 text-white"})})]})]}),n.jsxs("div",{className:"absolute left-1/2 -translate-x-1/2 flex items-center gap-1 bg-[rgba(255,255,255,0.1)] border border-[rgba(255,255,255,0.2)] rounded-[8px] p-1",children:[n.jsx("button",{type:"button",onClick:()=>{yg("visual_edit_device_pc",{jobId:p}),xe("pc")},className:fb("flex items-center justify-center w-[26px] h-6 rounded-[6px] transition-all","pc"===he?"bg-white":"hover:bg-[rgba(255,255,255,0.2)]"),children:n.jsx(u2,{className:fb("w-4 h-4","pc"===he?"text-black":"text-white")})}),n.jsx("button",{type:"button",onClick:()=>{yg("visual_edit_device_tablet",{jobId:p}),xe("tablet")},className:fb("flex items-center justify-center w-[26px] h-6 rounded-[6px] transition-all","tablet"===he?"bg-white":"hover:bg-[rgba(255,255,255,0.2)]"),children:n.jsx(p2,{className:fb("w-4 h-4","tablet"===he?"text-black":"text-white")})}),n.jsx("button",{type:"button",onClick:()=>{yg("visual_edit_device_mobile",{jobId:p}),xe("mobile")},className:fb("flex items-center justify-center w-[26px] h-6 rounded-[6px] transition-all","mobile"===he?"bg-white":"hover:bg-[rgba(255,255,255,0.2)]"),children:n.jsx(m2,{className:fb("w-4 h-4","mobile"===he?"text-black":"text-white")})})]}),n.jsx("div",{className:"flex items-center gap-2",children:n.jsxs(EE,{children:[n.jsx("button",{type:"button",onClick:()=>{yg(fe?"visual_edit_exit_fullscreen":"visual_edit_fullscreen",{jobId:p}),ge(!fe)},className:fb("flex items-center justify-center w-8 h-8 rounded-[6px] transition-colors",fe?"bg-white hover:bg-white/90":"bg-[#FFFFFF0A] hover:bg-[#FFFFFF14] border border-[rgba(255,255,255,0.2)]"),children:fe?n.jsx(b0,{className:"w-3 h-3 text-black"}):n.jsx(f2,{className:"w-3 h-3 text-white"})}),n.jsx("button",{type:"button",onClick:()=>{ye?(yg("visual_edit_close_with_unsaved",{jobId:p}),null==A||A({onConfirm:gt,title:"You have unsaved changes",description:"Are you sure you want to exit the visual editor? You will lose your unsaved changes.",confirmButton:{text:"Confirm",variant:"default"},cancelButton:{text:"Cancel",variant:"outline"},isFullscreen:fe})):(yg("visual_edit_closed",{jobId:p}),ht({resetToDefaults:!0,triggerRefresh:!0,callDisable:!0,preserveForReactivate:!1}))},className:"flex items-center justify-center w-8 h-8 bg-[#FFFFFF0A] hover:bg-[#FFFFFF14] border border-[rgba(255,255,255,0.2)] rounded-[6px] transition-colors",children:n.jsx(g2,{className:"w-2.5 h-2.5 text-white"})})]})})]}),[he,fe,F,rt,ot,Ie,Se.length,ve,lt,ye,st]),Tt=De.useCallback(()=>n.jsxs("div",{className:"p-4 px-0 md:p-4 bg-[#111112] z-[2] flex items-center justify-between border-b border-[#242424]/60",children:[n.jsx("div",{className:"text-[#939399] font-['Brockmann'] text-[15px] md:text-[18px] font-medium leading-[24px]",children:"App Preview"}),n.jsx("div",{className:"flex items-center gap-2",children:n.jsxs(EE,{children:[Xe&&n.jsxs(IE,{delayDuration:100,open:!(!ne||Ru())||void 0,children:[n.jsx(AE,{asChild:!0,children:n.jsxs("button",{type:"button",onClick:()=>q(!0),className:"flex items-center justify-center h-8 bg-white hover:bg-white/90 rounded-[6px] gap-1 p-1 pr-2",children:[n.jsx("img",{src:I2,alt:"Phone Icon app",className:"w-5 h-5"}),n.jsx("span",{className:"text-[#0F0F10] font-semibold md:text-[14px]",children:"Preview on Mobile"})]})}),!Pu("hasSeenPreviewOnMobileTooltip",!1)&&!ne&&n.jsxs(TE,{side:"bottom",className:"bg-[#0098FE] text-sm text-white border-0 [filter:drop-shadow(0_0_20px_rgba(0,152,254,0.30))] flex items-center gap-2",style:{fontWeight:600},children:[n.jsxs("span",{children:["For best experience, Preview on your mobile devices"," "]}),n.jsx("button",{className:"bg-white rounded-[6px] py-1 px-[6px] text-xs text-[#0F0F10]",onClick:()=>{Lu("hasSeenPreviewOnMobileTooltip",!0)},children:"Okay, got it"})]}),ne&&!Ru()&&n.jsx(vX,{qrCodeUrl:uv,onUpdated:jt,onLater:Ct})]}),s&&!Xe&&n.jsxs(IE,{delayDuration:100,children:[n.jsx(AE,{asChild:!0,children:n.jsx(T2,{onClick:yt})}),n.jsx(TE,{side:"bottom",className:"bg-[#DDDDE6] text-black border-0",style:{fontFamily:"Inter",fontWeight:500},children:"Share"})]}),s&&g&&et&&n.jsxs(IE,{delayDuration:100,children:[n.jsx(AE,{asChild:!0,children:n.jsxs("button",{type:"button",onClick:kt,className:"flex items-center justify-center h-8 rounded-[6px] gap-1 pl-[6px] pr-[8px] py-1 transition-colors "+(K?"bg-[#f05030] hover:bg-[#f05030]/90":"bg-[#2ee572] hover:bg-[#2ee572]/90"),children:[K?n.jsx(n2,{size:20}):n.jsx(t2,{size:20}),n.jsx("span",{className:"font-semibold text-[14px] tracking-[-0.28px] "+(K?"text-[#fefefe]":"text-[#0F0F10]"),children:K?"Stop Testing":"Test Mode"})]})}),n.jsx(TE,{side:"bottom",className:"bg-[#DDDDE6] text-black border-0",style:{fontFamily:"Inter",fontWeight:500},children:K?"Stop Listening":"Listen to Preview Events"})]}),s&&n.jsxs(IE,{delayDuration:100,children:[n.jsx(AE,{asChild:!0,children:n.jsx("button",{title:"Refresh",type:"button",onClick:Ft,className:"w-8 h-8 bg-[#FFFFFF0A] hover:bg-[#FFFFFF14] flex items-center justify-center rounded-[6px]",children:n.jsx(wX,{width:20,height:20,spinning:T})})}),n.jsx(TE,{side:"bottom",className:"bg-[#DDDDE6] text-black border-0",style:{fontFamily:"Inter",fontWeight:500},children:"Refresh"})]}),s&&Xe&&n.jsxs(IE,{delayDuration:100,children:[n.jsx(AE,{asChild:!0,children:n.jsx(A2,{onClick:yt})}),n.jsx(TE,{side:"bottom",className:"bg-[#DDDDE6] text-black border-0",style:{fontFamily:"Inter",fontWeight:500},children:"Share"})]}),s&&n.jsxs(IE,{delayDuration:100,children:[n.jsx(AE,{asChild:!0,children:n.jsx("button",{type:"button",onClick:bt,className:"w-8 h-8 bg-[#FFFFFF0A] hover:bg-[#FFFFFF14] flex items-center justify-center rounded-[6px]",children:n.jsx("img",{src:k2,alt:"Open in new tab",className:"w-5 h-5"})})}),n.jsx(TE,{side:"bottom",className:"bg-[#DDDDE6] text-black border-0",style:{fontFamily:"Inter",fontWeight:500},children:"Open in new tab"})]}),n.jsxs(IE,{delayDuration:100,children:[n.jsx(AE,{asChild:!0,children:n.jsx("button",{type:"button",onClick:t,className:"w-8 h-8 bg-[#FFFFFF0A] hover:bg-[#FFFFFF14] flex items-center justify-center rounded-[6px]",children:n.jsx("img",{src:_2,alt:"Close",className:"w-5 h-5"})})}),n.jsx(TE,{side:"bottom",className:"bg-[#DDDDE6] text-black border-0",style:{fontFamily:"Inter",fontWeight:500},children:"Close"})]})]})})]}),[Xe,s,yt,Ft,T,bt,t]),Dt=De.useCallback(()=>n.jsx("div",{className:"p-4 md:p-4 bg-[#111112] md:bg-transparent flex items-center justify-between border-b border-[#242424]/60",children:n.jsxs("div",{className:"flex items-center justify-between w-full gap-2",children:[s&&n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("button",{title:"Share Preview",type:"button",onClick:yt,className:"h-9 w-9 flex items-center justify-center bg-[#FFFFFF]/10 hover:bg-[#FFFFFF14] rounded-[26px] gap-1",children:n.jsx(CX,{width:20,height:20,color:"#DCDCE5"})}),n.jsx("button",{title:"Refresh",type:"button",onClick:Ft,className:"w-9 h-9 bg-[#FFFFFF]/10 hover:bg-[#FFFFFF14] flex items-center justify-center rounded-[32px]",children:n.jsx(wX,{width:22,height:22,spinning:T,fill:"#DCDCE5"})})]}),n.jsx("div",{className:"text-[#fff] font-['Brockmann'] text-[18px] font-medium leading-[24px]",children:"Preview"}),n.jsxs("div",{className:"flex items-center gap-2",children:[s&&n.jsx("button",{title:"open in new tab",type:"button",onClick:bt,className:"w-9 h-9 bg-[#FFFFFF]/10 hover:bg-[#FFFFFF14] flex items-center justify-center rounded-[32px]",children:n.jsx(jX,{color:"#fff",size:22})}),n.jsx("button",{onClick:t,className:" p-1 w-9 h-9 bg-[#FFFFFF]/10 hover:bg-[#FFFFFF14]  rounded-full flex items-center justify-center backdrop-blur-lg",title:"Close",children:n.jsx(RS,{})})]})]})}),[s,yt,Ft,T,bt]);return $e?n.jsxs(n.Fragment,{children:[n.jsx(VI,{trigger:n.jsx("div",{}),open:e,onOpenChange:e=>{e||t()},maxWidth:"max-w-full",showDefaultFooter:!1,customerHeader:Xe&&n.jsx("div",{className:"w-full flex justify-center items-center z-[51] absolute mx-auto top-[-56px]",children:n.jsxs("button",{className:"bg-white w-[240px] h-12 rounded-[26px] flex items-center justify-between px-4 py-3",onClick:()=>q(!0),children:[n.jsx("img",{src:C2,alt:"Expo Icon",className:"w-fit h-[20px]"}),n.jsx("span",{className:"text-[#000020] font-bold text-base",children:"Preview in Expo"}),n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",children:n.jsx("path",{d:"M9 17C9 16.4477 8.5523 16 8 16H6C5.44771 16 5 16.4477 5 17V19C5 19.5523 5.44771 20 6 20H8C8.5523 20 9 19.5523 9 19V17ZM13 21V20.9902C13 20.438 13.4477 19.9902 14 19.9902C14.5523 19.9902 15 20.438 15 20.9902V21C15 21.5523 14.5523 22 14 22C13.4477 22 13 21.5523 13 21ZM17 21V19C17 18.4477 17.4477 18 18 18H20C20.5523 18 21 18.4477 21 19C21 19.5523 20.5523 20 20 20H19V21C19 21.5523 18.5523 22 18 22C17.4477 22 17 21.5523 17 21ZM13 15C13 14.4477 13.4477 14 14 14C14.5523 14 15 14.4477 15 15V16H16C16.5523 16 17 16.4477 17 17C17 17.5523 16.5523 18 16 18H14C13.4477 18 13 17.5523 13 17V15ZM20 14C20.5523 14 21 14.4477 21 15C21 15.5523 20.5523 16 20 16H18C17.4477 16 17 15.5523 17 15C17 14.4477 17.4477 14 18 14H20ZM9 7C9 6.44771 8.55229 6 8 6H6C5.44771 6 5 6.44771 5 7V9C5 9.55229 5.44771 10 6 10H8C8.55229 10 9 9.55229 9 9V7ZM19 7C19 6.44771 18.5523 6 18 6H16C15.4477 6 15 6.44771 15 7V9C15 9.5523 15.4477 10 16 10H18C18.5523 10 19 9.5523 19 9V7ZM11 19C11 20.6569 9.65685 22 8 22H6C4.34315 22 3 20.6569 3 19V17C3 15.3431 4.34315 14 6 14H8C9.65685 14 11 15.3431 11 17V19ZM11 9C11 10.6569 9.65685 12 8 12H6C4.34315 12 3 10.6569 3 9V7C3 5.34315 4.34315 4 6 4H8C9.65685 4 11 5.34315 11 7V9ZM21 9C21 10.6568 19.6569 12 18 12H16C14.3431 12 13 10.6568 13 9V7C13 5.34315 14.3431 4 16 4H18C19.6569 4 21 5.34315 21 7V9Z",fill:"black"})})]})}),contentPadding:"p-0",children:n.jsxs("div",{className:"h-[90dvh]  mb-0 flex flex-col bg-[#111112] rounded-t-[24px] overflow-hidden relative",children:[Dt(),n.jsx("div",{className:"flex-1 overflow-hidden",children:It()}),n.jsx(l2,{isVisible:_e.size>0&&!r,onSave:ct,onDiscard:xt,jobId:p,constraintKey:fe?"fullscreen":"default",isFullscreen:fe,showUnsavedChangesModal:A})]})}),n.jsx(t1,{isOpen:W,onOpenChange:q,previewUrl:s}),n.jsx(ZX,{isOpen:ee,onClose:Et,onComplete:St}),n.jsx(e2,{ref:qe,isVisible:pe&&!r,element:le,position:de,onClose:()=>{me(!1),ce(null),ue(null),st("CLEAR_SELECTION")},onSave:e=>{var t;if(st("APPLY_CHANGES",{elementId:null==(t=null==le?void 0:le.attributes)?void 0:t["x-id"],...e,isMultiElement:null==le?void 0:le.isMultiElement}),null==le?void 0:le.attributes){const t=le.attributes["x-id"],n=le.attributes["x-file-name"],s=le.attributes["x-line-number"],i=le.attributes["x-component"];t&&n&&s&&i&&ke(a=>{const r=new Map(a),o=r.get(t),l=(null==le?void 0:le.hasChildElements)??(null==o?void 0:o.hasChildElements)??!1,c=(null==le?void 0:le.hasDirectTextContent)??(null==o?void 0:o.hasDirectTextContent)??!1,d=(null==le?void 0:le.isMultiElement)??(null==o?void 0:o.isMultiElement)??!1,u=o?{...o.changes,...e}:e;return r.set(t,{elementId:t,fileName:n,lineNumber:parseInt(s,10),component:i,hasChildElements:l,hasDirectTextContent:c,isMultiElement:d,changes:u}),r})}},onRevert:dt,onChangesDetected:it,onTriggerSave:je,onDiscardChanges:Ne,onTriggerComplete:ft,onHistoryPush:at})]}):n.jsxs("div",{className:fb("w-full h-full bg-[#111112] max-md:absolute max-md:inset-0 relative",e?"block":"hidden",fe&&C&&!r&&"fixed top-[56px] left-0 right-0 h-[calc(100vh-56px)] z-[9999] pointer-events-none"),children:[n.jsxs("div",{className:"flex flex-col h-full",children:[n.jsx("div",{className:"pointer-events-auto",children:C&&!r?At():Tt()}),n.jsxs("div",{ref:Ge,className:"relative flex-1 p-0 overflow-hidden pointer-events-auto",children:[n.jsx("div",{className:fb("w-full h-full flex items-center justify-center",C&&"pc"!==he&&"bg-[#0F0F10]"),children:n.jsx("div",{className:fb("h-full",C&&"mobile"===he&&"w-[375px] mx-auto",C&&"tablet"===he&&"w-[768px] mx-auto max-w-full",(!C||"pc"===he)&&"w-full"),children:It()})}),n.jsx(l2,{isVisible:_e.size>0&&!r,onSave:ct,onDiscard:xt,jobId:p,constraintKey:fe?"fullscreen":"default",isFullscreen:fe,showUnsavedChangesModal:A})]})]}),n.jsx(t1,{isOpen:W,onOpenChange:q,previewUrl:s}),n.jsx(ZX,{isOpen:ee,onClose:Et,onComplete:St}),n.jsx(e2,{ref:qe,isVisible:pe&&!r,element:le,position:de,onClose:()=>{me(!1),ce(null),ue(null),st("CLEAR_SELECTION")},onSave:e=>{var t;if(st("APPLY_CHANGES",{elementId:null==(t=null==le?void 0:le.attributes)?void 0:t["x-id"],...e,isMultiElement:null==le?void 0:le.isMultiElement}),null==le?void 0:le.attributes){const t=le.attributes["x-id"],n=le.attributes["x-file-name"],s=le.attributes["x-line-number"],i=le.attributes["x-component"];t&&n&&s&&i&&ke(a=>{const r=new Map(a),o=r.get(t),l=(null==le?void 0:le.hasChildElements)??(null==o?void 0:o.hasChildElements)??!1,c=(null==le?void 0:le.hasDirectTextContent)??(null==o?void 0:o.hasDirectTextContent)??!1,d=(null==le?void 0:le.isMultiElement)??(null==o?void 0:o.isMultiElement)??!1,u=o?{...o.changes,...e}:e;return r.set(t,{elementId:t,fileName:n,lineNumber:parseInt(s,10),component:i,hasChildElements:l,hasDirectTextContent:c,isMultiElement:d,changes:u}),r})}},onRevert:dt,onChangesDetected:it,onTriggerSave:je,onDiscardChanges:Ne,onTriggerComplete:ft,onHistoryPush:at})]})}function L2(){const[e,t]=De.useState({showLogsPanel:!1,showSubagentPanel:!1,showInfoPanel:!1,showUrlPreviewPanel:!1,showDeployPanel:!1});return{...e,panelState:e,togglePanel:({panelName:e,value:n=null,size:s=null})=>{t(t=>{if(null!==n){return{...{showLogsPanel:!1,showSubagentPanel:!1,showInfoPanel:!1,showUrlPreviewPanel:!1,showDeployPanel:!1},[e]:n}}if(t[e])return{...t,[e]:!1};return{showLogsPanel:!1,showSubagentPanel:!1,showInfoPanel:!1,showUrlPreviewPanel:!1,showDeployPanel:!1,[e]:!0}})},isAnyPanelOpen:()=>Object.values(e).some(e=>!0===e),closeAllPanels:()=>{t({showLogsPanel:!1,showSubagentPanel:!1,showInfoPanel:!1,showUrlPreviewPanel:!1,showDeployPanel:!1})}}}const P2=["#EFA1F4","#FDA79D","#E5C573","#65CB65","#A1BFE5"],R2=new Map;let O2=0;const z2=(e,t)=>{if(R2.has(e))return R2.get(e);if(O2<P2.length){const t=P2[O2];return R2.set(e,t),O2++,t}const n=(()=>{let e="#";for(let t=0;t<6;t++)e+="0123456789ABCDEF"[Math.floor(16*Math.random())];return e})();return R2.set(e,n),n},B2=gv.upload.blueCheck,H2=De.memo(({message:e,organizationMembers:t})=>{const s=((e,t)=>{if(!e)return{name:"Unknown User",email:"",initials:"U",isDeleted:!0};if(!t){const t=e.includes("@")?e.split("@")[0].charAt(0).toUpperCase():e.charAt(0).toUpperCase(),n=e.includes("@")?e.split("@")[0]:e;return{name:n.charAt(0).toUpperCase()+n.slice(1),email:e,initials:t}}const n=t.find(t=>t.user_id===e);if(n){const e=n.email.split("@")[0];return{name:e.charAt(0).toUpperCase()+e.slice(1),email:n.email,initials:e.charAt(0).toUpperCase(),role:n.role,status:n.status}}return{name:"Anonymous",email:e,initials:"D",isDeleted:!0}})(e.user_id,t),i=s.isDeleted?"#6B7280":z2(e.user_id||""),{isVisualEdit:a}=(e=>{const t=e.includes("VISUAL_EDIT_NOTIFICATION");let n=0,s="";if(t){const t=e.split("|||");t.length>=4&&(n=parseInt(t[1])||0,s=t[2]||"")}return{isVisualEdit:t,visualEditCount:n,visualEditDetails:s}})(e.content);return n.jsx("div",{className:fb("relative group flex justify-center","mb-0"),id:e.id,children:n.jsxs("div",{className:fb("my-4 md:my-8 group/message flex flex-col space-y-[10px] w-full md:max-w-4xl  justify-start items-start"),children:[n.jsx(M$,{base64Images:e.base64_image_list,artifacts:e.artifacts,artifactSharedData:e.artifact_shared_data,className:"justify-start w-full",fromMember:!0}),n.jsxs("div",{className:"flex items-start w-full gap-4",children:[n.jsx("div",{className:"flex-shrink-0 max-md:hidden",children:n.jsx(_M,{className:"w-8 h-8 md:w-8 md:h-8",children:n.jsx(SM,{className:"text-sm font-bold text-white",style:{backgroundColor:i},children:s.initials})})}),n.jsxs("div",{className:"flex-1 min-w-0 ",children:[n.jsx("div",{className:fb("px-4 py-3 rounded-xl rounded-tl-none overflow-hidden w-fit space-y-[10px] backdrop-blur-lg","max-4-xl w-4xl",a&&"hidden"),style:{background:"radial-gradient(50% 50% at 50% 50%, rgba(128, 255, 249, 0.16) 0%, rgba(128, 255, 249, 0.08) 100%)"},children:n.jsx("div",{className:"flex flex-col",children:n.jsx("div",{className:"prose prose-invert max-w-none",children:n.jsx("p",{className:"text-[#CCEEFF] font-['Inter'] text-[15px] leading-6 font-normal whitespace-pre-wrap break-words",children:e.content})})})}),a&&n.jsxs("div",{className:"bg-[#80FFF90D] rounded-[10px] p-3 flex rounded-tl-[0px] md:gap-3 items-center justify-between w-fit",style:{background:"radial-gradient(50% 50% at 50% 50%, rgba(128, 255, 249, 0.16) 0%, rgba(128, 255, 249, 0.08) 100%)"},children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("svg",{width:"20",height:"20",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.24748 5.23582C6.44259 5.2128 6.64037 5.24142 6.82267 5.31687L6.82365 5.3159L15.2846 8.77683L15.4281 8.84715C15.5653 8.92714 15.6848 9.03498 15.7787 9.16355L15.8295 9.23972L15.8735 9.31882C15.9702 9.50791 16.013 9.72113 15.9965 9.93406C15.9775 10.1772 15.8824 10.4088 15.724 10.5942C15.5656 10.7794 15.3517 10.9087 15.1147 10.9653V10.9663L11.7699 11.7671L10.9701 15.1128C10.9138 15.3496 10.7837 15.5626 10.599 15.7212C10.4133 15.8805 10.181 15.9765 9.93693 15.9956C9.69289 16.0146 9.44886 15.9553 9.24064 15.8266C9.03263 15.698 8.87085 15.5063 8.77873 15.2798L5.31779 6.82078L5.31877 6.8198C5.23249 6.61111 5.20827 6.38147 5.25138 6.15965L5.27092 6.07664C5.32356 5.88376 5.42572 5.70699 5.56779 5.56492L5.63029 5.5073C5.78178 5.3768 5.96529 5.28688 6.16252 5.24851L6.24748 5.23582ZM9.75041 13.5942L10.2738 11.4087V11.4077C10.3402 11.1318 10.4822 10.8797 10.683 10.6792C10.8839 10.4786 11.1364 10.3369 11.4125 10.271L13.5951 9.74754L7.0883 7.08543L9.75041 13.5942ZM3.13517 7.77488C3.42776 7.46696 3.91511 7.45498 4.22306 7.74754C4.5306 8.04012 4.54275 8.52661 4.25041 8.83445L2.78947 10.3725C2.4969 10.6805 2.01052 10.6924 1.70256 10.3999C1.39462 10.1073 1.38167 9.62093 1.67424 9.31297L3.13517 7.77488ZM0.0277509 4.40965C0.140698 4.00021 0.564602 3.7597 0.97404 3.87254L3.20451 4.48777C3.61397 4.60075 3.85457 5.02458 3.74162 5.43406C3.62853 5.84338 3.20473 6.08313 2.79533 5.97019L0.56486 5.35496C0.155728 5.24186 -0.0849285 4.81889 0.0277509 4.40965ZM9.31779 1.67234C9.62571 1.37982 10.1121 1.39187 10.4047 1.69968C10.6972 2.00753 10.685 2.49398 10.3774 2.7866L8.8383 4.24851C8.5304 4.54073 8.0439 4.52879 7.75138 4.22117C7.45881 3.91319 7.47173 3.42585 7.7797 3.13328L9.31779 1.67234ZM4.41154 0.0278093C4.8209 -0.085006 5.24479 0.155625 5.35783 0.564919L5.97306 2.79539C6.08592 3.20475 5.84523 3.6286 5.43595 3.74168C5.02656 3.85445 4.60262 3.61394 4.48967 3.20457L3.87443 0.974098C3.7616 0.564688 4.00216 0.140791 4.41154 0.0278093Z",fill:"#80FFF9E5"})}),n.jsx("span",{className:"max-md:text-[14px] font-medium text-[#80FFF9E5]",children:"Visually edited few files"})]}),n.jsx("img",{src:B2,alt:"Check",className:"w-4 h-4 md:w-6 md:h-6"})]})]})]}),n.jsx("div",{className:fb("transition-opacity duration-200 h-5 text-left  md:ml-12 opacity-100 md:opacity-0  md:group-hover/message:opacity-100"),children:n.jsxs("div",{className:"inline-flex items-center gap-2 text-[#5C5F66]",children:[n.jsx("span",{className:"text-[13px] font-mono font-medium",style:{color:i},children:s.name}),n.jsx("div",{className:"w-1 h-1 rounded-full bg-[#CCEEFF]/20"}),n.jsx("span",{className:"font-mono font-medium text-[13px] leading-[20px]",children:dT(e.timestamp)})]})})]})})});function $2(){const{getCurrentOrganizationId:e,isOrganizationWorkspace:t}=Kg(),n=e(),s=t(),{data:i,isLoading:a,error:r}=cf(n,{skip:!s||!n}),o=((null==i?void 0:i.pending_invitations)||[]).map((e,t)=>{var n;return{user_id:e.email||`pending-${e.email}-${t}`,email:e.email||"",role:e.role||"MEMBER",status:"PENDING",joined_at:e.created_at||"",avatar_url:"",name:(null==(n=e.email)?void 0:n.split("@")[0])||"Unknown"}});return{members:(null==i?void 0:i.members)||[],pending_members:o,isLoading:a,error:r}}H2.displayName="MemberMessageItem";const U2=({size:e=48,width:t,height:s,color:i="#939399",fill:a,className:r,style:o,onClick:l,...c})=>{const d=t||e,u=s||e,p=a||i;return n.jsxs("svg",{width:d,height:u,viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:r,style:o,onClick:l,...c,children:[n.jsx("rect",{width:"48",height:"48",rx:"8",fill:"url(#paint0_linear_7214_19824)",fillOpacity:"0.05"}),n.jsxs("g",{clipPath:"url(#clip0_7214_19824)",children:[n.jsx("path",{d:"M30.3003 15.6016C32.2331 15.6018 33.8003 17.1687 33.8003 19.1016V28.9014C33.8003 30.8342 32.2331 32.4011 30.3003 32.4014H17.6997C15.7668 32.4013 14.1997 30.8343 14.1997 28.9014V19.1016C14.1997 17.1686 15.7668 15.6017 17.6997 15.6016H30.3003Z",fill:p}),n.jsx("path",{d:"M17 27.5C17 26.1193 18.1193 25 19.5 25H28.5C29.8807 25 31 26.1193 31 27.5C31 28.8807 29.8807 30 28.5 30H19.5C18.1193 30 17 28.8807 17 27.5Z",fill:"#1D1D1E"}),n.jsx("rect",{opacity:"0.2",width:"3",height:"1",rx:"0.5",transform:"matrix(1 0 0 -1 20 28)",fill:"white"}),n.jsx("rect",{opacity:"0.2",width:"3",height:"1",rx:"0.5",transform:"matrix(1 0 0 -1 25 28)",fill:"white"}),n.jsx("rect",{x:"10",y:"22.5996",width:"2.8",height:"5.6",rx:"1.4",fill:p}),n.jsx("rect",{x:"35.2002",y:"22.5996",width:"2.8",height:"5.6",rx:"1.4",fill:p})]}),n.jsxs("defs",{children:[n.jsxs("linearGradient",{id:"paint0_linear_7214_19824",x1:"24",y1:"0",x2:"24",y2:"48",gradientUnits:"userSpaceOnUse",children:[n.jsx("stop",{stopColor:"white"}),n.jsx("stop",{offset:"1",stopColor:"white",stopOpacity:"0"})]}),n.jsx("clipPath",{id:"clip0_7214_19824",children:n.jsx("rect",{width:"28",height:"28",fill:"white",transform:"translate(10 10)"})})]})]})},V2=({style:e,onClick:t,children:s,className:i=""})=>n.jsx(wb,{className:fb("h-[44px] px-4 py-3 flex space-x-2 justify-center items-center gap-4 text-white text-base font-medium rounded-[10px] backdrop-blur-[25px]",i),style:{background:AX.BUTTON_STYLES[e].background},onClick:t,children:s}),W2=({children:e})=>n.jsx("div",{className:"flex items-center gap-2 text-transparent bg-clip-text",style:{background:AX.BUTTON_STYLES.gradient.textGradient,WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:e}),q2=gv.common.fluentEmojiBell,G2=gv.common.send,Z2=gv.common.bell,Y2=gv.icons.animatedSpinner,K2=({podIsPaused:e,isInputActive:t,showCase:s,githubDetails:i,createdBefore25April:a,resumePod:r,restartError:o,isReplaying:l,archivedPod:c,jobId:d,podStateDisplay:u="",showUpgrade:p=!1,machineType:m="Regular",isWakingUp:h=!1,showScrollButton:x=!1,scrollToBottom:f})=>{const{isDownloading:g,handleDownload:v}=bX(),{newToast:b}=tD(),y=h;if(!e||!t||s)return null;const w=n.jsx("a",{href:lv,className:"bg-gradient-to-r font-['Inter'] font-semibold underline underline-offset-1",children:"Help Center"}),j=()=>{const e="text-[#fff]/80 font-inter text-[12px] md:text-[14px] opacity-50";return i&&a?n.jsxs("span",{className:e,children:["Apologies, the task has expired due to inactivity. We may not be able to recover this at this moment. Please start a new task using the same github repo or visit our ",w," for any assistance."]}):i?n.jsxs("span",{className:e,children:["Your GitHub task is paused. Click 'Wake up the Agent' to continue. Need help? Visit our ",w]}):c?n.jsxs("span",{className:e,children:["This job has been archived. You can download your code and create a new job. Need help? Visit our ",w]}):n.jsxs("span",{className:e,children:["If you are having trouble accessing your work, please visit our"," ",w]})},C=!(i&&a||c),N=()=>{fg(tE.WAKE_UP_AGENT,{isButtonWakingUp:y}),r()};return n.jsx(Rt,{children:n.jsxs(Pt.div,{initial:{y:100,opacity:0},animate:{y:0,opacity:1},exit:{y:100,opacity:0},transition:{type:"tween",ease:"easeOut",duration:.4},className:"absolute px-4 grayscale-0 bottom-0 left-0 right-0 z-[49] w-full",children:[x&&f&&n.jsx("div",{className:"flex justify-center mb-2",children:n.jsx("button",{type:"button",onClick:f,className:"z-[9999] p-2 w-[36px] h-[36px] flex items-center justify-center text-black transition-colors bg-white rounded-full shadow-lg hover:bg-white/80","aria-label":"Scroll to bottom",children:n.jsx("img",{src:G2,alt:"Scroll to bottom",className:"w-6 h-6 rotate-180"})})}),n.jsxs("div",{className:"max-w-4xl relative mx-auto bg-[#FFFFFF0F] backdrop-blur-3xl rounded-[1rem] rounded-bl-none rounded-br-none overflow-hidden p-2 pb-0 flex justify-between",children:[n.jsx("div",{className:"absolute top-0 bottom-0 left-0 right-0 z-0",style:{background:"linear-gradient(180deg, #131314 0%, rgba(19, 19, 20, 0) 100%)"}}),n.jsx("div",{className:"w-full z-10 bg-[#131314] p-4 md:px-[1.5rem] rounded-[1rem] rounded-bl-none rounded-br-none md:pt-[1.5rem] md:pb-[2rem] flex md:flex-row flex-col justify-between md:items-start gap-5",children:l?n.jsx("div",{className:"flex flex-col w-full gap-1",children:n.jsxs("div",{className:"flex items-center justify-between w-full max-md:gap-3 max-md:flex-col",children:[n.jsxs("div",{className:"flex flex-col gap-1",children:[n.jsxs("div",{className:"flex items-center justify-between gap-2",children:[n.jsx(IT,{size:24,color:"#2EBCE5"}),n.jsx("span",{className:"text-[#80FFF9] font-medium leading-[24px] tracking-[-0.1px]",style:{textShadow:"0px 0px 30px #80FFF999"},children:"Recreating Environment ..."})]}),n.jsx("span",{className:"text-[#FFFFFF]/50 text-[14px] font-inter leading-[20px] font-medium",children:"This usually takes around 5-10 mins."})]}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(V2,{style:"white",onClick:()=>window.open(lv,"_blank"),className:"w-full",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("p",{className:"font-medium",children:"Need Help ?"}),n.jsx(xS,{color:"white",strokeWidth:3,size:24,className:"max-md:hidden"})]})}),n.jsx(V2,{style:"gradient",onClick:()=>b.success("We will send you an email when preview is ready"),className:"w-full",children:n.jsxs(W2,{children:[n.jsx("img",{alt:"Bell Icon",src:Z2,className:"max-md:hidden"}),n.jsx("p",{className:"font-medium",children:"Remind me"})]})})]})]})}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(U2,{className:"hidden md:block",size:56}),n.jsxs("div",{className:"flex flex-col self-start gap-1 font-inter",children:[n.jsx("span",{className:"text-[14px] md:text-[16px] font-medium text-[#c4c4cc]",children:c?"Job has been archived.":u||"Agent went to sleep due to inactivity."}),j()]})]}),C&&!p&&n.jsxs("button",{type:"button",onClick:N,disabled:y,className:" py-[10px] px-4 min-w-fit rounded-[8px] flex justify-center items-center gap-2 transition-all duration-300 "+(y?"bg-[#80FFF908]":"bg-[#FCB94920] disabled:opacity-25 hover:bg-[#FCB94930]"),children:[y?n.jsx("img",{src:Y2,alt:"Loading...",className:"w-5 h-5"}):n.jsx("img",{src:q2,alt:"Wake icon",className:"w-5 h-5"}),n.jsx("span",{className:"text-[14px] whitespace-nowrap md:text-[16px] font-medium transition-all duration-300 "+(y?"text-[#80FFF9] ":"bg-gradient-to-r from-[#FCB949] to-[#E28C37] bg-clip-text text-transparent"),children:y?"Waking up...":"Wake up Agent"})]}),C&&p&&n.jsxs("button",{type:"button",onClick:N,disabled:y,className:" disabled:opacity-60 py-[10px] px-4 min-w-fit rounded-[8px] flex justify-center items-center gap-2 transition-all duration-300 "+(y?"bg-transparent border border-[#FCB949]/30":"bg-[#FCB94920] hover:bg-[#FCB94930]"),children:[y?n.jsx("img",{src:Y2,alt:"Loading...",className:"w-5 h-5"}):n.jsx("img",{src:q2,alt:"Wake icon",className:"w-5 h-5"}),n.jsx("span",{className:"text-[14px] whitespace-nowrap md:text-[16px] font-medium transition-all duration-300 "+(y&&!p?"bg-gradient-to-r from-[#49eafc] to-[#3778e2] text-transparent":"bg-gradient-to-r from-[#FCB949] bg-clip-text to-[#E28C37] text-transparent"),children:y?"Waking up...":"large"===m?"Wake up Agent":"Wake Agent with Larger Machine"})]}),c&&n.jsx("button",{type:"button",onClick:()=>v(d),disabled:g||!d,className:"bg-[#FCB94920] min-w-fit justify-center disabled:opacity-25 p-[10px] rounded-[6px] flex items-center gap-2 hover:bg-[#FCB94930] transition-colors duration-200",children:n.jsx("span",{className:"bg-gradient-to-r from-[#FCB949] to-[#E28C37] text-transparent text-[12px] md:text-[16px] bg-clip-text font-medium",children:g?"Downloading...":"Download Your Code"})})]})})]})]})})},J2=({width:e=57,height:t=38,className:s="",fill:i="white",...a})=>n.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:t,viewBox:"0 0 57 38",fill:"none",className:s,...a,children:[n.jsx("defs",{children:n.jsxs("filter",{id:"filter0_d_11791_110933",x:"-0.503906",y:"-7.60205",width:"58",height:"53.2012",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[n.jsx("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),n.jsx("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),n.jsx("feOffset",{}),n.jsx("feGaussianBlur",{stdDeviation:"10"}),n.jsx("feComposite",{in2:"hardAlpha",operator:"out"}),n.jsx("feColorMatrix",{type:"matrix",values:"0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 0.6 0"}),n.jsx("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_11791_110933"}),n.jsx("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_11791_110933",result:"shape"})]})}),n.jsx("g",{filter:"url(#filter0_d_11791_110933)",children:n.jsx("path",{d:"M28.4967 12.3979C30.4524 12.4715 32.344 13.1167 33.9371 14.2534C35.5302 15.3902 36.7548 16.969 37.4605 18.7944C37.5082 18.9263 37.5082 19.0708 37.4605 19.2026C36.7548 21.028 35.5302 22.6069 33.9371 23.7437C32.344 24.8804 30.4524 25.5255 28.4967 25.5991C26.541 25.5256 24.6494 24.8803 23.0562 23.7437C21.4631 22.6069 20.2376 21.0281 19.5318 19.2026C19.4842 19.0708 19.4842 18.9262 19.5318 18.7944C20.2376 16.9689 21.463 15.3902 23.0562 14.2534C24.6494 13.1167 26.5409 12.4715 28.4967 12.3979ZM29.9889 15.395C29.2763 15.0999 28.4924 15.023 27.7359 15.1733C26.9794 15.3238 26.2843 15.6953 25.7389 16.2407C25.1934 16.7862 24.822 17.4812 24.6715 18.2378C24.5211 18.9942 24.598 19.7782 24.8932 20.4907C25.1884 21.2034 25.6883 21.8131 26.3297 22.2417C26.971 22.6701 27.7254 22.8989 28.4967 22.8989C29.5305 22.8973 30.5215 22.4854 31.2525 21.7544C31.9835 21.0233 32.3954 20.0324 32.3971 18.9985C32.3971 18.2271 32.1674 17.4729 31.7389 16.8315C31.3103 16.1903 30.7015 15.6902 29.9889 15.395ZM28.4976 16.5972C29.8232 16.5972 30.898 17.672 30.898 18.9976C30.898 20.3231 29.8232 21.3979 28.4976 21.3979C27.1723 21.3977 26.0983 20.323 26.0982 18.9976C26.0982 17.6721 27.1723 16.5974 28.4976 16.5972Z",fill:i})})]});J2.propTypes={width:aA.oneOfType([aA.number,aA.string]),height:aA.oneOfType([aA.number,aA.string]),className:aA.string,fill:aA.string,onClick:aA.func,onMouseEnter:aA.func,onMouseLeave:aA.func,style:aA.object,"aria-label":aA.string,"aria-hidden":aA.bool,role:aA.string,id:aA.string,"data-testid":aA.string};const Q2=({size:e,width:t=21,height:s=20,color:i="black",fill:a,className:r="",style:o,onClick:l,...c})=>{const d=e||t,u=e||s,p=a||i;return n.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:d,height:u,viewBox:"0 0 21 20",fill:"none",className:r,style:o,onClick:l,...c,children:[n.jsx("path",{d:"M5.5 18C4.94772 18 4.5 17.5523 4.5 17L4.5 16L16.5 16L16.5 17C16.5 17.5523 16.0523 18 15.5 18L5.5 18Z",fill:p,fillOpacity:"0.6"}),n.jsx("path",{d:"M4.5 18L4.5 16L4.5 18ZM16.5 16L16.5 18L16.5 16ZM16.5 18L4.5 18L16.5 18ZM4.5 15.25L16.5 15.25L16.5 16.75L4.5 16.75L4.5 15.25Z",fill:p}),n.jsx("rect",{x:"4.5",y:"18",width:"16",height:"12",rx:"2",transform:"rotate(-90 4.5 18)",stroke:p,strokeWidth:"1.5"})]})},X2={initial:{opacity:0,scale:.5,y:10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:5},transition:{type:"spring",stiffness:400,damping:25,mass:.8,duration:2}},e5=({isVisible:e,previewUrl:t,onPreviewClick:s,promptText:i="",className:a="",ariaLabel:r="Open preview",showMobileIcon:o=!0,animationConfig:l=X2,hasOpenedBefore:c=()=>!1})=>{if(!e)return null;const d=`\n    z-[49] p-2 w-fit h-[56px] rounded-[12px] \n    flex items-center justify-center space-x-[10px] font-brockmann text-base font-semibold \n    transition-colors \n    shadow-[0px_0px_40px_0px_rgba(255,255,255,0.20)] \n    shadow-lg\n    ${a}\n  `.trim(),u="\n    rounded \n    shadow-[0px_50px_14px_0px_rgba(0,0,0,0.00),0px_32px_13px_0px_rgba(0,0,0,0.03),0px_18px_11px_0px_rgba(0,0,0,0.10),0px_8px_8px_0px_rgba(0,0,0,0.16),0px_2px_4px_0px_rgba(0,0,0,0.19)]\n    flex \n    w-14 \n    h-full\n    justify-center \n    items-center\n    relative\n    overflow-hidden\n    bg-gray-300\n  ".trim(),p=De.useCallback(()=>c()?"View Preview":"Your Preview is ready",[c]);return n.jsx(Rt,{children:n.jsx(Pt.div,{initial:l.initial,animate:l.animate,exit:l.exit,transition:l.transition,children:n.jsx("div",{className:"flex justify-center mb-2 md:hidden",children:n.jsxs("button",{type:"button",onClick:s,className:fb([d,c()?"bg-[#303033] text-white":"bg-white text-[#0E0E0F]"]),"aria-label":r,children:[n.jsxs("div",{className:u,children:[t&&n.jsx("iframe",{src:t,title:"Preview",className:"h-full rounded w-14 z-[1] pointer-events-none",style:{zoom:1,pointerEvents:"none"}}),n.jsx("div",{className:"absolute z-[50] h-full w-14 inset-0 flex items-center justify-center rounded pointer-events-none bg-black/50",children:n.jsx(J2,{color:"#fff"})})]}),n.jsxs("div",{className:"flex items-center justify-center space-x-1",children:[n.jsx("p",{children:i||p()}),c()?n.jsx(Vk,{className:"w-6 h-6 text-white/40"}):n.jsx(Q2,{className:"w-5 h-5"})]})]})})})})},t5=De.createContext(null);t5.displayName="PanelGroupContext";const n5="data-panel-group",s5="data-panel-group-direction",i5="data-panel-group-id",a5="data-panel",r5="data-panel-collapsible",o5="data-panel-id",l5="data-panel-size",c5="data-resize-handle",d5="data-resize-handle-active",u5="data-panel-resize-handle-enabled",p5="data-panel-resize-handle-id",m5="data-resize-handle-state",h5=De.useLayoutEffect,x5=He["useId".toString()],f5="function"==typeof x5?x5:()=>null;let g5=0;function v5(e=null){const t=f5(),n=De.useRef(e||t||null);return null===n.current&&(n.current=""+g5++),null!=e?e:n.current}function b5({children:e,className:t="",collapsedSize:n,collapsible:s,defaultSize:i,forwardedRef:a,id:r,maxSize:o,minSize:l,onCollapse:c,onExpand:d,onResize:u,order:p,style:m,tagName:h="div",...x}){const f=De.useContext(t5);if(null===f)throw Error("Panel components must be rendered within a PanelGroup container");const{collapsePanel:g,expandPanel:v,getPanelSize:b,getPanelStyle:y,groupId:w,isPanelCollapsed:j,reevaluatePanelConstraints:C,registerPanel:N,resizePanel:F,unregisterPanel:_}=f,k=v5(r),S=De.useRef({callbacks:{onCollapse:c,onExpand:d,onResize:u},constraints:{collapsedSize:n,collapsible:s,defaultSize:i,maxSize:o,minSize:l},id:k,idIsFromProps:void 0!==r,order:p});De.useRef({didLogMissingDefaultSizeWarning:!1}),h5(()=>{const{callbacks:e,constraints:t}=S.current,a={...t};S.current.id=k,S.current.idIsFromProps=void 0!==r,S.current.order=p,e.onCollapse=c,e.onExpand=d,e.onResize=u,t.collapsedSize=n,t.collapsible=s,t.defaultSize=i,t.maxSize=o,t.minSize=l,a.collapsedSize===t.collapsedSize&&a.collapsible===t.collapsible&&a.maxSize===t.maxSize&&a.minSize===t.minSize||C(S.current,a)}),h5(()=>{const e=S.current;return N(e),()=>{_(e)}},[p,k,N,_]),De.useImperativeHandle(a,()=>({collapse:()=>{g(S.current)},expand:e=>{v(S.current,e)},getId:()=>k,getSize:()=>b(S.current),isCollapsed:()=>j(S.current),isExpanded:()=>!j(S.current),resize:e=>{F(S.current,e)}}),[g,v,b,j,k,F]);const E=y(S.current,i);return De.createElement(h,{...x,children:e,className:t,id:k,style:{...E,...m},[i5]:w,[a5]:"",[r5]:s||void 0,[o5]:k,[l5]:parseFloat(""+E.flexGrow).toFixed(1)})}const y5=De.forwardRef((e,t)=>De.createElement(b5,{...e,forwardedRef:t}));b5.displayName="Panel",y5.displayName="forwardRef(Panel)";let w5=null,j5=-1,C5=null;function N5(e,t,n){var s,i;const a=function(e,t){const n=0!==(t&O5),s=0!==(t&z5);if(t){if(0!==(t&P5))return n?"se-resize":s?"ne-resize":"e-resize";if(0!==(t&R5))return n?"sw-resize":s?"nw-resize":"w-resize";if(n)return"s-resize";if(s)return"n-resize"}switch(e){case"horizontal":return"ew-resize";case"intersection":return"move";case"vertical":return"ns-resize"}}(e,t);if(w5!==a){var r;if(w5=a,null===C5&&(C5=document.createElement("style"),document.head.appendChild(C5)),j5>=0)null===(r=C5.sheet)||void 0===r||r.removeRule(j5);j5=null!==(s=null===(i=C5.sheet)||void 0===i?void 0:i.insertRule(`*{cursor: ${a} !important;}`))&&void 0!==s?s:-1}}function F5(e){return"keydown"===e.type}function _5(e){return e.type.startsWith("pointer")}function k5(e){return e.type.startsWith("mouse")}function S5(e){if(_5(e)){if(e.isPrimary)return{x:e.clientX,y:e.clientY}}else if(k5(e))return{x:e.clientX,y:e.clientY};return{x:1/0,y:1/0}}function E5(e,t,n){return e.x<t.x+t.width&&e.x+e.width>t.x&&e.y<t.y+t.height&&e.y+e.height>t.y}const I5=/\b(?:position|zIndex|opacity|transform|webkitTransform|mixBlendMode|filter|webkitFilter|isolation)\b/;function A5(e){const t=getComputedStyle(e);return"fixed"===t.position||(!("auto"===t.zIndex||"static"===t.position&&!function(e){var t;const n=getComputedStyle(null!==(t=L5(e))&&void 0!==t?t:e).display;return"flex"===n||"inline-flex"===n}(e))||(+t.opacity<1||("transform"in t&&"none"!==t.transform||("webkitTransform"in t&&"none"!==t.webkitTransform||("mixBlendMode"in t&&"normal"!==t.mixBlendMode||("filter"in t&&"none"!==t.filter||("webkitFilter"in t&&"none"!==t.webkitFilter||("isolation"in t&&"isolate"===t.isolation||(!!I5.test(t.willChange)||"touch"===t.webkitOverflowScrolling)))))))))}function T5(e){let t=e.length;for(;t--;){const n=e[t];if(n4(n,"Missing node"),A5(n))return n}return null}function D5(e){return e&&Number(getComputedStyle(e).zIndex)||0}function M5(e){const t=[];for(;e;)t.push(e),e=L5(e);return t}function L5(e){const{parentNode:t}=e;return t&&t instanceof ShadowRoot?t.host:t}const P5=1,R5=2,O5=4,z5=8,B5="coarse"===function(){if("function"==typeof matchMedia)return matchMedia("(pointer:coarse)").matches?"coarse":"fine"}();let H5=[],$5=!1,U5=new Map,V5=new Map;const W5=new Set;function q5(e){const{target:t}=e,{x:n,y:s}=S5(e);$5=!0,K5({target:t,x:n,y:s}),e4(),H5.length>0&&(t4("down",e),Q5(),e.preventDefault(),Y5(t)||e.stopImmediatePropagation())}function G5(e){const{x:t,y:n}=S5(e);if($5&&"pointerleave"!==e.type&&0===e.buttons&&($5=!1,t4("up",e)),!$5){const{target:s}=e;K5({target:s,x:t,y:n})}t4("move",e),Q5(),H5.length>0&&e.preventDefault()}function Z5(e){const{target:t}=e,{x:n,y:s}=S5(e);V5.clear(),$5=!1,H5.length>0&&(e.preventDefault(),Y5(t)||e.stopImmediatePropagation()),t4("up",e),K5({target:t,x:n,y:s}),Q5(),e4()}function Y5(e){let t=e;for(;t;){if(t.hasAttribute(c5))return!0;t=t.parentElement}return!1}function K5({target:e,x:t,y:n}){H5.splice(0);let s=null;(e instanceof HTMLElement||e instanceof SVGElement)&&(s=e),W5.forEach(e=>{const{element:i,hitAreaMargins:a}=e,r=i.getBoundingClientRect(),{bottom:o,left:l,right:c,top:d}=r,u=B5?a.coarse:a.fine;if(t>=l-u&&t<=c+u&&n>=d-u&&n<=o+u){if(null!==s&&document.contains(s)&&i!==s&&!i.contains(s)&&!s.contains(i)&&function(e,t){if(e===t)throw new Error("Cannot compare node with itself");const n={a:M5(e),b:M5(t)};let s;for(;n.a.at(-1)===n.b.at(-1);)e=n.a.pop(),t=n.b.pop(),s=e;n4(s,"Stacking order can only be calculated for elements with a common ancestor");const i=D5(T5(n.a)),a=D5(T5(n.b));if(i===a){const e=s.childNodes,t={a:n.a.at(-1),b:n.b.at(-1)};let i=e.length;for(;i--;){const n=e[i];if(n===t.a)return 1;if(n===t.b)return-1}}return Math.sign(i-a)}(s,i)>0){let e=s,t=!1;for(;e&&!e.contains(i);){if(E5(e.getBoundingClientRect(),r)){t=!0;break}e=e.parentElement}if(t)return}H5.push(e)}})}function J5(e,t){V5.set(e,t)}function Q5(){let e=!1,t=!1;H5.forEach(n=>{const{direction:s}=n;"horizontal"===s?e=!0:t=!0});let n=0;V5.forEach(e=>{n|=e}),e&&t?N5("intersection",n):e?N5("horizontal",n):t?N5("vertical",n):null!==C5&&(document.head.removeChild(C5),w5=null,C5=null,j5=-1)}let X5;function e4(){var e;null===(e=X5)||void 0===e||e.abort(),X5=new AbortController;const t={capture:!0,signal:X5.signal};W5.size&&($5?(H5.length>0&&U5.forEach((e,n)=>{const{body:s}=n;e>0&&(s.addEventListener("contextmenu",Z5,t),s.addEventListener("pointerleave",G5,t),s.addEventListener("pointermove",G5,t))}),U5.forEach((e,n)=>{const{body:s}=n;s.addEventListener("pointerup",Z5,t),s.addEventListener("pointercancel",Z5,t)})):U5.forEach((e,n)=>{const{body:s}=n;e>0&&(s.addEventListener("pointerdown",q5,t),s.addEventListener("pointermove",G5,t))}))}function t4(e,t){W5.forEach(n=>{const{setResizeHandlerState:s}=n,i=H5.includes(n);s(e,i,t)})}function n4(e,t){if(!e)throw Error(t)}function s4(e,t,n=10){return e.toFixed(n)===t.toFixed(n)?0:e>t?1:-1}function i4(e,t,n=10){return 0===s4(e,t,n)}function a4(e,t,n){return 0===s4(e,t,n)}function r4({panelConstraints:e,panelIndex:t,size:n}){const s=e[t];n4(null!=s,`Panel constraints not found for index ${t}`);let{collapsedSize:i=0,collapsible:a,maxSize:r=100,minSize:o=0}=s;if(s4(n,o)<0)if(a){n=s4(n,(i+o)/2)<0?i:o}else n=o;return n=Math.min(r,n),n=parseFloat(n.toFixed(10))}function o4({delta:e,initialLayout:t,panelConstraints:n,pivotIndices:s,prevLayout:i,trigger:a}){if(a4(e,0))return t;const r=[...t],[o,l]=s;n4(null!=o,"Invalid first pivot index"),n4(null!=l,"Invalid second pivot index");let c=0;if("keyboard"===a){{const s=e<0?l:o,i=n[s];n4(i,`Panel constraints not found for index ${s}`);const{collapsedSize:a=0,collapsible:r,minSize:c=0}=i;if(r){const n=t[s];if(n4(null!=n,`Previous layout not found for panel index ${s}`),a4(n,a)){const t=c-n;s4(t,Math.abs(e))>0&&(e=e<0?0-t:t)}}}{const s=e<0?o:l,i=n[s];n4(i,`No panel constraints found for index ${s}`);const{collapsedSize:a=0,collapsible:r,minSize:c=0}=i;if(r){const n=t[s];if(n4(null!=n,`Previous layout not found for panel index ${s}`),a4(n,c)){const t=n-a;s4(t,Math.abs(e))>0&&(e=e<0?0-t:t)}}}}{const s=e<0?1:-1;let i=e<0?l:o,a=0;for(;;){const e=t[i];n4(null!=e,`Previous layout not found for panel index ${i}`);if(a+=r4({panelConstraints:n,panelIndex:i,size:100})-e,i+=s,i<0||i>=n.length)break}const r=Math.min(Math.abs(e),Math.abs(a));e=e<0?0-r:r}{let s=e<0?o:l;for(;s>=0&&s<n.length;){const i=Math.abs(e)-Math.abs(c),a=t[s];n4(null!=a,`Previous layout not found for panel index ${s}`);const o=r4({panelConstraints:n,panelIndex:s,size:a-i});if(!a4(a,o)&&(c+=a-o,r[s]=o,c.toFixed(3).localeCompare(Math.abs(e).toFixed(3),void 0,{numeric:!0})>=0))break;e<0?s--:s++}}if(function(e,t,n){if(e.length!==t.length)return!1;for(let s=0;s<e.length;s++)if(!a4(e[s],t[s],n))return!1;return!0}(i,r))return i;{const s=e<0?l:o,i=t[s];n4(null!=i,`Previous layout not found for panel index ${s}`);const a=i+c,d=r4({panelConstraints:n,panelIndex:s,size:a});if(r[s]=d,!a4(d,a)){let t=a-d;let s=e<0?l:o;for(;s>=0&&s<n.length;){const i=r[s];n4(null!=i,`Previous layout not found for panel index ${s}`);const a=r4({panelConstraints:n,panelIndex:s,size:i+t});if(a4(i,a)||(t-=a-i,r[s]=a),a4(t,0))break;e>0?s--:s++}}}return a4(r.reduce((e,t)=>t+e,0),100)?r:i}function l4({layout:e,panelsArray:t,pivotIndices:n}){let s=0,i=100,a=0,r=0;const o=n[0];n4(null!=o,"No pivot index found"),t.forEach((e,t)=>{const{constraints:n}=e,{maxSize:l=100,minSize:c=0}=n;t===o?(s=c,i=l):(a+=c,r+=l)});return{valueMax:Math.min(i,100-a),valueMin:Math.max(s,100-r),valueNow:e[o]}}function c4(e,t=document){return Array.from(t.querySelectorAll(`[${p5}][data-panel-group-id="${e}"]`))}function d4(e,t,n=document){const s=c4(e,n).findIndex(e=>e.getAttribute(p5)===t);return null!=s?s:null}function u4(e,t,n){const s=d4(e,t,n);return null!=s?[s,s+1]:[-1,-1]}function p4(e,t=document){if(((n=t)instanceof HTMLElement||"object"==typeof n&&null!==n&&"tagName"in n&&"getAttribute"in n)&&t.dataset.panelGroupId==e)return t;var n;const s=t.querySelector(`[data-panel-group][data-panel-group-id="${e}"]`);return s||null}function m4(e,t=document){const n=t.querySelector(`[${p5}="${e}"]`);return n||null}function h4({committedValuesRef:e,eagerValuesRef:t,groupId:n,layout:s,panelDataArray:i,panelGroupElement:a,setLayout:r}){De.useRef({didWarnAboutMissingResizeHandle:!1}),h5(()=>{if(!a)return;const e=c4(n,a);for(let t=0;t<i.length-1;t++){const{valueMax:n,valueMin:a,valueNow:r}=l4({layout:s,panelsArray:i,pivotIndices:[t,t+1]}),o=e[t];if(null==o);else{const e=i[t];n4(e,`No panel data found for index "${t}"`),o.setAttribute("aria-controls",e.id),o.setAttribute("aria-valuemax",""+Math.round(n)),o.setAttribute("aria-valuemin",""+Math.round(a)),o.setAttribute("aria-valuenow",null!=r?""+Math.round(r):"")}}return()=>{e.forEach((e,t)=>{e.removeAttribute("aria-controls"),e.removeAttribute("aria-valuemax"),e.removeAttribute("aria-valuemin"),e.removeAttribute("aria-valuenow")})}},[n,s,i,a]),De.useEffect(()=>{if(!a)return;const e=t.current;n4(e,"Eager values not found");const{panelDataArray:i}=e;n4(null!=p4(n,a),`No group found for id "${n}"`);const o=c4(n,a);n4(o,`No resize handles found for group id "${n}"`);const l=o.map(e=>{const t=e.getAttribute(p5);n4(t,"Resize handle element has no handle id attribute");const[o,l]=function(e,t,n,s=document){var i,a,r,o;const l=m4(t,s),c=c4(e,s),d=l?c.indexOf(l):-1;return[null!==(i=null===(a=n[d])||void 0===a?void 0:a.id)&&void 0!==i?i:null,null!==(r=null===(o=n[d+1])||void 0===o?void 0:o.id)&&void 0!==r?r:null]}(n,t,i,a);if(null==o||null==l)return()=>{};const c=e=>{if(!e.defaultPrevented)switch(e.key){case"Enter":{e.preventDefault();const l=i.findIndex(e=>e.id===o);if(l>=0){const e=i[l];n4(e,`No panel data found for index ${l}`);const o=s[l],{collapsedSize:c=0,collapsible:d,minSize:u=0}=e.constraints;if(null!=o&&d){const e=o4({delta:a4(o,c)?u-c:c-o,initialLayout:s,panelConstraints:i.map(e=>e.constraints),pivotIndices:u4(n,t,a),prevLayout:s,trigger:"keyboard"});s!==e&&r(e)}}break}}};return e.addEventListener("keydown",c),()=>{e.removeEventListener("keydown",c)}});return()=>{l.forEach(e=>e())}},[a,e,t,n,s,i,r])}function x4(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function f4(e,t){const n="horizontal"===e,{x:s,y:i}=S5(t);return n?s:i}function g4(e,t,n,s,i,a){if(F5(e)){const t="horizontal"===n;let s=0;s=e.shiftKey?100:null!=i?i:10;let a=0;switch(e.key){case"ArrowDown":a=t?0:s;break;case"ArrowLeft":a=t?-s:0;break;case"ArrowRight":a=t?s:0;break;case"ArrowUp":a=t?0:-s;break;case"End":a=100;break;case"Home":a=-100}return a}return null==s?0:function(e,t,n,s,i){const a="horizontal"===n,r=m4(t,i);n4(r,`No resize handle element found for id "${t}"`);const o=r.getAttribute(i5);n4(o,"Resize handle element has no group id attribute");let{initialCursorPosition:l}=s;const c=f4(n,e),d=p4(o,i);n4(d,`No group element found for id "${o}"`);const u=d.getBoundingClientRect();return(c-l)/(a?u.width:u.height)*100}(e,t,n,s,a)}function v4(e,t,n){t.forEach((t,s)=>{const i=e[s];n4(i,`Panel data not found for index ${s}`);const{callbacks:a,constraints:r,id:o}=i,{collapsedSize:l=0,collapsible:c}=r,d=n[o];if(null==d||t!==d){n[o]=t;const{onCollapse:e,onExpand:s,onResize:i}=a;i&&i(t,d),c&&(e||s)&&(!s||null!=d&&!i4(d,l)||i4(t,l)||s(),!e||null!=d&&i4(d,l)||!i4(t,l)||e())}})}function b4(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!=t[n])return!1;return!0}function y4(e){try{if("undefined"==typeof localStorage)throw new Error("localStorage not supported in this environment");e.getItem=e=>localStorage.getItem(e),e.setItem=(e,t)=>{localStorage.setItem(e,t)}}catch(t){e.getItem=()=>null,e.setItem=()=>{}}}function w4(e){return`react-resizable-panels:${e}`}function j4(e){return e.map(e=>{const{constraints:t,id:n,idIsFromProps:s,order:i}=e;return s?n:i?`${i}:${JSON.stringify(t)}`:JSON.stringify(t)}).sort((e,t)=>e.localeCompare(t)).join(",")}function C4(e,t){try{const n=w4(e),s=t.getItem(n);if(s){const e=JSON.parse(s);if("object"==typeof e&&null!=e)return e}}catch(n){}return null}function N4(e,t,n,s,i){var a;const r=w4(e),o=j4(t),l=null!==(a=C4(e,i))&&void 0!==a?a:{};l[o]={expandToSizes:Object.fromEntries(n.entries()),layout:s};try{i.setItem(r,JSON.stringify(l))}catch(c){}}function F4({layout:e,panelConstraints:t}){const n=[...e],s=n.reduce((e,t)=>e+t,0);if(n.length!==t.length)throw Error(`Invalid ${t.length} panel layout: ${n.map(e=>`${e}%`).join(", ")}`);if(!a4(s,100)&&n.length>0)for(let a=0;a<t.length;a++){const e=n[a];n4(null!=e,`No layout data found for index ${a}`);const t=100/s*e;n[a]=t}let i=0;for(let a=0;a<t.length;a++){const e=n[a];n4(null!=e,`No layout data found for index ${a}`);const s=r4({panelConstraints:t,panelIndex:a,size:e});e!=s&&(i+=e-s,n[a]=s)}if(!a4(i,0))for(let a=0;a<t.length;a++){const e=n[a];n4(null!=e,`No layout data found for index ${a}`);const s=r4({panelConstraints:t,panelIndex:a,size:e+i});if(e!==s&&(i-=s-e,n[a]=s,a4(i,0)))break}return n}const _4={getItem:e=>(y4(_4),_4.getItem(e)),setItem:(e,t)=>{y4(_4),_4.setItem(e,t)}},k4={};function S4({autoSaveId:e=null,children:t,className:n="",direction:s,forwardedRef:i,id:a=null,onLayout:r=null,keyboardResizeBy:o=null,storage:l=_4,style:c,tagName:d="div",...u}){const p=v5(a),m=De.useRef(null),[h,x]=De.useState(null),[f,g]=De.useState([]),v=function(){const[e,t]=De.useState(0);return De.useCallback(()=>t(e=>e+1),[])}(),b=De.useRef({}),y=De.useRef(new Map),w=De.useRef(0),j=De.useRef({autoSaveId:e,direction:s,dragState:h,id:p,keyboardResizeBy:o,onLayout:r,storage:l}),C=De.useRef({layout:f,panelDataArray:[],panelDataArrayChanged:!1});De.useRef({didLogIdAndOrderWarning:!1,didLogPanelConstraintsWarning:!1,prevPanelIds:[]}),De.useImperativeHandle(i,()=>({getId:()=>j.current.id,getLayout:()=>{const{layout:e}=C.current;return e},setLayout:e=>{const{onLayout:t}=j.current,{layout:n,panelDataArray:s}=C.current,i=F4({layout:e,panelConstraints:s.map(e=>e.constraints)});x4(n,i)||(g(i),C.current.layout=i,t&&t(i),v4(s,i,b.current))}}),[]),h5(()=>{j.current.autoSaveId=e,j.current.direction=s,j.current.dragState=h,j.current.id=p,j.current.onLayout=r,j.current.storage=l}),h4({committedValuesRef:j,eagerValuesRef:C,groupId:p,layout:f,panelDataArray:C.current.panelDataArray,setLayout:g,panelGroupElement:m.current}),De.useEffect(()=>{const{panelDataArray:t}=C.current;if(e){if(0===f.length||f.length!==t.length)return;let n=k4[e];null==n&&(n=function(e,t=10){let n=null;return(...s)=>{null!==n&&clearTimeout(n),n=setTimeout(()=>{e(...s)},t)}}(N4,100),k4[e]=n);const s=[...t],i=new Map(y.current);n(e,s,i,f,l)}},[e,f,l]),De.useEffect(()=>{});const N=De.useCallback(e=>{const{onLayout:t}=j.current,{layout:n,panelDataArray:s}=C.current;if(e.constraints.collapsible){const i=s.map(e=>e.constraints),{collapsedSize:a=0,panelSize:r,pivotIndices:o}=A4(s,e,n);if(n4(null!=r,`Panel size not found for panel "${e.id}"`),!i4(r,a)){y.current.set(e.id,r);const l=o4({delta:I4(s,e)===s.length-1?r-a:a-r,initialLayout:n,panelConstraints:i,pivotIndices:o,prevLayout:n,trigger:"imperative-api"});b4(n,l)||(g(l),C.current.layout=l,t&&t(l),v4(s,l,b.current))}}},[]),F=De.useCallback((e,t)=>{const{onLayout:n}=j.current,{layout:s,panelDataArray:i}=C.current;if(e.constraints.collapsible){const a=i.map(e=>e.constraints),{collapsedSize:r=0,panelSize:o=0,minSize:l=0,pivotIndices:c}=A4(i,e,s),d=null!=t?t:l;if(i4(o,r)){const t=y.current.get(e.id),r=null!=t&&t>=d?t:d,l=o4({delta:I4(i,e)===i.length-1?o-r:r-o,initialLayout:s,panelConstraints:a,pivotIndices:c,prevLayout:s,trigger:"imperative-api"});b4(s,l)||(g(l),C.current.layout=l,n&&n(l),v4(i,l,b.current))}}},[]),_=De.useCallback(e=>{const{layout:t,panelDataArray:n}=C.current,{panelSize:s}=A4(n,e,t);return n4(null!=s,`Panel size not found for panel "${e.id}"`),s},[]),k=De.useCallback((e,t)=>{const{panelDataArray:n}=C.current,s=I4(n,e);return function({defaultSize:e,dragState:t,layout:n,panelData:s,panelIndex:i,precision:a=3}){const r=n[i];let o;return o=null==r?null!=e?e.toFixed(a):"1":1===s.length?"1":r.toFixed(a),{flexBasis:0,flexGrow:o,flexShrink:1,overflow:"hidden",pointerEvents:null!==t?"none":void 0}}({defaultSize:t,dragState:h,layout:f,panelData:n,panelIndex:s})},[h,f]),S=De.useCallback(e=>{const{layout:t,panelDataArray:n}=C.current,{collapsedSize:s=0,collapsible:i,panelSize:a}=A4(n,e,t);return n4(null!=a,`Panel size not found for panel "${e.id}"`),!0===i&&i4(a,s)},[]),E=De.useCallback(e=>{const{layout:t,panelDataArray:n}=C.current,{collapsedSize:s=0,collapsible:i,panelSize:a}=A4(n,e,t);return n4(null!=a,`Panel size not found for panel "${e.id}"`),!i||s4(a,s)>0},[]),I=De.useCallback(e=>{const{panelDataArray:t}=C.current;t.push(e),t.sort((e,t)=>{const n=e.order,s=t.order;return null==n&&null==s?0:null==n?-1:null==s?1:n-s}),C.current.panelDataArrayChanged=!0,v()},[v]);h5(()=>{if(C.current.panelDataArrayChanged){C.current.panelDataArrayChanged=!1;const{autoSaveId:e,onLayout:t,storage:n}=j.current,{layout:s,panelDataArray:i}=C.current;let a=null;if(e){const t=function(e,t,n){var s,i;return null!==(i=(null!==(s=C4(e,n))&&void 0!==s?s:{})[j4(t)])&&void 0!==i?i:null}(e,i,n);t&&(y.current=new Map(Object.entries(t.expandToSizes)),a=t.layout)}null==a&&(a=function({panelDataArray:e}){const t=Array(e.length),n=e.map(e=>e.constraints);let s=0,i=100;for(let a=0;a<e.length;a++){const e=n[a];n4(e,`Panel constraints not found for index ${a}`);const{defaultSize:r}=e;null!=r&&(s++,t[a]=r,i-=r)}for(let a=0;a<e.length;a++){const r=n[a];n4(r,`Panel constraints not found for index ${a}`);const{defaultSize:o}=r;if(null!=o)continue;const l=i/(e.length-s);s++,t[a]=l,i-=l}return t}({panelDataArray:i}));const r=F4({layout:a,panelConstraints:i.map(e=>e.constraints)});x4(s,r)||(g(r),C.current.layout=r,t&&t(r),v4(i,r,b.current))}}),h5(()=>{const e=C.current;return()=>{e.layout=[]}},[]);const A=De.useCallback(e=>{let t=!1;const n=m.current;if(n){"rtl"===window.getComputedStyle(n,null).getPropertyValue("direction")&&(t=!0)}return function(n){n.preventDefault();const s=m.current;if(!s)return()=>null;const{direction:i,dragState:a,id:r,keyboardResizeBy:o,onLayout:l}=j.current,{layout:c,panelDataArray:d}=C.current,{initialLayout:u}=null!=a?a:{},p=u4(r,e,s);let h=g4(n,e,i,a,o,s);const x="horizontal"===i;x&&t&&(h=-h);const f=o4({delta:h,initialLayout:null!=u?u:c,panelConstraints:d.map(e=>e.constraints),pivotIndices:p,prevLayout:c,trigger:F5(n)?"keyboard":"mouse-or-touch"}),v=!b4(c,f);(_5(n)||k5(n))&&w.current!=h&&(w.current=h,J5(e,v||0===h?0:x?h<0?P5:R5:h<0?O5:z5)),v&&(g(f),C.current.layout=f,l&&l(f),v4(d,f,b.current))}},[]),T=De.useCallback((e,t)=>{const{onLayout:n}=j.current,{layout:s,panelDataArray:i}=C.current,a=i.map(e=>e.constraints),{panelSize:r,pivotIndices:o}=A4(i,e,s);n4(null!=r,`Panel size not found for panel "${e.id}"`);const l=o4({delta:I4(i,e)===i.length-1?r-t:t-r,initialLayout:s,panelConstraints:a,pivotIndices:o,prevLayout:s,trigger:"imperative-api"});b4(s,l)||(g(l),C.current.layout=l,n&&n(l),v4(i,l,b.current))},[]),D=De.useCallback((e,t)=>{const{layout:n,panelDataArray:s}=C.current,{collapsedSize:i=0,collapsible:a}=t,{collapsedSize:r=0,collapsible:o,maxSize:l=100,minSize:c=0}=e.constraints,{panelSize:d}=A4(s,e,n);null!=d&&(a&&o&&i4(d,i)?i4(i,r)||T(e,r):d<c?T(e,c):d>l&&T(e,l))},[T]),M=De.useCallback((e,t)=>{const{direction:n}=j.current,{layout:s}=C.current;if(!m.current)return;const i=m4(e,m.current);n4(i,`Drag handle element not found for id "${e}"`);const a=f4(n,t);x({dragHandleId:e,dragHandleRect:i.getBoundingClientRect(),initialCursorPosition:a,initialLayout:s})},[]),L=De.useCallback(()=>{x(null)},[]),P=De.useCallback(e=>{const{panelDataArray:t}=C.current,n=I4(t,e);n>=0&&(t.splice(n,1),delete b.current[e.id],C.current.panelDataArrayChanged=!0,v())},[v]),R=De.useMemo(()=>({collapsePanel:N,direction:s,dragState:h,expandPanel:F,getPanelSize:_,getPanelStyle:k,groupId:p,isPanelCollapsed:S,isPanelExpanded:E,reevaluatePanelConstraints:D,registerPanel:I,registerResizeHandle:A,resizePanel:T,startDragging:M,stopDragging:L,unregisterPanel:P,panelGroupElement:m.current}),[N,h,s,F,_,k,p,S,E,D,I,A,T,M,L,P]),O={display:"flex",flexDirection:"horizontal"===s?"row":"column",height:"100%",overflow:"hidden",width:"100%"};return De.createElement(t5.Provider,{value:R},De.createElement(d,{...u,children:t,className:n,id:a,ref:m,style:{...O,...c},[n5]:"",[s5]:s,[i5]:p}))}const E4=De.forwardRef((e,t)=>De.createElement(S4,{...e,forwardedRef:t}));function I4(e,t){return e.findIndex(e=>e===t||e.id===t.id)}function A4(e,t,n){const s=I4(e,t),i=s===e.length-1?[s-1,s]:[s,s+1],a=n[s];return{...t.constraints,panelSize:a,pivotIndices:i}}function T4({children:e=null,className:t="",disabled:n=!1,hitAreaMargins:s,id:i,onBlur:a,onClick:r,onDragging:o,onFocus:l,onPointerDown:c,onPointerUp:d,style:u={},tabIndex:p=0,tagName:m="div",...h}){var x,f;const g=De.useRef(null),v=De.useRef({onClick:r,onDragging:o,onPointerDown:c,onPointerUp:d});De.useEffect(()=>{v.current.onClick=r,v.current.onDragging=o,v.current.onPointerDown=c,v.current.onPointerUp=d});const b=De.useContext(t5);if(null===b)throw Error("PanelResizeHandle components must be rendered within a PanelGroup container");const{direction:y,groupId:w,registerResizeHandle:j,startDragging:C,stopDragging:N,panelGroupElement:F}=b,_=v5(i),[k,S]=De.useState("inactive"),[E,I]=De.useState(!1),[A,T]=De.useState(null),D=De.useRef({state:k});h5(()=>{D.current.state=k}),De.useEffect(()=>{if(n)T(null);else{const e=j(_);T(()=>e)}},[n,_,j]);const M=null!==(x=null==s?void 0:s.coarse)&&void 0!==x?x:15,L=null!==(f=null==s?void 0:s.fine)&&void 0!==f?f:5;De.useEffect(()=>{if(n||null==A)return;const e=g.current;n4(e,"Element ref not attached");let t=!1;return function(e,t,n,s,i){var a;const{ownerDocument:r}=t,o={direction:n,element:t,hitAreaMargins:s,setResizeHandlerState:i},l=null!==(a=U5.get(r))&&void 0!==a?a:0;return U5.set(r,l+1),W5.add(o),e4(),function(){var t;V5.delete(e),W5.delete(o);const n=null!==(t=U5.get(r))&&void 0!==t?t:1;if(U5.set(r,n-1),e4(),1===n&&U5.delete(r),H5.includes(o)){const e=H5.indexOf(o);e>=0&&H5.splice(e,1),Q5(),i("up",!0,null)}}}(_,e,y,{coarse:M,fine:L},(e,n,s)=>{if(n)switch(e){case"down":{S("drag"),t=!1,n4(s,'Expected event to be defined for "down" action'),C(_,s);const{onDragging:e,onPointerDown:n}=v.current;null==e||e(!0),null==n||n();break}case"move":{const{state:e}=D.current;t=!0,"drag"!==e&&S("hover"),n4(s,'Expected event to be defined for "move" action'),A(s);break}case"up":{S("hover"),N();const{onClick:e,onDragging:n,onPointerUp:s}=v.current;null==n||n(!1),null==s||s(),t||null==e||e();break}}else S("inactive")})},[M,y,n,L,j,_,A,C,N]),function({disabled:e,handleId:t,resizeHandler:n,panelGroupElement:s}){De.useEffect(()=>{if(e||null==n||null==s)return;const i=m4(t,s);if(null==i)return;const a=e=>{if(!e.defaultPrevented)switch(e.key){case"ArrowDown":case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"End":case"Home":e.preventDefault(),n(e);break;case"F6":{e.preventDefault();const n=i.getAttribute(i5);n4(n,`No group element found for id "${n}"`);const a=c4(n,s),r=d4(n,t,s);n4(null!==r,`No resize element found for id "${t}"`),a[e.shiftKey?r>0?r-1:a.length-1:r+1<a.length?r+1:0].focus();break}}};return i.addEventListener("keydown",a),()=>{i.removeEventListener("keydown",a)}},[s,e,t,n])}({disabled:n,handleId:_,resizeHandler:A,panelGroupElement:F});return De.createElement(m,{...h,children:e,className:t,id:i,onBlur:()=>{I(!1),null==a||a()},onFocus:()=>{I(!0),null==l||l()},ref:g,role:"separator",style:{touchAction:"none",userSelect:"none",...u},tabIndex:p,[s5]:y,[i5]:w,[c5]:"",[d5]:"drag"===k?"pointer":E?"keyboard":void 0,[u5]:!n,[p5]:_,[m5]:k})}function D4({className:e,...t}){return n.jsx(E4,{"data-slot":"resizable-panel-group",className:fb("flex h-full w-full data-[panel-group-direction=vertical]:flex-col",e),...t})}function M4({...e}){return n.jsx(y5,{"data-slot":"resizable-panel",...e})}function L4({isVisible:e=!0,animationConfig:t={type:"spring",stiffness:300,damping:30,mass:.8,bounce:.1},exitDelay:s=400,onAnimationComplete:i,onResize:a,isDragging:r=!1,children:o,className:l,...c}){const[d,u]=De.useState(e),[p,m]=De.useState(!1),[h,x]=De.useState(30),[f,g]=De.useState(!1);return De.useEffect(()=>{if(e)u(!0),m(!1);else if(d&&!p){m(!0);const e=setTimeout(()=>{u(!1),m(!1),null==i||i()},s);return()=>clearTimeout(e)}},[e,d,s,i,p]),De.useEffect(()=>{g(r)},[r]),d||p?n.jsx(Pt.div,{className:"h-full overflow-hidden",initial:{width:0},animate:{width:e&&!p?`${h}%`:0},exit:{width:0},transition:r?{duration:0,ease:"linear"}:t,onAnimationComplete:()=>{e||!p||r||(u(!1),m(!1),null==i||i())},children:n.jsx(y5,{"data-slot":"resizable-panel",className:fb("h-full w-full",l),onResize:e=>{x(e),null==a||a(e)},...c,children:n.jsx(Pt.div,{initial:{x:"100%",opacity:0},animate:r?{x:0,opacity:1}:{x:e?0:"100%",opacity:e?1:0},transition:r?{duration:0}:{...t,delay:e?.1:0},className:"w-full h-full",children:o},"animated-panel-content")})}):null}function P4({isVisible:e=!0,animationConfig:t={type:"spring",stiffness:300,damping:30,mass:.8},withHandle:s,className:i,onDragging:a,...r}){const[o,l]=De.useState(!1),c=De.useCallback(e=>{l(e),null==a||a(e)},[a]);return n.jsx(Rt,{children:e&&n.jsx(Pt.div,{initial:{opacity:0,width:0},animate:{opacity:1,width:"auto"},exit:{opacity:0,width:0},transition:t,children:n.jsx(T4,{"data-slot":"resizable-handle",className:fb("bg-border h-full focus-visible:ring-ring relative flex w-px items-center justify-center after:absolute after:inset-y-0 after:left-1/2 after:w-1 after:-translate-x-1/2 focus-visible:ring-1 focus-visible:ring-offset-1 focus-visible:outline-hidden data-[panel-group-direction=vertical]:h-px data-[panel-group-direction=vertical]:w-full data-[panel-group-direction=vertical]:after:left-0 data-[panel-group-direction=vertical]:after:h-1 data-[panel-group-direction=vertical]:after:w-full data-[panel-group-direction=vertical]:after:translate-x-0 data-[panel-group-direction=vertical]:after:-translate-y-1/2 [&[data-panel-group-direction=vertical]>div]:rotate-90 group hover:bg-[#00CCAF]/60 data-[resize-handle-state=drag]:bg-[#00CCAF]/60 transition-colors duration-200",i),...r,onDragging:c,children:s&&n.jsx("div",{className:fb("group-hover:bg-[#00CCAF] z-10 min-w-2 min-h-6 border bg-[#242424] border-[#242424] rounded-md hover:bg-[#00CCAF] hover:border-[#00CCAF] data-[resize-handle-state=drag]:bg-[#00CCAF] data-[resize-handle-state=drag]:border-[#00CCAF] transition-all duration-200",o?"bg-[#00CCAF]":"")})})})})}S4.displayName="PanelGroup",E4.displayName="forwardRef(PanelGroup)",T4.displayName="PanelResizeHandle";const R4=gv.common.refresh,O4=gv.fork.dropdownCyan,z4=gv.icons.animatedSpinner,B4=gv.fork.matrixCode,H4=gv.fork.firstState,$4=gv.fork.completed,U4=gv.fork.forkFill,V4=gv.fork.forkRed,W4=gv.fork.session,q4=gv.fork.summary,G4=gv.fork.forkedFrom,Z4=new Map,Y4=De.memo(({isDropdownOpen:e,setIsDropdownOpen:t,state:s,message:i,forked:a,onViewSummary:r,currentJobId:o,messages:l=[],onOpenForkModal:c,onOpenForkModalWithSummary:d,disabled:u,isLastMessage:p})=>{const{openJobTab:m}=(()=>{const{setTabs:e,setActiveTab:t,getTabByJobId:n,updateTabState:s}=Oee(),i=Me(),[a]=Hx(),{getCurrentOrganizationId:r}=Kg(),{newToast:o}=tD(),{user:l}=Wg(),c=eI();return{openJobTab:De.useCallback(async(d,u)=>{var p,m,h,x,f,g,v;try{const b=n(d);if(b)return void t(b.id);const y=await a(d);if("error"in y)return void o.error((null==(p=null==y?void 0:y.error)?void 0:p.error)||"Failed to fetch job details");const w=y.data;if(!w)return;if(!w.payload.task)return;if(!w.payload.container_id&&!w.id)return;const j=w.id,C=`/root/runs/${w.id}/trajectory.json`;let N=null;w.payload.forked_from?N={parent_job_id:w.payload.forked_from,parent_job_title:null}:(null==(m=w.payload.forked)?void 0:m.parent_job_id)&&(N=w.payload.forked);const F=null==l?void 0:l.id,_=w.created_by,k=r(),S=w.organization_id||(null==(h=w.payload)?void 0:h.organization_id),E=k&&S&&k===S,I=u||w._openedInAdminMode||c&&F&&_&&F!==_&&!E,A=w.organization_id||(null==(x=w.payload)?void 0:x.organization_id),T={containerId:w.payload.container_id||w.id,initial_commit_id:w.payload.initial_commit_id,task:w.payload.task,jobId:d,trajPath:C,tabId:j,fromJobList:!0,isCloudFlow:null==(f=w.payload)?void 0:f.is_cloud,clientRefId:w.client_ref_id,modelName:w.payload.model_name,promptName:w.payload.prompt_name,promptVersion:w.payload.prompt_version,costLimit:w.payload.per_instance_cost_limit,agentName:w.payload.agent_name,portMapping:w.payload.portMapping,created_by:w.created_by,forked:N,isAdminModeJob:I,originalOrganizationId:I?A:void 0,originalOrganizationName:I?w.organization_name||(null==(g=w.payload)?void 0:g.organization_name):void 0};let D,M,L,P;I?(D="user",M=void 0,P=void 0,L="/chat"):(D=A?"organization":"user",M=S||k,P=w.organization_name||(null==(v=w.payload)?void 0:v.organization_name),L=M?`/workspace/${M}/chat`:"/chat"),e(e=>{var t;return[...e,{id:j,title:`${(null==(t=w.payload)?void 0:t.original_task)||w.payload.task}`,tabHeading:w.title||"Task",path:L,level:D,organization_id:M,organization_name:P,created_by:w.created_by,state:T}]}),s(j,T),t(j),i(`${L}?id=${d}`)}catch(b){}},[e,t,n,i,r,l,o,a,s,c])}})(),{newToast:h}=tD(),[x,f]=De.useState(0),[g,v]=De.useState(0),b=De.useRef(null),y=De.useRef([]),w=[{pending:"Initializing fork process...",running:"Initializing fork process...",completed:"Fork process initialized"},{pending:"Copying project files...",running:"Copying project files...",completed:"Project files copied"},{pending:"Setting up workspace...",running:"Setting up workspace...",completed:"Workspace ready"},{pending:"Finalizing environment...",running:"Finalizing environment...",completed:"Environment finalized"}],j=e=>e<g?"completed":e===g?"running":"pending",C=e=>{const t=j(e);return w[e][t]};De.useEffect(()=>{const e=(null==i?void 0:i.forked_job_id)||(null==i?void 0:i.forked_from);return!("running"!==s||i&&e)&&(null==i?void 0:i.timestamp)?(0===y.current.length&&(y.current=(()=>{const e=[];let t=0;for(let n=0;n<w.length;n++)t+=Math.floor(10*Math.random())+10,e.push(t);return e})()),b.current&&clearInterval(b.current),b.current=setInterval(()=>{const e=new Date,t=new Date(i.timestamp),n=Math.floor((e.getTime()-t.getTime())/1e3);f(n);let s=0;for(let i=0;i<y.current.length&&n>=y.current[i];i++)s=i+1;v(Math.min(s,w.length-1))},1e3)):(b.current&&(clearInterval(b.current),b.current=null),"running"!==s&&(f(0),v(0),y.current=[])),()=>{b.current&&clearInterval(b.current)}},[s,null==i?void 0:i.forked_job_id,null==i?void 0:i.forked_from,null==i?void 0:i.timestamp,w.length]),De.useEffect(()=>{const e=`${o}-${null==i?void 0:i.timestamp}`;if(!e||!o||!(null==i?void 0:i.timestamp))return;const t=Z4.get(e)||{lastState:null,hasTransitionedToCompleted:!1,autoOpened:!1},n={...t,lastState:s};"running"===t.lastState&&"completed"===s&&(n.hasTransitionedToCompleted=!0);const a=(null==i?void 0:i.forked_job_id)||(null==i?void 0:i.forked_from);"completed"===s&&a&&"failed"!==i.fork_status&&p&&n.hasTransitionedToCompleted&&!n.autoOpened&&(n.autoOpened=!0,(()=>{if(Z4.size>100){const e=Array.from(Z4.entries());Z4.clear(),e.slice(-50).forEach(([e,t])=>Z4.set(e,t))}})(),m(a)),Z4.set(e,n)},[s,null==i?void 0:i.forked_job_id,null==i?void 0:i.forked_from,null==i?void 0:i.fork_status,null==i?void 0:i.timestamp,o,p,m]);const N=e=>{const t=Math.floor(e/60),n=e%60;return t>0?`${t}m ${n}s`:`${n}s`},F=async()=>{const e=(null==i?void 0:i.forked_job_id)||(null==i?void 0:i.forked_from);e&&await m(e)},_=async()=>{let e=null;(null==a?void 0:a.parent_job_id)?e=a.parent_job_id:(null==i?void 0:i.parent_job_id)?e=i.parent_job_id:(null==a?void 0:a.forked_from)&&(e=a.forked_from),e&&await m(e)},k=async()=>{var e,t;if(!d)return void(null==r||r());let n;if("forked"===s&&o?n=o:(null==i?void 0:i.forked_job_id)?n=i.forked_job_id:(null==i?void 0:i.forked_from)?n=i.forked_from:o&&(n=o),n)try{const e=await nm(n);d(n,e.summary||"")}catch(a){h.error((null==(t=null==(e=null==a?void 0:a.response)?void 0:e.data)?void 0:t.detail)||(null==a?void 0:a.message)||"Failed to fetch job details",4e3)}};return"running"==s?n.jsx("div",{className:"relative flex items-center justify-center w-full mb-[2rem]",children:n.jsxs(Pt.div,{className:"mt-[1rem] relative flex justify-center px-4 items-center w-full overflow-hidden bg-[#80fff908]",animate:{minHeight:e?"180px":"72px"},transition:{duration:.4,ease:[.25,.1,.25,1]},children:[n.jsxs("div",{className:"absolute flex overflow-hidden top-0 bottom-0 left-0 right-0 w-full opacity-20 h-[280px]",children:[n.jsx("img",{src:B4,alt:"Matrix Code",className:"object-cover h-[280px]"}),n.jsx("img",{src:B4,alt:"Matrix Code",className:"object-cover h-[280px] rotate-180"}),n.jsx("img",{src:B4,alt:"Matrix Code",className:"object-cover h-[280px] "}),n.jsx("img",{src:B4,alt:"Matrix Code",className:"object-cover h-[280px] rotate-180"}),n.jsx("img",{src:B4,alt:"Matrix Code",className:"object-cover h-[280px] "}),n.jsx("img",{src:B4,alt:"Matrix Code",className:"object-cover h-[280px] rotate-180"}),n.jsx("img",{src:B4,alt:"Matrix Code",className:"object-cover h-[280px]"}),n.jsx("img",{src:B4,alt:"Matrix Code",className:"object-cover h-[280px] rotate-180"})]}),n.jsxs(Pt.div,{className:"w-full max-w-4xl z-[10] flex flex-col gap-[10px] justify-center py-[20px]",animate:{minHeight:e?"180px":"72px"},transition:{duration:.4,ease:[.25,.1,.25,1]},children:[n.jsxs("div",{className:"flex items-center justify-between w-full cursor-pointer",onClick:()=>t(!e),children:[n.jsxs("div",{className:"flex justify-start items-center max-md:flex-col max-md:items-center gap-1 md:gap-2 z-[10]",children:[n.jsxs("button",{type:"button",className:"flex items-center gap-2 transition-opacity hover:opacity-80",children:[n.jsx(Pt.img,{src:O4,alt:"Dropdown",className:"w-6 h-6",animate:{rotate:e?90:0},transition:{duration:.3,ease:[.25,.1,.25,1]}}),n.jsx("span",{className:"text-[#80FFF9] text-left max-md:text-[14px] font-medium tracking-[0.2px] drop-shadow-[0px_0px_40px_rgba(128,255,249,0.4)]",children:"Forking a new session"})]}),n.jsxs(Pt.span,{className:"text-[#80FFF980] max-md:text-[13px] text-[14px] font-jetbrains font-medium",animate:{opacity:e?0:1,x:e?-10:0},transition:{duration:.3,ease:[.25,.1,.25,1]},children:[" ",g<w.length?C(g):"Finalizing..."]})]}),n.jsxs("div",{className:"flex items-center gap-4 z-[10]",children:[n.jsx("span",{className:"text-[#80FFF980] font-jetbrains font-medium text-[14px]",children:N(x)}),n.jsx("div",{className:"flex items-center gap-2 bg-[#80FFF91A] rounded-[10px] h-8 w-8 justify-center",children:n.jsx("img",{src:z4,alt:"Loading",className:"w-6 h-6"})})]})]}),n.jsx(Rt,{children:e&&n.jsx(Pt.div,{className:"flex flex-col gap-[10px] z-[10]",initial:{opacity:0,height:0,y:-10},animate:{opacity:1,height:"auto",y:0},exit:{opacity:0,height:0,y:-10},transition:{duration:.4,ease:[.25,.1,.25,1]},children:w.map((e,t)=>{const s=j(t),i=C(t);return n.jsxs(Pt.div,{className:fb("flex items-center gap-2 transition-colors rounded-md","pending"===s?"opacity-50":"completed"===s?"opacity-75":""),initial:{opacity:0,x:-20},animate:{opacity:"pending"===s?.5:"completed"===s?.75:1,x:0},transition:{duration:.3,delay:.1*t,ease:[.25,.1,.25,1]},children:[n.jsx("img",{src:"completed"===s?$4:"running"===s?z4:H4,alt:"Step",className:"w-6 h-6"}),n.jsx("span",{className:fb("text-[14px] font-jetbrains font-medium drop-shadow-[0px_0px_40px_rgba(128,255,249,0.4)]","text-[#80FFF9]"),children:i})]},t)})})})]})]})}):"completed"==s?n.jsx("div",{className:"relative flex items-center justify-center w-full",children:n.jsx("div",{className:"mt-[1rem] bg-gradient-to-r px-4 from-[#80FFF901] via-[#80FFF915] to-[#80FFF901] relative flex justify-center items-center w-full transition-all duration-300 overflow-hidden",children:n.jsx("div",{className:"w-full max-w-4xl z-[10] flex flex-col transition-all duration-300  min-h-[72px]",children:n.jsxs("div",{className:"flex items-center justify-between w-full h-[72px]",children:[n.jsx("div",{className:"flex items-center gap-2 z-[10]",children:n.jsxs("button",{type:"button",className:"flex items-center justify-center gap-2 transition-opacity pointer-events-none hover:opacity-80",children:[n.jsx("img",{src:U4,alt:"Dropdown",className:"w-6 h-6 transition-transform duration-200}"}),n.jsx("span",{className:"text-[#80FFF9] font-medium tracking-[0.2px] drop-shadow-[0px_0px_40px_rgba(128,255,249,0.4)]",children:"Session forked successfully"})]})}),n.jsxs("div",{className:"flex items-center gap-2 z-[10]",children:[n.jsx("button",{title:"View Summary",className:"group h-[32px] flex items-center justify-center hover:cursor-pointer py-2 px-[10px] bg-[#FFFFFF1A] rounded-[8px] hover:bg-white/20 transition-colors duration-200",onClick:k,children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("img",{alt:"preview",src:q4,className:"w-5 h-5"}),n.jsx("span",{className:"hidden text-[15px] font-medium font-['Inter'] text-[#FFFFFF] md:block",children:"View Summary"})]})}),n.jsx("button",{title:"View Session",className:"group h-[32px] py-2 flex items-center justify-center hover:cursor-pointer px-[10px] bg-[#80FFF91A] rounded-[8px] hover:bg-[#80FFF9]/20 transition-colors duration-200",children:n.jsxs("div",{className:"flex items-center gap-2",onClick:F,children:[n.jsx("img",{alt:"preview",src:W4,className:"w-4 h-4"}),n.jsx("span",{className:"hidden text-[15px] font-medium font-['Inter'] text-[#80FFF9] md:block",children:"View Session"})]})})]})]})})})}):"error"==s?n.jsx("div",{className:"relative flex items-center justify-center w-full",children:n.jsx("div",{className:"mt-[1rem] bg-gradient-to-r px-4 from-[#FF808001] via-[#FF808015] to-[#FF808001] relative flex justify-center items-center w-full transition-all duration-300 overflow-hidden",children:n.jsx("div",{className:"w-full max-w-4xl z-[10] flex flex-col transition-all duration-300  min-h-[72px]",children:n.jsxs("div",{className:"flex items-center justify-between w-full h-[72px]",children:[n.jsx("div",{className:"flex items-center gap-2 z-[10]",children:n.jsxs("button",{type:"button",className:"flex items-center gap-2 transition-opacity pointer-events-none hover:opacity-80",children:[n.jsx("img",{src:V4,alt:"Dropdown",className:"w-6 h-6 scale-[2] transition-transform duration-200}"}),n.jsx("span",{className:"text-[#FF8080] font-medium tracking-[0.2px] drop-shadow-[0px_0px_40px_rgba(128,255,249,0.4)]",children:"Failed to fork session"})]})}),n.jsx("div",{className:"flex items-center gap-2 z-[10]",children:n.jsx(wb,{variant:"default",disabled:u,className:"group h-[32px] py-2 px-[10px] bg-[#FFFFFF1A] rounded-[8px] hover:bg-[#FFFFFF]/20 transition-colors duration-200 disabled:cursor-not-allowed disabled:opacity-50",onClick:()=>{o&&l&&(null==c||c(o,l))},children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("img",{alt:"preview",src:R4,className:"w-4 h-4"}),n.jsx("span",{className:"hidden text-[15px] font-medium font-['Inter'] text-[#fff] md:block",children:"Retry Fork"})]})})})]})})})}):"forked"==s?n.jsx("div",{className:"relative flex items-center justify-center w-full mt-4",children:n.jsx(Pt.div,{className:"bg-gradient-to-r px-4 from-[#80FFF901] via-[#80FFF915] to-[#80FFF901] relative flex justify-center items-center w-full overflow-hidden",animate:{minHeight:e?"180px":"72px"},transition:{duration:.4,ease:[.25,.1,.25,1]},children:n.jsx(Pt.div,{className:"w-full max-w-4xl z-[10] flex flex-col min-h-[72px]",animate:{minHeight:e?"180px":"72px"},transition:{duration:.4,ease:[.25,.1,.25,1]},children:n.jsxs("div",{className:"flex items-center justify-between w-full h-[72px]",children:[n.jsxs("div",{className:"flex items-center gap-2 z-[10] flex-1 min-w-0",children:[n.jsxs("button",{type:"button",className:"flex items-center flex-shrink-0 gap-3 transition-opacity pointer-events-none hover:opacity-80",children:[n.jsx("div",{className:"md:w-[40px] md:h-[40px] flex items-center justify-center",children:n.jsx("img",{src:U4,alt:"Dropdown",className:"w-5 h-5 md:w-8 md:h-8"})}),n.jsx("span",{className:"text-[#80FFF9] max-md:text-[14px]  text-nowrap font-medium tracking-[0.2px] drop-shadow-[0px_0px_40px_rgba(128,255,249,0.4)]",children:"Forked from"})]}),n.jsxs("button",{type:"button",className:"flex items-center flex-1 min-w-0 gap-2 transition-opacity pointer-events-none hover:opacity-80",children:[n.jsx(Pt.img,{src:G4,alt:"Dropdown",className:"flex-shrink-0 w-4 h-4 md:w-6 md:h-6",animate:{rotate:e?90:0},transition:{duration:.3,ease:[.25,.1,.25,1]}}),n.jsx("span",{className:fb("text-[#fff] max-md:text-[14px] font-medium capitalize tracking-[0.2px] drop-shadow-[0px_0px_40px_rgba(128,255,249,0.4)] truncate flex-1 min-w-0 text-start",(null==a?void 0:a.parent_job_archived)&&"opacity-60"),children:(null==a?void 0:a.parent_job_archived)?"(Deleted task)":null==a?void 0:a.parent_job_title})]})]}),n.jsxs("div",{className:"flex items-center gap-2 z-[10]",children:[n.jsx("button",{className:"group h-[32px] py-2 flex items-center justify-center px-[10px] bg-[#FFFFFF1A] rounded-[8px] hover:bg-white/20 transition-colors duration-200",onClick:k,children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("img",{alt:"preview",src:q4,className:"w-5 h-5"}),n.jsx("span",{className:"hidden text-[15px] font-medium font-['Inter'] text-[#FFFFFF] md:block",children:"View Summary"})]})}),n.jsx("button",{id:"previous-session-button",className:"group h-[32px] flex items-center justify-center cursor-pointer py-2 px-[10px] bg-[#80FFF91A] rounded-[8px] hover:bg-[#80FFF9]/20 transition-colors duration-200",onClick:_,children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("img",{alt:"preview",src:W4,className:"w-4 h-4"}),n.jsx("span",{className:"hidden text-[15px] font-medium font-['Inter'] text-[#80FFF9] md:block",children:"Previous Session"})]})})]})]})})})}):void 0});function K4({progress:e=.55,className:t="",debug:s=!1,boxClassname:i=""}){const a=De.useRef(null),[r,o]=De.useState(10),[l,c]=De.useState(Math.max(.05,e)),[d,u]=De.useState(0),[p,m]=De.useState(!0),h=De.useRef(Math.max(.05,e)),x=De.useRef(null);De.useEffect(()=>{},[]),De.useEffect(()=>{const t=e<=.1&&h.current>.1;if(!t&&e<=h.current)return;if(t)return h.current=Math.max(.05,e),void c(Math.max(.05,e));const n=h.current,s=e,i=performance.now();x.current&&cancelAnimationFrame(x.current);const a=e=>{const t=e-i,r=Math.min(t/800,1),o=n+(s-n)*(1-(1-r)*(1-r));h.current=o,c(o),x.current=r<1?requestAnimationFrame(a):null};return x.current=requestAnimationFrame(a),()=>{x.current&&(cancelAnimationFrame(x.current),x.current=null)}},[e,l,s]),De.useEffect(()=>{const e=()=>{if(!a.current)return;const e=a.current.offsetWidth;u(e);const t=window.innerWidth<768;m(t);o(t?10:14)};e();const t=new ResizeObserver(()=>{e()});a.current&&t.observe(a.current),window.addEventListener("resize",e);const n=setTimeout(e,100);return()=>{t.disconnect(),window.removeEventListener("resize",e),clearTimeout(n)}},[s]);const f=Math.round(r*l);return n.jsx("div",{ref:a,className:`md:w-full p-0 md:py-0 ${t}`,children:n.jsx("div",{className:"flex gap-2",children:[...Array(r)].map((e,t)=>n.jsx("div",{className:fb("bg-[#142C33] p-[2px] rounded-[2px] h-[40px] w-[24px]",i),children:n.jsx("div",{className:fb("h-full w-full  rounded-[2px] flex items-center box-radial justify-center transition-colors duration-300 ease-out",t<f?"loader-glow":""),style:{backgroundColor:t<f?"var(--loader-color, #1BB4CC)":"transparent"}})},t))})})}Y4.displayName="ForkBar";const J4=gv.icons.animatedSpinner;function Q4({tasks:e,className:t=""}){const s=e=>{switch(e){case"done":return n.jsx(Uk,{className:"w-5 h-5 text-task-done"});case"running":return n.jsx("img",{src:J4,className:"w-5 h-5",alt:"Loading..."});case"pending":return n.jsx("div",{className:"w-5 h-5 border-2 rounded-full opacity-50 border-task-pending"})}},i=e=>{switch(e){case"done":return"text-task-done";case"running":return"text-task-running";case"pending":return"text-task-pending opacity-50"}};return n.jsx("div",{className:`space-y-4 ${t}`,children:e.map(e=>n.jsxs("div",{className:"flex items-center space-x-3",children:[s(e.status),n.jsx("span",{className:`font-berkeley text-[14px]  md:text-base ${i(e.status)}`,children:e.label})]},e.id))})}const X4=[{id:"cloud-setup",label:"Initializing cloud environment",status:"pending"},{id:"cloud-provision",label:"Provisioning resources",status:"pending"},{id:"cloud-configure",label:"Configuring environment",status:"pending"},{id:"cloud-start",label:"Starting the agent",status:"pending"}];function e3({complete:e=!1,onComplete:t}){const[s,i]=De.useState(X4),[a,r]=De.useState(0),[o,l]=De.useState(14),[c,d]=De.useState(14),[u,p]=De.useState(24),[m,h]=De.useState(40),[x,f]=De.useState(8),g=De.useRef(null),v=De.useRef(0),b=De.useRef(.05),y=De.useRef(0),w=De.useRef(0),j=De.useRef(0),C=De.useRef(90),N=De.useRef(!1),F=De.useRef(!1);De.useEffect(()=>{const e=()=>{window.innerWidth<768?(l(12),d(12),p(18),h(32),f(6)):(l(14),d(14),p(24),h(40),f(8))};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);const _=De.useCallback((e,t)=>{i(n=>n.map(n=>n.id===e?{...n,status:t}:n))},[]),k=[{id:"cloud-setup",label:"Initializing cloud environment",progressPoints:[.05,.08,.12,.17,.22,.25],minDuration:800,maxDuration:1200},{id:"cloud-provision",label:"Provisioning resources",progressPoints:[.25,.29,.34,.38,.42,.45],minDuration:800,maxDuration:1200},{id:"cloud-configure",label:"Configuring environment",progressPoints:[.45,.51,.58,.63,.67,.7,.73,.76,.79,.82,.85,.88,.9],minDuration:600,maxDuration:1e3},{id:"cloud-start",label:"Starting the agent",progressPoints:[.9,.92,.94,.95],minDuration:0,maxDuration:0}],S=De.useCallback(()=>{C.current=65+Math.floor(26*Math.random()),y.current=Date.now(),j.current=Date.now()+Math.floor(200+400*Math.random());const e=()=>{if(F.current)return;const t=Date.now(),n=k[v.current],s=C.current/100;if(b.current>=s){N.current=!0;const t=1e3+1e3*Math.random();return void(g.current=setTimeout(()=>{const n=Math.min(s+.02,b.current+.01);b.current=n,r(n),setTimeout(()=>{F.current||(b.current=s,r(s),g.current=setTimeout(e,t))},500)},t))}const i=t-y.current;if(t>=j.current){const e=n.progressPoints;if(w.current<e.length-1){w.current++;const n=e[w.current];b.current=n,r(n);const s=Math.floor(300+500*Math.random());j.current=t+s}else{if(i>=(a=n.minDuration,o=n.maxDuration,Math.floor(a+Math.random()*(o-a)))){if(_(n.id,"done"),v.current+=1,w.current=0,y.current=t,v.current<k.length){const e=k[v.current];_(e.id,"running");const n=e.progressPoints[0];b.current=n,r(n);const s=Math.floor(300+500*Math.random());j.current=t+s}}else j.current=t+200}}var a,o;g.current=setTimeout(e,100)},t=k[0];_(t.id,"running");const n=t.progressPoints[0];b.current=n,r(n),e()},[_]);return De.useEffect(()=>{if(e&&!F.current){F.current=!0,N.current=!1;const e=t=>{if(t>=k.length)return void setTimeout(()=>{n()},800);const s=k[t],i=(t+1)/k.length,a=Math.min(.95*i,.95);if(t<=v.current)_(s.id,"done"),b.current=a,r(a),setTimeout(()=>{e(t+1)},300);else{_(s.id,"running");const n=a-.05;b.current=n,r(n),setTimeout(()=>{_(s.id,"done"),b.current=a,r(a),setTimeout(()=>{e(t+1)},300)},600)}},n=()=>{const e=b.current,n=Date.now(),s=()=>{const i=Date.now()-n,a=Math.min(i/1500,1),o=e+(1-e)*(1-(1-a)*(1-a));b.current=o,r(o),a<1?requestAnimationFrame(s):t&&setTimeout(()=>{t()},500)};requestAnimationFrame(s)};setTimeout(()=>{e(v.current)},500)}},[e,_,t]),De.useEffect(()=>{const e=setTimeout(()=>{S()},1e3);return()=>{clearTimeout(e),g.current&&clearTimeout(g.current)}},[S]),n.jsx("div",{className:"flex flex-col items-center justify-center w-full max-w-lg min-h-screen p-4 mx-auto my-auto space-y-4 md:space-y-10",children:n.jsxs("div",{className:"flex flex-col space-y-4 md:space-y-10",children:[n.jsxs("div",{className:"space-y-1 text-left md:w-full md:space-y-3",children:[n.jsx("h1",{className:"font-sans text-[22px] md:text-[32px] font-medium leading-[40px] tracking-[-0.64px] text-loader",children:"Setting Up Safe Environment"}),n.jsx("p",{className:"font-berkeley text-[14px] md:text-base text-[#DDDDE6]/50 text-left",children:"// This usually takes around 1-2 mins"})]}),n.jsx(K4,{boxWidth:u,boxHeight:m,gapWidth:x,progress:a,className:"md:w-full",minBoxes:o,maxBoxes:c}),n.jsx(Q4,{tasks:s,className:"md:w-full"})]})})}function t3({width:e=24,height:t=24,x:s=0,y:i=0,cx:a=1,cy:r=.5,cr:o=.5,className:l,...c}){const d=De.useId();return n.jsxs("svg",{"aria-hidden":"true",className:fb("pointer-events-none absolute inset-0 h-full w-full fill-slate-500/50 md:fill-slate-500/70",l),...c,children:[n.jsx("defs",{children:n.jsx("pattern",{id:d,width:e,height:t,patternUnits:"userSpaceOnUse",patternContentUnits:"userSpaceOnUse",x:s,y:i,children:n.jsx("circle",{id:"pattern-circle",cx:a,cy:r,r:o})})}),n.jsx("rect",{width:"100%",height:"100%",strokeWidth:0,fill:`url(#${d})`})]})}const n3=({size:e=20,color:t="#898F99",className:s})=>n.jsxs("svg",{width:e,height:e,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:s,children:[n.jsx("path",{d:"M4.17188 4.9974C4.17188 4.77638 4.25967 4.56442 4.41595 4.40814C4.57223 4.25186 4.78419 4.16406 5.00521 4.16406H15.0052C15.2262 4.16406 15.4382 4.25186 15.5945 4.40814C15.7507 4.56442 15.8385 4.77638 15.8385 4.9974V14.9974C15.8385 15.2184 15.7507 15.4304 15.5945 15.5867C15.4382 15.7429 15.2262 15.8307 15.0052 15.8307H5.00521C4.78419 15.8307 4.57223 15.7429 4.41595 15.5867C4.25967 15.4304 4.17188 15.2184 4.17188 14.9974V4.9974Z",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),n.jsx("path",{d:"M7.5 7.5H12.5V12.5H7.5V7.5Z",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),n.jsx("path",{d:"M2.5 8.33594H4.16667",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),n.jsx("path",{d:"M2.5 11.6641H4.16667",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),n.jsx("path",{d:"M8.32812 2.5V4.16667",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),n.jsx("path",{d:"M11.6719 2.5V4.16667",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),n.jsx("path",{d:"M17.4948 8.33594H15.8281",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),n.jsx("path",{d:"M17.4948 11.6641H15.8281",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),n.jsx("path",{d:"M11.6719 17.5026V15.8359",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),n.jsx("path",{d:"M8.32812 17.5026V15.8359",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),s3=({size:e=20,className:t="",circleColor:s="#80FFF9",checkColor:i="#18181A"})=>n.jsxs("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:t,children:[n.jsx("circle",{cx:"12",cy:"12",r:"12",fill:s}),n.jsx("path",{d:"M15.7155 9C15.8953 9 16.0623 9.03211 16.2164 9.09634C16.3706 9.16057 16.5076 9.25262 16.6275 9.37251C16.7474 9.4924 16.8373 9.62727 16.8972 9.77714C16.9572 9.927 16.9914 10.0961 17 10.2845C17 10.4558 16.9679 10.6206 16.9037 10.7791C16.8394 10.9375 16.7474 11.0766 16.6275 11.1965L11.5279 16.3025C11.408 16.4224 11.2689 16.5145 11.1105 16.5787C10.952 16.6429 10.7872 16.6772 10.6159 16.6814C10.4447 16.6814 10.2798 16.6493 10.1214 16.5851C9.96296 16.5209 9.82381 16.4267 9.70392 16.3025L7.37893 13.9775C7.25905 13.8576 7.16699 13.7185 7.10276 13.5601C7.03854 13.4016 7.00428 13.2368 7 13.0655C7 12.8857 7.03425 12.7187 7.10276 12.5645C7.17127 12.4104 7.26333 12.2734 7.37893 12.1535C7.49454 12.0336 7.62942 11.9437 7.78356 11.8838C7.9377 11.8238 8.10683 11.7896 8.29094 11.781C8.46221 11.781 8.62706 11.8131 8.78548 11.8773C8.94391 11.9416 9.08307 12.0336 9.20295 12.1535L10.6159 13.5665L14.8035 9.37251C14.9234 9.25262 15.0625 9.16057 15.2209 9.09634C15.3794 9.03211 15.5442 9 15.7155 9Z",fill:i})]}),i3=({isSelected:e,onClick:t,title:s,subtitle:i,description:a,className:r})=>n.jsxs("div",{onClick:t,className:fb("flex flex-col p-5 gap-4 md:gap-8   rounded-[12px] border cursor-pointer transition-all duration-200",e?"border-[#80FFF933]":"border-[#FFFFFF1F] hover:border-[#ffffff]/20",r),style:e?{background:"linear-gradient(180deg, rgba(128, 255, 249, 0.04) 0%, rgba(128, 255, 249, 0) 100%)"}:void 0,children:[n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex flex-col gap-[2px]",children:[n.jsx("span",{className:fb("text-[#FFFFFF] font-inter text-[16px] font-medium",e&&"text-[#80FFF9]"),children:s}),n.jsx("div",{className:fb("text-[#FFFFFF]/50 text-[16px] font-inter font-medium capitalize",e&&"text-white"),children:i})]}),e?n.jsx(s3,{size:24}):n.jsx("div",{className:"w-6 h-6 rounded-full border-[1px] border-[#666666]"})]}),n.jsx("p",{className:"text-[#FFFFFF]/40 text-[14px] font-inter font-medium leading-[22px]",children:a})]}),a3=({size:e=24,className:t="",fill:s="#0E0E0F"})=>n.jsx("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:t,children:n.jsx("path",{d:"M17.4016 2.39844C19.0584 2.39844 20.4016 3.74159 20.4016 5.39844C20.4016 6.74163 19.5186 7.87779 18.3016 8.26016V9.59844C18.3016 11.421 16.8241 12.8984 15.0016 12.8984H12.9016V15.7356C14.1187 16.1178 15.0016 17.2552 15.0016 18.5984C15.0016 20.2553 13.6584 21.5984 12.0016 21.5984C10.3447 21.5984 9.00156 20.2553 9.00156 18.5984C9.00156 17.2552 9.88439 16.1178 11.1016 15.7356V12.8984H9.00156C7.17903 12.8984 5.70156 11.421 5.70156 9.59844V8.26016C4.48457 7.87779 3.60156 6.74163 3.60156 5.39844C3.60156 3.74159 4.94471 2.39844 6.60156 2.39844C8.25841 2.39844 9.60156 3.74159 9.60156 5.39844C9.60156 6.74163 8.71855 7.87779 7.50156 8.26016V9.59844C7.50156 10.4269 8.17313 11.0984 9.00156 11.0984H15.0016C15.83 11.0984 16.5016 10.4269 16.5016 9.59844V8.26016C15.2845 7.87779 14.4016 6.74163 14.4016 5.39844C14.4016 3.74159 15.7447 2.39844 17.4016 2.39844ZM12.0016 17.3984C11.3388 17.3984 10.8016 17.9357 10.8016 18.5984C10.8016 19.2612 11.3388 19.7984 12.0016 19.7984C12.6643 19.7984 13.2016 19.2612 13.2016 18.5984C13.2016 17.9357 12.6643 17.3984 12.0016 17.3984ZM6.60156 4.19844C5.93883 4.19844 5.40156 4.7357 5.40156 5.39844C5.40156 6.06117 5.93883 6.59844 6.60156 6.59844C7.2643 6.59844 7.80156 6.06117 7.80156 5.39844C7.80156 4.7357 7.2643 4.19844 6.60156 4.19844ZM17.4016 4.19844C16.7388 4.19844 16.2016 4.7357 16.2016 5.39844C16.2016 6.06117 16.7388 6.59844 17.4016 6.59844C18.0643 6.59844 18.6016 6.06117 18.6016 5.39844C18.6016 4.7357 18.0643 4.19844 17.4016 4.19844Z",fill:s})}),r3=gv.fork.fork,o3=gv.fork.dollarCyan,l3=gv.fork.paceCyan,c3=gv.fork.likeCyan,d3=gv.fork.summary,u3=gv.fork.summaryCyan,p3=gv.fork.matrixCode,m3=gv.fork.editNote,h3=[{title:"Context preserved",description:"All important context preserved in summary",icon:c3},{title:"Memory refreshed",description:"Fresh context window with clean slate for new tasks",icon:l3},{title:"Spend less",description:"Refreshed memory means lower token costs",icon:o3}],x3=e=>{if(!e)return[];const t=[],n=/<(\w+)>([\s\S]*?)<\/\1>/g;let s;for(;null!==(s=n.exec(e));){const[,e,n]=s;t.push({tagName:e,content:n.replace(/^\n+|\n+$/g,"")})}return t},f3=({count:e})=>{const t=[`Analyzing ${e} Messages`,"Extracting feature requirements","Processing code changes","Summarizing development phases","Reviewing testing protocols"],[s,i]=De.useState(0),[a,r]=De.useState("forward");return De.useEffect(()=>{const e=setInterval(()=>{i(e=>"forward"===a?e===t.length-1?(r("backward"),e-1):e+1:0===e?(r("forward"),e+1):e-1)},2e3);return()=>clearInterval(e)},[a]),n.jsx("div",{className:"absolute flex items-center justify-center w-full h-6 top-[5rem]",children:n.jsx(Rt,{mode:"wait",children:n.jsx(Pt.span,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.5,ease:"easeInOut"},className:"text-[#80FFF980] text-[15px] text-nowrap font-jetbrains font-medium absolute",children:t[s]},s)})})},g3={analysis:"",product_requirements:"",key_technical_concepts:"",code_architecture:"",pending_tasks:"",current_work:"",optional_next_step:""},v3=({isOpen:e,onOpenChange:t,onFork:s,jobId:i,messages:a=[],summaryData:r,appName:o,podIsPaused:l,startInSummaryMode:c=!1,userPromptId:d})=>{var u,p;const[m,h]=De.useState(c?"summary":"fork"),[x,f]=De.useState(!1),[g,v]=De.useState(r),[b,y]=De.useState(r),[w,j]=De.useState(null),[C,N]=De.useState([]),[F,_]=De.useState("current"),[k,S]=De.useState(null),{isOrganizationWorkspace:E}=Kg(),{bannerHeight:I}=fL(),A=I+56,{isMobile:T}=QE(),{tier:D}=Xg(),{data:M}=Fx(),L=BE(),{config:P}=kD();De.useEffect(()=>{var e;if((null==(e=null==P?void 0:P.model_list)?void 0:e.length)&&P.model_list.length>0&&!k){const e=P.model_list.find(e=>z(e));e&&S({name:e.name,displayName:e.display_name})}},[P,k,D,M]);const R=d,{data:O}=Lf(R||"",{skip:!R});De.useEffect(()=>{_(R?"current":"default")},[R]);const z=e=>!!E()||(!e.user_tier||(D===e.user_tier||!0===(null==M?void 0:M.is_pro_enabled)));De.useEffect(()=>{c&&r&&(h("summary"),v(r),y(r))},[c,r]);const[B,H]=De.useState(!1),$=De.useRef(null);De.useEffect(()=>{B&&!1===l&&!$.current&&($.current=setTimeout(()=>{t(!1),H(!1),h("fork"),$.current=null},4e3))},[B,l]),De.useEffect(()=>()=>{$.current&&(clearTimeout($.current),$.current=null)},[]);const U=De.useMemo(()=>x&&C.length>0?C:x3(g||""),[g,x,C]),V=De.useMemo(()=>U.some(e=>e.content&&e.content.trim().length>0),[U]),W=De.useCallback((e,t)=>{N(n=>{const s=[...n];return s[e]={...s[e],content:t},s})},[]);return e?n.jsx("div",{style:{height:`calc(100dvh - ${A}px)`},className:"absolute w-full z-[49] flex items-center justify-center bg-[#0e0e0f50] backdrop-blur-[5px]",children:n.jsxs("div",{className:fb(" p-0 max-md:max-w-[95vw] bg-[#18181A] border border-[#242424] max-h-[calc(100dvh-72px)] md:max-h-[80dvh]  rounded-[16px] font-['Inter'] overflow-hidden","summarizing"===m?"border-[#80FFF91A]":"","summarizing"===m?"bg-gradient-to-b from-[#131314] via-[#13131400] to-[#131314]":""),onClick:e=>e.stopPropagation(),children:["fork"==m&&n.jsx(n.Fragment,{children:n.jsxs("div",{className:"flex max-md:min-w-[95vw] max-md: md:max-w-[740px] md:min-h-[528px] flex-col  h-full flex-1  pb-0 md:pb-0",children:[n.jsxs("div",{className:"flex justify-between md:gap-[10px] flex-col p-4 md:p-8 md:pb-0 pb-0",children:[n.jsxs("div",{className:"flex items-center justify-between md:gap-[10px]",children:[n.jsx("h2",{className:"text-[18px] hidden md:block md:text-[22px] font-medium text-white",children:"Fork this session with a summary"}),n.jsx("h2",{className:"text-[18px] md:hidden md:text-[22px] font-medium text-white",children:"Fork this session"}),n.jsx("button",{type:"button",onClick:()=>t(!1),className:" max-md:absolute max-md:top-6 max-md:right-6 bg-[#FFFFFF05] backdrop-blur-lg rounded-[8px] w-8 h-8  md:w-10 md:h-10 flex items-center justify-center text-[#737780] hover:text-white transition-colors","aria-label":"Close modal",children:n.jsx(RS,{className:"w-5 h-5"})})]}),n.jsx("p",{className:"text-[13px] md:text-[16px] font-[400] md:leading-[24px] text-[#8A8F98] font-['Inter']",children:"Continue your work in a new conversation while keeping the important context from this session, perfect for continuing complex projects without losing progress."})]}),n.jsx("div",{className:"grid gap-2 p-4 md:gap-4 md:grid-cols-3 md:px-8 md:py-6",children:h3.map((e,t)=>n.jsxs("div",{className:"flex md:flex-col rounded-[8px] p-4 md:py-6 items-start w-full text-center bg-[#80FFF90A] gap-3 md:gap-[3rem]",children:[n.jsx("img",{src:e.icon,alt:e.title,className:"w-6 h-6"}),n.jsxs("div",{className:"flex flex-col items-start w-full gap-[4px] md:gap-[6px]",children:[n.jsx("h3",{className:"text-[16px] md:text-[16px] text-[#80FFF9] font-medium",children:e.title}),n.jsx("p",{className:"text-[13px] md:text-[14px] font-[500] text-start text-[#80FFF966] font-['Inter']",children:e.description})]})]},t))}),n.jsxs("div",{className:"flex mt-auto sticky bottom-0 justify-end gap-3 p-4 px-5 md:p-6 border-t bg-[#18181A] border-[#242424]",children:[n.jsx("button",{type:"button",onClick:()=>t(!1),className:"px-6 py-2 h-[40px] md:h-[48px] bg-transparent border border-[#333333] text-[#DCDCE5] hover:bg-[#FFFFFF0A] hover:border-[#444444] rounded-full font-[500] text-[16px]",children:"Cancel"}),n.jsx(EE,{children:n.jsxs(IE,{children:[n.jsx(AE,{asChild:!0,children:n.jsxs("button",{type:"button",onClick:async()=>{if(i)if(T&&a.length<=2)rn({title:"No chat history to fork",variant:"destructive"});else{h("summarizing");try{const e=await tm(i);e&&e.summary&&(v(e.summary),y(e.summary)),h("review")}catch(e){h("fork")}}},disabled:!T&&a.length<=2,className:"max-md:px-4 px-6 text-nowrap py-2 h-[40px] md:h-[48px] bg-white text-black hover:bg-gray-100 rounded-full font-[600] text-[14px] max-md:font-semibold  md:text-[16px] flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[n.jsx("img",{src:d3,alt:"Fork",className:"w-6 h-6 invert"}),n.jsx("span",{className:"hidden md:block",children:"Proceed to Summarization"}),n.jsx("span",{className:"block md:hidden",children:"Summarize"})]})}),a.length<=2&&n.jsx(TE,{className:"bg-[#1A1A1A] text-[#DDDDE6] border-[#333333]",children:"No chat history to fork"})]})})]})]})}),"summarizing"==m&&n.jsx(n.Fragment,{children:n.jsxs("div",{className:"relative flex flex-col items-center justify-center flex-1 z-[2] max-md:min-h-[calc(100dvh-72px)] max-w-[600px] max-md:min-w-[95vw] md:max-h-[700px] md:h-[70dvh] md:max-w-[740px] md:min-w-[740px] gap-[2rem] md:gap-[4rem] bg-[#80fff908]",children:[n.jsxs("div",{className:"absolute inset-0 grid w-full h-full grid-cols-3 pointer-events-none z-[1] opacity-[0.2] overflow-hidden",children:[n.jsx("img",{src:p3,alt:"Matrix Code",className:"object-cover w-full h-full"}),n.jsx("img",{src:p3,alt:"Matrix Code",className:"object-cover w-full h-full"}),n.jsx("img",{src:p3,alt:"Matrix Code",className:"object-cover w-full h-full"}),n.jsx("img",{src:p3,alt:"Matrix Code",className:"object-cover w-full h-full rotate-180"}),n.jsx("img",{src:p3,alt:"Matrix Code",className:"object-cover w-full h-full rotate-180"}),n.jsx("img",{src:p3,alt:"Matrix Code",className:"object-cover w-full h-full rotate-180"})]}),n.jsxs("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 z-[10] ",children:[n.jsxs("div",{className:"relative radial-bg flex items-center space-x-3 bg-[#80FFF9]/10 backdrop-blur-sm p-2 px-4 rounded-lg ",children:[n.jsx("p",{className:"text-[#80FFF9] text-[16px] text-nowrap font-medium",children:"Generating Summary"}),n.jsx(IT,{size:"20",speed:"1.75",color:"#80FFF9"})]}),n.jsx(f3,{count:a.length})]}),n.jsxs("div",{onClick:()=>{h("fork"),t(!1)},className:" absolute bottom-[3rem]  font-medium cursor-pointer rounded-[28px] radial-bg-white backdrop-blur-xl z-[49] items-center px-4 py-[10px] flex gap-2",children:[n.jsx(RS,{className:"w-4 h-4 md:w-5 md:h-5"}),n.jsx("span",{className:"max-md:text-[14px]",children:"Cancel Generation"})]})]})}),"review"==m&&n.jsx(n.Fragment,{children:n.jsxs("div",{className:"flex flex-col max-md:max-h-[calc(100dvh-72px)] md:max-h-[85dvh] lg:max-h-[1056px] max-w-[inherit] z-[10]",children:[n.jsxs("div",{className:"flex justify-between md:gap-[6px] flex-col md:p-6 md:pb-4 p-4 bg-[#18181A]",children:[n.jsxs("div",{className:"flex items-center justify-between md:gap-[6px]",children:[n.jsx("h2",{className:"text-[18px] md:text-[22px] font-medium text-white",children:"Review Summary"}),!B&&n.jsx("button",{type:"button",onClick:()=>t(!1),className:"w-6 h-6 flex items-center justify-center text-[#737780] hover:text-white transition-colors","aria-label":"Close modal",children:n.jsx(RS,{className:"w-5 h-5"})})]}),n.jsx("p",{className:"text-[13px] md:text-[14px] font-[400] md:leading-[24px] text-[#8A8F98] font-['Inter']",children:"Review the generated summary and make any edits before we fork the session."})]}),n.jsxs("div",{className:fb("sticky top-0 z-[10] flex justify-between p-3 px-4 md:p-4  backdrop-blur-lg overflow-clip",x?"radial-bg-white":"radial-bg"),children:[n.jsx("div",{className:"flex justify-between w-[inherit] max-h-[32px] ",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("img",{src:x?d3:u3,alt:"Summarize",className:fb("object-cover object-center w-5 h-5")}),n.jsx("span",{className:fb("text-[#80FFF9] font-medium  max-md:hidden md:block  leading-[20px] text-[15px] tracking-[-0.2px]",x&&"text-[#FFFFFF]"),children:x?"Edit Summary":"Session Summary"}),n.jsx("span",{className:fb("text-[#80FFF9] font-medium md:hidden leading-[20px] text-[15px] tracking-[-0.2px]",x&&"text-[#FFFFFF]"),children:x?"Edit":"Summary"})]})}),n.jsx("div",{className:"flex items-center gap-2 max-h-[32px]",children:x?n.jsxs(n.Fragment,{children:[n.jsx("button",{type:"button",onClick:()=>{v(b||""),N([]),f(!1)},className:"flex items-center max-h-[32px] bg-[#ffffff16] gap-2 py-[6px] px-[12px] rounded-[6px] hover:bg-[#ffffff20] transition-colors",children:n.jsx("span",{className:"text-[#FFFFFF] text-[15px] font-medium text-nowrap",children:"Cancel"})}),n.jsx("button",{type:"button",onClick:()=>{const e=C.map(e=>`<${e.tagName}>\n${e.content}\n</${e.tagName}>`).join("\n");v(e),N([]),f(!1)},className:"flex items-center max-h-[32px] bg-[#2EE572] gap-2 py-[6px] px-[12px] rounded-[6px] hover:bg-[#2EE572]/90 transition-colors",children:n.jsx("span",{className:"text-[#0F0F10] text-[15px] leading-[20px] tracking-[-0.2px] font-semibold text-nowrap",children:"Save Changes"})})]}):n.jsxs("button",{type:"button",disabled:B,onClick:()=>{y(g),N(x3(g||"")),f(!0)},className:"flex items-center min-w-[150px] bg-[#ffffff16] gap-2 py-[6px] px-[8px] rounded-[6px] hover:bg-[#ffffff20] transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[n.jsx("img",{src:m3,alt:"Edit",className:"w-5 h-5"}),n.jsx("span",{className:"text-[#FFFFFF] text-[15px] leading-[20px] font-medium text-nowrap",children:"Edit Summary"})]})})]}),n.jsxs("div",{className:"flex flex-col h-full max-md:w-[calc(95vw)] md:max-w-[800px] md:min-w-[800px] relative overflow-hidden",children:[n.jsxs("div",{className:"flex z-[10] flex-col gap-5 p-3 md:p-6 md:pb-0 pb-0 max-h-[60dvh] overflow-y-scroll overflow-hidden w-full min-w-0",children:[n.jsxs("span",{className:fb("text-[#FFFFFF] text-[22px] font-semibold capitalize",x&&"text-[#FFFFFF50]"),children:[o," - Project Analysis"]}),n.jsx("div",{className:"flex flex-col max-md:max-w-[calc(100vw - 10rem)] min-w-0 gap-4 mb-[120px]",children:U.map((e,t)=>n.jsxs("div",{className:fb("flex flex-col gap-2 bg-[#17181A] border rounded-[10px] p-1 transition-all duration-200 w-full min-w-0",w===t?"border-[#80FFF950] shadow-[0_0_0_1px_#80FFF9] shadow-[#80FFF9]/20 bg-[#131314]":"border-[#242424]",x&&w!=t&&"border-[#333333] bg-[#131314]"),children:[n.jsxs("div",{className:fb("flex items-center justify-between p-3 px-4 gap-2 bg-[#FFFFFF0F] backdrop-blur-lg rounded-[8px]",x&&"opacity-50",w==t&&"opacity-100"),children:[n.jsxs("span",{className:"text-[#FFFFFF] text-[16px] tracking-[-0.2px] font-medium capitalize",children:[n.jsxs("span",{className:"mr-2",children:[" ",g3[e.tagName]||""]}),e.tagName.replaceAll("_"," ")]}),x&&n.jsxs("span",{className:"text-[14px] font-['Inter'] font-medium",children:[e.content.length," characters"]})]}),n.jsx("div",{className:"p-3 pt-0 max-md:max-w-[calc(100vw - 10rem)] overflow-hidden ",children:x?n.jsx("textarea",{value:e.content,onChange:e=>W(t,e.target.value),onFocus:()=>j(t),onBlur:()=>j(null),onKeyDown:e=>{e.stopPropagation()},className:fb("w-full h-auto leading-[1.8] font-['Inter'] bg-transparent border-0 rounded-[6px] placeholder:text-white/80 font-medium resize-none focus:outline-none transition-colors whitespace-pre-wrap text-[14px]",w==t?"text-white":"text-white/80"),placeholder:"Enter content for this section...",spellCheck:!1,rows:Math.max(5,Math.ceil(e.content.length/80)),style:{whiteSpace:"pre-wrap",wordWrap:"break-word",overflowWrap:"break-word",lineHeight:"2"}}):n.jsx(vK,{children:e.content||"No content available for this section.",variant:"compact",className:"break-words text-white/80 overflow-wrap-anywhere max-w-none",customComponents:{p:({node:e,...t})=>n.jsx("p",{className:"font-medium break-words font-['Inter'] leading-[28px]",...t}),pre:({...e})=>n.jsx("pre",{className:"p-0 my-4 overflow-x-auto break-all bg-transparent rounded-md",...e})}})})]},t))})]}),n.jsx(t3,{cy:1,cr:1,width:20,height:20,x:10,y:25,cx:1,className:"fill-[#ffffff10] md:fill-[#ffffff10] absolute z-[1]"})]}),n.jsx("div",{className:"flex sticky bottom-0 justify-end gap-3 p-4 px-5 md:p-6 border-t border-[#242424] bg-[#18181A] z-[10]",children:n.jsx(EE,{children:n.jsxs(IE,{children:[n.jsx(AE,{asChild:!0,children:n.jsxs("button",{type:"button",onClick:()=>{g?h("agent-selection"):rn({title:"Error",description:"No summary data provided",variant:"destructive"})},disabled:x||B||!V,className:"px-6 py-2 h-[40px] md:h-[48px] bg-white text-black hover:bg-gray-100 rounded-full font-[600] text-[16px] flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:["Approve & Continue",n.jsx("img",{src:r3,alt:"Fork",className:"w-6 h-6 invert"})]})}),(x||B||!V)&&n.jsx(TE,{className:"bg-[#1A1A1A] text-[#DDDDE6] border-[#333333]",children:x?"Please save or cancel your edits first":B?"Fork is being processed...":V?"":"Summary content is required to proceed"})]})})})]})}),"agent-selection"==m&&n.jsx(n.Fragment,{children:n.jsxs("div",{className:"flex flex-col max-md:max-h-[calc(100dvh-72px)] md:max-h-[80dvh]  md:h-[700px] md:w-[740px] flex-1 z-[10]",children:[n.jsxs("div",{className:"flex justify-between md:gap-[6px] flex-col md:p-6 md:pb-4 p-4 bg-[#18181A] border-b border-[#242424]",children:[n.jsxs("div",{className:"flex items-center justify-between md:gap-[6px]",children:[n.jsx("h2",{className:"text-[18px] md:text-[22px] font-medium text-white",children:"Configure New Chat"}),n.jsx("button",{type:"button",onClick:()=>t(!1),className:" max-md:absolute max-md:top-6 max-md:right-6 bg-[#FFFFFF05] backdrop-blur-lg rounded-[8px] w-8 h-8  md:w-10 md:h-10 flex items-center justify-center text-[#737780] hover:text-white transition-colors","aria-label":"Close modal",children:n.jsx(RS,{className:"w-5 h-5"})})]}),n.jsx("p",{className:"text-[13px] md:text-[14px] text-wrap font-[400] md:leading-[24px] text-[#8A8F98] font-['Inter']",children:"Choose your agent, model, and other settings for your forked conversation."})]}),n.jsxs("div",{className:"flex flex-col justify-between flex-1  max-md:w-[calc(95vw)] w-full h-full relative overflow-hidden",children:[n.jsxs("div",{className:"flex z-[10] flex-col gap-6 p-4 md:p-6 overflow-y-auto",children:[n.jsxs("div",{className:"flex flex-col gap-3",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(PE,{primaryColor:"#898F99",color:"#898F99",opacity:1,size:20}),n.jsxs("span",{className:"text-[#898F99] text-[14px] font-inter font-medium",children:[" ","Fork Agent"]})]}),n.jsxs("div",{className:fb("grid gap-4 md:gap-5 grid-col-1 md:grid-cols-2"),children:[R&&n.jsx(i3,{isSelected:"current"===F,onClick:()=>_("current"),title:"Keep Current Agent",subtitle:(null==(u=null==O?void 0:O.prompt_name)?void 0:u.replaceAll("_"," "))||"Custom Agent",description:"Continue using your custom agent, with Fork capabilities in the new chat. This will maintain your custom instructions and conversation style with fork capabilities."}),n.jsx(i3,{isSelected:"default"===F,onClick:()=>_("default"),title:R?"Switch to Default Agent":"Use Default Agent",subtitle:"Emergent Fork Agent",description:"Use Emergent's optimized Fork Agent for continuing your task. Emergent Fork is best for coding, development and technical tasks."})]})]}),n.jsxs("div",{className:"flex flex-col gap-3",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(n3,{}),n.jsx("span",{className:"text-[#898F99] text-[14px] font-inter font-medium",children:"Select Model"})]}),n.jsxs(OS,{value:(null==k?void 0:k.name)||"",onValueChange:e=>{var t;const n=null==(t=null==P?void 0:P.model_list)?void 0:t.find(t=>t.name===e);if(n){if(!z(n))return void L.open({triggerLocation:"oneMillionModal",shouldShowModelSelectorTooltipAfterClose:!0});S({name:n.name,displayName:n.display_name})}},children:[n.jsx(BS,{className:"w-full p-3 min-h-[56px] bg-transparent border border-[#242424] rounded-[8px] text-[#C4C4CC] hover:border-[#242424] focus:border-[#242424] focus:ring-0 focus-visible:ring-0 focus-visible:ring-offset-0 transition-colors data-[state=open]:border-[#242424]",children:n.jsx("div",{className:"flex items-center gap-2",children:k?n.jsx("span",{className:"text-[#C4C4CC]",children:k.displayName}):n.jsx(zS,{placeholder:"Select a model",className:"text-[#C4C4CC] text-[14px]"})})}),n.jsx(US,{className:"bg-[#1A1A1A] border border-[#333333] rounded-[8px] shadow-lg",children:(null==(p=null==P?void 0:P.model_list)?void 0:p.map(e=>{const t="pro_mode"===e.user_tier;return n.jsx(VS,{value:e.name,className:"text-[#C4C4CC] hover:bg-[#FFFFFF10] focus:bg-[#FFFFFF10] cursor-pointer",children:n.jsxs("div",{className:"flex items-center justify-between w-full gap-2",children:[n.jsx("span",{children:e.display_name}),t&&n.jsx("div",{className:"bg-[#FF8C661A] px-[6px] flex items-center justify-center rounded-[6px] h-[18px]",children:n.jsx("span",{className:"text-[#FF8C66] text-xs font-['Inter'] font-medium",children:"PRO"})})]})},e.name)}))||[]})]})]})]}),n.jsxs("div",{className:"flex sticky bottom-0 justify-between items-center gap-3 p-4 px-5 md:p-6 border-t border-[#242424] bg-[#18181A] z-[10]",children:[n.jsxs("button",{type:"button",onClick:()=>h("review"),className:"flex rounded-full max-md:hidden items-center gap-2 bg-[#222224] px-4 py-2 h-[40px] md:h-[48px] text-[#ACACB2]  transition-colors",children:[n.jsx(qI,{size:16}),"Back to Summary"]}),n.jsxs("button",{type:"button",onClick:()=>h("review"),className:"flex rounded-full md:hidden items-center gap-2 bg-[#222224] px-4 py-2 h-[40px] md:h-[48px] text-[#ACACB2]  transition-colors",children:[n.jsx(qI,{size:16}),"Back"]}),n.jsx("button",{type:"button",onClick:async()=>{if(i){H(!0);try{if(!g)return void rn({title:"Error",description:"No summary data provided",variant:"destructive"});const e={summary:g,use_custom_prompt:"current"===F&&!!R,model_name:(null==k?void 0:k.name)||""};null==s||s(i,e)}catch(e){h("agent-selection")}}},disabled:B,className:"px-6 py-2 h-[40px] md:h-[48px] bg-white text-black hover:bg-gray-100 rounded-full font-[600] text-[16px] flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:B?n.jsxs(n.Fragment,{children:[n.jsx(IT,{size:"20",speed:"1.75",color:"#000"}),"Forking..."]}):n.jsxs("div",{className:"flex items-center gap-1",children:["Start Forking",n.jsx(a3,{})]})})]})]})]})}),"summary"==m&&n.jsx(n.Fragment,{children:n.jsxs("div",{className:"flex relative max-md:max-h-[calc(100dvh-72px)] md:min-w-[700px] flex-col max-w-[inherit] h-[70dvh] z-[10] mb-[24px]",children:[n.jsx("div",{className:"flex justify-between z-[10] md:gap-[10px] flex-col md:p-6 pb-2 md:pb-4 p-4 bg-[#18181A] border-[#242424] border-b",children:n.jsxs("div",{className:"flex items-center justify-between md:gap-[10px]",children:[n.jsx("h2",{className:"text-[18px] md:text-[22px] font-medium text-white",children:"Session Summary"}),n.jsx("button",{type:"button",onClick:()=>{h("fork"),t(!1)},className:"w-6 h-6 flex items-center justify-center text-[#737780] hover:text-white transition-colors","aria-label":"Close modal",children:n.jsx(RS,{className:"w-5 h-5"})})]})}),n.jsxs("div",{className:"flex relative overflow-hidden flex-col h-full gap-4 max-md:w-[calc(95vw)]",children:[n.jsx("div",{className:"flex flex-col w-full min-w-0 z-[10] gap-6 p-3 pt-6 overflow-hidden overflow-y-scroll md:p-6",children:n.jsx("div",{className:"flex flex-col w-full min-w-0 gap-4 mb-[40px]",children:U.map((e,t)=>n.jsxs("div",{className:"flex flex-col bg-[#17181A] border-[#242424] border text-wrap min-w-0 rounded-[10px] p-1",children:[n.jsx("div",{className:"flex items-center justify-between p-3 px-4 gap-2 bg-[#FFFFFF0F] backdrop-blur-lg rounded-[8px]",children:n.jsx("span",{className:"text-[#FFFFFF] text-[16px] tracking-[-0.2px] font-medium capitalize leading-[20px]",children:e.tagName.replaceAll("_"," ")})}),n.jsx("div",{className:"max-w-full p-3 px-4 overflow-hidden",children:n.jsx(vK,{children:e.content||"No content available for this section.",variant:"compact",className:"break-words text-white/80 overflow-wrap-anywhere max-w-none",customComponents:{p:({node:e,...t})=>n.jsx("p",{className:"font-medium break-words text-wrap font-['Inter'] leading-[28px]",...t}),pre:({...e})=>n.jsx("pre",{className:"p-0 my-4 overflow-x-auto break-all bg-transparent rounded-md",...e})}})})]},t))})}),n.jsx(t3,{cy:1,cr:1,width:20,height:20,x:10,y:25,cx:1,className:"fill-[#ffffff10] md:fill-[#ffffff10] absolute z-[1]"})]})]})})]})}):null},b3=De.forwardRef(({className:e,checked:t,...s},i)=>n.jsx(q,{className:fb("peer relative inline-flex h-7 w-12 shrink-0 cursor-pointer items-center rounded-full transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed","bg-[#131314]","data-[state=unchecked]:opacity-50",e),checked:t,...s,ref:i,children:n.jsxs(G,{className:fb("pointer-events-none relative h-5 w-5 rounded-full transition-all duration-200 ease-in-out flex items-center justify-center","data-[state=checked]:translate-x-6 data-[state=unchecked]:translate-x-1","data-[state=checked]:bg-white data-[state=checked]:shadow-lg","data-[state=unchecked]:bg-white/10","data-[state=checked]:shadow-[0px_0.71px_1.77px_0px_rgba(0,0,0,0.36),0px_3px_3px_0px_rgba(0,0,0,0.31),0px_6.89px_4.24px_0px_rgba(0,0,0,0.18),0px_12.36px_4.94px_0px_rgba(0,0,0,0.05),0px_19.25px_5.47px_0px_rgba(0,0,0,0.01)]","data-[state=unchecked]:shadow-[0px_0.71px_1.77px_0px_rgba(0,0,0,0.36),0px_3px_3px_0px_rgba(0,0,0,0.31),0px_6.89px_4.24px_0px_rgba(0,0,0,0.18),0px_12.36px_4.94px_0px_rgba(0,0,0,0.05),0px_19.25px_5.47px_0px_rgba(0,0,0,0.01)]","data-[state=checked]:before:absolute data-[state=checked]:before:inset-0 data-[state=checked]:before:rounded-full data-[state=checked]:before:shadow-[inset_0px_1.24px_2.47px_0px_rgba(255,255,255,0.03),inset_0px_1.06px_0.71px_0px_rgba(255,255,255,0.02),inset_0px_0.18px_0.18px_0px_rgba(255,255,255,0.1)]","data-[state=unchecked]:before:absolute data-[state=unchecked]:before:inset-0 data-[state=unchecked]:before:rounded-full data-[state=unchecked]:before:shadow-[inset_0px_1.24px_2.47px_0px_rgba(255,255,255,0.03),inset_0px_1.06px_0.71px_0px_rgba(255,255,255,0.02),inset_0px_0.18px_0.18px_0px_rgba(255,255,255,0.1)]"),children:[t&&n.jsx("svg",{className:"absolute inset-0 z-10 w-3 h-3 m-auto transition-opacity duration-200",width:"12",height:"12",viewBox:"0 0 14.3 12",fill:"none",children:n.jsx("path",{d:"M7.15273 0.867188C8.67391 0.924388 10.145 1.42639 11.3842 2.31055C12.6232 3.19471 13.5765 4.42207 14.1254 5.84184C14.1624 5.94424 14.1623 6.05674 14.1254 6.15924C13.5765 7.57901 12.6233 8.80721 11.3842 9.69141C10.145 10.5756 8.67391 11.0776 7.15273 11.1348C5.63156 11.0776 4.16043 10.5756 2.92129 9.69141C1.68215 8.80721 0.729004 7.57901 0.180078 6.15924C0.143078 6.05674 0.143078 5.94424 0.180078 5.84184C0.729004 4.42207 1.68227 3.19471 2.92129 2.31055C4.16043 1.42639 5.63156 0.924388 7.15273 0.867188ZM8.31387 3.19824C7.75957 2.96874 7.14941 2.90844 6.56094 3.02544C5.97266 3.14244 5.43242 3.43144 5.00824 3.85554C4.58406 4.27974 4.29414 4.82074 4.17715 5.40924C4.06016 5.99754 4.12035 6.60794 4.34996 7.16214C4.57957 7.71634 4.96836 8.19024 5.46719 8.52344C5.96602 8.85674 6.55273 9.03424 7.15273 9.03424C7.95684 9.03294 8.72773 8.71314 9.29629 8.14454C9.86484 7.57604 10.1847 6.80514 10.1859 6.00104C10.1859 5.40104 10.0084 4.81434 9.67524 4.31544C9.34191 3.81664 8.86816 3.42794 8.31387 3.19824ZM7.14785 4.125C8.17879 4.125 9.01504 4.96124 9.01504 5.99224C9.01484 7.02304 8.17871 7.85844 7.14785 7.85844C6.11719 7.85824 5.28184 7.02284 5.28164 5.99224C5.28164 4.96134 6.11707 4.12524 7.14785 4.125Z",fill:"#0F0F10"})}),!t&&n.jsx("svg",{className:"absolute inset-0 z-10 w-3 h-3 m-auto transition-opacity duration-200 opacity-60",width:"12",height:"12",viewBox:"0 0 12 11",fill:"none",children:n.jsx("path",{d:"M1.85127 2.51855L0.117676 0.784211L0.901758 0L11.8824 10.9801L11.0982 11.7648L9.26245 9.92908C8.28691 10.5479 7.15498 10.8755 5.99971 10.8736C3.00928 10.8736 0.521289 8.72168 0 5.88208C0.239014 4.59092 0.888184 3.41123 1.85127 2.51855ZM7.52928 8.19604L6.71738 7.38404C6.40684 7.53264 6.05781 7.58124 5.71855 7.52314C5.37928 7.46504 5.06621 7.30314 4.82275 7.05964C4.57928 6.81624 4.41738 6.50324 4.35928 6.16394C4.30117 5.82464 4.34977 5.47564 4.49844 5.16504L3.68652 4.35314C3.33359 4.88634 3.17578 5.52524 3.23984 6.16144C3.30391 6.79764 3.58594 7.39214 4.03809 7.84434C4.49023 8.29644 5.08477 8.57844 5.72098 8.64254C6.35723 8.70664 6.99609 8.54884 7.52928 8.19604ZM3.76689 1.31224C4.45854 1.04044 5.21221 0.890703 5.99971 0.890703C8.99014 0.890703 11.4781 3.04264 12 5.88208C11.8301 6.80614 11.4481 7.67814 10.8841 8.42954L8.74336 6.28874C8.76299 6.15564 8.77271 6.02014 8.77271 5.88208C8.77275 5.48364 8.68701 5.08984 8.52109 4.72744C8.35518 4.36514 8.11318 4.04274 7.81152 3.78244C7.50986 3.52204 7.15557 3.32974 6.77275 3.21864C6.39014 3.10754 5.98799 3.08024 5.59385 3.13854L3.76689 1.31224Z",fill:"white",fillOpacity:"0.6"})})]})}));b3.displayName="CustomSwitch";const y3=(e,t)=>{if(t){const e=t.toLowerCase();if(e.endsWith(".pdf"))return"PDF";if(e.endsWith(".csv"))return"CSV";if(e.endsWith(".xls")||e.endsWith(".xlsx"))return"Excel";if(e.endsWith(".doc")||e.endsWith(".docx"))return"DOC";if(e.endsWith(".ppt")||e.endsWith(".pptx"))return"PPT";if(e.endsWith(".txt"))return"TXT";if(e.endsWith(".md"))return"Markdown";if(e.endsWith(".json"))return"JSON";if(e.endsWith(".xml"))return"XML";if(e.endsWith(".html")||e.endsWith(".htm"))return"HTML";if(e.endsWith(".css"))return"CSS";if(e.endsWith(".js")||e.endsWith(".jsx"))return"JS";if(e.endsWith(".ts")||e.endsWith(".tsx"))return"TS";if(e.endsWith(".py"))return"Python";if(e.endsWith(".java"))return"Java";if(e.endsWith(".cpp")||e.endsWith(".cc"))return"C++";if(e.endsWith(".c"))return"C";if(e.endsWith(".dmg"))return"DMG";if(e.endsWith(".zip")||e.endsWith(".rar")||e.endsWith(".7z"))return"Archive";if(e.endsWith(".mp4")||e.endsWith(".avi")||e.endsWith(".mov"))return"Video";if(e.endsWith(".mp3")||e.endsWith(".wav")||e.endsWith(".flac"))return"Audio";if(e.endsWith(".jpg")||e.endsWith(".jpeg")||e.endsWith(".png")||e.endsWith(".gif"))return"Image";if(e.endsWith(".svg"))return"SVG"}return e.includes("pdf")?"PDF":e.includes("csv")?"CSV":e.includes("excel")||e.includes("spreadsheet")?"Excel":e.includes("word")||e.includes("document")?"DOC":e.includes("powerpoint")||e.includes("presentation")?"PPT":e.includes("text")?"TXT":e.includes("image")?"Image":e.includes("video")?"Video":e.includes("audio")?"Audio":e.includes("zip")||e.includes("archive")||e.includes("compressed")?"Archive":e.includes("json")?"JSON":e.includes("xml")?"XML":e.includes("html")?"HTML":e.includes("css")?"CSS":e.includes("javascript")?"JS":e.includes("python")?"Python":""},w3=gv.common.attach,j3=gv.common.newCoin,C3=gv.upload.comment,N3=gv.upload.commented,F3=gv.upload.delete,_3=gv.upload.deleteActive,k3=gv.files.pdf,S3=gv.files.csv,E3=gv.files.doc,I3=gv.files.ppt,A3=gv.files.txt,T3=gv.files.video,D3=gv.files.svg,M3=gv.files.other,L3=gv.files.zip,P3=gv.upload.uploadNormal,R3=gv.upload.info,O3=(e,t)=>["image/jpeg","image/jpg","image/png","image/gif","image/webp","image/bmp","image/svg+xml"].includes(e.toLowerCase())||/\.(jpg|jpeg|png|bmp|svg|gif|webp)$/i.test(t),z3=(e,t)=>e.startsWith("video/")||/\.(mp4|avi|mov|wmv|mkv|webm|flv|m4v)$/i.test(t),B3=(e,t)=>e.includes("zip")||e.includes("tar")||e.includes("rar")||e.includes("7z")||/\.(zip|rar|tar|gz|7z|bz2|xz)$/i.test(t),H3=(e,t)=>{const n=e&&["image/jpeg","image/png","image/gif","image/webp"].includes(e),s=[".jpg",".jpeg",".png",".gif",".webp"].some(e=>t.toLowerCase().endsWith(e));return n||s},$3=e=>{const{size:t,type:n,name:s}=e,i=z3(n,s),a=(r=s,n.startsWith("image/")||/\.(jpg|jpeg|png|gif|webp|bmp|svg|ico)$/i.test(r));var r;const o=H3(n,s),l=209715200;return t>l?{strategy:"reject",visibility:"public",readByAgent:!1,needsCompression:!1,maxSize:l}:i?{strategy:"public_only",visibility:"public",readByAgent:!1,needsCompression:!1,maxSize:l}:a&&o?t>10485760?{strategy:"public_only",visibility:"public",readByAgent:!1,needsCompression:!1,maxSize:l}:{strategy:t>5242880?"compress_and_upload":"standard",visibility:"public",readByAgent:!0,needsCompression:t>5242880,maxSize:10485760}:a&&!o?t>5242880?{strategy:"public_only",visibility:"public",readByAgent:!1,needsCompression:!1,maxSize:l}:{strategy:"standard",visibility:"public",readByAgent:!0,needsCompression:!1,maxSize:5242880}:{strategy:"no_limit",visibility:"public",readByAgent:!1,needsCompression:!1,maxSize:l}},U3=(e,t)=>"image/svg+xml"===e||t.toLowerCase().endsWith(".svg"),V3=(e,t)=>{const n=(null==t?void 0:t.toLowerCase())||"";return n.endsWith(".pdf")||"application/pdf"===e?k3:e.includes("zip")||e.includes("tar")||e.includes("rar")?L3:n.endsWith(".csv")||"text/csv"===e?S3:n.endsWith(".doc")||n.endsWith(".docx")||"application/msword"===e||"application/vnd.openxmlformats-officedocument.wordprocessingml.document"===e?E3:n.endsWith(".ppt")||n.endsWith(".pptx")||"application/vnd.ms-powerpoint"===e||"application/vnd.openxmlformats-officedocument.presentationml.presentation"===e?I3:n.endsWith(".txt")||n.endsWith(".md")||n.endsWith(".log")||"text/plain"===e||"text/markdown"===e?A3:n.endsWith(".mp4")||n.endsWith(".avi")||n.endsWith(".mov")||n.endsWith(".wmv")||n.endsWith(".mkv")||(null==e?void 0:e.startsWith("video/"))?T3:n.endsWith(".svg")||"image/svg+xml"===e?D3:n.endsWith(".xls")||n.endsWith(".xlsx")||"application/vnd.ms-excel"===e||"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"===e?S3:M3},W3=e=>{if(0===e)return"0 B";const t=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,t)).toFixed(1))+" "+["B","KB","MB","GB"][t]},q3=(e,t=20)=>{if(e.length<=t)return e;const n=e.lastIndexOf(".");if(-1===n)return e.substring(0,t-3)+"...";const s=e.substring(n),i=e.substring(0,n),a=t-s.length-3;return a<=0?e.substring(0,t-3)+"...":i.substring(0,a)+"..."+s};function G3({isOpen:e,onOpenChange:t,jobId:s,onUploadComplete:i,onUploadError:a,handleSendMessage:r,initialFiles:o}){const[l,c]=De.useState([]),[d,u]=De.useState(new Set),[p,m]=De.useState(!1),[h,x]=De.useState(null),[f,g]=De.useState(new Set),[v,b]=De.useState(!1),y=De.useRef(null),w=De.useRef(new Set),{toast:j}=on(),C=gL(),N=vL(ku),F=vL(e=>Eu(e,N)),[_]=Vx(),{compressImage:k}=mE({maxWidth:2e3,maxHeight:2e3,quality:30,format:"jpeg"}),S=De.useCallback(e=>{const t=URL.createObjectURL(e);return w.current.add(t),t},[]);Pe.useEffect(()=>()=>{w.current.clear()},[]);const E=De.useCallback(async e=>{if(!p&&!v&&e&&e.length>0){const n=5,s=F.length+l.length;if(s+e.length>n)return void j({title:"Too many attachments",description:`Maximum ${n} attachments allowed. Currently have ${s} (${F.length} uploaded + ${l.length} selected), trying to add ${e.length}.`,variant:"destructive",duration:4e3});const i=[],a=[],r=[];if(Array.from(e).forEach(e=>{const t=$3(e);"reject"===t.strategy?i.push(`${e.name} (${W3(e.size)} > ${W3(t.maxSize)})`):t.needsCompression?r.push(e):a.push({file:e,name:e.name,size:e.size,type:e.type,lastModified:e.lastModified,description:"",readByAgent:t.readByAgent,visibility:t.visibility})}),r.length>0){b(!0);try{for(const e of r){const t=$3(e);if(H3(e.type,e.name)){const n=await k(e);if(n){const s=e.name.replace(/\.[^/.]+$/,".jpg"),i=n.blob,r=Object.assign(i,{name:s,lastModified:Date.now(),webkitRelativePath:""});a.push({file:r,name:s,size:i.size,type:"image/jpeg",lastModified:Date.now(),description:"",readByAgent:t.readByAgent,visibility:t.visibility})}else i.push(`${e.name} (compression failed)`)}}}catch(t){j({title:"Compression Error",description:"Some files could not be compressed and were not added.",variant:"destructive",duration:4e3})}finally{b(!1)}}i.length>0&&j({title:"Files too large",description:`The following files exceed limits: ${i.join(", ")}. Maximum file size is 200MB.`,variant:"destructive",duration:8e3}),a.length>0&&c(e=>[...e,...a])}},[l.length,F.length,p,v,k,j]);Pe.useEffect(()=>{if(e&&o&&o.length>0){b(!0);const e=5;o.length>e&&j({title:"Too many files",description:`You can only select up to ${e} assets at a time. Only the first ${e} files will be added.`,variant:"destructive",duration:4e3});const t=o.slice(0,e).map((e,t)=>{const n=$3(e),s=URL.createObjectURL(e);w.current.add(s);const i=O3(e.type,e.name);return{id:`initial-${t}-${Date.now()}`,file:e,name:e.name,size:e.size,type:e.type,lastModified:e.lastModified,preview:i?s:null,readByAgent:n.readByAgent,visibility:n.visibility,description:""}});c(t),setTimeout(()=>{b(!1)},100)}else!e||o&&0!==o.length||(c([]),b(!1),setTimeout(()=>{var e;null==(e=y.current)||e.click()},100))},[e,o,j]);const I=De.useCallback(()=>{var e;p||null==(e=y.current)||e.click()},[p]),A=De.useCallback(e=>{E(e.target.files)},[E]),P=De.useCallback((e,t)=>{p||c(n=>n.map((n,s)=>s===e?{...n,description:t}:n))},[p]),O=De.useCallback(e=>$3(e.file).readByAgent,[]),z=De.useCallback((e,t)=>{if(p)return;const n=l[e];O(n)&&c(n=>n.map((n,s)=>s===e?{...n,readByAgent:t}:n))},[p,l,O]),B=De.useCallback(e=>{p||(c(n=>{const s=n[e];s&&(O3(s.type,s.name)||U3(s.type,s.name));const i=n.filter((t,n)=>n!==e);return 0===i.length&&setTimeout(()=>{t(!1)},100),i}),u(t=>{const n=new Set(t);n.delete(e);const s=new Set;return n.forEach(t=>{t>e?s.add(t-1):s.add(t)}),s}))},[p,t]),H=De.useCallback((e,t)=>{p||(t&&(t.preventDefault(),t.stopPropagation()),u(t=>{const n=new Set(t);return n.has(e)?n.delete(e):n.add(e),n}))},[p]),$=De.useCallback(()=>{m(!1),x(null),g(new Set)},[]);Pe.useEffect(()=>{e||$()},[e,$]);const U=De.useCallback(async()=>{if(!s||0===l.length||p)return;m(!0);const e=[];try{for(let t=0;t<l.length;t++){const i=l[t];if(x(t),"private"===i.visibility)try{const t=await _({jobId:s,file:i.file,fileName:i.name,description:i.description}).unwrap();if(t.success&&t.artifact_id){let a,r;if(O3(i.type,i.name)){a=URL.createObjectURL(i.file);try{const e=new FileReader,t=new Promise(t=>{e.onload=()=>{const n=e.result;t(n.split(",")[1])},e.readAsDataURL(i.file)});r=await t}catch(n){}}e.push({artifact_id:t.artifact_id,entity_id:s,entity_type:"job",visibility:"private",file_name:i.name,description:i.description,file_path:t.path,readByAgent:i.readByAgent,mime_type:i.type,file_size:i.size,local_preview_url:a,local_preview_base64:r})}}catch(n){j({title:"Upload Failed",description:`Failed to upload ${i.name}`,variant:"destructive"})}else try{const t={file_name:i.name,mime_type:i.type},a=await im(s,t);let r,o;if(await am(a.upload_url,i.file),O3(i.type,i.name)){r=URL.createObjectURL(i.file);try{const e=new FileReader,t=new Promise(t=>{e.onload=()=>{const n=e.result;t(n.split(",")[1])},e.readAsDataURL(i.file)});o=await t}catch(n){}}e.push({artifact_id:a.artifact_id,entity_id:s,entity_type:"job",visibility:"public",file_name:i.name,description:i.description,file_path:a.file_path,readByAgent:i.readByAgent,mime_type:i.type,file_size:i.size,local_preview_url:r,local_preview_base64:o})}catch(n){j({title:"Upload Failed",description:`Failed to upload ${i.name}`,variant:"destructive"})}}e.length>0&&(C(xu({tabId:N,artifacts:e})),j({title:"Files Uploaded",description:`${e.length} file(s) uploaded and ready to share with agent`})),setTimeout(()=>{c([]),t(!1)},1e3)}catch(n){}finally{m(!1),x(null)}},[l,s,t,p,C,N,j]);return e?n.jsx("div",{className:"fixed inset-0 z-[49] flex items-center justify-center bg-[#0e0e0f50] backdrop-blur-[5px]",children:n.jsxs("div",{className:"max-w-[740px] relative w-[95vw] p-0 bg-[#18181A] border border-[#242424] rounded-[16px] overflow-hidden flex flex-col font-['Inter']",onClick:e=>e.stopPropagation(),children:[n.jsxs("div",{className:fb("flex items-center justify-between p-4  md:p-8",l.length>0?"md:p-6 border-b border-[#242424] ":""),children:[n.jsxs("div",{className:"flex flex-col gap-1 md:gap-[10px]",children:[n.jsx("h2",{className:"text-[18px] md:text-[22px] font-medium text-white md:leading-[32px]",children:"Attach Files"}),n.jsx("p",{className:"text-[13px] md:text-[15px] text-[#737780] md:leading-[24px]",children:"Upload assets and media files that your agent can access and integrate into your code."})]}),n.jsx("button",{type:"button",onClick:()=>t(!1),disabled:p,className:fb("p-2 absolute top-6 right-6 bg-[#FFFFFF05] backdrop-blur-lg hover:bg-[#242424] rounded-lg transition-colors",p&&"opacity-50 cursor-not-allowed"),"aria-label":"Close modal",children:n.jsx(RS,{className:"w-5 h-5 text-[#737780]"})})]}),n.jsxs("div",{className:fb("flex flex-col flex-1 p-4 md:p-8 pt-0 md:pt-0 overflow-hidden overflow-y-auto max-h-[486px]",l.length>0?"md:p-6 pt-0 md:pt-0":""),children:[l.length>0&&n.jsxs("div",{className:"md:pt-4 pt-3 flex items-center justify-between backdrop-blur-lg pb-2 z-[10] bg-[#18181A]",children:[n.jsx("div",{className:"flex items-center gap-2",children:n.jsxs("h3",{className:"text-[12px] font-ndot uppercase text-[#737780] tracking-[0.8px]",children:[l.length," Files Uploaded"]})}),n.jsx("div",{className:"flex items-center gap-2",children:n.jsx(R,{children:n.jsxs(T,{children:[n.jsx(D,{asChild:!0,children:n.jsxs("button",{type:"button",onClick:I,disabled:F.length+l.length>=5||p,className:fb("flex items-center rounded-full gap-2 px-4 py-2 radial-bg text-[#80FFF9] hover:opacity-[0.80] font-medium text-[14px] font-['Inter'] transition-all duration-200 disabled:opacity-20",p&&"cursor-not-allowed"),children:[n.jsx("img",{src:P3,alt:"Upload",className:"w-6 h-6"}),"Upload Files"]})}),(F.length+l.length>=5||p)&&n.jsx(M,{children:n.jsx(L,{className:"bg-[#272829]/95 backdrop-blur-md border-[#2E2F34] text-white shadow-lg z-[9999] px-3 py-2 rounded-md text-sm",side:"bottom",sideOffset:8,children:p?"Upload in progress...":`Maximum 5 attachments allowed (${F.length+l.length}/5)`})})]})})})]}),n.jsx("div",{className:"flex-1",children:n.jsx("div",{className:"flex flex-col gap-3 md:gap-4 md:mt-4",children:l.map((e,t)=>{const s=(i=e.type,a=e.name,i.startsWith("image/")?pS:i.startsWith("video/")?PS:i.startsWith("text/")||a.endsWith(".txt")?cS:i.includes("zip")||i.includes("tar")||i.includes("rar")?Lk:a.endsWith(".pdf")||a.endsWith(".csv")||a.endsWith(".xlsx")?cS:dS);var i,a;const r=h===t,o=f.has(t);return n.jsxs("div",{className:fb("relative overflow-clip duration-300 rounded-[12px] h-full group",r?"border-[#80FFF9] opacity-100":"border-[#FFFFFF0F] opacity-100",d.has(t)?"opacity-100 border border-[#FFFFFF1F]":"border border-transparent"),children:[n.jsxs("div",{className:"flex items-center gap-4 p-3 bg-[#1D1D1E]",children:[n.jsxs("div",{className:"flex items-center justify-center flex-shrink-0 w-10 h-10 overflow-hidden rounded-lg",children:[O3(e.type,e.name)?n.jsx("img",{src:S(e.file),alt:e.name,className:"object-cover w-full h-full rounded-lg",onError:e=>{const t=e.target;t.style.display="none";const n=t.parentElement;if(n){const e=n.querySelector(".fallback-icon");e&&(e.style.display="block")}}}):U3(e.type,e.name)?n.jsx("img",{src:S(e.file),alt:e.name,className:"w-6 h-6",onError:e=>{const t=e.target;t.style.display="none";const n=t.parentElement;if(n){const e=n.querySelector(".fallback-icon");e&&(e.style.display="block")}}}):V3(e.type,e.name)?n.jsx("img",{src:V3(e.type,e.name),alt:"File",className:fb("w-10 h-10",V3(e.type,e.name)===L3&&"p-1")}):n.jsx(s,{className:"w-5 h-5 text-[#FFFFFF60]"}),(O3(e.type,e.name)||U3(e.type,e.name))&&n.jsx("div",{className:"fallback-icon",style:{display:"none"},children:V3(e.type,e.name)?n.jsx("img",{src:V3(e.type,e.name),alt:"File",className:"w-5 h-5"}):n.jsx(s,{className:"w-5 h-5 text-[#FFFFFF60]"})})]}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("h3",{className:"text-[#E6E6E6] font-medium text-[14px] font-['Inter'] truncate mb-1",children:q3(e.name)}),n.jsxs("div",{className:"flex items-center gap-2",children:[y3(e.type,e.name)&&n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"text-[12px] text-white/40 flex items-center gap-[6px]",children:n.jsx("span",{className:"font-['Inter'] font-medium text-[12px]",children:y3(e.type,e.name)})}),n.jsx("div",{className:"w-1 h-1 rounded-full bg-[#FFFFFF]/40"})]}),n.jsx("div",{className:"text-[12px] text-white/50 flex items-center gap-2",children:n.jsx("span",{children:W3(e.size)})})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[z3(e.type,e.name)||B3(e.type,e.name)?n.jsx("div",{className:"flex items-center gap-2",children:n.jsx(R,{delayDuration:0,children:n.jsxs(T,{children:[n.jsx(D,{asChild:!0,children:n.jsxs("div",{className:"flex items-center gap-2 bg-[#FFFFFF0A] text-[#FFFFFF66] px-2 py-1 rounded-full font-medium font-['Inter'] text-[12px]",children:["Agent cannot read",n.jsx("img",{alt:"Info",src:R3,className:"w-4 h-4"})]})}),n.jsx(M,{children:n.jsx(L,{className:"bg-[#FFFFFF] backdrop-blur-md text-[#0F0F10] shadow-lg z-[9999] font-['Inter'] font-medium px-3 py-2 rounded-md text-[12px]",side:"top",sideOffset:8,children:"The agent can't read this file type, but it can use the file in your application."})})]})})}):O(e)?n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(R,{delayDuration:0,children:n.jsxs(T,{children:[n.jsx(D,{asChild:!0,children:n.jsxs("div",{className:fb("flex items-center gap-2 text-[#F3CA5FCC] px-2 py-1 bg-[#F3CA5F14] rounded-full font-medium font-['Inter'] text-[12px]",e.readByAgent?"opacity-100":"bg-[#FFFFFF0A] text-[#FFFFFF66]"),children:[n.jsx("img",{alt:"Gold Coin",src:j3,className:fb("w-4 h-4",e.readByAgent?"opacity-100":"hidden")})," ",e.readByAgent?"Agent will read":"Agent will not read",n.jsx("img",{alt:"Info",src:R3,className:fb("w-4 h-4",e.readByAgent?"hidden":"")})]})}),n.jsx(M,{children:n.jsx(L,{className:"bg-[#FFFFFF] backdrop-blur-md text-[#0F0F10] shadow-lg z-[9999] font-['Inter'] font-medium px-3 py-2 rounded-md text-[12px]",side:"top",sideOffset:8,children:e.readByAgent?n.jsxs("span",{className:"font-['Inter'] font-medium",children:["This file will be added to the agent's context and ",n.jsx("br",{})," will use credits based on its size."]}):"This file will not be added to the agent's context."})})]})}),n.jsx(b3,{checked:e.readByAgent,onCheckedChange:e=>z(t,e),disabled:p||r||!O(e)})]}):null,n.jsxs("button",{type:"button",onClick:e=>H(t,e),disabled:p||r||o,className:fb("p-2 hover:bg-[#FFFFFF0F] rounded-lg transition-colors group",d.has(t)?"opacity-100 bg-[#FFFFFF0F]":"opacity-60 hover:opacity-100",(p||r||o)&&"opacity-30 cursor-not-allowed"),title:e.description?"Edit comment":"Add comment",children:[n.jsx("img",{src:e.description?N3:C3,alt:e.description?"Commented":"Comment",className:"w-6 h-6 group-hover:hidden"}),n.jsx("img",{src:e.description?N3:C3,alt:"Comment Active",className:"hidden w-6 h-6 group-hover:block"})]}),n.jsxs("button",{type:"button",onClick:()=>B(t),disabled:p||r,className:fb("group/delete p-2 rounded-lg transition-colors hover:bg-[#ED5B5B0F]",(p||r)&&"opacity-30 cursor-not-allowed"),title:"Delete",children:[n.jsx("img",{src:F3,alt:"Delete",className:"w-6 h-6 group-hover/delete:hidden"}),n.jsx("img",{src:_3,alt:"Delete Active",className:"hidden w-6 h-6 group-hover/delete:block"})]})]})]}),n.jsx(Rt,{children:d.has(t)&&n.jsx(Pt.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3,ease:"easeInOut"},className:"bg-[#18181A] overflow-hidden",children:n.jsx("input",{type:"text",placeholder:"Add comments for agent",value:e.description||"",onChange:e=>P(t,e.target.value),disabled:p,className:fb("w-full bg-transparent pl-4 py-4 font-medium text-[14px] text-[#FFFFFF60] placeholder-[#4A4A4D] font-['Inter'] focus:outline-none transition-colors",p&&"opacity-50 cursor-not-allowed"),autoFocus:!0})})})]},t)})})})]}),l.length>0&&n.jsxs("div",{className:"flex items-center justify-end gap-4 p-6 border-t border-[#242424]/60",children:[n.jsx("button",{type:"button",onClick:()=>t(!1),disabled:p,className:fb("px-6 py-3 bg-[#272729] hover:bg-[#444] rounded-full text-[#DCDCE5] font-medium text-[16px] transition-all duration-200",p&&"opacity-50 cursor-not-allowed"),children:"Cancel"}),n.jsx("button",{type:"button",onClick:U,disabled:!s||p,className:fb("md:px-6 p-3 md:py-3 bg-white hover:bg-white/90 rounded-full text-[#0E0E0F] font-semibold text-[14px]  md:text-[16px] transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",p&&"cursor-not-allowed"),children:p?n.jsxs(n.Fragment,{children:[n.jsx(hS,{className:"w-4 h-4 animate-spin"}),"Attaching..."]}):n.jsxs(n.Fragment,{children:[n.jsx("img",{src:w3,alt:"Share",className:"w-6 h-6 rotate-45 invert"}),"Attach ",l.length," Files"]})})]}),n.jsx("input",{ref:y,type:"file",multiple:!0,onChange:A,disabled:p,className:"hidden","aria-label":"Upload files"})]})}):null}const Z3=({isOpen:e,onClose:t,videoFile:s,videoUrl:i,testCasesData:a,isLoadingTestCases:r,onApproveVideo:o,onSaveTestCases:l,showApprovalStage:c})=>{const[d,u]=De.useState(""),[p,m]=De.useState(!1),[h,x]=De.useState(null);De.useEffect(()=>{a&&u(JSON.stringify(a,null,2))},[a]);const f=()=>{h&&(p?h.pause():h.play(),m(!p))},g=()=>{u(""),m(!1),t()};return n.jsx(_A,{open:e,onOpenChange:g,children:n.jsxs(AA,{className:"max-w-6xl max-h-[90vh] overflow-hidden",children:[n.jsx(TA,{children:n.jsx(MA,{children:c?"Review Screen & Audio Recording":"Screen & Audio Recording Test Cases"})}),n.jsxs("div",{className:"flex gap-6 h-[70vh] "+(c?"justify-center":""),children:[n.jsxs("div",{className:(c?"max-w-4xl":"flex-1")+" flex flex-col",children:[n.jsxs("div",{className:"mb-3",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Video & Audio Preview"}),c&&n.jsx("p",{className:"text-sm text-gray-600 mt-1",children:'Review your screen & audio recording and click "Generate Test Cases" to proceed.'})]}),n.jsx("div",{className:"relative bg-black rounded-lg overflow-hidden flex-1",children:i?n.jsxs(n.Fragment,{children:[n.jsx("video",{ref:e=>{x(e)},src:i,className:"w-full h-full object-contain",onPlay:()=>m(!0),onPause:()=>m(!1),controls:!1}),n.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black bg-opacity-30 opacity-0 hover:opacity-100 transition-opacity",children:n.jsx(wb,{variant:"ghost",size:"lg",onClick:f,className:"bg-white bg-opacity-20 hover:bg-opacity-30 text-white",children:p?n.jsx(vS,{className:"w-8 h-8"}):n.jsx(yS,{className:"w-8 h-8"})})}),n.jsx("div",{className:"absolute bottom-4 left-4 right-4",children:n.jsxs("div",{className:"flex items-center gap-2 text-white text-sm",children:[n.jsx(wb,{variant:"ghost",size:"sm",onClick:f,className:"text-white hover:bg-white hover:bg-opacity-20",children:p?n.jsx(vS,{className:"w-4 h-4"}):n.jsx(yS,{className:"w-4 h-4"})}),s&&n.jsxs("span",{className:"ml-2",children:[s.name," (",(s.size/1024/1024).toFixed(1)," MB)"]})]})})]}):n.jsx("div",{className:"flex items-center justify-center h-full text-gray-500",children:"No video available"})})]}),!c&&n.jsxs("div",{className:"flex-1 flex flex-col",children:[n.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Test Cases"}),r?n.jsx("div",{className:"flex-1 flex items-center justify-center border rounded-lg",children:n.jsxs("div",{className:"flex flex-col items-center gap-3",children:[n.jsx(hS,{className:"w-8 h-8 animate-spin"}),n.jsx("p",{className:"text-gray-600",children:"Generating test cases..."})]})}):n.jsx(jE,{value:d,onChange:e=>u(e.target.value),placeholder:"Test cases will appear here once generated...",className:"flex-1 font-mono text-sm resize-none",style:{minHeight:"400px"}})]})]}),n.jsxs(DA,{className:"flex justify-between",children:[n.jsx("div",{className:"flex gap-2",children:n.jsx(wb,{variant:"outline",onClick:g,children:"Cancel"})}),n.jsx("div",{className:"flex gap-2",children:c?n.jsx(wb,{onClick:o,disabled:!i,children:"Generate Test Cases"}):a&&n.jsx(wb,{onClick:()=>{l&&l(d),t()},disabled:r,children:"Save Test Cases"})})]})]})})},Y3=gv.common.visualEdit,K3="https://assets.emergent.sh/Built-in+Retina+Display_new.mp4",J3=({open:e,onOpenChange:t,onClose:s,onGetStarted:i,onLearnMore:a})=>{const[r,o]=De.useState(!1),[l,c]=De.useState(!1),d=De.useRef(null),{bannerHeight:u}=fL(),p=u+56;return De.useEffect(()=>{if(!e||r||Yu())e&&r?(c(!0),fg(JS.VISUAL_EDITS_MODAL_OPENED)):e||c(!1);else{const e=document.createElement("video");e.src=K3,e.preload="auto",e.muted=!0,e.addEventListener("loadeddata",()=>{o(!0),c(!0),fg(JS.VISUAL_EDITS_MODAL_OPENED)}),e.load()}},[e,r]),l?n.jsx("div",{style:{height:`calc(100dvh - ${p}px)`},className:"absolute w-full z-[49] flex items-center justify-center bg-[#0e0e0f50] backdrop-blur-[5px]",children:n.jsxs("div",{className:"relative w-[600px] max-w-[90dvw] rounded-2xl bg-[#1C1C1F] border border-[#242424] shadow-xl overflow-hidden",children:[n.jsx(Pt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full",children:n.jsx("video",{ref:d,src:K3,autoPlay:!0,loop:!0,muted:!0,playsInline:!0,className:"w-full h-auto"})}),n.jsx("div",{className:"relative flex flex-col p-6",children:n.jsxs("div",{className:"flex flex-col gap-12",children:[n.jsxs("div",{className:"flex flex-col gap-3",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Pt.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},className:"text-[28px] font-semibold leading-9 tracking-[-0.02em] text-white font-brockmann",style:{textShadow:"0px 0px 20px rgba(255, 255, 255, 0.2)"},children:"Introducing Edit mode"}),n.jsx(Pt.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.5,delay:.2},className:"inline-flex items-center gap-2 px-2 py-2 rounded-[30px] bg-[#0161D1] w-fit",children:n.jsx("div",{className:"flex items-center justify-center w-4 h-4",children:n.jsx("img",{src:Y3,alt:"Visual Edit",className:"w-4 h-4",style:{filter:"brightness(0) saturate(100%) invert(89%) sepia(0%) saturate(0%) hue-rotate(0deg) brightness(106%) contrast(91%)"}})})})]}),n.jsx(Pt.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},className:"text-[15px] font-medium leading-[1.6em] text-white/60 font-inter",children:"Edit mode is now built into the chat input. Click the cursor icon or press Cmd/ctrl+E to visually edit components."})]}),n.jsxs(Pt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4},className:"flex items-center gap-4",children:[n.jsx("button",{type:"button",onClick:()=>{fg(JS.VISUAL_EDITS_MODAL_LEARN_MORE_CLICKED),null==a||a()},className:"flex items-center justify-center flex-1 h-12 gap-2 px-2 py-2 text-lg font-medium text-white transition-all duration-200 border rounded-xl font-brockmann hover:bg-white/5",style:{background:"rgba(255, 255, 255, 0.1)",border:"1px solid rgba(255, 255, 255, 0.22)"},children:"Learn more"}),n.jsxs("button",{type:"button",onClick:()=>{Ku(),t(!1),null==i||i(),fg(JS.VISUAL_EDITS_MODAL_GOT_IT_CLICKED)},className:"flex items-center justify-center flex-1 h-12 gap-2 px-2 py-2 text-lg font-semibold text-black transition-all duration-200 bg-white rounded-xl font-brockmann hover:scale-105",style:{boxShadow:"0px 0px 20px 0px rgba(255, 255, 255, 0.4), 0px 0.7272726893424988px 0.7272726893424988px 0.7272726893424988px rgba(0, 0, 0, 0.1), inset 0px 2.1818180084228516px 3.6363635063171387px 1.4545453786849976px rgba(255, 255, 255, 0.4), inset 0px -1.4545453786849976px 0px 0px rgba(0, 0, 0, 0.2)"},children:[n.jsx("span",{children:"Got it"}),n.jsx(IM,{className:"w-6 h-6"})]})]})]})})]})}):null},Q3=(e="default")=>{const t="rounded-[10px] px-5 h-10 flex items-center justify-center gap-1.5 text-[15px] font-['Brockmann'] font-medium leading-5 tracking-[-0.2px] transition-all duration-200";switch(e){case"destructive":return`${t} bg-[#CC5252] hover:bg-[#B73E3E] text-white font-semibold`;case"outline":return`${t} bg-white/[0.04] hover:bg-white/[0.08] text-white border border-white/[0.12]`;case"ghost":return`${t} bg-transparent hover:bg-white/[0.08] text-white`;default:return`${t} bg-white hover:bg-white/90 text-black font-semibold`}};function X3({isOpen:e,onClose:t,onConfirm:s,onCancel:i,title:a="You have unsaved changes",description:r="Are you sure you want to exit the visual editor? You will lose your unsaved changes.",confirmButton:o={text:"Confirm",variant:"default"},cancelButton:l={text:"Cancel",variant:"outline"},showCloseIcon:c=!0,allowBackdropClose:d=!0,isFullscreen:u=!1,includeNavBarOffset:p=!1}){const{bannerHeight:m}=fL(),h=p?m+56:m;if(De.useEffect(()=>{if(!e)return;const t=e=>{(e.metaKey||e.ctrlKey)&&"s"===e.key&&(e.preventDefault(),e.stopPropagation(),s())};return document.addEventListener("keydown",t),()=>{document.removeEventListener("keydown",t)}},[e,s]),!e)return null;return n.jsx("div",{style:{height:`calc(100dvh - ${h}px)`,top:`${h}px`},className:fb("absolute left-0 right-0 bottom-0 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4",u?"z-[10000]":"z-[49]"),onClick:e=>{d&&e.target===e.currentTarget&&t()},children:n.jsxs("div",{className:"bg-[#1C1C1F] rounded-[20px] w-full max-w-[600px] h-auto max-h-[90vh] overflow-y-auto flex flex-col justify-between p-6 gap-14",onClick:e=>e.stopPropagation(),children:[n.jsxs("div",{className:"flex justify-between items-start gap-4",children:[n.jsxs("div",{className:"flex flex-col gap-4 flex-1",children:[n.jsx("h1",{className:"text-2xl font-['Brockmann'] font-medium leading-8 text-white",children:a}),n.jsx("p",{className:"text-base font-['Inter'] font-medium leading-6 text-white/60",children:r})]}),c&&n.jsx("button",{onClick:t,className:"flex-shrink-0 w-8 h-8 flex items-center justify-center bg-white/[0.04] rounded-full hover:bg-white/[0.08] transition-colors p-1.5",children:n.jsx(RS,{className:"w-6 h-6 text-white/50"})})]}),n.jsxs("div",{className:"flex items-center gap-2.5 justify-end",children:[n.jsx("button",{onClick:()=>{(null==i?void 0:i())||t()},className:Q3(l.variant),children:l.text}),n.jsx("button",{onClick:s,className:Q3(o.variant),children:o.text})]})]})})}function e6(){const{getVisualEditState:e}=d2();return{guardAction:De.useCallback((t,n)=>{var s,i;const a=e();return(null==a?void 0:a.activeJobId)?a.hasUnsavedChanges?(null==(s=null==n?void 0:n.showModal)||s.call(n,{onConfirm:()=>{var e,n;null==(e=a.onDiscard)||e.call(a),null==(n=a.onDisableVisualEdit)||n.call(a),t()},title:(null==n?void 0:n.modalTitle)||"You have unsaved changes",description:(null==n?void 0:n.modalDescription)||"Are you sure you want to continue?",confirmButton:{text:(null==n?void 0:n.confirmText)||"Confirm",variant:"default"},cancelButton:{text:"Cancel",variant:"outline"}}),!1):(null==(i=a.onDisableVisualEdit)||i.call(a),t(),!0):(t(),!0)},[e])}}const t6=({isOpen:e,onOpenChange:t,jobId:s,containerId:i,publishConfig:a={},handlePublishClick:r,previewUrl:o})=>{const{enablePublish:l=!1,isPublishing:c=!1,isPublished:d=!1}=a;return n.jsx(VI,{trigger:n.jsx("div",{}),open:e,onOpenChange:t,maxWidth:"max-w-full",showDefaultFooter:!1,contentPadding:"p-0",handleColor:"bg-[#fff]/10",children:n.jsxs("div",{className:"space-y-5 bg-[#111112] p-4 border-t border-t-1 border-white/20 rounded-t-2xl",children:[n.jsxs("div",{className:"flex flex-col space-y-4 pt-8",children:[o&&n.jsxs("div",{className:"flex items-center gap-[6px] p-3 bg-[#FFFFFF0F] rounded-[10px]",children:[n.jsx("div",{className:"w-6 h-6 rounded-full flex items-center justify-center",children:n.jsx(dU,{width:20,height:20})}),n.jsx("span",{className:"text-sm text-white font-medium font-['Inter'] truncate flex-1",children:o})]}),n.jsx("p",{className:fb("py-2 rounded-[10px] font-['Inter'] text-sm font-medium mb-4",d?"text-white/30 bg-transparent":"text-[#FFAE66] bg-[#FFAE660A] px-3"),children:"Preview links expire in 30 minutes. Publish your app to make your preview link persistent."})]}),!d&&n.jsx("div",{className:"text-start",children:n.jsx(wb,{onClick:e=>{e.stopPropagation(),null==r||r(),t(!1)},disabled:c,className:"w-full h-12 bg-gradient-to-b from-[#33CCFF] to-[#337AF2] hover:opacity-90 text-white font-semibold rounded-[10px]",children:n.jsx("div",{className:"flex items-center justify-center gap-2 w-full",children:c?n.jsxs(n.Fragment,{children:[n.jsx(hS,{className:"w-5 h-5 animate-spin mr-2"}),"Publishing..."]}):"Publish"})})})]})})},n6=({size:e=48,color:t="#B8B8CC",className:s="",...i})=>n.jsx("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:s,...i,children:n.jsx("path",{d:"M11 17H13V11H11V17ZM12 9C12.2833 9 12.5208 8.90417 12.7125 8.7125C12.9042 8.52083 13 8.28333 13 8C13 7.71667 12.9042 7.47917 12.7125 7.2875C12.5208 7.09583 12.2833 7 12 7C11.7167 7 11.4792 7.09583 11.2875 7.2875C11.0958 7.47917 11 7.71667 11 8C11 8.28333 11.0958 8.52083 11.2875 8.7125C11.4792 8.90417 11.7167 9 12 9ZM12 22C10.6167 22 9.31667 21.7375 8.1 21.2125C6.88333 20.6875 5.825 19.975 4.925 19.075C4.025 18.175 3.3125 17.1167 2.7875 15.9C2.2625 14.6833 2 13.3833 2 12C2 10.6167 2.2625 9.31667 2.7875 8.1C3.3125 6.88333 4.025 5.825 4.925 4.925C5.825 4.025 6.88333 3.3125 8.1 2.7875C9.31667 2.2625 10.6167 2 12 2C13.3833 2 14.6833 2.2625 15.9 2.7875C17.1167 3.3125 18.175 4.025 19.075 4.925C19.975 5.825 20.6875 6.88333 21.2125 8.1C21.7375 9.31667 22 10.6167 22 12C22 13.3833 21.7375 14.6833 21.2125 15.9C20.6875 17.1167 19.975 18.175 19.075 19.075C18.175 19.975 17.1167 20.6875 15.9 21.2125C14.6833 21.7375 13.3833 22 12 22ZM12 20C14.2333 20 16.125 19.225 17.675 17.675C19.225 16.125 20 14.2333 20 12C20 9.76667 19.225 7.875 17.675 6.325C16.125 4.775 14.2333 4 12 4C9.76667 4 7.875 4.775 6.325 6.325C4.775 7.875 4 9.76667 4 12C4 14.2333 4.775 16.125 6.325 17.675C7.875 19.225 9.76667 20 12 20Z",fill:t})}),s6=({size:e=24,color:t="#CCCCCC",className:s=""})=>n.jsx("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:s,children:n.jsx("path",{d:"M17.6211 2.99951C19.4849 2.99951 20.9958 4.51078 20.9961 6.37451V17.6245C20.9961 19.4885 19.485 20.9995 17.6211 20.9995H6.37109C4.50736 20.9993 2.99609 19.4883 2.99609 17.6245V6.37451C2.99634 4.51093 4.50751 2.99976 6.37109 2.99951H17.6211ZM7.67773 8.06396C7.48528 8.07449 7.30332 8.16003 7.16699 8.3042C7.02094 8.45884 6.93858 8.66856 6.93848 8.88721C6.93849 9.10598 7.02086 9.31647 7.16699 9.47119L9.55469 11.9985L7.16699 14.5278L7.1123 14.5903C6.98591 14.7543 6.92435 14.9642 6.93945 15.1753C6.95469 15.3861 7.0461 15.5824 7.19434 15.7241C7.34266 15.8658 7.5366 15.9434 7.73633 15.938C7.93631 15.9324 8.12732 15.8448 8.26855 15.6948L11.208 12.5825L11.2627 12.52C11.3842 12.3617 11.4453 12.1613 11.4355 11.9575C11.4256 11.7536 11.3444 11.5599 11.208 11.4155L8.26855 8.3042L8.20898 8.24756C8.05945 8.119 7.87014 8.05357 7.67773 8.06396ZM12.2041 14.2505L12.1299 14.2534C11.934 14.2731 11.7528 14.37 11.624 14.5229C11.4954 14.6757 11.4292 14.8731 11.4385 15.0747C11.4479 15.2765 11.5314 15.4684 11.6738 15.6079C11.8164 15.7475 12.0071 15.8256 12.2041 15.8257H16.2949L16.3682 15.8208C16.5641 15.8012 16.7462 15.706 16.875 15.5532C17.0039 15.4003 17.07 15.2015 17.0605 14.9995C17.051 14.7975 16.9659 14.6068 16.8232 14.4673C16.6807 14.3281 16.4917 14.2505 16.2949 14.2505H12.2041Z",fill:t})}),i6=gv.common.deploy,a6=({isOpen:e,onOpenChange:t,podIsPaused:s,buildMode:i,diffCount:a,isCloudFlow:r,showCase:o,isEmergentUser:l,isPublishDisabled:c,hasPreviewUrl:d,enablePublish:u,onInfoClick:p,onVSCodeClick:m,previewUrl:h,onDiffClick:x,onPreviewClick:f,onDeployClick:g,onPublishClick:v,onPublishBottomSheetOpen:b})=>{const y=KE(),w=e=>{t(!1),setTimeout(()=>{e()},100)},j="\n    rounded \n    shadow-[0px_50px_14px_0px_rgba(0,0,0,0.00),0px_32px_13px_0px_rgba(0,0,0,0.03),0px_18px_11px_0px_rgba(0,0,0,0.10),0px_8px_8px_0px_rgba(0,0,0,0.16),0px_2px_4px_0px_rgba(0,0,0,0.19)]\n    flex \n    w-[80px]\n    h-[60px]\n    justify-center \n    items-center\n    relative\n    overflow-hidden\n    bg-gray-300\n  ".trim();return n.jsx(n.Fragment,{children:n.jsx(VI,{trigger:n.jsx("div",{}),open:e,onOpenChange:t,maxWidth:"max-w-full",showDefaultFooter:!1,contentPadding:"",handleColor:"bg-[#fff]/10",children:n.jsxs("div",{className:"max-h-[70vh] pb-4 overflow-y-auto bg-[#111112] rounded-t-[24px]",children:[n.jsxs("div",{className:"flex items-center sticky z-[100] top-0 justify-center w-full py-4 border-b border-[#242424] bg-[#111112]",children:[n.jsx("span",{className:"font-medium text-[18px]",children:"Quick Actions"}),n.jsx("button",{type:"button",title:"Close",onClick:()=>{t(!1)},className:"absolute flex items-center justify-center w-8 h-8 p-1 rounded-full top-3 right-4 bg-white/5 hover:bg-white/10",children:n.jsx(RS,{className:"w-5 h-5"})})]}),n.jsxs("div",{className:"flex flex-col p-4 ",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[u&&b?n.jsxs("button",{onClick:()=>w(b),disabled:c,className:fb("flex flex-col gap-3 p-4 transition-colors bg-gradient-to-bl from-[#80FFF9] to-[#1588FC] rounded-[12px] hover:bg-white/5 min-h-[130px] justify-between items-start disabled:opacity-50"),children:[n.jsx("img",{src:i6,alt:"publish",className:"w-8 h-8"}),n.jsx("span",{className:"font-semibold text-[#0F0F10] text-nowrap ",children:"Publish Your App"})]}):n.jsxs("button",{onClick:()=>w(g),disabled:c,className:fb("flex flex-col gap-3 p-4 transition-colors bg-gradient-to-bl from-[#80FFF9] to-[#1588FC] rounded-[12px] hover:bg-white/5 min-h-[130px] justify-between items-start disabled:opacity-50"),children:[n.jsx("img",{src:i6,alt:"deploy",className:"w-8 h-8"}),n.jsx("span",{className:"font-semibold text-[#0F0F10] text-nowrap ",children:"Deploy Your App"})]}),n.jsxs("button",{onClick:()=>w(f),disabled:!d,className:fb("flex flex-col gap-3 px-4 py-3 bg-[#FFFFFF] transition-colors justify-between items-start rounded-[12px] disabled:opacity-50"),children:[n.jsxs("div",{className:j,children:[h&&n.jsx("iframe",{src:h,title:"Preview",className:"rounded w-[80px] h-[60px] z-[1] pointer-events-none",style:{zoom:1,pointerEvents:"none"}}),n.jsx("div",{className:"absolute z-[50] h-full w-[80px] inset-0 flex items-center justify-center rounded pointer-events-none bg-black/50",children:n.jsx(J2,{color:"#fff"})})]}),n.jsx("span",{className:"text-nowrap font-semibold text-[#0F0F10]",children:"View Preview"})]})]}),n.jsxs("div",{className:"flex flex-col gap-3 mt-3",children:[n.jsxs("button",{type:"button",onClick:()=>{h&&w(()=>{y.open({shareableLink:h,fromShowcase:o,previewUrl:h})})},disabled:!h||s||"build"!==i,className:fb("flex items-center flex-row-reverse justify-between gap-3 p-4 transition-colors bg-white/5 rounded-[12px] disabled:opacity-50"),children:[n.jsx(ES,{size:20,color:"#ccc"}),n.jsx("span",{className:"text-sm font-medium text-[#CCCCCC]",children:"Share Preview"})]}),n.jsxs("button",{type:"button",onClick:()=>w(m),disabled:s||"build"!==i,className:fb("flex items-center flex-row-reverse justify-between gap-3 p-4 transition-colors bg-white/5 rounded-[12px] disabled:opacity-50"),children:[n.jsx(s6,{size:20,color:"#ccc"}),n.jsx("span",{className:"text-sm font-medium text-[#CCCCCC]",children:"View Code"})]}),n.jsxs("button",{type:"button",className:fb("flex items-center gap-3 flex-row-reverse justify-between p-4 transition-colors rounded-[12px] bg-white/5"),onClick:p,children:[n.jsx(n6,{size:20,color:"#CCCCCC"}),n.jsx("span",{className:"text-sm font-medium text-[#CCCCCC]",children:"View Info"})]})]})]})]})})})},r6=gv.common.arrowUploadReadyDark,o6=gv.deployment.webImage;function l6({onDeployClick:e,loading:t,localLoading:s,podIsPaused:i}){return n.jsxs(Pt.div,{className:"space-y-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{type:"spring",stiffness:300,damping:30},children:[n.jsx("div",{className:" text-[14px] md:text-[16px] font-['Inter'] text-[#939399]",children:"Deploy your application to an Emergent hosted production-ready environment. This will make it publicly accessible with managed infrastructure that never sleeps."}),n.jsx("div",{className:"flex flex-col items-center justify-center p-4 bg-[#131314] rounded-xl border border-[#242424] py-[24px] md:gap-8 md:py-[48px]",children:n.jsxs("div",{className:"flex flex-col items-center",children:[n.jsx("img",{src:o6,alt:"Web",className:"w-10 h-10 mb-2 md:w-12 md:h-12 md:mb-4"}),n.jsx("div",{className:"mb-3 text-[14px]  md:text-lg font-medium font-['Inter'] text-white",children:"Start New Deployment"}),n.jsxs("div",{className:"flex flex-col mb-3 md:mb-6 text-center font-medium text-[13px]  md:text-[15px] text-white/50",children:[n.jsx("span",{className:"md:block hidden font-['Inter']",children:"Ready to go live? Hit Start Deployment to launch your app."}),n.jsx("span",{className:"font-['Inter'] text-[#F3CA5F] ",children:"Each new deployment costs 50 credits/month."})]}),n.jsx("div",{children:n.jsx(EE,{children:n.jsxs(IE,{children:[n.jsx(AE,{children:n.jsx("button",{type:"button",onClick:e,className:"flex items-center gap-2 px-3 py-1 text-black bg-white rounded-full md:px-6 md:py-2 hover:bg-white/90 disabled:opacity-50",disabled:t||s||i,children:t||s?n.jsxs(n.Fragment,{children:[n.jsx(hS,{className:"w-5 h-5 animate-spin"}),n.jsx("span",{children:"Loading..."})]}):n.jsxs("div",{className:"flex items-center gap-2 text-[15px]  md:text-lg font-semibold font-brockmann",children:[n.jsx("span",{children:"Start Deployment"}),n.jsx("img",{src:r6,alt:"Deploy",className:"w-4 h-4 md:w-6 md:h-6"})]})})}),n.jsxs(TE,{className:fb("bg-[#DDDDE6] text-black border-0",i?"":"hidden"),children:[n.jsx("span",{className:"text-[12px] md:text-[14px] font-['Inter']",children:i?"Please wake up the agent before deploying":""}),n.jsx(DE,{className:"fill-[#DDDDE6]"})]})]})})})]})})]})}const c6=gv.common.completeTick,d6=gv.icons.animatedSpinner;function u6({deploymentSteps:e,currentStepIndex:t,deployStatus:s,latestRunStatus:i,stepNameMap:a,runningStepNameMap:r}){return n.jsx(Pt.div,{className:"flex flex-col justify-between h-full",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{type:"spring",stiffness:300,damping:30},children:n.jsx("div",{className:"bg-[#111112] border border-[#242424] rounded-[8px]",children:n.jsx(Rt,{mode:"wait",children:e.length>0?n.jsx(Pt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"",children:e.map((o,l)=>{var c,d;const u=l===t;let p=!1;!u||"running"!==s&&"running"!==i||(p=!0),"pending"===o.status&&(0===l&&("running"===s||"running"===i)&&e.every(e=>"pending"===e.status)||l>0&&"success"===e[l-1].status)&&(p=!0),"running"===o.status&&(p=!0);const{bgColor:m,textColor:h,icon:x}=((e,t,a=!1)=>"success"===e?{bgColor:"bg-[#111112]",textColor:"text-[##DDDDE6]",icon:n.jsx("img",{src:c6,alt:"Deploy",className:"w-6 h-6"})}:"running"===e||a||t&&("running"===s||"running"===i)?{bgColor:"bg-[#33DDFF]/5",textColor:"text-[#33DDFF]",icon:n.jsx("img",{src:d6,alt:"Deploy",className:"w-6 h-6"})}:"failed"===e?{bgColor:"bg-[#FF3333]/5",textColor:"text-[#FF3333]",icon:n.jsx(Zk,{className:"w-6 h-6 text-[#FF3333]"})}:{bgColor:"bg-[#111112]",textColor:"text-[#737780]",icon:n.jsx("div",{className:"w-4 h-4 rounded-full border-[#DDDDE680]/50 border-[1.5px] flex items-center justify-center"})})(o.status,u,p);let f;return f=p?(null==(c=a[o.name])?void 0:c.running)||r[o.name]||o.name:(null==(d=a[o.name])?void 0:d[o.status])||o.name,n.jsxs(Pe.Fragment,{children:[n.jsx(Pt.div,{className:`flex relative items-center justify-between p-4 m-2 ${m} rounded-lg`,initial:{opacity:0,y:20,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-20,scale:.95},transition:{type:"spring",stiffness:500,damping:30,mass:1,delay:.15*l},layout:!0,children:n.jsxs("div",{className:"flex items-center gap-2 font-berkeley",children:[x,n.jsx("span",{className:`${h} font-berkeley text-[15px] md:text-lg`,children:f})]})}),l<e.length-1&&n.jsx("div",{className:"h-[1px] bg-[#242424]"})]},`step-${o.id}`)})},"deployment-steps-list"):null})})},"deployment-steps-container")}const p6=({previewUrl:e,children:t,side:s="bottom",align:i="center"})=>{const[a,r]=De.useState(""),[o,l]=De.useState(!1),c=De.useMemo(()=>{if(!e)return"";return`exp://${e.replace(/^https:\/\//,"").split(".")[0]}.ngrok.io`},[e]);return De.useEffect(()=>{c&&(l(!0),xX.toDataURL(c,{width:120,margin:1,color:{dark:"#000000",light:"#FFFFFF"}}).then(e=>{r(e)}).catch(e=>{}).finally(()=>{l(!1)}))},[c]),n.jsx(EE,{children:n.jsxs(IE,{delayDuration:300,children:[n.jsx(AE,{asChild:!0,children:t}),n.jsx(TE,{side:s,align:i,className:"bg-white border border-gray-200 shadow-lg rounded-lg p-2 w-[136px] h-[178px]",sideOffset:8,children:n.jsxs("div",{className:"flex flex-col items-center justify-center h-full space-y-2",children:[n.jsx("div",{className:"w-[120px] h-[120px] flex items-center justify-center bg-gray-100 rounded-lg",children:o?n.jsx("div",{className:"text-gray-500 text-xs",children:"Generating..."}):a?n.jsx("img",{src:a,alt:"QR Code for app preview",className:"w-[120px] h-[120px] rounded-lg"}):n.jsx("div",{className:"text-gray-500 text-xs text-center",children:"Failed to generate"})}),n.jsxs("p",{className:"text-black/60 text-xs font-['Inter'] font-semibold text-center leading-tight",children:["Scan to view your ",n.jsx("br",{})," deployed app"]})]})})]})})},m6=gv.common.timeRever,h6=gv.common.arrowDownBig,x6=gv.deployment.logs,f6=gv.deployment.logWithError,g6=gv.deployment.webDarkLink,v6=({deployStatus:e,showLogs:t=!1,currentActive:s,deployTime:i,deploymentLink:a,deploymentRun:r,onRollbackClick:o,inRollbackModal:l=!1,isRollbackTarget:c=!1,latestRunStatus:d=null,nextExist:u,handleLogsClick:p,isExpoImage:m=!1})=>{const h=(null==r?void 0:r.id)?r.id.substring(0,7):"unknown",[x,f]=De.useState(!1),g={initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1,transition:{type:"spring",stiffness:500,damping:30}},hover:{scale:1.05,transition:{type:"spring",stiffness:400,damping:20}},tap:{scale:.95}},v={initial:{opacity:0,scale:.9,x:10},animate:{opacity:1,scale:1,x:0,transition:{type:"spring",stiffness:500,damping:30}},exit:{opacity:0,scale:.9,x:10,transition:{duration:.2}}},b=De.useMemo(()=>{const e=null==a?void 0:a.replace(/^(https?:\/\/)?(www\.)?/i,"");return`${null==e?void 0:e.split(".")[0]}-deployed.ngrok.io`},[a]);return n.jsx(n.Fragment,{children:n.jsx(Pt.div,{className:fb("rounded-[12px] z-[100] relative flex items-center w-full justify-between",s&&!l?"p-3 md:p-4 md:py-4 bg-gradient-to-r from-[#80FFF9]/10 to-[#1588FC]/10 md:max-h-[88px] border-[#80FFF9]/20 border-[1px]":l&&!c?" p-3 md:p-4 md:py-4 bg-gradient-to-r from-[#80FFF9]/10 to-[#1588FC]/10 md:max-h-[80px] border-[#80FFF9]/50 border-[1px]":c?"p-3 md:p-5 md:py-4 bg-[#61616114] md:max-h-[60px]":"md:rounded-[12px] pr-3 pl-4 py-4 bg-[#61616114] md:max-h-[56px]"),variants:{initial:{opacity:0,y:10,scale:.98},animate:{opacity:1,y:0,scale:1,transition:{type:"spring",stiffness:400,damping:30,mass:1}}},initial:"initial",animate:"animate",layout:!0,onMouseEnter:()=>f(!0),onMouseLeave:()=>f(!1),children:n.jsxs("div",{className:"flex flex-col items-start justify-between w-full gap-3 md:gap-0 md:items-center md:flex-row",children:[n.jsxs("div",{className:fb("flex md:flex-row  items-center gap-2",s&&!l||l&&!c?"text-[#80FFF9]":"text-white"),children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(tT,{color:c?"#737780":l&&!c||s?"#2EE572":"failed"===e?"#ED5B5B":"#FFFFFF",size:16,innerSize:8,animate:l&&!c,className:""}),n.jsx("span",{className:fb("font-medium font-['Inter']","failed"===e&&"text-[#ED5B5B]",s&&"text-[#2EE572]"),children:"failed"===e?"Failed to Deploy":s?"Live":"Deployed"})]}),n.jsx("span",{className:"font-medium opacity-50 font-berkeley",children:h}),n.jsx("div",{className:fb("h-[20px] w-[2px] ",s?"bg-[#80FFF920]":"bg-[#FFFFFF20]")}),n.jsx("span",{className:"font-medium opacity-50 font-['Inter'] text-sm text-nowrap",children:i})]}),!l&&n.jsxs("div",{className:"flex items-center gap-4 group",children:[n.jsxs(n.Fragment,{children:[t&&"failed"===e&&n.jsxs(Pt.div,{onClick:()=>{p&&p()},className:"flex items-center gap-1 max-h-[40px] hover:bg-[#FFFFFF20] px-3 py-2 rounded-full cursor-pointer bg-[#FFFFFF14] ",children:[n.jsx("img",{src:"failed"===e?f6:x6,alt:"Logs",className:"w-6 h-6"}),n.jsx("span",{className:"font-semibold ",children:"View Logs"})]}),"success"===e&&s&&n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(Pt.div,{onClick:()=>{a&&window.open(a,"_blank")},className:"flex items-center gap-8 max-h-[40px] rounded-full cursor-pointer bg-[#fff] pl-[14px] pr-[10px] py-[10px]",variants:g,initial:"initial",animate:"animate",whileHover:"hover",whileTap:"tap",children:[n.jsx("span",{className:"text-[#000] font-semibold",children:"Visit"}),n.jsx(Pt.img,{src:g6,alt:"Web",className:"w-6 h-6 grayscale-[100]"})]}),m&&n.jsx(p6,{previewUrl:b,side:"bottom",children:n.jsx(Pt.div,{className:"flex items-center justify-center w-[40px] h-[40px] rounded-full cursor-pointer bg-[#fff] hover:bg-[#fff]/80",variants:g,initial:"initial",animate:"animate",whileHover:"hover",whileTap:"tap",title:"Show QR Code",children:n.jsx(jS,{className:"w-5 h-5 text-black"})})})]})]}),"success"===e&&!s&&"running"!==d&&n.jsxs(Rt,{children:[x&&n.jsx(n.Fragment,{children:n.jsxs(Pt.div,{onClick:()=>o&&o((null==r?void 0:r.id)||""),className:"flex cursor-pointer items-center gap-4 rounded-full bg-[#FFFFFF08] hover:bg-[#ffffff10] pl-[14px] pr-[10px] py-[6px]",variants:v,initial:"initial",animate:"animate",exit:"exit",whileHover:"hover",whileTap:"tap",children:[n.jsx("span",{className:"text-[#FFFFFF] font-medium",children:"Rollback"}),n.jsx(Pt.img,{src:m6,alt:"Web",className:"w-6 h-6"})]})}),n.jsxs(Pt.div,{onClick:()=>o&&o((null==r?void 0:r.id)||""),className:"flex md:hidden cursor-pointer items-center gap-4 rounded-full bg-[#FFFFFF08] hover:bg-[#ffffff10] pl-[14px] pr-[10px] py-[6px]",variants:v,initial:"initial",animate:"animate",exit:"exit",whileHover:"hover",whileTap:"tap",children:[n.jsx("span",{className:"text-[#FFFFFF] font-medium",children:"Rollback"}),n.jsx(Pt.img,{src:m6,alt:"Web",className:"w-6 h-6",variants:{initial:{rotate:0},hover:{rotate:10,transition:{type:"spring",stiffness:300,damping:10}}},initial:"initial",whileHover:"hover"})]})]})]}),!c&&l&&n.jsxs("div",{className:"flex cursor-pointer items-center gap-3 px-3 py-2 rounded-full bg-[#2EE5721A]",children:[n.jsx(tT,{color:"#2EE572",size:16,innerSize:8,animate:!1,className:""}),n.jsx("span",{className:"text-[#2EE572] font-semibold",children:"Current"})]}),c&&n.jsx("img",{src:h6,alt:"Arrow",className:"absolute -top-[3rem] left-1/2 transform -translate-x-1/2 z-10 min-w-[56px] min-h-[56px]"}),c&&n.jsx("div",{className:"flex relative cursor-pointer items-center gap-3 px-3 py-2 rounded-full bg-[#FFFFFF0A]",children:n.jsx("span",{className:"font-semibold text-white",children:"Previous"})})]})})})};function b6({deploymentHistory:e,jobId:t,handleDeploy:s,deployStatus:i,runId:a,deployUrl:r,customDomainUrl:o,customDomain:l,latestRunStatus:c,agentStatus:d,onRollbackClick:u,onUnlinkDomain:p,formatTimeAgo:m,handleLogsClick:h,deployLogs:x,loadDeployLogs:f,isExpoImage:g=!1}){const{toast:v}=on();De.useEffect(()=>{t&&(async e=>{if(f)try{await f(e)}catch(t){}})(t)},[t]);return n.jsx(Pt.div,{className:"relative",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{type:"spring",stiffness:300,damping:30},children:n.jsx("div",{className:"max-h-[400px] relative z-[5] flex flex-col gap-8 overflow-y-auto overflow-clip border border-[#FFFFFF1F] rounded-[12px] p-2 md:p-4",children:n.jsx(Rt,{mode:"wait",children:e&&e.length>0?n.jsx(Pt.div,{className:"flex relative flex-col gap-4 md:gap-[6px] z-[10]",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:e.map((i,o)=>n.jsxs(n.Fragment,{children:[n.jsx(Pt.div,{initial:{opacity:0,y:20,scale:.95},animate:{opacity:1,y:0,scale:1},transition:{type:"spring",stiffness:400,damping:30,delay:.1*o},className:"z-[10]",children:n.jsx(v6,{jobId:t,showLogs:0===o,handleDeploy:s,deployStatus:i.status,currentActive:i.id===a&&"success"===i.status,deployTime:m(i.updated_at),nextExist:o<e.length-1,deploymentLink:l&&"verified"===l.status?(null==l?void 0:l.domain.includes("http"))?l.domain:`https://${l.domain}`:r||"",deploymentRun:i,latestRunStatus:c,handleLogsClick:h,isExpoImage:g,onRollbackClick:e=>{"running"!==d?u(e):v({title:"Agent is Running",description:"Please wait for agent to finish or stop it manually before rolling back",variant:"destructive",duration:2e3})}})},`history-${i.id}`),o<e.length-1&&n.jsx("div",{className:" w-[3px] ml-[24px] hidden md:block md:h-[16px] dotted-spaced  border-[#FFFFFF20] border-dashed -bottom-[24px] border-l-[2px] left-[28px]"})]}))},"history-list"):n.jsx(Pt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:n.jsx("div",{className:"py-4 text-center text-gray-400",children:"No deployment history available"})},"no-history")})})},"deployment-history")}var y6,w6={exports:{}};var j6=(y6||(y6=1,function(e){function t(e){return e&&e.__esModule?e.default:e}function n(e,t,n,s){Object.defineProperty(e,t,{get:n,set:s,enumerable:!0,configurable:!0})}var s;function i(){return new Promise((e,t)=>{const n=window.entri;if(n)return void e(n);const s=document.createElement("script");s.type="text/javascript",s.src="https://cdn.goentri.com/entri.js",s.addEventListener("load",()=>{e(window.entri)}),s.addEventListener("error",()=>{t(new Error("Failed to load the Entri SDK."))}),document.body.appendChild(s)})}n(e.exports,"showEntri",()=>r),n(e.exports,"checkDomain",()=>o),n(e.exports,"purchaseDomain",()=>l),n(e.exports,"close",()=>c),n(e.exports,"load",()=>d),s=JSON.parse('{"name":"entrijs","version":"0.0.16","description":"Entri","source":"src/index.ts","main":"dist/main.js","types":"dist/types.d.ts","scripts":{"build":"parcel build --no-cache","test":"echo \\"Error: no test specified\\" && exit 1"},"author":"Entri LLC","license":"MIT","dependencies":{"react":"^18.2.0"},"devDependencies":{"@parcel/packager-ts":"^2.12.0","@parcel/transformer-typescript-types":"^2.12.0","parcel":"^2.12.0","typescript":"^5.5.4"}}');const a=e=>{var n;return{...e,npm:!0,npmVersion:(null==(n=t(s))?void 0:n.version)??""}},r=async e=>(await i()).showEntri(a(e)),o=async(e,t)=>(await i()).checkDomain(e,t),l=async e=>(await i()).purchaseDomain(a(e)),c=async()=>(await i()).close(),d=async()=>await i()}(w6)),w6.exports);const C6=new class{constructor(){t(this,"applicationId"),this.applicationId="emergent"}async fetchEntriToken(){var e;try{const{supabase:e}=await Ht(async()=>{const{supabase:e}=await Promise.resolve().then(()=>Jt);return{supabase:e}},void 0),{data:{session:t},error:n}=await e.auth.getSession();if(n||!t)throw new Error("Authentication required. Please log in again.");return(await pm()).token}catch(t){throw"ERR_NETWORK"===t.code||null==(e=t.message)||e.includes("Network Error"),t}}async launchEntriModal(e,t,n){try{const s=await this.fetchEntriToken(),i={applicationId:this.applicationId,token:s,dnsRecords:t,prefilledDomain:e,applicationName:"Emergent",...n&&{userId:n}};return new Promise(e=>{const t=n=>{var s,i,a;window.removeEventListener("onEntriClose",t),e({success:(null==(s=n.detail)?void 0:s.success)||!1,domain:null==(i=n.detail)?void 0:i.domain,setupType:null==(a=n.detail)?void 0:a.setupType})};window.addEventListener("onEntriClose",t,!1),j6.showEntri(i).catch(n=>{window.removeEventListener("onEntriClose",t),e({success:!1})})})}catch(s){throw s}}parseDomain(e){if(!e)return{subdomain:null,rootDomain:"",isSubdomain:!1};const t=e.replace(/^https?:\/\//,"").toLowerCase(),n=t.split("."),s=["co.uk","com.au","co.nz","co.za","com.br","co.in","net.au","org.uk","ac.uk"];let i=2;for(const a of s)if(t.endsWith(a)){i=3;break}if(n.length>i){const e=n.slice(0,n.length-i),t=n.slice(n.length-i);return{subdomain:e.join("."),rootDomain:t.join("."),isSubdomain:!0}}return{subdomain:null,rootDomain:t,isSubdomain:!1}}formatDnsRecordsForEntri(e,t){const n=t?this.parseDomain(t):null;return e.map(e=>{let s=e.name;n&&n.isSubdomain?e.name&&e.name.includes(".")?s=(e.name===t||e.name===n.rootDomain)&&n.subdomain||"@":e.name&&""!==e.name&&"@"!==e.name||(s=n.subdomain||"@"):e.name&&e.name.includes(".")?s="@":e.name&&""!==e.name||(s="@");return{type:e.type,host:s,value:e.value||"",ttl:300,..."MX"===e.type?{priority:10}:{}}})}async checkDomainSupport(e,t){try{const n=await this.fetchEntriToken(),s={applicationId:this.applicationId,token:n,dnsRecords:t};return await j6.checkDomain(e,s)}catch(n){throw n}}createDnsRecordsWithWildcard(e,t=!0){const n=[{type:"A",host:"@",value:e,ttl:300}];return t&&n.push({type:"A",host:"*",value:e,ttl:300}),n}async launchEntriSellModal(e,t=!1,n,s){try{let i=!1,a=s;if(s){const e=this.parseDomain(s);e.isSubdomain&&(i=!0,a=e.rootDomain)}const r=await this.fetchEntriToken(),o=window.location.origin,l=`${o}/domain-success`,c=`${o}/domain-exit`,d=!1,u=`${o}/entri_logo.svg`,p=`${o}/entri_icon.svg`,m={applicationId:this.applicationId,token:r,sellVersion:"v3",successCallbackUrl:l,exitCallbackUrl:c,dnsRecords:e,freeDomain:t,debugMode:d,locale:"en",...n&&{userId:n},whiteLabel:{sell:{partnerLogo:u,partnerIcon:p,partnerName:"Emergent",overlayScreenHeight:"70%",flowTarget:"_blank"},hideEntriLogo:!1,hideCompanyLogo:!1,hideCompanyName:!1,theme:{primary:"#0070F3",onPrimary:"#FFFFFF",secondary:"#0070F3",onSecondary:"#FFFFFF",headerBackground:"#0B1221",interactive:"#4d9fff",premiumBadge:"#00ffcc",onPremiumBadge:"#ffffff",priceBadge:"#ff6600",onPriceBadge:"#ffffff",activating:"#0070F3",onActivating:"#FFFFFF"}}};return new Promise(e=>{let t=!1;const n=a=>{var r,o;if(!t){window.removeEventListener("onEntriClose",n),window.removeEventListener("popstate",s),t=!0;const l=null==(r=a.detail)?void 0:r.domain,c=(null==(o=a.detail)?void 0:o.success)||!1;e({success:c,domain:l,setupType:"purchase",wasSubdomainRequest:i})}},s=()=>{if(t)return;const a=window.location.pathname,r=new URLSearchParams(window.location.search).get("domain");a.includes("/domain-success")&&r?(window.removeEventListener("popstate",s),window.removeEventListener("onEntriClose",n),t=!0,window.history.back(),e({success:!0,domain:r,setupType:"purchase",wasSubdomainRequest:i})):a.includes("/domain-exit")&&(window.removeEventListener("popstate",s),window.removeEventListener("onEntriClose",n),t=!0,window.history.back(),e({success:!1,setupType:"purchase",wasSubdomainRequest:i}))};window.addEventListener("onEntriClose",n,!1),window.addEventListener("popstate",s),setTimeout(s,100),j6.purchaseDomain(m).catch(a=>{window.removeEventListener("onEntriClose",n),window.removeEventListener("popstate",s),t||(t=!0,e({success:!1,wasSubdomainRequest:i}))})})}catch(i){throw i}}},N6=gv.common.lockedWeb,F6=gv.common.lockedWebBlue,_6=gv.common.lineMdLink,k6=gv.common.unlink,S6=gv.common.copyPurple,E6=gv.common.flowbiteRefreshOutline,I6=gv.common.close,A6=({jobId:e,deployStatus:t,onUnlinkDomain:s,checkDeployStatus:i,customDomain:a,loading:r,registerDomain:o,verifyDomain:l,connectDomain:c})=>{const{toast:d}=on(),[u,p]=De.useState(""),[m,h]=De.useState("register"),[x,f]=De.useState(!1),[g,v]=De.useState(!1),[b,y]=De.useState(null);De.useEffect(()=>{(null==a?void 0:a.domain)?a.domain!==b&&null!==b&&y(null):y(null),"verified"===(null==a?void 0:a.status)&&b&&y(null)},[null==a?void 0:a.domain,null==a?void 0:a.status,b]);const{launchEntriForDomain:w,purchaseDomain:j,isLoading:C}=(({onSuccess:e,onError:t,onPurchaseSuccess:n}={})=>{const[s,i]=De.useState(!1),{toast:a}=on();return{launchEntriForDomain:De.useCallback(async(n,s,r)=>{i(!0);try{const t=C6.formatDnsRecordsForEntri(s.filter(e=>e.value),n),i=await C6.launchEntriModal(n,t,r);i.success?(a({title:"Domain Configuration Complete",description:`DNS records have been configured ${"automatic"===i.setupType?"automatically":"manually"}. Verification may take a few minutes.`,duration:5e3}),null==e||e()):a({title:"Configuration Cancelled",description:"Domain configuration was not completed. You can try again or configure DNS manually.",variant:"default",duration:5e3})}catch(o){a({title:"Configuration Failed",description:o.message||"Failed to configure domain with Entri",variant:"destructive",duration:5e3}),null==t||t(o)}finally{i(!1)}},[a,e,t]),purchaseDomain:De.useCallback(async s=>{i(!0);try{let o;try{const e=await pm();if(!e.ip_address)throw new Error("IP address not found in Entri info response");o=e.ip_address}catch(r){return a({title:"Unable to Fetch Deployment Configuration",description:"Could not retrieve the deployment IP address. Please try again later or contact support.",variant:"destructive",duration:5e3}),i(!1),void(null==t||t(r))}const l=C6.createDnsRecordsWithWildcard(o,!0),c=await C6.launchEntriSellModal(l,!1,s);c.success&&c.domain?(a({title:"Domain Purchased Successfully",description:`Your domain ${c.domain} has been purchased and DNS records are being configured. Please wait a few minutes for propagation.`,duration:7e3}),null==n||n(c.domain),null==e||e(c.domain)):a({title:"Purchase Cancelled",description:"Domain purchase was not completed. You can try again or link an existing domain.",variant:"default",duration:5e3})}catch(r){a({title:"Purchase Failed",description:r.message||"Failed to purchase domain through Entri",variant:"destructive",duration:5e3}),null==t||t(r)}finally{i(!1)}},[a,e,t,n]),isLoading:s}})({onSuccess:e=>{e||((null==a?void 0:a.domain)&&y(a.domain),F(!1))},onPurchaseSuccess:async e=>{p(e);let t=0;const n=()=>{t<10&&(F(!1),t++,setTimeout(n,2e3))};n()}}),N=e=>/^(?:[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?\.)+[a-z0-9][a-z0-9-]{0,61}[a-z0-9]$/i.test(e),F=async(t=!0)=>{if(u)try{const s=await l(u,e||"");if(t&&d({title:"Status Updated",description:"Domain status has been refreshed",duration:1500}),s&&!0===s.verified&&e)try{await i(e,!1)}catch(n){}}catch(n){t&&d({title:"Status Check Failed",description:n.message||"Failed to check domain status",variant:"destructive",duration:3e3})}},_=e=>{navigator.clipboard.writeText(e),d({title:"Copied to Clipboard",description:"DNS record copied to clipboard",duration:1500})},k=(e,t)=>{const n=(t=t.replace(/^(https?:\/\/)?(www\.)?/i,"")).split(".");if(n.length<=2)return"@";const s=n.slice(-2).join(".");return["co.uk","com.au","co.nz","co.jp","or.jp","co.kr","com.br","com.mx","co.za","co.in","com.sg"].includes(s)&&n.length>2?n.slice(0,-2).join("."):n[0]};De.useEffect(()=>{a&&a.domain?(p(a.domain),"verified"===a.status?h("connect"):"pending"===a.status?h("verify"):h("register"),v(!1),f(!0)):(h("register"),v(!1),f(!1))},[a]);return n.jsxs("div",{className:fb("w-full p-3 md:p-4 bg-[#FFFFFF0A] items-start rounded-[12px]",g&&"bg-[#4d9fff08] border border-[#4d9fff50]"),children:[n.jsxs("div",{className:"flex items-start justify-between gap-8",children:[n.jsxs("div",{className:"flex flex-col gap-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("img",{src:g?F6:N6,alt:"Locked Web",className:"w-5 h-5 md:w-6 md:h-6"}),n.jsx("span",{className:fb("font-['Inter'] text-[14px] md:text-base font-medium text-nowrap",g&&"text-[#4d9fff] "),children:"Custom Domain"})]}),!g&&n.jsx("p",{className:"text-[#FFFFFF]/60 font-['Inter'] text-[14px] hidden md:block",children:(null==a?void 0:a.dns_records)&&a.dns_records.length>0?n.jsx(n.Fragment,{children:n.jsxs("span",{className:"text-[14px]",children:["Add the following records to your domains DNS settings. ",n.jsx("a",{href:sv,target:"_blank",rel:"noopener noreferrer",className:"text-[#2087FF] font-['Inter'] font-medium underline",children:"How to add domains?"})]})}):"Link your personalized domain that you would like to connect to this app."})]}),a?n.jsxs("button",{type:"button",onClick:()=>g?v(!1):void(s&&(null==a?void 0:a.domain)&&s(a.domain)),className:"bg-[#FFFFFF08] hover:bg-[#FFFFFF10] md:p-[16px] md:py-3 p-3 rounded-[12px] flex justify-between gap-2 items-center",children:[n.jsx("span",{className:"text-nowrap text-[12px] md:text-[16px]",children:g?"Cancel":"Unlink Domain"}),n.jsx("img",{src:g?I6:k6,alt:"Linked",className:"w-6 h-6 mr-[20px]"})]}):n.jsxs("div",{className:"flex gap-2",children:[Ag()&&n.jsx("button",{type:"button",onClick:()=>{j(e||"")},disabled:C||!e,className:"bg-[#0070F3] hover:bg-[#0050C3] md:p-[16px] p-3 md:py-3 rounded-[12px] flex justify-between gap-2 items-center "+(C||!e?"opacity-50 cursor-not-allowed":""),children:n.jsx("span",{className:"text-nowrap text-[12px] md:text-[16px] text-white",children:"Buy Domain"})}),n.jsxs("button",{type:"button",onClick:()=>v(!g),className:"bg-[#FFFFFF08] hover:bg-[#FFFFFF10] px-4 max-h-[36px] pr-[10px] py-2 rounded-[12px] flex justify-between gap-2 items-center",children:[n.jsx("span",{className:"text-nowrap text-[12px] md:text-[16px]",children:g?"Cancel":"Link Domain"}),g?n.jsx("img",{src:I6,alt:"Linked",className:"w-6 h-6"}):n.jsx("img",{src:_6,alt:"Linked",className:"w-6 h-6"})]})]})]}),!g&&n.jsx("p",{className:"text-[#FFFFFF]/60 font-['Inter'] text-[13px] md:hidden mt-2",children:(null==a?void 0:a.dns_records)&&a.dns_records.length>0?n.jsx(n.Fragment,{children:n.jsx("span",{children:"Set up your personalized domain. Add the following records to your DNS provider to verify ownership."})}):"Link your personalized domain that you would like to connect to this app."}),g&&!a?n.jsx("div",{className:"mt-8",children:n.jsxs("form",{onSubmit:t=>{t.preventDefault(),"register"===m?(async()=>{if(u&&N(u))try{const t=await o(u,e||"");t?(h("verify"),v(!1),f(!0),d({title:"Domain Registered",description:t.message||"Please add the DNS records to verify your domain",duration:3e3})):d({title:"Registration Failed",description:"Failed to register domain",variant:"destructive",duration:3e3})}catch(t){d({title:"Registration Failed",description:t.message||"Failed to register domain",variant:"destructive",duration:3e3})}else d({title:"Invalid Domain",description:"Please enter a valid domain name",variant:"destructive",duration:3e3})})():"verify"===m?(async()=>{if(u)try{const n=await l(u,e||"");if(!n)return;if("pending_verification"===n.status)d({title:"Verification Pending",description:"DNS records not fully propagated yet. Please try again in a few minutes.",variant:"default",duration:3e3});else if(("connected"===n.status||"not_connected"===n.status)&&(h("connect"),d({title:"Domain Verified",description:"Your domain has been verified successfully",duration:3e3}),!0===n.verified&&e))try{await i(e,!1)}catch(t){}}catch(t){d({title:"Verification Failed",description:t.message||"Failed to verify domain",variant:"destructive",duration:3e3})}})():"connect"===m&&(async()=>{if(u&&e)try{const e=await c(u);if(!e)return;"connected"===e.status&&d({title:"Domain Connected",description:`Your app is now accessible at ${u}`,duration:3e3})}catch(t){d({title:"Connection Failed",description:t.message||"Failed to connect domain to app",variant:"destructive",duration:3e3})}})()},className:"flex flex-col gap-4",children:[n.jsxs("div",{className:"flex flex-col gap-2",children:[n.jsx("label",{htmlFor:"domain-input",className:"text-[#99c8ff]/80 font-['Inter'] text-[14px]",children:"Enter your domain"}),n.jsx("input",{id:"domain-input",type:"text",autoFocus:!0,value:u,onChange:e=>{p(e.target.value)},placeholder:"example.com",className:"w-full p-3 bg-[#66adff08] px-4 font-['Inter'] font-medium rounded-[12px] text-[#CCE4FF] placeholder:text-[#4d9fff80] border border-[#66adff40] text-[16px] focus:outline-none focus:border focus:border-[#66adff60]"})]}),n.jsx("div",{className:"flex justify-end gap-2",children:n.jsx("button",{type:"submit",disabled:r||!u||!N(u),className:" w-full rounded-[12px] p-3 font-semibold "+(!r&&u&&N(u)?"bg-[#0070F3] text-white":"bg-[#0070F350] text-[#FFFFFF4D] cursor-not-allowed"),children:r?"Processing...":"Next"})})]})}):a?n.jsxs("div",{className:"bg-[#0076FF05] rounded-[12px] border-[#66acff20] overflow-clip border mt-6",children:[n.jsxs("div",{onClick:()=>f(!x),className:fb("flex items-center cursor-pointer justify-between px-5 py-4  ",x&&"bg-[#0076FF10] border-b border-b-[#66acff20]"),children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("span",{className:"text-[#CCE4FF] text-[14px] md:text-[16px] font-medium font-berkeley",children:a.domain}),(()=>{if(!a||!a.domain||!a.status)return null;let e="",t="";switch(a.status){case"verified":e="#4CAF50",t="Verified";break;case"pending":e="#E38F45",t="Pending";break;case"failed":e="#F44336",t="Failed";break;default:e="#9E9E9E",t="Unknown"}return n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(tT,{color:e,size:16,innerSize:8,animate:"pending"===a.status,className:""}),n.jsx("span",{style:{color:e},className:"text-[14px]",children:t})]})})()]}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"cursor-pointer",onClick:()=>_(a.domain),children:n.jsx("img",{src:S6,alt:"Copy",className:"w-6 h-6"})}),n.jsx("div",{className:"cursor-pointer",onClick:()=>F(),children:n.jsx("img",{src:E6,alt:"Refresh",className:"w-6 h-6 opacity-[50%] "+(r?"animate-spin":"")})}),n.jsx("div",{className:"cursor-pointer",onClick:()=>f(!x),children:n.jsx(Vk,{className:fb("w-6 h-6",{"rotate-180":x})})})]})]}),x&&a.dns_records&&a.dns_records.length>0&&n.jsxs("div",{className:"flex flex-col gap-5 p-2 md:p-4",children:["verified"!==a.status&&n.jsx(n.Fragment,{children:b===a.domain?n.jsx("div",{className:"mb-4 p-4 bg-[#00D63205] rounded-[12px] border border-[#00D63220]",children:n.jsxs("div",{className:"flex flex-row items-center gap-3",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("svg",{className:"w-5 h-5 text-[#00D632]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h4",{className:"text-[#00D632] text-[14px] md:text-[16px] font-medium font-['Inter'] mb-1",children:"Configuration with Entri Completed"}),n.jsx("p",{className:"text-[#FFFFFF]/60 text-[12px] md:text-[14px] font-['Inter']",children:"DNS records have been configured. Verification may take a few minutes."})]})]})}):n.jsx("div",{className:"mb-4 p-4 bg-[#0076FF05] rounded-[12px] border border-[#66acff20]",children:n.jsxs("div",{className:"flex flex-col items-start justify-between gap-4 md:flex-row md:items-center",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"text-[#CCE4FF] text-[14px] md:text-[16px] font-medium font-['Inter'] mb-2",children:"Configure DNS Automatically"}),n.jsx("p",{className:"text-[#FFFFFF]/60 text-[12px] md:text-[14px] font-['Inter']",children:"Use Entri to automatically configure your DNS records with your domain provider"})]}),n.jsx("button",{onClick:()=>{(null==a?void 0:a.dns_records)&&(null==a?void 0:a.domain)&&w(a.domain,a.dns_records,e)},disabled:C||r,className:"px-4 py-2 rounded-[8px] font-medium text-[14px] whitespace-nowrap "+(C||r?"bg-[#0070F350] text-[#FFFFFF4D] cursor-not-allowed":"bg-[#0070F3] text-white hover:bg-[#0050C3]"),children:C?"Loading...":"Configure with Entri"})]})})}),"verified"!==a.status&&b!==a.domain&&n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-0 flex items-center",children:n.jsx("div",{className:"w-full border-t border-[#66acff20]"})}),n.jsx("div",{className:"relative flex justify-center text-[12px] md:text-[14px] bg-[#0B1221]",children:n.jsx("span",{className:"px-3 text-[#FFFFFF]/60 font-['Inter']",children:"or configure manually"})})]}),a.dns_records.filter(e=>e&&e.type&&e.name&&e.value).map((e,t)=>n.jsxs("div",{className:"flex gap-1 md:gap-4 ",children:[n.jsxs("div",{className:"flex flex-col items-start gap-1 md:gap-2 w-[20%]",children:[n.jsx("span",{className:"text-[#99c8ff]/80 font-['Inter'] text-[14px]",children:"Type"}),n.jsx("input",{readOnly:!0,"aria-label":"DNS Record Type",type:"text",value:e.type||"",className:"w-full p-3 bg-[#66adff10] px-4 font-['Inter'] font-medium rounded-[12px] text-[#CCE4FF] placeholder:text-[#4d9fff80] text-[14px] md:text-[16px] focus:outline-none "})]}),n.jsxs("div",{className:"flex flex-col items-start gap-1 md:gap-2 w-[35%]",children:[n.jsx("span",{className:"text-[#99c8ff]/80 font-['Inter'] text-[14px]",children:"Host-Name"}),n.jsxs("div",{className:"relative w-full",children:[n.jsx("input",{readOnly:!0,"aria-label":"DNS Record Name",type:"text",value:k(e.name,(null==a?void 0:a.domain)||""),className:"w-full p-3 bg-[#66adff10] px-4 font-['Inter'] font-medium rounded-[12px] text-[#CCE4FF] placeholder:text-[#4d9fff80] text-[14px]  md:text-[16px] focus:outline-none "}),n.jsx("div",{className:"absolute transform -translate-y-1/2 cursor-pointer right-3 top-1/2",onClick:()=>e.name&&_(k(e.name,(null==a?void 0:a.domain)||"")),children:n.jsx("img",{src:S6,alt:"Copy",className:"w-5 h-5"})})]})]}),n.jsxs("div",{className:"flex flex-col items-start gap-1 md:gap-2 w-[45%]",children:[n.jsx("span",{className:"text-[#99c8ff]/80 font-['Inter'] text-[14px]",children:"Value"}),n.jsxs("div",{className:"relative w-full",children:[n.jsx("input",{readOnly:!0,"aria-label":"DNS Record Value",type:"text",value:e.value||"",className:"w-full p-3 bg-[#66adff10] px-4 font-['Inter'] font-medium rounded-[12px] text-[#CCE4FF] placeholder:text-[#4d9fff80] text-[14px]  md:text-[16px] focus:outline-none"}),n.jsx("div",{className:"absolute transform -translate-y-1/2 cursor-pointer right-3 top-1/2",onClick:()=>e.value&&_(e.value),children:n.jsx("img",{src:S6,alt:"Copy",className:"w-5 h-5"})})]})]})]},t)),n.jsxs("button",{type:"button",onClick:()=>F(),className:"flex cursor-pointer items-center justify-center text-[#FFFFFF] px-5 py-3 bg-[#FFFFFF10] hover:bg-[#FFFFFF15] rounded-[12px] gap-2",children:[n.jsx("span",{children:"Check Status"}),n.jsx("img",{src:E6,alt:"Refresh",className:"w-6 h-6 "+(r?"animate-spin":"")})]})]})]}):null]})},T6=gv.common.keyPurple,D6=gv.common.purpleDownArrow,M6=gv.common.iconamoonEditFill,L6=gv.common.copyPurple,P6=gv.common.eyeNew,R6=gv.icons.eyeOff,O6=({onSyncStatusChange:e,envs:t,saveEnvironmentVariables:s,deployStatus:i="not_deployed",jobId:a,updateEnvironmentVariables:r})=>{const{toast:o}=on(),[l,c]=De.useState(!1),[d,u]=De.useState({}),[p,m]=De.useState(null),h=()=>{c(!l)},[x,f]=De.useState(t);De.useEffect(()=>{f(t)},[t]);const g=()=>{const t=x.some(e=>e.value!==e.originalValue);e(!t)};De.useEffect(()=>{const e={};x.forEach((t,n)=>{e[n]={isEditing:{value:!1},showPassword:!1,editMode:!1}}),u(e)},[x.length]),De.useEffect(()=>{g()},[]);const v=e=>{u(t=>{var n;return{...t,[e]:{...t[e],showPassword:!(null==(n=t[e])?void 0:n.showPassword)}}})},b=e=>{navigator.clipboard.writeText(x[e].value),m(e),setTimeout(()=>{m(null)},2e3)},y=async(e,t)=>{var n;t&&(t.preventDefault(),t.stopPropagation());const l=null==(n=d[e])?void 0:n.editMode;if(u(t=>{var n;return{...t,[e]:{...t[e],editMode:!(null==(n=t[e])?void 0:n.editMode)}}}),l){const e=[...x];if(s&&s(e),"not_deployed"===i&&a&&r)try{await r(e)&&o({title:"Environment Variables Updated",description:"Your environment variables have been updated successfully.",duration:2e3})}catch(c){o({title:"Update Failed",description:"Failed to update environment variables. Please try again.",variant:"destructive",duration:2e3})}}setTimeout(()=>{g()},0)};return n.jsx(Pt.div,{className:"",variants:{hidden:{opacity:0},visible:{opacity:1,transition:{duration:.3}},exit:{opacity:0,transition:{duration:.2}}},initial:"hidden",animate:"visible",exit:"exit",children:n.jsxs("div",{className:"flex items-center flex-col bg-[#A199FF0F] p-3 mb-3  md:p-5 md:mb-5 rounded-[12px]",children:[n.jsxs("div",{onClick:h,className:"flex flex-col w-full gap-2 cursor-pointer",children:[n.jsxs("div",{className:"flex items-center justify-between w-full cursor-pointer",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("img",{src:T6,alt:"Key",className:"w-6 h-6"}),n.jsx("div",{className:"text-[#A199FF] text-[14px]  md:text-[16px] font-medium font-['Inter']",children:"Env Variables"})]}),n.jsx("img",{onClick:h,src:D6,alt:"Down Arrow",className:fb("w-5 h-5 md:w-6 md:h-6 opacity-50 cursor-pointer hover:opacity-100 transition-transform duration-300",{"rotate-180":l})})]}),n.jsx("div",{className:"text-[13px] md:text-[14px] font-['Inter'] text-[#B9B2FF] opacity-60",children:"Secrets and environment variables are confidential credentials that enable secure access to APIs and services. Carefully handle secrets to avoid application failure."})]}),n.jsx("div",{className:"w-full overflow-hidden",children:n.jsx(Rt,{children:l&&n.jsx(Pt.div,{className:"w-full",variants:{hidden:{height:0,opacity:0},visible:{height:"auto",opacity:1,transition:{height:{type:"spring",stiffness:300,damping:30},opacity:{duration:.2,delay:.1}}},exit:{height:0,opacity:0,transition:{height:{type:"spring",stiffness:500,damping:40},opacity:{duration:.1}}}},initial:"hidden",animate:"visible",exit:"exit",children:x.map((e,t)=>{var i,a,r,o,l,c,m,h,w,j,C;return n.jsxs("div",{className:"flex flex-col items-center justify-between w-full gap-2 md:gap-4 max-md:p-2 mt-4 max-md:border border-[#B9B2FF25] max-md:rounded-[10px] md:flex-row",children:[n.jsxs("div",{className:"flex flex-col items-center w-full gap-2 md:gap-4 md:flex-row",children:[n.jsx("div",{className:fb("w-full border rounded-[8px] transition-all duration-200","bg-[#A199FF14] border-transparent"),children:n.jsx("input",{type:"text",value:e.key,placeholder:"Key Name",readOnly:!0,className:fb("w-full py-[10px] px-[14px] bg-transparent focus:outline-none placeholder-[#626266] transition-colors duration-200 font-[inter] text-[14px]","text-[#B9B2FF] cursor-not-allowed")})}),n.jsxs("div",{className:fb("pr-[8px] justify-between flex w-full border rounded-[8px] items-center transition-all duration-200",(null==(i=d[t])?void 0:i.editMode)?fb("bg-[#FFFFFF0A]",(null==(r=null==(a=d[t])?void 0:a.isEditing)?void 0:r.value)?"border-[#fff]/80":"border-[#ffffff]/30"):"bg-[#A199FF14] border-transparent"),children:[n.jsx("input",{type:(null==(o=d[t])?void 0:o.showPassword)?"text":"password",value:e.value,placeholder:"Key Value",onChange:e=>((e,t)=>{const n=[...x];n[e]={...n[e],value:t},f(n),s&&s(n),g()})(t,e.target.value),onFocus:()=>(e=>{u(t=>({...t,[e]:{...t[e],isEditing:{value:!0}}}))})(t),onBlur:()=>(e=>{u(t=>({...t,[e]:{...t[e],isEditing:{value:!1}}}))})(t),readOnly:!(null==(l=d[t])?void 0:l.editMode),className:fb("py-[10px] px-[14px] bg-transparent placeholder-[#626266] focus:outline-none transition-colors duration-200 font-[inter] text-[14px]",(null==(c=d[t])?void 0:c.editMode)?(null==(h=null==(m=d[t])?void 0:m.isEditing)?void 0:h.value)?"text-white":"text-[#E6E6E6]":"text-[#B9B2FF]",!(null==(w=d[t])?void 0:w.editMode)&&"cursor-not-allowed")}),n.jsx("div",{role:"button",tabIndex:0,onClick:e=>{e.preventDefault(),e.stopPropagation(),v(t)},onKeyDown:e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),e.stopPropagation(),v(t))},className:"text-[#626266] hover:text-[#B9B2FF] transition-colors w-8 h-8 flex items-center justify-center rounded-md hover:bg-white/5 cursor-pointer",children:(null==(j=d[t])?void 0:j.showPassword)?n.jsx("img",{src:R6,alt:"Hide",className:"w-6 h-6"}):n.jsx("img",{src:P6,alt:"Show",className:"w-6 h-6"})})]})]}),n.jsx("div",{className:"flex items-center gap-2 max-md:w-full md:min-w-[72px]",children:(null==(C=d[t])?void 0:C.editMode)?n.jsx("div",{role:"button",tabIndex:0,title:"Save",onClick:e=>{e.preventDefault(),e.stopPropagation(),setTimeout(()=>{y(t,e)},0)},onKeyDown:e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),e.stopPropagation(),setTimeout(()=>{y(t,e)},0))},className:"relative px-3  flex items-center justify-center bg-[#2EE572] max-md:w-full min-h-[40px] rounded-[10px] cursor-pointer",children:n.jsx("span",{className:"text-[#0f0f10] font-semibold",children:"Save"})}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{role:"button",tabIndex:0,title:"Edit",onClick:e=>{e.preventDefault(),e.stopPropagation(),setTimeout(()=>{y(t,e)},0)},onKeyDown:e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),e.stopPropagation(),setTimeout(()=>{y(t,e)},0))},className:"relative flex gap-2 items-center justify-center max-md:w-full cursor-pointer max-md:bg-[#A199FF25] rounded-[10px] p-1 px-3 hover:bg-[#A199FF14]",children:[n.jsx("img",{src:M6,alt:"Edit",className:"w-6 h-6 md:w-7 md:h-7"}),n.jsx("span",{className:"text-[#B9B2FF90] md:hidden font-semibold",children:"Edit"})]}),n.jsxs("div",{role:"button",tabIndex:0,title:"Copy",onClick:e=>{e.preventDefault(),e.stopPropagation(),b(t)},onKeyDown:e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),e.stopPropagation(),b(t))},className:"relative flex gap-2 text-[#A199FF] items-center justify-center max-md:w-full cursor-pointer max-md:bg-[#A199FF25] rounded-[10px] p-1 px-3  hover:bg-[#A199FF14]",children:[n.jsx("img",{src:L6,alt:"Copy",className:"w-6 h-6 md:w-7 md:h-7"}),n.jsx("span",{className:"text-[#B9B2FF90] md:hidden font-semibold",children:p===t?"Copied!":"Copy"}),p===t&&n.jsx("span",{className:"absolute hidden md:block -top-8 left-1/2 transform -translate-x-1/2 bg-[#333333] text-white text-xs px-2 py-1 rounded",children:"Copied!"})]})]})})]},t)})})})})]})})},z6=gv.deployment.keyAlert,B6=()=>n.jsxs("div",{className:"w-full p-4 py-3 pb-5   rounded-tl-[12px] bg-[#f2994a]/[0.10] backdrop-blur-[40px] rounded-tr-[12px] flex items-center gap-2",children:[n.jsx("img",{src:z6,alt:"Key Alert",className:"flex-shrink-0 w-6 h-6"}),n.jsx("span",{className:"text-[#E38F45] font-['Inter'] font-medium",children:"Env variables are not synced to Production. Please Re-Deploy to sync them."})]}),H6=({children:e,className:t,showEnvWarning:s=!1})=>n.jsxs(n.Fragment,{children:[s&&n.jsx(B6,{}),n.jsx("div",{className:fb("p-3 md:p-5 md:px-5 max-h-[96px] sticky bottom-0 left-0 right-0 bg-[#111112] border-t border-[#242424] flex flex-col",t),children:n.jsx("div",{className:"flex items-center justify-between w-full gap-2",children:e})})]}),$6=gv.icons.deployCloud,U6=({deployStatus:e,onClose:t,latestRunningStatus:s})=>n.jsxs("div",{className:"px-3 md:px-6 md:pt-5 z-[49] sticky top-0 bg-[#111112] py-3 md:py-5 max-h-[69px] flex items-center justify-between border-b border-[#1F1F1F]",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("img",{src:$6,alt:"Deploy",className:"w-5 h-5 md:w-6 md:h-6"}),n.jsx("div",{className:"text-white font-medium text-[14px] md:text-[18px]",children:"running"===e||"running"===s?"Deployment in progress...":"Deployments"})]}),n.jsx("button",{title:"Close",type:"button",onClick:t,className:"text-gray-400 hover:text-white",children:n.jsx(RS,{className:"w-5 h-5 md:w-6 md:h-6"})})]}),V6=gv.deployment.replace,W6=gv.deployment.replaceGrey,q6=({availableDeployments:e,podIsPaused:t,onReplaceClick:s})=>n.jsx(Pt.div,{className:"",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{type:"spring",stiffness:300,damping:30},children:n.jsxs("div",{className:"bg-[#0F0F10] p-4 border border-[#242424] rounded-[12px] flex flex-col gap-4 md:gap-[24px]",children:[n.jsxs("div",{className:"flex flex-col gap-4",children:[n.jsxs("div",{className:"flex items-center justify-between w-full",children:[n.jsxs("span",{className:"text-[#FFFFFFCC] text-[14px] md:text-base font-medium font-['Inter']",children:[n.jsx("img",{src:W6,alt:"Replace",className:"inline-block w-6 h-6 mr-2"}),"Replace Existing Deployment"]}),n.jsxs("div",{className:"flex items-center gap-2 bg-[#2EE5721A] rounded-[8px] p-[6px] pr-[12px]",children:[n.jsx(tT,{color:"#2EE572",size:16,innerSize:8,animate:!0,className:""}),n.jsxs("span",{className:"text-[#2EE572] text-nowrap font-medium text-[12px] md:text-[14px] font-['Inter']",children:[null==e?void 0:e.length," Live Apps"]})]})]}),n.jsx("span",{className:"text-[#737780] text-[13px] md:text-base font-['Inter']",children:"Update one of your current deployments with a new application. Your existing app will be replaced and there'll be no additional charges."})]}),n.jsx(EE,{children:n.jsxs(IE,{children:[n.jsx(AE,{children:n.jsxs("button",{type:"button",title:"Replace Existing Deployment",className:"bg-[#80FFF914] w-full flex items-center justify-center gap-2 p-3 rounded-[10px]",onClick:s,disabled:t,children:[n.jsx("span",{className:"text-[#80FFF9] text-[14px] md:text-base",children:"Replace Deployment"}),n.jsx("img",{src:V6,alt:"Replace",className:"w-5 h-5 md:w-6 md:h-6"})]})}),n.jsxs(TE,{className:fb("bg-[#DDDDE6] text-black border-0",t?"":"hidden"),children:[n.jsx("span",{className:"text-[12px] md:text-[14px] font-['Inter']",children:t?"Please wake up the agent before replacing deployment":""}),n.jsx(DE,{className:"fill-[#DDDDE6]"})]})]})})]})}),G6=gv.common.dustBin,Z6=gv.common.arrowUploadReadyDark,Y6=({isLoading:e,isDeploying:t,podIsPaused:s,latestSuccessfulDeployment:i,onShutdown:a,onRedeploy:r,onDeploy:o})=>n.jsxs("div",{className:"flex items-center justify-end w-full gap-4",children:[n.jsx("button",{type:"button",onClick:a,className:"bg-[#272729] text-white hover:bg-[#272729]/80 rounded-full md:px-[20px] px-3 py-2 md:py-3 text-sm flex items-center gap-1",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"font-medium text-[12px] md:text-[16px]",children:"Shut Down"}),n.jsx("img",{src:G6,alt:"Dust Bin",className:"hidden w-6 h-6 md:block"})]})}),n.jsx(EE,{children:n.jsxs(IE,{children:[n.jsx(AE,{children:n.jsx("button",{type:"button",onClick:i?r:o,className:"flex items-center gap-1 px-3 py-2 text-sm text-black bg-white rounded-full md:px-5 md:py-3 hover:bg-white/80 disabled:opacity-50 disabled:cursor-not-allowed",disabled:e||t||s,children:e||t?n.jsxs(n.Fragment,{children:[n.jsx(hS,{className:"w-6 h-6 mr-1 animate-spin"}),n.jsx("span",{children:"Loading..."})]}):n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"font-semibold text-[12px] md:text-[16px]",children:i?"Re-Deploy":"Start Deployment"}),n.jsx("img",{src:Z6,alt:"Deploy",className:"hidden w-6 h-6 md:block"})]})})}),n.jsxs(TE,{className:fb("bg-[#DDDDE6] text-black border-0",s?"":"hidden"),children:[n.jsx("span",{className:"text-[12px] md:text-[14px] font-['Inter']",children:s?"Please wake up the agent before starting deployment":""}),n.jsx(DE,{className:"fill-[#DDDDE6]"})]})]})})]}),K6=({isOpen:e,onClose:t,children:s,position:i="bottom",blurStrength:a="md",backgroundColor:r="rgba(15, 15, 16, 0.7)",className:o="",containerClassName:l="",backdropClassName:c="",showCloseButton:d=!1,closeOnOutsideClick:u=!0,animationDuration:p=.3,contained:m=!1})=>{const h={sm:"backdrop-blur-sm",md:"backdrop-blur-md",lg:"backdrop-blur-lg",xl:"backdrop-blur-xl","2xl":"backdrop-blur-2xl","3xl":"backdrop-blur-3xl"}[a]||"backdrop-blur-md";return n.jsx(Rt,{children:e&&n.jsxs(Pt.div,{className:fb(m?"absolute":"fixed",m?"top-0 left-0 right-0 bottom-0":"inset-0","z-[990] md:z-[99] flex justify-center",{bottom:"items-end",center:"items-center",top:"items-start"}[i],l),initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:p},onClick:e=>{u&&e.target===e.currentTarget&&t&&t()},style:{backgroundColor:"transparent"},children:[n.jsx(Pt.div,{className:fb("absolute inset-0",h,c),initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:p},style:{backgroundColor:r}}),n.jsx(Pt.div,{className:fb("relative z-10 w-full max-w-full","bottom"===i&&"mb-0","top"===i&&"mt-0",o),initial:{opacity:0,y:"bottom"===i?50:"top"===i?-50:0,scale:"center"===i?.95:1},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:"bottom"===i?50:"top"===i?-50:0,scale:"center"===i?.95:1},transition:{duration:p},children:s})]})})},J6=({isOpen:e,onClose:t,domainToUnlink:s,onConfirm:i,isLoading:a,isDeploying:r})=>n.jsxs(K6,{isOpen:e,onClose:t,position:"bottom",blurStrength:"sm",contained:!0,className:"m-6 rounded-[16px] overflow-clip bg-[#18181A]",children:[n.jsxs("div",{className:"p-8 py-[28px] border-[#242424] bg-[#18181A] border-b-[1px]",children:[n.jsx("div",{className:"text-[18px] font-medium text-[#E6E6E6]",children:"Confirm Domain Unlinking"}),n.jsx("button",{type:"button",title:"Close",onClick:t,className:"absolute text-gray-400 top-8 right-8 hover:text-white",children:n.jsx(RS,{size:24})})]}),n.jsxs("div",{className:"p-6",children:[n.jsxs("p",{className:"font-medium font-['Inter'] text-[#939399]",children:["Would you like to remove the domain ",s," from this App? After continuing, your App will no longer be accessible through this domain."]}),s&&n.jsxs("div",{className:"mt-6",children:[n.jsx("div",{className:"text-[#A199FF] text-md py-4 font-medium mb-2",children:"Connected Domain"}),n.jsx(Pt.div,{initial:{opacity:0,y:20,scale:.95},animate:{opacity:1,y:0,scale:1},transition:{type:"spring",stiffness:400,damping:30,delay:.2},className:"bg-[#0076FF05] rounded-[12px] border-[#66acff20] overflow-clip border p-4",children:n.jsx("div",{className:"flex items-center justify-between",children:n.jsx("div",{className:"flex items-center gap-4",children:n.jsx("span",{className:"text-[#CCE4FF] font-medium",children:s})})})})]})]}),n.jsx("div",{className:"p-4 min-h-[96px] bg-[#18181A] border-t border-[#242424] flex flex-col",children:n.jsxs("div",{className:"flex items-center justify-between w-full",children:[n.jsx("div",{className:"flex items-center gap-2 text-[#737780] text-sm",children:n.jsx("span",{children:"This action cannot be undone."})}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(wb,{onClick:t,className:"bg-[#272729] text-white hover:bg-[#272729]/90 rounded-full px-4 py-2 text-sm flex items-center gap-1",children:n.jsx("span",{children:"Cancel"})}),n.jsx(wb,{onClick:i,disabled:a||r,className:"flex items-center gap-3 px-4 py-2 text-sm text-black bg-red-500 rounded-full hover:bg-red-600",children:a||r?n.jsxs(n.Fragment,{children:[n.jsx(hS,{className:"w-4 h-4 animate-spin"}),"Unlinking..."]}):"Confirm Unlinking"})]})]})})]}),Q6=({size:e=24,primaryColor:t="white",secondaryColor:s="#2EE572",className:i,style:a})=>n.jsxs("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:i,style:a,children:[n.jsx("path",{d:"M17.4053 4.80469C19.0621 4.80469 20.4053 6.14783 20.4053 7.80469V12.0645C19.4374 11.3953 18.2638 11.0029 16.998 11.0029C15.7709 11.0029 14.6302 11.3716 13.6797 12.0039H8.4043C7.07881 12.0039 6.00391 13.0788 6.00391 14.4043C6.00412 15.7296 7.07894 16.8037 8.4043 16.8037H11.0029C11.0008 16.8697 10.998 16.9364 10.998 17.0029C10.9981 17.7806 11.1476 18.5231 11.417 19.2051H6.60547C4.94875 19.2051 3.60568 17.8618 3.60547 16.2051V7.80469C3.60547 6.14783 4.94862 4.80469 6.60547 4.80469H17.4053ZM9.59668 13.208C10.2593 13.2081 10.7968 13.7456 10.7969 14.4082C10.7969 15.0709 10.2593 15.6083 9.59668 15.6084C8.93394 15.6084 8.39648 15.0709 8.39648 14.4082C8.39659 13.7456 8.934 13.208 9.59668 13.208ZM1.2002 10.8066C1.86285 10.8067 2.40039 11.3442 2.40039 12.0068V14.4062C2.40039 15.0689 1.86285 15.6063 1.2002 15.6064C0.537453 15.6064 0 15.069 0 14.4062V12.0068C0 11.3441 0.537453 10.8066 1.2002 10.8066ZM22.8037 10.8066C23.4664 10.8067 24.0039 11.3442 24.0039 12.0068V14.4062C24.0039 15.0594 23.4816 15.5893 22.832 15.6045C22.6136 14.6896 22.1875 13.8559 21.6035 13.1572V12.0068C21.6035 11.3441 22.141 10.8066 22.8037 10.8066Z",fill:t}),n.jsx("path",{d:"M19.9231 17.2288C19.9231 16.4876 19.6597 15.8536 19.1328 15.3268C18.606 14.7999 17.972 14.5365 17.2308 14.5365C16.4896 14.5365 15.8556 14.7999 15.3287 15.3268C14.8019 15.8536 14.5385 16.4876 14.5385 17.2288C14.5385 17.97 14.8019 18.604 15.3287 19.1309C15.8556 19.6577 16.4896 19.9211 17.2308 19.9211C17.972 19.9211 18.606 19.6577 19.1328 19.1309C19.6597 18.604 19.9231 17.97 19.9231 17.2288ZM23 22.2288C23 22.4372 22.9239 22.6174 22.7716 22.7697C22.6194 22.9219 22.4391 22.998 22.2308 22.998C22.0144 22.998 21.8341 22.9219 21.6899 22.7697L19.6286 20.7144C18.9115 21.2112 18.1122 21.4596 17.2308 21.4596C16.6579 21.4596 16.11 21.3484 15.5871 21.1261C15.0643 20.9037 14.6136 20.6032 14.235 20.2246C13.8564 19.846 13.5559 19.3953 13.3335 18.8724C13.1112 18.3496 13 17.8017 13 17.2288C13 16.6559 13.1112 16.108 13.3335 15.5852C13.5559 15.0623 13.8564 14.6116 14.235 14.233C14.6136 13.8544 15.0643 13.5539 15.5871 13.3316C16.11 13.1092 16.6579 12.998 17.2308 12.998C17.8037 12.998 18.3516 13.1092 18.8744 13.3316C19.3972 13.5539 19.848 13.8544 20.2266 14.233C20.6052 14.6116 20.9056 15.0623 21.128 15.5852C21.3504 16.108 21.4615 16.6559 21.4615 17.2288C21.4615 18.1102 21.2131 18.9095 20.7163 19.6267L22.7776 21.688C22.9259 21.8362 23 22.0165 23 22.2288Z",fill:s})]}),X6=({onRunHealthCheck:e})=>{const[t,s]=De.useState(!1),{isMobile:i}=QE();return n.jsx("div",{className:"",children:n.jsxs("div",{className:"w-full bg-[#FFFFFF0A] p-4 rounded-[12px] transition-all duration-150 ease-in-out max-md:flex max-md:flex-col max-md:gap-2",children:[n.jsxs("div",{className:"flex items-center justify-between ",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Q6,{className:"",size:i?20:24}),n.jsx("span",{className:"font-medium font-inter text-nowrap text-[14px]",children:"Pre-Deployment Health Check"})]}),n.jsxs("div",{className:"flex gap-[10px] items-center max-md:hidden",children:[n.jsx("button",{title:"Run Health Check",onClick:()=>{yg("health_check",{action:"run_health_check_clicked",location:"desktop"}),e&&e()},className:"text-[#0F0F10] text-nowrap bg-[#2EE572] h-[36px] items-center flex justify-center font-semibold rounded-[10px] px-4 py-2",children:"Run Health Check"}),n.jsx("button",{title:"Open Health Check Section",onClick:()=>s(!t),className:"bg-[#FFFFFF1A] p-[6px] rounded-[10px]",children:n.jsx(Vk,{className:"transition-transform "+(t?"rotate-180":"")})})]})]}),n.jsxs("div",{className:fb("md:max-w-[60%] flex flex-col gap-4",t&&"flex"),children:[n.jsx("span",{className:"text-[14px] leading-[20px] text-[#FFFFFF80] font-inter font-medium",children:"Run an automated code review to catch deployment blockers before launch. Costs 2-3 credits"}),n.jsx("span",{className:"text-[#2EE572] hidden max-md:hidden text-[14px] underline font-medium font-inter",children:"Why Health check is important?"})]}),n.jsx("button",{title:"Run Health Check",onClick:()=>{yg("health_check",{action:"run_health_check_clicked",location:"mobile"}),e&&e()},className:"text-[#0F0F10] md:hidden mt-2 text-nowrap bg-[#2EE572] h-[36px] items-center flex justify-center font-semibold rounded-[10px] px-4 py-2",children:"Run Health Check"})]})})},e8=gv.common.eyeNew,t8=gv.common.alertOrange,n8=gv.deployment.keyAlert,s8=gv.deployment.stripe,i8=gv.icons.eyeOff,a8=({value:e,onStripeKeyUpdate:t,termsSelected:s,setTermsSelected:i})=>{const[a,r]=De.useState(!1),[o,l]=De.useState(!1),[c,d]=De.useState({value:e.stripeKeyValue,keyId:e.stripeKey,originalValue:e.stripeKeyValue});De.useEffect(()=>{d({value:e.stripeKeyValue,keyId:e.stripeKey,originalValue:e.stripeKeyValue})},[e]),De.useEffect(()=>{c.value.includes("sk_live_")||c.value.includes("sk_prod_")?l(!0):l(!1)},[c.value]);return e.containsStripeKey?n.jsxs("div",{className:"flex flex-col bg-[#F2994A20] rounded-[10px] overflow-clip",children:[n.jsxs("div",{className:"flex flex-col gap-2 bg-[#242424] rounded-[10px] border-[#8B8B8B20] border p-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("img",{src:n8,alt:"Key Alert",className:"w-6 h-6"}),n.jsx("span",{className:"text-[#C5C5C5] font-['Inter'] font-medium leading-[20px]",children:"Stripe Integration Detected"})]}),n.jsx("img",{src:s8,alt:"Stripe",className:"w-[15px] h-[20px]"})]}),n.jsx("p",{className:"text-[#6C6C6C] font-medium text-[14px] font-['Inter'] pb-1",children:o?n.jsxs("span",{children:["We found a"," ",n.jsx("span",{className:"text-[#A199FF]  font-semibold tracking-wide",children:"Live Stripe Key"})," ","in your app."]}):n.jsxs(n.Fragment,{children:["We found a"," ",n.jsx("strong",{className:"text-[#A199FF] tracking-wide",children:"Test Stripe Key"})," ","in your app. Your deployment will work perfectly for testing, but to accept real payments from customers, please provide your Live Stripe API key.",n.jsx("br",{}),n.jsx("br",{}),"You can update the key anytime and redeploy for free."," "]})}),n.jsx("div",{className:"bg-[#323232] rounded-[8px] px-4 py-[10px]",children:n.jsx("input",{type:"text",disabled:!0,value:c.keyId,placeholder:"Environment variable name",className:"w-full rounded-md border border-none font-semibold font-['Inter'] focus:border-none focus:outline-none bg-transparent placeholder-[#808080] text-[#808080]"})}),n.jsxs("div",{className:"bg-[#323232] relative rounded-[8px] px-4 py-[10px]",children:[n.jsx("input",{type:a?"text":"password",value:c.value,onChange:e=>{return n=e.target.value,d({...c,value:n}),void(t&&t(c.keyId,n));var n},placeholder:o?"Live key detected":"Enter your live Stripe API key",onFocus:()=>r(!0),onBlur:()=>r(!1),className:fb(" w-full rounded-md border border-none font-semibold font-['Inter'] focus:border-none focus:outline-none bg-transparent placeholder-[#808080] text-[#808080]",a?"text-white":"text-[#808080]")}),n.jsx("img",{src:a?i8:e8,alt:"Eye",onClick:()=>r(!a),className:"absolute w-6 h-6 -translate-y-1/2 cursor-pointer grayscale right-3 top-1/2"})]})]}),n.jsx("div",{className:"p-2 md:p-4 md:pt-[14px] rounded-[10px] rounded-t-none flex flex-col gap-2",children:n.jsxs("div",{className:"flex items-start justify-start gap-1",children:[o?n.jsx("div",{title:"I acknowledge that I have tested my Stripe integration and understand the risks of deploying with a live API key.",onClick:()=>i(!s),className:"min-w-5 min-h-5 mt-1 mr-2 border-[2px] border-[#E58A5C] rounded cursor-pointer flex items-center justify-center "+(s?"bg-[#E58A5C]":"bg-[#E58A5C40]"),children:s&&n.jsx(Uk,{className:"w-4 h-4 text-white"})}):n.jsx("img",{src:t8,alt:"Replace",className:"inline-block w-5 h-5 mt-1 mr-2"}),n.jsxs("p",{className:"text-[#E58A5C] font-['Inter'] text-[14px]",children:[n.jsxs("span",{className:"font-semibold text-[#E58A5C] font-['Inter'] text-[14px]",children:[" ","Disclaimer:"]})," ","Ensure your Stripe API Key is valid and you have tested the application yourself. Emergent is not liable for any third-party transactions or any losses."]})]})})]}):null},r8=gv.deployment.carbonViewFilled,o8=gv.deployment.timeGreyDeployed,l8=({isOpen:e,onClose:t,onDeploy:s,loading:i=!1,localLoading:a=!1,containsStripeKey:r={containsStripeKey:!1,stripeKeyValue:"",stripeKeyId:"",stripeKey:""},termsSelected:o=!1,onStripeKeyUpdate:l=()=>{},onTermsSelectedChange:c=()=>{},isDeployDisabled:d=!1})=>n.jsxs(K6,{isOpen:e,onClose:t,position:"bottom",blurStrength:"sm",contained:!0,className:"m-3 md:m-6 rounded-[16px] overflow-clip bg-[#18181A]",children:[n.jsxs("div",{className:"p-3 md:p-6 md:py-[20px] border-[#242424] bg-[#18181A] border-b-[1px]",children:[n.jsx("div",{className:"text-[14px] md:text-[18px] font-medium text-[#E6E6E6]",children:"Confirm Deployment"}),n.jsx("button",{type:"button",title:"Close",onClick:t,className:"absolute text-gray-400 top-3 right-3 md:top-4 md:right-4 hover:text-white",children:n.jsx(RS,{className:"w-4 h-4 md:w-6 md:h-6"})})]}),n.jsxs("div",{className:"flex flex-col gap-3 p-3 md:gap-6 md:p-6 max-md:max-h-[400px] overflow-hidden overflow-y-scroll",children:[n.jsxs("p",{className:"font-medium text-[13px] md:text-[16px] font-['Inter'] text-[#939399]",children:["Your account will be charged"," ",n.jsx("span",{className:"text-[#f3ca5f] font-semibold font-['Inter']",children:"50 credits/month"}),". You can shut down your deployment anytime to stop charges for the next months."]}),n.jsxs("div",{className:"p-2 md:p-4 bg-[#E68A5C0D] border-[#E68A5C33] border rounded-[10px] flex flex-col gap-2",children:[n.jsxs("div",{className:"flex items-center justify-start gap-1",children:[n.jsx("img",{src:r8,alt:"Replace",className:"inline-block w-6 h-6 mr-2"}),n.jsx("span",{className:"text-[#E58A5C] font-['Inter'] font-medium text-[14px] md:text-[16px]",children:"Preview First Recommended"})]}),n.jsx("span",{className:"text-[#CCB1A3] font-['Inter'] text-[12px] md:text-base",children:"To avoid deployment issues and wasted credits, please preview your app first to ensure it's working correctly."})]}),n.jsx(a8,{value:r,onStripeKeyUpdate:l,termsSelected:o,setTermsSelected:c})]}),n.jsx("div",{className:"p-4 min-h-[96px] bg-[#18181A] border-t border-[#242424] flex flex-col",children:n.jsxs("div",{className:"flex items-center justify-between w-full",children:[n.jsxs("div",{className:"flex items-center gap-2 text-[#737780] max-md:hidden text-[12px] md:text-sm max-w-[250px]",children:[n.jsx("img",{src:o8,alt:"Deploy Time",className:"w-8 h-8"}),n.jsx("span",{children:"Deployment usually takes around 5-7 mins."})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(wb,{onClick:t,className:"bg-[#272729] text-white hover:bg-[#272729]/90 rounded-full px-3 py-2 md:px-4 md:py-2 text-sm flex items-center gap-1",children:n.jsx("span",{children:"Cancel"})}),n.jsx(EE,{children:n.jsxs(IE,{children:[n.jsx(AE,{children:n.jsx(wb,{disabled:i||a||d,onClick:s,className:"flex items-center gap-1 py-2 pl-6 text-sm text-black bg-white rounded-full md:gap-3 hover:bg-white/90",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"font-semibold",children:"Deploy Now"})," ",n.jsx("span",{className:"bg-black text-[#F3CA5F] px-3 py-2 rounded-full",children:"50 Credits"})]})})}),n.jsx(TE,{className:fb(d?"":"hidden"),children:n.jsx("span",{className:"text-[12px] md:text-sm",children:"Please acknowledge the Disclaimer before deploying"})})]})})]})]})})]}),c8=gv.icons.copyWhite,d8=gv.deployment.article,u8=gv.deployment.dangerous,p8=gv.deployment.dangerousActive,m8=gv.deployment.warningInactive,h8=gv.deployment.warningActive,x8={info:"text-[#EDEDED] bg-[#EDEDED00] hover:bg-[#EDEDED26]",warning:"text-[#E38F45] bg-[#E38F4526] hover:bg-[#E38F454D]",error:"text-[#FF6666] bg-[#FF666626] hover:bg-[#FF66664D]"},f8=[],g8=[{name:"All Logs",icon:"",activeIcon:"",type:"all"},{name:"Error Logs",icon:u8,activeIcon:p8,type:"error"},{name:"Warning Logs",icon:m8,activeIcon:h8,type:"warning"}];function v8({isOpen:e,onClose:t,onShareLogs:s,deployLogs:i=[]}){const[a,r]=De.useState(g8[0]),[o,l]=De.useState(!1),c=i.map(e=>{let t="info";const n=e.toLowerCase();return n.includes("error")||n.includes("failed")||n.includes("exception")||n.includes("fatal")||n.includes("critical")?t="error":(n.includes("warn")||n.includes("warning")||n.includes("deprecated")||n.includes("skipping"))&&(t="warning"),{timestamp:"",type:t,message:e}}),d=c.length>0?c:f8;return e?n.jsx("div",{className:fb("absolute inset-0 z-[49] top-0 bottom-0 bg-black/50 backdrop-blur-[10px] flex pt-[69px] w-full"),children:n.jsxs("div",{className:"flex flex-col flex-1 w-full",children:[n.jsxs("div",{className:"flex h-[36px] w-full justify-between border border-t-0 border-[#242424]",children:[n.jsx("div",{className:"flex h-[36px]",children:g8.map(e=>{const t="all"===e.type?d.length:d.filter(t=>t.type===e.type).length;return n.jsxs("div",{onClick:()=>r(e),className:fb("h-[36px] px-6 py-2 flex items-center justify-center cursor-pointer gap-1  border-[#242424] border-t-0 border-b-0 border-r",a.name===e.name?"bg-[#FFFFFF] text-[#131314]":""),children:[e.icon&&n.jsx("img",{src:a===e?e.activeIcon:e.icon,alt:e.name,className:"w-5 h-5 max-md:hidden"}),n.jsxs("span",{className:fb("text-[#131314] font-['Inter'] max-md:text-[10px] text-[13px] font-semibold",a.name===e.name?"text-[#131314]":"text-[#FFFFFF50]"),children:[e.name," ",n.jsxs("span",{className:"font-['Inter'] max-md:hidden",children:["(",t,")"]})]})]},e.name)})}),n.jsxs("div",{onClick:t,className:"bg-[#242424] h-full px-6 py-2 gap-1 flex items-center justify-center cursor-pointer",children:[n.jsx(RS,{className:"w-5 h-5 p-[1px]"}),n.jsx("span",{className:"text-[#FFFFFF] font-['Inter'] text-[13px] font-semibold ",children:"Close"})]})]}),n.jsx("div",{className:"flex-1 w-full h-full pt-2 overflow-x-scroll overflow-y-scroll md:pt-5 hide-scrollbars",children:0===d.length?n.jsx("div",{className:"flex items-center justify-center h-full text-[#FFFFFF] text-center",children:n.jsxs("div",{children:[n.jsx("div",{className:"mb-2 text-lg",children:"No logs available"}),n.jsx("div",{className:"text-sm text-[#06050550]",children:"Logs will appear here when the build process starts"})]})}):n.jsx("div",{className:"min-w-max",children:d.filter(e=>"all"===a.type||e.type===a.type).map((e,t)=>n.jsx("div",{className:fb("flex h-[36px] w-full px-6 py-2 items-center min-w-max",x8[e.type]),children:n.jsx("span",{className:"font-berkeley text-[12px]  md:text-[14px] whitespace-nowrap",children:e.message})},t))})}),i.length>0&&n.jsxs("div",{className:" bg-[#09090A] p-6 flex justify-end gap-4 border-t border-[#242424]",children:[n.jsx("button",{type:"button",title:"Copy",disabled:0===d.length,onClick:async()=>{if(d.length>0)try{const e=d.filter(e=>"all"===a.type||e.type===a.type).map(e=>e.message).join("\n");await navigator.clipboard.writeText(e),l(!0),setTimeout(()=>l(!1),2e3)}catch(e){}},className:fb("p-2 md:p-3 md:pr-4 md:pl-5 max-md:text-[12px] rounded-full flex items-center gap-2 tracking-[-0.2px] font-semibold transition-colors",0===d.length?"bg-[#E6E6E610] text-[#E6E6E650] cursor-not-allowed":"bg-[#E6E6E61A] text-[#E6E6E6] hover:bg-[#E6E6E620] cursor-pointer"),children:o?n.jsxs(n.Fragment,{children:["Copied! ",n.jsx(Uk,{className:"w-6 h-6"})]}):n.jsxs(n.Fragment,{children:["Copy ",n.jsx("img",{src:c8,alt:"Copy",className:fb("max-md:w-4 max-md:h-4 w-6 h-6",0===d.length?"opacity-50":"")})]})}),n.jsxs("button",{type:"button",title:"Share Logs with Agent",disabled:0===d.length,onClick:()=>{d.length>0&&s(d.filter(e=>"all"===a.type||e.type===a.type).map(e=>e.message))},className:fb("p-2 md:p-3 md:pr-4 md:pl-5 max-md:text-[12px] rounded-full flex items-center font-semibold gap-2 tracking-[-0.2px]",0===d.length?"bg-[#E6E6E650] text-[#0E0E0F50] cursor-not-allowed":"bg-[#E6E6E6] text-[#0E0E0F] hover:bg-[#E6E6E690] cursor-pointer"),children:["Share Logs with Agent"," ",n.jsx("img",{src:d8,alt:"Copy",className:fb("max-md:w-4 max-md:h-4 w-6 h-6",0===d.length?"opacity-50":"")})]})]})]})}):null}const b8=({isOpen:e,onClose:t,onShareLogs:s,deployLogs:i})=>{const a=i?Object.entries(i).flatMap(([e,t])=>t?t.map(t=>`[${e.toUpperCase()}] ${t}`):[]):[];return n.jsx(v8,{isOpen:e,onClose:t,onShareLogs:s,deployLogs:a})},y8=e=>{try{const t=new Date(e),n=(new Date).getTime()-t.getTime(),s=Math.floor(n/6e4),i=Math.floor(n/36e5),a=Math.floor(n/864e5);return s<1?"Just now":s<60?`${s} min${1===s?"":"s"} ago`:i<24?`${i} hr${1===i?"":"s"} ago`:`${a} day${1===a?"":"s"} ago`}catch(t){return"Unknown time"}},w8=gv.common.arrowUploadReadyDark,j8=gv.deployment.timeGreyDeployed,C8=({isOpen:e,onClose:t,onRedeploy:s,deploymentHistory:i,deployUrl:a,latestRunStatus:r,jobId:o,loading:l=!1,localLoading:c=!1,containsStripeKey:d={containsStripeKey:!1,stripeKeyValue:"",stripeKeyId:"",stripeKey:""},termsSelected:u=!1,onStripeKeyUpdate:p=()=>{},onTermsSelectedChange:m=()=>{},isRedeployDisabled:h=!1})=>{const x=i.find(e=>"success"===e.status)||i[0];return n.jsxs(K6,{isOpen:e,onClose:t,position:"bottom",blurStrength:"sm",contained:!0,className:"m-3 md:m-6 rounded-[16px] overflow-hidden bg-[#18181A]",children:[n.jsxs("div",{className:"p-3 md:p-6 md:py-[20px] border-[#242424] bg-[#18181A] border-b-[1px]",children:[n.jsx("div",{className:"text-[14px] md:text-[18px] font-medium text-[#E6E6E6]",children:"Confirm Redeployment"}),n.jsx("button",{type:"button",title:"Close",onClick:t,className:"absolute text-gray-400 top-3 right-3 md:top-4 md:right-4 hover:text-white",children:n.jsx(RS,{className:"w-5 h-5 md:w-6 md:h-6"})})]}),n.jsxs("div",{className:"flex flex-col gap-3 p-3 max-h-[500px] md:gap-6 md:p-6 max-md:max-h-[400px] overflow-hidden overflow-y-scroll",children:[n.jsx("p",{className:"font-medium text-[13px] md:text-[16px] font-['Inter'] text-[#939399]",children:"Are you sure you want to re-deploy your current application? This will replace your current deployment with latest code changes."}),x&&n.jsxs("div",{className:"",children:[n.jsx("div",{className:"text-[#A199FF] text-md py-2 md:py-4 font-medium mb-2",children:"Current Deployment"}),n.jsx(Pt.div,{initial:{opacity:0,y:20,scale:.95},animate:{opacity:1,y:0,scale:1},transition:{type:"spring",stiffness:400,damping:30,delay:.2},children:n.jsx(v6,{jobId:o||"",deployStatus:"success",currentActive:!0,deployTime:y8(x.created_at),nextExist:!1,deploymentLink:a,deploymentRun:x,latestRunStatus:r,inRollbackModal:!0,isRollbackTarget:!1})})]}),n.jsx(a8,{value:d,onStripeKeyUpdate:p,termsSelected:u,setTermsSelected:m})]}),n.jsx("div",{className:"p-2 md:p-4 md:min-h-[96px] bg-[#18181A] border-t border-[#242424] flex flex-col",children:n.jsxs("div",{className:"flex items-center justify-end w-full md:justify-between",children:[n.jsxs("div",{className:"hidden md:flex items-center gap-2 text-[#737780] text-sm max-w-[250px]",children:[n.jsx("img",{src:j8,alt:"Deploy Time",className:"w-8 h-8"}),n.jsx("span",{children:"Re-deployment usually takes around 1-3 mins."})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(wb,{onClick:t,className:"bg-[#272729] text-white hover:bg-[#272729]/90 rounded-full px-4 py-2 text-sm flex items-center gap-1",children:n.jsx("span",{children:"Cancel"})}),n.jsx(EE,{children:n.jsxs(IE,{children:[n.jsx(AE,{children:n.jsx(wb,{disabled:l||c||h,onClick:async()=>{try{await s(),t()}catch(e){}},className:fb("flex items-center gap-3 py-2 pl-6 text-sm text-black bg-white rounded-full hover:bg-white/90",(l||c||h)&&"opacity-50 cursor-not-allowed"),children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"font-semibold",children:l||c?"Re-deploying...":"Yes, Re-deploy"}),n.jsx("img",{src:w8,alt:"Deploy",className:"w-5 h-5"})]})})}),n.jsxs(TE,{side:"top",align:"center",className:fb(h?"bg-[#DDDDE6] font-['Inter'] text-black border-0":"hidden"),children:[n.jsx("span",{className:"text-sm font-['Inter'] font-medium",children:"Please acknowledge the Disclaimer before redeploying"}),n.jsx(DE,{className:"fill-[#DDDDE6]"})]})]})})]})]})})]})},N8=({isOpen:e,onClose:t,onShutdown:s,loading:i=!1})=>n.jsxs(K6,{isOpen:e,onClose:t,position:"bottom",blurStrength:"sm",contained:!0,className:"m-3 md:m-6 rounded-[16px] overflow-clip bg-[#18181A]",children:[n.jsxs("div",{className:"p-3 md:p-4 md:py-[24px] border-[#242424] bg-[#18181A] border-b-[1px]",children:[n.jsx("div",{className:"text-[14px] md:text-[18px] font-medium text-[#E6E6E6]",children:"Confirm Shutdown"}),n.jsx("button",{type:"button",title:"Close",onClick:t,className:"absolute text-gray-400 top-3 right-3 md:top-4 md:right-4 hover:text-white",children:n.jsx(RS,{className:"w-5 h-5 md:w-7 md:h-7"})})]}),n.jsx("div",{className:"p-3 md:p-6",children:n.jsx("p",{className:"font-medium font-['Inter'] text-[14px] md:text-[16px] text-[#939399]",children:"Are you sure you want to shut down this deployment? This will make your application immediately unavailable to users and stop all recurring charges."})}),n.jsx("div",{className:"p-4 min-h-[96px] bg-[#18181A] border-t border-[#242424] flex flex-col",children:n.jsxs("div",{className:"flex items-center justify-between w-full",children:[n.jsx("div",{className:"flex text-[12px] items-center gap-2 text-[#737780] md:text-sm",children:n.jsx("span",{children:"This action cannot be undone."})}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(wb,{onClick:t,className:"bg-[#272729] text-white hover:bg-[#272729]/90 rounded-full px-4 py-2 text-sm flex items-center gap-1",children:n.jsx("span",{children:"Cancel"})}),n.jsx(wb,{onClick:async()=>{try{await s(),t()}catch(e){}},disabled:i,className:fb("flex items-center gap-3 md:px-4 md:py-2 text-sm text-white rounded-full bg-[#CC3D3D] hover:bg-red-600",i&&"opacity-50 cursor-not-allowed"),children:i?"Shutting down...":"Confirm Shutdown"})]})]})})]}),F8=gv.common.webImage,_8=gv.deployment.replaceGrey,k8=gv.icons.animatedSpinner,S8=({isOpen:e,onClose:t,onSelectReplacement:s,deployments:i,loading:a=!1,hoveredCard:r,onHoverStart:o,onHoverEnd:l,onDeploymentClick:c})=>n.jsxs(K6,{isOpen:e,onClose:t,position:"bottom",blurStrength:"sm",contained:!0,className:"m-3 md:m-6 rounded-[16px] overflow-clip bg-[#18181A]",children:[n.jsxs("div",{className:"p-3 md:p-6 md:px-4 md:py-[24px] border-[#242424] bg-[#18181A] border-b-[1px]",children:[n.jsxs("div",{className:"text-[18px] font-medium text-[#E6E6E6]",children:[n.jsx("img",{src:_8,alt:"Replace",className:"inline-block w-6 h-6 mr-2 text-[14px] md:text-[16px]"}),"Replace Deployment"]}),n.jsx("button",{type:"button",title:"Close",onClick:t,className:"absolute text-gray-400 top-3 right-3 md:top-4 md:right-4 hover:text-white",children:n.jsx(RS,{className:"w-5 h-5 md:w-6 md:h-6"})})]}),n.jsxs("div",{className:"p-3 md:p-6 md:pt-4 max-h-[350px] md:max-h-[500px] overflow-y-scroll flex flex-col gap-6",children:[n.jsx("p",{className:"text-[13px] md:text-[16px] font-medium font-['Inter'] text-[#939399]",children:"Choose which deployment to replace with your new application. The selected app will be permanently deleted, but you won't be charged any additional fees."}),a?n.jsxs("div",{className:"flex items-center justify-center py-8",children:[n.jsx("img",{src:k8,alt:"Loading...",className:"w-8 h-8"}),n.jsx("span",{className:"ml-2 text-[#DDDDE6]",children:"Loading deployments..."})]}):i.length>0?n.jsx("div",{className:"grid grid-cols-1 gap-6",children:i.map((e,t)=>n.jsx(sM,{deployment:e,index:t,hoveredCard:r,onHoverStart:o,onHoverEnd:l,onClick:c||(()=>{}),fromRedeployModal:!0,onReplaceClick:e=>{s(e)}},e.id))}):n.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-center",children:[n.jsx("img",{src:F8,alt:"No deployments",className:"w-12 h-12 mb-4 opacity-50"}),n.jsx("p",{className:"text-[#737780] font-medium",children:"No deployments available to replace"}),n.jsx("p",{className:"text-[#737780] text-sm mt-1",children:"You need at least one successful deployment to use this feature"})]})]})]}),E8=gv.common.captivePortal,I8=gv.icons.animatedSpinner;function A8({deployment:e,index:t,hoveredCard:s,onHoverStart:i,onHoverEnd:a,onClick:r,fromRedeployModal:o=!1,allowHover:l=!0}){const c=e.deployStatus,d=(e=>"running"===e?{bgColor:"#1588FC20",color:"#33DDFF",text:"Deploying",animate:!0}:"success"===e?{bgColor:"#2EE57220",color:"#2EE572",text:"Live",animate:!0}:"failed"===e?{bgColor:"#ffffff10",color:"#ED5B5B",text:"Failed",animate:!1}:{bgColor:"#73778020",color:"#737780",text:"Unknown",animate:!1})(c),u=e.deployUrl,p=e.id.substring(0,6),m=new Date(e.latest_run.updated_at),h=null!=m?`deployed ${tM(m)}`:"Unknown";return n.jsx(Pt.div,{initial:{opacity:0,y:20,scale:.95},animate:{opacity:1,y:0,scale:1},whileHover:l?{y:-4,boxShadow:"0px 10px 25px rgba(0, 0, 0, 0.2)",transition:{type:"tween",ease:"easeInOut",duration:.3}}:{},transition:{type:"tween",ease:"easeInOut",duration:.2,delay:.1*t},onHoverStart:()=>i(e.id),onHoverEnd:a,onClick:()=>r(e),children:n.jsxs("div",{className:fb("rounded-[16px] overflow-clip p-5 gap-5 bg-[#18181A] border h-full flex flex-col justify-between cursor-pointer transition-all duration-200",s===e.id?"border-[#FFFFFF20] shadow-lg":"border-[#FFFFFF0F]",o?"bg-[#161617]":"cursor-pointer "),children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsxs("div",{className:"flex flex-col gap-2",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:fb("text-[14px]  md:text-[16px] font-medium font-brockmann transition-colors duration-200 capitalize",s===e.id?"text-white/95":"text-white/80"),children:e.app_name}),n.jsxs("div",{className:fb("flex items-center gap-[6px] px-[8px] py-[2px] rounded-[8px] transition-all duration-200 bg-[#2EE5720A]"),children:["running"!=c&&n.jsx(tT,{color:"failed"!=c?d.color:"#ffffff60",size:16,innerSize:8,animate:d.animate}),"running"===c&&n.jsx("img",{src:I8,alt:"Loading...",className:"w-6 h-6"}),n.jsx("span",{className:fb("text-[14px] font-medium transition-colors duration-200"),style:{color:"failed"!=c?d.color:"#ffffff60",opacity:s===e.id?1:.9},children:d.text})]})]}),n.jsx("div",{className:fb("text-[12px] md:text-[14px]  font-['Inter'] font-medium transition-colors duration-200 truncate line-clamp-2",s===e.id?"text-white/40":"text-white/20"),children:e.description})]}),"failed"!=c&&n.jsxs("a",{href:nM({status:c,deployment:e,deployUrl:u}),target:"_blank",rel:"noopener noreferrer",className:fb("flex w-full p-1 px-[10px] pl-[14px] max-h-[40px] max-w-[100px] items-center justify-center gap-2  rounded-[10px] transition-all duration-200",s===e.id&&"running"!==c?"bg-[#FFFFFF15]":"bg-[#FFFFFF0F]",s===e.id&&"running"!==c?"hover:bg-[#ffffff20]":"hover:bg-[#3A3A3C]","running"===c&&"opacity-30 cursor-not-allowed hover:bg-[#FFFFFF0F]"),onClick:e=>e.stopPropagation(),children:[n.jsx("span",{className:fb("transition-colors duration-200",s===e.id?"text-white/90":"text-white/70"),children:"Visit"}),n.jsx("img",{src:E8,alt:"Visit",className:"w-4 h-4"})]})]}),n.jsxs("div",{className:"flex justify-between font-['Inter'] font-medium text-[12px]  md:text-[14px] text-[#FFFFFF33]",children:[n.jsxs("span",{className:"font-['Inter']",children:["Last ",h]}),n.jsxs("span",{className:"font-['Inter']",children:["# EMT-",p]})]})]})},e.id)}const T8=gv.deployment.replaceGrey,D8=gv.deployment.replaceOrange,M8=gv.deployment.replaceBlack,L8=gv.deployment.goBack,P8=gv.deployment.database,R8=[{id:"keep",name:"Keep existing database",description:"(recommended)"},{id:"new",name:"Start with fresh database",description:""}],O8=({isOpen:e,onClose:t,onGoBack:s,onConfirmReplace:i,selectedDeployment:a,loading:r=!1,hoveredCard:o,onHoverStart:l,onHoverEnd:c,onDeploymentClick:d})=>{const[u,p]=De.useState("keep");return n.jsxs(K6,{isOpen:e,onClose:t,position:"bottom",blurStrength:"sm",contained:!0,className:"m-3 md:m-6 rounded-[16px] overflow-clip bg-[#18181A]",children:[n.jsxs("div",{className:"p-3 md:p-6 md:px-4 md:py-[24px] border-[#242424] bg-[#18181A] border-b-[1px]",children:[n.jsxs("div",{className:"text-[14px] md:text-[18px] font-medium text-[#E6E6E6]",children:[n.jsx("img",{src:T8,alt:"Replace",className:"inline-block w-6 h-6 mr-2"}),"Confirm Replacement"]}),n.jsx("button",{type:"button",title:"Close",onClick:t,className:"absolute text-gray-400 top-3 right-3 md:top-4 md:right-4 hover:text-white",children:n.jsx(RS,{className:"w-5 h-5 md:w-6 md:h-6"})})]}),n.jsx("div",{className:"p-3 md:p-6",children:n.jsxs("p",{className:"font-medium text-[13px] md:text-[16px] font-['Inter'] text-[#939399]",children:["You're about to replace"," ",n.jsx("span",{className:"font-medium capitalize text-white/80",children:null==a?void 0:a.app_name})," ","with your new application. This action cannot be undone."]})}),n.jsx("div",{className:"px-3 md:px-5",children:n.jsxs("div",{className:"flex p-4 flex-col rounded-[10px] bg-[#FFFFFF05] border-[#FFFFFF1F] border-[1px] gap-5",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("img",{src:P8,alt:"Database",className:"w-6 h-6"}),n.jsx("span",{className:"text-[#FFFFFF99] font-['Inter'] font-medium text-[13px] md:text-[16px]",children:"Database Configuration"})]}),R8.map(e=>n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{onClick:()=>p(e.id),className:fb("w-5 h-5 cursor-pointer rounded-full border-[2px] flex items-center justify-center",u===e.id&&"border-[#00E573]"),children:n.jsx("div",{className:fb("w-2 h-2 rounded-full bg-[#FFFFFF00]",u===e.id&&"bg-[#00E573]")})}),n.jsx("span",{className:fb("text-[#FFFFFF]/80 font-['Inter'] font-medium text-[13px] md:text-[16px]",u===e.id&&"text-[#00E573]"),children:e.name}),n.jsx("span",{className:fb("text-[#737780] font-['Inter'] text-[12px] md:text-[14px] font-medium"),children:e.description})]},e.id))]})}),n.jsx("div",{className:"p-3 md:p-4",children:n.jsxs("div",{className:"bg-[#E38F451A] pt-3 p-[6px] rounded-[16px]",children:[n.jsxs("div",{className:"flex items-center gap-2 px-2",children:[n.jsx("img",{src:D8,alt:"Replace",className:"w-6 h-6"}),n.jsx("span",{className:"text-[#E38F45] font-['Inter'] font-medium text-[13px] md:text-[16px]",children:"This app will be permanently deleted"})]}),n.jsx("div",{className:"bg-[#18181A] overflow-clip rounded-[16px] mt-2",children:a&&n.jsx(A8,{deployment:a,index:0,hoveredCard:o,onHoverStart:l,onHoverEnd:c,onClick:d||(()=>{}),allowHover:!1})})]})}),n.jsx("div",{className:"md:p-4 p-3 justify-end bg-[#18181A] border-t border-[#242424] flex flex-col",children:n.jsx("div",{className:"flex items-center justify-end w-full",children:n.jsxs("div",{className:"flex items-center justify-between w-full gap-2",children:[n.jsxs(wb,{onClick:s,className:"bg-[#FFFFFF1A] text-white hover:bg-[#FFFFFF20] rounded-full px-4 py-2 text-sm flex items-center gap-2",children:[n.jsx("img",{src:L8,alt:"Arrow Left",className:"w-5 h-5"}),n.jsx("span",{className:"text-[#FFFFFF99]",children:"Go Back"})]}),n.jsx("button",{type:"button",onClick:async()=>{try{await i("keep"===u)}catch(e){}},disabled:r,className:fb("bg-[#80FFF9] flex px-3 py-2 md:px-6 md:py-3 rounded-[28px]",r&&"opacity-50 cursor-not-allowed"),children:n.jsxs("div",{className:"flex items-center text-[14px] md:text-[16px] gap-2 text-[#0E0E0F] font-semibold",children:[r?"Replacing...":"Replace Deployment",n.jsx("img",{src:M8,alt:"Replace",className:"w-6 h-6"})]})})]})})})]})},z8=e=>e?e.startsWith("http://")||e.startsWith("https://")?e:`https://${e}`:"",B8=({isOpen:e,onClose:t,deploymentHistory:s,runId:i,rollbackTargetId:a,jobId:r,deployUrl:o,customDomain:l,latestRunStatus:c,isLoading:d=!1,isDeploying:u=!1,podIsPaused:p=!1,handleLogsClick:m,rollbackWithApi:h,refetch:x})=>{var f,g;const{toast:v}=on(),[b,y]=Pe.useState(!1);return n.jsxs(K6,{isOpen:e,onClose:t,position:"bottom",blurStrength:"sm",contained:!0,className:"m-3 md:m-6 rounded-[16px] overflow-clip bg-[#18181A]",children:[n.jsxs("div",{className:"p-3 md:p-6 md:py-[20px] border-[#242424] bg-[#18181A] border-b-[1px]",children:[n.jsx("div",{className:"text-[14px] md:text-[18px] font-medium text-[#E6E6E6]",children:"Rollback to Previous Deployment"}),n.jsx("button",{type:"button",title:"Close",onClick:t,className:"absolute text-gray-400 top-3 right-3 md:top-4 md:right-4 hover:text-white",children:n.jsx(RS,{className:"w-5 h-5 md:w-6 md:h-6"})})]}),n.jsxs("div",{className:"p-3 md:p-6",children:[n.jsx("p",{className:"font-medium font-['Inter'] text-[13px] md:text-[16px] text-[#939399]",children:"Replace your current production with a previously successful deployment. Your site will remain online with minimal downtime."}),s.length>0&&n.jsx("div",{className:"mt-6 mb-6",children:n.jsx("div",{children:n.jsx(v6,{jobId:r||"",deployStatus:"success",currentActive:!0,deployTime:y8((null==(f=s.find(e=>e.id===i))?void 0:f.updated_at)||""),nextExist:!1,deploymentLink:z8(null==l?void 0:l.domain)||o,deploymentRun:s.find(e=>e.id===i),latestRunStatus:c,inRollbackModal:!0,isRollbackTarget:!1,handleLogsClick:m})})}),s.length>1&&n.jsx("div",{className:"mt-6",children:n.jsx("div",{children:n.jsx(v6,{jobId:r||"",deployStatus:"success",currentActive:!1,deployTime:y8((null==(g=s.find(e=>e.id===a))?void 0:g.updated_at)||""),nextExist:!1,deploymentLink:z8(null==l?void 0:l.domain)||o,deploymentRun:s.find(e=>e.id===a),latestRunStatus:c,inRollbackModal:!0,isRollbackTarget:!0,handleLogsClick:m})})})]}),n.jsx("div",{className:"p-2 md:p-4 md:min-h-[96px] bg-[#18181A] border-t border-[#242424] flex flex-col",children:n.jsxs("div",{className:"flex items-center justify-end w-full md:justify-between",children:[n.jsx("div",{className:"hidden md:flex items-center gap-2 text-[#737780] text-sm",children:n.jsx("span",{children:"Rollback usually takes around 1-3 mins."})}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(wb,{onClick:t,className:"bg-[#272729] text-white hover:bg-[#272729]/90 rounded-full px-3 py-2 text-[14px] md:text-[16px] md:px-4 md:py-2 text-sm flex items-center gap-1",children:n.jsx("span",{children:"Cancel"})}),n.jsx(wb,{onClick:async()=>{var e;if(!r||!a)return;const n=s.find(e=>e.id===a);y(!0);try{v({title:"Rolling back...",description:"Please wait while we rollback your deployment.",duration:2e3});const s=null==(e=null==n?void 0:n.params)?void 0:e.image;h&&s&&await h(r,s),t(),x&&x()}finally{y(!1)}},disabled:p||d||u||b,className:"flex items-center gap-3 px-3 py-2 font-semibold text-black bg-white rounded-full md:px-4 hover:bg-white/90",children:d||u||b?n.jsxs(n.Fragment,{children:[n.jsx(hS,{className:"w-4 h-4 animate-spin"}),"Rolling back..."]}):"Confirm Rollback"})]})]})})]})};function H8({jobId:e,deployStatus:t,latestRunStatus:n}){const[s,i]=De.useState(null),[a,r]=De.useState("0s"),o=De.useRef(null);return De.useEffect(()=>{const a="running"===t||"running"===n;return a?(s||(async()=>{if(e)try{const t=await Wp(e);if(t.latest_run){let e;e=t.latest_run.steps&&t.latest_run.steps.length>0?t.latest_run.steps[0].created_at:(new Date).toISOString(),i(new Date(e))}else i(new Date)}catch(t){i(new Date)}})(),o.current&&clearInterval(o.current),o.current=setInterval(()=>{if(!s)return;const e=(new Date).getTime()-s.getTime(),t=Math.floor(e/1e3),n=Math.floor(t/60),i=Math.floor(n/60);let a="";a=i>0?`${i}h ${n%60}m ${t%60}s`:n>0?`${n}m ${t%60}s`:`${t}s`,r(a)},1e3)):!a&&o.current&&(clearInterval(o.current),o.current=null,i(null)),()=>{o.current&&clearInterval(o.current)}},[t,n,s,e]),{deploymentStartTime:s,elapsedTime:a}}const $8={build:{pending:"Build Waiting",running:"Building Package...",success:"Build Completed",failed:"Build Failed"},mongodb_migrate:{pending:"Migrate Database",running:"Migrating Database...",success:"Migration Completed",failed:"Migration Failed"},manage_secrets:{pending:"Export Secrets",running:"Exporting Secrets...",success:"Secrets Exported",failed:"Secrets Export Failed"},deploy:{pending:"Deploy",running:"Deploying...",success:"Deployment Complete",failed:"Deployment Failed"},health_check:{pending:"Run Health Check",running:"Running Health Checks",success:"Health Check Successful",failed:"Health Check Failed"}},U8={build:"Building...",mongodb_migrate:"Migrating...",manage_secrets:"Exporting Secrets...",deploy:"Deploying..."},V8=gv.common.deployTime,W8=gv.icons.animatedSpinner,q8=({isOpen:e,onClose:t,jobId:s,tabId:i,onShareLogs:a,onRunHealthCheck:r,podIsPaused:o=!1,agentStatus:l,handleJobClick:c,isExpoImage:d=!1})=>{const{toast:u}=on(),p=(()=>{const[e,t]=De.useState(!1),[n,s]=De.useState(!1),[i,a]=De.useState(!1),[r,o]=De.useState(!1),[l,c]=De.useState(!1),[d,u]=De.useState(!1),[p,m]=De.useState(!1),[h,x]=De.useState(!1);return{isDeployModalOpen:e,setIsDeployModalOpen:t,isBuildLogsModalOpen:n,setIsBuildLogsModalOpen:s,isRollbackModalOpen:i,setIsRollbackModalOpen:a,isRedeployModalOpen:r,setIsRedeployModalOpen:o,isShutdownModalOpen:l,setIsShutdownModalOpen:c,isReplaceModalOpen:d,setIsReplaceModalOpen:u,isReplaceConfirmModalOpen:p,setIsReplaceConfirmModalOpen:m,isUnlinkDomainModalOpen:h,setIsUnlinkDomainModalOpen:x}})(),m=(()=>{const[e,t]=De.useState(""),[n,s]=De.useState(null),[i,a]=De.useState(null),[r,o]=De.useState(!1),[l,c]=De.useState(!0),[d,u]=De.useState(""),[p,m]=De.useState({containsStripeKey:!1,stripeKeyValue:"",stripeKeyId:"",stripeKey:""});return{rollbackTargetId:e,setRollbackTargetId:t,selectedReplacement:n,setSelectedReplacement:s,replaceHoveredCard:i,setReplaceHoveredCard:a,termsSelected:r,setTermsSelected:o,envSyncedWithProduction:l,setEnvSyncedWithProduction:c,domainToUnlink:d,setDomainToUnlink:u,containsStripeKey:p,setContainsStripeKey:m}})(),{getCurrentOrganizationId:h}=Kg(),x=h(),{deployStatus:f,latestRunStatus:g,isLoading:v,deploymentSteps:b,currentStepIndex:y,deploymentHistory:w,deployUrl:j,runId:C,customDomain:N,deployApp:F,isDeploying:_,registerDomain:k,verifyDomain:S,connectDomain:E,deployLogs:I,loadDeployLogs:A,shutdownDeployment:T,replaceDeployment:D,refetch:M,envs:L,loadEnvironmentVariables:P,updateEnvironmentVariables:R,saveEnvironmentVariables:O,unlinkDomain:z,rollbackWithApi:B}=cU({jobId:s,tabId:i,silent:!1}),{data:H=[],isLoading:$}=af(x?{organization_id:x}:void 0),{elapsedTime:U}=H8({jobId:s,deployStatus:f,latestRunStatus:g}),V=()=>(m.containsStripeKey.containsStripeKey&&m.containsStripeKey.stripeKeyValue&&m.containsStripeKey.stripeKeyValue.includes("sk_live_")||m.containsStripeKey.stripeKeyValue.includes("sk_prod_"))&&!m.termsSelected,W=async e=>{var t;try{if(null==(t=(await qp(e,x)).warnings)?void 0:t.includes("stripe_integration")){const e=(await P()).find(e=>e.key.toLowerCase().includes("stripe")&&e.key.toLowerCase().includes("key"));e&&m.setContainsStripeKey({containsStripeKey:!0,stripeKeyValue:e.value||"",stripeKeyId:e.key,stripeKey:e.key})}}catch(n){}},q=async()=>{var e,t;if(!m.envSyncedWithProduction&&L.length>0)try{return await R(L)?(m.setEnvSyncedWithProduction(!0),!0):(u({title:"Environment Variable Update Failed",description:"Failed to update environment variables. Operation cancelled.",variant:"destructive",duration:5e3}),!1)}catch(n){return(null==(e=null==n?void 0:n.message)?void 0:e.includes("version mismatch"))||(null==(t=null==n?void 0:n.message)?void 0:t.includes("Version"))?u({title:"Environment Variable Conflict",description:"Environment variables were modified by another source. Please refresh and try again.",variant:"destructive",duration:5e3}):u({title:"Environment Variable Update Failed",description:"Failed to update environment variables. Operation cancelled.",variant:"destructive",duration:5e3}),!1}return!0},G=()=>{p.setIsDeployModalOpen(!0)},Z=(e,t)=>{m.setContainsStripeKey(e=>({...e,stripeKeyValue:t}))},Y=e=>{m.setDomainToUnlink(e),p.setIsUnlinkDomainModalOpen(!0)},K=async()=>{if(s&&A)try{await A(s)}catch(e){u({title:"Error Loading Logs",description:"Failed to load deployment logs. Please try again.",variant:"destructive",duration:3e3})}p.setIsBuildLogsModalOpen(!0)},J=async e=>{if(c)try{const t=(await Np(e.id)).data;c(t)}catch(t){}};De.useEffect(()=>{p.isDeployModalOpen&&s&&W(s)},[p.isDeployModalOpen,s]),De.useEffect(()=>{p.isRedeployModalOpen&&s&&W(s)},[p.isRedeployModalOpen,s]);const Q=w.some(e=>"success"===e.status)&&!("running"===g)&&"not_deployed"!==f,X=w.find(e=>"success"===e.status),ee=H.length>0&&!v&&"running"!==f&&"running"!==g&&"not_deployed"===f,te=!("failed"!==f&&"success"!==f||"running"===g),ne=!("success"!==f&&"failed"!==f||"running"===g||v),se="running"===g||"running"===f,ie=!("success"!==f&&"failed"!==f||"running"===g);return n.jsx("div",{className:fb("w-full h-full bg-[#0F0F10] border-l border border-[#242424]/60 max-md:inset-0 max-md:absolute z-[39]",e?"block":"hidden"),children:n.jsxs("div",{className:fb("relative flex flex-col justify-between min-h-full max-h-[100%] overflow-y-scroll overflow-clip","running"===f||"running"===g||"not_deployed"==f||v?"":"pb-[5rem]"),children:[n.jsx(U6,{deployStatus:f,latestRunningStatus:g||"not_deployed",onClose:t}),n.jsxs("div",{className:"flex flex-col flex-1 h-full gap-5 p-5 overflow-y-auto",children:["not_deployed"===f&&!v&&n.jsxs(n.Fragment,{children:[n.jsx(l6,{onDeployClick:G,loading:v,localLoading:_,podIsPaused:o}),n.jsx(X6,{onRunHealthCheck:r})]}),ee&&n.jsx(q6,{availableDeployments:H,podIsPaused:o,onReplaceClick:()=>p.setIsReplaceModalOpen(!0)}),("running"===f||"running"===g)&&n.jsx(u6,{deploymentSteps:b,currentStepIndex:y,deployStatus:f,latestRunStatus:g,stepNameMap:$8,runningStepNameMap:U8}),te&&n.jsxs(n.Fragment,{children:[n.jsx(b6,{deploymentHistory:w.map(e=>({id:e.run_id||e.id,status:e.status,updated_at:e.updated_at})),jobId:s||"",handleDeploy:async({image:e,deployment_id:t,acknowledgements:n})=>{s&&await F({jobId:s,image:e,deployment_id:t,acknowledgements:n,db_mode:!0})},deployStatus:f,runId:C,deployUrl:j,customDomainUrl:(ae=null==N?void 0:N.domain,ae?ae.startsWith("http://")||ae.startsWith("https://")?ae:`https://${ae}`:""),customDomain:N,latestRunStatus:g,onRollbackClick:e=>{m.setRollbackTargetId(e),p.setIsRollbackModalOpen(!0)},onUnlinkDomain:Y,formatTimeAgo:y8,handleLogsClick:K,isExpoImage:d}),n.jsx(X6,{onRunHealthCheck:r})]}),Q&&!d&&n.jsx(A6,{jobId:s,deployStatus:f,customDomain:N,loading:v,registerDomain:k,verifyDomain:S,connectDomain:e=>E(e,s||""),checkDeployStatus:async()=>(M(),{}),onUnlinkDomain:Y}),ne&&n.jsx(Pt.div,{className:"",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{type:"spring",stiffness:300,damping:30},children:n.jsx(O6,{envs:L,onSyncStatusChange:m.setEnvSyncedWithProduction,saveEnvironmentVariables:O,deployStatus:f,jobId:s,updateEnvironmentVariables:R})},"env-variables-section")]}),n.jsx(l8,{isOpen:p.isDeployModalOpen,onClose:()=>p.setIsDeployModalOpen(!1),onDeploy:async()=>{if(s)try{if(!(await q()))return;const e=m.termsSelected?"STRIPE_API_KEY_ACKNOWLEDGEMENT":void 0;await F({jobId:s,db_mode:!0,acknowledgements:e}),p.setIsDeployModalOpen(!1)}catch(e){}},loading:v,localLoading:_,containsStripeKey:m.containsStripeKey,termsSelected:m.termsSelected,onStripeKeyUpdate:Z,onTermsSelectedChange:m.setTermsSelected,isDeployDisabled:V()}),n.jsx(b8,{isOpen:p.isBuildLogsModalOpen,onClose:()=>p.setIsBuildLogsModalOpen(!1),onShareLogs:e=>{a&&a(e)},deployLogs:I||{}}),n.jsx(B8,{isOpen:p.isRollbackModalOpen,onClose:()=>p.setIsRollbackModalOpen(!1),deploymentHistory:w,runId:C,rollbackTargetId:m.rollbackTargetId,jobId:s,deployUrl:j,customDomain:N,latestRunStatus:g,isLoading:v,isDeploying:_,podIsPaused:o,handleLogsClick:K,rollbackWithApi:B,refetch:M}),n.jsx(C8,{isOpen:p.isRedeployModalOpen,onClose:()=>p.setIsRedeployModalOpen(!1),onRedeploy:async()=>{if(!s)return;if(!(await q()))return;const e=m.termsSelected?"STRIPE_API_KEY_ACKNOWLEDGEMENT":void 0;await F({jobId:s,db_mode:!0,acknowledgements:e})},deploymentHistory:w,deployUrl:j,latestRunStatus:g,jobId:s,loading:v,localLoading:_,containsStripeKey:m.containsStripeKey,termsSelected:m.termsSelected,onStripeKeyUpdate:Z,onTermsSelectedChange:m.setTermsSelected,isRedeployDisabled:V()}),n.jsx(N8,{isOpen:p.isShutdownModalOpen,onClose:()=>p.setIsShutdownModalOpen(!1),onShutdown:T,loading:v||_}),n.jsx(S8,{isOpen:p.isReplaceModalOpen,onClose:()=>p.setIsReplaceModalOpen(!1),onSelectReplacement:e=>{m.setSelectedReplacement(e),p.setIsReplaceModalOpen(!1),p.setIsReplaceConfirmModalOpen(!0)},deployments:H.filter(e=>e.id!==s),loading:$,hoveredCard:m.replaceHoveredCard,onHoverStart:m.setReplaceHoveredCard,onHoverEnd:()=>m.setReplaceHoveredCard(null),onDeploymentClick:J}),n.jsx(O8,{isOpen:p.isReplaceConfirmModalOpen,onClose:()=>p.setIsReplaceConfirmModalOpen(!1),onGoBack:()=>{p.setIsReplaceConfirmModalOpen(!1),p.setIsReplaceModalOpen(!0)},onConfirmReplace:async e=>{m.selectedReplacement&&(await D(m.selectedReplacement.deployment_id,e),p.setIsReplaceConfirmModalOpen(!1),m.setSelectedReplacement(null))},selectedDeployment:m.selectedReplacement,loading:v||_,hoveredCard:m.replaceHoveredCard,onHoverStart:m.setReplaceHoveredCard,onHoverEnd:()=>m.setReplaceHoveredCard(null),onDeploymentClick:J}),n.jsx(J6,{isOpen:p.isUnlinkDomainModalOpen,onClose:()=>p.setIsUnlinkDomainModalOpen(!1),domainToUnlink:m.domainToUnlink,onConfirm:async()=>{if(m.domainToUnlink&&s)try{await z(m.domainToUnlink,s),p.setIsUnlinkDomainModalOpen(!1),u({title:"Domain Unlinked",description:"Your domain has been successfully unlinked from this app",duration:3e3}),m.setDomainToUnlink(""),s&&M()}catch(e){u({title:"Unlinking Failed",description:e.message||"Failed to unlink domain. Please try again.",variant:"destructive",duration:3e3})}},isLoading:v,isDeploying:_}),se&&n.jsxs("div",{className:"absolute bottom-0 md:min-h-[96px] max-h-[96px] left-0 right-0 bg-[#111112] border-t border-[#242424] md:px-8 p-3 md:py-9 flex items-center justify-start w-full",children:[n.jsx("img",{src:W8,alt:"Deploy Time",className:"w-6 h-6 mr-2 grayscale"}),n.jsxs("span",{className:"text-[#FFFFFF] text-[14px] md:text-[16px] opacity-50",children:["Deployment started ",U," ago..."]})]}),ie&&n.jsxs(H6,{className:"absolute bottom-0 left-0 right-0 flex items-center justify-between w-full",showEnvWarning:!m.envSyncedWithProduction,children:[n.jsxs("div",{className:"items-center gap-3 text-[#737780] hidden md:flex text-sm md:max-w-[250px] font-medium",children:[n.jsx("img",{src:V8,alt:"Deploy Time",className:"w-8 h-8"}),n.jsx("span",{className:"text-[12px] md:text-[14px] font-['Inter']",children:"Deployment usually takes around 5-7 mins."})]}),n.jsx(Y6,{isLoading:v,isDeploying:_,podIsPaused:o,latestSuccessfulDeployment:X,onShutdown:()=>p.setIsShutdownModalOpen(!0),onRedeploy:()=>p.setIsRedeployModalOpen(!0),onDeploy:G})]})]})});var ae};function G8({user:e,jobDetails:t,tier:n,aiMessages:s,enabled:i=!0}){De.useEffect(()=>{i&&(null==e?void 0:e.id)&&function(e){try{if(!e)return;mg.createUser(e)}catch(t){}}(e.id)},[null==e?void 0:e.id,i]),De.useEffect(()=>{var a,r,o;if(!i||!s.length||!(null==e?void 0:e.id))return;const l=s[s.length-1];if(!l)return;const c={user_id:e.id,user_email:e.email,job_id:null==t?void 0:t.job_id,user_id_ends:null==(a=null==e?void 0:e.id)?void 0:a.slice(-1),tier:n};"default_tool"!==l.function_name&&"ask_human"!==l.function_name||$g(Rg,c),((null==(r=l.action)?void 0:r.includes("bulk_file"))||(null==(o=l.function_name)?void 0:o.includes("bulk_file")))&&$g(Bg,c),"finish"===l.action&&$g(Og,c),"deployment_initiated"===l.action&&$g(zg,c)},[s,e,t,n,i])}const Z8=gv.common.send,Y8=De.memo(({text:e,rollbackStatus:t,agentStatus:s,isSubagentChunk:i,currentChunk:a,isTyping:r})=>n.jsxs("div",{className:"mt-4",children:[s&&!i&&!r&&n.jsxs(n.Fragment,{children:[n.jsx(LK,{initialText:e,currentChunk:a}),n.jsx("div",{className:"h-32"})]}),"FAILED"===t?n.jsx(KJ,{}):null]}),(e,t)=>e.text===t.text&&e.rollbackStatus===t.rollbackStatus&&e.agentStatus===t.agentStatus&&e.isTyping===t.isTyping);function K8({tabId:e}){var t,s,i,a,r,o,l,c,d,u,p,m,h,x,f,g,v,b,y,w;const j=Le(),C=Me(),[N]=ze();e6();const{getTabState:F,updateTabState:_,clearPendingMessage:k,setPendingMessage:S,removeTab:E,activeTab:I,setTabs:A,setActiveTab:T,getTabByJobId:D}=Oee(),[M,L]=De.useState(!1),{members:P}=$2(),R=F(e),{toast:O}=on(),z=gL(),{session:B,user:H}=Wg(),{showLogsPanel:$,showSubagentPanel:U,showUrlPreviewPanel:V,showInfoPanel:W,showDeployPanel:q,panelState:G,togglePanel:Z}=L2(),{credits:Y,tier:K}=Xg(),{getCurrentOrganizationId:J,isOrganizationWorkspace:Q}=Kg(),{data:X}=Fx(void 0,{skip:!H}),ee=De.useRef(null),[te,ne]=De.useState(!1),[se,ie]=De.useState(!1),[ae,re]=De.useState(!1),[oe,le]=De.useState(null),[ce,de]=De.useState(null),[ue,pe]=De.useState(null),[me,he]=De.useState(!1),[xe,fe]=De.useState(!1),[ge,ve]=De.useState(!0),[be,ye]=De.useState([]),[we,je]=De.useState(),[Ce,Ne]=De.useState(),[Fe,_e]=De.useState(),[ke,Se]=De.useState(!1),[Ee,Ie]=De.useState("increase_budget"),[Ae,Te]=De.useState("default"),[Pe,Re]=De.useState(""),[Oe,Be]=De.useState(!1),[He,$e]=De.useState(!1),[Ue,Ve]=De.useState(null),[We,qe]=De.useState(!1),[Ge,Ze]=De.useState(!1),Ye=De.useRef(null),Ke=De.useRef(We),Je=De.useRef(!1),Qe=De.useRef(!1);I!==e&&He&&($e(!1),Ve(null),qe(!1));const[Xe,et]=De.useState(null),[tt,nt]=De.useState({fork:!1,visualEdits:!1,unsavedChanges:!1}),[st,it]=De.useState({onConfirm:()=>{}}),[at,rt]=De.useState(!1),[ot,lt]=De.useState([]),[ct,dt]=De.useState(!1),[ut,pt]=De.useState(null),[mt,ht]=De.useState(null),[xt,ft]=De.useState(null),[gt,vt]=De.useState(!1),[bt,yt]=De.useState(!0),[wt,jt]=De.useState(!1),[Ct,Nt]=De.useState([]),[Ft,_t]=De.useState(null),[kt,St]=De.useState(!1),[Et,It]=De.useState(null),At=De.useRef([]),[Tt,Dt]=De.useState(null),[Mt,Lt]=De.useState(null),[Ot,zt]=De.useState(!1===(null==Tt?void 0:Tt.agent_running)||"running"!==(null==Tt?void 0:Tt.agent_status_new)||!(null==Mt?void 0:Mt.content)),Bt=De.useRef(null),[Ht,$t]=De.useState(!1),[Ut,Vt]=De.useState(),[Wt,qt]=De.useState("SUCCESS"),[Gt,Zt]=De.useState(!0),[Yt,Kt]=De.useState(!1),[Jt,Qt]=De.useState(!1),[Xt,en]=De.useState(null),tn=eI(),nn=!0,[sn,an]=De.useState(null),[rn,ln]=De.useState(0===(null==R?void 0:R.jobsLength)),[cn,dn]=De.useState("stopped"),[un,pn]=De.useState(null),mn=(null==R?void 0:R.containerId)||(null==(t=j.state)?void 0:t.containerId),hn=(null==R?void 0:R.task)||(null==(s=j.state)?void 0:s.task),xn=(null==R?void 0:R.jobId)||(null==(i=j.state)?void 0:i.jobId)||N.get("id"),fn=(null==R?void 0:R.trajPath)||(null==(a=j.state)?void 0:a.trajPath),gn=null==R?void 0:R.initial_commit_id,vn=null==R?void 0:R.isCloudFlow,bn=null==R?void 0:R.clientRefId,[yn,wn]=De.useState(!1),[jn,Cn]=De.useState(!1),[Nn]=Ux(),[Fn,{error:_n}]=rf(),{isMobile:kn}=QE(),[Sn,En]=De.useState(!1),[In,An]=De.useState(!1),Tn=null==R?void 0:R.modelName,{vscodeUrl:Dn,vscodePassword:Mn,showVSCodeDialog:Ln,setVSCodeUrl:Pn,setVSCodePassword:Rn,setShowVSCodeDialog:On,handleVSCodeLink:zn,handleOpenVSCodeUrl:Bn}=function({initialVSCodeUrl:e="",initialVSCodePassword:t="",isCloudFlow:n=!1}={}){const[s,i]=De.useState(e),[a,r]=De.useState(t),[o,l]=De.useState(!1),c=De.useCallback(()=>{s&&n?l(!0):s&&d()},[s,n]),d=De.useCallback(()=>{s&&(fp.openExternal(s),l(!1))},[s]);return{vscodeUrl:s,vscodePassword:a,showVSCodeDialog:o,setVSCodeUrl:i,setVSCodePassword:r,setShowVSCodeDialog:l,handleVSCodeLink:c,handleOpenVSCodeUrl:d}}({isCloudFlow:vn}),{previewUrl:Hn,shareableUrl:$n,refresh:Un}=function({jobId:e,containerId:t,isCloudFlow:n=!1,onVSCodeUrlChange:s,onVSCodePasswordChange:i,autoFetch:a=!0}={}){const[r,o]=De.useState(""),[l,c]=De.useState(""),[d,u]=De.useState(""),[p,m]=De.useState(""),[h,x]=De.useState(""),[f,g]=De.useState(null),[v,{isLoading:b}]=Tx(),y=De.useCallback(async()=>{if(e)try{g(null);const t=await v(e);if(t.data){const e=t.data;o(e.base_preview_url),c(e.preview_url),u(e.vscode_url),m(e.password),x(e.base_preview_url),s&&e.vscode_url&&s(e.vscode_url),i&&e.password&&i(e.password)}else if(t.error){const e="error"in t.error?String(t.error.error):"Failed to fetch preview URL";g(e)}}catch(t){g(t instanceof Error?t.message:"Failed to refresh preview URL")}},[e,v,s,i]),w=De.useCallback(()=>{o(""),c(""),u(""),m(""),x(""),g(null)},[]);return De.useEffect(()=>{a&&e&&!r&&!b&&y()},[a,e,r,b,y]),{previewUrl:r,shareableUrl:l,vscodeUrl:d,password:p,basePreviewUrl:h,isLoading:b,error:f,setPreviewUrl:o,refresh:y,clearData:w}}({jobId:I===e?xn:void 0,containerId:I===e?mn:void 0,isCloudFlow:vn,onVSCodeUrlChange:Pn,onVSCodePasswordChange:Rn,autoFetch:!0}),{modifiedFiles:Vn,showDiffModal:Wn,setShowDiffModal:qn,handleShowDiff:Gn}=function({containerId:e,jobId:t,isCloudFlow:n=!1,initialCommitId:s}={}){const[i,a]=De.useState([]),[r,o]=De.useState(!1),[l,c]=De.useState(null),{toast:d}=on(),u=De.useCallback(async()=>{if(s)try{let i;if(n&&t)i=(await Ip(t,void 0,s)).data.data.files.map(e=>({fileName:e,status:"M"}));else{if(!e)return void d({title:"Error",description:"Unable to show diff - missing container ID",variant:"destructive"});i=await fp.getGitStatus(e,s)}if(!i||0===i.length)return void d({title:"Info",description:"No changes detected"});a(i),o(!0)}catch(i){d({title:"Error",description:"Failed to get modified files",variant:"destructive"})}},[e,t,n,d,s]);return{modifiedFiles:i,setModifiedFiles:a,showDiffModal:r,setShowDiffModal:o,selectedFile:l,setSelectedFile:c,handleShowDiff:u}}({containerId:mn,jobId:xn,isCloudFlow:vn,initialCommitId:gn}),[Zn]=Hx(),Yn=vL(e=>{var t,n;return(null==(n=null==(t=e.container)?void 0:t.containers)?void 0:n[mn])||{isInitialized:!1,isJobPolling:!1,jobDetails:void 0,trajectory:[],lastProcessedStep:-1,taskState:null}}),Kn=vL(t=>Eu(t,e)),[Jn,Qn]=De.useState({job_id:xn||"",traj_path:fn||"",initial_commit_id:gn,createdBy:null==R?void 0:R.created_by,createdAt:null==R?void 0:R.createdAt,forked:{parent_job_id:null==(r=null==R?void 0:R.forked)?void 0:r.parent_job_id,parent_job_title:null==(o=null==R?void 0:R.forked)?void 0:o.parent_job_title},asset_upload_enabled:(null==R?void 0:R.asset_upload_enabled)||!1,modelName:null==R?void 0:R.modelName,promptName:null==R?void 0:R.promptName,user_prompt_id:null==R?void 0:R.user_prompt_id,promptVersion:null==R?void 0:R.promptVersion,costLimit:null==R?void 0:R.costLimit,agentName:null==R?void 0:R.agentName,dynamic_preview_subdomain:null==R?void 0:R.dynamic_preview_subdomain,env_image:null==R?void 0:R.env_image,isPublished:(null==R?void 0:R.isPublished)||!1,machineType:null==R?void 0:R.machineType,organization_id:(null==R?void 0:R.organization_id)||null,testMode:(null==R?void 0:R.testMode)||!1}),{budgetInfo:Xn,fetchBudgetInfo:es}=KK({jobId:xn,initialFetch:!0}),ts=De.useRef(null);De.useEffect(()=>{var t;!(null==(t=j.state)?void 0:t.containerId)||(null==R?void 0:R.containerId)&&R.containerId===j.state.containerId||_(e,{...j.state,isActive:!0,podIsPaused:Ot})},[j.state,null==R?void 0:R.containerId,e,_,Ot]),De.useEffect(()=>{xn&&(mn&&!Yn.isInitialized&&(z(Hd(mn)),z($d({containerId:mn,isInitialized:!0})),z(Jd({tabId:e,containerId:mn})),z(Xd(e))),mn&&xn&&fn&&z(Vd({containerId:mn,details:{job_id:xn,traj_path:fn,initial_commit_id:gn}})))},[mn,xn,fn,gn,Yn.isInitialized,z]);const ns=De.useCallback((e,t)=>{if(!H)return!1;if(e===H.id)return!0;if(!t)return!1;return((null==X?void 0:X.organizations)||[]).some(e=>e.organization_id===t)},[H,null==X?void 0:X.organizations]),ss=De.useCallback(async()=>{var t,n,s;if(xn){ve(!0);try{const i=await Zn(xn);if("error"in i)throw new Error("Failed to fetch job details");const a=i.data;if(!a)throw new Error("No job data received");const r=F(e)||{},o={...r,containerId:a.payload.container_id||a.id,initial_commit_id:a.payload.initial_commit_id,task:(null==(t=a.payload)?void 0:t.original_task)||a.payload.task,jobId:a.id,trajPath:fn,tabId:e,fromJobList:!0,isCloudFlow:null==(n=a.payload)?void 0:n.is_cloud,clientRefId:a.client_ref_id,modelName:a.payload.model_name,promptName:a.payload.prompt_name,promptVersion:a.payload.prompt_version,costLimit:a.payload.per_instance_cost_limit,agentName:a.payload.agent_name,portMapping:a.payload.portMapping,created_by:a.created_by,podIsPaused:Ot,base64_image_list:a.payload.base64_image_list,dynamic_preview_subdomain:a.payload.dynamic_preview_subdomain,env_image:a.payload.env_image,isPublished:a.payload.is_persisted,machineType:a.payload.machine_type,organization_id:a.payload.organization_id,tabHeading:a.title,createdAt:a.created_at};an(a.created_by),Qn({job_id:xn,traj_path:fn,initial_commit_id:gn,createdBy:a.created_by,forked:a.payload.forked,modelName:a.payload.model_name,promptName:a.payload.prompt_name,user_prompt_id:a.payload.user_prompt_id,promptVersion:a.payload.prompt_version,costLimit:a.payload.per_instance_cost_limit,agentName:a.payload.agent_name,dynamic_preview_subdomain:a.payload.dynamic_preview_subdomain,createdAt:a.created_at,asset_upload_enabled:a.payload.asset_upload_enabled,env_image:a.payload.env_image,isPublished:a.payload.is_persisted||!1,machineType:a.payload.machine_type,organization_id:a.payload.organization_id||null,testMode:a.payload.testMode||!1,enable_visual_edit:a.payload.enable_visual_edit}),le(a.payload.source_repo),pe(a.payload.target_repo);const l=J(),c=null==(s=a.payload)?void 0:s.organization_id,d=c?"organization":"user",u=c||l;_(e,o),A(t=>t.map(t=>{var n;return t.id===e?{...t,title:(null==(n=a.payload)?void 0:n.original_task)||a.payload.task,level:d,organization_id:u,state:o,tabHeading:o.tabHeading}:t})),r.showCase&&Z({panelName:"showUrlPreviewPanel",value:!0}),ve(!1)}catch(i){xg(i instanceof Error?i:String(i),{jobId:xn,containerId:mn,context:"fetch_job_details"}),O({title:"Error fetching task details",description:"Please try again later",variant:"destructive"}),E(e),ve(!1)}}},[xn,fn,e,Ot,gn,mn,_,A,O,E,Zn]),{isPublishing:is,publishApp:as}=function({jobId:e,onPublishSuccess:t}){const{toast:n}=on(),[s,{isLoading:i}]=Wx();return{isPublishing:i,publishApp:De.useCallback(async()=>{if(e)try{await s(e).unwrap(),n({title:"Success",description:"App published successfully!",variant:"default"}),null==t||t()}catch(i){const e=i.error||i.message||"Failed to publish app. Please try again.";n({title:"Publish Failed",description:e,variant:"destructive"})}else n({title:"Error",description:"No job ID available for publishing",variant:"destructive"})},[e,n,t,s])}}({jobId:xn,onPublishSuccess:ss}),rs=De.useMemo(()=>e===I&&!1!==(null==R?void 0:R.isActive),[e,I,null==R?void 0:R.isActive]),{resetPolling:os}=r$({isCloudFlow:vn,containerId:null==R?void 0:R.containerId,jobId:null==R?void 0:R.jobId,trajPath:null==R?void 0:R.trajPath,isActive:rs,onCurrentChunkResult:e=>{if(""!==e){if(e&&e.chunk&&e.chunk.request_id){if(null==fs?void 0:fs.some(t=>{var n,s;return t.id===e.chunk.request_id||(t.request_id===e.chunk.request_id||t.content===(null==(n=e.chunk.data)?void 0:n.thought)&&t.action===(null==(s=e.chunk.data)?void 0:s.tool_name))}))return void en(null)}en(e)}else en(null)},onJobDetailsResult:e=>{mn&&e&&z(Vd({containerId:mn,details:e}))},onTrajectoryResult:async e=>{var t;0===At.current.length&&(At.current=e.length),At.current.length!==e.length&&(null==(t=null==Xt?void 0:Xt.chunk)||t.agent_name,At.current=e.length),z(Wd({containerId:mn,trajectory:e}))},onAgentStateResult:e=>{Bt.current=e,Dt(e),e.agent_running===(null==Tt?void 0:Tt.agent_running)&&e.job_running===(null==Tt?void 0:Tt.job_running)||Kt(!1);const t="archived"===e.agent_status_new,n="recovering"===e.agent_status_new,s="paused"===e.agent_status_new||t||n;ie(t),zt(s),re(n)},onBrainStormingResult:e=>{pn(e.chat_mode)},onError:e=>{}}),ls=e=>{Z({panelName:"showInfoPanel",value:e})},cs=De.useCallback(()=>{Z({panelName:"showDeployPanel",value:!0}),yg("deploy_panel_toggle",{jobId:xn,containerId:mn,isVisible:!q,tabId:e})},[Z,q,xn,mn,e]),ds=De.useCallback(()=>{"free"!==K?as():An(!0)},[as]),us=De.useCallback(e=>{var t,n,s;if(!e.payload.task)return;const i=e.payload.container_id||e.id;if(!i)return;const a=D(e.id);if(a)return void T(a.id);const r=e.id,o=J(),l=e.organization_id||(null==(t=e.payload)?void 0:t.organization_id),c=l?"organization":"user",d=l||o,u=e.organization_name||(null==(n=e.payload)?void 0:n.organization_name),p=o?`/workspace/${o}/chat`:"/chat",m={jobId:e.id,containerId:i,task:(null==(s=e.payload)?void 0:s.original_task)||e.payload.task,trajPath:e.traj_path,initial_commit_id:e.initial_commit_id,isCloudFlow:e.payload.is_cloud_flow||!1,clientRefId:e.payload.client_ref_id,modelName:e.payload.model_name,promptName:e.payload.prompt_name,promptVersion:e.payload.prompt_version,costLimit:e.payload.per_instance_cost_limit,agentName:e.payload.agent_name,portMapping:e.payload.portMapping,created_by:e.created_by,createdAt:e.created_at,isActive:!0};A(t=>[...t,{id:r,title:`${e.payload.task}`,path:p,level:c,organization_id:d,organization_name:u,state:m,tabHeading:(null==m?void 0:m.task)||"Untitled"}]),_(r,m),T(r),C(`${p}?id=${e.id}`)},[D,T,A,_,C]),ps=De.useMemo(()=>{var e,t;if(!hn)return[];const n=(null==Jn?void 0:Jn.organization_id)?((e,t)=>{if(!e||!t)return;const n=P.find(t=>t.user_id===e);if(n){const e=n.email.split("@")[0];return e.charAt(0).toUpperCase()+e.slice(1)}if(e.includes("@")){const t=e.split("@")[0];return t.charAt(0).toUpperCase()+t.slice(1)}})(null==Jn?void 0:Jn.createdBy,null==Jn?void 0:Jn.organization_id):void 0;return[{id:"user-task",role:(null==Jn?void 0:Jn.createdBy)===(null==H?void 0:H.id)||!(null==Jn?void 0:Jn.job_id)?"user":"member",content:hn,container_id:mn,timestamp:Jn.createdAt,base64_image_list:(null==(t=null==(e=Yn.trajectory)?void 0:e[0])?void 0:t.base64_image_list)||[],...n&&{user_name:n},...(null==Jn?void 0:Jn.createdBy)&&{user_id:Jn.createdBy}}]},[hn,mn,null==Jn?void 0:Jn.createdBy,null==Jn?void 0:Jn.organization_id,P,null==H?void 0:H.id]),{messages:ms,setMessages:hs}=KB({initialMessages:ps}),xs=ms,fs=De.useMemo(()=>xs,[JSON.stringify(xs.map(e=>({id:e.id,content:e.content,role:e.role,timestamp:e.timestamp,base64_image_list:e.base64_image_list,subagent_trajectory:e.subagent_trajectory,forked_job_id:e.forked_job_id,function_name:e.function_name,artifacts:e.artifacts})))]),{searchState:gs,toggleSearch:vs,updateSearchQuery:bs,navigateToNextMatch:ys,navigateToPrevMatch:ws,getSearchHighlightsForMessage:js,isMessageContainingCurrentMatch:Cs}=function(e,t={}){const{virtuosoRef:n,containerRef:s,caseSensitive:i=!1}=t,[a,r]=De.useState({isActive:!1,query:"",matches:[],currentMatchIndex:-1});De.useRef(null);const o=De.useCallback(e=>{r(t=>({...t,isActive:void 0!==e?e:!t.isActive,...!1===e?{query:"",matches:[],currentMatchIndex:-1}:{}}))},[]),l=De.useCallback(e=>{r(t=>({...t,query:e}))},[]);De.useEffect(()=>{if(!a.isActive||!a.query.trim())return void r(e=>({...e,matches:[],currentMatchIndex:-1}));const t=[],o=i?a.query:a.query.toLowerCase();e.forEach((e,n)=>{const s=[];e.content&&"string"==typeof e.content&&s.push({field:"content",text:e.content}),e.observation&&"string"==typeof e.observation&&s.push({field:"observation",text:e.observation}),e.action&&"string"==typeof e.action&&s.push({field:"action",text:e.action}),e.error_message&&"string"==typeof e.error_message&&s.push({field:"error_message",text:e.error_message}),e.subagent_trajectory&&Array.isArray(e.subagent_trajectory)&&e.subagent_trajectory.forEach((e,t)=>{e.content&&"string"==typeof e.content&&s.push({field:`subagent_${t}`,text:e.content})}),s.forEach(({field:s,text:a})=>{const r=a.split("\n");let l=0;r.forEach((s,r)=>{const c=i?s:s.toLowerCase();let d,u=0;for(;-1!==(d=c.indexOf(o,u));){const s=l+d,i=s+o.length;t.push({messageIndex:n,messageId:e.id,text:a.substring(s,i),lineIndex:r,startIndex:d,endIndex:d+o.length,globalStartIndex:s,globalEndIndex:i}),u=d+1}l+=s.length+1})})}),r(e=>({...e,matches:t,currentMatchIndex:t.length>0?0:-1})),t.length>0&&setTimeout(()=>{if(t.length>0){const e=t[0];if(null==n?void 0:n.current)n.current.scrollToIndex({index:e.messageIndex,behavior:"smooth",align:"center"});else if(null==s?void 0:s.current){const t=document.getElementById(e.messageId);t&&t.scrollIntoView({behavior:"smooth",block:"center"})}}},0)},[a.isActive,a.query,e,i,n,s]);const c=De.useCallback(e=>{if(!a.matches.length)return;const t=e<0?a.matches.length-1:e>=a.matches.length?0:e,i=a.matches[t];if(r(e=>({...e,currentMatchIndex:t})),i){if(null==n?void 0:n.current)n.current.scrollToIndex({index:i.messageIndex,behavior:"smooth",align:"center"});else if(null==s?void 0:s.current){const e=document.getElementById(i.messageId);e&&e.scrollIntoView({behavior:"smooth",block:"center"})}setTimeout(()=>{const e=document.getElementById(i.messageId);e&&(e.classList.add("flash-highlight"),setTimeout(()=>{e.classList.remove("flash-highlight")},1e3))},100)}},[a.matches,n,s]),d=De.useCallback(()=>{c(a.currentMatchIndex+1)},[a.currentMatchIndex,c]),u=De.useCallback(()=>{c(a.currentMatchIndex-1)},[a.currentMatchIndex,c]),p=De.useCallback(e=>a.isActive&&a.matches.length?a.matches.filter(t=>t.messageId===e).map(e=>({startIndex:e.globalStartIndex,endIndex:e.globalEndIndex})):[],[a.isActive,a.matches]),m=De.useCallback(e=>!(!a.isActive||!a.matches.length)&&a.matches.some(t=>t.messageId===e),[a.isActive,a.matches]),h=De.useCallback(e=>{if(!a.isActive||-1===a.currentMatchIndex)return!1;const t=a.matches[a.currentMatchIndex];return(null==t?void 0:t.messageId)===e},[a.isActive,a.currentMatchIndex,a.matches]);return{searchState:a,toggleSearch:o,updateSearchQuery:l,navigateToMatch:c,navigateToNextMatch:d,navigateToPrevMatch:u,getSearchHighlightsForMessage:p,isMessageContainingMatch:m,isMessageContainingCurrentMatch:h}}(fs,{virtuosoRef:ee}),{processTrajectory:Ns}=LJ({task:hn,containerId:mn,jobId:xn,showSubagentPanel:U,selectedMessageId:Ce,selectedSubagent:we,setSelectedSubagentMessages:ye,setIsSubagentActive:fe,setAiMessages:hs,getCurrentMessages:()=>fs,createdByUserId:null==Jn?void 0:Jn.createdBy});De.useEffect(()=>{Mt&&fs.length>1&&ts.current&&(clearTimeout(ts.current),ts.current=null)},[fs.length,Mt]),De.useEffect(()=>()=>{ts.current&&clearTimeout(ts.current)},[]),De.useEffect(()=>{const t=()=>{I===e&&Cn(!0)};return window.addEventListener("openMobileMenu",t),()=>{window.removeEventListener("openMobileMenu",t)}},[I,e]),De.useEffect(()=>{xn&&fs.length<3&&ss()},[xn,fs.length]),De.useEffect(()=>{2!==fs.length||"initial-llm"!==fs[1].id||(null==Jn?void 0:Jn.job_id)||(null==Tt?void 0:Tt.agent_running)||(null==Tt?void 0:Tt.job_running)||(null==Tt?void 0:Tt.agent_status_new)||!Ot||(Dt({agent_running:!0,job_running:!0,agent_status_new:"running"}),zt(!1));const e=fs.slice(1).filter(e=>"user"===e.role).length,t=fs.length>0&&"assistant"===fs[fs.length-1].role,n=!(null==Tt?void 0:Tt.agent_running),s=0===e,i=!Q(),a="free"===K,r=!0===(null==X?void 0:X.auto_hitl_enabled);L(s&&t&&n&&i&&a&&r)},[fs,Tt,Q,K,null==X?void 0:X.auto_hitl_enabled]);const Fs=De.useCallback(t=>{if(!Yn.trajectory||0===Yn.trajectory.length)return;const n=[...Yn.trajectory];let s=null;if(t){const i=n.some(e=>e.human_message===t.content&&e.timestamp>t.timestamp),a=(new Date).getTime()-new Date(t.timestamp).getTime()>3e5;i||a?k(e,t.content):s={id:`user-${Date.now()}`,role:"user",content:t.content,containerId:mn,timestamp:(new Date).toISOString(),status:"pending",base64_image_list:t.base64_image_list,artifacts:t.artifacts}}Ns(n,s,Jn.createdAt)},[Yn.trajectory,Ns,e,mn,k]),[_s,ks]=De.useState(!1);De.useEffect(()=>{2!==fs.length||!fs.find(e=>"initial-llm"===e.action)||rn||kn||Z({panelName:"showUrlPreviewPanel",value:!0})},[fs.length,rn,kn]);const Ss=De.useMemo(()=>(null==R?void 0:R.jobsLength)>=1,[null==R?void 0:R.jobsLength]),Es=De.useMemo(()=>fs.length>=2&&_s||(null==R?void 0:R.repository)&&Hn,[fs,_s,null==R?void 0:R.repository,Hn]);De.useEffect(()=>{var e,t;const n=fs.filter(e=>"assistant"===e.role),s=n.find(e=>{var t,n;return(null==(t=e.function_name)?void 0:t.includes("bulk_file"))||(null==(n=e.function_name)?void 0:n.includes("replace"))||"finish"===e.action}),i=n[n.length-1],a=null==(e=null==Jn?void 0:Jn.forked)?void 0:e.parent_job_id;if(s||a){ks(!0);const e=window.innerWidth>=768,n=i&&((null==(t=i.function_name)?void 0:t.includes("bulk_file"))||"finish"===i.action);kn&&!Ot&&En(!0),Un().then(()=>{e&&n&&!qs.current&&(Z({panelName:"showUrlPreviewPanel",value:!0}),qs.current=!0)})}else ks(!1)},[fs,null==(l=null==Jn?void 0:Jn.forked)?void 0:l.parent_job_id,e,kn,Ot]),De.useEffect(()=>{const t=fs.filter(e=>"assistant"===e.role),n=t[t.length-1],s=null==R?void 0:R.pendingMessage;if(s&&(null==n?void 0:n.error_ts)){new Date(s.timestamp).getTime()<new Date(n.error_ts).getTime()&&(de(s.content),k(e,s.content))}},[fs,null==R?void 0:R.pendingMessage,e]),function(e={}){const{jobId:t,containerId:n,agentName:s,modelName:i,organizationId:a,createdBy:r,onFocusChange:o,onFocusLost:l,onFocusGained:c,enabled:d=!0}=e,[u,p]=De.useState(()=>"undefined"==typeof window||document.hasFocus()),[m,h]=De.useState(()=>"undefined"==typeof document||"visible"===document.visibilityState),x=u&&m,f=De.useRef(x),g=De.useCallback(()=>({jobId:t,containerId:n,agentName:s,modelName:i,organizationId:a,createdBy:r,timestamp:(new Date).toISOString()}),[t,n,s,i,a,r]);De.useEffect(()=>{if(!d||x===f.current)return;const e=g(),t={jobId:e.jobId,containerId:e.containerId,agentName:e.agentName,modelName:e.modelName,organizationId:e.organizationId,createdBy:e.createdBy,sessionTimestamp:e.timestamp,windowFocused:u,documentVisible:m};Tg("focus_changed",{...t,focusState:x?"gained":"lost",previousFocusState:f.current}),Tg(x?"focus_gained":"focus_lost",t),null==o||o(x,e),x?null==c||c(e):null==l||l(e),f.current=x},[x,d,o,c,l,g,u,m]),De.useEffect(()=>{if(!d||"undefined"==typeof window)return;const e=()=>p(!0),t=()=>p(!1),n=()=>h("visible"===document.visibilityState);return window.addEventListener("focus",e),window.addEventListener("blur",t),document.addEventListener("visibilitychange",n),()=>{window.removeEventListener("focus",e),window.removeEventListener("blur",t),document.removeEventListener("visibilitychange",n)}},[d])}({jobId:Jn.job_id,containerId:mn,agentName:Jn.agentName,modelName:Jn.modelName,organizationId:Jn.organization_id,createdBy:Jn.createdBy,enabled:!!xn&&fs.length<4}),De.useEffect(()=>{const e=null==R?void 0:R.pendingMessage;Fs(e)},[Yn.trajectory,e,null==R?void 0:R.pendingMessage]),De.useEffect(()=>()=>{},[mn,z]),De.useEffect(()=>{var e;if(U&&fs.length>0){const t=fs[fs.length-1];t&&t.subagent_trajectory&&t.subagent_trajectory.length>0&&t.agent_name===(null==(e=be[0])?void 0:e.agent_name)&&ye(t.subagent_trajectory)}},[U,fs]),De.useEffect(()=>{if(U&&Ce&&fs.length>0){const e=fs.find(e=>e.id===Ce);e&&e.subagent_trajectory&&e.subagent_trajectory.length>0&&e.agent_name===we&&ye(e.subagent_trajectory)}},[U,Ce,fs,we]),De.useEffect(()=>{!U&&Ce&&Ne(void 0)},[U,Ce]),De.useEffect(()=>{if(U&&void 0!==Fe&&Yn.trajectory){const e=Yn.trajectory.find(e=>e.step_num===Fe);(null==e?void 0:e.subagent_trajectory)&&ye(e.subagent_trajectory)}},[U,Fe,Yn.trajectory]),De.useEffect(()=>{if(U&&Ce&&fs.length>0){const e=fs.find(e=>e.id===Ce);e&&e.subagent_trajectory&&e.subagent_trajectory.length>0&&ye(e.subagent_trajectory)}},[U,Ce,fs]),G8({user:H,jobDetails:Jn,tier:K,aiMessages:fs,enabled:!0});const Is=De.useCallback((t,n,s)=>{const i=`user-${Date.now()}`;vg("message_sent",{jobId:xn,containerId:mn,messageId:i,messageLength:t.length,hasImages:n.length>0,imageCount:n.length,tabId:e});const a={id:i,role:"user",content:t,containerId:mn,timestamp:(new Date).toISOString(),status:"pending",base64_image_list:n,artifacts:null==s?void 0:s.map(e=>({name:e.file_name,url:`#artifact-${e.artifact_id}`}))};hs(e=>{const t=[...e,a];return setTimeout(()=>{ee.current&&ee.current.scrollToIndex({index:t.length-1,behavior:"smooth"})},150),t}),t.trim()&&S(e,i,t,n,s)},[mn,xn,e]),As=Is,Ts=De.useCallback(t=>{var n;if(null==(n=t.subagent_trajectory)?void 0:n.length){const n=t.expertise_type||t.function_name;ye(t.subagent_trajectory),je(n),Ne(t.id),Z({panelName:"showSubagentPanel",value:!0}),yg("subagent_selected",{jobId:xn,containerId:mn,expertise:n,messageId:t.id,subagentTrajectoryLength:t.subagent_trajectory.length,tabId:e})}},[xn,mn,e]),Ds=De.useCallback(async()=>{if(!V&&Un)try{await Un()}catch(t){}Z({panelName:"showUrlPreviewPanel",value:!0}),yg("preview_panel_toggle",{jobId:xn,containerId:mn,isVisible:!V,tabId:e,previewUrl:Hn})},[Z,V,xn,mn,e,Hn,Un]),Ms=De.useCallback(e=>{Ze(e)},[]),Ls=De.useCallback(e=>{Ye.current=e},[]),Ps=De.useCallback(e=>{$e(e),e&&qe(!1),e&&!V&&Z({panelName:"showUrlPreviewPanel",value:!0})},[V,Z]),Rs=De.useCallback((e,t)=>{It({jobId:e,messages:t}),nt(e=>({...e,fork:!0}))},[]),Os=De.useCallback((e,t)=>{It({jobId:e,messages:[],summaryData:t,startInSummaryMode:!0}),nt(e=>({...e,fork:!0}))},[]),zs=De.useCallback(e=>{lt(e||[]),rt(!0)},[]);De.useEffect(()=>{B&&!Yu()&&(null==Jn?void 0:Jn.enable_visual_edit)&&_s&&nt(e=>({...e,visualEdits:!0}))},[B,null==Jn?void 0:Jn.enable_visual_edit,_s]);const Bs=De.useCallback(async e=>{try{e.data=JSON.parse(e.data)}catch(t){return}if("rrweb_events"===e.type&&Array.isArray(e.data))try{if(Nt(e.data),jt(!0),xn){St(!0);try{if(!xn)throw new Error("No job ID available");const t=await hm(xn,e.data),s=[],i=new Blob([t.playwright_script],{type:"text/javascript"}),a=new File([i],"generated-playwright-test.js",{type:"text/javascript"});s.push({file:a,description:"Generated Playwright test script from user interaction recording"});const r=new Blob([t.console_logs],{type:"text/plain"}),o=new File([r],"console-logs.txt",{type:"text/plain"});s.push({file:o,description:"Console logs captured during user interaction recording (last 50 entries, TIMESTAMP:MESSAGE format)"});const l=new Blob([t.network_logs],{type:"text/plain"}),c=new File([l],"network-logs.txt",{type:"text/plain"});s.push({file:c,description:"Network requests captured during user interaction recording (last 50 entries, excluding PostHog)"});const d=[];for(const e of s)try{const t={file_name:e.file.name,mime_type:e.file.type},n=await im(xn,t);await am(n.upload_url,e.file),d.push({artifact_id:n.artifact_id,file_path:n.file_path,entity_id:xn,entity_type:"job",visibility:"public",file_name:e.file.name,description:e.description})}catch(n){}if(d.length>0)try{await dm({artifacts:d})}catch(n){}_t(t.playwright_script)}catch(n){_t({error:"Failed to process rrweb events"})}finally{St(!1)}}e.source&&"function"==typeof e.source.postMessage&&e.source.postMessage({type:"close_window"},"*")}catch(n){}else"user_interaction"===e.type||"error"===e.type||e.type},[xn]),Hs=De.useCallback(async()=>{if(xn&&ut){yt(!1),vt(!0);try{const t={file_name:ut.name,mime_type:ut.type},n=await im(xn,t);await am(n.upload_url,ut);const s={entity_id:xn,entity_type:"job",visibility:"public",file_name:ut.name,description:"Screen recording of the preview"};await dm({artifacts:[{...s,artifact_id:n.artifact_id,file_path:n.file_path}]});try{const e=await um(xn,n.artifact_id);ft(e)}catch(e){ft({error:"Failed to generate test cases"})}finally{vt(!1)}}catch(e){vt(!1),O({title:"Upload Failed",description:"Failed to upload the recorded video. Please try again.",variant:"destructive"})}}},[xn,ut,O]),$s=De.useCallback(()=>{dt(!1),pt(null),mt&&URL.revokeObjectURL(mt),ht(null),ft(null),vt(!1),yt(!0)},[mt]),Us=De.useCallback(()=>{jt(!1),Nt([]),_t(null),St(!1)},[]),Vs=De.useCallback(async(t,n)=>{if(!we||!xn)return;vg("message_sent",{jobId:xn,containerId:mn,messageLength:t.length,hasImages:!!n&&n.length>0,imageCount:n?n.length:0,tabId:e,isSubagent:!0,subagentType:we});const s={id:`subagent-${Date.now()}`,role:"user",content:t,timestamp:(new Date).toISOString(),agent_name:we,base64_image_list:n};ye((e=[])=>[...e,s])},[we,xn,mn,e]),Ws=De.useRef(!1),qs=De.useRef(!1);De.useEffect(()=>{qs.current=!1},[e,xn]),De.useEffect(()=>{const t=F(e);if(t&&H){t.showCase&&(Si(!1),Ws.current||(Z({panelName:"showUrlPreviewPanel",value:!0}),Ws.current=!0));ns(t.created_by,t.organization_id||null)?Zt(!1):(Zt(!0),Ws.current||(Z({panelName:"showUrlPreviewPanel",value:!1}),Ws.current=!0))}else Zt(!0)},[null==R?void 0:R.showCase,null==R?void 0:R.created_by,null==R?void 0:R.organization_id,null==H?void 0:H.id,null==X?void 0:X.organizations,xn,ns]),De.useEffect(()=>{H&&B&&I===e&&xn&&es()},[H,B,I,e,xn,fs.length,es]);const Gs=De.useMemo(()=>{if("brainstorming_requested"==un||"brainstorming_done"==un){const e=(null==Tt?void 0:Tt.agent_running)?{chunk:{data:{thought:"Analyzing your request and preparing the build environment...",tool_name:"brainstorming_done"===un?"build_mode":null}}}:null;return()=>n.jsx("div",{className:"mt-4",children:(null==Tt?void 0:Tt.agent_running)&&!rn&&n.jsxs(n.Fragment,{children:[n.jsx(LK,{initialText:"Analyzing your request",currentChunk:e}),n.jsx("div",{className:"h-32"})]})})}return xe?()=>n.jsx(n.Fragment,{}):()=>{var e,t;return n.jsx(Y8,{text:Pe,rollbackStatus:Wt,agentStatus:null==Tt?void 0:Tt.agent_running,isSubagentChunk:Xt&&Xt.chunk&&(null==(e=null==Xt?void 0:Xt.chunk)?void 0:e.data)&&"SkilledAssistant"===(null==(t=null==Xt?void 0:Xt.chunk)?void 0:t.agent_name)||fs.length>0&&"SkilledAssistant"===fs[fs.length-1].agent_name,currentChunk:Xt,isTyping:rn})}},[Pe,Wt,null==Tt?void 0:Tt.agent_running,null==(c=null==Xt?void 0:Xt.chunk)?void 0:c.agent_name,null==(d=null==Xt?void 0:Xt.chunk)?void 0:d.request_id,null==(u=null==Xt?void 0:Xt.chunk)?void 0:u.data,fs,un,xe,rn]),Zs=De.useMemo(()=>{var e;return(null==(e=null==B?void 0:B.user)?void 0:e.email)?B.user.email.split("@")[0].split(".").map(e=>e[0]).join("").toUpperCase():"U"},[null==(p=null==B?void 0:B.user)?void 0:p.email]),Ys=De.useMemo(()=>{var e;return(null==(e=null==Jn?void 0:Jn.forked)?void 0:e.parent_job_id)&&fs.length<=1?[]:fs},[fs,null==(m=null==Jn?void 0:Jn.forked)?void 0:m.parent_job_id,ge]),[Ks,Js]=De.useState(!0),[Qs,Xs]=De.useState(!1),ei=De.useRef(!1),ti=De.useRef(null),ni=De.useRef(!0),si=De.useRef(null),ii=De.useRef(I===e),ai=De.useRef(!1),ri=De.useRef(!0),oi=()=>{ee.current&&(ti.current&&(clearTimeout(ti.current),ti.current=null),ee.current.scrollToIndex({index:fs.length-1,behavior:"smooth"}),setTimeout(()=>{Xs(!1),Js(!0),ei.current=!1,ni.current=!0},100))};De.useEffect(()=>{const t=I===e;!ii.current&&t&&(ai.current=!0,setTimeout(()=>{ai.current=!1},500)),ii.current=t},[I,e]),De.useEffect(()=>{fs.length>0&&ri.current&&setTimeout(()=>{ri.current=!1},100)},[fs.length]),De.useEffect(()=>{if(fs.length>0){const e=[...fs].reverse().find(e=>"assistant"===e.role);if(e&&e.thinking_level&&e.id&&e.id!==Xe){const t="ultra_mode"===e.thinking_level;Be(t),et(e.id)}}},[fs.length,Xe]);De.useEffect(()=>{if(I===e&&ee.current&&fs.length>0){const e=setTimeout(()=>{ee.current&&ee.current.getState(e=>{if(e){const t=!1===e.isScrolling&&e.lastItemIndex===fs.length-1&&e.offsetBottom<100;t?(Js(!0),Xs(!1)):(Js(!1),Xs(!0)),ni.current=t}})},100);return()=>clearTimeout(e)}},[I,e,fs.length]),De.useEffect(()=>()=>{ti.current&&clearTimeout(ti.current),si.current&&clearTimeout(si.current)},[]);const[li,ci]=De.useState(!1),[di,ui]=De.useState(!1),[pi,mi]=De.useState(!1),[hi,xi]=De.useState(!1),{showErrorToast:fi}=QJ(),{newToast:gi,changePosition:vi}=tD(),bi=De.useCallback(()=>{xi(!1),mi(!1)},[]),yi=De.useCallback(()=>{ui(!1)},[]),wi=De.useCallback(()=>{if(!xn||!mn)return;yg("wake_up_clicked",{jobId:xn}),ne(!0),ui(!1);setTimeout(()=>{try{ui(!1),Fn({jobId:xn,upgrade:(null==Tt?void 0:Tt.show_upgrade)&&"large"!==(null==Jn?void 0:Jn.machineType)}).unwrap().then(e=>{e&&((null==Tt?void 0:Tt.show_upgrade)&&Nn({payload:{task:null==Tt?void 0:Tt.pod_state_hitl},client_ref_id:xn,resume:!0}).unwrap(),setTimeout(()=>{ci(!0),Kt(!0),zt(!1),ne(!1),ci(!1),ui(!0),yg("wake_up_successful",{jobId:xn})},5500))}).catch(e=>{let t="We are pulling your job from archive. Please try again after 30 Minutes.";e.response&&e.response.data?t=e.response.data.message||e.response.data.error||t:e.message&&(t=e.message),vi(GT),gi.info("It's taking longer than expected. We will reach out to you once the agent wakes up"),ne(!1),yg("wake_up_failed",{jobId:xn,errorMessage:t}),ci(!1)})}catch(e){gi.info("It's taking longer than expected. We will reach out to you once the agent wakes up"),yg("wake_up_failed",{jobId:xn,error:JSON.stringify(e)})}},100)},[xn,mn,null==Tt?void 0:Tt.show_upgrade,null==Tt?void 0:Tt.pod_state_hitl,null==Jn?void 0:Jn.machineType]),ji=De.useCallback(async({origin:e="MainInput"})=>{if((null==Jn?void 0:Jn.job_id)&&(null==Tt?void 0:Tt.agent_running)){Qt(!0),Kt(!0);try{const t=await Fp({job_id:Jn.job_id,agent_name:"SubagentButton"===e?"SkilledAssistant":null==R?void 0:R.agentName});200===t.status||t.status}catch(t){O({title:"Error",description:"Failed to pause agent",variant:"destructive"}),Qt(!1),Kt(!1)}}},[null==Jn?void 0:Jn.job_id,null==Tt?void 0:Tt.agent_running,null==R?void 0:R.agentName,O]);De.useEffect(()=>{!(null==Tt?void 0:Tt.agent_running)&&Jt&&Qt(!1)},[null==Tt?void 0:Tt.agent_running,Jt]),De.useEffect(()=>{var e;const t=(null==(e=Ys[Ys.length-1])?void 0:e.fork_status)||null,n=Ys[Ys.length-1]||null,s=(({agentState:e,isSubagentActive:t=!1,currentAgentStatus:n="stopped",isPauseLoading:s=!1,forked_status:i=null,lastMessage:a=null})=>{if(s)return t?"subagent_stopping":"stopping";if("SkilledAssistant"==(null==a?void 0:a.next_call_agent)){if(!(null==e?void 0:e.agent_running)&&!(null==e?void 0:e.job_running)){if((null==a?void 0:a.subagent_trajectory)&&a.subagent_trajectory.length>0){const e=a.subagent_trajectory[a.subagent_trajectory.length-1];if(e&&"EmergentAssistant"===e.next_call_agent)return"waiting"}return"subagent_waiting"}return"subagent_stopping"===n?"subagent_stopping":"subagent_running"}return"stopping"===n?(null==e?void 0:e.agent_running)||(null==e?void 0:e.job_running)?"stopping":"waiting":(null==e?void 0:e.agent_running)||(null==e?void 0:e.job_running)?"running":"running"===i?"forking":"waiting"})({agentState:Tt,isSubagentActive:xe,currentAgentStatus:cn,isPauseLoading:Jt,forked_status:t,lastMessage:n});s!==cn&&dn(s);const i="EmergentAssistant"==(null==n?void 0:n.next_call_agent);"subagent_running"===s||"subagent_waiting"===s||"subagent_stopping"===s?fe(!0):i&&fe(!1)},[Tt,xe,cn,Jt,Ys]),De.useEffect(()=>{!He||"running"!==cn&&"subagent_running"!==cn||$e(!1)},[cn,He]),De.useEffect(()=>{const e=Qe.current;He&&!e?(Ke.current=!1,Je.current=!1):!He&&e&&(Je.current=!1),Qe.current=He},[He]),De.useEffect(()=>{He&&We&&(Je.current=!0),He||(Je.current=!1)},[We,He]),De.useEffect(()=>{const e=Ke.current,t=Je.current;He&&t&&e&&!We&&($e(!1),Je.current=!1),Ke.current=We},[We,He]);const Ci=async({content:t})=>{try{const e=J(),n=null==H?void 0:H.id,s={processor_type:"env_only",is_cloud:!0,task:t,prompt_name:"",prompt_version:"latest",work_space_dir:"",model_name:Tn||"claude-3-5-sonnet-20241022",env_image:"",base64_image_list:[],human_timestamp:(new Date).toISOString(),thinking_level:Oe?"ultra_mode":"thinking",...e&&{organization_id:e},...n&&{user_id:n}};await Sp(s,null==Jn?void 0:Jn.job_id,!0)}catch(n){mu({tabId:e,content:t}),O({title:"Error",description:"Failed to resume agent",variant:"destructive"})}},Ni=De.useCallback(e=>{if(e.trim()){const t=`Here are the test cases for the screen & audio recording:\n\n\`\`\`json\n${e}\n\`\`\``;Is(t,[]),Ci({content:t})}},[Is,Ci]),Fi=De.useCallback(e=>{Is(e,[]),Ci({content:e})},[Is,Ci]),_i=De.useCallback((e,t)=>{const n=null==t?void 0:t.map(e=>({artifact_id:e.artifact_id,entity_id:xn||"",entity_type:"job",visibility:"public",file_name:e.file_name,description:e.description}));Is(e,[],n),Ci({content:e}),jt(!1)},[Is,Ci,xn]),[ki,Si]=De.useState(!0),[Ei,Ii]=De.useState(!1);De.useEffect(()=>{const e=e=>{(e.metaKey||e.ctrlKey)&&"/"===e.key&&(e.preventDefault(),Si(e=>!e)),(e.metaKey||e.ctrlKey)&&"f"===e.key&&(e.preventDefault(),vs(!0)),gs.isActive&&("Escape"===e.key?(e.preventDefault(),vs(!1)):"Enter"===e.key&&(e.preventDefault(),e.shiftKey?ws():ys()))};return window.addEventListener("keydown",e),()=>{window.removeEventListener("keydown",e)}},[gs.isActive,vs,ys,ws]);const Ai=(null==(h=null==Jn?void 0:Jn.promptName)?void 0:h.includes("expo"))||(null==(x=null==Jn?void 0:Jn.env_image)?void 0:x.includes("expo")),Ti={enablePublish:!1,isPublishing:is,isPublished:null==Jn?void 0:Jn.isPublished},[Di,Mi]=De.useState({subagent:45,info:30,urlPreview:Ai?35:50,deploy:45,logs:30}),[Li,Pi]=De.useState(!1);De.useEffect(()=>{fs.length>0&&he(e=>{var t;return function(e){if(!e)return!1;const t=new Date(e);return t<new Date("2025-04-25T00:00:00Z")}(null==(t=fs[0])?void 0:t.timestamp)||e})},[fs]);const Ri=()=>V?Ai?35:50:q?45:U?40:30,Oi=(V?Di.urlPreview:q?Di.deploy:U?Di.subagent:W?Di.info:$?Di.logs:0)>0,{config:zi,refetch:Bi}=kD(),Hi=De.useRef(!1);De.useEffect(()=>{(R.needsApiCall||R.apiCallInProgress)&&Ss?(xi(!0),mi(!1)):hi&&!pi&&mi(!0)},[R.needsApiCall,R.apiCallInProgress,hi,pi,Ss]);const $i=De.useCallback(async()=>{var t,n,s,i,a,r,o,l,c,d;if(!Hi.current&&!R.apiCallInProgress)if(R.client_ref_id)R.needsApiCall&&_(e,{...R,needsApiCall:!1});else{Hi.current=!0;try{const c=R.pending_client_ref_id||crypto.randomUUID();if(_(e,{...R,apiCallInProgress:Ss,pending_client_ref_id:c,needsApiCall:!1,fromShowCase:!1,showCase:!1,created_by:null==H?void 0:H.id}),R.experimental&&!zi)try{await Bi()}catch(u){}const{selectedAgent:d,task:m,model_name:h,per_instance_cost_limit:x,agentic_skills:f,portMappings:g,image:v,selectedImage:b,base64_image_list:y,repository:w,branch:j,experimental:C,e15Enabled:N}=R,F=y||[],k=v||b,S=d||R.agentName||R.agent_name,E=h||R.modelName||R.model,I=R.selectedAgent&&""!==R.selectedAgent,A=R.model_name&&""!==R.model_name,T=(R.selectedImage||R.image)&&(""!==R.selectedImage||""!==R.image),D=J(),M=I?S:N?(null==(t=null==zi?void 0:zi.e15_experimental)?void 0:t.agent)||S:C&&(null==(n=null==zi?void 0:zi.e1_experimental)?void 0:n.agent)||S,L=A?E:N?(null==(s=null==zi?void 0:zi.e15_experimental)?void 0:s.baseModel)||E:C&&(null==(i=null==zi?void 0:zi.e1_experimental)?void 0:i.baseModel)||E,P=T?k:N?(null==(a=null==zi?void 0:zi.e15_experimental)?void 0:a.dockerImage)||k:C&&(null==(r=null==zi?void 0:zi.e1_experimental)?void 0:r.dockerImage)||k,O={...R.user_prompt_id?{user_prompt_id:R.user_prompt_id}:{prompt_name:M},prompt_version:"latest",work_space_dir:"",task:m,model_name:L,per_instance_cost_limit:parseInt((null==x?void 0:x.toString())||"25",10),agentic_skills:f,portMapping:g,env_image:P,plugin_version:null==zi?void 0:zi.plugin_library_version,base64_image_list:F,repository:w,branch:j,human_timestamp:Date.now(),asset_upload_enabled:nn,is_pro_user:"pro_mode"===K,testMode:tn,thinking_level:R.ultraMode?"ultra_mode":"thinking",...Ig()&&{job_mode:R.privacy||"public"},...D&&{organization_id:D},mcp_id:R.selectedMcpServerIds||[]};if(yg("new_job_submitted",{tabState:R,payload:O}),m&&!k)throw yg("new_job_submitted_without_data",{tabState:R,payload:O}),new Error("Task creation failed, please try again after a refresh.");let B=[];if(R.selectedFiles&&R.selectedFiles.length>0)try{B=await(async(e,t)=>{const n=[];for(const i of e)try{const e=URL.createObjectURL(i),s=i.type.startsWith("image/"),a={file_name:i.name,mime_type:i.type},r=await im(t,a);await am(r.upload_url,i),n.push({artifact_id:r.artifact_id,entity_id:t,entity_type:"job",visibility:"public",file_name:i.name,description:"",file_path:r.file_path,readByAgent:s,mime_type:i.type,file_size:i.size,local_preview_url:e,local_preview_base64:void 0})}catch(s){}return n})(R.selectedFiles,c),B.length>0&&z(xu({tabId:e,artifacts:B}))}catch(p){}const $=[...Kn,...B];let U;$.length>0&&(U={artifacts:$.map(e=>({artifact_id:e.artifact_id,entity_id:e.entity_id,entity_type:e.entity_type,visibility:e.visibility,file_name:e.file_name,description:e.description,file_path:e.file_path}))});const V=(null==H?void 0:H.id)&&!localStorage.getItem(`first_job_created_${H.id}`),W=(null==H?void 0:H.id)&&!localStorage.getItem(`first_message_sent_${H.id}`);V&&(localStorage.setItem(`first_job_created_${H.id}`,"true"),localStorage.setItem("first_job_timestamp",(new Date).toISOString()),((e,t,n,s)=>{const i=localStorage.getItem("utm_source")||void 0,a=localStorage.getItem("utm_campaign")||void 0,r=localStorage.getItem("utm_medium")||void 0,o=localStorage.getItem("utm_content")||void 0,l=localStorage.getItem("utm_term")||void 0,c=localStorage.getItem("user_referrer")||void 0,d=new URLSearchParams(window.location.search),u=d.get("referral")||d.get("ref")||void 0;op("first_job_created",{user_id:e,job_id:t,task_description:n.substring(0,500),task_length:n.length,utm_source:i,utm_campaign:a,utm_medium:r,utm_content:o,utm_term:l,referrer:c,referral_code:u,creation_page:window.location.pathname,creation_url:window.location.href,...s})})(H.id,c,m,{agent_name:S,model_name:E,docker_image:k,has_images:F.length>0,image_count:F.length,has_artifacts:$.length>0,artifact_count:$.length,organization_id:D||"personal",is_experimental:C||!1,ultra_mode:R.ultraMode||!1,privacy:R.privacy||"public",tier:K}),jg("first_task_created",{userId:H.id,jobId:c,task:m.substring(0,100)})),W&&(localStorage.setItem(`first_message_sent_${H.id}`,"true"),jg("first_message_sent",{userId:H.id,jobId:c,contentLength:m.length}));const q=Sp(O,c,!1,U);try{const t=await Ep(O,c,!1,U);if(null==t?void 0:t.text){_(e,{...R,apiCallInProgress:!1,needsApiCall:!1}),xi(!1),mi(!1),ts.current&&clearTimeout(ts.current),Lt({content:t.text,typing:!0}),hs(e=>{const n=[...e],s={id:"initial-llm",role:"assistant",content:t.text,timestamp:(new Date).toISOString(),base64_image_list:[],typing:!0,action:"initial-llm",function_name:"initial-llm",tying:!0};return n.push(s),n});const n=50*t.text.length+1e3;ts.current=setTimeout(()=>{Lt(e=>e?{...e,typing:!1}:null)},n)}}catch(p){_(e,{apiCallInProgress:!0,needsApiCall:!0})}await q;$.length>0&&z(fu({tabId:e}));((null==(o=R.selectedFiles)?void 0:o.length)>0||(null==(l=R.selectedImages)?void 0:l.length)>0)&&_(e,{...R,selectedFiles:[],selectedImages:[]});const G={...R,containerId:c,client_ref_id:c,apiCallInProgress:!1,needsApiCall:!1,task:m,fromJobList:!0,jobId:c,apiCallSuccessful:!0,pending_client_ref_id:void 0,fromShowCase:!1,showCase:!1,created_by:null==H?void 0:H.id};_(e,G)}catch(p){const t=(null==(d=null==(c=null==p?void 0:p.response)?void 0:c.data)?void 0:d.detail)||(null==p?void 0:p.message);O({title:"Error",description:t||"Failed to submit task. Please try again.",variant:"destructive",duration:5e3}),A(t=>t.filter(t=>t.id!==e)),T("home")}finally{Hi.current=!1}}},[R,e,_,Bi,O,A,T,nn,Ss]),Ui=De.useRef(!0);De.useEffect(()=>{R.pending_client_ref_id&&!R.client_ref_id&&R.apiCallInProgress&&Ui.current&&((async()=>{if(R.pending_client_ref_id&&!R.client_ref_id&&R.apiCallInProgress)try{_(e,{...R,task:R.task,clientRefId:R.pending_client_ref_id,apiCallInProgress:!1,needsApiCall:!1,pending_client_ref_id:void 0,jobId:R.pending_client_ref_id,fromShowCase:!1,showCase:!1,created_by:null==H?void 0:H.id})}catch(t){_(e,{...R,apiCallInProgress:!1,needsApiCall:!0})}})(),Ui.current=!1)},[]),De.useEffect(()=>{!R.needsApiCall||R.apiCallInProgress||Hi.current||(R.task&&(R.image||R.selectedImage)?setTimeout(()=>{$i()},50):setTimeout(()=>{const t=F(e);t.task&&(t.image||t.selectedImage)&&$i()},200))},[R.needsApiCall,R.apiCallInProgress,R.task,R.image,R.selectedImage]);const{bannerHeight:Vi}=fL(),Wi=Vi+56,qi=De.useCallback(e=>{it(e),nt(e=>({...e,unsavedChanges:!0}))},[]),Gi=De.useCallback(()=>{nt(e=>({...e,unsavedChanges:!1}))},[]);return hi?n.jsx(XO,{children:n.jsx("div",{className:"w-screen h-full",children:n.jsx(e3,{complete:pi,onComplete:bi})})}):n.jsxs(XO,{children:[n.jsxs(D4,{direction:"horizontal",className:"relative flex w-full bg-[#0F0F10]",style:{height:`calc(100dvh - ${Wi}px)`},children:[n.jsx(M4,{defaultSize:kn?100:Oi?100-Ri():100,minSize:kn?100:45,maxSize:kn?100:void 0,className:""+(Oi&&!kn?"md:block hidden":"block"),children:n.jsxs("div",{className:"relative flex flex-col h-full",children:[n.jsx("div",{className:"h-10 md:h-16 pt-1 md:pt-3 bg-transparent md:bg-gradient-to-b from-[#0f0f0f] to-[#0f0f0f00] w-fit md:w-full right-0 md:right-3 fixed md:absolute top-[14px] md:top-[0px] z-[50] md:z-[49]",children:n.jsx(vU,{handleVSCodeLink:zn,handleShowDiff:Gn,handlePreviewClick:Ds,handleInfoClick:()=>ls(!0),handleDeployClick:cs,handlePublishClick:ds,handlePublishBottomSheetOpen:()=>wn(!0),showActions:!($||U||W||V||q),hideImportantActions:Gt&&!tn,jobId:xn,tabId:e,podIsPaused:Ot,enableDeploy:_s&&"running"!=(null==(f=Ys[Ys.length-1])?void 0:f.fork_status),publishConfig:{enablePublish:!1,isPublishing:is,isPublished:null==Jn?void 0:Jn.isPublished},previewUrl:Es?Hn:"",buildMode:un})}),n.jsx(a$,{searchState:gs,updateSearchQuery:bs,navigateToPrevMatch:ws,navigateToNextMatch:ys,toggleSearch:vs}),n.jsx("div",{className:"relative flex-1 w-full h-full overflow-hidden",children:n.jsx("div",{className:"absolute inset-0",children:!(null==(g=null==Jn?void 0:Jn.forked)?void 0:g.parent_job_id)&&0===fs.length||(null==(v=null==Jn?void 0:Jn.forked)?void 0:v.parent_job_id)&&fs.length<=1?n.jsx("div",{className:"flex flex-col items-center justify-center h-full text-center",children:n.jsx("div",{className:"max-w-md",children:n.jsx("p",{className:"text-[#C4C4CC] text-base mb-2",children:n.jsx(Ik,{})})})}):n.jsx(CO,{ref:ee,className:"w-full h-full overflow-x-hidden",style:{height:"100%",paddingTop:Mt?"120px":"0px"},data:Ys,initialTopMostItemIndex:ri.current?Math.max(0,fs.length-1):void 0,atBottomStateChange:e=>{(e=>{ti.current&&(clearTimeout(ti.current),ti.current=null),e?ti.current=setTimeout(()=>{ee.current&&(Js(!0),Xs(!1),ei.current=!1),ti.current=null},150):(Js(!1),Xs(!0),ei.current=!0),ni.current=e})(e)},followOutput:ri.current?"auto":!!Ks&&"smooth",itemContent:e=>{var t,s,i,a,r,o;const l=fs[e],c=(null==Xn?void 0:Xn.current_usage)||0,d=(null==Xn?void 0:Xn.max_budget)||0,u=()=>{(null==Tt?void 0:Tt.agent_running)?fi("Agent is running","Please wait for the agent to finish or stop running before rolling back"):(fs[e].request_id&&Vt(fs[e].request_id),$t(!0))},p=fs.filter(e=>!0===e.warning_for_token_limit),m=(null==(t=p[p.length-1])?void 0:t.current_token_count)||0,h=(null==(s=p[p.length-1])?void 0:s.max_token_count)||2e5,x=fs.filter(e=>"assistant"===e.role),f=x[x.length-1],g="user"===fs[fs.length-1].role,v=(null==f?void 0:f.error_message)&&"string"==typeof f.error_message&&f.error_message.includes("context limit"),b="rollback"===fs[e].function_name,y=fs.some(e=>!0===e.warning_for_token_limit)||v,w=Math.min(m,h-1e3),j={content:v?"The agent is reached its context limit. To keep the conversation going and avoid losing progress, please summarize the session and save your work.":"The agent is approaching its context limit. To keep the conversation going and avoid losing progress, please summarize the session and save your work.",containerId:mn,id:`context_limit_reached-${e}`,role:"assistant",error:!1,error_message:v?"You have reached the context limit for this chat! To continue working on this project, please use Rollback and Clear Messages feature to an earlier message or Push to Github and Start a new run.":"",function_name:"context_limit_reached",job_id:xn,step_number:0,current_token_count:v?h:w,max_token_count:h,container_id:mn,timestamp:l.timestamp,action:"context_limit_reached",error_message_exists:v},C=e===fs.length-1&&y&&!g;return"forked"==l.function_name?n.jsx(Y4,{state:l.forked_job_id&&"failed"!=l.fork_status?"completed":"failed"==l.fork_status?"error":"running",count:e+1,message:l,disabled:Ot||Y<=0,isDropdownOpen:Ei,setIsDropdownOpen:Ii,currentJobId:null==Jn?void 0:Jn.job_id,messages:fs,onOpenForkModal:Rs,onOpenForkModalWithSummary:Os,isLastMessage:e===fs.length-1}):n.jsx("div",{className:"flex justify-center w-full min-h-[1px]",children:n.jsxs("div",{className:YK("w-full hover:bg-[rgba(255,255,255,0.02)]",b&&"bg-[#FFAA800D] hover:bg-[#FFAA800D] mb-2",0==e&&"mt-10"),children:[fs.length>0&&0==e&&(null==(i=null==Jn?void 0:Jn.forked)?void 0:i.parent_job_id)&&n.jsx(Y4,{isDropdownOpen:Ei,setIsDropdownOpen:Ii,state:"forked",message:fs[fs.length-1],forked:null==Jn?void 0:Jn.forked,currentJobId:null==Jn?void 0:Jn.job_id,messages:fs,onOpenForkModal:Rs,onOpenForkModalWithSummary:Os,disabled:Ot||Y<=0,isLastMessage:!1}),n.jsxs("div",{className:YK("mx-auto px-4 w-full"),children:[!l.switching_to_build_mode&&"assistant"===l.role&&"action"in l&&!(fs.length-1===e&&y&&"pause"===l.action)&&n.jsx(AK,{lastGithubUsed:ue,togglePanel:Z,message:l,userInitials:Zs,onMergeToLocal:()=>{},onShowSubagentMessages:(t,n)=>{t&&t.length>0&&(ye(t),je(t[0].expertise_type),_e(n),Ne(fs[e].id),Z({panelName:"showSubagentPanel"}))},onSubagentClick:Ts,isSubagentActive:xe,handleOpenVsCode:Bn,handleRollback:u,hideImportantActions:Gt&&!tn,isCloudFlow:vn,isSubagent:!1,handleAddToken:e=>{Ie(e),Te("increase_budget"!==e?"add_credits":"exit_cost"),Se(!0)},acc_cost:c,max_budget:d,selectedMessageId:Ce,currentChunk:Xt,forkStatus:null==(a=Ys[Ys.length-1])?void 0:a.fork_status,isLastMessage:e===fs.length-1,nextMessageExists:e+1<=fs.length-1,agentState:Tt,panelState:G,jobDetails:Jn,agentName:null==R?void 0:R.agentName,onPause:()=>{ji({origin:"MainInput"})},isPauseLoading:Jt,podIsPaused:Ot,modalOpen:tt,setModalOpen:nt,openUpgradeModal:()=>An(!0),isTyping:"initial-llm"===l.action&&l.typing,onTypingComplete:()=>{ln(!1)},agentStatus:cn,searchActive:gs.isActive,searchHighlights:js(l.id),isMatchingMessage:Cs(l.id)}),"user"===l.role&&!(0==e&&(null==(r=Jn.forked)?void 0:r.parent_job_id))&&n.jsx(iU,{message:fs[e],hideImportantActions:Gt,isCloudFlow:vn,handleRollback:u,podIsPaused:Ot,searchActive:gs.isActive,searchHighlights:js(l.id),isMatchingMessage:Cs(l.id)}),"member"===l.role&&!(0==e&&(null==(o=Jn.forked)?void 0:o.parent_job_id))&&n.jsx(H2,{message:l,organizationMembers:P}),C&&n.jsx(AK,{currentChunk:Xt,togglePanel:Z,userInitials:Zs,hideImportantActions:Gt,isCloudFlow:vn,message:j,selectedMessageId:Ce,jobDetails:Jn,agentName:null==R?void 0:R.agentName,onPause:()=>Kt(!0),modalOpen:tt,setModalOpen:nt,searchActive:gs.isActive,searchHighlights:js(j.id),isMatchingMessage:Cs(j.id),agentStatus:cn}),(null==Tt?void 0:Tt.agent_running)&&e===fs.length-1&&Gs()]})]})})},defaultItemHeight:100,overscan:15,onScroll:()=>{si.current&&clearTimeout(si.current),si.current=setTimeout(()=>{ni.current&&(ei.current=!1),si.current=null},200)},components:{Footer:()=>n.jsx(n.Fragment,{children:n.jsx("div",{className:YK(kn?"h-[20rem]":"h-[14rem]")})})}},`virtuoso-${e}`)})}),(!Gt||tn)&&!Ot&&ki&&!0!==(null==R?void 0:R.showCase)&&n.jsxs("div",{className:"absolute z-[40] bottom-0 left-0 right-0 px-0 max-xs:px-0 max-md:px-0 md:px-4 flex flex-col justify-center bg-transparent rounded-t-l-[14px] rounded-t-r-[14px]",children:[Qs&&n.jsx("div",{className:"flex justify-center mb-2",children:n.jsx("button",{type:"button",onClick:oi,className:"z-[9999] p-2 w-[36px] h-[36px] flex items-center justify-center text-black transition-colors bg-white rounded-full shadow-lg hover:bg-white/80","aria-label":"Scroll to bottom",children:n.jsx("img",{src:Z8,alt:"Scroll to bottom",className:"w-6 h-6 rotate-180"})})}),_g()&&n.jsx(e5,{isVisible:Sn,previewUrl:Es?Hn:"",onPreviewClick:async()=>{if(!V&&Un)try{await Un()}catch(e){}localStorage.setItem(`hasOpenedPreviewBefore-${xn}`,"true"),Z({panelName:"showUrlPreviewPanel",value:!0})},ariaLabel:"Open preview panel",hasOpenedBefore:()=>"true"===localStorage.getItem(`hasOpenedPreviewBefore-${xn}`)}),n.jsx("div",{className:"relative flex items-center justify-center w-full md:pb-2 pb-0 md:backdrop-blur-md backdrop-blur-md rounded-t-l-[14px] rounded-t-r-[14px]",children:n.jsx(i$,{lastGithubUsed:ue,isDisabled:"FAILED"===Wt||Fg()||!(null==Jn?void 0:Jn.job_id),forked_status:(null==(b=Ys[Ys.length-1])?void 0:b.fork_status)||null,onSubmit:As,agentState:Tt,agentStatus:cn,setAgentStatus:dn,containerId:mn,jobDetails:Jn,acc_cost:null==Xn?void 0:Xn.current_usage,max_budget:null==Xn?void 0:Xn.max_budget,onAddToken:async()=>{Ie("increase_budget"),Se(!0)},inputValue:ce||"",isCloudFlow:vn,clientRefId:bn,modelName:Tn,modalOpen:tt,setModalOpen:nt,isSubagentActive:xe,disableWhenSubagentActive:!0,showFinishSubagentText:!0,onOpenSubagentPanel:()=>{if(fs.length>0){const e=fs[fs.length-1];Ts(e)}},onGitHubPush:e=>{pe(e)},handleDeploy:cs,pauseWasClicked:Yt,onPause:ji,isPauseLoading:Jt,subagentName:fs.length>0?fs[fs.length-1].function_name:void 0,buildMode:un,onOpenUploadAssetsModal:zs,ultraMode:Oe,onUltraModeChange:e=>{Be(e)},autoMessageEnabled:M,visualEditMode:He,onVisualEditModeChange:Ps,selectedElementName:Ue,isDebugScriptReady:We,enableVisualEdit:null==Jn?void 0:Jn.enable_visual_edit,hasUnsavedVisualEditChanges:Ge,onSaveVisualEditChanges:null==(y=Ye.current)?void 0:y.save,onDiscardVisualEditChanges:null==(w=Ye.current)?void 0:w.discard,showUnsavedChangesModal:qi})})]}),("paused"===(null==Tt?void 0:Tt.agent_status_new)||"stopped"===(null==Tt?void 0:Tt.agent_status_new)||"archived"===(null==Tt?void 0:Tt.agent_status_new)||"recovering"===(null==Tt?void 0:Tt.agent_status_new))&&n.jsx(K2,{podIsPaused:Ot,archivedPod:se,isReplaying:ae,isInputActive:ki,showCase:(null==R?void 0:R.showCase)||!1,githubDetails:oe,createdBefore25April:me,resumePod:wi,restartError:_n,jobId:xn,podStateDisplay:null==Tt?void 0:Tt.pod_state_display,isWakingUp:te,showUpgrade:null==Tt?void 0:Tt.show_upgrade,machineType:null==Jn?void 0:Jn.machineType,showScrollButton:Qs,scrollToBottom:oi})]})}),n.jsx(P4,{isVisible:Oi,withHandle:!0,className:"bg-[#242424] hidden md:flex",onDragging:e=>Pi(e)}),n.jsx(L4,{isVisible:Oi,isDragging:!kn&&Li,defaultSize:kn?0:Ri(),minSize:kn?0:30,maxSize:kn?0:60,className:"bg-[#0F0F10] "+(Oi?kn?"absolute inset-0 w-full z-49":"md:relative absolute inset-0 w-full":""),exitDelay:400,children:n.jsxs(Pt.div,{className:"relative w-full h-full",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:Li?0:.2},children:[n.jsx(Pt.div,{className:"absolute inset-0",initial:{x:"100%",opacity:0},animate:{x:U?0:"100%",opacity:U?1:0},transition:{type:"spring",stiffness:300,damping:30,mass:.8,duration:Li?0:void 0},style:{pointerEvents:U?"auto":"none"},children:U&&n.jsx(PK,{searchState:{isActive:!1,query:""},togglePanel:Z,userInitials:Zs,searchHighlights:[{startIndex:10,endIndex:10}],isMatchingMessage:!1,isOpen:U,onClose:()=>{Z({panelName:"showSubagentPanel",value:!1}),yg("subagent_panel_toggle",{jobId:xn,containerId:mn,isVisible:!1,tabId:e})},messages:be,onSubmit:Vs,agentState:Tt,agentStatus:cn,setAgentStatus:dn,containerId:mn,jobDetails:Jn,selectedAgent:we,subagentName:we,isSubagentActive:xe,isCloudFlow:vn,pauseWasClicked:Yt,onPause:ji,isPauseLoading:Jt,currentChunk:Xt},Ce||Fe)}),n.jsx(Pt.div,{className:"absolute inset-0",initial:{x:"100%",opacity:0},animate:{x:W?0:"100%",opacity:W?1:0},transition:{type:"spring",stiffness:300,damping:30,mass:.8,duration:Li?0:void 0},style:{pointerEvents:W?"auto":"none"},children:W&&n.jsx(TJ,{isOpen:W,onClose:()=>ls(!1),onOpenUploadAssetsModal:zs,chatInfo:{modelName:(null==R?void 0:R.modelName)||Jn.modelName,agentName:(null==R?void 0:R.agentName)||"MVP Agent",containerStatus:(null==Tt?void 0:Tt.job_running)?"Running":"Stopped",containerName:"task"===(null==mn?void 0:mn.split("-")[0])?mn:void 0,containerId:mn,assignedPorts:null==R?void 0:R.portMapping,jobId:xn,isCloudFlow:vn,promptName:null==R?void 0:R.promptName,user_prompt_id:R.user_prompt_id,promptVersion:null==R?void 0:R.promptVersion,costLimit:null==R?void 0:R.costLimit,vscodeUrl:Dn,vscodePassword:Mn,targetRepo:ue,sourceRepo:oe,machineType:null==R?void 0:R.machineType}})}),n.jsx(Pt.div,{className:"absolute inset-0",initial:{x:"100%",opacity:0},animate:{x:V?0:"100%",opacity:V?1:0},transition:Li?{duration:0,ease:"linear"}:{type:"spring",stiffness:300,damping:30,mass:.8},style:{pointerEvents:V?"auto":"none"},children:V&&n.jsx("div",{className:"w-full h-full",style:{pointerEvents:Li?"none":"auto"},children:n.jsx(M2,{shareableLink:$n,isOpen:V,isReplaying:ae,onClose:()=>Z({panelName:"showUrlPreviewPanel",value:!1}),showCase:(null==R?void 0:R.showCase)||!1,previewUrl:Es?(null==R?void 0:R.previewUrl)||Hn:null,podIsPaused:Ot,onResumePod:wi,isFromGithub:oe&&me,shouldReloadIframe:di,onIframeReloaded:yi,isResizing:Li,archivedPod:se,jobId:xn,env_image:null==Jn?void 0:Jn.env_image,restartError:_n,isWakingUp:te,onPreviewEvent:Bs,testMode:null==Jn?void 0:Jn.testMode,agentName:null==Jn?void 0:Jn.promptName,visualEditMode:He,vscodePassword:Mn,onDisableVisualEdit:()=>$e(!1),onDebugScriptReadyChange:qe,onSelectedElementChange:Ve,onVisualEditComplete:Fi,onUnsavedChangesChange:Ms,onExposeHandlers:Ls,showUnsavedChangesModal:qi})})}),n.jsx(Pt.div,{className:"absolute inset-0 z-[49]",initial:{x:"100%",opacity:0},animate:{x:q?0:"100%",opacity:q?1:0},transition:Li?{duration:0,ease:"linear"}:{type:"spring",stiffness:300,damping:30,mass:.8},style:{pointerEvents:q?"auto":"none"},children:q&&n.jsx(q8,{isOpen:q,onClose:()=>Z({panelName:"showDeployPanel",value:!1}),jobId:xn,podIsPaused:Ot,agentStatus:(null==Tt?void 0:Tt.job_running)?"running":"stopped",handleJobClick:us,onShareLogs:e=>{const t=pv+hv+mv+e.join("\n")+hv;(null==Tt?void 0:Tt.agent_running)?O({title:"Agent is Running",description:"Please wait for agent to finish or stop it manually before sharing logs",variant:"destructive",duration:2e3}):(Is(t,[]),Ci({content:t}))},onRunHealthCheck:()=>{const e="Call Deployer Agent and Run Health Check to Check for Readiness for Deployment";(null==Tt?void 0:Tt.agent_running)||Ot?O({title:"Agent is Running",description:"Please wait for agent to finish or stop it manually before running health check",variant:"destructive",duration:2e3}):(Is(e,[]),Ci({content:e}))},tabId:e,isExpoImage:Ai})})]})}),tt.fork&&n.jsx(v3,{isOpen:tt.fork,appName:(null==Jn?void 0:Jn.dynamic_preview_subdomain)||"",onOpenChange:()=>{nt(e=>({...e,fork:!e.fork})),It(null)},onFork:async(e,t)=>{try{const n=await sm(e,t);200!==n.status&&201!==n.status||tt&&nt&&nt({...tt,fork:!1})}catch(n){O({title:"Error",description:n instanceof Error?n.message:"Failed to fork your task, please try again.",variant:"destructive"}),tt&&nt&&nt({...tt,fork:!1})}},podIsPaused:Ot,jobId:(null==Et?void 0:Et.jobId)||(null==Jn?void 0:Jn.job_id),messages:(null==Et?void 0:Et.messages)||fs,summaryData:null==Et?void 0:Et.summaryData,startInSummaryMode:null==Et?void 0:Et.startInSummaryMode,userPromptId:null==Jn?void 0:Jn.user_prompt_id}),tt.visualEdits&&n.jsx(J3,{open:tt.visualEdits,onOpenChange:e=>{nt(t=>({...t,visualEdits:e})),e||Ku()},onClose:()=>{nt(e=>({...e,visualEdits:!1})),Ku()},onGetStarted:()=>{nt(e=>({...e,visualEdits:!1})),Ku()},onLearnMore:()=>{window.open("https://help.emergent.sh/articles/662181-visual-edits","_blank")}}),tt.unsavedChanges&&n.jsx(X3,{isOpen:tt.unsavedChanges,onClose:Gi,onConfirm:()=>{st.onConfirm(),Gi()},onCancel:Gi,title:st.title,description:st.description,confirmButton:st.confirmButton,cancelButton:st.cancelButton,isFullscreen:st.isFullscreen}),n.jsx(G3,{isOpen:at,onOpenChange:e=>{rt(e),e||lt([])},jobId:null==Jn?void 0:Jn.job_id,handleSendMessage:Is,initialFiles:ot,onUploadComplete:(e,t)=>{},onUploadError:(e,t)=>{}}),n.jsx(Z3,{isOpen:ct,onClose:$s,videoFile:ut,videoUrl:mt,testCasesData:xt,isLoadingTestCases:gt,onApproveVideo:Hs,onSaveTestCases:Ni,showApprovalStage:bt}),n.jsx(WK,{isOpen:wt,onClose:Us,rrwebEvents:Ct,testCasesData:Ft,isLoadingTestCases:kt,onSubmitScript:_i,jobId:xn})]}),n.jsx(Rt,{children:Ht&&n.jsx(Pt.div,{initial:{opacity:0,scale:.9,y:10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:5},transition:{type:"spring",stiffness:400,damping:25,mass:.8},children:n.jsx(GJ,{isOpen:Ht,onOpenChange:e=>{$t(e)},rollbackRequestId:Ut,containerId:mn,jobId:xn,isCloudFlow:vn,session:B,resetPolling:os,setAiMessages:hs})})}),n.jsx(Rt,{children:Ln&&n.jsx(Pt.div,{initial:{opacity:0,scale:.9,y:10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:5},transition:{type:"spring",stiffness:400,damping:25,mass:.8},children:n.jsx(DJ,{isOpen:Ln,onOpenChange:On,vscodeUrl:Dn,vscodePassword:Mn,onOpenInBrowser:Bn})})}),n.jsx(Rt,{children:Wn&&n.jsx(Pt.div,{initial:{opacity:0,scale:.9,y:10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:5},transition:{type:"spring",stiffness:400,damping:25,mass:.8},children:n.jsx(x$,{isOpen:Wn,onOpenVSCode:Bn,onClose:()=>qn(!1),containerId:mn,modifiedFiles:Vn,initialCommitId:gn,isCloudFlow:vn,jobId:xn})})}),n.jsx(Rt,{children:yn&&n.jsx(Pt.div,{initial:{opacity:0,scale:.9,y:10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:5},transition:{type:"spring",stiffness:400,damping:25,mass:.8},children:n.jsx(t6,{isOpen:yn,onOpenChange:wn,jobId:xn,containerId:mn,publishConfig:Ti,handlePublishClick:ds,previewUrl:Hn})})}),n.jsx(Rt,{children:jn&&n.jsx(Pt.div,{initial:{opacity:0,scale:.9,y:10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:5},transition:{type:"spring",stiffness:400,damping:25,mass:.8},children:n.jsx(a6,{isOpen:jn,onOpenChange:Cn,podIsPaused:Ot,buildMode:un,diffCount:Vn.length,isCloudFlow:vn||!1,showCase:(null==R?void 0:R.showCase)||!1,previewUrl:Es?Hn:"",isEmergentUser:tn,isPublishDisabled:!_s||!vn,hasPreviewUrl:!!Hn,enablePublish:null==Ti?void 0:Ti.enablePublish,onInfoClick:()=>ls(!0),onVSCodeClick:zn,onDiffClick:Gn,onPreviewClick:Ds,onDeployClick:cs,onPublishClick:ds,onPublishBottomSheetOpen:()=>wn(!0)})})}),n.jsx(Rt,{children:ke&&n.jsx(Pt.div,{initial:{opacity:0,scale:.9,y:10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:5},transition:{type:"spring",stiffness:400,damping:25,mass:.8},children:n.jsx(UK,{modelName:Tn,triggeredLocation:Ae,variant:Ee,handleSendMessage:Is,isOpen:ke,onOpenChange:Se,currentCost:(null==Xn?void 0:Xn.current_usage)||0,maxBudget:null==Xn?void 0:Xn.max_budget,jobId:xn,onBudgetUpdate:async()=>{es(),Se(!1),yg("budget_updated",{jobId:xn,containerId:mn,tabId:e,newMaxBudget:(null==Xn?void 0:Xn.max_budget)||0,currentUsage:(null==Xn?void 0:Xn.current_usage)||0})}})})}),n.jsx(wD,{isOpen:In,onOpenChange:An,triggerLocation:Ai?"mobilePublish":"default"})]})}const J8=({checked:e,onCheckedChange:t,disabled:s=!1,className:i="",checkedColor:a="#29BCCC",uncheckedColor:r="#131314",title:o="Toggle Switch"})=>n.jsx("button",{title:o,type:"button",role:"switch","aria-checked":e?"true":"false",disabled:s,onClick:n=>{n.stopPropagation(),!s&&t(!e)},className:`relative inline-flex h-8 w-14 items-center rounded-full transition-colors focus:outline-none disabled:opacity-50 disabled:cursor-not-allowed ${i}`,style:{backgroundColor:e?a:r},children:n.jsx(Pt.div,{className:"relative",animate:{x:e?28:4},transition:{type:"spring",stiffness:500,damping:30},children:n.jsxs("div",{className:"relative w-6 h-6",children:[n.jsx("div",{className:"absolute inset-0 rounded-full",style:{background:"rgba(255, 255, 255, 0.05)"}}),n.jsx("div",{className:"absolute inset-0 rounded-full",style:{background:"\n                linear-gradient(180deg, #242528 0%, #111113 100%),\n                linear-gradient(180deg, rgba(255, 255, 255, 0) 0%, rgba(255, 255, 255, 0.2) 100%)\n              ",filter:"\n                drop-shadow(0px 0.85px 2.12px rgba(0, 0, 0, 0.36))\n                drop-shadow(0px 3.6px 3.6px rgba(0, 0, 0, 0.31))\n                drop-shadow(0px 8.27px 5.09px rgba(0, 0, 0, 0.18))\n                drop-shadow(0px 14.84px 5.93px rgba(0, 0, 0, 0.05))\n                drop-shadow(0px 23.1px 6.57px rgba(0, 0, 0, 0.01))\n              "}}),n.jsx("div",{className:"absolute inset-0 rounded-full",style:{background:"\n                radial-gradient(circle at center, \n                  rgba(255, 255, 255, 0.1) 0%, \n                  rgba(255, 255, 255, 0.03) 50%, \n                  transparent 100%\n                )\n              ",boxShadow:"\n                inset 0px 1.48px 2.97px rgba(255, 255, 255, 0.03),\n                inset 0px 1.27px 0.85px rgba(255, 255, 255, 0.02),\n                inset 0px 0.21px 0.21px rgba(255, 255, 255, 0.1)\n              "}})]})})}),Q8=({size:e=16,width:t,height:s,color:i="white",fill:a,className:r,style:o,onClick:l,...c})=>{const d=t||e,u=s||e,p=a||i;return n.jsx("svg",{width:d,height:u,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:r,style:o,onClick:l,...c,children:n.jsx("path",{d:"M11.586 3L8.586 6L10 7.414L13 4.414V7H15V1H9V3H11.586ZM4.414 13L7.414 10L6 8.586L3 11.586V9H1V15H7V13H4.414Z",fill:p})})},X8=gv.pro.workbench,e9=({item:e})=>n.jsxs("p",{className:"items-start gap-2 font-['Inter'] text-[14px]",children:[n.jsx("span",{className:'font-["Inter"] mr-1',children:""}),e.boldText&&n.jsx("span",{className:"font-['Inter'] text-[14px] font-medium text-nowrap",children:e.boldText}),e.text,e.highlight&&n.jsx("span",{className:"text-[#80AAFF] font-['Inter']",children:e.highlight})]}),t9=({items:e})=>n.jsx("div",{className:"space-y-4 text-[#737780] font-medium font-['Inter'] mb-4",children:e.map((e,t)=>n.jsx(e9,{item:e},t))}),n9=({isOpen:e,onOpenChange:t,title:s,value:i,onChange:a,readOnly:r=!1})=>{const[o,l]=De.useState(i),c=De.useRef(null);De.useEffect(()=>{l(i)},[i]);const d=()=>{l(i),t(!1)};return De.useEffect(()=>{const t=c.current;t&&e&&!r&&setTimeout(()=>{t.focus()},100)},[e,r]),n.jsx(_A,{open:e,onOpenChange:t,children:n.jsxs(AA,{className:"sm:max-w-[700px] max-h-[95dvh] bg-[#18181A] text-white border border-[#242424] rounded-[16px] overflow-hidden flex flex-col",children:[n.jsxs(TA,{className:"flex flex-row bg-[#1C1C1F] items-center justify-between pb-4 space-y-0",children:[n.jsx(MA,{className:"text-[#C4C4CC] font-brockmann text-[20px] font-medium leading-[28px] tracking-[-0.44px]",children:s}),n.jsxs("button",{type:"button",onClick:d,className:"rounded-[8px] opacity-70 h-[36px] w-[36px]  bg-[#FFFFFF0A] hover:bg-[#FFFFFF10] ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground flex items-center justify-center",children:[n.jsx(RS,{className:"w-5 h-5"}),n.jsx("span",{className:"sr-only",children:"Close"})]})]}),n.jsx("div",{className:"flex flex-col flex-1 gap-4 overflow-hidden bg-[#18181A]",children:n.jsx(jE,{ref:c,value:o,onChange:e=>l(e.target.value),readOnly:r,tabIndex:r?-1:0,onFocus:e=>{r&&e.target.blur()},className:fb("font-['Inter'] border-none bg-none p-6 bg-[#18181A] text-white text-[16px] min-h-[600px] resize-none placeholder:text-[#C4C4CC] focus:border-none focus:ring-0 focus-visible:ring-0 focus-visible:ring-offset-0 overflow-y-auto flex-1",r&&"cursor-not-allowed opacity-60"),placeholder:"Enter your system prompt..."})}),n.jsxs("div",{className:"flex justify-end gap-3 p-6 border-t-[1px] border-[#242424]",children:[n.jsx("button",{onClick:d,className:"border-[#333] px-5 py-3 font-medium text-[#C4C4CC] bg-[#1D1D1E] rounded-full hover:bg-[#1D1D1E] hover:text-white",children:"Cancel"}),!r&&n.jsx("button",{onClick:()=>{r||a(o),t(!1)},className:"bg-[#2EE572] px-5 py-3 text-[#0E0E0F] rounded-full font-semibold hover:bg-[#2EE572]/90",children:"Save & Continue"})]})]})})},s9=({section:e,value:t,onChange:s,dynamicVariableValues:i,onDynamicVariableChange:a})=>{const r=De.useRef(null),[o,l]=De.useState(!1),[c,d]=De.useState(!1),u=e.isDynamic&&e.variableName?(null==i?void 0:i[e.variableName])||"":t,p=t=>{e.isDynamic&&e.variableName&&a?a(e.variableName,t):s(t)};return De.useEffect(()=>{const e=r.current;if(e)if(e.style.height="auto",o){const t=Math.min(e.scrollHeight,500);e.style.height=`${t}px`}else e.style.height="300px"},[u,o]),n.jsxs(n.Fragment,{children:[n.jsx(n9,{isOpen:c,onOpenChange:d,title:e.readOnly||e.showLock?e.title:`Edit ${e.title}`,value:u,onChange:p,readOnly:e.readOnly||e.showLock}),n.jsxs("div",{className:"flex flex-col gap-3",children:[n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(qA,{htmlFor:e.id,className:"font-medium text-[14px] text-[#e4eeff] font-inter",children:e.title}),e.showLock&&n.jsxs("span",{className:"flex items-center font-inter font-medium text-[14px] gap-1 text-white/50",children:[n.jsx(rA,{size:16}),"read only"]})]})}),n.jsxs("div",{className:"relative rounded-lg overflow-clip",children:[n.jsx(jE,{ref:r,id:e.id,value:u,onChange:e=>p(e.target.value),readOnly:e.readOnly||e.showLock,tabIndex:e.showLock?-1:0,onFocus:t=>{e.showLock&&t.target.blur()},className:fb("bg-[#FFFFFF05] font-['Inter'] rounded-lg border border-[#262629] p-4 text-white text-[16px] max-h-[300px] resize-none placeholder:text-[#C4C4CC] focus:border-[#666] focus:ring-0 focus-visible:ring-0 focus-visible:ring-offset-0",e.showLock&&"opacity-60")}),n.jsx("div",{onClick:()=>{e.title.includes("System Constraints")||e.title.includes("System Prompt")?d(!0):o?l(!1):e.title.includes("System Constraints")||e.title.includes("System Prompt")?d(!0):(l(!0),setTimeout(()=>{var t;e.showLock||null==(t=r.current)||t.focus()},0))},className:"absolute hover:bg-[#FFFFFF]/20 bg-[#FFFFFF1A] right-2 bottom-2 p-2 cursor-pointer z-[20] rounded-[8px] backdrop-blur-lg",children:n.jsx(Q8,{size:16,className:fb(" text-white transition-transform duration-200",e.title.includes("System Constraints")||e.title.includes("System Prompt")?"rotate-0":o?"rotate-180":"rotate-0")})})]})]})]})},i9=({tool:e,isSelected:t=!1,onToggle:s,onCheckedChange:i,isNecessary:a=!1,variant:r="agent",onViewDetails:o,hideToggle:l=!1,className:c=""})=>{var d;const[u,p]=De.useState(!1),m=De.useCallback(()=>{null==o||o(e)},[o,e]);return n.jsxs("div",{className:fb("flex items-center group gap-[4rem] justify-between p-4 rounded-lg bg-[#18181A] transition-all ease-in-out duration-200 hover:bg-[#FFFFFF]/5",c),onMouseEnter:()=>p(!0),onMouseLeave:()=>p(!1),children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"flex items-center justify-center min-w-10 min-h-10 bg-[#272729] rounded-full",children:n.jsx("img",{src:X8,alt:"Workbench",className:"w-6 h-6"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium text-[#ced7e5] capitalize",children:e.name.replaceAll("_"," ")}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("p",{className:"text-[#626366] text-[14px] font-medium font-['Inter'] text-nowrap truncate",children:null==(d=e.user_descriptions)?void 0:d.short_desc}),n.jsx(Rt,{children:u&&n.jsx(Pt.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},transition:{duration:.2,ease:"easeInOut"},className:"w-1 h-1 rounded-full bg-[#45474D]"})}),n.jsx(Rt,{children:u&&n.jsx(Pt.span,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},exit:{opacity:0,x:-10},transition:{duration:.2,ease:"easeInOut"},className:"text-[#B7BFCC] text-nowrap text-[14px] font-medium font-['Inter'] cursor-pointer hover:text-white",onClick:m,children:"View Details"})})]})]})]}),!l&&n.jsx(WI,{checked:t,onCheckedChange:e=>{a||(i?i(e):s&&s())},disabled:a})]})},a9=({subAgent:e,isSelected:t=!1,onToggle:s,onCheckedChange:i,isApiSubAgent:a=!1,isDefault:r=!1,onViewDetails:o,onEdit:l,hideToggle:c=!1})=>{var d,u;const[p,m]=De.useState(!1),h=(null==(d=e.description)?void 0:d.trim())||(null==(u=e.skill_description)?void 0:u.trim()),x=De.useMemo(()=>({...e,isApiSubAgent:a,isDefault:r}),[e,a,r]),f=De.useCallback(()=>{null==o||o(x)},[o,x]);return n.jsxs("div",{className:fb("flex items-center group justify-between p-4 bg-[#18181A] hover:bg-[#FFFFFF05] rounded-lg transition-all ease-in-out duration-200"),onMouseEnter:()=>m(!0),onMouseLeave:()=>m(!1),children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-full bg-[#272729]",children:n.jsx(PE,{size:20,primaryColor:r?"#fff":"#dd99ff"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium  text-[#ced7e5] capitalize group-hover:text-[#E5EFFF]",children:e.name.replaceAll("_"," ")}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("p",{className:"text-[#626366] text-[14px] font-medium font-['Inter']",children:e.skill_description||e.description||"No description available"}),n.jsx(Rt,{children:p&&h&&n.jsx(Pt.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},transition:{duration:.2,ease:"easeInOut"},className:"w-1 h-1 rounded-full bg-[#45474D]"})}),n.jsx(Rt,{children:p&&h&&n.jsx(Pt.span,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},exit:{opacity:0,x:-10},transition:{duration:.2,ease:"easeInOut"},className:"text-[#B7BFCC] text-[14px] font-medium font-['Inter'] cursor-pointer hover:text-white",onClick:f,children:"View Details"})})]})]})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[!r&&l&&n.jsxs("button",{type:"button",className:"flex items-center font-medium gap-1 p-[6px] pl-3 pr-4 rounded-full text-[#C4C4CC] bg-[#FFFFFF0A] hover:bg-[#FFFFFF10] transition-colors duration-150 group",onClick:t=>{t.stopPropagation(),l(e)},children:[n.jsx(lM,{width:20,height:20,fill:"#C4C4CC"}),"Edit"]}),!c&&n.jsx(J8,{checked:t,checkedColor:r?"#29BCCC":"#DD99FF",onCheckedChange:e=>{i?i(e):s&&s()},disabled:!1})]})]})},r9=({className:e="",children:t})=>n.jsxs("div",{className:`relative overflow-hidden bg-[#FFFFFF05] rounded-lg ${e}`,children:[n.jsx("div",{className:"absolute inset-0 shimmer-effect"}),t]}),o9=()=>n.jsxs(Pt.div,{initial:{opacity:0},animate:{opacity:1},className:"flex flex-col gap-3",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(r9,{className:"w-4 h-4 rounded"}),n.jsx(r9,{className:"w-32 h-4 rounded"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(r9,{className:"w-24 h-4 rounded"}),n.jsx(r9,{className:"w-5 h-5 rounded"})]})]}),n.jsx(r9,{className:"w-full h-32 rounded-lg border border-[#1F1F1F]",children:n.jsxs("div",{className:"p-4 space-y-2",children:[n.jsx("div",{className:"w-full h-3 bg-[#FFFFFF08] rounded"}),n.jsx("div",{className:"w-4/5 h-3 bg-[#FFFFFF08] rounded"}),n.jsx("div",{className:"w-3/4 h-3 bg-[#FFFFFF08] rounded"}),n.jsx("div",{className:"w-5/6 h-3 bg-[#FFFFFF08] rounded"})]})})]}),l9=()=>n.jsxs(Pt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"flex items-center justify-between p-4 bg-[#FFFFFF05] rounded-lg border border-[#222224]",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(r9,{className:"w-8 h-8 rounded-lg"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(r9,{className:"w-24 h-4 rounded"}),n.jsx(r9,{className:"w-40 h-3 rounded"})]})]}),n.jsx(r9,{className:"w-11 h-6 rounded-full"})]}),c9=()=>n.jsxs(Pt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"flex items-center justify-between p-4 bg-[#FFFFFF05] rounded-lg border border-[#222224]",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(r9,{className:"w-8 h-8 rounded-lg"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(r9,{className:"w-28 h-4 rounded"}),n.jsx(r9,{className:"w-48 h-3 rounded"})]})]}),n.jsx(r9,{className:"w-11 h-6 rounded-full"})]}),d9=({count:e=3})=>n.jsx("div",{className:"space-y-3",children:Array.from({length:e}).map((e,t)=>n.jsx(l9,{},t))}),u9=({count:e=4})=>n.jsx("div",{className:"space-y-3",children:Array.from({length:e}).map((e,t)=>n.jsx(c9,{},t))}),p9=({count:e=3})=>n.jsx("div",{className:"flex flex-col gap-12",children:Array.from({length:e}).map((e,t)=>n.jsx(o9,{},t))}),m9=gv.pro.book,h9=gv.pro.external,x9={sm:"px-3 py-1.5 text-xs gap-1.5",md:"px-4 py-2 text-sm gap-2",lg:"px-6 py-3 text-base gap-3"},f9={sm:"w-4 h-4",md:"w-5 h-5",lg:"w-6 h-6"};function g9({text:e,onClick:t,className:s,disabled:i=!1,bookIcon:a=m9,externalIcon:r=h9,size:o="md",showExternalIcon:l=!0,...c}){return n.jsxs(Pt.button,{onClick:t,disabled:i,className:fb("flex items-center border-[#2B2B2E] border bg-[#1E1E1F] hover:bg-[#1E1E1F90] rounded-[8px] transition-colors text-white font-medium",x9[o],i&&"opacity-50 cursor-not-allowed hover:bg-[#1E1E1F]",s),whileHover:i?{}:{scale:1.02},whileTap:i?{}:{scale:.98},transition:{duration:.15},...c,children:[n.jsx("img",{src:a,alt:"Book",className:fb("inline-block",f9[o])}),n.jsx("span",{children:e}),l&&n.jsx("img",{src:r,alt:"External",className:fb("inline-block",f9[o])})]})}const v9=({size:e=24,width:t,height:s,color:i="white",fill:a,fillOpacity:r=.2,className:o,style:l,onClick:c,...d})=>{const u=t||e,p=s||e,m=a||i;return n.jsx("svg",{width:u,height:p,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:o,style:l,onClick:c,...d,children:n.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20 7C20 5.34315 18.6569 4 17 4H7C5.34315 4 4 5.34315 4 7V17.0001C4 18.6569 5.34315 20.0001 7 20.0001H17C18.6569 20.0001 20 18.6569 20 17.0001L20 7ZM11.9997 10.0834C12.69 10.0834 13.2497 9.52377 13.2497 8.83342C13.2497 8.14306 12.69 7.58342 11.9997 7.58342C11.3093 7.58342 10.7497 8.14306 10.7497 8.83342C10.7497 9.52377 11.3093 10.0834 11.9997 10.0834ZM10.7497 11.3334C10.2894 11.3334 9.91634 11.7065 9.91634 12.1667C9.91634 12.627 10.2894 13.0001 10.7497 13.0001H11.5833L11.5833 16.1667C11.5833 16.627 11.9564 17.0001 12.4167 17.0001C12.8769 17.0001 13.25 16.627 13.25 16.1667L13.25 12.1667C13.25 11.7065 12.8769 11.3334 12.4167 11.3334H10.7497Z",fill:m,fillOpacity:r})})},b9=({size:e=24,width:t,height:s,color:i="white",fill:a,fillOpacity:r=.2,className:o,style:l,onClick:c,...d})=>{const u=t||e,p=s||e,m=a||i;return n.jsxs("svg",{width:u,height:p,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:o,style:l,onClick:c,...d,children:[n.jsx("mask",{id:"mask0_118_2904",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"24",height:"24",children:n.jsx("rect",{width:"24",height:"24",fill:"#D9D9D9"})}),n.jsx("g",{mask:"url(#mask0_118_2904)",children:n.jsx("path",{d:"M5.77778 10.6667C5.28889 10.6667 4.87037 10.4926 4.52222 10.1444C4.17407 9.7963 4 9.37778 4 8.88889V5.77778C4 5.28889 4.17407 4.87037 4.52222 4.52222C4.87037 4.17407 5.28889 4 5.77778 4H8.88889C9.37778 4 9.7963 4.17407 10.1444 4.52222C10.4926 4.87037 10.6667 5.28889 10.6667 5.77778V8.88889C10.6667 9.37778 10.4926 9.7963 10.1444 10.1444C9.7963 10.4926 9.37778 10.6667 8.88889 10.6667H5.77778ZM5.77778 20C5.28889 20 4.87037 19.8259 4.52222 19.4778C4.17407 19.1296 4 18.7111 4 18.2222V15.1111C4 14.6222 4.17407 14.2037 4.52222 13.8556C4.87037 13.5074 5.28889 13.3333 5.77778 13.3333H8.88889C9.37778 13.3333 9.7963 13.5074 10.1444 13.8556C10.4926 14.2037 10.6667 14.6222 10.6667 15.1111V18.2222C10.6667 18.7111 10.4926 19.1296 10.1444 19.4778C9.7963 19.8259 9.37778 20 8.88889 20H5.77778ZM15.1111 10.6667C14.6222 10.6667 14.2037 10.4926 13.8556 10.1444C13.5074 9.7963 13.3333 9.37778 13.3333 8.88889V5.77778C13.3333 5.28889 13.5074 4.87037 13.8556 4.52222C14.2037 4.17407 14.6222 4 15.1111 4H18.2222C18.7111 4 19.1296 4.17407 19.4778 4.52222C19.8259 4.87037 20 5.28889 20 5.77778V8.88889C20 9.37778 19.8259 9.7963 19.4778 10.1444C19.1296 10.4926 18.7111 10.6667 18.2222 10.6667H15.1111ZM15.1111 20C14.6222 20 14.2037 19.8259 13.8556 19.4778C13.5074 19.1296 13.3333 18.7111 13.3333 18.2222V15.1111C13.3333 14.6222 13.5074 14.2037 13.8556 13.8556C14.2037 13.5074 14.6222 13.3333 15.1111 13.3333H18.2222C18.7111 13.3333 19.1296 13.5074 19.4778 13.8556C19.8259 14.2037 20 14.6222 20 15.1111V18.2222C20 18.7111 19.8259 19.1296 19.4778 19.4778C19.1296 19.8259 18.7111 20 18.2222 20H15.1111Z",fill:m,fillOpacity:r})})]})},y9=({size:e=24,width:t,height:s,color:i="white",fill:a,fillOpacity:r=.2,className:o,style:l,onClick:c,...d})=>{const u=t||e,p=s||e,m=a||i;return n.jsxs("svg",{width:u,height:p,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:o,style:l,onClick:c,...d,children:[n.jsx("mask",{id:"mask0_118_2584",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"24",height:"24",children:n.jsx("rect",{width:"24",height:"24",fill:"#D9D9D9"})}),n.jsx("g",{mask:"url(#mask0_118_2584)",children:n.jsx("path",{d:"M2 15.1111V12.8889H9.77778V15.1111H2ZM2 10.6667V8.44444H14.2222V10.6667H2ZM2 6.22222V4H14.2222V6.22222H2ZM12 21.7778V18.3611L18.1389 12.25C18.3056 12.0833 18.4907 11.963 18.6944 11.8889C18.8981 11.8148 19.1019 11.7778 19.3056 11.7778C19.5278 11.7778 19.7407 11.8194 19.9444 11.9028C20.1481 11.9861 20.3333 12.1111 20.5 12.2778L21.5278 13.3056C21.6759 13.4722 21.7917 13.6574 21.875 13.8611C21.9583 14.0648 22 14.2685 22 14.4722C22 14.6759 21.963 14.8843 21.8889 15.0972C21.8148 15.3102 21.6944 15.5 21.5278 15.6667L15.4167 21.7778H12ZM19.3056 15.5556L20.3333 14.4722L19.3056 13.4444L18.25 14.5L19.3056 15.5556Z",fill:m,fillOpacity:r})})]})},w9=({size:e=24,width:t,height:s,color:i="white",fill:a,fillOpacity:r=.2,className:o="",style:l,onClick:c,...d})=>{const u=t||e,p=s||e,m=a||i;return n.jsxs("svg",{width:u,height:p,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:o,style:l,onClick:c,...d,children:[n.jsx("mask",{id:"mask0_180_3078",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"24",height:"24",children:n.jsx("rect",{width:"24",height:"24",fill:"#D9D9D9"})}),n.jsx("g",{mask:"url(#mask0_180_3078)",children:n.jsx("path",{d:"M4.755 17.355C4.2 16.605 3.76875 15.7762 3.46125 14.8687C3.15375 13.9612 3 13.005 3 12C3 10.995 3.15 10.0425 3.45 9.1425C3.75 8.2425 4.1775 7.4175 4.7325 6.6675L6.0375 7.95C5.6475 8.52 5.34375 9.14625 5.12625 9.82875C4.90875 10.5113 4.8 11.235 4.8 12C4.8 12.765 4.90875 13.4925 5.12625 14.1825C5.34375 14.8725 5.6475 15.5025 6.0375 16.0725L4.755 17.355ZM12 21C10.995 21 10.0425 20.85 9.1425 20.55C8.2425 20.25 7.4175 19.8225 6.6675 19.2675L7.95 17.9625C8.52 18.3525 9.14625 18.6562 9.82875 18.8738C10.5113 19.0912 11.235 19.2 12 19.2C12.765 19.2 13.4888 19.0912 14.1713 18.8738C14.8538 18.6562 15.48 18.3525 16.05 17.9625L17.3325 19.2675C16.5825 19.8225 15.7575 20.25 14.8575 20.55C13.9575 20.85 13.005 21 12 21ZM19.245 17.355L17.9625 16.0725C18.3525 15.5025 18.6562 14.8725 18.8738 14.1825C19.0912 13.4925 19.2 12.765 19.2 12C19.2 11.235 19.0912 10.5113 18.8738 9.82875C18.6562 9.14625 18.3525 8.52 17.9625 7.95L19.2675 6.6675C19.8225 7.4175 20.25 8.2425 20.55 9.1425C20.85 10.0425 21 10.995 21 12C21 13.005 20.8463 13.9612 20.5387 14.8687C20.2313 15.7762 19.8 16.605 19.245 17.355ZM7.9275 6.0375L6.645 4.755C7.395 4.2 8.22375 3.76875 9.13125 3.46125C10.0387 3.15375 10.995 3 12 3C13.02 3 13.98 3.15375 14.88 3.46125C15.78 3.76875 16.605 4.2 17.355 4.755L16.0725 6.0375C15.5025 5.6475 14.8725 5.34375 14.1825 5.12625C13.4925 4.90875 12.765 4.8 12 4.8C11.235 4.8 10.5075 4.90875 9.8175 5.12625C9.1275 5.34375 8.4975 5.6475 7.9275 6.0375ZM12 16.5C10.755 16.5 9.69375 16.0612 8.81625 15.1838C7.93875 14.3062 7.5 13.245 7.5 12C7.5 10.755 7.93875 9.69375 8.81625 8.81625C9.69375 7.93875 10.755 7.5 12 7.5C13.245 7.5 14.3062 7.93875 15.1838 8.81625C16.0612 9.69375 16.5 10.755 16.5 12C16.5 13.245 16.0612 14.3062 15.1838 15.1838C14.3062 16.0612 13.245 16.5 12 16.5Z",fill:m,fillOpacity:r})})]})},j9=({onBack:e})=>n.jsxs(Pt.div,{className:"relative flex flex-col w-full gap-2 pb-4 md:gap-4 md:pb-8",initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},children:[n.jsx(Pt.div,{className:"sticky top-0 p-4 bg-[#1C1C1F] md:px-6 md:pt-6 z-[10] border-b-[1px] border-[#242424]",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.3,delay:.1},children:n.jsxs("div",{className:"bg-[#1C1C1F] flex items-center justify-between",children:[n.jsx("h2",{className:"text-white/80 text-[18px] md:text-[24px] font-semibold",children:"Creating Your Perfect AI Agent"}),n.jsx("button",{type:"button",onClick:e,className:"w-10 h-10 bg-[#FFFFFF0D] rounded-full flex items-center justify-center text-[#737780] backdrop-blur-lg hover:text-white transition-colors hover:bg-[#FFFFFF0A]","aria-label":"Close modal",children:n.jsx(RS,{className:"w-5 h-5"})})]})}),n.jsxs(Pt.div,{className:"px-4 space-y-6 md:px-8",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3,delay:.2,staggerChildren:.1,delayChildren:.3},children:[n.jsx(Pt.div,{className:"space-y-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.1},children:n.jsx("p",{className:"text-[#FFFFFF99] text-[16px] font-['Inter'] leading-relaxed",children:"Welcome! Creating an AI agent might sound complex, but think of it like training a skilled assistant who's eager to help with your specific needs. Let's walk through this together, step by step."})}),n.jsxs(Pt.div,{className:"space-y-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.2},children:[n.jsx("h3",{className:"text-white text-[20px] font-semibold",children:"Step 1: Give Your Agent a Personality (The Persona)"}),n.jsxs("div",{className:"bg-[#FFFFFF08] p-4 rounded-[8px] border-l-4 border-[#80FFF9]",children:[n.jsx("p",{className:"text-[#80FFF9] text-[14px] font-medium mb-2",children:"Why this matters:"}),n.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:"Just like people excel in different areas, AI agents work best when they know their role."})]}),n.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:"Think of this as introducing your agent to their new job. Be specific about who they are and what they're good at:"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"flex items-center justify-center rounded-[8px] bg-white/10 backdrop-blur-lg max-h-5 max-w-5 min-h-5 min-w-5",children:n.jsx("div",{className:"w-2 h-2 bg-white rounded-[1.5px]"})}),n.jsx("div",{className:"flex flex-col gap-1",children:n.jsxs("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:[n.jsx("span",{className:"font-medium text-white",children:"Need a Research Assistant?"})," Try: ",n.jsx("em",{children:'"You are an expert researcher, profound at searching through information and synthesizing complex topics into clear insights..."'})]})})]}),n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"flex items-center justify-center rounded-[8px] bg-white/10 backdrop-blur-lg max-h-5 max-w-5 min-h-5 min-w-5",children:n.jsx("div",{className:"w-2 h-2 bg-white rounded-[1.5px]"})}),n.jsx("div",{className:"flex flex-col gap-1",children:n.jsxs("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:[n.jsx("span",{className:"font-medium text-white",children:"Want a Creative Designer?"})," Start with: ",n.jsx("em",{children:'"You are an experienced Designer who excels at creating beautiful, user-friendly interfaces..."'})]})})]}),n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"flex items-center justify-center rounded-[8px] bg-white/10 backdrop-blur-lg max-h-5 max-w-5 min-h-5 min-w-5",children:n.jsx("div",{className:"w-2 h-2 bg-white rounded-[1.5px]"})}),n.jsx("div",{className:"flex flex-col gap-1",children:n.jsxs("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:[n.jsx("span",{className:"font-medium text-white",children:"Building Something Custom?"})," Consider: ",n.jsx("em",{children:'"You are Emergent, a full-stack app builder who excels in creating innovative solutions..."'})]})})]})]}),n.jsx("div",{className:"bg-[#F8FF9914] p-4 rounded-[8px] border border-[#F8FF9933]",children:n.jsx("p",{className:"text-[#F8FF99] text-[14px] font-medium",children:"Pro tip: The more specific you are about their expertise, the better they'll perform!"})})]}),n.jsxs(Pt.div,{className:"space-y-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.3},children:[n.jsx("h3",{className:"text-white text-[20px] font-semibold",children:"Step 2: Explain What You Need Done (The Task)"}),n.jsxs("div",{className:"bg-[#FFFFFF08] p-4 rounded-[8px] border-l-4 border-[#80FFF9]",children:[n.jsx("p",{className:"text-[#80FFF9] text-[14px] font-medium mb-2",children:"Why this matters:"}),n.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:"Clear instructions lead to better results - just like giving directions to a friend."})]}),n.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:"This is where you describe your actual goal. Be as clear as you would be when asking a colleague for help:"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:" Want to automate repetitive business tasks? Describe which ones and how they currently work"}),n.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:" Need a study app? Explain what subjects and what features would help you learn best"}),n.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:" Building something unique? Paint a picture of what success looks like"})]}),n.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed font-medium",children:"Remember: Your agent wants to help, so don't hold back on details!"})]}),n.jsxs(Pt.div,{className:"space-y-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.4},children:[n.jsx("h3",{className:"text-white text-[20px] font-semibold",children:"Step 3: Share Current Context (Optional but Helpful)"}),n.jsxs("div",{className:"bg-[#FFFFFF08] p-4 rounded-[8px] border-l-4 border-[#80FFF9]",children:[n.jsx("p",{className:"text-[#80FFF9] text-[14px] font-medium mb-2",children:"Why this matters:"}),n.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:"Sometimes your agent needs to know about recent developments or specific circumstances."})]}),n.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:"If your task involves current events or recent changes in technology, give your agent a heads up. For example:"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"flex items-center justify-center rounded-[8px] bg-white/10 backdrop-blur-lg max-h-5 max-w-5 min-h-5 min-w-5",children:n.jsx("div",{className:"w-2 h-2 bg-white rounded-[1.5px]"})}),n.jsx("div",{className:"flex flex-col gap-1",children:n.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:n.jsx("em",{children:'"It\'s currently July 2025, and Emergent just launched E1.2, their most capable model yet!"'})})})]}),n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"flex items-center justify-center rounded-[8px] bg-white/10 backdrop-blur-lg max-h-5 max-w-5 min-h-5 min-w-5",children:n.jsx("div",{className:"w-2 h-2 bg-white rounded-[1.5px]"})}),n.jsx("div",{className:"flex flex-col gap-1",children:n.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:n.jsx("em",{children:'"Our company just switched to a new system last month..."'})})})]}),n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"flex items-center justify-center rounded-[8px] bg-white/10 backdrop-blur-lg max-h-5 max-w-5 min-h-5 min-w-5",children:n.jsx("div",{className:"w-2 h-2 bg-white rounded-[1.5px]"})}),n.jsx("div",{className:"flex flex-col gap-1",children:n.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:n.jsx("em",{children:'"The latest regulations in our industry require..."'})})})]})]}),n.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:"This helps your agent provide timely, relevant solutions rather than outdated information."})]}),n.jsxs(Pt.div,{className:"space-y-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.5},children:[n.jsx("h3",{className:"text-white text-[20px] font-semibold",children:"Step 4: Map Out Your Ideal Workflow"}),n.jsxs("div",{className:"bg-[#FFFFFF08] p-4 rounded-[8px] border-l-4 border-[#80FFF9]",children:[n.jsx("p",{className:"text-[#80FFF9] text-[14px] font-medium mb-2",children:"Why this matters:"}),n.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:"Sharing your thought process helps the agent work the way YOU work."})]}),n.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:"Think about how you'd tackle this problem yourself, then guide your agent through those same steps:"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"flex items-center justify-center rounded-[8px] bg-[#80FFF9]/20 backdrop-blur-lg max-h-6 max-w-6 min-h-6 min-w-6",children:n.jsx("span",{className:"text-[#80FFF9] text-[12px] font-bold",children:"1"})}),n.jsx("div",{className:"flex flex-col gap-1",children:n.jsxs("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:[n.jsx("span",{className:"font-medium text-white",children:"Start with Planning:"})," ",n.jsx("em",{children:'"First, analyze the requirements and create a plan..."'})]})})]}),n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"flex items-center justify-center rounded-[8px] bg-[#80FFF9]/20 backdrop-blur-lg max-h-6 max-w-6 min-h-6 min-w-6",children:n.jsx("span",{className:"text-[#80FFF9] text-[12px] font-bold",children:"2"})}),n.jsx("div",{className:"flex flex-col gap-1",children:n.jsxs("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:[n.jsx("span",{className:"font-medium text-white",children:"Build the Foundation:"})," ",n.jsx("em",{children:'"Begin with the basic functionality..."'})]})})]}),n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"flex items-center justify-center rounded-[8px] bg-[#80FFF9]/20 backdrop-blur-lg max-h-6 max-w-6 min-h-6 min-w-6",children:n.jsx("span",{className:"text-[#80FFF9] text-[12px] font-bold",children:"3"})}),n.jsx("div",{className:"flex flex-col gap-1",children:n.jsxs("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:[n.jsx("span",{className:"font-medium text-white",children:"Add Advanced Features:"})," ",n.jsx("em",{children:'"Once the core is working, implement..."'})]})})]}),n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"flex items-center justify-center rounded-[8px] bg-[#80FFF9]/20 backdrop-blur-lg max-h-6 max-w-6 min-h-6 min-w-6",children:n.jsx("span",{className:"text-[#80FFF9] text-[12px] font-bold",children:"4"})}),n.jsx("div",{className:"flex flex-col gap-1",children:n.jsxs("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:[n.jsx("span",{className:"font-medium text-white",children:"Customize to Perfection:"})," ",n.jsx("em",{children:'"Finally, add these specific touches I need..."'})]})})]})]})]}),n.jsxs(Pt.div,{className:"space-y-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.6},children:[n.jsx("h3",{className:"text-white text-[20px] font-semibold",children:"Working with Sub-agents (Team Players)"}),n.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:"If your main agent needs to delegate specialized tasks to other agents (like a manager working with specialists), mention this in your workflow:"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"flex items-center justify-center rounded-[8px] bg-white/10 backdrop-blur-lg max-h-5 max-w-5 min-h-5 min-w-5",children:n.jsx("div",{className:"w-2 h-2 bg-white rounded-[1.5px]"})}),n.jsx("div",{className:"flex flex-col gap-1",children:n.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:n.jsx("em",{children:'"When you need detailed code analysis, consult the Code Reviewer agent..."'})})})]}),n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"flex items-center justify-center rounded-[8px] bg-white/10 backdrop-blur-lg max-h-5 max-w-5 min-h-5 min-w-5",children:n.jsx("div",{className:"w-2 h-2 bg-white rounded-[1.5px]"})}),n.jsx("div",{className:"flex flex-col gap-1",children:n.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:n.jsx("em",{children:'"For design decisions, collaborate with the UI/UX specialist agent..."'})})})]})]})]}),n.jsxs(Pt.div,{className:"space-y-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.7},children:[n.jsx("h3",{className:"text-white text-[20px] font-semibold",children:"Step 5: Set Your Guidelines and Preferences"}),n.jsxs("div",{className:"bg-[#FFFFFF08] p-4 rounded-[8px] border-l-4 border-[#80FFF9]",children:[n.jsx("p",{className:"text-[#80FFF9] text-[14px] font-medium mb-2",children:"Why this matters:"}),n.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:'These are your "house rules" - they help your agent work exactly how you prefer.'})]}),n.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:"Share any specific preferences, constraints, or things to be careful about:"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"flex items-center justify-center rounded-[8px] bg-white/10 backdrop-blur-lg max-h-5 max-w-5 min-h-5 min-w-5",children:n.jsx("div",{className:"w-2 h-2 bg-white rounded-[1.5px]"})}),n.jsx("div",{className:"flex flex-col gap-1",children:n.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:n.jsx("em",{children:'"Always prioritize user-friendly solutions over complex ones"'})})})]}),n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"flex items-center justify-center rounded-[8px] bg-white/10 backdrop-blur-lg max-h-5 max-w-5 min-h-5 min-w-5",children:n.jsx("div",{className:"w-2 h-2 bg-white rounded-[1.5px]"})}),n.jsx("div",{className:"flex flex-col gap-1",children:n.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:n.jsx("em",{children:'"Use the troubleshooter tool primarily for debugging issues"'})})})]}),n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"flex items-center justify-center rounded-[8px] bg-white/10 backdrop-blur-lg max-h-5 max-w-5 min-h-5 min-w-5",children:n.jsx("div",{className:"w-2 h-2 bg-white rounded-[1.5px]"})}),n.jsx("div",{className:"flex flex-col gap-1",children:n.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:n.jsx("em",{children:'"When testing frontend features, use the frontend testing tool exclusively"'})})})]}),n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"flex items-center justify-center rounded-[8px] bg-white/10 backdrop-blur-lg max-h-5 max-w-5 min-h-5 min-w-5",children:n.jsx("div",{className:"w-2 h-2 bg-white rounded-[1.5px]"})}),n.jsx("div",{className:"flex flex-col gap-1",children:n.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:n.jsx("em",{children:'"Double-check any financial calculations for accuracy"'})})})]})]}),n.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed font-medium",children:"Think of these as friendly reminders that keep your agent on track."})]})]})]}),C9=({onBack:e})=>n.jsxs(Pt.div,{className:"relative flex flex-col w-full gap-2 pb-4 md:gap-4 md:pb-8",initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},children:[n.jsx(Pt.div,{className:"sticky top-0 p-4 bg-[#1C1C1F] md:px-6 md:pt-6 z-[10] border-b-[1px] border-[#242424]",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.3,delay:.1},children:n.jsxs("div",{className:"bg-[#1C1C1F] flex items-center justify-between",children:[n.jsx("h2",{className:"text-white/80 text-[18px] md:text-[24px] font-semibold",children:"Learn about Tools"}),n.jsx("button",{type:"button",onClick:e,className:"w-10 h-10 bg-[#FFFFFF0D] rounded-full flex items-center justify-center text-[#737780] backdrop-blur-lg hover:text-white transition-colors hover:bg-[#FFFFFF0A]","aria-label":"Close modal",children:n.jsx(RS,{className:"w-5 h-5"})})]})}),n.jsxs(Pt.div,{className:"px-4 space-y-6 md:px-8",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3,delay:.2,staggerChildren:.1,delayChildren:.3},children:[n.jsxs(Pt.div,{className:"space-y-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.1},children:[n.jsx("h3",{className:"text-white text-[20px] font-semibold",children:"Selecting Tools: Equipping Your Agent"}),n.jsxs("p",{className:"text-[#FFFFFF99] text-[16px] font-['Inter'] leading-relaxed",children:[n.jsx("span",{className:"font-medium text-white",children:"Think of tools as your agent's superpowers"}),"  each one gives your agent a specific ability to help you better. Just like a chef needs the right utensils or a carpenter needs the right tools, your AI agent needs the right digital tools to accomplish its tasks effectively."]})]}),n.jsxs(Pt.div,{className:"space-y-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.2},children:[n.jsx("h3",{className:"text-white text-[20px] font-semibold",children:"What Exactly Are Tools?"}),n.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:"Imagine your agent as a talented professional who needs access to different resources to do their job. Tools are these resources:"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"flex items-center justify-center rounded-[8px] bg-white/10 backdrop-blur-lg max-h-5 max-w-5 min-h-5 min-w-5",children:n.jsx("div",{className:"w-2 h-2 bg-white rounded-[1.5px]"})}),n.jsx("div",{className:"flex flex-col gap-1",children:n.jsxs("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:[n.jsx("span",{className:"font-medium text-white",children:"A Web Search tool"})," is like giving your agent internet access to find current information"]})})]}),n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"flex items-center justify-center rounded-[8px] bg-white/10 backdrop-blur-lg max-h-5 max-w-5 min-h-5 min-w-5",children:n.jsx("div",{className:"w-2 h-2 bg-white rounded-[1.5px]"})}),n.jsx("div",{className:"flex flex-col gap-1",children:n.jsxs("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:[n.jsx("span",{className:"font-medium text-white",children:"A File Reader tool"})," helps your agent access and understand documents you provide"]})})]}),n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"flex items-center justify-center rounded-[8px] bg-white/10 backdrop-blur-lg max-h-5 max-w-5 min-h-5 min-w-5",children:n.jsx("div",{className:"w-2 h-2 bg-white rounded-[1.5px]"})}),n.jsx("div",{className:"flex flex-col gap-1",children:n.jsxs("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:[n.jsx("span",{className:"font-medium text-white",children:"A Screenshot tool"})," helps your agent take screenshots"]})})]})]}),n.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed font-medium",children:"Think of each tool as adding a new skill to your agent's toolkit!"})]}),n.jsxs(Pt.div,{className:"space-y-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.3},children:[n.jsx("h3",{className:"text-white text-[20px] font-semibold",children:"The Art of Tool Selection"}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("h4",{className:"text-white text-[18px] font-semibold",children:"Purpose-Driven Selection"}),n.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed italic",children:"Each tool should have a clear job to do"}),n.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:'Before adding a tool, ask yourself: "Will my agent actually need this for the task I\'m giving it?"'}),n.jsxs("div",{className:"bg-[#FFFFFF08] p-4 rounded-[8px] border-l-4 border-[#80FFF9]",children:[n.jsx("p",{className:"text-[#80FFF9] text-[14px] font-medium mb-2",children:"Examples:"}),n.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:"Building a research assistant? Definitely include Web Search and Document Analysis tools"})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("h4",{className:"text-white text-[18px] font-semibold",children:"Quality Over Quantity"}),n.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:"Giving your agent too many tools is like giving someone a Swiss Army knife when they just need a screwdriver. More tools means:"}),n.jsxs("div",{className:"ml-4 space-y-2",children:[n.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:" Your agent takes longer to decide which tool to use"}),n.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:" It might get distracted from the main task"}),n.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:" The responses become less focused and more scattered"})]}),n.jsx("div",{className:"bg-[#F8FF9914] p-4 rounded-[8px] border border-[#F8FF9933]",children:n.jsxs("p",{className:"text-[#F8FF99] text-[14px] font-medium",children:[n.jsx("span",{className:"font-semibold",children:"Rule of thumb:"})," If you're not sure whether you need a tool, start without it."]})})]})]}),n.jsxs(Pt.div,{className:"space-y-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.4},children:[n.jsx("h3",{className:"text-white text-[20px] font-semibold",children:"Important Notes"}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("h4",{className:"text-white text-[18px] font-semibold",children:"About Default Tools"}),n.jsx("div",{className:"bg-[#FFFFFF08] p-4 rounded-[8px] border-l-4 border-[#FFAE66]",children:n.jsx("p",{className:"text-[#FFAE66] text-[14px] font-medium mb-2 italic",children:"The tools selected by default are mandatorily required by the agents to function."})}),n.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:'Think of default tools as the "starter pack"  they\'re like the engine in a car. Your agent needs these to:'}),n.jsxs("div",{className:"ml-4 space-y-2",children:[n.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:" Understand and process your requests"}),n.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:" Communicate responses effectively"}),n.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:" Maintain its core functionality"})]})]})]})]})]}),N9=({onBack:e})=>n.jsxs(Pt.div,{className:"relative flex flex-col w-full gap-2 pb-4 md:gap-4 md:pb-8",initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},children:[n.jsx(Pt.div,{className:"sticky top-0 p-4 bg-[#1C1C1F] md:px-6 md:pt-6 z-[10] border-b-[1px] border-[#242424]",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.3,delay:.1},children:n.jsxs("div",{className:"bg-[#1C1C1F] flex items-center justify-between",children:[n.jsx("h2",{className:"text-white/80 text-[18px] md:text-[24px] font-semibold",children:"Learn about Sub-Agents"}),n.jsx("button",{type:"button",onClick:e,className:"w-10 h-10 bg-[#FFFFFF0D] rounded-full flex items-center justify-center text-[#737780] backdrop-blur-lg hover:text-white transition-colors hover:bg-[#FFFFFF0A]","aria-label":"Close modal",children:n.jsx(RS,{className:"w-5 h-5"})})]})}),n.jsxs(Pt.div,{className:"px-4 space-y-6 md:px-8",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3,delay:.2,staggerChildren:.1,delayChildren:.3},children:[n.jsxs(Pt.div,{className:"space-y-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.1},children:[n.jsx("h3",{className:"text-white text-[20px] font-semibold",children:"What are Sub-Agents?"}),n.jsx("p",{className:"text-[#FFFFFF99] text-[16px] font-['Inter'] leading-relaxed",children:"Think of sub-agents as your agent's network of expert colleagues. Just like how a general contractor might call in an electrician for wiring or a plumber for pipes, your main agent can call on sub-agents when it needs specialized help."})]}),n.jsxs(Pt.div,{className:"space-y-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.2},children:[n.jsx("h4",{className:"text-white text-[18px] font-semibold",children:"Hyper-Specialization: Masters of Their Craft"}),n.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:"Each sub-agent is like a Master in their specific field."})]}),n.jsxs(Pt.div,{className:"space-y-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.3},children:[n.jsx("h4",{className:"text-white text-[18px] font-semibold",children:"On-Demand Collaboration: Right Expert, Right Time"}),n.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:"Your main agent intelligently decides when to bring in the sub agents based on their use case."})]}),n.jsxs(Pt.div,{className:"space-y-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.4},children:[n.jsx("h3",{className:"text-white text-[20px] font-semibold",children:"How Main Agent and Sub-Agent interact:"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"flex items-center justify-center rounded-[8px] bg-[#80FFF9]/20 backdrop-blur-lg max-h-6 max-w-6 min-h-6 min-w-6",children:n.jsx("span",{className:"text-[#80FFF9] text-[12px] font-bold",children:"1"})}),n.jsx("div",{className:"flex flex-col gap-1",children:n.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:"You give your main agent a task"})})]}),n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"flex items-center justify-center rounded-[8px] bg-[#80FFF9]/20 backdrop-blur-lg max-h-6 max-w-6 min-h-6 min-w-6",children:n.jsx("span",{className:"text-[#80FFF9] text-[12px] font-bold",children:"2"})}),n.jsx("div",{className:"flex flex-col gap-1",children:n.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:"It recognizes what subagent is needed, for a specific subtask"})})]}),n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"flex items-center justify-center rounded-[8px] bg-[#80FFF9]/20 backdrop-blur-lg max-h-6 max-w-6 min-h-6 min-w-6",children:n.jsx("span",{className:"text-[#80FFF9] text-[12px] font-bold",children:"3"})}),n.jsx("div",{className:"flex flex-col gap-1",children:n.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:"Automatically hands over the required subtask to the right sub-agents"})})]}),n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"flex items-center justify-center rounded-[8px] bg-[#80FFF9]/20 backdrop-blur-lg max-h-6 max-w-6 min-h-6 min-w-6",children:n.jsx("span",{className:"text-[#80FFF9] text-[12px] font-bold",children:"4"})}),n.jsx("div",{className:"flex flex-col gap-1",children:n.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:"Sub agent performs its function and outputs the result"})})]}),n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"flex items-center justify-center rounded-[8px] bg-[#80FFF9]/20 backdrop-blur-lg max-h-6 max-w-6 min-h-6 min-w-6",children:n.jsx("span",{className:"text-[#80FFF9] text-[12px] font-bold",children:"5"})}),n.jsx("div",{className:"flex flex-col gap-1",children:n.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:"Receives the response from the subagent"})})]})]})]}),n.jsxs(Pt.div,{className:"space-y-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.5},children:[n.jsx("h3",{className:"text-white text-[20px] font-semibold",children:"How to Create Sub-agents Effectively"}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("h4",{className:"text-white text-[18px] font-semibold",children:"1. Identify Your Needs:"}),n.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:"Start by giving your Sub-Agent a name, Ask yourself:"}),n.jsxs("div",{className:"ml-4 space-y-2",children:[n.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:" What specialized tasks come up repeatedly, that needs to be handed off the main Agent?"}),n.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:" Where do I need a highly specific agent?"})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("h4",{className:"text-white text-[18px] font-semibold",children:"2. Give definition to the Sub-Agent:"}),n.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:"This definition will go to the main agent, please clearly state what this Sub Agent can do, and when it should be called."})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("h4",{className:"text-white text-[18px] font-semibold",children:"3. Define System Prompt:"}),n.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:"Give your agent step-by-step approach to approach the required task. Set guidelines for best practices, constraints, and things to avoid."})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("h4",{className:"text-white text-[18px] font-semibold",children:"4. Configure Sub-Agent Tools:"}),n.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:"Assign tools that are required by your subagent to complete their work and"})]})]}),n.jsxs(Pt.div,{className:"space-y-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.6},children:[n.jsx("h3",{className:"text-white text-[20px] font-semibold",children:"Best Practices for Sub-agent Success"}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("h4",{className:"text-[#80FFF9] text-[18px] font-semibold",children:"DO's:"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"flex items-center justify-center rounded-[8px] bg-[#80FFF9]/20 backdrop-blur-lg max-h-5 max-w-5 min-h-5 min-w-5",children:n.jsx("div",{className:"w-2 h-2 bg-[#80FFF9] rounded-[1.5px]"})}),n.jsx("div",{className:"flex flex-col gap-1",children:n.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:"Give each sub-agent a clear, focused role"})})]}),n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"flex items-center justify-center rounded-[8px] bg-[#80FFF9]/20 backdrop-blur-lg max-h-5 max-w-5 min-h-5 min-w-5",children:n.jsx("div",{className:"w-2 h-2 bg-[#80FFF9] rounded-[1.5px]"})}),n.jsx("div",{className:"flex flex-col gap-1",children:n.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:"Provide context about when they should be consulted"})})]}),n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"flex items-center justify-center rounded-[8px] bg-[#80FFF9]/20 backdrop-blur-lg max-h-5 max-w-5 min-h-5 min-w-5",children:n.jsx("div",{className:"w-2 h-2 bg-[#80FFF9] rounded-[1.5px]"})}),n.jsx("div",{className:"flex flex-col gap-1",children:n.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:"Allow sub-agents to communicate with each other when needed"})})]}),n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"flex items-center justify-center rounded-[8px] bg-[#80FFF9]/20 backdrop-blur-lg max-h-5 max-w-5 min-h-5 min-w-5",children:n.jsx("div",{className:"w-2 h-2 bg-[#80FFF9] rounded-[1.5px]"})}),n.jsx("div",{className:"flex flex-col gap-1",children:n.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:"Test the handoffs between agents to ensure smooth operation"})})]})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("h4",{className:"text-[#FF6B6B] text-[18px] font-semibold",children:"DON'Ts:"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"flex items-center justify-center rounded-[8px] bg-[#FF6B6B]/20 backdrop-blur-lg max-h-5 max-w-5 min-h-5 min-w-5",children:n.jsx("div",{className:"w-2 h-2 bg-[#FF6B6B] rounded-[1.5px]"})}),n.jsx("div",{className:"flex flex-col gap-1",children:n.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:"Make sub-agents too broad (defeats the purpose of specialization)"})})]}),n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"flex items-center justify-center rounded-[8px] bg-[#FF6B6B]/20 backdrop-blur-lg max-h-5 max-w-5 min-h-5 min-w-5",children:n.jsx("div",{className:"w-2 h-2 bg-[#FF6B6B] rounded-[1.5px]"})}),n.jsx("div",{className:"flex flex-col gap-1",children:n.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:"Overwhelm with too many sub-agents initially (start small, grow as needed)"})})]})]})]})]})]})]}),F9=({onBack:e})=>n.jsxs(Pt.div,{className:"relative flex flex-col w-full gap-2 pb-4 md:gap-4 md:pb-8",initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},children:[n.jsx(Pt.div,{className:"sticky top-0 p-4 bg-[#1C1C1F] md:px-6 md:pt-6 z-[10] border-b-[1px] border-[#242424]",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.3,delay:.1},children:n.jsxs("div",{className:"bg-[#1C1C1F] flex items-center justify-between",children:[n.jsx("h2",{className:"text-white/80 text-[18px] md:text-[24px] font-semibold",children:"Creating Your Sub-Agent: A Step-by-Step Guide"}),n.jsx("button",{type:"button",onClick:e,className:"w-10 h-10 bg-[#FFFFFF0D] rounded-full flex items-center justify-center text-[#737780] backdrop-blur-lg hover:text-white transition-colors hover:bg-[#FFFFFF0A]","aria-label":"Close modal",children:n.jsx(RS,{className:"w-5 h-5"})})]})}),n.jsxs(Pt.div,{className:"px-4 space-y-6 md:px-8",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3,delay:.2,staggerChildren:.1,delayChildren:.3},children:[n.jsx(Pt.div,{className:"space-y-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.1},children:n.jsx("p",{className:"text-[#FFFFFF99] text-[16px] font-['Inter'] leading-relaxed",children:"Sub-agents are like specialist consultants that your main agent can call upon for specific expertise. While creating them follows similar principles to main agents, there are key differences in how you approach each step."})}),n.jsxs(Pt.div,{className:"space-y-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.2},children:[n.jsx("h3",{className:"text-white text-[20px] font-semibold",children:"Step 1: Define Your Sub-Agent's Hyper-Specialized Persona"}),n.jsxs("div",{className:"bg-[#FFFFFF08] p-4 rounded-[8px] border-l-4 border-[#80FFF9]",children:[n.jsx("p",{className:"text-[#80FFF9] text-[14px] font-medium mb-2",children:"Why this matters:"}),n.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:"Sub-agents excel through laser-focused expertise, not broad capabilities."})]}),n.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:"Unlike main agents who might wear many hats, sub-agents should be masters of ONE specific domain."}),n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"flex items-center justify-center rounded-[8px] bg-white/10 backdrop-blur-lg max-h-5 max-w-5 min-h-5 min-w-5",children:n.jsx("div",{className:"w-2 h-2 bg-white rounded-[1.5px]"})}),n.jsx("div",{className:"flex flex-col gap-1",children:n.jsxs("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:[n.jsx("span",{className:"font-medium text-white",children:"Code Review Specialist:"})," ",n.jsx("em",{children:'"You are an expert code reviewer who specializes in identifying bugs, security vulnerabilities, and optimization opportunities in code..."'})]})})]}),n.jsx("div",{className:"bg-[#F8FF9914] p-4 rounded-[8px] border border-[#F8FF9933]",children:n.jsxs("p",{className:"text-[#F8FF99] text-[14px] font-medium",children:[n.jsx("span",{className:"font-semibold",children:"Key difference from main agents:"})," Be ultra-specific. If your main agent is a general contractor, your sub-agent should be the master electrician who only does wiring."]})})]}),n.jsxs(Pt.div,{className:"space-y-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.3},children:[n.jsx("h3",{className:"text-white text-[20px] font-semibold",children:"Step 2: Create Two Descriptions - One for Each Audience"}),n.jsxs("div",{className:"bg-[#FFFFFF08] p-4 rounded-[8px] border-l-4 border-[#80FFF9]",children:[n.jsx("p",{className:"text-[#80FFF9] text-[14px] font-medium mb-2",children:"Why this matters:"}),n.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:"Your sub-agent needs to be understood by both the main agent AND perform its specialized task."})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("h4",{className:"text-white text-[18px] font-semibold",children:"A. The Definition (For the Main Agent)"}),n.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:"This tells your main agent WHEN and WHY to call this sub-agent:"}),n.jsxs("div",{className:"bg-[#FFFFFF08] p-4 rounded-[8px] border border-[#333333]",children:[n.jsx("p",{className:"text-[#80FFF9] text-[14px] font-medium mb-2",children:"Example:"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed italic",children:'"The Code Review Sub-Agent should be consulted when:'}),n.jsxs("div",{className:"ml-4 space-y-1",children:[n.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed italic",children:" You need to verify code quality before deployment"}),n.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed italic",children:" You encounter bugs or errors in existing code"}),n.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed italic",children:" You want to optimize performance of specific functions"})]}),n.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed italic",children:'This agent specializes in JavaScript, Python, and React applications."'})]})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("h4",{className:"text-white text-[18px] font-semibold",children:"B. The Task Description (For the Sub-Agent)"}),n.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:"This tells the sub-agent WHAT to do when called:"}),n.jsxs("div",{className:"bg-[#FFFFFF08] p-4 rounded-[8px] border border-[#333333]",children:[n.jsx("p",{className:"text-[#80FFF9] text-[14px] font-medium mb-2",children:"Example:"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed italic",children:'"When you receive code to review, analyze it for:'}),n.jsxs("div",{className:"ml-4 space-y-1",children:[n.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed italic",children:"1. Syntax errors and bugs"}),n.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed italic",children:"2. Security vulnerabilities"}),n.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed italic",children:"3. Performance bottlenecks"}),n.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed italic",children:"4. Code style and best practices"})]}),n.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed italic",children:'Provide specific, actionable feedback with examples."'})]})]})]})]}),n.jsxs(Pt.div,{className:"space-y-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.4},children:[n.jsx("h3",{className:"text-white text-[20px] font-semibold",children:"Step 3: Design the System Prompt with Focused Workflow"}),n.jsxs("div",{className:"bg-[#FFFFFF08] p-4 rounded-[8px] border-l-4 border-[#80FFF9]",children:[n.jsx("p",{className:"text-[#80FFF9] text-[14px] font-medium mb-2",children:"Why this matters:"}),n.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:"Sub-agents need clear, repeatable processes since they handle specific types of requests."})]}),n.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:"Structure your sub-agent's workflow around its specialization:"}),n.jsx("div",{className:"bg-[#1A1A1C] p-4 rounded-[8px] border border-[#333333]",children:n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"flex items-center justify-center rounded-[8px] bg-[#80FFF9]/20 backdrop-blur-lg max-h-6 max-w-6 min-h-6 min-w-6",children:n.jsx("span",{className:"text-[#80FFF9] text-[12px] font-bold",children:"1"})}),n.jsx("div",{className:"flex flex-col gap-1",children:n.jsxs("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:[n.jsx("span",{className:"font-medium text-white",children:"Receive the Specific Request:"})," Understand what the main agent needs"]})})]}),n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"flex items-center justify-center rounded-[8px] bg-[#80FFF9]/20 backdrop-blur-lg max-h-6 max-w-6 min-h-6 min-w-6",children:n.jsx("span",{className:"text-[#80FFF9] text-[12px] font-bold",children:"2"})}),n.jsx("div",{className:"flex flex-col gap-1",children:n.jsxs("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:[n.jsx("span",{className:"font-medium text-white",children:"Apply Your Expertise:"})," Use your specialized knowledge to analyze"]})})]}),n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"flex items-center justify-center rounded-[8px] bg-[#80FFF9]/20 backdrop-blur-lg max-h-6 max-w-6 min-h-6 min-w-6",children:n.jsx("span",{className:"text-[#80FFF9] text-[12px] font-bold",children:"3"})}),n.jsx("div",{className:"flex flex-col gap-1",children:n.jsxs("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:[n.jsx("span",{className:"font-medium text-white",children:"Deliver Targeted Results:"})," Provide exactly what was requested"]})})]}),n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"flex items-center justify-center rounded-[8px] bg-[#80FFF9]/20 backdrop-blur-lg max-h-6 max-w-6 min-h-6 min-w-6",children:n.jsx("span",{className:"text-[#80FFF9] text-[12px] font-bold",children:"4"})}),n.jsx("div",{className:"flex flex-col gap-1",children:n.jsxs("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:[n.jsx("span",{className:"font-medium text-white",children:"Include Recommendations:"})," Suggest improvements within your domain"]})})]})]})})]}),n.jsxs(Pt.div,{className:"space-y-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.5},children:[n.jsx("h3",{className:"text-white text-[20px] font-semibold",children:"Step 4: Set Interaction Guidelines"}),n.jsxs("div",{className:"bg-[#FFFFFF08] p-4 rounded-[8px] border-l-4 border-[#80FFF9]",children:[n.jsx("p",{className:"text-[#80FFF9] text-[14px] font-medium mb-2",children:"Why this matters:"}),n.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:"Sub-agents need to know how to communicate with the main agent and potentially other sub-agents."})]}),n.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:"Include guidelines for:"}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("h4",{className:"text-white text-[18px] font-semibold",children:"Communication Protocol:"}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:[" ",n.jsx("em",{children:'"Always format your responses with clear sections: Analysis, Findings, Recommendations"'})]}),n.jsxs("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:[" ",n.jsx("em",{children:'"Flag critical issues immediately at the start of your response"'})]}),n.jsxs("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:[" ",n.jsx("em",{children:'"Use technical terms when communicating with the main agent"'})]})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("h4",{className:"text-white text-[18px] font-semibold",children:"Constraints and Best Practices:"}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:[" ",n.jsx("em",{children:'"Stay within your domain of expertise"'})]}),n.jsxs("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:[" ",n.jsx("em",{children:'"Prioritize accuracy over speed in your analysis"'})]}),n.jsxs("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:[" ",n.jsx("em",{children:'"If you cannot complete a request, explain why and suggest alternatives"'})]})]})]})]}),n.jsx(Pt.div,{className:"space-y-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.6},children:n.jsxs("div",{className:"border-t border-[#333333] pt-6",children:[n.jsx("h3",{className:"text-white text-[20px] font-semibold mb-4",children:"System Constraints (Read-Only Section)"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"bg-[#FFFFFF08] p-4 rounded-[8px] border-l-4 border-[#FFAE66]",children:[n.jsx("p",{className:"text-[#FFAE66] text-[14px] font-medium mb-2",children:"What this is:"}),n.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:'This section contains essential technical guidelines that help your sub-agent operate properly within its environment. Think of it as the "operating manual" that ensures everything runs smoothly.'})]}),n.jsxs("div",{className:"bg-[#FFFFFF08] p-4 rounded-[8px] border-l-4 border-[#80FFF9]",children:[n.jsx("p",{className:"text-[#80FFF9] text-[14px] font-medium mb-2",children:"Why it's protected:"}),n.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed mb-2",children:"These constraints are carefully designed to ensure your agent can:"}),n.jsxs("div",{className:"ml-4 space-y-1",children:[n.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:" Access the right tools and features"}),n.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:" Communicate with other agents effectively"}),n.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:" Maintain security and performance standards"}),n.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:" Follow best practices automatically"})]})]}),n.jsx("div",{className:"bg-[#F8FF9914] p-4 rounded-[8px] border border-[#F8FF9933]",children:n.jsx("p",{className:"text-[#F8FF99] text-[14px] font-medium",children:"You don't need to modify this section - it's like the foundation of a house that supports everything you build on top!"})})]})]})})]})]}),_9=({onBack:e})=>n.jsxs(Pt.div,{className:"relative flex flex-col w-full gap-2 pb-4 md:gap-4 md:pb-8",initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},children:[n.jsx(Pt.div,{className:"sticky top-0 p-4 bg-[#1C1C1F] md:px-6 md:pt-6 z-[10] border-b-[1px] border-[#242424]",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.3,delay:.1},children:n.jsxs("div",{className:"bg-[#1C1C1F] flex items-center justify-between",children:[n.jsx("h2",{className:"text-white/80 text-[18px] md:text-[24px] font-semibold",children:"Learn about Tools"}),n.jsx("button",{type:"button",onClick:e,className:"w-10 h-10 bg-[#FFFFFF0D] rounded-full flex items-center justify-center text-[#737780] backdrop-blur-lg hover:text-white transition-colors hover:bg-[#FFFFFF0A]","aria-label":"Close modal",children:n.jsx(RS,{className:"w-5 h-5"})})]})}),n.jsxs(Pt.div,{className:"px-4 space-y-6 md:px-8",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3,delay:.2,staggerChildren:.1,delayChildren:.3},children:[n.jsxs(Pt.div,{className:"space-y-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.1},children:[n.jsx("h3",{className:"text-white text-[20px] font-semibold",children:"Selecting Tools: Equipping Your Agent"}),n.jsxs("p",{className:"text-[#FFFFFF99] text-[16px] font-['Inter'] leading-relaxed",children:[n.jsx("span",{className:"font-medium text-white",children:"Think of tools as your agent's superpowers"}),"  each one gives your agent a specific ability to help you better. Just like a chef needs the right utensils or a carpenter needs the right tools, your AI agent needs the right digital tools to accomplish its tasks effectively."]})]}),n.jsxs(Pt.div,{className:"space-y-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.2},children:[n.jsx("h3",{className:"text-white text-[20px] font-semibold",children:"What Exactly Are Tools?"}),n.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:"Imagine your agent as a talented professional who needs access to different resources to do their job. Tools are these resources:"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"flex items-center justify-center rounded-[8px] bg-white/10 backdrop-blur-lg max-h-5 max-w-5 min-h-5 min-w-5",children:n.jsx("div",{className:"w-2 h-2 bg-white rounded-[1.5px]"})}),n.jsx("div",{className:"flex flex-col gap-1",children:n.jsxs("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:[n.jsx("span",{className:"font-medium text-white",children:"A Web Search tool"})," is like giving your agent internet access to find current information"]})})]}),n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"flex items-center justify-center rounded-[8px] bg-white/10 backdrop-blur-lg max-h-5 max-w-5 min-h-5 min-w-5",children:n.jsx("div",{className:"w-2 h-2 bg-white rounded-[1.5px]"})}),n.jsx("div",{className:"flex flex-col gap-1",children:n.jsxs("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:[n.jsx("span",{className:"font-medium text-white",children:"A File Reader tool"})," helps your agent access and understand documents you provide"]})})]}),n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"flex items-center justify-center rounded-[8px] bg-white/10 backdrop-blur-lg max-h-5 max-w-5 min-h-5 min-w-5",children:n.jsx("div",{className:"w-2 h-2 bg-white rounded-[1.5px]"})}),n.jsx("div",{className:"flex flex-col gap-1",children:n.jsxs("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:[n.jsx("span",{className:"font-medium text-white",children:"A Screenshot tool"})," helps your agent take screenshots"]})})]})]}),n.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed font-medium",children:"Think of each tool as adding a new skill to your agent's toolkit!"})]}),n.jsxs(Pt.div,{className:"space-y-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.3},children:[n.jsx("h3",{className:"text-white text-[20px] font-semibold",children:"The Art of Tool Selection"}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("h4",{className:"text-white text-[18px] font-semibold",children:"Purpose-Driven Selection"}),n.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed italic",children:"Each tool should have a clear job to do"}),n.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:'Before adding a tool, ask yourself: "Will my agent actually need this for the task I\'m giving it?"'}),n.jsxs("div",{className:"bg-[#FFFFFF08] p-4 rounded-[8px] border-l-4 border-[#80FFF9]",children:[n.jsx("p",{className:"text-[#80FFF9] text-[14px] font-medium mb-2",children:"Examples:"}),n.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:"Building a research assistant? Definitely include Web Search and Document Analysis tools"})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("h4",{className:"text-white text-[18px] font-semibold",children:"Quality Over Quantity"}),n.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:"Giving your agent too many tools is like giving someone a Swiss Army knife when they just need a screwdriver. More tools means:"}),n.jsxs("div",{className:"ml-4 space-y-2",children:[n.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:" Your agent takes longer to decide which tool to use"}),n.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:" It might get distracted from the main task"}),n.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:" The responses become less focused and more scattered"})]}),n.jsx("div",{className:"bg-[#F8FF9914] p-4 rounded-[8px] border border-[#F8FF9933]",children:n.jsxs("p",{className:"text-[#F8FF99] text-[14px] font-medium",children:[n.jsx("span",{className:"font-semibold",children:"Rule of thumb:"})," If you're not sure whether you need a tool, start without it."]})})]})]}),n.jsxs(Pt.div,{className:"space-y-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.4},children:[n.jsx("h3",{className:"text-white text-[20px] font-semibold",children:"Important Notes"}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("h4",{className:"text-white text-[18px] font-semibold",children:"About Default Tools"}),n.jsx("div",{className:"bg-[#FFFFFF08] p-4 rounded-[8px] border-l-4 border-[#FFAE66]",children:n.jsx("p",{className:"text-[#FFAE66] text-[14px] font-medium mb-2 italic",children:"The tools selected by default are mandatorily required by the agents to function."})}),n.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:'Think of default tools as the "starter pack"  they\'re like the engine in a car. Your agent needs these to:'}),n.jsxs("div",{className:"ml-4 space-y-2",children:[n.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:" Understand and process your requests"}),n.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:" Communicate responses effectively"}),n.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:" Maintain its core functionality"})]})]})]})]})]}),k9=({isOpen:e,onOpenChange:t,currentStep:s=1,isSubagent:i=!1})=>{const{bannerHeight:a}=fL(),r=a+56;return n.jsx(Rt,{children:e&&n.jsx(Pt.div,{style:{height:`calc(100vh - ${r}px)`,top:`${r}px`},className:fb("fixed inset-0 w-full z-[100] flex items-center justify-center bg-[#0e0e0f50] backdrop-blur-[5px]"),onClick:()=>t(!1),initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2,ease:"easeInOut"},children:n.jsx(Pt.div,{className:fb("p-0 sm:max-w-[700px] max-h-[90dvh] overflow-y-auto w-full max-w-[600px] mx-auto bg-[#18181A] border border-[#242424] rounded-[20px] font-['Inter']"),onClick:e=>e.stopPropagation(),initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},transition:{duration:.2,ease:"easeInOut"},children:i?1===s?n.jsx(F9,{onBack:()=>t(!1)}):2===s?n.jsx(_9,{onBack:()=>t(!1)}):n.jsx(F9,{onBack:()=>t(!1)}):1===s?n.jsx(j9,{onBack:()=>t(!1)}):2===s?n.jsx(C9,{onBack:()=>t(!1)}):3===s?n.jsx(N9,{onBack:()=>t(!1)}):n.jsx(j9,{onBack:()=>t(!1)})})})})};function S9({size:e=24,color:t="#999999",className:s}){return n.jsx("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:s,children:n.jsx("path",{d:"M12 21C11.4477 21 11 20.5523 11 20V14C11 13.4477 10.5523 13 10 13H4C3.44772 13 3 12.5523 3 12C3 11.4477 3.44772 11 4 11H10C10.5523 11 11 10.5523 11 10V4C11 3.44772 11.4477 3 12 3C12.5523 3 13 3.44772 13 4V10C13 10.5523 13.4477 11 14 11H20C20.5523 11 21 11.4477 21 12C21 12.5523 20.5523 13 20 13H14C13.4477 13 13 13.4477 13 14V20C13 20.5523 12.5523 21 12 21Z",fill:t})})}const E9=({size:e=20,width:t,height:s,fill:i="#CCCCCC",className:a,onClick:r,style:o})=>{const l=t||e,c=s||e;return n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:l,height:c,viewBox:"0 0 20 20",fill:"none",className:a,onClick:r,style:o,children:n.jsx("path",{d:"M13.6398 11.4516H10.4824C10.1393 12.4222 9.46406 13.2402 8.57611 13.7611C7.68815 14.282 6.64463 14.4722 5.63 14.2981C4.61536 14.124 3.69493 13.5968 3.03138 12.8098C2.36784 12.0227 2.00391 11.0263 2.00391 9.99688C2.00391 8.96742 2.36784 7.9711 3.03138 7.18401C3.69493 6.39693 4.61536 5.86975 5.63 5.69567C6.64463 5.52159 7.68815 5.7118 8.57611 6.23269C9.46406 6.75358 10.1393 7.57161 10.4824 8.5422H18.0039V11.4516H16.5492V14.3609H13.6398V11.4516ZM6.36641 11.4516C6.75221 11.4516 7.12222 11.2983 7.39503 11.0255C7.66783 10.7527 7.82109 10.3827 7.82109 9.99688C7.82109 9.61108 7.66783 9.24107 7.39503 8.96826C7.12222 8.69546 6.75221 8.5422 6.36641 8.5422C5.9806 8.5422 5.61059 8.69546 5.33779 8.96826C5.06498 9.24107 4.91172 9.61108 4.91172 9.99688C4.91172 10.3827 5.06498 10.7527 5.33779 11.0255C5.61059 11.2983 5.9806 11.4516 6.36641 11.4516Z",fill:i})})},I9=De.memo(({server:e,isEnabled:t,onToggle:s,onEdit:i,onDelete:a=()=>{},showEditButton:r=!0})=>{const[o,l]=De.useState(!1),[c,d]=De.useState(!1),[u,p]=De.useState(!1),{tier:m}=Xg(),{isOrganizationWorkspace:h}=Kg(),x=eI(),f=BE(),g=YE(),v="public"===e.type&&!0===e.key_required,b=t=>{if("pro_mode"===m||h()||x){if("public"===e.type&&e.key_required)return void i();s(t)}else g.close(),f.open({planType:"personal"})};return n.jsxs("div",{className:"flex gap-4 p-4 rounded-[12px] justify-between bg-transparent hover:bg-[#FFFFFF08] transition-colors relative",onMouseEnter:()=>l(!0),onMouseLeave:()=>l(!1),children:[n.jsxs("div",{className:"flex items-center justify-center bg-[#313133] rounded-[12px] h-10 w-10 ",children:[e.icon&&!c&&n.jsx("img",{alt:"Image",src:e.icon,className:"w-6 h-6",onError:()=>{d(!0),setTimeout(()=>p(!0),200)}}),(!e.icon||u)&&n.jsx(ME,{size:24})]}),n.jsxs("div",{className:fb("flex flex-col gap-[2px] flex-1 w-full",o&&""),children:[n.jsxs("div",{className:"flex items-center gap-[6px]",children:[n.jsx("span",{className:"text-[#D8DDE6] font-medium",children:e.display_name}),e.key_required&&n.jsxs("div",{className:"flex items-center text-[#D8DDE6]/80 bg-[#D8DDE6]/10 rounded-full px-[6px] font-inter font-semibold text-[12px] gap-1 py-[2px]",children:[n.jsx(E9,{fill:"#D8DDE6",size:16})," Key needed"]})]}),n.jsx("div",{className:"text-[14px] font-inter truncate text-[#777a80] mb-1",children:e.description})]}),n.jsxs("div",{className:"absolute flex items-center gap-2 -translate-y-1/2 right-2 top-1/2",children:[o&&r&&"private"===e.type&&n.jsx("div",{className:"flex items-center gap-1 max-h-[32px]",children:n.jsxs("button",{type:"button",className:"flex items-center font-medium gap-1 backdrop-blur-lg p-[6px] pl-3 pr-4 rounded-full text-[#C4C4CC] bg-[#FFFFFF0A] hover:bg-[#FFFFFF10] transition-colors duration-150 group",onClick:i,children:[n.jsx(lM,{width:20,height:20,fill:"#C4C4CC"}),"Edit"]})}),v?n.jsxs("button",{type:"button",className:"text-[#C4C4CC] backdrop-blur-lg flex items-center gap-1 px-[10px] rounded-full py-[6px] font-medium bg-[#FFFFFF14] hover:bg-white/15",title:"Configure Button",onClick:()=>b(!0),children:[n.jsx(LE,{size:20,color:"#E6E6E6"}),"Configure"]}):n.jsx(WI,{checked:t,onCheckedChange:b,disabled:!1,checkedColor:"#F49B57"})]})]})}),A9=gv.pro.workbench,T9=gv.common.controls,D9=gv.pro.nextArrow,M9=gv.pro.backGray,L9=gv.robots.robot1,P9=gv.robots.robot2,R9=gv.robots.robot3,O9=gv.robots.robot4,z9=gv.robots.robot5,B9=gv.robots.robot6,H9=gv.robots.robot7,$9=gv.robots.robot8,U9=gv.robots.robot9,V9=gv.robots.robot10,W9=gv.robots.research,q9=gv.pro.bgSvg,G9={1:{title:"Define your Agent",description:"Your agent is only as good as the instructions you give it: Think of this as writing a job description for your ideal AI teammatebe specific about who they are, what they do, and how they work.",icon:A9,iconAlt:"Workbench",welcomeTitle:"Creating an Agent on Emergent",learnMoreText:"Learn about prompt design",tips:"The clearer you are, the better your agent performs."},2:{title:"Select Tools",description:"Equip your agent with the right capabilities: Tools are essential for your Agent to operate and work. Please choose the specialized tools required by your Agent as per your needs and goals.",icon:T9,iconAlt:"Tools",welcomeTitle:"What exactly are tools?",learnMoreText:"Learn about tools",tips:"The tools selected by default are mandatorily required by the agents to function."},3:{title:"Configure Sub-agents",description:"Deploy specialized experts for complex tasks: Sub-agents are your agent's specialist consultantshighly focused AI helpers that excel in specific domains.",icon:T9,iconAlt:"Sub-agents",welcomeTitle:"What are Sub-Agents ?",learnMoreText:"Learn about Sub-agents",tips:"Think of sub-agents as your agent's expert advisory team."},4:{title:"Review Agent Info",description:"Final check before launch: Please review your agent configuration before saving.",icon:A9,iconAlt:"Review",welcomeTitle:"To Review : ",learnMoreText:"Learn about Agents",tips:"You can edit Everything after creation as well."}},Z9=[{boldText:"Name your agent",text:" based on its specialty and role"},{boldText:"Describe their role",text:" - who they are and what they're experts at"},{boldText:"Outline their workflow",text:" - step-by-step approach to solving problems"},{boldText:"Set guidelines ",text:" - best practices, constraints, and things to avoid"},{text:"Always include subagents, and specify when exactly they need to be called."}],Y9=[{boldText:"Agent Definition",text:"  Identity, workflow, and guidelines are set"},{boldText:"Tools Selected",text:"  Required tools are configured"},{boldText:"Sub-agents Select",text:"  Expert Subagent assigned for specific tasks"},{boldText:"Set guidelines ",text:" - best practices, constraints, and things to avoid"}],K9=[{text:"Each tool serves a specific function in your agent's workflow, choose them wisely."},{text:"Include only essential tools to keep your agent focused and contextually aware, do not overload with too many tools"},{text:"Choose tools that directly support your agent's core objectives"}],J9=[{text:"Each sub-agent masters one specific task, and they work as an extension of your main agent's capabilities"},{text:"In the sub-agent system prompt define the agent and what they're experts at, also map their workflow"},{text:"Include guidelines, best practices, constraints, and things to avoid"},{text:"Be mindful, Sub-Agents cannot call other sub-agents, they can only interact with the main agent"}],Q9=[{id:"fullstack-tester",name:"Fullstack tester",description:"Reviews code for security vulnerabilities",icon:L9,defaultChecked:!0},{id:"backend-tester",name:"Backend tester",description:"Reviews code for security vulnerabilities",icon:P9,defaultChecked:!0},{id:"frontend-tester",name:"Frontend tester",description:"Reviews code for security vulnerabilities",icon:R9,defaultChecked:!0},{id:"integration-expert",name:"Integration expert",description:"Reviews code for security vulnerabilities",icon:O9,defaultChecked:!0}],X9=[{id:"system-constraints-1",title:"System Constraints",helpText:"What are system constraints",readOnly:!0,showLock:!0},{id:"system-constraints-2",title:"System Constraints 2",helpText:"What are system constraints",readOnly:!0,showLock:!0},{id:"system-prompt",title:"System Prompt",helpText:"Learn about system prompts",readOnly:!0,showLock:!1}],e7={1:"Continue to Add Tools",2:"Continue to Add Sub-Agents",3:"Review Agent",4:"Save Your Agent"},t7=({onClick:e,children:t})=>n.jsxs("button",{type:"button",onClick:e,className:"flex items-center gap-2 px-4 py-[2px] font-semibold text-[#18181A] transition-colors bg-white rounded-full hover:bg-opacity-90",children:[n.jsx(lM,{fill:"#000000",fillOpacity:1}),t]}),n7=({tabId:e})=>{var t,s,i,a,r,o,l,c,d,u,p,m;const h=De.useMemo(()=>[{id:"research",icon:W9,name:"Research"},{id:"robot_1",icon:L9,name:"Robot 1"},{id:"robot_2",icon:P9,name:"Robot 2"},{id:"robot_3",icon:R9,name:"Robot 3"},{id:"robot_4",icon:O9,name:"Robot 4"},{id:"robot_5",icon:z9,name:"Robot 5"},{id:"robot_6",icon:B9,name:"Robot 6"},{id:"robot_7",icon:H9,name:"Robot 7"},{id:"robot_8",icon:$9,name:"Robot 8"},{id:"robot_9",icon:U9,name:"Robot 9"},{id:"robot_10",icon:V9,name:"Robot 10"}],[]),x=jt(),f=wt(t=>((e,t)=>{var n;return null==(n=e.tabs.tabStates[t])?void 0:n.createAgentFormData})(t,e)),[g,v]=De.useState(1),[b,y]=De.useState(""),[w,j]=De.useState("You are a helpful AI assistant. Always follow safety guidelines You are a"),[C,N]=De.useState(null),[F,_]=De.useState({}),[k,S]=De.useState([]),[E,I]=De.useState([]),[A,T]=De.useState([]),[D,M]=De.useState([]),[L,P]=De.useState(h[0]),[R,O]=De.useState(!1),z=GE(),B=ZE(),[H,$]=De.useState(!1);De.useEffect(()=>{},[C]);const U=De.useRef(null),{removeTab:V,setActiveTab:W,setTabs:q,getActiveTab:G}=Oee(),{toast:Z}=on(),Y=G(),K=(null==(t=null==Y?void 0:Y.state)?void 0:t.editMode)||!1,J=null==(s=null==Y?void 0:Y.state)?void 0:s.agentData,Q=null==(i=null==Y?void 0:Y.state)?void 0:i.workspaceContext,X=e=>e.replace(/_/g," ").replace(/\b\w/g,e=>e.toUpperCase()),{config:ee,loading:te}=kD(),ne=eI(),[se,{data:ie,isLoading:ae,error:re}]=Af(),[oe,{data:le,isLoading:ce,error:de}]=Tf(),[ue,{data:pe,isLoading:me,error:he}]=Mf(),{isMobile:xe}=QE(),{isOrganizationWorkspace:fe,getCurrentOrganizationId:ge}=Kg(),ve=De.useCallback(()=>(null==Q?void 0:Q.isOrganizationWorkspace)??fe(),[null==Q?void 0:Q.isOrganizationWorkspace,fe]),be=De.useCallback(()=>(null==Q?void 0:Q.currentOrganizationId)??(fe()?ge():void 0),[null==Q?void 0:Q.currentOrganizationId,fe,ge]),{data:ye,isLoading:we,refetch:je}=zf(be()?{organization_id:be()}:void 0,{skip:!1}),[Ce]=Hf(),[Ne]=$f(),[Fe,{isLoading:_e}]=Pf(),[ke,{isLoading:Se}]=Rf(),Ee=()=>{if(C)return C;if(!(null==ie?void 0:ie.prompts)||0===ie.prompts.length)return null;return ie.prompts.find(e=>e.prompt_name.toLowerCase().includes("main"))||ie.prompts[0]};De.useEffect(()=>{if((null==ie?void 0:ie.prompts)&&ie.prompts.length>0&&!C){const e=ie.prompts.filter(e=>!e.prompt_name.toLowerCase().includes("subagent")),t=e.find(e=>e.prompt_name.toLowerCase().includes("base_main_prompt"))||e[0];N(t)}},[ie,C]),De.useEffect(()=>{if((null==ie?void 0:ie.prompts)&&ie.prompts.length>0&&C){const e=C.default_variable_values||{};0===Object.keys(F).length&&_(e)}},[ie,C,F]),De.useEffect(()=>{if(K&&J){if(y(J.prompt_name||""),S(J.prompt_tools||[]),I(J.prompt_subagents||[]),_(J.prompt_variables||{}),T(J.mcp_config||[]),J.mcp_config&&Array.isArray(J.mcp_config)){const e=J.mcp_config.map(e=>e.id);M(e)}if(J.icon_id){const e=h.find(e=>e.id===J.icon_id);e&&P(e)}if(J.parent_prompt&&(null==ie?void 0:ie.prompts)){const e=ie.prompts.find(e=>e.prompt_name===J.parent_prompt);e&&N(e)}v(4)}},[K,J,ie]),De.useEffect(()=>{if(K&&(null==ie?void 0:ie.prompts)&&ie.prompts.length>0&&!(null==le?void 0:le.data)&&(null==J?void 0:J.parent_prompt)){const e=J.parent_prompt,t=be();oe(t?{agentName:e,organization_id:t}:e)}},[K,ie,le,J,oe]),De.useEffect(()=>{if(f&&!K&&(y(f.agentName),j(f.systemConstraints),_(f.dynamicVariableValues),S(f.selectedTools),I(f.selectedSubAgents),P(f.selectedIcon),N(f.selectedPrompt),v(f.currentStep),f.selectedMcpServers)){T(f.selectedMcpServers);const e=f.selectedMcpServers.map(e=>e.id);M(e)}},[f,K]);const Ie=De.useCallback(()=>{if(!K){x(yu({tabId:e,formData:{agentName:b,systemConstraints:w,dynamicVariableValues:F,selectedTools:k,selectedSubAgents:E,selectedIcon:L,selectedPrompt:C,currentStep:g,selectedMcpServers:A}}))}},[b,w,F,k,E,L,C,g,A,K,x,e]);De.useEffect(()=>{const e=be();se(e?{organization_id:e}:void 0)},[se,Q,fe,ge]),De.useEffect(()=>{const e=setTimeout(Ie,300);return()=>clearTimeout(e)},[Ie]),De.useEffect(()=>{var e;const t=document.getElementById("system-prompts-readonly");t&&(null==(e=Ee())?void 0:e.prompt)&&(t.style.height="auto",t.style.height=Math.min(t.scrollHeight,500)+"px")},[ie]),De.useEffect(()=>{U.current&&(U.current.scrollTop=0)},[g]),De.useEffect(()=>{if((2===g||4===g)&&C){const e=C.prompt_name,t=be();oe(t?{agentName:e,organization_id:t}:e)}},[g,C,oe,le]);const Ae=De.useMemo(()=>{const e={is_main_agent:!1};if(ve()){const t=be();t&&(e.organization_id=t)}return e},[ve,be]);De.useEffect(()=>{3===g&&ue(Ae)},[g,ue,Ae]),De.useEffect(()=>{if((null==ee?void 0:ee.agent_names)&&C){const e=C.prompt_name,t=ee.agent_names.find(t=>t.name===e);(null==t?void 0:t.sub_agents)&&0===E.length&&I(t.sub_agents)}},[ee,C,E]),De.useEffect(()=>{if((null==le?void 0:le.data)&&Array.isArray(le.data)&&le.data.length>0&&!K){const e=le.data.map(e=>e.name);e.length>0&&S(t=>{const n=[...t];return e.forEach(e=>{n.includes(e)||n.push(e)}),n})}},[le,K]);const Te=(()=>{if(!C)return X9;return(C.dynamic_variables||[]).map((e,t)=>({id:`dynamic-variable-${t}`,title:e.replace(/_/g," ").replace(/\b\w/g,e=>e.toUpperCase()),helpText:`Learn about ${e.toLowerCase()}`,readOnly:!1,showLock:!1,isDynamic:!0,variableName:e}))})(),Me=(e,t)=>{_(n=>({...n,[e]:t}))},Le=(e,t)=>{I(n=>t?n.includes(e)?n:[...n,e]:n.filter(t=>t!==e))},Pe=()=>{const e=`create-subagent-${Date.now()}-${Math.random().toString(36).substring(2,11)}`;q(t=>[...t,{id:e,title:"Create New Subagent",path:"/create-subagent",level:ve()?"organization":"user",organization_id:be(),state:{tabId:e,fromCreateAgent:!0,workspaceContext:{isOrganizationWorkspace:ve(),currentOrganizationId:be()}}}]),W(e)},Re=De.useCallback(()=>{ue(Ae)},[ue,Ae]),Oe=De.useCallback((e,t)=>{const n=Array.isArray(ye)?ye.find(t=>t.id===e):null;n&&(M(n=>t?n.includes(e)?n:[...n,e]:n.filter(t=>t!==e)),T(e=>t?e.find(e=>e.id===n.id)?e:[...e,n]:e.filter(e=>e.id!==n.id)))},[ye]),ze=De.useCallback(e=>A.some(t=>t.id===e),[A]),Be=De.useCallback((e,t)=>{je(),e&&t&&setTimeout(()=>{Oe(e,!0)},100),Z({title:"MCP Server Added",description:"MCP server has been successfully added to your workspace.",duration:5e3})},[je,Z,Oe]),He=De.useCallback(e=>{B.open({onServerAdded:(e,t)=>{je(),e&&t&&setTimeout(()=>{Oe(e,!0)},100),Z({title:"MCP Server Updated",description:"MCP server has been successfully updated and enabled.",duration:5e3})},organizationId:be(),editMode:!0,serverData:e})},[B,je,Z,be,Oe]),$e=De.useCallback(async e=>{var t;try{await Ne({id:e,organization_id:be()}).unwrap();(Array.isArray(ye)?ye.find(t=>t.id===e):null)&&ze(e)&&Oe(e,!1),je(),Z({title:"MCP Server Deleted",description:"MCP server has been successfully deleted.",duration:5e3})}catch(n){Z({title:"Error",description:(null==(t=null==n?void 0:n.data)?void 0:t.error)||"Failed to delete MCP server",variant:"destructive",duration:5e3})}},[Ne,be,ye,ze,Oe,je,Z]),Ue=e=>{var t;const n=null==(t=null==pe?void 0:pe.user_prompts)?void 0:t.find(t=>t.prompt_name===e.name);if(!n)return void Z({title:"Error",description:"Subagent data not found. Please try refreshing.",variant:"destructive",duration:5e3});const s=`edit-subagent-${Date.now()}-${Math.random().toString(36).substring(2,11)}`;q(e=>[...e,{id:s,title:`Edit ${n.prompt_name}`,path:"/create-subagent",level:ve()?"organization":"user",organization_id:be(),state:{tabId:s,editMode:!0,agentData:n,fromCreateAgent:!0,workspaceContext:{isOrganizationWorkspace:ve(),currentOrganizationId:be()}}}]),W(s)},Ve=async()=>{var t,n;try{const s=C,i=null==s?void 0:s.id;if(!i||!s)return void Z({title:"Error",description:"No base prompt selected. Please select a base prompt.",variant:"destructive",duration:5e3});const a=ve()?be():null,r={prompt_name:b||"My Agent",parent_prompt:s.prompt_name,base_prompt_id:i,prompt_subagents:E,prompt_tools:k.length>0?k:null,prompt_variables:F,system_prompt_injection_templates:["integration_playbook_expert_prompt"],is_main_agent:"true",icon_id:L.id,...A.length>0&&{mcp_config:[...D]},...a&&{organization_id:a}};K&&(null==J?void 0:J.id)?await ke({id:J.id,data:r}).unwrap():await Fe(r).unwrap(),V(e),(null==(t=null==Y?void 0:Y.state)?void 0:t.fromManageAgents)||null==(n=null==Y?void 0:Y.state)||n.fromManageAgentsModal,W("home"),K||x(wu({tabId:e})),Z({title:K?"Agent Updated":"Agent Created",description:K?"Your agent has been successfully updated.":"Your agent has been successfully created and saved.",duration:5e3})}catch(s){Z({title:"Error",description:s.error,variant:"destructive",duration:5e3})}},We=De.useCallback(e=>{z.open({data:e,modalType:"tool"})},[z]),qe=De.useCallback(e=>{z.open({data:e,modalType:"subagent"})},[z]),Ge=()=>n.jsx(_A,{open:R,onOpenChange:O,children:n.jsx(AA,{className:"max-w-md p-0 bg-[#18181A] border-[#242424]",children:n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-white",children:"Choose Icon"}),n.jsx(EA,{asChild:!0,children:n.jsx("button",{type:"button","aria-label":"Close icon selection modal",className:"text-[#737780] hover:text-white transition-colors",children:n.jsx(RS,{size:20})})})]}),n.jsx("div",{className:"grid grid-cols-3 gap-4",children:h.map(e=>n.jsx("button",{type:"button",onClick:()=>{P(e),O(!1)},className:`\n                  p-4 rounded-lg border-2 transition-all duration-200 hover:scale-105\n                  ${L.id===e.id?"border-white bg-[#FFFFFF10]":"border-[#262629] bg-[#FFFFFF05] hover:border-[#404040]"}\n                `,children:n.jsxs("div",{className:"flex flex-col items-center gap-2",children:[n.jsx("img",{src:e.icon,alt:e.name,className:"w-8 h-8"}),n.jsx("span",{className:"text-xs text-[#B7BFCC] font-medium",children:e.name})]})},e.id))})]})})});return xe?n.jsx("section",{className:"flex flex-col items-center justify-center min-h-screen p-6 text-center",children:n.jsxs("div",{className:"max-w-md mx-auto",children:[n.jsx("h2",{className:"mb-4 text-2xl font-semibold",children:"Desktop Required"}),n.jsx("p",{className:"mb-6 text-gray-600",children:"Creating agents requires a desktop experience for the best workflow. Please open this page on a desktop or laptop computer."}),n.jsx("div",{className:"text-sm text-gray-500",children:"Switch to desktop to continue"})]})}):n.jsxs("section",{style:{height:"calc(100vh - 56px)"},className:"flex w-full h-full bg-[#0A0A0B] text-white",children:[n.jsx("img",{src:q9,alt:"Background",className:"absolute top-0 left-0 object-cover w-full h-full"}),n.jsx("div",{className:"px-[120px] h-full max-w-[45%] z-[10]  flex items-center justify-center py-8",children:n.jsxs("div",{className:"m-auto space-y-[32px] ",children:[n.jsxs("div",{className:"space-y-4",children:[4!==g&&n.jsx(Pt.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.3},className:"",children:n.jsxs("div",{className:"text-[#F8FF99] flex gap-2 font-medium font-ndot",children:["Step ",n.jsxs("span",{className:"font-ndot",children:[g," / 3"]})]})}),n.jsxs(Pt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},className:"",children:[n.jsx("h1",{className:"mb-4 text-4xl font-semibold leading-tight text-white",children:K&&4===g?`Edit ${X(b||"Agent")}`:null==(a=G9[g])?void 0:a.title}),n.jsx("span",{className:'text-[#737780] text-[14px] font-medium font-["Inter"]',children:null==(r=G9[g])?void 0:r.description})]})]}),n.jsx("div",{className:"h-[1px] bg-[#1F1F21] w-full"}),n.jsx(Pt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"rounded-xl",children:n.jsx("div",{className:"flex items-start gap-4",children:n.jsxs("div",{className:"flex-1",children:[n.jsxs("h2",{className:"flex items-center gap-2 mb-3 text-xl font-semibold text-[#B7BECC]",children:[n.jsx("img",{src:null==(o=G9[g])?void 0:o.icon,alt:null==(l=G9[g])?void 0:l.iconAlt,className:"inline-block w-6 h-6 mb-1"}),null==(c=G9[g])?void 0:c.welcomeTitle]}),1===g&&n.jsx(t9,{items:Z9}),2===g&&n.jsx(t9,{items:K9}),3===g&&n.jsx(t9,{items:J9}),4===g&&n.jsx(t9,{items:Y9}),n.jsx("span",{className:"text-[#ffffff]/80 italic text-[16px] font-medium font-['Inter']",children:null==(d=G9[g])?void 0:d.tips}),4!=g&&n.jsx(g9,{text:(null==(u=G9[g])?void 0:u.learnMoreText)||"Learn More",className:"mt-6",onClick:()=>$(!0)})]})})})]})}),n.jsx("div",{className:"w-[55%] p-6 h-full overflow-hidden relative",children:n.jsxs("div",{className:"border w-full h-full bg-[#18181A] rounded-[8px] border-[#222224] relative flex flex-col",children:[n.jsx("div",{ref:U,className:"scrollable-content-area flex-1 overflow-y-auto pt-[56px] pb-[105px]",children:1===g?n.jsxs("div",{className:"space-y-[40px] pb-[40px]",children:[n.jsxs("div",{className:"flex flex-col gap-3 px-[40px]",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(v9,{size:24,color:"#FFFFFF"}),n.jsx("h2",{className:"text-[16px] font-medium text-[#FFFFFF4D]",children:"Basic Info"})]}),n.jsx("div",{className:"flex rounded-[16px] w-full gap-6 p-8 border border-[#222224] ",children:n.jsxs("div",{className:"flex flex-col w-full gap-6",children:[n.jsxs("div",{className:"flex items-center gap-6",children:[n.jsxs("div",{className:"flex flex-col w-full gap-3",children:[n.jsx("div",{className:"flex items-center justify-between",children:n.jsx(qA,{htmlFor:"agent-name",className:"font-['Inter'] font-medium text-[#e4eeff]",children:"Agent Name"})}),n.jsx(qS,{id:"agent-name",value:K?X(b):b,onChange:e=>y(e.target.value.replace(/[\u00A0\u1680\u2000-\u200B\u202F\u205F\u3000]/g," ").replace(/[\u2010-\u2015]/g,"-").replace(/\s+/g," ")),placeholder:"For eg : Research Agent, Automation Engineer, ...",disabled:K,className:"!bg-[#FFFFFF05] font-['Inter'] h-[56px] max-h-[56px] !text-[16px] border-[#262629] text-white placeholder:text-white/20 focus:border-white/30 focus:ring-0 focus-visible:ring-0 focus-visible:ring-offset-0 [&:-webkit-autofill]:!bg-[#FFFFFF05] [&:-webkit-autofill]:text-white [&:-webkit-autofill]:shadow-[inset_0_0_0px_1000px_rgba(255,255,255,0.02)] [&:-webkit-autofill:hover]:!bg-[#FFFFFF05] [&:-webkit-autofill:focus]:!bg-[#FFFFFF05] [&:-webkit-autofill:active]:!bg-[#FFFFFF05] disabled:opacity-60 disabled:cursor-not-allowed"})]}),n.jsxs("div",{className:"flex flex-col gap-3",children:[n.jsx(qA,{htmlFor:"agent-icon",className:"font-['Inter'] font-medium text-[#e4eeff]",children:"Icon"}),n.jsx("button",{type:"button",onClick:()=>O(!0),className:"max-h-[56px] h-[56px] min-w-[56px] flex items-center justify-center rounded-[8px] border-[#262629] bg-[#FFFFFF05] border hover:border-[#404040] hover:bg-[#FFFFFF10] transition-all duration-200",children:n.jsx("img",{src:L.icon,alt:L.name,className:"w-7 h-7"})})]})]}),n.jsxs("div",{className:"flex flex-col gap-3",children:[n.jsx(qA,{htmlFor:"prompt-selection",className:"font-['Inter'] font-medium text-[#e4eeff]",children:"Select Template"}),n.jsxs(OS,{value:(null==C?void 0:C.id)||"",onValueChange:e=>{var t;const n=null==(t=null==ie?void 0:ie.prompts)?void 0:t.find(t=>t.id===e);if(n){N(n);const e=n.default_variable_values||{};_(e),I([])}},disabled:K,children:[n.jsx(BS,{className:"!bg-[#FFFFFF05] font-['Inter'] h-[56px] max-h-[56px] !text-[16px] border-[#262629] text-white focus:border-white/30 focus:ring-0 focus-visible:ring-0 focus-visible:ring-offset-0 disabled:opacity-60 disabled:cursor-not-allowed",children:n.jsx(zS,{placeholder:"Select a base prompt",children:C?C.display_name||X(C.prompt_name):"Select a base prompt"})}),n.jsx(US,{className:"bg-[#18181A] border-[#262629]",children:null==(p=null==ie?void 0:ie.prompts)?void 0:p.filter(e=>!e.prompt_name.toLowerCase().includes("subagent")).map(e=>n.jsx(VS,{value:e.id,className:"text-white hover:bg-[#222224] focus:bg-[#222224]",children:e.display_name||X(e.prompt_name)},e.id))})]})]})]})})]}),n.jsxs("div",{className:"flex flex-col gap-3 px-[40px]",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(y9,{size:24,color:"#FFFFFF"}),n.jsx("h2",{className:"text-[16px] font-medium text-[#FFFFFF4D]",children:"Agent Prompt"})]}),n.jsx("div",{className:"flex flex-col gap-12 border border-[#222224] p-8  rounded-[16px]",children:ae?n.jsx(p9,{count:3}):re?n.jsx("div",{className:"flex items-center justify-center py-8",children:n.jsx("div",{className:"text-red-400",children:"Error loading prompts. Using default sections."})}):n.jsxs(n.Fragment,{children:[Te.map(e=>n.jsx(s9,{section:e,value:w,onChange:j,dynamicVariableValues:F,onDynamicVariableChange:Me},e.id)),n.jsx(s9,{section:{id:"system-prompts-readonly",title:"System Constraints",helpText:"Learn about system prompts",readOnly:!0,showLock:!0,isDynamic:!1},value:(null==(m=Ee())?void 0:m.prompt)||"",onChange:()=>{}},"system-prompts")]})})]})]}):2===g?n.jsxs("div",{className:"space-y-[40px] pb-[40px]",children:[n.jsxs("div",{className:"flex flex-col gap-3 px-[40px]",children:[n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{className:"flex flex-col gap-[10px]",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ME,{size:24,color:"#FFFFFF"}),n.jsx("h2",{className:" font-medium text-[#FFFFFF]",children:"MCP Tools"})]}),n.jsx("span",{className:"text-[#737780] font-inter font-medium",children:"Allow agent to directly interact with apps, data, and tools on your computer."})]})}),n.jsx("div",{className:" bg-[#1D1D1F] rounded-[16px] overflow-clip p-4",children:n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex gap-4 p-4 mb-4 rounded-[12px] bg-[#FFFFFF08] cursor-pointer hover:bg-[#FFFFFF08] transition-colors",onClick:()=>B.open({onServerAdded:Be,organizationId:be()}),children:[n.jsx("div",{className:"flex items-center justify-center bg-[#313133] rounded-full h-10 w-10",children:n.jsx(S9,{size:24})}),n.jsxs("div",{className:"flex flex-col gap-[2px]",children:[n.jsx("span",{className:"text-[#B7BFCC] font-medium",children:"New MCP Server"}),n.jsx("span",{className:"text-[#737780] font-medium font-inter text-[14px]",children:"Add a Custom MCP server"})]})]}),we?n.jsx("div",{className:"flex items-center justify-center py-4",children:n.jsx("div",{className:"w-6 h-6 border-2 border-[#737780] border-t-transparent rounded-full animate-spin"})}):ye&&Array.isArray(ye)&&ye.length>0?[...ye].sort((e,t)=>new Date(t.created_at).getTime()-new Date(e.created_at).getTime()).map(e=>{const t=ze(e.id);return n.jsx(I9,{server:e,isEnabled:t,onToggle:t=>Oe(e.id,t),onEdit:()=>He(e),onDelete:()=>$e(e.id)},e.id)}):null]})})]}),n.jsxs("div",{className:"flex flex-col gap-3 px-[40px]",children:[n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(b9,{size:24,color:"#FFFFFF"}),n.jsx("h2",{className:" font-medium text-[#FFFFFF4D]",children:"Specialized Tools"})]})}),n.jsx("div",{className:"border border-[#222224] rounded-[16px] overflow-clip p-4",children:ce?n.jsx(d9,{count:5}):de?n.jsx("div",{className:"flex items-center justify-center py-8",children:n.jsx("div",{className:"text-red-400",children:"Error loading tools. Using default tools."})}):(null==le?void 0:le.data)&&Array.isArray(le.data)&&le.data.length>0?le.data.filter(e=>!e.necessary_tool).map(e=>n.jsx(i9,{tool:e,isSelected:k.includes(e.name),onCheckedChange:t=>((e,t)=>{var n;const s=null==(n=null==le?void 0:le.data)?void 0:n.find(t=>t.name===e);(null==s?void 0:s.necessary_tool)||S(n=>t?n.includes(e)?n:[...n,e]:n.filter(t=>t!==e))})(e.name,t),isNecessary:!1,onViewDetails:We},e.name)):n.jsx("div",{className:"py-8 text-center",children:n.jsx("p",{className:"text-[#8A8F98]",children:"No optional tools available"})})})]}),n.jsxs("div",{className:"flex flex-col gap-3 px-[40px]",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(LE,{size:24,color:"#FFFFFF",className:"opacity-20"}),n.jsxs("h2",{className:" font-medium text-[#FFFFFF4D]",children:["Default Tools"," "]})]}),n.jsx("div",{className:"border border-[#222224] rounded-[16px] overflow-clip p-4",children:(null==le?void 0:le.data)&&Array.isArray(le.data)&&le.data.filter(e=>e.necessary_tool).length>0?le.data.filter(e=>e.necessary_tool).map(e=>n.jsx(i9,{tool:e,isSelected:!0,onCheckedChange:void 0,isNecessary:!0,onViewDetails:We},e.name)):n.jsx("div",{className:"py-8 text-center",children:n.jsx("p",{className:"text-[#8A8F98]",children:"No Default tools available"})})})]})]}):3===g?n.jsxs("div",{className:"space-y-[40px] pb-[40px]",children:[n.jsxs("div",{className:"flex items-center gap-3 p-4 bg-[#222224] rounded-[9px] mx-[40px]",children:[n.jsx(v9,{size:24,color:"#808080",fillOpacity:1}),n.jsx("p",{className:"text-[#808080] text-sm font-inter font-medium",children:"Subagents handle specialized tasks. Create a new subagent or select from existing ones."})]}),n.jsxs("div",{className:"flex flex-col gap-3 px-[40px]",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(b9,{size:24,color:"#FFFFFF"}),n.jsx("h2",{className:" font-medium text-[#FFFFFF4D]",children:"Your Subagents"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("button",{title:"Refresh",type:"button",onClick:Re,disabled:me,className:"flex items-center gap-2 px-3 py-2 text-sm font-medium text-[#FFFFFF4D] rounded-lg hover:bg-[#FFFFFF10] transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:n.jsx(NS,{className:"w-4 h-4 "+(me?"animate-spin":"")})}),(null==pe?void 0:pe.user_prompts)&&(null==pe?void 0:pe.user_prompts.length)>0&&n.jsxs("button",{type:"button",onClick:Pe,className:"bg-[#DD99FF0D] font-medium max-h-[40px] text-[#DD99FF] flex max-md:text-[13px] items-center gap-2 p-2 pr-3 rounded-[10px]",children:[n.jsx(cT,{size:24,color:"#DD99FF"}),"Add New Subagent"]})]})]}),n.jsx("div",{className:"border border-[#222224] rounded-[16px] overflow-clip p-4",children:me?n.jsx(u9,{count:3}):he?n.jsx("div",{className:"flex items-center justify-center py-8",children:n.jsx("div",{className:"text-red-400",children:"Error loading subagents. Please try refreshing."})}):(null==pe?void 0:pe.user_prompts)&&pe.user_prompts.length>0?pe.user_prompts.map(e=>n.jsx(a9,{subAgent:{name:e.prompt_name,skill_description:e.skill_description},isSelected:E.includes(e.prompt_name),onCheckedChange:t=>Le(e.prompt_name,t),isApiSubAgent:!0,isDefault:!1,onViewDetails:qe,onEdit:Ue},e.id)):n.jsx("div",{className:"p-2 border-2 border-[#444] rounded-[16px]  border-dashed border-[#DD99FF33] transition-colors cursor-pointer hover:border-[#DD99FF50]",onClick:Pe,children:n.jsxs("div",{className:"flex flex-col rounded-[12px] bg-[#DD99FF05] p-6 items-center gap-[10px] text-center",children:[n.jsxs("h3",{className:"flex items-center gap-2 font-medium text-[#DD99FF]",children:[n.jsx(cT,{size:24,color:"#DD99FF"}),"Create a New Subagent"]}),n.jsx("p",{className:"text-[#DD99FF]/50 text-[14px] font-medium font-['Inter']",children:"Your agent will be able to delegate tasks to these subagents"})]})})})]}),n.jsxs("div",{className:"flex flex-col gap-3 px-[40px]",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(w9,{size:24,color:"#FFFFFF"}),n.jsx("h2",{className:" font-medium text-[#FFFFFF4D]",children:"Emergent Subagents"})]}),n.jsx("div",{className:"border border-[#222224] rounded-[16px] overflow-clip p-4",children:te?n.jsx(u9,{count:4}):(null==ee?void 0:ee.agent_names)&&C?(()=>{const e=C.prompt_name,t=ee.agent_names.find(t=>t.name===e);return(null==t?void 0:t.sub_agents)?t.sub_agents.map(e=>{var t;const s=null==(t=null==ee?void 0:ee.skills_description)?void 0:t.find(t=>t[e]),i=null==s?void 0:s[e],a=(null==i?void 0:i.short_desc)||(null==i?void 0:i.description)||"Emergent sub-agent";return n.jsx(a9,{subAgent:{name:(null==i?void 0:i.display_name)||e,description:(null==i?void 0:i.description)||"Emergent sub-agent",skill_description:a},isSelected:E.includes(e),onCheckedChange:t=>Le(e,t),isApiSubAgent:!0,isDefault:!0,onViewDetails:qe},e)}):n.jsx("div",{className:"flex items-center justify-center py-8",children:n.jsx("div",{className:"text-[#8A8F98]",children:"No sub-agents found for this agent."})})})():n.jsx("div",{className:"flex items-center justify-center py-8",children:n.jsx("div",{className:"text-[#8A8F98]",children:"No sub-agents found for this agent."})})})]})]}):4===g?n.jsxs("div",{className:"space-y-[40px] px-[40px] pb-[40px]",children:[n.jsxs("div",{className:"space-y-[10px]",children:[n.jsx("div",{className:"flex flex-col gap-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(v9,{size:24,color:"#FFFFFF"}),n.jsx("h2",{className:"font-medium text-[#FFFFFF4D]",children:"Main Agent Info"})]}),n.jsx(t7,{onClick:()=>v(1),children:"Edit"})]})}),n.jsxs("div",{className:"flex flex-col rounded-[16px] w-full gap-6 py-6 px-8 border border-[#222224]",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("div",{className:"font-medium text-[20px] h-[56px] max-h-[56px] flex items-center text-white",children:K?X(b||"My Agent"):b||"My Agent"}),n.jsx("div",{className:"max-h-[56px] h-[56px] max-w-[56px] w-[56px] flex items-center justify-center rounded-full bg-[#FFFFFF0D]",children:n.jsx("img",{src:L.icon,alt:L.name,className:"w-7 h-7"})})]}),Object.keys(F).length>0&&n.jsx(n.Fragment,{children:Object.entries(F).map(([e,t])=>n.jsx(s9,{section:{id:`review-${e}`,title:e.replace(/_/g," ").replace(/\b\w/g,e=>e.toUpperCase()),helpText:`Learn about ${e.toLowerCase()}`,readOnly:!0,showLock:!1,isDynamic:!1},value:t||"No value set",onChange:()=>{}},e))})]})]}),ne?n.jsx(n.Fragment,{children:A.length>0&&n.jsxs("div",{className:"space-y-[10px]",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ME,{size:24,color:"#FFFFFF"}),n.jsx("h2",{className:" font-medium text-[#FFFFFF4D]",children:"Selected MCP Servers"})]}),n.jsx(t7,{onClick:()=>v(2),children:"Edit"})]}),n.jsx("div",{className:"border border-[#222224] rounded-[16px] overflow-clip p-4",children:n.jsx("div",{className:"space-y-3",children:A.map(e=>{var t;if(!(null==(t=e.mcp_config)?void 0:t.mcpServers))return null;const s=e.display_name;return n.jsxs("div",{className:"flex gap-4 p-4 rounded-[12px]",children:[n.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-full bg-[#272729]",children:n.jsx(ME,{size:20,color:"#FFFFFF"})}),n.jsxs("div",{className:"flex flex-col gap-[2px] flex-1",children:[n.jsx("span",{className:"text-[#B7BFCC] font-medium",children:s}),n.jsx("span",{className:"text-[#B7BFCC] font-medium",children:e.description})]})]},s)})})})]})}):null,n.jsxs("div",{className:"space-y-[10px]",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(b9,{size:24,color:"#FFFFFF"}),n.jsx("h2",{className:" font-medium text-[#FFFFFF4D]",children:"Selected Tools"})]}),n.jsx(t7,{onClick:()=>v(2),children:"Edit"})]}),n.jsx("div",{className:"border border-[#222224] rounded-[16px] overflow-clip p-4",children:k.length>0?n.jsx("div",{className:"space-y-3",children:k.map(e=>{var t;const s=null==(t=null==le?void 0:le.data)?void 0:t.find(t=>t.name===e);return n.jsx(i9,{tool:s||{name:e},isSelected:!0,hideToggle:!0,onViewDetails:We},e)})}):n.jsx("div",{className:"flex items-center justify-center py-8",children:n.jsx("p",{className:"text-[#8A8F98] text-sm",children:"No tools selected"})})})]}),n.jsxs("div",{className:"flex flex-col gap-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(LE,{size:24,color:"#FFFFFF",className:"opacity-20"}),n.jsx("h2",{className:" font-medium text-[#FFFFFF4D]",children:"Selected Sub-agents"})]}),n.jsx(t7,{onClick:()=>v(3),children:"Edit"})]}),n.jsx("div",{className:"border border-[#222224] rounded-[16px] overflow-clip p-4",children:E.length>0?n.jsx("div",{className:"space-y-3",children:E.map(e=>{var t,s;const i=null==(t=null==pe?void 0:pe.user_prompts)?void 0:t.find(t=>t.prompt_name===e),a=Q9.find(t=>t.name===e),r=Boolean((null==ee?void 0:ee.agent_names)&&C&&(()=>{var t;const n=C.prompt_name,s=ee.agent_names.find(e=>e.name===n);return null==(t=null==s?void 0:s.sub_agents)?void 0:t.includes(e)})()),o=null==(s=null==ee?void 0:ee.skills_description)?void 0:s.find(t=>t[e]),l=null==o?void 0:o[e],c=(null==l?void 0:l.short_desc)||(null==l?void 0:l.description)||"Emergent sub-agent",d={name:(null==l?void 0:l.display_name)||e,description:i?i.description||"Custom sub-agent":r?(null==l?void 0:l.description)||"Default sub-agent":(null==a?void 0:a.description)||"Sub-agent description",skill_description:(null==i?void 0:i.skill_description)||c};return n.jsx(a9,{subAgent:d,isSelected:!0,isApiSubAgent:r,isDefault:!1,hideToggle:!0,onViewDetails:qe},e)})}):n.jsx("div",{className:"flex items-center justify-center py-8",children:n.jsx("p",{className:"text-[#8A8F98] text-sm",children:"No sub-agents selected"})})})]})]}):null}),n.jsx("div",{className:"absolute bottom-0 left-0 right-0 border-t-[1px] rounded-b-[8px] z-[99] py-7 px-6 h-[105px] bg-[#1A1A1C] border-[#262629]",children:n.jsxs("div",{className:"flex items-center justify-between",children:[g>1?n.jsxs("button",{type:"button",onClick:()=>{v(g-1),U.current&&(U.current.scrollTop=0)},className:"flex items-center gap-2 px-6 py-3 font-semibold text-[#939399] bg-[#222224] hover:bg-[#FFFFFF10] rounded-full transition-colors",children:[n.jsx("img",{src:M9,alt:"Previous",className:"w-5 h-5"}),"Previous Step"]}):n.jsx("div",{}),n.jsx("button",{type:"button",onClick:()=>{fg(eE.MANAGE_AGENTS_EVENTS.NEW_AGENT_CREATION,{currentStep:g}),g<4?(v(g+1),U.current&&(U.current.scrollTop=0)):Ve()},disabled:_e||Se||!(()=>{if(1===g){if(0===b.trim().length)return!1;const e=Ee();if(null==e?void 0:e.dynamic_variables)for(const t of e.dynamic_variables){const e=F[t];if(!e||0===e.trim().length)return!1}return!0}return 4!==g||b.trim().length>0&&(null==ie?void 0:ie.prompts)&&ie.prompts.length>0})(),className:fb("flex items-center gap-2 px-6 py-3 font-semibold text-black bg-white rounded-full hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed",{"bg-[#5FE55C] hover:bg-[#5FE55C90]":4===g}),children:(_e||Se)&&4===g?n.jsxs(n.Fragment,{children:[K?"Updating Agent...":"Creating Agent...",n.jsx("div",{className:"w-4 h-4 border-2 border-black rounded-full border-t-transparent animate-spin"})]}):n.jsxs(n.Fragment,{children:[4===g&&K?"Update Your Agent":e7[g],n.jsx("img",{src:D9,alt:"Next",className:"w-5 h-5"})]})})]})})]})}),n.jsx(Ge,{}),n.jsx(k9,{isOpen:H,onOpenChange:$,currentStep:g})]})},s7=gv.pro.workbench,i7=gv.common.controls,a7=gv.pro.bgSvg,r7=gv.pro.nextArrow,o7=gv.pro.backGray,l7={1:{title:"Define your Sub-Agent",description:"Sub-agents are your agent's specialist consultantshighly focused AI helpers that excel in specific domains.",icon:s7,iconAlt:"Workbench",welcomeTitle:"Creating a Sub-Agent on Emergent",learnMoreText:"Learn about subagent design",tips:"The clearer you are, the better your Sub Agent performs."},2:{title:"Select Tools",description:"Equip your agent with the right capabilities: Tools are essential for your Sub Agent to operate and work. Please choose the specialized tools required by your Agent as per your needs and goals. ",icon:i7,iconAlt:"Tools",welcomeTitle:"What exactly are tools?",learnMoreText:"Learn about tools",tips:"The tools selected by default are mandatorily required by the agents to function."}},c7=[{text:"Name your sub-agent based on its specialty and role"},{text:"Give your subagent a definition, based on when to call and why to call. The main agent uses subagent definition to call subagent, and determine if their expertise is needed."},{text:"Map their workflow, define the step-by-step approach to approach the required task"},{text:"Include guidelines, best practices, constraints, and things to avoid"}],d7=[{text:"Each tool serves a specific function in your agent's workflow, choose them wisely"},{text:"Include only essential tools to keep your agent focused and contextually aware, do not overload with too many tools"},{text:"Choose tools that directly support your agent's core objectives"}],u7=[{id:"system-constraints-1",title:"System Constraints",helpText:"What are system constraints",readOnly:!0,showLock:!0},{id:"system-constraints-2",title:"System Constraints 2",helpText:"What are system constraints",readOnly:!0,showLock:!0},{id:"system-prompt",title:"System Prompt",helpText:"Learn about system prompts",readOnly:!0,showLock:!1}],p7={1:"Continue to Add Tools",2:"Save Your Subagent"},m7={1:"Continue to Add Tools",2:"Update Your Subagent"},h7=({tabId:e})=>{var t,s,i,a,r,o,l,c,d,u,p;const m=jt(),h=wt(t=>((e,t)=>{var n;return null==(n=e.tabs.tabStates[t])?void 0:n.createSubagentFormData})(t,e)),[x,f]=De.useState(1),[g,v]=De.useState(""),[b,y]=De.useState(""),[w,j]=De.useState("You are a helpful AI assistant. Always follow safety guidelines You are a"),[C,N]=De.useState({}),[F,_]=De.useState([]),k=GE(),[S,E]=De.useState(!1),I=De.useRef(null),{removeTab:A,setActiveTab:T,getActiveTab:D,getAllTabs:M}=Oee(),{toast:L}=on(),{isMobile:P}=QE(),{isOrganizationWorkspace:R,getCurrentOrganizationId:O}=Kg(),z=()=>(null==U?void 0:U.currentOrganizationId)??(R()?O():void 0),B=D(),H=(null==(t=null==B?void 0:B.state)?void 0:t.editMode)||!1,$=null==(s=null==B?void 0:B.state)?void 0:s.agentData,U=null==(i=null==B?void 0:B.state)?void 0:i.workspaceContext,[V,{data:W,isLoading:q,error:G}]=Af(),[Z,{data:Y,isLoading:K,error:J}]=Tf(),[Q,{isLoading:X}]=Pf(),[ee,{isLoading:te}]=Rf();De.useEffect(()=>{h&&""===g&&0===F.length&&(v(h.subagentName),y(h.subagentGuidelines),j(h.systemConstraints),N(h.dynamicVariableValues),_(h.selectedTools),f(h.currentStep))},[h]),De.useEffect(()=>{H&&$&&(v($.prompt_name||""),y($.skill_description||$.description||""),_($.prompt_tools||[]),N($.prompt_variables||{}),f(2))},[H,$]);const ne=De.useCallback(()=>{m(ju({tabId:e,formData:{subagentName:g,subagentGuidelines:b,systemConstraints:w,dynamicVariableValues:C,selectedTools:F,currentStep:x}}))},[g,b,w,C,F,x,m,e]);De.useEffect(()=>{const e=setTimeout(ne,300);return()=>clearTimeout(e)},[ne]),De.useEffect(()=>{I.current&&(I.current.scrollTop=0)},[x]),De.useEffect(()=>{const e=z();V(e?{organization_id:e}:void 0)},[V,U,R,O]),De.useEffect(()=>{if((null==W?void 0:W.prompts)&&W.prompts.length>0){const e=se();if(e){const t=e.default_variable_values||{};0===Object.keys(C).length&&N(t)}}},[W,C]);const se=()=>{if(!(null==W?void 0:W.prompts)||0===W.prompts.length)return null;return W.prompts.find(e=>e.prompt_name.toLowerCase().includes("subagent"))||W.prompts[0]};De.useEffect(()=>{if(2===x&&(null==W?void 0:W.prompts)&&W.prompts.length>0){const e=se();if(e){const t=e.prompt_name,n=z();Z(n?{agentName:t,organization_id:n}:t)}}},[x,W,Z]),De.useEffect(()=>{var e;const t=document.getElementById("system-prompts-readonly");t&&(null==(e=se())?void 0:e.prompt)&&(t.style.height="auto",t.style.height=Math.min(t.scrollHeight,500)+"px")},[W]),De.useEffect(()=>{if((null==Y?void 0:Y.data)&&Array.isArray(Y.data)&&Y.data.length>0&&!H){const e=Y.data.map(e=>e.name);e.length>0&&_(t=>{const n=[...t];return e.forEach(e=>{n.includes(e)||n.push(e)}),n})}},[Y,H]);const ie=(()=>{if(!(null==W?void 0:W.prompts)||0===W.prompts.length)return u7;const e=se();if(!e)return u7;return(e.dynamic_variables||[]).map((e,t)=>({id:`dynamic-variable-${t}`,title:e.replace(/_/g," ").replace(/\b\w/g,e=>e.toUpperCase()),helpText:`Learn about ${e.toLowerCase()}`,readOnly:!1,showLock:!1,isDynamic:!0,variableName:e}))})(),ae=(e,t)=>{N(n=>({...n,[e]:t}))},re=async()=>{var t,n;try{const s=se(),i=null==s?void 0:s.id;if(!i||!(null==W?void 0:W.prompts)||0===W.prompts.length||!s)return void L({title:"Error",description:"No subagent base prompt available. Please try again.",variant:"destructive",duration:5e3});const a=(null==U?void 0:U.isOrganizationWorkspace)??R()?z():null,r={prompt_name:g||"My Subagent",description:b||"",skill_description:b,parent_prompt:s.prompt_name,base_prompt_id:i,prompt_subagents:[],prompt_tools:F.length>0?F:null,prompt_variables:C,system_prompt_injection_templates:["integration_playbook_expert_prompt"],is_main_agent:"false",...a&&{organization_id:a}};H&&(null==$?void 0:$.id)?await ee({id:$.id,data:r}).unwrap():await Q(r).unwrap(),A(e);const o=M().find(e=>"/create-agent"===e.path);o?T(o.id):((null==(t=null==B?void 0:B.state)?void 0:t.fromManageAgents)||null==(n=null==B?void 0:B.state)||n.fromManageAgentsModal,T("home")),H||m(Cu({tabId:e})),L({title:H?"Subagent Updated":"Subagent Created",description:`Your subagent has been successfully ${H?"updated":"created"} and saved.`,duration:5e3})}catch(s){L({title:"Error",description:s.error,variant:"destructive",duration:5e3})}},oe=e=>{k.open({data:e,modalType:"tool"})};return P?n.jsx("section",{className:"flex flex-col items-center justify-center min-h-screen p-6 text-center",children:n.jsxs("div",{className:"max-w-md mx-auto",children:[n.jsx("h2",{className:"mb-4 text-2xl font-semibold",children:"Desktop Required"}),n.jsx("p",{className:"mb-6 text-gray-600",children:"Creating subagents requires a desktop experience for the best workflow. Please open this page on a desktop or laptop computer."}),n.jsx("div",{className:"text-sm text-gray-500",children:"Switch to desktop to continue"})]})}):n.jsxs("section",{style:{height:"calc(100vh - 56px)"},className:"flex w-full h-full bg-[#0A0A0B] text-white",children:[n.jsx("img",{src:a7,alt:"Background",className:"absolute top-0 left-0 object-cover w-full h-full"}),n.jsx("div",{className:"px-[120px] h-full max-w-[45%] z-[10]  flex items-center justify-center py-8",children:n.jsxs("div",{className:"m-auto space-y-[32px] ",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx(Pt.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.3},className:"",children:n.jsxs("div",{className:"text-[#DD99FF] flex gap-2 font-medium font-ndot",children:["Step ",n.jsxs("span",{className:"font-ndot",children:[x," / 2"]})]})}),n.jsxs(Pt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},className:"",children:[n.jsx("h1",{className:"mb-4 text-4xl font-semibold leading-tight text-white",children:null==(a=l7[x])?void 0:a.title}),n.jsx("span",{className:'text-[#737780] text-[14px] font-medium font-["Inter"]',children:null==(r=l7[x])?void 0:r.description})]})]}),n.jsx("div",{className:"h-[1px] bg-[#1F1F21] w-full"}),n.jsx(Pt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"rounded-xl",children:n.jsx("div",{className:"flex items-start gap-4",children:n.jsxs("div",{className:"flex-1",children:[n.jsxs("h2",{className:"flex items-center gap-2 mb-3 text-xl font-semibold text-[#B7BECC]",children:[n.jsx("img",{src:null==(o=l7[x])?void 0:o.icon,alt:null==(l=l7[x])?void 0:l.iconAlt,className:"inline-block w-6 h-6 mb-1"}),null==(c=l7[x])?void 0:c.welcomeTitle]}),1===x&&n.jsx(t9,{items:c7}),2===x&&n.jsx(t9,{items:d7}),n.jsx("span",{className:"text-[#ffffff]/80 italic text-[16px] font-medium font-['Inter']",children:null==(d=l7[x])?void 0:d.tips}),n.jsx(g9,{text:(null==(u=l7[x])?void 0:u.learnMoreText)||"Learn More",className:"mt-6",onClick:()=>E(!0)})]})})})]})}),n.jsx("div",{className:"w-[55%] p-6 h-full overflow-hidden relative",children:n.jsxs("div",{className:"border w-full h-full bg-[#18181A] rounded-[8px] border-[#222224] relative flex flex-col",children:[n.jsx("div",{ref:I,className:"scrollable-content-area flex-1 overflow-y-auto pt-[56px] pb-[105px]",children:n.jsx(Pt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},className:"space-y-[40px] px-[40px] pb-[40px]",children:1===x?n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex flex-col gap-3",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(v9,{size:24,color:"#FFFFFF"}),n.jsx("h2",{className:" font-medium text-[#FFFFFF4D]",children:"Basic Info"})]}),n.jsxs("div",{className:"flex flex-col rounded-[16px] w-full gap-6 p-8 border border-[#222224] ",children:[n.jsxs("div",{className:"flex flex-col w-full gap-3 ",children:[n.jsx("div",{className:"flex items-center justify-between",children:n.jsx(qA,{htmlFor:"subagent-name",className:"font-['Inter'] font-medium text-[#e4eeff]",children:"Subagent Name"})}),n.jsx(qS,{id:"subagent-name",value:H?(le=g,le.replace(/_/g," ").replace(/\b\w/g,e=>e.toUpperCase())):g,onChange:e=>v(e.target.value),placeholder:"For eg : Integration agent, Support agent",disabled:H,className:"!bg-[#FFFFFF05] font-['Inter'] h-[56px] max-h-[56px] !text-[16px] border-[#262629] text-white placeholder:text-white/20 focus:border-white/30 focus:ring-0 focus-visible:ring-0 focus-visible:ring-offset-0 [&:-webkit-autofill]:!bg-[#FFFFFF05] [&:-webkit-autofill]:text-white [&:-webkit-autofill]:shadow-[inset_0_0_0px_1000px_rgba(255,255,255,0.02)] [&:-webkit-autofill:hover]:!bg-[#FFFFFF05] [&:-webkit-autofill:focus]:!bg-[#FFFFFF05] [&:-webkit-autofill:active]:!bg-[#FFFFFF05] disabled:opacity-60 disabled:cursor-not-allowed"})]}),n.jsxs("div",{className:"flex flex-col w-full gap-3",children:[n.jsx("div",{className:"flex items-center justify-between",children:n.jsx(qA,{htmlFor:"subagent-guidelines",className:"font-['Inter'] font-medium text-[#e4eeff]",children:"Sub-agent Definition"})}),n.jsx(jE,{id:"subagent-guidelines",value:b,onChange:e=>y(e.target.value),placeholder:"Brief description of what this subagent does and when it should be called.",className:"!bg-[#FFFFFF05] font-['Inter'] p-4 min-h-[120px] border-[#262629] text-white placeholder:text-white/20 focus:border-white/30 focus:ring-0 focus-visible:ring-0 focus-visible:ring-offset-0 resize-none"})]})]})]}),n.jsxs("div",{className:"flex flex-col gap-3",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(y9,{size:24,color:"#FFFFFF"}),n.jsx("h2",{className:" font-medium text-[#FFFFFF4D]",children:"Subagent Prompt"})]}),n.jsxs("div",{className:"flex flex-col gap-12 border border-[#222224] p-10 px-8 rounded-[16px]",children:[q?n.jsx(p9,{count:3}):G?n.jsx("div",{className:"flex items-center justify-center py-8",children:n.jsx("div",{className:"text-red-400",children:"Error loading prompts. Using default sections."})}):n.jsx(n.Fragment,{children:ie.map(e=>n.jsx(s9,{section:e,value:w,onChange:j,dynamicVariableValues:C,onDynamicVariableChange:ae},e.id))}),n.jsx(s9,{section:{id:"system-prompts-readonly",title:"System Constraints",helpText:"Learn about system prompts",readOnly:!0,showLock:!0,isDynamic:!1},value:(null==(p=se())?void 0:p.prompt)||"",onChange:()=>{}},"system-prompts")]})]})]}):2===x?n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex items-center gap-3 p-4 bg-[#FFAE6614] rounded-[8px]",children:[n.jsx(v9,{size:24,color:"#FFAE66",fillOpacity:.7}),n.jsx("p",{className:"text-[#FFAE66B2] text-sm font-medium",children:"Select only the tools relevant to your use case. Adding too many tools can reduce performance."})]}),n.jsxs("div",{className:"flex flex-col gap-3",children:[n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(b9,{size:24,color:"#FFFFFF"}),n.jsx("h2",{className:"font-medium text-[#FFFFFF4D]",children:"Specialized Tools"})]})}),n.jsx("div",{className:"border border-[#222224] rounded-[16px] overflow-clip p-4",children:K?n.jsx(d9,{count:5}):J?n.jsx("div",{className:"flex items-center justify-center py-8",children:n.jsx("div",{className:"text-red-400",children:"Error loading tools. Using default tools."})}):(null==Y?void 0:Y.data)&&Array.isArray(Y.data)&&Y.data.length>0&&Y.data.filter(e=>!e.necessary_tool).length>0?Y.data.filter(e=>!e.necessary_tool).map(e=>n.jsx(i9,{tool:e,isSelected:F.includes(e.name),onCheckedChange:t=>((e,t)=>{const n=(null==Y?void 0:Y.data)&&Array.isArray(Y.data)?Y.data.find(t=>t.name===e):void 0;(null==n?void 0:n.necessary_tool)||_(n=>t?n.includes(e)?n:[...n,e]:n.filter(t=>t!==e))})(e.name,t),variant:"subagent",isNecessary:!1,onViewDetails:oe},e.name)):n.jsx("div",{children:n.jsx("p",{className:"text-[#8A8F98] text-sm text-center p-8",children:"No tools available"})})})]}),n.jsxs("div",{className:"flex flex-col gap-3",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(LE,{size:24,color:"#FFFFFF",className:"opacity-20"}),n.jsx("h2",{className:" font-medium text-[#FFFFFF4D]",children:"Default Tools"})]}),n.jsx("div",{className:"border border-[#222224] rounded-[16px] overflow-clip p-4",children:K?n.jsx(d9,{count:2}):(null==Y?void 0:Y.data)&&Array.isArray(Y.data)&&Y.data.filter(e=>e.necessary_tool).length>0?Y.data.filter(e=>e.necessary_tool).map(e=>n.jsx(i9,{tool:e,isSelected:!0,onCheckedChange:void 0,variant:"subagent",isNecessary:!0,onViewDetails:oe},e.name)):n.jsx("div",{className:"py-8 text-center",children:n.jsx("p",{className:"text-[#8A8F98]",children:"No Default tools available"})})})]})]}):null},x)}),n.jsx("div",{className:"absolute bottom-0 left-0 right-0 border-t-[1px] z-[99] rounded-b-[8px] py-7 px-6 h-[105px] bg-[#1A1A1C] border-[#262629]",children:n.jsxs("div",{className:"flex items-center justify-between",children:[x>1?n.jsxs("button",{type:"button",onClick:()=>{f(x-1),I.current&&(I.current.scrollTop=0)},className:"flex items-center gap-2 px-6 py-3 font-semibold text-[#939399] bg-[#222224] hover:bg-[#FFFFFF10] rounded-full transition-colors",children:[n.jsx("img",{src:o7,alt:"Previous",className:"w-5 h-5"}),"Previous Step"]}):n.jsx("div",{}),n.jsx("button",{type:"button",onClick:()=>{fg(eE.MANAGE_AGENTS_EVENTS.NEW_SUB_AGENT_CREATION,{currentStep:x}),x<2?(f(x+1),I.current&&(I.current.scrollTop=0)):re()},disabled:X||te||!(()=>{if(1===x){if(0===g.trim().length||0===b.trim().length)return!1;const e=se();if(null==e?void 0:e.dynamic_variables)for(const t of e.dynamic_variables){const e=C[t];if(!e||0===e.trim().length)return!1}return!0}if(2===x){const e=se();return g.trim().length>0&&b.trim().length>0&&(null==W?void 0:W.prompts)&&W.prompts.length>0&&null!==e}return!0})(),className:fb("flex items-center gap-2 px-6 py-3 font-semibold text-black bg-white rounded-full hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed",2===x&&"bg-[#DD99FF] hover:bg-[#DD99FF90]"),children:(X||te)&&2===x?n.jsxs(n.Fragment,{children:[H?"Updating":"Creating"," Subagent...",n.jsx("div",{className:"w-4 h-4 border-2 border-black rounded-full border-t-transparent animate-spin"})]}):n.jsxs(n.Fragment,{children:[H?m7[x]:p7[x],n.jsx("img",{src:r7,alt:"Next",className:"w-5 h-5"})]})})]})})]})}),n.jsx(k9,{isOpen:S,onOpenChange:E,currentStep:x,isSubagent:!0})]});var le},x7=Pe.memo(({path:e,tabId:t})=>{const s=Pe.useMemo(()=>{const s=e.split("/").filter(Boolean);if("/"===e||"workspace"===s[0]&&2===s.length)return mL;return s.includes("chat")?()=>n.jsx(K8,{tabId:t}):s.includes("create-agent")?()=>n.jsx(n7,{tabId:t}):s.includes("create-subagent")?()=>n.jsx(h7,{tabId:t}):mL},[e,t]);return n.jsx(s,{})}),f7=class e{constructor(){t(this,"pollingInterval",null),t(this,"activeJobId",null),t(this,"activeTabId",null)}static getInstance(){return e.instance||(e.instance=new e),e.instance}startPolling(e,t,n,s=15e3){this.activeJobId===e&&null!==this.pollingInterval||(this.stopPolling(),this.activeJobId=e,this.activeTabId=n,t(),this.pollingInterval=setInterval(t,s))}stopPolling(){null!==this.pollingInterval&&(clearInterval(this.pollingInterval),this.pollingInterval=null,this.activeJobId,this.activeTabId,this.activeJobId=null,this.activeTabId=null)}isPollingActive(e){return null!==this.pollingInterval&&this.activeJobId===e}getActiveJobId(){return this.activeJobId}setActiveTabId(e){this.activeTabId!==e&&(null!==this.activeTabId&&this.activeTabId!==e&&null!==this.pollingInterval&&this.stopPolling(),this.activeTabId=e)}getActiveTabId(){return this.activeTabId}};t(f7,"instance");const g7=f7.getInstance(),v7=Pe.memo(({tab:e,isActive:t,tabWidth:s,getTabWidth:i,onTabClick:a,onTabClose:r})=>{const o=De.useMemo(()=>localStorage.getItem("embeddedTaskTabId")===e.id||"/not-defined"===e.path,[e.id,e.path]),l="home"===e.id,c=e.title.toLowerCase().includes("create new agent")||"/create-agent"===e.path,d=e.title.toLowerCase().includes("create subagent")||"/create-subagent"===e.path,u=c||d,p=i?i(e):u?300:s;return o?null:n.jsx("div",{className:"flex-shrink-0",children:n.jsx(Ek.div,{onClick:()=>a(e),style:l?void 0:{width:`${p}px`,minWidth:`${Math.min(p,u?p:100)}px`,maxWidth:`${p}px`},className:fb("group flex justify-between items-center space-x-2 px-4 cursor-pointer transition-colors font-brockmann text-[14px] leading-[20px] font-medium",t?"bg-[#0F0F10] rounded-t-xl py-2 pb-3":"hover:bg-white/5 rounded-md py-1.5 bg-white/0",!l&&"overflow-hidden",t&&u&&"bg-[#161617] rounded-t-xl py-2 pb-3 border border-[#F8FF99]/30 border-b-0",t&&d&&"bg-[#161617] rounded-t-xl py-2 pb-3 border border-[#DD99FF]/30 border-b-0"),animate:{color:t?"#ffffff":"#B3B3B3"},transition:{duration:.2,ease:"easeOut"},children:l?n.jsxs("div",{className:"flex items-center space-x-0 md:space-x-2",children:[n.jsx(Ek.div,{animate:{scale:t?[1,1]:1,opacity:t?1:.5},transition:{duration:.3,repeat:t?1/0:0,repeatDelay:2},children:n.jsx("img",{src:gv.tabs.homeTabIcon,alt:"Home Tab"})}),n.jsx("p",{className:"hidden md:block",children:"Home"})]}):n.jsx(n.Fragment,{children:n.jsx(EE,{children:n.jsxs(T,{delayDuration:300,children:[n.jsx(D,{asChild:!0,children:n.jsxs("div",{className:"flex items-center space-x-2 overflow-hidden",children:[t&&n.jsx(Ek.span,{className:fb("rounded-full w-2 h-2 pr-2",c&&"bg-[#F8FF99]",d&&"bg-[#DD99FF]",!u&&"bg-[#00CCAF]"),initial:{opacity:0},animate:{opacity:1},transition:{duration:.15}}),n.jsx("span",{className:fb("text-sm font-medium cursor-default",c&&"text-[#F8FF99] text-nowrap",d&&"text-[#DD99FF] text-nowrap",!u&&"truncate",!t&&"text-[#B3B3B3]"),children:e.tabHeading||e.title}),n.jsx(L,{className:"max-w-xs bg-[#fff] text-[#0f0f10] font-medium tracking-[-0.3px] text-sm px-4 py-2.5 rounded-lg shadow-lg z-[9999] truncate",sideOffset:5,side:"bottom",asChild:!0,children:n.jsxs(Ek.div,{initial:{opacity:0,y:2,scale:1},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:10,scale:1},transition:{type:"spring",stiffness:400,damping:25,mass:.5,duration:0},children:[e.tabHeading||e.title,n.jsx(P,{className:"fill-[#fff]"})]})})]})}),n.jsx("button",{type:"button",title:"Close Tab",onClick:t=>r(t,e),className:"hover:bg-destructive/10 rounded-full p-0.5 flex-shrink-0",children:n.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"text-[#7B7B80]",children:n.jsx("path",{d:"M18 6L6 18M6 6L18 18",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})]})})})})})}),b7=gv.teams.org,y7=gv.teams.pendingDot;function w7({user:e,userDetails:t,onCloseMenu:s,getUserInitials:i}){var a,r,o,l,c;const{toast:d}=on(),{currentWorkspace:u}=Kg(),{personalTier:p}=Xg(),m=BE(),h=function(){const{openModal:e,closeModal:t,activeModals:n}=zE();return{open:t=>e({type:"create-workspace",...t}),close:()=>t("create-workspace"),isOpen:n.has("create-workspace"),config:n.get("create-workspace")}}(),[x,{isLoading:f}]=lf(),[g,{isLoading:v}]=mf(),b=(null==(a=null==t?void 0:t.organizations)?void 0:a.some(t=>t.created_by===(null==e?void 0:e.id)))||!1,y=e=>"PENDING"===(null==e?void 0:e.status),w=e=>{var n;const i=null==(n=null==t?void 0:t.organizations)?void 0:n.find(t=>t.organization_id===e);if("PENDING"===(null==i?void 0:i.status))return m.open({organizationId:e,organizationName:i.organization_name,planType:"team"}),void(null==s||s());if(u===e)return void(null==s||s());null==s||s();const a="personal"===e?"Personal Space":`${(null==i?void 0:i.organization_name)||"workspace"}'s Space`,r=`${"personal"===e?"/":`/workspace/${e}`}?switching=${encodeURIComponent(a)}`;window.location.href=r},j=(e,t)=>{m.open({organizationId:e,organizationName:t,planType:"team"})},C=async(e,t)=>{try{await x({invitation_id:e}).unwrap();d({title:"Invitation Accepted",description:`Successfully joined "${t}" workspace`,variant:"default"})}catch(n){d({title:"Error",description:(null==n?void 0:n.error)||"Failed to accept invitation. Please try again.",variant:"destructive"})}},N=async(e,t)=>{var n;try{await g({invitation_id:e}).unwrap(),d({title:"Invitation Declined",description:`Successfully declined invitation to "${t}" workspace`,variant:"default"})}catch(s){d({title:"Error",description:(null==(n=null==s?void 0:s.data)?void 0:n.detail)||"Failed to decline invitation. Please try again.",variant:"destructive"})}};return n.jsxs("div",{className:"flex flex-col p-[8px] border-b border-[#1f1f1f]",children:[n.jsxs("div",{className:fb("flex items-center gap-3 p-[8px] rounded-[10px] hover:bg-[#FFFFFF0D] cursor-pointer transition-colors","personal"===u&&"bg-[#FFFFFF0D]"),onClick:()=>w("personal"),children:[n.jsxs(_M,{className:"h-10 w-10 bg-[#2A2A2B]",children:[n.jsx(kM,{src:null==(r=null==e?void 0:e.user_metadata)?void 0:r.avatar_url,alt:"User Avatar"}),n.jsx(SM,{className:"bg-[#2A2A2B] text-sm font-medium",children:i()})]}),n.jsxs("div",{className:"flex flex-col flex-1 overflow-hidden",children:[n.jsx("div",{className:"text-sm font-medium text-[#E6E6E6] truncate",children:(null==(o=null==e?void 0:e.user_metadata)?void 0:o.name)||(null==(l=null==e?void 0:e.user_metadata)?void 0:l.full_name)||(null==(c=null==e?void 0:e.email)?void 0:c.split("@")[0])||"User"}),n.jsx("div",{className:fb("text-[12px] font-medium font-inter text-[#CCCCCC]","personal"!==u&&"text-[#CCCCCC]/50"),children:p.toLowerCase().includes("pro")?"Pro":p.toLowerCase().includes("standard")?"Standard":p.toLowerCase().includes("starter")?"Starter":p.charAt(0).toUpperCase()+p.slice(1)})]}),"personal"===u&&n.jsx("div",{className:"self-start",children:n.jsx(RM,{size:24})})]}),(null==t?void 0:t.organizations)&&t.organizations.map(e=>{var t;return n.jsx("div",{className:"",children:n.jsxs("div",{className:fb("flex items-center gap-3 rounded-[10px] transition-colors p-2 hover:bg-[#FFFFFF0D] cursor-pointer",u===e.organization_id&&"bg-[#FFFFFF0D]"),style:{background:u===e.organization_id?"radial-gradient(50% 50% at 50% 50%, rgba(50, 245, 179, 0.1) 0%, rgba(50, 245, 179, 0.05) 100%)":void 0},onClick:()=>w(e.organization_id),children:[n.jsx("div",{className:fb("bg-[#FFFFFF14] rounded-full p-2",u==e.organization_id&&"bg-[#FFFFFF0A] rounded-[8px]"),children:u===e.organization_id?n.jsx("img",{src:b7,alt:"Organization",className:"w-6 h-6"}):n.jsx(DM,{size:24,className:"w-6 h-6 opacity-80"})}),n.jsxs("div",{className:"flex justify-between flex-1 w-full",children:[n.jsxs("div",{className:"flex flex-col flex-1",children:[n.jsx("div",{className:fb("text-sm font-medium capitalize",u===e.organization_id?"":"text-[#E6E6E6]"),style:{background:u===e.organization_id?"linear-gradient(180deg, #00FF66 0%, #62ECFE 100%)":void 0,WebkitBackgroundClip:u===e.organization_id?"text":void 0,WebkitTextFillColor:u===e.organization_id?"transparent":void 0,backgroundClip:u===e.organization_id?"text":void 0},children:e.organization_name}),n.jsx("div",{className:fb("text-[12px] font-medium font-inter capitalize",u===e.organization_id?"":"text-[#CCCCCC]/50",y(e)&&"text-[#FF8C66]"),style:{background:u===e.organization_id?"linear-gradient(180deg, #00FF66 0%, #62ECFE 100%)":void 0,WebkitBackgroundClip:u===e.organization_id?"text":void 0,WebkitTextFillColor:u===e.organization_id?"transparent":void 0,backgroundClip:u===e.organization_id?"text":void 0},children:y(e)?"Payment pending":`${null==(t=null==e?void 0:e.role)?void 0:t.toLowerCase()}  ${e.member_count} member${1!==e.member_count?"s":""}`})]}),y(e)&&n.jsx("img",{alt:"Pending Dot",src:y7,className:"w-6 h-6"})]}),u===e.organization_id&&n.jsx("div",{className:"self-start",children:n.jsx(RM,{size:24})})]})},e.organization_id)}),(null==t?void 0:t.pending_invitations)&&t.pending_invitations.length>0&&n.jsx(n.Fragment,{children:t.pending_invitations.map(e=>n.jsx(PM,{invitation:e,onAcceptInvitation:C,onDeclineInvitation:N,isAcceptingInvitation:f||v,variant:"selector"},e.id))}),!b&&n.jsx(TM,{onClick:()=>{h.open({onWorkspaceCreated:j,onCloseMenu:s})},variant:"compact"})]})}function j7({personalTier:e,onOpenUpgradeTier:t,getUpgradeTierName:s}){var i,a,r,o;const{user:l}=Wg(),c=BE();return n.jsxs("div",{className:"flex-1 w-full h-0 px-6 pt-8 overflow-y-auto text-white",children:[n.jsxs("div",{className:"flex w-full",children:[n.jsx("div",{className:"flex items-center",children:n.jsxs("div",{className:"w-[72px] h-[72px] p-2 border border-white border-opacity-[0.04] rounded-full flex items-center justify-center",children:[(null==(i=null==l?void 0:l.user_metadata)?void 0:i.avatar_url)?n.jsx("img",{src:l.user_metadata.avatar_url,alt:"Profile",className:"object-cover rounded-full w-14 h-14",onError:e=>{const t=e.target;t.style.display="none";const n=t.nextElementSibling;n&&(n.style.display="flex")}}):null,n.jsx("div",{className:"w-14 h-14 rounded-full bg-[#2A2A2B] flex items-center justify-center text-white font-medium text-lg",style:{display:(null==(a=null==l?void 0:l.user_metadata)?void 0:a.avatar_url)?"none":"flex"},children:(null==(r=null==l?void 0:l.email)?void 0:r.charAt(0).toUpperCase())||"U"})]})}),n.jsxs("div",{className:"w-full ml-4",children:[n.jsx("label",{className:"text-white text-opacity-[0.4] font-medium text-[15px] leading-[20px] font-['Brockmann']",children:"Preferred name"}),n.jsx("h2",{className:"mt-2 text-[16px] font-medium text-white leading-5 px-4 py-3 bg-[#1D1D1F] border border-[#292929] rounded-[10px] w-full",children:(null==(o=null==l?void 0:l.user_metadata)?void 0:o.full_name)||""})]})]}),n.jsxs("div",{className:"mt-8",children:[n.jsx("label",{className:"text-white text-opacity-[0.4] font-medium text-[15px] leading-[20px] font-['Brockmann']",children:"Your email"}),n.jsxs("p",{className:"mt-1 text-white font-medium text-[18px] leading-6 font-['Brockmann']",children:[" ",null==l?void 0:l.email," "]})]}),n.jsx("div",{className:"my-8 w-full h-px bg-[#242424]"}),n.jsx("div",{className:"my-8",children:n.jsxs("div",{className:"bg-white bg-cover bg-opacity-[0.03] bg-[url(https://res.cloudinary.com/dedwy4r6x/image/upload/v1755787831/teams-bg_ptvr7k.png)] p-5 rounded-[10px]",children:[n.jsx("h3",{className:"text-white text-opacity-[0.4] font-medium text-[15px] leading-[20px] font-['Brockmann']",children:"Personal Plan"}),n.jsxs("div",{className:"flex justify-between mt-6",children:[n.jsx("h2",{className:"text-[32px] font-semibold text-white text-opacity-[0.4] leading-8 self-end",children:s()}),n.jsxs("button",{type:"button",onClick:()=>{t?t():c.open({planType:"personal"}),fg(eE.UPGRADE_PLAN_CLICKED,{personalTier:e})},className:"px-4 py-2 rounded-[10px] self-end h-fit bg-[#F3CA5F] shadow-[0_0_20px_0_rgba(243,202,95,0.20)] hover:bg-opacity-[0.75] text-white flex items-center gap-2 transition-colors",children:[n.jsx("p",{className:"text-[#0F0F10] font-semibold text-[15px] leading-[20px] tracking-[-0.2px] font-['Brockmann']",children:"free"===e?"Upgrade Plan":"Manage Plan"}),n.jsx("div",{className:"object-contain w-5 h-5",children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",children:n.jsx("path",{d:"M9.01807 4.94727C9.14234 4.57813 9.67013 4.57816 9.79443 4.94727L10.5483 7.18555C10.9231 8.29864 11.8075 9.17173 12.9341 9.54199L15.1987 10.2871C15.5723 10.4099 15.5723 10.9319 15.1987 11.0547L12.9341 11.7988C11.8074 12.1691 10.9231 13.0431 10.5483 14.1562L9.79443 16.3936C9.67016 16.7628 9.14234 16.7628 9.01807 16.3936L8.26416 14.1562C7.88944 13.0432 7.00585 12.1691 5.87939 11.7988L3.61377 11.0547C3.24017 10.9319 3.2402 10.4099 3.61377 10.2871L5.87939 9.54199C7.00571 9.17164 7.88941 8.29844 8.26416 7.18555L9.01807 4.94727ZM14.0825 3.44629C14.1324 3.29888 14.3433 3.29878 14.3931 3.44629L14.6733 4.28027C14.8363 4.76414 15.2208 5.14363 15.7104 5.30469L16.5542 5.58203C16.7036 5.63114 16.7036 5.84054 16.5542 5.88965L15.7104 6.16699C15.2208 6.32805 14.8363 6.70754 14.6733 7.19141L14.3931 8.02539C14.3433 8.17279 14.1324 8.17269 14.0825 8.02539L13.8013 7.19141C13.6383 6.70745 13.254 6.32797 12.7642 6.16699L11.9204 5.88965C11.771 5.84054 11.771 5.63116 11.9204 5.58203L12.7642 5.30469C13.254 5.14371 13.6383 4.76419 13.8013 4.28027L14.0825 3.44629Z",fill:"#0F0F10"})})})]})]})]})})]})}function C7({orgDetails:e,isEditingOrgName:t,setIsEditingOrgName:s,editedOrgName:i,setEditedOrgName:a,isCurrentUserAdmin:r,handleLeaveOrDeleteOrganization:o,isLeavingOrg:l,showContactSupportToast:c,currentWorkspace:d,onOrgNameUpdate:u}){const p=()=>{u&&i.trim()&&u(i.trim()),s(!1)};return n.jsx("div",{className:"flex-1 w-full h-0 p-6 overflow-y-auto",children:n.jsxs("div",{className:"space-y-8",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-[16px] text-[#E6E6E6] font-medium leading-6",children:"Icon"}),n.jsx("div",{className:"flex items-center mt-3",children:n.jsxs("div",{className:"relative h-[56px] w-[56px] border border-[#292929] rounded-[8px] flex items-center justify-center",children:[n.jsx(DM,{size:32}),n.jsx("button",{type:"button",title:"Edit organization name","aria-label":"Edit organization name",onClick:()=>{s(!0),a((null==e?void 0:e.name)||"Personal Workspace")},className:"absolute transition-opacity -bottom-1 -right-1 hover:opacity-70"})]})})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"mt-8 text-[16px] text-[#E6E6E6] font-medium leading-6",children:"Workspace Name"}),n.jsx("div",{className:"mt-3 bg-[#1D1D1F] border border-[#292929] rounded-lg px-4 py-3 relative",children:t?n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("input",{type:"text",value:i,onChange:e=>a(e.target.value),className:"flex-1 text-white bg-transparent outline-none",autoFocus:!0,title:"Organization name",placeholder:"Enter organization name","aria-label":"Organization name",onKeyDown:t=>{"Enter"===t.key&&p(),"Escape"===t.key&&(s(!1),a((null==e?void 0:e.name)||"Personal Workspace"))}}),n.jsx("button",{type:"button",title:"Save changes","aria-label":"Save organization name changes",onClick:p,className:"transition-colors duration-200 rounded-full hover:bg-green-600/20",children:n.jsx(MM,{size:24,color:"#000000",className:"bg-[#7BFF78] rounded-full p-1"})}),n.jsx("button",{type:"button",title:"Cancel changes","aria-label":"Cancel organization name changes",onClick:()=>{s(!1),a((null==e?void 0:e.name)||"Personal Workspace")},className:"transition-colors duration-200 rounded-full hover:bg-red-600/20",children:n.jsx(LM,{size:24,color:"#FFFFFF99",className:"bg-[#FFFFFF1A] rounded-full p-1"})})]}):n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"text-white "+(r()?"cursor-pointer hover:text-gray-300 transition-colors":""),onClick:()=>{r()&&(s(!0),a((null==e?void 0:e.name)||"Personal Workspace"))},title:r()?"Click to edit workspace name":"",children:(null==e?void 0:e.name)||"Personal Workspace"}),r()&&n.jsx("button",{type:"button",title:"Edit workspace name","aria-label":"Edit workspace name",onClick:()=>{s(!0),a((null==e?void 0:e.name)||"Personal Workspace")},className:"absolute p-1 p-2 transition-colors transform -translate-y-1/2 rounded right-3 top-1/2 hover:bg-white/10",children:n.jsx(lM,{width:16,height:16})})]})})]}),n.jsx("div",{className:"my-8 w-full h-px bg-[#242424]"}),n.jsxs("div",{className:"",children:[n.jsx("h3",{className:"text-[16px] text-[#E6E6E6]",children:"Danger Zone"}),n.jsxs("p",{className:"mt-3 text-[#666] text-[15px] mb-4 leading-relaxed",children:[r()?`Permanently delete ${null==e?void 0:e.name}'s Space and all of its data.`:`Leave ${null==e?void 0:e.name}'s Space and lose access to all team resources.`,n.jsx("br",{}),"This action is not reversible!"]}),n.jsxs("div",{className:"flex mt-5 space-x-3",children:[n.jsxs("button",{type:"button",onClick:r()?c:o,disabled:l,className:"bg-[#ff8080]/10 hover:bg-[#ff8080]/20 text-white px-4 py-2 rounded-lg text-[15px] flex items-center space-x-2 disabled:opacity-50",children:[n.jsx(AS,{className:"w-4 h-4 text-[#FF8080]"}),n.jsx("span",{className:"text-[#FF8080] text-[15px]",children:l?"Processing...":r()?"Delete Space":"Leave Space"})]}),n.jsx("button",{type:"button",onClick:()=>window.open(nv,"_blank"),className:"bg-white bg-opacity-0 hover:bg-opacity-[0.02] border border-white border-opacity-[0.12] text-white px-4 py-2 rounded-lg text-[15px]",children:"Contact Support"})]})]})]})})}const N7=({size:e=20,width:t,height:s,fill:i="#17171A",className:a,onClick:r,style:o})=>{const l=t||e,c=s||e;return n.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:l,height:c,viewBox:"0 0 20 20",fill:"none",className:a,onClick:r,style:o,children:[n.jsx("mask",{id:"mask0_2058_52086",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"20",height:"20",children:n.jsx("rect",{width:"20",height:"20",fill:"#D9D9D9"})}),n.jsx("g",{mask:"url(#mask0_2058_52086)",children:n.jsx("path",{d:"M10.4167 9.95703C10.8194 9.51259 11.1285 9.00564 11.3438 8.4362C11.559 7.86675 11.6667 7.27648 11.6667 6.66536C11.6667 6.05425 11.559 5.46398 11.3438 4.89453C11.1285 4.32509 10.8194 3.81814 10.4167 3.3737C11.25 3.48481 11.9444 3.85286 12.5 4.47786C13.0556 5.10286 13.3333 5.83203 13.3333 6.66536C13.3333 7.4987 13.0556 8.22786 12.5 8.85286C11.9444 9.47786 11.25 9.84592 10.4167 9.95703ZM15 16.6654V14.1654C15 13.6654 14.8889 13.1897 14.6667 12.7383C14.4444 12.2869 14.1528 11.8876 13.7917 11.5404C14.5 11.7904 15.1562 12.1133 15.7604 12.5091C16.3646 12.9049 16.6667 13.457 16.6667 14.1654V16.6654H15ZM16.6667 10.832V9.16536H15V7.4987H16.6667V5.83203H18.3333V7.4987H20V9.16536H18.3333V10.832H16.6667ZM6.66667 9.9987C5.75 9.9987 4.96528 9.67231 4.3125 9.01953C3.65972 8.36675 3.33333 7.58203 3.33333 6.66536C3.33333 5.7487 3.65972 4.96398 4.3125 4.3112C4.96528 3.65842 5.75 3.33203 6.66667 3.33203C7.58333 3.33203 8.36806 3.65842 9.02083 4.3112C9.67361 4.96398 10 5.7487 10 6.66536C10 7.58203 9.67361 8.36675 9.02083 9.01953C8.36806 9.67231 7.58333 9.9987 6.66667 9.9987ZM0 16.6654V14.332C0 13.8598 0.121528 13.4258 0.364583 13.0299C0.607639 12.6341 0.930556 12.332 1.33333 12.1237C2.19444 11.6931 3.06944 11.3702 3.95833 11.1549C4.84722 10.9397 5.75 10.832 6.66667 10.832C7.58333 10.832 8.48611 10.9397 9.375 11.1549C10.2639 11.3702 11.1389 11.6931 12 12.1237C12.4028 12.332 12.7257 12.6341 12.9688 13.0299C13.2118 13.4258 13.3333 13.8598 13.3333 14.332V16.6654H0ZM6.66667 8.33203C7.125 8.33203 7.51736 8.16884 7.84375 7.84245C8.17014 7.51606 8.33333 7.1237 8.33333 6.66536C8.33333 6.20703 8.17014 5.81467 7.84375 5.48828C7.51736 5.16189 7.125 4.9987 6.66667 4.9987C6.20833 4.9987 5.81597 5.16189 5.48958 5.48828C5.16319 5.81467 5 6.20703 5 6.66536C5 7.1237 5.16319 7.51606 5.48958 7.84245C5.81597 8.16884 6.20833 8.33203 6.66667 8.33203ZM1.66667 14.9987H11.6667V14.332C11.6667 14.1793 11.6285 14.0404 11.5521 13.9154C11.4757 13.7904 11.375 13.6931 11.25 13.6237C10.5 13.2487 9.74306 12.9674 8.97917 12.7799C8.21528 12.5924 7.44444 12.4987 6.66667 12.4987C5.88889 12.4987 5.11806 12.5924 4.35417 12.7799C3.59028 12.9674 2.83333 13.2487 2.08333 13.6237C1.95833 13.6931 1.85764 13.7904 1.78125 13.9154C1.70486 14.0404 1.66667 14.1793 1.66667 14.332V14.9987Z",fill:i})})]})};function F7({activeMembersCount:e,pendingMembersCount:t,searchTerm:s,setSearchTerm:i,showDropdown:a,setShowDropdown:r,dropdownRef:o,selectedFilter:l,getDropdownDisplayText:c,handleFilterSelect:d,setIsAddMemberModalOpen:u,filteredMembers:p,roleChanges:m,memberRoleDropdowns:h,toggleMemberRoleDropdown:x,handleMemberRoleChange:f,memberActionDropdowns:g,toggleMemberActionDropdown:v,handleRemoveMember:b,currentUser:y,isCurrentUserAdmin:w}){return n.jsxs("div",{className:"flex-1 w-full h-0 max-md:p-4 md:p-6 overflow-y-auto",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"bg-white bg-opacity-[0.04] rounded-[10px] max-md:p-4 md:p-5",children:[n.jsx("div",{className:"text-[#FFF] font-[Brockmann] text-[15px] font-medium leading-[20px] text-opacity-[0.4]",children:"Total Members"}),n.jsx("div",{className:"mt-8 text-[#FFF] font-[Brockmann] text-[32px] font-[600] leading-[24px]",children:String(e).padStart(2,"0")})]}),n.jsxs("div",{className:"bg-white bg-opacity-[0.04] rounded-[10px] max-md:p-4 md:p-5",children:[n.jsx("div",{className:"text-[#FFF] font-[Brockmann] text-[15px] font-medium leading-[20px] text-opacity-[0.4]",children:"Pending Invites"}),n.jsx("div",{className:"mt-8 text-[#FFF] font-[Brockmann] text-[32px] font-[600] leading-[24px]",children:String(t).padStart(2,"0")})]})]}),n.jsxs("div",{className:"flex max-md:flex-col-reverse items-center justify-between mt-9",children:[n.jsxs("div",{className:"max-md:mt-5 max-md:w-full relative flex max-md:justify-between items-center md:space-x-3",children:[n.jsxs("div",{className:"relative",children:[n.jsx(_S,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-[#666]"}),n.jsx("input",{type:"text",placeholder:"Search members",value:s,onChange:e=>i(e.target.value),className:"bg-white/0 border border-[#FFF] border-opacity-[0.08] rounded-[8px] pl-9 pr-4 py-2 text-white text-[14px] placeholder-[#FFF] leading-5 placeholder-opacity-30 hover:border-opacity-[0.16] focus:outline-none focus:border-white/20"})]}),n.jsxs("div",{className:"relative",ref:o,children:[n.jsxs("div",{className:"cursor-pointer flex justify-between py-2 px-3 w-full min-w-[140px] border border-[#FFF] border-opacity-[0.08] hover:border-opacity-[0.16] rounded-[8px] items-center gap-1 transition-colors duration-200",onClick:()=>r(!a),children:[n.jsx("p",{className:"text-[14px] font-medium text-white/50 leading-[20px]",children:c()}),n.jsx(Vk,{className:"ml-[6px] w-5 h-5 transition-transform duration-200 text-white/30 "+(a?"rotate-180":"")})]}),a&&n.jsx("div",{className:"absolute left-0 top-[45px] min-w-[160px] z-[9999] bg-[#18181A] border border-[#262626] rounded-[10px] shadow-lg overflow-y-auto",children:n.jsxs("div",{className:"flex flex-col p-2",children:[n.jsx("div",{className:"px-2 rounded-[8px] py-[6px] hover:bg-[#2D2D2F]/40 font-medium cursor-pointer "+("all"===l?"text-[#80FFF9]":"text-[#E8E8E6]"),onClick:()=>d("all"),children:n.jsxs("div",{className:"flex items-start justify-between w-full",children:[n.jsx("div",{className:"flex items-start gap-2",children:n.jsx("p",{className:"text-[12px] md:text-[13px]",children:"All Members"})}),"all"===l&&n.jsx(Uk,{className:"ml-2 h-4 w-4 text-[#66EAFF]"})]})}),n.jsx("div",{className:"px-2 rounded-[8px] py-[6px] hover:bg-[#2D2D2F]/40 font-medium cursor-pointer "+("admin"===l?"text-[#80FFF9]":"text-[#E8E8E6]"),onClick:()=>d("admin"),children:n.jsxs("div",{className:"flex items-start justify-between w-full",children:[n.jsx("div",{className:"flex items-start gap-2",children:n.jsx("p",{className:"text-[12px] md:text-[13px]",children:"Admin"})}),"admin"===l&&n.jsx(Uk,{className:"ml-2 h-4 w-4 text-[#66EAFF]"})]})}),n.jsx("div",{className:"px-2 rounded-[8px] py-[6px] hover:bg-[#2D2D2F]/40 font-medium cursor-pointer "+("creators"===l?"text-[#80FFF9]":"text-[#E8E8E6]"),onClick:()=>d("creators"),children:n.jsxs("div",{className:"flex items-start justify-between w-full",children:[n.jsx("div",{className:"flex items-start gap-2",children:n.jsx("p",{className:"text-[12px] md:text-[13px]",children:"Member"})}),"creators"===l&&n.jsx(Uk,{className:"ml-2 h-4 w-4 text-[#66EAFF]"})]})}),n.jsx("div",{className:"px-2 rounded-[8px] py-[6px] hover:bg-[#2D2D2F]/40 font-medium cursor-pointer "+("pending"===l?"text-[#80FFF9]":"text-[#E8E8E6]"),onClick:()=>d("pending"),children:n.jsxs("div",{className:"flex items-start justify-between w-full",children:[n.jsx("div",{className:"flex items-start gap-2",children:n.jsx("p",{className:"text-[12px] md:text-[13px]",children:"Pending"})}),"pending"===l&&n.jsx(Uk,{className:"ml-2 h-4 w-4 text-[#66EAFF]"})]})})]})})]})]}),w&&n.jsxs("button",{type:"button",onClick:()=>u(!0),className:"bg-[#FFF] text-[#17171A] max-md:self-start max-md:w-full justify-center px-3 py-2 font-semibold rounded-[8px] text-[15px] leading-5 -tracking-[0.5px] flex items-center",children:[n.jsx(N7,{className:"w-5 h-5"}),n.jsx("span",{className:"ml-[6px] text-[#17171A] font-[Brockmann] text-[15px] font-[600] leading-[20px] tracking-[-0.5px]",children:"Add members"})]})]}),n.jsxs("div",{className:"w-full h-auto mt-4",children:[n.jsx("style",{jsx:!0,children:"\n          .responsive-grid {\n            grid-template-columns: 3fr 3fr 32px;\n          }\n          \n          @media (min-width: 768px) {\n            .responsive-grid {\n              grid-template-columns: 3fr 5fr 3fr 32px;\n            }\n          }\n        "}),n.jsxs("div",{className:"max-md:hidden bg-white bg-opacity-[0.02] rounded-[10px] grid gap-4 pl-6 py-3 text-[#FFF]/50 text-[14px] font-medium leading-5 responsive-grid",children:[n.jsx("p",{className:"text-[#FFF] font-[Brockmann] text-[14px] font-[500] leading-[20px] text-opacity-[0.5]",children:"Name"}),n.jsx("p",{className:"text-[#FFF] font-[Brockmann] text-[14px] font-[500] leading-[20px] text-opacity-[0.5] hidden md:block",children:"Email"}),n.jsx("p",{className:"text-[#FFF] font-[Brockmann] text-[14px] font-[500] leading-[20px] text-opacity-[0.5]",children:"Role"}),n.jsx("p",{})]}),n.jsx("div",{className:"mt-5 mb-2 md:hidden w-full h-px bg-[#242424]"}),p.map(e=>{const t=m[e.user_id]||e.role;return n.jsxs("div",{className:"grid gap-4 py-4 max-md:pl-0 pl-6 responsive-grid",children:[n.jsxs("div",{className:"text-[#E6E6E6] self-center font-[Brockmann] text-[15px] font-[500] leading-[20px] max-md:min-w-0",children:[e.email.split("@")[0],n.jsx("span",{className:"max-md:block md:hidden text-[13px] text-[#E6E6E6] text-opacity-40 overflow-hidden text-ellipsis whitespace-nowrap",children:e.email})]}),n.jsx("div",{className:"text-[#E6E6E6] self-center font-[Brockmann] text-[15px] font-[500] leading-[20px] hidden md:block",children:e.email}),n.jsx("div",{className:"relative flex items-center space-x-2",children:"PENDING"===e.status?n.jsx("p",{className:"px-4 py-[6px] bg-white/10 rounded-[8px] text-[#E6E6E6] font-medium text-[15px] leading-[20px] text-opacity-50 font-['Brockmann']",children:"Pending"}):w?n.jsxs("div",{id:`member-role-dropdown-${e.user_id}`,className:"relative",children:[n.jsxs("button",{type:"button",onClick:()=>x(e.user_id),className:"flex justify-between items-center space-x-2  min-w-[110px] text-[#E6E6E6] hover:text-[#FFF] transition-colors pl-4 pr-2 py-[6px] rounded-[8px] border border-white/10 hover:border-white/20 bg-[#1C1C1F]",children:[n.jsx("span",{children:"ADMIN"===t?"Admin":"Member"}),n.jsx(Vk,{className:"w-4 h-4 transition-transform duration-200 text-white/30 "+(h[e.user_id]?"rotate-180":"")})]}),h[e.user_id]&&n.jsx("div",{className:"absolute top-full left-0 mt-1 bg border bg-[#18181A] border-[#262626] rounded-[10px] shadow-lg z-10 min-w-[200px] p-2",children:n.jsxs("div",{className:"",children:[n.jsxs("div",{className:`items-center cursor-pointer p-2 rounded-[8px] \n                              ${"ADMIN"==t?"bg-[#5CD2E5] bg-opacity-5 hover:bg-opacity-10":"hover:bg-opacity-5 hover:bg-white"}\n                            `,onClick:()=>f(e.user_id,"ADMIN"),children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("p",{className:`font-[Brockmann] text-[14px] leading-[20px]\n                                ${"ADMIN"===t?"font-semibold text-[#5CD2E5]":"font-medium text-[#E6E6E6]"}\n                              `,children:"Admin"}),"ADMIN"!==t&&n.jsx("div",{className:"w-4 h-4 rounded-full border-2 border-[#45474D]"}),"ADMIN"===t&&n.jsx("div",{className:"w-4 h-4",children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:n.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 0.5C3.85775 0.5 0.5 3.85775 0.5 8C0.5 12.1423 3.85775 15.5 8 15.5C12.1423 15.5 15.5 12.1423 15.5 8C15.5 3.85775 12.1423 0.5 8 0.5ZM8 5C7.20435 5 6.44129 5.31607 5.87868 5.87868C5.31607 6.44129 5 7.20435 5 8C5 8.79565 5.31607 9.55871 5.87868 10.1213C6.44129 10.6839 7.20435 11 8 11C8.79565 11 9.55871 10.6839 10.1213 10.1213C10.6839 9.55871 11 8.79565 11 8C11 7.20435 10.6839 6.44129 10.1213 5.87868C9.55871 5.31607 8.79565 5 8 5Z",fill:"#5CD2E5"})})})]}),n.jsx("div",{className:"mt-1 font-[Inter] font-medium text-[12px] leading-[16px]\n                              "+("ADMIN"===t?"text-opacity-80 text-[#5CD2E5]":"text-[#FFF] text-opacity-50 "),children:"Manage team settings, members and billings"})]}),n.jsxs("div",{className:`mt-2 items-center cursor-pointer p-2 rounded-[8px] \n                              ${"MEMBER"==t?"bg-[#5CD2E5] bg-opacity-5 hover:bg-opacity-10":"hover:bg-opacity-5 hover:bg-white"}\n                            `,onClick:()=>f(e.user_id,"MEMBER"),children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("p",{className:`font-[Brockmann] text-[14px] leading-[20px]\n                                ${"MEMBER"===t?"font-semibold text-[#5CD2E5]":"font-medium text-[#E6E6E6]"}\n                              `,children:"Member"}),"MEMBER"!==t&&n.jsx("div",{className:"w-4 h-4 rounded-full border-2 border-[#45474D]"}),"MEMBER"===t&&n.jsx("div",{className:"w-4 h-4",children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:n.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 0.5C3.85775 0.5 0.5 3.85775 0.5 8C0.5 12.1423 3.85775 15.5 8 15.5C12.1423 15.5 15.5 12.1423 15.5 8C15.5 3.85775 12.1423 0.5 8 0.5ZM8 5C7.20435 5 6.44129 5.31607 5.87868 5.87868C5.31607 6.44129 5 7.20435 5 8C5 8.79565 5.31607 9.55871 5.87868 10.1213C6.44129 10.6839 7.20435 11 8 11C8.79565 11 9.55871 10.6839 10.1213 10.1213C10.6839 9.55871 11 8.79565 11 8C11 7.20435 10.6839 6.44129 10.1213 5.87868C9.55871 5.31607 8.79565 5 8 5Z",fill:"#5CD2E5"})})})]}),n.jsx("div",{className:"mt-1 font-[Inter] font-medium text-[12px] leading-[16px]\n                              "+("MEMBER"===t?"text-opacity-80 text-[#5CD2E5]":"text-[#FFF] text-opacity-50 "),children:"Can create tasks and see what others are building"})]})]})})]}):n.jsx("p",{className:"px-4 py-[6px] bg-white/10 rounded-[8px] text-[#E6E6E6] font-medium text-[15px] leading-[20px] text-opacity-50 font-['Brockmann']",children:"ADMIN"===t?"Admin":"Member"})}),n.jsx("div",{className:"relative flex justify-end",children:(null==y?void 0:y.id)!==e.user_id&&w&&n.jsxs("div",{className:"relative",children:[n.jsx("button",{type:"button",onClick:()=>v(e.user_id),className:"text-white/30 hover:bg-white/5 hover:text-white/60 px-2 py-2 rounded-[8px] transition-colors",title:"More options",children:n.jsx(rS,{className:"w-5 h-5 rotate-90"})}),g[e.user_id]&&n.jsx("div",{className:"absolute top-full right-0 p-2 mt-1 bg-[#18181A] border border-[#262626] rounded-[12px] z-10 overflow-hidden",children:n.jsxs("button",{type:"button","data-remove-button":"true",onClick:t=>{b(e.user_id,e.email)},className:"flex items-center w-full p-2 text-left text-[#FF8080] transition-colors hover:rounded-[8px] hover:bg-[#FF8080]/10 hover:text-[#FF8080]",children:[n.jsx(AS,{className:"w-4 h-4"}),n.jsx("span",{className:"ml-[6px] text-[#FF8080] text-nowrap font-[Brockmann] text-[14px] font-[500] leading-[16px]",children:"Remove from team"})]})})]})})]},e.user_id)})]})]})}function _7({tier:e,credits:t,orgDetails:s,showContactSupportToast:i,onAddCredit:a,jobs:r=[],showAdminToast:o,onClose:l,onReopenAccountSettings:c}){const d=BE(),{currentWorkspace:u,getCurrentWorkspaceData:p}=Kg(),{subscriptionPlansResponse:m}=Xg(),h=p(),x="ADMIN"===(null==h?void 0:h.role),f="personal"===u;return n.jsxs("div",{className:"flex-1 w-full min-h-0 p-6 overflow-y-auto",children:[n.jsxs("div",{className:"bg-white bg-cover bg-opacity-[0.04] bg-[url(https://res.cloudinary.com/dedwy4r6x/image/upload/v1755787831/teams-bg_ptvr7k.png)] rounded-[10px] p-5",children:[n.jsx("h3",{className:"text-white/40 font-medium text-[16px] leading-6 font-['Brockmann']",children:"Current Plan"}),n.jsxs("div",{className:"flex items-center justify-between max-md:flex-col",children:[n.jsxs("div",{className:"self-start mt-6",children:[n.jsx("h2",{className:"font-semibold text-[32px] leading-[32px] tracking-[-1px] font-['Brockmann'] bg-gradient-to-b from-[#0F6] to-[#62ECFE] bg-clip-text text-transparent [text-shadow:0_0_20px_rgba(98,236,254,0.20),_0_0_40px_rgba(0,255,102,0.40)]",children:e?e.charAt(0).toUpperCase()+e.slice(1):"Free"}),n.jsxs("p",{className:"mt-2 text-white/40 font-medium text-[16px] leading-6 font-['Brockmann']",children:["Renews ",n.jsxs("span",{className:"text-white",children:[" ",(()=>{if(m&&m.current_subscription&&m.current_subscription.end_date){return new Date(m.current_subscription.end_date).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}return"Not Available"})()]})]})]}),n.jsx("button",{type:"button",onClick:()=>{f||x?(l&&l(),d.open({organizationId:"personal"!==u?u:void 0,organizationName:"personal"!==u?null==s?void 0:s.name:void 0,planType:"personal"!==u?"team":"personal",onReturnFlow:c})):o?o():i()},className:"max-md:mt-4 max-md:self-start md:self-end bg-[#333] hover:bg-[#3D3D3D] px-5 py-2 rounded-[10px]",children:n.jsx("p",{className:"text-white font-medium text-[15px] leading-[20px] tracking-[-0.2px] font-['Brockmann']",children:"Manage Subscription"})})]})]}),n.jsxs("div",{className:"grid grid-cols-1 gap-5 max-md:my-4 md:my-5 md:grid-cols-2",children:[n.jsxs("div",{className:"bg-white bg-opacity-[0.04] rounded-[10px] p-5",children:[n.jsx("h3",{className:"text-white font-medium text-base leading-6 text-opacity-40 font-['Brockmann']",children:"Available Credits"}),n.jsxs("div",{className:"flex items-center mt-8",children:[n.jsx(fT,{fill:"#CCC",className:"w-7 h-7"}),n.jsx("p",{className:"ml-2 text-white font-semibold text-[32px] leading-[32px] tracking-[-1px] font-['Brockmann']",children:t.toFixed(2)})]})]}),n.jsxs("div",{className:"bg-white bg-opacity-[0.04] rounded-[10px] p-5",children:[n.jsx("h3",{className:"text-white font-medium text-base leading-6 text-opacity-40 font-['Brockmann']",children:"Add on Credits"}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center mt-8 opacity-20",children:[n.jsx(fT,{fill:"#CCC",className:"w-7 h-7"}),n.jsx("p",{className:"ml-2 text-white font-semibold text-[32px] leading-[32px] tracking-[-1px] font-['Brockmann']",children:"0.00"})]}),n.jsx("button",{onClick:()=>a(),className:"bg-white hover:bg-opacity-[0.80] self-end px-4 py-2 rounded-[8px]",children:n.jsx("span",{className:"text-[#17171A] font-semibold text-[15px] leading-[20px] tracking-[-0.5px] font-['Brockmann']",children:"Buy Now"})})]})]})]}),n.jsxs("div",{className:"border border-white border-opacity-[0.08] rounded-[10px] overflow-hidden",children:[n.jsxs("div",{className:"bg-[#1C1C1F] grid grid-cols-12 gap-4 px-6 py-3 border-b border-white border-opacity-[0.08]  text-gray-400 text-[15px]",children:[n.jsx("p",{className:"col-span-6 text-white text-opacity-50 font-medium max-md:text-[12px] text-[14px] leading-5 font-['Brockmann']",children:"Task"}),n.jsx("p",{className:"col-span-3 text-white text-opacity-50 font-medium max-md:text-[12px] text-[14px] leading-5 font-['Brockmann']",children:"Date"}),n.jsx("div",{className:"flex items-center justify-end col-span-3",children:n.jsx("p",{className:"ml-[4px] text-white text-opacity-50 font-medium max-md:text-[12px] text-[14px] leading-5 font-['Brockmann']",children:"Credits used"})})]}),n.jsx("div",{className:"overflow-y-auto max-h-64",children:0===r.length?n.jsx("div",{className:"p-6 text-center",children:n.jsx("div",{className:"text-white/40 font-medium text-[15px] leading-[20px] font-['Brockmann']",children:"No usage data available"})}):r.slice(0,10).map(e=>{var t,s;return n.jsxs("div",{className:"grid grid-cols-12 gap-6 p-6 transition-colors hover:bg-white hover:bg-opacity-[0.02]",children:[n.jsx("div",{className:"col-span-6 text-white/60 font-medium text-[15px] leading-[20px] font-['Brockmann']",children:(null==(t=null==e?void 0:e.title)?void 0:t.slice(0,80))||"Task"}),n.jsx("div",{className:"col-span-3 text-white/60 font-medium text-[15px] leading-[20px] font-['Brockmann']",children:e.created_at?new Date(e.created_at).toLocaleDateString("en-CA")+" "+new Date(e.created_at).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!1}):"N/A"}),n.jsxs("div",{className:"col-span-3 text-[#F2C75B] font-semibold text-[15px] leading-[20px] font-['Brockmann'] text-right",children:["-",(null==(s=e.credits_used)?void 0:s.toFixed(2))||"0.00"]})]},e.id)})})]})]})}const k7=gv.universal.infoGray,S7=gv.universal.copy,E7=gv.universal.add,I7=gv.universal.key,A7=gv.universal.infoOrange,T7=gv.universal.nextArrow,D7=gv.universal.addActive,M7=gv.universal.alertBg,L7=gv.universal.deleteRegenerate,P7=gv.universal.check,R7=gv.universal.saveContinue;function O7({emergentKey:e,userBudget:t,isLoadingEmergentKey:s,isLoadingUserBudget:i,isCopied:a,setIsCopied:r,isTogglingKey:o,handleToggleKey:l,isRegeneratingKey:c,handleRegenerateKey:d,setUniversalKeyView:u,autoRecharge:p,autoRechargeAmount:m,pendingAutoRechargeAmount:h,setPendingAutoRechargeAmount:x,credits:f,handleAutoRechargeToggle:g,isUpdatingConfig:v,universalKeyView:b,transferAmount:y,setTransferAmount:w,handleTransferCredits:j,isIncreasingBudget:C,handleAutoRechargeAmountChange:N,handleSaveAutoRechargeAmount:F,handleConfirmAutoRecharge:_}){var k,S;const[E,I]=De.useState(!1),A=()=>{u("main"),x(null)},T=e=>{fg(eE.UNIVERSAL_KEYS_EVENTS.TRANSFER_CREDIT_UPDATED,{creditTobeTransferred:e})};return n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"space-y-4",children:n.jsxs(Rt,{mode:"wait",children:["main"===b&&n.jsxs(Pt.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},className:"space-y-4",children:[n.jsxs("div",{className:fb("space-y-2 bg-[#1D1D1F] flex max-md:flex-col justify-between p-5 rounded-[8px]","bg-[#66F0FF0A]"),children:[n.jsxs("div",{className:"flex flex-col gap-6",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("span",{className:"text-[#FFFFFF]/30 text-[14px] font-medium",children:"Your Key"}),n.jsx(EE,{children:n.jsxs(IE,{delayDuration:0,children:[n.jsx(AE,{children:n.jsx("img",{src:k7,alt:"Info",className:"w-5 h-5"})}),n.jsx(TE,{className:"bg-[#DDDDE6] text-black border-0",children:"Works on Emergent Apps, Keep confidential"})]})})]}),n.jsxs("div",{className:"flex items-start gap-3 rounded-lg max-md:justify-between",children:[n.jsx("span",{className:"font-mono text-[20px] font-medium text-[#99F5FF]",children:s?n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(hS,{className:"w-4 h-4 animate-spin"}),"Loading..."]}):(()=>{const t=null==e?void 0:e.emergent_key;if(!t)return"No key available";if(t.startsWith("sk-emergent-")){const e=t.substring(12);if(e.length>2)return`sk-emergent-${e.substring(0,2)}${"*".repeat(5)}`}return t.length>15?`${t.substring(0,15)}${"*".repeat(5)}`:t})()}),n.jsxs("button",{type:"button",title:"Copy API Key",className:fb("relative flex items-center gap-2 text-sm text-[#c4c4c4] bg-[#FFFFFF0A] hover:bg-[#FFFFFF10] p-2 rounded-[8px] hover:text-white transition-colors",a?"bg-[#FFFFFF10] text-white":""),onClick:()=>{(null==e?void 0:e.emergent_key)&&(navigator.clipboard.writeText(e.emergent_key),r(!0),setTimeout(()=>r(!1),2e3)),fg(eE.UNIVERSAL_KEYS_EVENTS.UNIVERSAL_KEY_COPIED,{copiedKey:null==e?void 0:e.emergent_key})},children:[n.jsx("img",{src:S7,alt:"Copy",className:fb("w-5 h-5 transition-opacity",a?"opacity-0":"opacity-100")}),n.jsx(Uk,{className:fb("w-5 h-5 transition-opacity absolute",a?"opacity-100":"opacity-0")})]})]})]}),n.jsxs("div",{className:"flex gap-3 max-md:justify-between",children:[n.jsxs("button",{type:"button",onClick:()=>{l(),fg(eE.UNIVERSAL_KEYS_EVENTS.UNIVERSAL_KEY_TOGGLED,{enabling:"active"!==(null==e?void 0:e.status)})},disabled:o,className:fb("px-4 py-2 max-md:w-[48%] max-md:max-h-[40px] md:max-h-[36px] flex justify-center items-center gap-2 rounded-[8px] transition-colors","active"===(null==e?void 0:e.status)?"bg-[#FFFFFF1A] hover:bg-[#FFFFFF2A] text-white":"bg-[#66F0FF1A] hover:bg-[#66F0FF2A] text-[#66F0FF]"),children:[o&&n.jsx(hS,{className:"w-4 h-4 animate-spin"}),"active"===(null==e?void 0:e.status)?"Disable":"Enable"]}),"active"===(null==e?void 0:e.status)&&n.jsxs("button",{type:"button",onClick:()=>{u("regenerateKey"),fg(eE.UNIVERSAL_KEYS_EVENTS.UNIVERSAL_KEY_REGENERATE_CTA_CLICKED)},disabled:c,className:"px-4 py-2 max-md:w-[48%] max-md:max-h-[40px] md:max-h-[36px] flex justify-center items-center gap-2 bg-[#66F0FF1A] text-[#66F0FF] hover:bg-[#66F0FF2A] rounded-[8px] transition-colors",children:[c&&n.jsx(hS,{className:"w-4 h-4 animate-spin"}),"Regenerate"]})]})]}),n.jsxs("div",{className:"max-md:space-y-6 md:space-y-2 flex max-md:flex-col justify-between bg-[#1D1D1F] p-5 rounded-[8px]",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("span",{className:"text-[#FFFFFF]/30 text-[14px] font-medium",children:"API Key Balance"}),n.jsx(EE,{children:n.jsxs(IE,{delayDuration:0,children:[n.jsx(AE,{children:n.jsx("img",{src:k7,alt:"Info",className:"w-5 h-5"})}),n.jsx(TE,{className:"bg-[#DDDDE6] text-black border-0",children:"Universal Key need balance to work, please add accordingly"})]})})]}),n.jsx("div",{className:"flex flex-col gap-3 rounded-lg md:flex-row md:items-center",children:n.jsx("span",{className:"flex-1 font-['Inter'] font-semibold text-[24px] text-[#C4C4CC]",children:i?n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(hS,{className:"w-4 h-4 animate-spin"}),"Loading..."]}):`${(null==(k=null==t?void 0:t.remaining)?void 0:k.toFixed(2))||"0.00"} Credits`})})]}),n.jsx("div",{className:"flex gap-[10px] max-md:h-10 md:h-auto",children:n.jsxs("button",{type:"button",onClick:()=>{I(!0),fg(eE.UNIVERSAL_KEYS_EVENTS.ADD_BALANCE_CTA_CLICKED)},className:"text-[#c4c4c4] max-md:w-full max-md:justify-center hover:text-[#F3CA5F] transition-colors bg-[#FFFFFF0A] hover:bg-[#F3CA5F0D] py-2 px-3 rounded-[8px] flex items-center gap-1 group h-9 self-end",children:[n.jsx("img",{src:E7,alt:"Add",className:"w-5 h-5 group-hover:hidden"}),n.jsx("img",{src:D7,alt:"Add",className:"hidden w-5 h-5 group-hover:block"}),n.jsx("p",{className:"text-[15px] leading-5 -tracking-[0.5px] font-medium ",children:"Add Balance"})]})})]}),n.jsxs("div",{className:"md:space-y-2 bg-[#1D1D1F] max-md:p-4 p-5 rounded-[8px]",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("span",{className:"text-[#FFFFFF]/30 text-[14px] font-medium",children:"Auto Recharge"}),n.jsx(EE,{children:n.jsxs(IE,{delayDuration:0,children:[n.jsx(AE,{children:n.jsx("img",{src:k7,alt:"Info",className:"w-5 h-5"})}),n.jsx(TE,{className:"bg-[#DDDDE6] text-black border-0",children:"Auto-recharge ensures your balance never runs low"})]})})]}),n.jsx("div",{className:"flex items-center justify-between rounded-lg max-md:hidden",children:n.jsx("div",{className:"flex items-center gap-3",children:n.jsxs("div",{className:"text-[#CCCCCC] font-['Inter'] flex items-center gap-2 font-medium text-sm",children:["When balance hits zero, auto-recharge by",n.jsx("input",{title:"Amount Value",type:"number",value:null!==h?h:m,disabled:"active"!==(null==e?void 0:e.status),onChange:e=>{const t=parseFloat(e.target.value)||0,n=Math.min(f||0,1e3),s=Math.max(0,Math.min(t,n)),i=Math.round(100*s)/100;fg(eE.UNIVERSAL_KEYS_EVENTS.AUTO_RECHARGE_UPDATED_VALUE,{value:i}),x(i),N&&N(i)},className:"w-16 px-2 py-1 bg-[#18181A] border border-[#333333] rounded-[6px] font-medium text-[#CCCCCC] focus:outline-none focus:ring-0 focus:text-white text-center [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none disabled:opacity-50 disabled:cursor-not-allowed",min:"0",max:Math.min(f||0,1e3),step:"0.01"}),n.jsx("span",{className:"text-[#CCCCCC] text-sm",children:"Credit"})]})})})]}),n.jsx("div",{className:"flex items-center gap-3 max-h-[22px]",children:null!==h&&p&&F?n.jsx("div",{className:"flex items-center gap-2",children:n.jsx("button",{type:"button",onClick:()=>{F(),fg(eE.UNIVERSAL_KEYS_EVENTS.AUTO_RECHARGE_CONFIRMED)},disabled:C,className:"flex items-center font-semibold justify-center gap-1 p-2 text-[#0F0F10] bg-[#5FE55C] rounded-[8px] hover:bg-[#5FE55C]/90 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:C?n.jsxs(n.Fragment,{children:[n.jsx(hS,{className:"w-5 h-5 font-bold animate-spin"}),"Saving..."]}):n.jsxs(n.Fragment,{children:[n.jsx("img",{src:P7,alt:"Check",className:"w-5 h-5"}),"Save & Confirm"]})})}):n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"text-[#646466] font-medium",children:p?"Enabled":"Disabled"}),n.jsx(cA,{checked:p,onCheckedChange:e=>{fg(eE.UNIVERSAL_KEYS_EVENTS.AUTO_RECHARGE_TOGGLE_CLICKED,{enabling:e}),g(e)},disabled:v||"active"!==(null==e?void 0:e.status),className:"data-[state=checked]:bg-[#00A1B2] data-[state=unchecked]:bg-[#323233] disabled:opacity-50"})]})})]}),n.jsx("div",{className:"mt-8 md:hidden bg-[#1D1D1F]",children:n.jsx("div",{className:"flex items-center gap-3",children:n.jsxs("div",{className:"text-[#CCCCCC] font-['Inter'] flex flex-col items-start gap-2 font-medium text-sm",children:["When balance hits zero, auto-recharge by",n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("input",{title:"Amount Value",type:"number",value:null!==h?h:m,disabled:"active"!==(null==e?void 0:e.status),onChange:e=>{const t=parseFloat(e.target.value)||0,n=Math.min(f||0,1e3),s=Math.max(0,Math.min(t,n)),i=Math.round(100*s)/100;x(i),N&&N(i)},className:"w-16 px-2 py-1 bg-[#18181A] border border-[#333333] rounded-[6px] font-medium text-[#CCCCCC] focus:outline-none focus:ring-0 focus:text-white text-center [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none disabled:opacity-50 disabled:cursor-not-allowed",min:"0",max:Math.min(f||0,1e3),step:"0.01"}),n.jsx("span",{className:"text-[#CCCCCC] text-sm",children:"credits"})]})]})})})]})]},"main"),"regenerateKey"===b&&n.jsxs(Pt.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},className:"space-y-8",children:[n.jsxs("div",{className:"flex flex-col space-y-6",children:[n.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-full bg-[#FF80801A]",children:n.jsx("img",{src:M7,alt:"Alert",className:"w-5 h-5"})}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-[22px] font-medium text-white",children:"Regenerate API Key?"}),n.jsxs("p",{className:"text-[#C4C4CC] font-medium",children:["Your current key will be"," ",n.jsx("span",{className:"text-[#FF6B6B] font-medium",children:"permanently deleted"})," ","and stop working immediately. Update the new key in all your applications to restore functionality."]})]})]}),n.jsxs("div",{className:"flex justify-end gap-4",children:[n.jsx("button",{type:"button",onClick:A,className:"px-4 py-3 font-medium text-[#ACACB2] bg-[#FFFFFF0A] rounded-full hover:bg-[#FFFFFF10] hover:text-white transition-colors",children:"Cancel"}),n.jsx("button",{type:"button",onClick:async()=>{try{fg(eE.UNIVERSAL_KEYS_EVENTS.UNIVERSAL_KEY_REGENERATED),await d(),u("main")}catch(e){}},disabled:c,className:"flex items-center justify-center gap-2 px-4 py-3 font-semibold text-[#331A1A] bg-[#FF8080] rounded-full hover:bg-[#FF5555] disabled:opacity-50 disabled:cursor-not-allowed",children:c?n.jsxs(n.Fragment,{children:["Regenerating...",n.jsx(hS,{className:"w-4 h-4 animate-spin"})]}):n.jsxs(n.Fragment,{children:["Regenerate & Copy",n.jsx("img",{src:L7,alt:"Arrow",className:"w-6 h-6"})]})})]})]},"regenerateKey"),"confirmAutoRecharge"===b&&n.jsxs(Pt.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},className:"space-y-8",children:[n.jsxs("div",{className:"flex flex-col space-y-6",children:[n.jsx("img",{src:R7,alt:"Alert",className:"w-10 h-10"}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-[22px] font-medium text-white",children:"Enable Auto recharge?"}),n.jsxs("p",{className:"text-[#C4C4CC] font-medium",children:["You're about to enable automatic recharging for your API key.",n.jsx("br",{})," Your API key will automatically recharge with"," ",n.jsxs("span",{className:"text-[#66EAFF] font-medium",children:[(null!==h?h:m).toFixed(2)," ","credits"]})," ","when the balance hits zero."]})]})]}),n.jsx("div",{className:"bg-[#FFAE6614] rounded-[8px] p-4",children:n.jsxs("div",{className:"flex flex-col items-start gap-[6px]",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("img",{src:A7,alt:"Info",className:"w-6 h-6"}),n.jsx("h4",{className:"text-[#FFAE66] font-medium text-sm",children:"This is a one-way transfer"})]}),n.jsx("p",{className:"text-[#FFAE66]/50 text-sm font-medium",children:"Credits cannot be transferred back once moved to your API key. Only enable if you plan to use these credits for API calls."})]})}),n.jsxs("div",{className:"flex justify-end gap-4",children:[n.jsx("button",{type:"button",onClick:A,className:"px-4 py-3 font-medium text-[#ACACB2] bg-[#FFFFFF0A] rounded-full hover:bg-[#FFFFFF10] hover:text-white transition-colors",children:"Cancel"}),n.jsx("button",{type:"button",onClick:_,disabled:C,className:"flex items-center justify-center gap-2 px-4 py-3 font-semibold text-[#0F0F10] bg-[#FFFFFF] rounded-full hover:bg-[#FFFFFF]/90 disabled:opacity-50 disabled:cursor-not-allowed",children:C?n.jsxs(n.Fragment,{children:["Enabling...",n.jsx(hS,{className:"w-4 h-4 animate-spin"})]}):n.jsx(n.Fragment,{children:"Enable Auto Recharge"})})]})]},"confirmAutoRecharge")]})}),E&&Re.createPortal(n.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/60 backdrop-blur-sm",onClick:e=>{e.target===e.currentTarget&&I(!1)},children:n.jsxs(Pt.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.2},className:"relative mx-4 w-full max-w-md rounded-2xl bg-[#18181A] border border-[#242424] font-['Inter'] overflow-hidden shadow-2xl",style:{pointerEvents:"auto"},onClick:e=>e.stopPropagation(),children:[n.jsxs("div",{className:"flex items-center justify-between p-4 md:p-6",children:[n.jsx("h2",{className:"text-[18px] md:text-[22px] font-medium text-white",children:"Add Balance"}),n.jsx("button",{type:"button",onClick:()=>I(!1),className:"w-6 h-6 flex items-center justify-center text-[#737780] hover:text-white transition-colors","aria-label":"Close modal",children:n.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),n.jsxs("div",{className:"px-4 pb-4 md:px-6 md:pb-6",children:[n.jsxs("div",{className:"p-6 rounded-[8px] space-y-3 text-center bg-[#1D1D1F] mb-6",children:[n.jsxs("div",{className:"flex items-center justify-center gap-2 text-[#737380]",children:[n.jsx("img",{src:I7,alt:"Key",className:"w-6 h-6 opacity-30"}),n.jsx("span",{className:"text-sm font-medium",children:"API Key balance"})]}),n.jsx("div",{className:"text-4xl font-bold text-[#C8C8CA]",children:i?n.jsxs("div",{className:"flex items-center justify-center gap-2",children:[n.jsx(hS,{className:"w-6 h-6 animate-spin"}),"Loading..."]}):`${(null==(S=null==t?void 0:t.remaining)?void 0:S.toFixed(2))||"0.00"} Credits`})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("span",{className:"text-[#666666] text-sm",children:["Available Credits: ",n.jsxs("span",{className:"font-medium text-white",children:[(null==f?void 0:f.toFixed(2))||"0.00"," ECU"]})]})}),n.jsxs("div",{className:"flex items-center bg-[#66F0FF03] border border-[#66F0FF1F] rounded-lg p-4",children:[n.jsx("button",{type:"button",onClick:()=>{const e=Math.max(Math.round(100*(y-1))/100,0);w(e),T(e)},title:"Decrease amount","aria-label":"Decrease transfer amount",className:"text-[#66EAFF] bg-[#66F0FF1A] p-3 rounded-[8px] hover:text-[#66EAFF]/80 transition-colors",children:n.jsx(gS,{size:16,strokeWidth:3})}),n.jsx("div",{className:"flex-1 px-4",children:n.jsx("input",{type:"number",value:y,title:"Transfer amount",placeholder:"0.00","aria-label":"Transfer amount in credits",onChange:e=>{const t=parseFloat(e.target.value)||0,n=Math.min(f||0,1e3),s=Math.max(0,Math.min(t,n)),i=Math.round(100*s)/100;w(i),T(i)},className:"w-full text-2xl font-bold text-[#C8C8CA] bg-transparent text-center border-none outline-none [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none",min:"0",max:Math.min(f||0,1e3),step:"0.01"})}),n.jsx("button",{type:"button",onClick:()=>{const e=Math.min(f||0,1e3),t=Math.min(Math.round(100*(y+1))/100,e);w(t),T(t)},title:"Increase amount","aria-label":"Increase transfer amount",className:"text-[#66EAFF] bg-[#66F0FF1A] p-3 rounded-[8px] hover:text-[#66EAFF]/80 transition-colors",children:n.jsx(wS,{size:16,strokeWidth:3})})]}),n.jsxs("div",{className:"flex items-start gap-2 p-3 bg-[#FFAE6614] rounded-[8px]",children:[n.jsx("img",{src:A7,alt:"Info",className:"w-6 h-6"}),n.jsx("p",{className:"text-[#FFAE66] text-sm font-medium",children:"Credits transferred to your API key cannot be moved back to your account balance"})]}),n.jsx("button",{type:"button",onClick:async()=>{try{fg(eE.UNIVERSAL_KEYS_EVENTS.CREDIT_TRANSFERED),await j(),I(!1)}catch(e){}},disabled:C||0===y,className:"flex items-center justify-center w-auto gap-2 px-4 py-3 ml-auto font-semibold text-black bg-white rounded-full hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed",children:C?n.jsxs(n.Fragment,{children:[n.jsx(hS,{className:"w-4 h-4 animate-spin"}),"Processing..."]}):n.jsxs(n.Fragment,{children:["Transfer ",y," Credits",n.jsx("img",{src:T7,alt:"Arrow",className:"w-6 h-6"})]})})]})]})]})}),document.body)]})}function z7({providers:e,emergentKey:t,handleProviderToggle:s}){return n.jsx("div",{className:"space-y-6",children:n.jsxs("div",{className:"space-y-3",children:[n.jsx("div",{className:"flex flex-col items-start gap-1",children:n.jsx("p",{className:"text-white/40 text-sm font-['Inter'] font-medium",children:"Select which AI models this key can access. You only pay for what you use."})}),n.jsx("div",{className:"mt-5 space-y-6 p-4 bg-[#1D1D1F] rounded-[12px]",children:e.map(e=>n.jsxs("div",{className:"flex items-center justify-between rounded-lg",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 rounded-full bg-[#242424] flex items-center justify-center",children:n.jsx("img",{src:e.icon,alt:e.name,className:"h-5"})}),n.jsxs("div",{children:[n.jsx("div",{className:"font-medium text-[#E6E6E6]",children:e.name}),n.jsx("div",{className:"text-[#45474D] font-['Inter'] font-medium text-sm",children:e.description})]})]}),n.jsx(EE,{children:n.jsxs(IE,{delayDuration:0,children:[n.jsx(AE,{asChild:!0,children:n.jsx("div",{children:n.jsx(cA,{checked:e.enabled,onCheckedChange:()=>{s(e.id),fg(eE.LLM_PROVIDER_TOGGLED,{providerName:e.id,enabling:!e.enabled})},disabled:"active"!==(null==t?void 0:t.status),className:"data-[state=checked]:bg-[#00A1B2] data-[state=unchecked]:bg-[#323233] disabled:opacity-50"})})}),"active"!==(null==t?void 0:t.status)&&n.jsx(TE,{side:"left",align:"center",className:"bg-[#DDDDE6] text-black border-0 z-50",sideOffset:10,children:"Enable your Universal Key to configure providers"})]})})]},e.id))})]})})}function B7({universalKeyTab:e,setUniversalKeyTab:t,emergentKey:s,userBudget:i,isLoadingEmergentKey:a,isLoadingUserBudget:r,isCopied:o,setIsCopied:l,isTogglingKey:c,handleToggleKey:d,isRegeneratingKey:u,handleRegenerateKey:p,setUniversalKeyView:m,universalKeyView:h,autoRecharge:x,autoRechargeAmount:f,pendingAutoRechargeAmount:g,setPendingAutoRechargeAmount:v,credits:b,handleAutoRechargeToggle:y,isUpdatingConfig:w,providers:j,handleProviderToggle:C,handleConfirmAutoRecharge:N,transferAmount:F,setTransferAmount:_,handleTransferCredits:k,isIncreasingBudget:S,handleAutoRechargeAmountChange:E,handleSaveAutoRechargeAmount:I}){return De.useEffect(()=>{fg(eE.UNIVERSAL_KEYS_EVENTS.UNIVERSAL_KEY_TAB_OPENED)},[]),n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"max-md:hidden md:block pb-4 pt-6 pl-6",children:[n.jsx("h2",{className:"text-white max-md:text-center font-[Brockmann] text-[18px] font-medium leading-8",children:"Universal Key"}),n.jsx("p",{className:"mt-1 text-white/40 font-['Inter'] text-[14px] font-medium",children:"One key for all your LLM needs - no more juggling multiple provider keys."})]}),n.jsxs("div",{className:"flex border-b px-6 border-[#242424]",children:[n.jsx("button",{type:"button",onClick:()=>t("key-details"),className:"px-3 py-3 text-sm font-medium border-b-2 transition-colors "+("key-details"===e?"border-[#E5EFFF] text-[#E5EFFF]":"border-transparent text-[#8A8F98] hover:text-[#E5EFFF]"),children:"Key Details"}),n.jsx("button",{type:"button",onClick:()=>t("llm-providers"),className:"px-3 py-3 text-sm font-medium border-b-2 transition-colors "+("llm-providers"===e?"border-[#E5EFFF] text-[#E5EFFF]":"border-transparent text-[#8A8F98] hover:text-[#E5EFFF]"),children:"LLM Providers"})]}),n.jsx("div",{className:"flex-1 w-full h-full flex flex-col max-h-[calc(700px-120px)] overflow-hidden",children:n.jsxs("div",{className:"flex-1 w-full p-6 overflow-y-auto pb-[4rem]",children:["key-details"===e&&n.jsx(O7,{emergentKey:s,userBudget:i,isLoadingEmergentKey:a,isLoadingUserBudget:r,isCopied:o,setIsCopied:l,isTogglingKey:c,handleToggleKey:d,isRegeneratingKey:u,handleRegenerateKey:p,setUniversalKeyView:m,universalKeyView:h,autoRecharge:x,autoRechargeAmount:f,pendingAutoRechargeAmount:g,setPendingAutoRechargeAmount:v,credits:b,handleAutoRechargeToggle:y,isUpdatingConfig:w,transferAmount:F,setTransferAmount:_,handleTransferCredits:k,isIncreasingBudget:S,handleAutoRechargeAmountChange:E,handleSaveAutoRechargeAmount:I,handleConfirmAutoRecharge:N}),"llm-providers"===e&&n.jsx(z7,{providers:j,emergentKey:s,handleProviderToggle:C})]})})]})}const H7=({width:e,height:t,size:s=16,fill:i,color:a="#808080",className:r,onClick:o})=>{const l=e??s,c=t??s,d=i??a;return n.jsx("svg",{width:l,height:c,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:r,onClick:o,style:{cursor:o?"pointer":"default"},children:n.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.01781 1.77114C5.85109 1.55645 6.72751 1.57629 7.55021 1.82849C8.37292 2.08068 9.1099 2.5554 9.67971 3.2002C10.2495 3.845 10.63 4.63477 10.7791 5.48225C10.9281 6.32973 10.84 7.20193 10.5245 8.00247L13.5905 10.5978C13.823 10.7943 14.0122 11.0369 14.1461 11.3103C14.2801 11.5837 14.3558 11.882 14.3685 12.1861C14.3813 12.4903 14.3307 12.7938 14.2201 13.0775C14.1095 13.3611 13.9412 13.6187 13.7259 13.8339C13.5106 14.0492 13.253 14.2174 12.9693 14.328C12.6857 14.4385 12.3822 14.489 12.078 14.4762C11.7738 14.4634 11.4756 14.3876 11.2022 14.2536C10.9289 14.1196 10.6863 13.9304 10.4898 13.6978L7.89581 10.6331C7.09517 10.9492 6.22272 11.0377 5.37491 10.8889C4.5271 10.74 3.73697 10.3596 3.09187 9.78974C2.44677 9.21985 1.97184 8.48266 1.71958 7.65968C1.46732 6.83669 1.44756 5.95998 1.66248 5.12647C1.69278 5.00936 1.75408 4.90257 1.83993 4.81733C1.92577 4.7321 2.03299 4.67156 2.15032 4.6421C2.26765 4.61263 2.39075 4.61531 2.50669 4.64987C2.62262 4.68442 2.7271 4.74958 2.80915 4.83847L4.83915 7.04314L6.37048 6.47981L6.93515 4.94647L4.72915 2.91981C4.63972 2.83779 4.57411 2.73312 4.53928 2.61688C4.50444 2.50065 4.50166 2.37715 4.53124 2.25947C4.56081 2.14178 4.62164 2.03427 4.70729 1.94831C4.79294 1.86235 4.90023 1.80114 5.01781 1.77114Z",fill:d})})},$7=({size:e=20,width:t,height:s,fill:i="#E6E6E6",className:a,onClick:r,style:o})=>{const l=t||e,c=s||e;return n.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:l,height:c,viewBox:"0 0 20 20",fill:"none",className:a,onClick:r,style:o,children:[n.jsx("path",{d:"M14.5039 4C15.8846 4 17.0039 5.11929 17.0039 6.5V13.5C17.0039 14.8807 15.8846 16 14.5039 16H5.50391C4.12319 16 3.00391 14.8807 3.00391 13.5V6.5C3.00391 5.11929 4.12319 4 5.50391 4H14.5039Z",fill:i}),n.jsx("path",{d:"M5 12C5 10.8954 5.89543 10 7 10H13C14.1046 10 15 10.8954 15 12C15 13.1046 14.1046 14 13 14H7C5.89543 14 5 13.1046 5 12Z",fill:"#1D1D1E"}),n.jsx("rect",{width:"2",height:"2",rx:"1",transform:"matrix(1 0 0 -1 7 13)",fill:i}),n.jsx("rect",{width:"2",height:"2",rx:"1",transform:"matrix(1 0 0 -1 11 13)",fill:i}),n.jsx("rect",{y:"9",width:"2",height:"4",rx:"1",fill:i}),n.jsx("rect",{x:"18",y:"9",width:"2",height:"4",rx:"1",fill:i})]})},U7=gv.robots.research,V7=De.memo(({server:e,showActions:t,onMouseEnter:s,onMouseLeave:i,handleEditMCPServer:a})=>{const r="public"===e.type&&!0===e.key_required,o=!0===e.key_required||"private"===e.type;return n.jsxs("div",{className:"flex gap-4 p-4 rounded-[12px] justify-between bg-transparent hover:bg-[#FFFFFF08] transition-colors relative",onMouseEnter:s,onMouseLeave:i,children:[n.jsx("div",{className:"flex items-center justify-center bg-[#313133] rounded-[12px] h-10 w-10",children:e.icon?n.jsx("img",{alt:"Image",src:e.icon,className:"w-6 h-6"}):n.jsx(ME,{size:24})}),n.jsxs("div",{className:fb("flex flex-col gap-[2px] flex-1 w-full"),children:[n.jsxs("div",{className:"flex items-center gap-[6px]",children:[n.jsx("span",{className:"text-[#D8DDE6] font-medium",children:e.display_name}),e.key_required&&n.jsxs("div",{className:"flex items-center text-[#D8DDE6]/80 bg-[#D8DDE6]/10 rounded-full px-[6px] font-inter font-semibold text-[12px] gap-1 py-[2px]",children:[n.jsx(E9,{fill:"#D8DDE6",size:16})," Key needed"]})]}),n.jsx("div",{className:"text-[14px] font-inter truncate text-[#777a80] mb-1",children:e.description})]}),n.jsx("div",{className:"absolute flex items-center gap-2 -translate-y-1/2 right-2 top-1/2",children:r?n.jsxs("button",{type:"button",className:"text-[#C4C4CC] backdrop-blur-lg flex items-center gap-1 px-[10px] rounded-full py-[6px] font-medium bg-[#FFFFFF14] hover:bg-white/15",title:"Configure Button",onClick:()=>a(e),children:[n.jsx(LE,{size:20,color:"#E6E6E6"}),"Configure"]}):o?n.jsxs("button",{type:"button",className:"flex items-center font-medium gap-1 backdrop-blur-lg p-[6px] pl-3 pr-4 rounded-full text-[#C4C4CC] bg-[#FFFFFF0A] hover:bg-[#FFFFFF10] transition-colors duration-150 group",onClick:()=>a(e),children:[n.jsx(lM,{width:20,height:20,fill:"#C4C4CC"}),"Edit"]}):null})]},e.id)});function W7({agentsTab:e,setAgentsTab:t,isLoadingAgents:s,agentsError:i,agentsForbidden:a,agents:r,subAgents:o,mcpServers:l,isLoadingMCPServers:c,mcpServersError:d,handleCreateAgent:u,handleEditAgent:p,getAgentDescription:m,fetchAgents:h,fetchMCPServers:x,currentWorkspace:f,orgDetails:g,showToast:v,onClose:b,location:y}){const w=BE(),j=ZE(),C="personal"!==f?f:void 0;eI();const[N,F]=De.useState({}),_=e=>N[e]||{showActions:!1,imageError:!1,showFallback:!1},k=(e,t)=>{F(n=>({...n,[e]:{..._(e),...t}}))},S=()=>{if("personal"!==f&&v&&"personal"===y)return void v.info("Switch to personal workspace to manage personal MCP tools");const e={tab:"personal"===y?"manage-agents":"shared-agents",currentWorkspace:f};j.open({onServerAdded:()=>{try{x(),null==v||v.success("MCP server created successfully!")}catch(e){null==v||v.success("MCP server created successfully!")}},organizationId:C||null,reopenAccountSettings:e}),b()},E=e=>{if("personal"!==f&&v&&"personal"===y)return void v.info("Switch to personal workspace to manage personal MCP tools");const t={tab:"personal"===y?"manage-agents":"shared-agents",currentWorkspace:f};j.open({onServerAdded:()=>{try{x(),null==v||v.success("MCP server updated successfully!")}catch(e){null==v||v.success("MCP server updated successfully!")}},organizationId:C||null,editMode:!0,serverData:e,reopenAccountSettings:t}),b()};De.useEffect(()=>{fg(eE.MANAGE_AGENTS_EVENTS.MANAGE_AGENTS_TAB_OPENED)},[]);const I=De.useCallback(e=>()=>{k(e,{showActions:!0})},[]),A=De.useCallback(e=>()=>{k(e,{showActions:!1})},[]);return De.useCallback(e=>()=>{k(e,{imageError:!0})},[]),De.useCallback(e=>()=>{k(e,{showFallback:!0})},[]),n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"pt-6 pb-4 pl-6 max-md:hidden md:block",children:[n.jsx("h2",{className:"max-md:text-center text-white font-[Brockmann] text-[18px] font-medium leading-8",children:"Manage Agents"}),n.jsx("p",{className:"mt-1 text-white/40 font-['Inter'] text-[14px] font-medium",children:"Create, edit and manage your custom agents"})]}),n.jsxs("div",{className:"flex border-b px-6 border-[#242424]",children:[n.jsx("button",{type:"button",onClick:()=>t("main"),className:"px-3 py-3 text-sm font-medium border-b-2 transition-colors "+("main"===e?"border-[#E5EFFF] text-[#E5EFFF]":"border-transparent text-[#8A8F98] hover:text-[#E5EFFF]"),children:"Main agents"}),n.jsx("button",{type:"button",onClick:()=>t("sub"),className:"px-3 py-3 text-sm font-medium border-b-2 transition-colors "+("sub"===e?"border-[#E5EFFF] text-[#E5EFFF]":"border-transparent text-[#8A8F98] hover:text-[#E5EFFF]"),children:"Sub-agents"}),n.jsx("button",{type:"button",onClick:()=>t("mcp"),className:"px-3 py-3 text-sm font-medium border-b-2 transition-colors "+("mcp"===e?"border-[#E5EFFF] text-[#E5EFFF]":"border-transparent text-[#8A8F98] hover:text-[#E5EFFF]"),children:"MCP Tools"})]}),n.jsx("div",{className:"flex-1 w-full h-full flex flex-col max-h-[calc(700px-120px)] overflow-hidden",children:n.jsxs("div",{className:"flex-1 w-full p-6 overflow-y-auto",children:[(s||"mcp"===e&&c)&&n.jsxs("div",{className:"grid w-full grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3",children:[n.jsx("div",{className:"border-[1px] border-dashed border-[#80FFF933] rounded-xl p-2 md:min-h-[200px]",children:n.jsxs("div",{className:"bg-[#80FFF905] rounded-xl flex md:flex-col h-full w-full items-center justify-center",children:[n.jsx("div",{className:"bg-[#80FFF910] rounded-full w-12 h-12 md:mb-4"}),n.jsx("div",{className:"bg-[#80FFF910] rounded w-20 max-md:ml-3 h-5"})]})}),Array.from({length:5}).map((e,t)=>n.jsxs("div",{className:"bg-[#1C1C1F] border border-[#FFFFFF0A] rounded-[16px] p-4 min-h-[200px] relative",children:[n.jsx("div",{className:"w-12 h-12 rounded-full bg-[#FFFFFF0F] mb-4"}),n.jsxs("div",{className:"mb-6",children:[n.jsx("div",{className:"bg-[#FFFFFF08] rounded h-5 mb-2 w-3/4"}),n.jsx("div",{className:"bg-[#FFFFFF05] rounded h-4 mb-1 w-full"}),n.jsx("div",{className:"bg-[#FFFFFF05] rounded h-4 w-2/3"})]}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"bg-[#FFFFFF0A] rounded-full px-3 py-[6px] w-16 h-7"}),n.jsx("div",{className:"bg-[#FFFFFF0A] rounded-full px-3 py-[6px] w-16 h-7"})]})]},t))]}),(i&&!a&&"mcp"!==e||d&&"mcp"===e)&&n.jsxs("div",{className:"flex flex-col items-center justify-center px-8 py-16 text-center",children:[n.jsx("div",{className:"w-10 h-10 rounded-full bg-[#EEC257] bg-opacity-10 p-2 flex items-center justify-center",children:n.jsx($7,{fill:"#EEC257",width:40,height:40,className:""})}),n.jsx("h3",{className:"mt-2 text-white font-[Brockmann] text-[20px] font-medium mb-3",children:"Unlock MCP Tools"}),n.jsx("p",{className:"text-[#8A8F98] font-['Inter'] text-[16px] leading-6 mb-8 max-w-md",children:"MCP Tools are available with our pro plan. Upgrade your account to create and use mcp tools."}),n.jsxs("button",{type:"button",onClick:()=>{w.open({organizationId:"personal"!==f&&f||void 0,organizationName:"personal"!==f?null==g?void 0:g.name:void 0,planType:"personal"!==f?"team":"personal"}),b()},className:"px-6 py-3 rounded-[10px] bg-[#F3CA5F] shadow-[0_0_20px_0_rgba(243,202,95,0.20)] hover:bg-opacity-[0.75] text-[#0F0F10] font-semibold text-[15px] leading-[20px] tracking-[-0.2px] font-['Brockmann'] transition-colors flex items-center gap-2",children:[n.jsx("p",{className:"text-[#0F0F10] font-semibold text-[15px] leading-[20px] tracking-[-0.2px] font-['Brockmann']",children:"Upgrade Account"}),n.jsx("div",{className:"object-contain w-5 h-5",children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",children:n.jsx("path",{d:"M9.01807 4.94727C9.14234 4.57813 9.67013 4.57816 9.79443 4.94727L10.5483 7.18555C10.9231 8.29864 11.8075 9.17173 12.9341 9.54199L15.1987 10.2871C15.5723 10.4099 15.5723 10.9319 15.1987 11.0547L12.9341 11.7988C11.8074 12.1691 10.9231 13.0431 10.5483 14.1562L9.79443 16.3936C9.67016 16.7628 9.14234 16.7628 9.01807 16.3936L8.26416 14.1562C7.88944 13.0432 7.00585 12.1691 5.87939 11.7988L3.61377 11.0547C3.24017 10.9319 3.2402 10.4099 3.61377 10.2871L5.87939 9.54199C7.00571 9.17164 7.88941 8.29844 8.26416 7.18555L9.01807 4.94727ZM14.0825 3.44629C14.1324 3.29888 14.3433 3.29878 14.3931 3.44629L14.6733 4.28027C14.8363 4.76414 15.2208 5.14363 15.7104 5.30469L16.5542 5.58203C16.7036 5.63114 16.7036 5.84054 16.5542 5.88965L15.7104 6.16699C15.2208 6.32805 14.8363 6.70754 14.6733 7.19141L14.3931 8.02539C14.3433 8.17279 14.1324 8.17269 14.0825 8.02539L13.8013 7.19141C13.6383 6.70745 13.254 6.32797 12.7642 6.16699L11.9204 5.88965C11.771 5.84054 11.771 5.63116 11.9204 5.58203L12.7642 5.30469C13.254 5.14371 13.6383 4.76419 13.8013 4.28027L14.0825 3.44629Z",fill:"#0F0F10"})})})]})]}),!s&&!i&&"mcp"!==e&&n.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3",children:[n.jsx("div",{onClick:()=>{"personal"!==f&&v&&"personal"===y?v.info("Switch to personal workspace to manage personal agents"):u()},className:fb("border-[1px] border-dashed border-[#80FFF933] rounded-xl p-2 transition-colors cursor-pointer flex flex-col items-center justify-center md:min-h-[200px] group","main"!==e&&"border-[#DD99FF33]"),children:n.jsxs("div",{className:fb("bg-[#80FFF905] rounded-xl flex md:flex-col h-full w-full items-center justify-center","main"!==e&&"bg-[#DD99FF05]"),children:[n.jsx("div",{className:"w-12 h-12 self-center rounded-full bg-[#80FFF905] flex items-center justify-center md:mb-4 group-hover:scale-110 transition-transform",children:n.jsx(cT,{size:24,color:"main"===e?"#80FFF9":"#DD99FF"})}),n.jsxs("h3",{className:fb("max-md:ml-3 self-center text-[#80FFF9] font-medium text-lg","main"!==e&&"text-[#DD99FF]"),children:["New ","main"===e?"Agent":"Sub-agent"]})]})}),("main"===e?r:o).map(e=>{var t,s;return n.jsxs("div",{onClick:()=>{fg(eE.MANAGE_AGENTS_EVENTS.EXISTING_AGENT_OPENED,{agent:e}),"personal"!==f&&v&&"personal"===y?v.info("Switch to personal workspace to manage personal agents"):p(e)},className:"bg-[#1C1C1F] border border-[#FFFFFF0A] rounded-[16px] p-4 transition-colors relative group min-h-[200px] cursor-pointer hover:bg-[#212124] hover:border-[#FFFFFF15]",children:[n.jsx("div",{className:"flex items-center justify-center w-12 h-12 rounded-full bg-[#FFFFFF0F] mb-4",children:n.jsx("img",{src:U7,alt:"Agent",className:"w-6 h-6"})}),n.jsxs("div",{className:"mb-6 space-y-1",children:[n.jsx("h3",{className:"text-[#E6E6E6] font-medium capitalize",children:e.prompt_name.replaceAll("_"," ")}),n.jsx("p",{className:"text-[#666666] text-[14px] font-['Inter'] line-clamp-2",children:m(e.parent_prompt)})]}),n.jsxs("div",{className:"flex items-center gap-4 text-[#8A8F98] text-sm transition-colors group-hover:text-[#D9D9D9]",children:[n.jsxs("div",{className:"flex items-center gap-1 bg-[#FFFFFF0A] rounded-full px-3 py-[6px]",children:[n.jsxs("div",{className:"relative",children:[n.jsx(PE,{size:16,primaryColor:"#808080",className:"group-hover:hidden"}),n.jsx(PE,{size:16,primaryColor:"#D9D9D9",className:"hidden group-hover:block"})]}),n.jsx("span",{children:(null==(t=e.prompt_subagents)?void 0:t.length)||0})]}),n.jsxs("div",{className:"flex items-center gap-1 bg-[#FFFFFF0A] rounded-full px-3 py-[6px]",children:[n.jsxs("div",{className:"relative",children:[n.jsx(H7,{size:16,color:"#808080",className:"group-hover:hidden"}),n.jsx(H7,{size:16,color:"#D9D9D9",className:"hidden group-hover:block"})]}),n.jsx("span",{children:(null==(s=e.prompt_tools)?void 0:s.length)||0})]})]})]},e.id)})]}),!c&&!d&&"mcp"===e&&n.jsxs("div",{className:"grid grid-cols-1",children:[n.jsxs("div",{className:"flex gap-4 p-4 mb-4 rounded-[12px] bg-[#FFFFFF08] cursor-pointer hover:bg-[#FFFFFF08] transition-colors",onClick:S,children:[n.jsx("div",{className:"flex items-center justify-center bg-[#313133] rounded-full h-10 w-10",children:n.jsx(S9,{size:24})}),n.jsxs("div",{className:"flex flex-col gap-[2px]",children:[n.jsx("span",{className:"text-[#B7BFCC] font-medium",children:"New MCP Server"}),n.jsx("span",{className:"text-[#737780] font-medium font-inter text-[14px]",children:"Add a Custom MCP server"})]})]}),Array.isArray(l)&&l.map(e=>{const{showActions:t}=_(e.id);return n.jsx(V7,{server:e,showActions:t,onMouseEnter:I(e.id),onMouseLeave:A(e.id),handleEditMCPServer:E},e.id)})]}),!c&&!d&&"mcp"===e&&Array.isArray(l)&&0===l.length&&n.jsxs("div",{className:"flex flex-col items-center justify-center px-8 py-16 text-center",children:[n.jsx("div",{className:"w-16 h-16 rounded-full bg-[#80FFF905] flex items-center justify-center mb-4",children:n.jsx(ME,{size:32,color:"#80FFF9"})}),n.jsx("h3",{className:"text-white font-[Brockmann] text-[20px] font-medium mb-3",children:"No MCP Tools Yet"}),n.jsx("p",{className:"text-[#8A8F98] font-['Inter'] text-[16px] leading-6 mb-8 max-w-md",children:"Create your first MCP tool to enable advanced interactions with external applications and services."}),n.jsx("button",{type:"button",onClick:S,className:"px-6 py-3 rounded-[10px] bg-[#80FFF9] hover:bg-opacity-[0.8] text-[#0F0F10] font-semibold text-[15px] leading-[20px] tracking-[-0.2px] font-['Brockmann'] transition-colors",children:"Create MCP Tool"})]}),!s&&a&&"mcp"!==e&&n.jsxs("div",{className:"flex flex-col items-center justify-center px-8 py-16 text-center",children:[n.jsx("div",{className:"w-10 h-10 rounded-full bg-[#EEC257] bg-opacity-10 p-2 flex items-center justify-center",children:n.jsx($7,{fill:"#EEC257",width:40,height:40,className:""})}),n.jsx("h3",{className:"mt-2 text-white font-[Brockmann] text-[20px] font-medium mb-3",children:"Unlock Custom Agents"}),n.jsx("p",{className:"text-[#8A8F98] font-['Inter'] text-[16px] leading-6 mb-8 max-w-md",children:"Custom agents are available with our premium plans. Upgrade your account to create and manage your own AI agents."}),n.jsxs("button",{type:"button",onClick:()=>{w.open({organizationId:"personal"!==f&&f||void 0,organizationName:"personal"!==f?null==g?void 0:g.name:void 0,planType:"personal"!==f?"team":"personal"}),b()},className:"px-6 py-3 rounded-[10px] bg-[#F3CA5F] shadow-[0_0_20px_0_rgba(243,202,95,0.20)] hover:bg-opacity-[0.75] text-[#0F0F10] font-semibold text-[15px] leading-[20px] tracking-[-0.2px] font-['Brockmann'] transition-colors flex items-center gap-2",children:[n.jsx("p",{className:"text-[#0F0F10] font-semibold text-[15px] leading-[20px] tracking-[-0.2px] font-['Brockmann']",children:"Upgrade Account"}),n.jsx("div",{className:"object-contain w-5 h-5",children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",children:n.jsx("path",{d:"M9.01807 4.94727C9.14234 4.57813 9.67013 4.57816 9.79443 4.94727L10.5483 7.18555C10.9231 8.29864 11.8075 9.17173 12.9341 9.54199L15.1987 10.2871C15.5723 10.4099 15.5723 10.9319 15.1987 11.0547L12.9341 11.7988C11.8074 12.1691 10.9231 13.0431 10.5483 14.1562L9.79443 16.3936C9.67016 16.7628 9.14234 16.7628 9.01807 16.3936L8.26416 14.1562C7.88944 13.0432 7.00585 12.1691 5.87939 11.7988L3.61377 11.0547C3.24017 10.9319 3.2402 10.4099 3.61377 10.2871L5.87939 9.54199C7.00571 9.17164 7.88941 8.29844 8.26416 7.18555L9.01807 4.94727ZM14.0825 3.44629C14.1324 3.29888 14.3433 3.29878 14.3931 3.44629L14.6733 4.28027C14.8363 4.76414 15.2208 5.14363 15.7104 5.30469L16.5542 5.58203C16.7036 5.63114 16.7036 5.84054 16.5542 5.88965L15.7104 6.16699C15.2208 6.32805 14.8363 6.70754 14.6733 7.19141L14.3931 8.02539C14.3433 8.17279 14.1324 8.17269 14.0825 8.02539L13.8013 7.19141C13.6383 6.70745 13.254 6.32797 12.7642 6.16699L11.9204 5.88965C11.771 5.84054 11.771 5.63116 11.9204 5.58203L12.7642 5.30469C13.254 5.14371 13.6383 4.76419 13.8013 4.28027L14.0825 3.44629Z",fill:"#0F0F10"})})})]})]})]})})]})}function q7(e){var t;return!!e&&("status"in e&&403===e.status||"data"in e&&403===(null==(t=e.data)?void 0:t.status)||"originalStatus"in e&&403===e.originalStatus||"error"in e&&"Pro user privileges required"===e.error)}function G7(...e){return e.some(e=>e&&q7(e))}function Z7(e,t){return t&&"personal"!==t?{...e,organization_id:t}:e}function Y7(e){return e&&"personal"!==e?e:void 0}function K7(e){return"personal"!==e}const J7=gv.common.stars;function Q7({className:e="",variant:t="default",size:s="md",isNewVariant:i=!1}){const[a,r]=De.useState(!1),{getCurrentOrganizationId:o,getCurrentWorkspaceData:l}=Kg(),{user:c}=Wg(),{tier:d}=Xg(),u=o(),p=l(),m=u&&"personal"!==u,h={background:"\n      linear-gradient(180deg, #ffffff, #000000),\n      #F3CA5F\n    ",backgroundSize:"cover",backgroundPosition:"center",backgroundBlendMode:"overlay, normal"};return n.jsxs(n.Fragment,{children:[n.jsxs("button",{onClick:()=>{(null==c?void 0:c.id)&&cp(c.id,d||"free","unknown","monthly",m||!1,u,"upgrade_button_click"),fg(QS.TIER_UPGRADE_BUTTON_CLICKED),r(!0)},style:i?{boxShadow:"0px 0px 20px 0px #F3CA5F66, 0px 2.18px 3.64px 1.45px #FFFFFF66 inset, 0px -1.45px 0px 0px #00000033 inset, 0px 0.73px 0.73px 0.73px #0000001A"}:h,className:`${i?"text-[14px] h-[36px] w-full flex items-center justify-center text-[#0F0F10] bg-[#F3CA5F] font-semibold p-2 rounded-[8px] gap-1":`${(()=>{switch(t){case"outline":return"border border-[#F3CA5F] text-[#F3CA5F] hover:bg-[#F3CA5F]/10";case"subtle":return"bg-[#F3CA5F]/10 text-[#F3CA5F] hover:bg-[#F3CA5F]/20";default:return"bg-[#F3CA5F] text-black hover:bg-[#E7A93C]"}})()} ${(()=>{switch(s){case"sm":return"px-3 py-1 text-sm";case"lg":return"px-6 py-3 text-lg";default:return"px-4 py-2"}})()} flex items-center font-semibold font-brockmann p-[12px] px-4 justify-center rounded-lg tracking-[-0.2px] gap-2`} ${e}`,children:[n.jsx("img",{src:J7,alt:"right arrow",className:"w-6 h-6"}),n.jsx("span",{children:"Upgrade your Tier"})]}),n.jsx(wD,{isOpen:a,onOpenChange:r,organizationId:m?u:void 0,organizationName:m?null==p?void 0:p.name:void 0,planType:m?"team":"personal"})]})}const X7=gv.common.plusIcon;function eee({className:e="",variant:t="default",size:s="md",label:i="Buy More Credits"}){const[a,r]=De.useState(!1),[o,l]=De.useState(!1),{tier:c}=Xg(),{getCurrentOrganizationId:d,getCurrentWorkspaceData:u}=Kg(),p=d(),m=u(),h=p&&"personal"!==p,x=e=>{e.preventDefault(),e.stopPropagation(),"free"===c?l(!0):r(!0)};return n.jsxs(n.Fragment,{children:[n.jsxs("button",{type:"button",onClick:x,className:`${(()=>{switch(t){case"outline":return"border border-[#F3CA5F] text-[#F3CA5F] hover:bg-[#F3CA5F]/10";case"subtle":return"bg-[#F3CA5F]/10 text-[#F3CA5F] hover:bg-[#F3CA5F]/20";default:return"bg-[#F3CA5F] text-black hover:bg-[#E7A93C]"}})()} ${(()=>{switch(s){case"sm":return"px-3 py-1 text-sm";case"lg":return"px-6 py-3 text-lg";default:return"px-4 py-2"}})()} hidden px-4 py-3 rounded-lg justify-between font-semibold tracking-[-0.2px] md:flex items-center gap-2 ${e}`,children:[i,n.jsx("img",{src:X7,alt:"right arrow",className:"w-6 h-6"})]}),n.jsxs("button",{type:"button",onClick:x,className:"flex md:hidden min-h-[50px] w-full  bg-[#F3CA5F] text-black hover:bg-[#E7A93C] px-4 py-3 rounded-lg justify-between font-semibold tracking-[-0.2px] items-center gap-2 ",children:[i,n.jsx("img",{src:X7,alt:"right arrow",className:"w-6 h-6"})]}),n.jsx(HK,{isOpen:a,onOpenChange:r}),n.jsx(wD,{isOpen:o,onOpenChange:l,organizationId:h?p:void 0,organizationName:h?null==m?void 0:m.name:void 0,planType:h?"team":"personal"})]})}const tee=gv.common.settings;function nee({className:e=""}){const[t,s]=De.useState(!1),[i,a]=De.useState(!1),{getCurrentOrganizationId:r,getCurrentWorkspaceData:o}=Kg(),l=r(),c=o(),d=l&&"personal"!==l;tD();return n.jsxs(n.Fragment,{children:[n.jsx("button",{type:"button",onClick:()=>{s(!0)},className:`flex items-center justify-between flex-1 px-4 py-3 space-x-1 font-medium text-center text-white transition-colors border rounded-lg cursor-pointer border-white/20 bg-white/5 hover:border-white/30 hover:bg-white/10 hover:text-white/80 ${e}`,title:"Manage Subscriptions",disabled:i,children:i?n.jsxs(n.Fragment,{children:[n.jsx(hS,{className:"w-4 h-4 mr-2 animate-spin"}),n.jsx("span",{children:"Loading..."})]}):n.jsxs(n.Fragment,{children:["Manage your Subscriptions",n.jsx("img",{src:tee,alt:"settings",className:"w-6 h-6 ml-2"})]})}),n.jsx(wD,{isOpen:t,onOpenChange:s,organizationId:d?l:void 0,organizationName:d?null==c?void 0:c.name:void 0,planType:d?"team":"personal"})]})}const see=()=>{const[e,t]=De.useState(!1);return De.useEffect(()=>{const e=localStorage.getItem("mobile");t("true"===e)},[]),e},iee=({size:e=20,color:t="#80FFF9",className:s})=>n.jsx("svg",{width:e,height:e,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:s,children:n.jsx("path",{d:"M4.4 10H3.6L3.6 16.4C3.6 16.8243 3.76857 17.2313 4.06863 17.5314C4.36869 17.8314 4.77565 18 5.2 18H9.2V10H4.4ZM14.8 10H10.8V18H14.8C15.2243 18 15.6313 17.8314 15.9314 17.5314C16.2314 17.2313 16.4 16.8243 16.4 16.4V10H14.8ZM15.4328 6C15.5491 5.61081 15.6055 5.20617 15.6 4.8C15.6 3.256 14.344 2 12.8 2C11.5024 2 10.636 3.1856 10.0768 4.468C9.5256 3.256 8.6152 2 7.2 2C5.656 2 4.4 3.256 4.4 4.8C4.4 5.2768 4.4632 5.6712 4.5672 6H2L2 9.2H9.2V7.6H10.8V9.2H18V6H15.4328ZM6 4.8C6 4.1384 6.5384 3.6 7.2 3.6C7.9104 3.6 8.5712 4.82 8.9584 6H6.8C6.5008 6 6 6 6 4.8ZM12.8 3.6C13.4616 3.6 14 4.1384 14 4.8C14 6 13.4992 6 13.2 6H11.2184C11.6264 4.7392 12.2192 3.6 12.8 3.6Z",fill:t})}),aee=gv.common.copperCoin,ree=gv.common.sparklingStar,oee=gv.payments.info,lee=gv.payments.question,cee=gv.payments.external;function dee({tier:e}){const t="px-3 py-1.5 md:px-4 md:py-2 rounded-full max-h-[32px] md:max-h-[36px] flex items-center justify-center font-['Inter'] font-semibold text-sm md:text-base";if("free"===e)return n.jsx("div",{className:`${t} bg-[#363637]`,children:"Free Tier"});const s=`${t} transition-all ease-in-out duration-200 border border-[#37342A] bg-[#37342A] text-[#F3CA5F]`;return"starter"===e?n.jsxs("div",{className:s,children:["Starter Tier",n.jsx("img",{src:ree,alt:"tier icon",className:"w-4 h-4 md:w-5 md:h-5 ml-1.5 md:ml-2"})]}):"standard"===e?n.jsxs("div",{className:s,children:["Standard",n.jsx("img",{src:ree,alt:"tier icon",className:"w-4 h-4 md:w-5 md:h-5 ml-1.5 md:ml-2"})]}):"pro_mode"===e?n.jsxs("div",{className:s,children:["Pro Mode",n.jsx("img",{src:ree,alt:"tier icon",className:"w-4 h-4 md:w-5 md:h-5 ml-1.5 md:ml-2"})]}):"team"===e?n.jsxs("div",{className:s,children:["Team Plan",n.jsx("img",{src:ree,alt:"tier icon",className:"w-4 h-4 md:w-5 md:h-5 ml-1.5 md:ml-2"})]}):n.jsxs("div",{className:s,children:["Pro Tier",n.jsx("img",{src:ree,alt:"tier icon",className:"w-5 h-5 ml-2"})]})}function uee({tier:e,isMobile:t}){return t?n.jsx("div",{className:"flex flex-col gap-3",children:n.jsx("div",{className:"w-full",children:n.jsxs("button",{type:"button",onClick:e=>{e.preventDefault(),e.stopPropagation(),(null==window?void 0:window.ReactNativeWebView)&&window.ReactNativeWebView.postMessage(JSON.stringify({type:"OPEN_EXTERNAL_URL",url:"https://app.emergent.sh"}))},className:"flex w-[90%] mt-2 ml-3 bg-[#F3CA5F] text-black hover:bg-[#E7A93C] p-2 rounded-lg justify-between font-semibold tracking-[-0.2px] items-center gap-2 text-sm",children:["Manage Account",n.jsx("span",{className:"text-base",children:"+"})]})})}):n.jsx("div",{className:"flex flex-col gap-3",children:"free"===e?n.jsx(Q7,{isNewVariant:!0,className:"w-full"}):n.jsxs(n.Fragment,{children:[n.jsx(nee,{}),n.jsx(eee,{})]})})}function pee({tier:e,creditResponse:t}){var s,i;return"free"!==e?null:((null==(s=null==t?void 0:t.daily_credits)?void 0:s.toFixed(2))??(null==(i=null==t?void 0:t.subscription)||i.monthly_credit_limit),null==t||t.daily_credit_per_day,n.jsx("div",{className:"mb-3",children:n.jsxs("p",{className:"text-[13px] font-medium md:text-sm text-white/50",children:["You're on the Free tier",t&&t.daily_credit_max_per_window>0?" with ":". ",t&&t.daily_credit_max_per_window>0&&n.jsxs("span",{className:"text-white",children:[t?t.daily_credit_per_day===t.daily_credit_max_per_window?`${t.daily_credit_max_per_window} monthly credits`:`${null==t?void 0:t.daily_credit_per_day} daily credits (upto ${t.daily_credit_max_per_window} per month)`:"","."]})," ","Unlock additional features and credits by upgrading your plan."]})}))}function mee(){const{credits:e,tier:t,personalTier:s,orgTier:i,creditResponse:a,dailyCreditsEnabled:r}=Xg(),o=see(),l=Le(),{isMobile:c}=QE(),[d,u]=De.useState(!1);De.useEffect(()=>{u(l.pathname.includes("chat")&&c)},[l,c]);const p=(null==a?void 0:a.daily_credit_max_per_window)&&(null==a?void 0:a.daily_credit_max_per_window)>20?"Daily":"Free";return d?null:n.jsx(EE,{children:n.jsxs("div",{className:"w-full p-3 md:px-4 md:py-5 px-3 md:px-4 bg-[#272829CC] backdrop-blur-xl rounded-xl text-white flex flex-col",children:[n.jsxs("div",{className:"flex items-start justify-between space-y-0",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("h2",{className:"text-sm md:text-base text-white/50",style:{fontFamily:"Inter",fontWeight:500},children:"Available Credits"}),n.jsxs(IE,{delayDuration:0,children:[n.jsx(AE,{asChild:!0,children:n.jsx("img",{src:lee,alt:"Info",className:"w-3 h-3 ml-1 md:w-4 md:h-4"})}),n.jsx(TE,{className:"w-[364px] p-4 pl-2 mt-[6px] rounded-[12px] bg-[#272829]/95 backdrop-blur-md border-[#2E2F34] text-white shadow-2xl",side:"bottom",align:"end",style:{backdropFilter:"blur(20px)"},children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between pl-4",children:[n.jsx("h3",{className:"font-['Inter'] font-semibold text-white",children:"About Credits"}),n.jsxs("div",{className:"flex items-center gap-1 text-xs cursor-pointer text-white/70 hover:text-white/90",children:[n.jsx("span",{className:"font-['Inter'] text-[14px] text-[#FFFFFF99] underline",onClick:()=>window.open("https://atlas-kb.com/atlas-e74243keac/articles/769724-credits-and-pricing","_blank"),children:"Learn more"}),n.jsx("img",{src:cee,alt:"External",className:"w-5 h-5"})]})]}),n.jsxs("div",{className:"space-y-2 text-[13px] font-medium text-white/60",children:[n.jsxs("div",{className:"flex items-start gap-2",children:[n.jsx("div",{className:"flex-shrink-0 w-1 h-1 mt-2 rounded-full bg-white/50"}),n.jsx("p",{className:"leading-[22px] font-['Inter']",children:`Emergent prioritizes credit usage by first drawing from your monthly allocation, then top-up balance you've purchased, followed by ${p.toLowerCase()} credits.`})]}),n.jsxs("div",{className:"flex items-start gap-2",children:[n.jsx("div",{className:"flex-shrink-0 w-1 h-1 mt-2 rounded-full bg-white/50"}),n.jsx("p",{className:"leading-[22px] font-['Inter']",children:"Subscription-based credits reset monthly according to your account's billing cycle date."})]}),n.jsxs("div",{className:"flex items-start gap-2",children:[n.jsx("div",{className:"flex-shrink-0 w-1 h-1 mt-2 rounded-full bg-white/50"}),n.jsx("p",{className:"leading-[22px] font-['Inter']",children:"Any top-up credits you purchase will remain in your account permanently."})]})]})]})})]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("span",{className:"text-[#F5CC62] text-xl md:text-[28px] leading-6 md:leading-[32px] font-semibold",children:e.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}),n.jsx("img",{alt:"Balance Coin",src:aee,className:"w-5 h-5 md:w-6 md:h-6"})]})]}),n.jsx(dee,{tier:t})]}),a&&"free"==t&&r?n.jsxs("div",{className:"bg-[#FFFFFF0A] rounded-[8px] p-4 flex flex-col gap-4 mt-4",children:[n.jsxs("div",{className:"flex items-center justify-between w-full",children:[n.jsxs("div",{className:"flex items-center gap-1.5",children:[n.jsx(iee,{color:"#FFFFFF",className:"opacity-80"}),n.jsxs("span",{className:"font-['Inter'] font-medium text-[14px] leading-[20px] list-inside [&>li]:mb-2 tracking-[0px] align-middle text-white opacity-80",children:[p," Credits"]}),n.jsxs(IE,{delayDuration:0,children:[n.jsx(AE,{asChild:!0,children:n.jsx("img",{src:oee,alt:"Info",className:"w-4 h-4 ml-1 cursor-pointer"})}),n.jsx(TE,{className:"px-3 py-2 rounded-[8px] bg-[#272829]/95 backdrop-blur-md border-[#2E2F34] text-white shadow-lg",side:"bottom",align:"end",style:{backdropFilter:"blur(20px)"},children:n.jsxs("span",{className:"text-[15px] font-['Inter'] font-medium text-[#FFFFFF]/80 tracking-[-0.2px]",children:[a.daily_credit_per_day," credits"," ",a.daily_credit_per_day===a.daily_credit_max_per_window?"monthly":n.jsxs(n.Fragment,{children:["refreshes daily",n.jsx("br",{})," ",n.jsxs("span",{className:"font-inter text-[#FFFFFF99]",children:["(upto ",a.daily_credit_max_per_window," ","monthly)"]})]})]})})]})]}),n.jsxs("span",{className:"text-[#FFFFFF50] text-[15px] font-['Inter'] font-medium",children:[n.jsx("span",{className:fb("text-sm md:text-[15px] font-['Inter'] font-medium text-white"),children:a.daily_credits.toFixed(2)})," ","/ ",n.jsx("span",{className:fb("text-sm md:text-[15px] font-['Inter'] font-medium text-white opacity-60"),children:a.daily_credit_per_day})]})]}),!o&&n.jsxs("div",{className:"flex items-center justify-between w-full",children:[n.jsxs("div",{className:"flex items-center gap-[6px]",children:[n.jsx(fT,{fill:"#CCC",className:"w-5 h-5"}),n.jsx("span",{className:"font-['Inter'] font-medium text-[14px] leading-[20px] list-inside [&>li]:mb-2 tracking-[0px] align-middle text-white opacity-80",children:"Bonus Credits"})]}),n.jsx("span",{className:fb("text-sm md:text-[15px] font-['Inter'] font-medium text-white"),children:a.top_up_credit_balance.toFixed(2)})]})]}):null,!a||"free"==t&&r?null:n.jsxs("div",{className:"bg-[#FFFFFF0A] rounded-[8px] p-4 flex flex-col gap-4 mt-4",children:[r?n.jsxs("div",{className:"flex items-center justify-between w-full",children:[n.jsxs("div",{className:"flex items-center gap-1.5",children:[n.jsx(iee,{color:"#FFFFFF",className:"opacity-80"}),n.jsxs("span",{className:"font-['Inter'] font-medium text-[14px] leading-[20px] list-inside [&>li]:mb-2 tracking-[0px] align-middle text-white opacity-80",children:[p," Credits"]}),n.jsxs(IE,{delayDuration:0,children:[n.jsx(AE,{asChild:!0,children:n.jsx("img",{src:oee,alt:"Info",className:"w-3 h-3 ml-1 cursor-pointer md:w-4 md:h-4"})}),n.jsx(TE,{className:"px-3 py-2 rounded-[8px] bg-[#272829]/95 backdrop-blur-md border-[#2E2F34] text-white shadow-lg",side:"bottom",align:"end",style:{backdropFilter:"blur(20px)"},children:n.jsxs("span",{className:"text-[15px] font-['Inter'] font-medium text-[#FFFFFF]/80 tracking-[-0.2px]",children:[a.daily_credit_per_day," credits"," ",a.daily_credit_per_day===a.daily_credit_max_per_window?"monthly":n.jsxs(n.Fragment,{children:["refreshes daily",n.jsx("br",{})," ",n.jsxs("span",{className:"font-inter text-[#FFFFFF99]",children:["(upto ",a.daily_credit_max_per_window," ","monthly)"]})]})]})})]})]}),n.jsxs("span",{className:"text-[#FFFFFF50] text-sm md:text-[15px] font-['Inter'] font-medium",children:[n.jsx("span",{className:fb("text-sm md:text-[15px] font-['Inter'] font-medium text-white"),children:a.daily_credits.toFixed(2)})," ","/ ",n.jsx("span",{className:fb("text-sm md:text-[15px] font-['Inter'] font-medium text-white opacity-60"),children:a.daily_credit_per_day})]})]}):null,"free"!=t&&n.jsxs("div",{className:"flex items-center justify-between w-full",children:[n.jsxs("div",{className:"flex items-center gap-1.5",children:[n.jsx(vT,{}),n.jsx("span",{className:"font-['Inter'] font-medium text-[14px] leading-[20px] list-inside [&>li]:mb-2 tracking-[0px] align-middle text-white opacity-80",children:"Monthly Credits"}),n.jsxs(IE,{delayDuration:0,children:[n.jsx(AE,{asChild:!0,children:n.jsx("img",{src:oee,alt:"Info",className:"w-3 h-3 ml-1 cursor-pointer md:w-4 md:h-4"})}),n.jsx(TE,{className:"px-3 py-2 rounded-[8px] bg-[#272829]/95 backdrop-blur-md border-[#2E2F34] text-white shadow-lg",side:"bottom",align:"end",style:{backdropFilter:"blur(20px)"},children:n.jsxs("span",{className:"text-[15px] font-['Inter'] font-medium text-[#FFFFFF99] tracking-[-0.2px]",children:["Refreshes on"," ",n.jsx("span",{className:"text-[#FFFFFF] font-['Inter'] font-medium",children:pT(a.monthly_credits_refresh_date)})]})})]})]}),n.jsxs("span",{className:"text-[#FFFFFF50] text-sm md:text-[15px] font-['Inter'] font-medium",children:[n.jsx("span",{className:fb("text-sm md:text-[15px] font-['Inter'] font-medium text-white"),children:a.monthly_credits_balance.toFixed(2)})," ","/ ",n.jsx("span",{className:fb("text-sm md:text-[15px] font-['Inter'] font-medium text-white opacity-60"),children:a.subscription.monthly_credit_limit})]})]}),!o&&n.jsxs("div",{className:"flex items-center justify-between w-full",children:[n.jsxs("div",{className:"flex items-center gap-[6px]",children:[n.jsx(fT,{fill:"#CCC",className:"w-5 h-5"}),n.jsx("span",{className:"font-['Inter'] font-medium text-[14px] leading-[20px] list-inside [&>li]:mb-2 tracking-[0px] align-middle text-white opacity-80",children:"free"!=t?"Top up Credits":"Bonus Credits"})]}),n.jsx("span",{className:fb("text-sm md:text-[15px] font-['Inter'] font-medium text-white"),children:a.top_up_credit_balance.toFixed(2)})]})]}),n.jsx("div",{className:"min-w-full border-[2px]  border-t border-dashed border-b-0 border-l-0 border-r-0 mt-4 md:mt-[24px] mb-4 md:mb-[24px]"}),n.jsx(pee,{tier:t,creditResponse:a}),n.jsx(uee,{tier:t,isMobile:o})]})})}const hee=({size:e=16,color:t="white",opacity:s=.8,backgroundColor:i="transparent",hoverBackgroundColor:a,className:r=""})=>n.jsxs("svg",{width:e,height:e,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:r,style:{backgroundColor:i,transition:"background-color 0.3s ease"},onMouseEnter:e=>a&&(e.currentTarget.style.backgroundColor=a),onMouseLeave:e=>e.currentTarget.style.backgroundColor=i,children:[n.jsxs("g",{opacity:s,clipPath:"url(#clip0_5747_75234)",children:[n.jsx("path",{d:"M7.99479 14.6693C11.6767 14.6693 14.6615 11.6845 14.6615 8.0026C14.6615 4.32071 11.6767 1.33594 7.99479 1.33594C4.31289 1.33594 1.32812 4.32071 1.32812 8.0026C1.32812 11.6845 4.31289 14.6693 7.99479 14.6693Z",stroke:t,strokeWidth:"1.33333",strokeLinecap:"round",strokeLinejoin:"round"}),n.jsx("path",{d:"M6.0625 6.00038C6.21924 5.55482 6.5286 5.17912 6.9358 4.9398C7.343 4.70049 7.82176 4.61301 8.28728 4.69285C8.7528 4.7727 9.17504 5.01473 9.47922 5.37606C9.78339 5.7374 9.94987 6.19473 9.94917 6.66705C9.94917 8.00038 7.94917 8.66705 7.94917 8.66705",stroke:t,strokeWidth:"1.33333",strokeLinecap:"round",strokeLinejoin:"round"}),n.jsx("path",{d:"M8 11.3359H8.00708",stroke:t,strokeWidth:"1.33333",strokeLinecap:"round",strokeLinejoin:"round"})]}),n.jsx("defs",{children:n.jsx("clipPath",{id:"clip0_5747_75234",children:n.jsx("rect",{width:"16",height:"16",fill:"white"})})})]}),xee=gv.common.greenLinkArrow,fee=gv.common.menuInfo,gee=gv.common.accountSettingsIcon,vee=gv.menuIcons.logout,bee=gv.menuIcons.discordHover,yee=gv.menuIcons.discord,wee=gv.menuIcons.discordEndIcon,jee=gv.github.gitDot,Cee=gv.teams.org;function Nee({user:e,isGitHubConnected:t,handleGitHubConfigClick:s,handleLogout:i,isLoggingOut:a,handleUniversalKeyClick:r,openAccountSettingsModal:o,isOpen:l,onOpenChange:c}){var d,u;const p=BE(),{credits:m,isTrulyFreeUser:h}=Xg(),{isMobile:x}=QE(),[f,g]=De.useState(!1),v=De.useRef(null),b=()=>{v.current&&(clearTimeout(v.current),v.current=null),g(!0)},y=()=>{v.current&&clearTimeout(v.current),v.current=window.setTimeout(()=>{g(!1),v.current=null},150)},w=Le(),{switchWorkspace:j,isOrganizationWorkspace:C}=Kg(),N=wt(e=>e.menu.isOpen),F=wt(e=>e.menu.showUniversalKeyTooltip),[_,k]=De.useState(Pu("hasSeenUniversalKeyIntroTooltip",!1)),S=jt();De.useEffect(()=>{N&&(null==c||c(!0),S(Wf()))},[N,c]),De.useEffect(()=>{const e=()=>{F&&Pu("hasSeenUniversalKeyIntroModal",!1)&&!_&&(Lu("hasSeenUniversalKeyIntroTooltip",!0),S(Gf(!1)),k(!0),S(Wf()))};return document.addEventListener("click",e),()=>{document.removeEventListener("click",e)}},[l,F,_]),De.useEffect(()=>{!F||_||l||null==c||c(!0)},[F,_,l,c]),De.useEffect(()=>{!l&&F&&_&&S(Gf(!1))},[l,F,_]),De.useEffect(()=>()=>{v.current&&(clearTimeout(v.current),v.current=null)},[]),kD();const E=()=>{var t;return e&&(null==(t=null==e?void 0:e.email)?void 0:t.slice(0,1).toUpperCase())||"U"},I=HA(w.pathname),{data:A}=Fx(void 0,{skip:I||!e});return n.jsxs(aU,{open:l,onOpenChange:c,children:[n.jsx(rU,{asChild:!0,children:n.jsx(wb,{variant:"ghost",className:"relative w-8 h-8 p-0 rounded-full bg-[#1E1E1F] hover:bg-[#2A2A2B]",children:n.jsx(_M,{className:"h-8 w-8 bg-[#1E1E1F]",children:C()?n.jsx("div",{className:"flex items-center justify-center w-full h-full backdrop-blur-sm",style:{background:"radial-gradient(50% 50% at 50% 50%, rgba(63, 243, 200, 0.1) 0%, rgba(63, 243, 200, 0.05) 100%)"},children:n.jsx("img",{src:Cee,alt:"Organization",className:"w-5 h-5"})}):n.jsxs(n.Fragment,{children:[n.jsx(kM,{src:null==(d=null==e?void 0:e.user_metadata)?void 0:d.avatar_url,alt:"User Avatar"}),n.jsx(SM,{className:"bg-[#1E1E1F] text-sm font-medium",children:E()})]})})})}),n.jsxs(oU,{align:"end",className:"bg-[#131314] border-[#1f1f1f] mt-4 mb-2 max-md:ml-0 ml-4 md:-mr-5 p-0 rounded-[16px] shadow-md",children:[n.jsx(w7,{user:e,userDetails:A,onOrganizationSwitch:e=>{null==c||c(!1),j(e)},onCloseMenu:()=>null==c?void 0:c(!1),getUserInitials:E}),h()&&n.jsx("div",{className:"px-[10px] pt-[10px]",children:n.jsxs("div",{className:"flex flex-col gap-3 rounded-xl border-2 border-[#1F1F1F]",children:[n.jsxs("div",{className:"flex items-center justify-between px-3 pt-3",children:[n.jsxs("div",{className:"flex items-center gap-1.5",children:[n.jsx(fT,{fill:"#FFF",size:20}),n.jsx("span",{className:"font-['Brockmann'] font-medium text-[14px] leading-[20px] tracking-[0px] text-white",children:"Credits"}),!x&&n.jsxs(aU,{open:f,onOpenChange:g,children:[n.jsx(rU,{asChild:!0,children:n.jsx("div",{onMouseEnter:b,onMouseLeave:y,className:"cursor-pointer",children:n.jsx(hee,{size:16,className:"opacity-50 hover:opacity-80 transition-opacity"})})}),n.jsx(oU,{className:"w-[350px] max-md:hidden p-0 border-0 bg-transparent",align:"end",sideOffset:8,onMouseEnter:b,onMouseLeave:y,children:n.jsx(mee,{})})]})]}),n.jsx("span",{className:"font-['Brockmann'] text-[14px] leading-[20px] tracking-[0px] text-[#F3CA5F] font-semibold",children:m.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})})]}),n.jsx("div",{className:"flex bg-[#1F1F1F] p-2",children:n.jsxs("button",{type:"button",className:"text-[14px] h-[36px] w-full flex items-center justify-center text-[#0F0F10] bg-[#F3CA5F] font-semibold p-2 rounded-[8px] gap-1",style:{boxShadow:"0px 0px 20px 0px #F3CA5F66, 0px 2.18px 3.64px 1.45px #FFFFFF66 inset, 0px -1.45px 0px 0px #00000033 inset, 0px 0.73px 0.73px 0.73px #0000001A"},onClick:()=>p.open({}),children:[n.jsx("span",{className:"font-['Brockmann'] font-semibold text-[14px] leading-[16px] tracking-[-0.2px] text-right align-middle text-[#0F0F10]",children:"Upgrade"}),n.jsx(oA,{color:"#0F0F10",size:24,height:24,width:24})]})})]})}),t&&n.jsx("div",{className:"flex flex-col p-[10px] border-b border-[#1f1f1f]",children:n.jsx(YA,{hoveringEndIcon:xee,hoverIcon:jee,icon:jee,className:"w-full px-[10px] border-[#1F1F1F] text-[#2EE572] hover:bg-[#2EE5720F] rounded-[10px]  hover:opacity-100",onClick:s,children:null==(u=null==A?void 0:A.github)?void 0:u.account_name})}),n.jsxs("div",{className:"flex flex-col pt-[10px] gap-1 p-[10px]",children:[n.jsx(YA,{onClick:()=>{o(),fg(XS.USER_MENU_EVENTS.ACCOUNT_SETTING_CLICKED)},hoverIcon:gee,icon:gee,className:"hover:text-opacity-100 hover:bg-[#ffffff10] px-[10px]  w-full gap-3 hover:text-white opacity-70 hover:opacity-100 transition-all ease-in-out rounded-[8px]",children:"Account Settings"}),!t&&n.jsx("div",{className:"flex flex-col",children:n.jsx(XA,{})}),n.jsx(YA,{onClick:()=>{window.open(lv,"_blank"),fg(XS.USER_MENU_EVENTS.HELP_CENTER_CLICKED)},hoverIcon:fee,icon:fee,className:"hover:text-opacity-100 hover:bg-[#ffffff10] px-[10px]  w-full gap-3  hover:text-white opacity-70 hover:opacity-100 transition-all ease-in-out  rounded-[8px]",children:"Help Center"}),n.jsx(YA,{onClick:()=>{window.open(ov.discord,"_blank"),fg(XS.USER_MENU_EVENTS.JOIN_DISCORD_CLICKED)},hoverIcon:bee,icon:yee,hoveringEndIcon:wee,className:" hover:bg-[#808AFF0F] px-[10px]  w-full gap-3 opacity-70 hover:opacity-100 hover:text-[#808AFF] transition-all rounded-[8px]  ease-in-out  group/rotate ",children:"Join Discord"}),n.jsx(YA,{onClick:i,hoverIcon:vee,icon:vee,loadingState:a,loadingNode:n.jsx(hS,{className:"animate-spin"}),className:" text-[#CCCCCC] w-full px-[10px] gap-3 hover:bg-[#ffffff10]  hover:text-white opacity-70 hover:opacity-100 transition-all ease-in-out  rounded-[8px]  ",children:n.jsx("div",{className:"flex gap-2",children:"Logout"})})]})]})]})}const Fee=({isOpen:e,onClose:t,handleJobClick:s,organizationId:i})=>{const{closeAllPanels:a}=L2();De.useEffect(()=>{e&&a()},[e,a]);if(De.useEffect(()=>{if("undefined"!=typeof document){let e=document.getElementById("modal-portal-root");e||(e=document.createElement("div"),e.id="modal-portal-root",document.body.appendChild(e))}},[]),"undefined"==typeof document)return null;const r=document.getElementById("modal-portal-root");return r?Re.createPortal(n.jsx(Rt,{children:e&&n.jsxs(n.Fragment,{children:[n.jsx(Pt.div,{className:"fixed inset-0 z-[9999] bg-black/50 backdrop-blur-sm lg:hidden",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},onClick:e=>{e.target===e.currentTarget&&t()}}),n.jsxs(Pt.div,{className:"fixed inset-0 z-[10000] flex flex-col bg-[#0F0F10] lg:hidden",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{type:"tween",duration:.3,ease:"easeInOut"},onClick:e=>{e.stopPropagation()},children:[n.jsxs("div",{className:"flex items-center justify-between px-2 py-2  md:p-4 border-b border-[#272729]",children:[n.jsx("h1",{className:"text-[18px] font-medium text-white",children:"Deployed Apps"}),n.jsx("button",{type:"button",title:"Close Modal",onClick:t,className:"p-2 transition-colors rounded-full hover:bg-white/10",children:n.jsx(RS,{className:"w-6 h-6 text-white"})})]}),n.jsx("div",{className:"flex-1 p-4 overflow-y-auto",children:n.jsx("div",{className:"max-w-full",children:n.jsx(rM,{handleJobClick:e=>{a(),setTimeout(()=>{s(e),setTimeout(()=>{a()},200)},100)},organizationId:i})})})]})]})}),r):null},_ee=gv.logo.logo,kee=gv.common.globeWhite,See=e=>{if("ENV_INITIATED"!==(null==e?void 0:e.state))return!1;if(!(null==e?void 0:e.created_at))return!1;const t=new Date(e.created_at).getTime();return(Date.now()-t)/6e4<10},Eee=({isOpen:e,onClose:t,tabs:s,activeTab:i,onTabClick:a,onTabClose:r})=>{var o,l;const[c,d]=De.useState({isMenuOpen:!1,isDeployedAppsModalOpen:!1,threeDotMenuState:{isOpen:!1,job:null,position:{top:0,left:0}},renameModalState:{isOpen:!1,job:null},deleteModalState:{isOpen:!1,job:null}}),u=$E(),p=HE(),{currentWorkspace:m,isPersonalWorkspace:h,getCurrentOrganizationId:x}=Kg(),{refetch:f}=Bx({organization_id:x()}),{newToast:g}=tD(),v=Me(),{data:b=[],isLoading:y}=Bx({organization_id:x()}),w=De.useMemo(()=>b.filter(e=>{var t,n;if(h()){return!(e.organization_id||(null==(t=e.payload)?void 0:t.organization_id))}return(e.organization_id||(null==(n=e.payload)?void 0:n.organization_id))===m}),[b,m,h]),{setTabs:j,setActiveTab:C,updateTabState:N,getTabByJobId:F}=Oee(),_=e=>{var t;return n.jsx("div",{className:"truncate text-sm text-[#C2C2CC]",children:e.title?e.title:n.jsx("span",{className:"opacity-60",children:null==(t=e.payload.task)?void 0:t.slice(0,50)})})},k=e=>{var n,s,i,a,r,o;if(!(null==(n=e.payload)?void 0:n.task))return;if(!((null==(s=e.payload)?void 0:s.container_id)||e.id))return;const l=F(e.id);if(l)return C(l.id),void t();const c=`tab-${Date.now()}-${Math.random().toString(36).substring(2,11)}`,u=`/root/runs/${e.id}/trajectory.json`,p=x(),m=e.organization_id||(null==(i=e.payload)?void 0:i.organization_id),h=m?"organization":"user",f=m||p,g=e.organization_name||(null==(a=e.payload)?void 0:a.organization_name),b=p?`/workspace/${p}/chat`:"/chat",y={containerId:e.payload.container_id||e.id,initial_commit_id:e.payload.initial_commit_id,task:(null==(r=e.payload)?void 0:r.original_task)||e.payload.task,jobId:e.id,trajPath:u,tabId:c,fromJobList:!0,isCloudFlow:null==(o=e.payload)?void 0:o.is_cloud,clientRefId:e.client_ref_id,modelName:e.payload.model_name,promptName:e.payload.prompt_name,promptVersion:e.payload.prompt_version,costLimit:e.payload.per_instance_cost_limit,agentName:e.payload.agent_name,portMapping:e.payload.portMapping,created_by:e.created_by,createdAt:e.created_at,organization_id:m||null,isActive:!0};j(t=>{var n;return[...t,{id:c,title:`${(null==(n=e.payload)?void 0:n.original_task)||e.payload.task}`,tabHeading:e.title??"Untitled",path:b,level:h,organization_id:f,organization_name:g,state:y}]}),N(c,y),C(c),v(`${b}?id=${e.id}`),d(e=>({...e,isDeployedAppsModalOpen:!1})),t()},S=De.useCallback(()=>{t()},[t]),E=De.useCallback(e=>{e.stopPropagation()},[]),{isConnected:I,checkGitHubConnection:A,setIsConnected:T}=$A(),{user:D,signOut:M,session:L}=Wg(),[P,R]=De.useState(!1);De.useEffect(()=>{L&&A()},[L]);const O=()=>{d(e=>({...e,threeDotMenuState:{isOpen:!1,job:null,position:{top:0,left:0}}}))},z=()=>{d(e=>({...e,renameModalState:{isOpen:!1,job:null}}))},B=()=>{d(e=>({...e,deleteModalState:{isOpen:!1,job:null}}))},[H]=vf(),[$]=gf();return n.jsxs(Rt,{children:[e&&n.jsxs(n.Fragment,{children:[n.jsx(Pt.div,{className:"fixed inset-0 z-[999] bg-black/50 backdrop-blur-sm lg:hidden",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},onClick:S}),n.jsxs(Pt.div,{className:"fixed top-0 left-0 z-[999] flex h-full w-72 flex-col overflow-hidden border-r border-[#272729] bg-[#131314] lg:hidden",initial:{x:"-100%"},animate:{x:0},exit:{x:"-100%"},transition:{type:"tween",duration:.3,ease:"easeInOut"},onClick:E,onAnimationStart:()=>{try{window.dispatchEvent(new Event("close-workspace-switcher"))}catch{}},children:[n.jsxs("div",{className:"relative flex items-center justify-between w-full p-4 px-2 pr-2",children:[n.jsx("div",{className:"flex items-center",children:n.jsx("img",{onClick:()=>{a(s.find(e=>"home"===e.id)),t()},src:_ee,alt:"Logo",className:" h-[24px] w-[110px]"})}),n.jsx("button",{type:"button",title:"Close Sidebar",onClick:t,className:"p-1 rounded-full hover:bg-white/10",children:n.jsx(RS,{className:"w-5 h-5 text-white"})})]}),n.jsxs("div",{className:"flex flex-col gap-2 p-2 pt-3",children:[n.jsx("div",{className:fb("flex cursor-pointer items-center justify-between px-3 py-2 rounded-[8px]","bg-[#80fff9]/10"),onClick:()=>{a(s.find(e=>"home"===e.id)),t()},children:n.jsxs("div",{className:"flex items-center space-x-3 overflow-hidden",children:[n.jsx(wS,{className:"w-4 h-4 text-[#80fff9]/90"}),n.jsx("span",{className:fb("truncate text-sm font-medium","home"===i?"text-[#80fff9]/90":"text-[#80fff9]/70"),children:"New Task"})]})}),D&&n.jsx("div",{className:fb("flex cursor-pointer items-center justify-between px-3 py-2 rounded-[8px]","bg-white/10"),onClick:()=>{t(),d(e=>({...e,isDeployedAppsModalOpen:!0}))},children:n.jsxs("div",{className:"flex items-center space-x-3 overflow-hidden",children:[n.jsx("img",{src:kee,alt:"Global",className:"w-4 h-4"}),n.jsx("span",{className:fb("truncate text-sm text-white font-medium"),children:"Deployed Apps"})]})}),n.jsxs("div",{className:"",children:[s.length>2&&n.jsx("span",{className:"text-[12px] font-brockmann opacity-65 pl-1",children:"Active Tasks"}),n.jsx("div",{className:"flex flex-col pt-1 max-h-[30dvh] overflow-y-scroll",children:s.map(e=>{if(localStorage.getItem("embeddedTaskTabId")===e.id||"/not-defined"===e.path)return null;const s="home"===e.id,o=e.id===i;return s?null:n.jsxs("div",{className:fb("flex cursor-pointer items-center justify-between p-2 rounded-[8px]",o?"bg-[#1E1E1F]":"hover:bg-[#1E1E1F]/50"),onClick:()=>{a(e),t()},children:[n.jsxs("div",{className:"flex items-center space-x-3 overflow-hidden",children:[o&&n.jsx("span",{className:"h-2 w-2 flex-shrink-0 rounded-full bg-[#00CCAF]"}),n.jsx("span",{className:fb("truncate text-sm font-medium",o?"text-white":"text-[#B3B3B3]"),children:s?"Home":e.tabHeading?e.tabHeading:n.jsx("span",{className:"opacity-60",children:"Untitled"})})]}),!s&&n.jsx("button",{type:"button",title:"Close Tab",onClick:t=>{t.stopPropagation(),r(t,e)},className:"p-1 rounded-full hover:bg-destructive/10",children:n.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"text-[#7B7B80]",children:n.jsx("path",{d:"M18 6L6 18M6 6L18 18",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})]},e.id)})})]}),n.jsxs("div",{className:"",children:[n.jsx("span",{className:"text-[12px] font-brockmann opacity-65 pl-1",children:"Recent Tasks"}),n.jsx("div",{className:"flex flex-col gap-1 pb-2 max-h-[40dvh] overflow-y-scroll",children:y?Array(5).fill(0).map((e,t)=>n.jsxs("div",{className:"border-b border-[#272729]/50 px-3 py-2",children:[n.jsx("div",{className:"mb-2 h-4 w-24 animate-pulse rounded bg-[#272729]"}),n.jsx("div",{className:"h-4 w-full animate-pulse rounded bg-[#272729]"})]},`loading-${t}`)):0===w.length?n.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-center",children:[n.jsx("div",{className:"mb-2 text-sm text-[#8F8F98]",children:"No tasks yet"}),n.jsx("div",{className:"max-w-[200px] text-xs text-[#92929A]",children:"Create your first task to start building"})]}):w.map(e=>n.jsxs("div",{className:"cursor-pointer px-2 py-2 hover:bg-[#1E1E1F]/50 flex items-center justify-between group",onClick:()=>k(e),children:[n.jsx("div",{className:"flex-1 min-w-0",children:_(e)}),n.jsx("button",{className:"flex-shrink-0 ml-2 transition-opacity "+(See(e)?"opacity-30 cursor-not-allowed":"opacity-50"),onClick:t=>{See(e)||((e,t)=>{e.stopPropagation();const n=e.target.getBoundingClientRect(),s=window.pageYOffset||document.documentElement.scrollTop;d(e=>({...e,threeDotMenuState:{isOpen:!0,job:t,position:{top:n.bottom+s+5,left:n.left+n.width/2}}}))})(t,e)},disabled:See(e),children:n.jsx(fM,{size:16,className:"transition-opacity "+(See(e)?"opacity-50":"hover:opacity-80"),"aria-label":"More options for task"})})]},e.id))})]})]}),D&&n.jsx("div",{className:"absolute bottom-0 left-0 right-0 w-full p-2 bg-[#18181A] ",children:n.jsxs("div",{onClick:e=>{e.stopPropagation(),d(e=>({...e,isMenuOpen:!e.isMenuOpen}))},className:fb("flex items-center justify-between rounded-[8px] p-2 ",c.isMenuOpen&&"bg-[#ffffff08]"),children:[n.jsxs("div",{className:fb("flex flex-col items-start rounded-md cursor-pointer transition-all duration-300 ease-in-out"),children:[n.jsx("span",{className:"text-sm font-medium",children:null==(o=null==D?void 0:D.user_metadata)?void 0:o.name}),n.jsx("span",{className:"text-xs text-[#92929A]",children:null==D?void 0:D.email})]}),n.jsx(Nee,{isLoggingOut:P,user:D,handleGitHubConfigClick:()=>{const e=Gt;window.open(e,"_blank")},handleLogout:async()=>{R(!0),j(e=>e.filter(e=>"home"===e.id)),T(!1),C("home"),await M().then(()=>{R(!1)})},isGitHubConnected:I,isOpen:c.isMenuOpen,onOpenChange:e=>d(t=>({...t,isMenuOpen:e})),handleUniversalKeyClick:()=>{t(),u.open()},openAccountSettingsModal:()=>{t(),p.open()}})]})})]})]}),n.jsx(Fee,{isOpen:c.isDeployedAppsModalOpen,onClose:()=>d(e=>({...e,isDeployedAppsModalOpen:!1})),handleJobClick:k,organizationId:h()?void 0:m}),n.jsx(dM,{isOpen:c.threeDotMenuState.isOpen,onClose:O,onAction:e=>{const t=c.threeDotMenuState.job;if(t)switch(O(),e){case"rename":d(e=>({...e,renameModalState:{isOpen:!0,job:t}}));break;case"preview":case"share":break;case"delete":d(e=>({...e,deleteModalState:{isOpen:!0,job:t}}))}},position:c.threeDotMenuState.position}),c.renameModalState.isOpen&&n.jsx("div",{style:{zIndex:9999},children:n.jsx(uM,{isOpen:c.renameModalState.isOpen,onClose:z,onSave:async e=>{const t=c.renameModalState.job;if(t){if(t.id)try{await $({job_id:t.id,title:e}).unwrap(),await f();const n=F(t.id);j(t=>t.map(t=>t.id===(null==n?void 0:n.id)?{...t,tabHeading:e}:t)),g.success("Renamed Successfully."),fg(ZS,{jobId:t.id,newName:e})}catch(n){g.error("Renamed Failed.")}z()}},currentName:(null==(l=c.renameModalState.job)?void 0:l.title)||""})}),c.deleteModalState.isOpen&&n.jsx(xM,{isOpen:c.deleteModalState.isOpen,onClose:B,onConfirm:async()=>{var e;if(c.deleteModalState.job)try{const e=await H({jobId:c.deleteModalState.job.id,deletedBy:(null==D?void 0:D.id)||""}).unwrap();(null==e?void 0:e.success)?(g.success((null==e?void 0:e.message)||"Task Deleted successfully"),f(),fg(YS,{jobId:c.deleteModalState.job.id,deletedBy:(null==D?void 0:D.id)||""})):g.error((null==e?void 0:e.message)||"Unable to delete this task.")}catch(t){g.error((null==(e=null==t?void 0:t.data)?void 0:e.message)||(null==t?void 0:t.message)||"Failed to Delete the job. Please try again.")}finally{B()}},title:"Delete this task?",bodyContent:(()=>{var e,t,s,i,a;const r=null==(e=c.deleteModalState.job)?void 0:e.id,o=!!r&&(null==b?void 0:b.some(e=>{var t;return(null==(t=null==e?void 0:e.payload)?void 0:t.forked_from)===r})),l=c.deleteModalState.job,d=null==(t=null==l?void 0:l.payload)?void 0:t.forked_from,u=d?null==b?void 0:b.find(e=>e.id===d):null,p=!(!d||!u);return n.jsxs(n.Fragment,{children:[n.jsxs("p",{className:"text-sm md:text-base font-['Inter'] font-medium leading-5 md:leading-6 break-words",children:[n.jsx("span",{className:"text-white opacity-60 font-['Inter']",children:"Are you sure you want to delete "}),n.jsxs("span",{className:"text-[#80FFF9] font-['Inter']",children:['"',null==(s=c.deleteModalState.job)?void 0:s.title,'"']}),n.jsx("span",{className:"text-white opacity-60 font-['Inter']",children:"? This action cannot be undone."})]}),o&&!p&&n.jsxs("div",{className:"flex flex-col w-full rounded-lg p-3 gap-1.5 bg-[#66F0FF1A] backdrop-blur-[50px] mt-6",children:[n.jsx(oM,{className:"p-1",width:24,height:24}),n.jsx("p",{className:"text-sm font-['Inter'] font-medium leading-5 text-[#80FFF9] break-words",children:"This task has been forked. Deleting it won't affect the forked versions, but you'll lose the original context."})]}),p&&n.jsxs("div",{className:"flex flex-col w-full rounded-lg p-3 gap-1.5 bg-[#66F0FF1A] backdrop-blur-[50px] mt-6",children:[n.jsx(oM,{className:"p-1",width:24,height:24}),n.jsxs("p",{className:"text-sm font-['Inter'] font-medium leading-5 text-[#80FFF9] break-words",children:["This is a forked task continuing from ",n.jsxs("span",{className:"text-white font-['Inter']",children:['"',u.title||(null==(i=u.payload)?void 0:i.original_task)||(null==(a=u.payload)?void 0:a.task),'"']}),". Deleting it won't affect the parent task."]})]})]})})(),primaryButton:{text:"Confirm",variant:"danger"},secondaryButton:{text:"Nevermind",variant:"secondary"}})]})},Iee=300,Aee=300,Tee={default:180,min:100,max:180},Dee={homeTabWidth:80,plusButtonWidth:40,scrollButtonsWidth:70};const Mee=gv.logo.logo,Lee=gv.menuIcons.menu,Pee=tt([e=>e.tabs.tabStates],e=>{const t={};return Object.entries(e).forEach(([e,n])=>{n.pendingMessage&&(t[e]=n.pendingMessage)}),t}),Ree=Pe.createContext(null);function Oee(){const e=Pe.useContext(Ree);if(!e)throw new Error("useTabState must be used within a TabProvider");return e}function zee({children:e}){const t=gL(),s=vL(e=>e.tabs.tabStates),i=vL(Pee),a=vL(Iu),r=vL(e=>e.tabs.tabs),o=vL(ku),l=vL(Su),c=vL(e=>e.tabs.isActive),{guardAction:d}=e6(),[u,p]=De.useState(!1),[m,h]=De.useState(null),x=De.useCallback(()=>{t(hu())},[t]),f=De.useMemo(()=>({activeTab:o,tabs:l,isActive:c}),[o,l,c]),g=De.useCallback(e=>{t(ou(e))},[t]),v=De.useCallback(e=>{const n="function"==typeof e?e(l):e;t(lu(n))},[t,l]),b=De.useCallback(()=>l,[l]),y=De.useCallback((e,n)=>{t(cu({tabId:e,state:n}))},[t]),w=De.useCallback(e=>s[e]||{},[s]),j=De.useCallback(e=>r.find(t=>{var n;return(null==(n=t.state)?void 0:n.jobId)===e}),[r]),C=De.useCallback(e=>{t(du(e))},[t]),N=De.useCallback((e,n,s,i,a)=>{t(uu({tabId:e,messageId:n,content:s,base64_image_list:i,artifacts:a}))},[t]),F=De.useCallback(()=>a,[a]),_=De.useCallback((e,n)=>{if(n){const t=i[e];if(!t||t.content!==n)return!1}return t(pu({tabId:e,content:n})),!0},[t,i]),k=De.useCallback((e,n)=>{t(mu({tabId:e,content:n}))},[t]),S=De.useCallback(e=>i[e],[i]),E=De.useMemo(()=>({state:f,activeTab:o,setActiveTab:g,setTabs:v,updateTabState:y,getTabState:w,setPendingMessage:N,clearPendingMessage:_,getPendingMessage:S,getActiveTab:F,removeTab:C,getTabByJobId:j,removePendingMessage:k,getAllTabs:b,isActive:c,cleanupTabStates:x}),[f,o,c,g,v,y,w,N,_,S,C,F,j,k,b,x]);return De.useEffect(()=>{if(o&&l.length>0){l.some(e=>e.id===o)?l.forEach(e=>{const t=e.id===o;w(e.id).isActive!==t&&y(e.id,{isActive:t})}):setTimeout(()=>{!l.some(e=>e.id===o)&&d(()=>g("home"),{modalTitle:"You have unsaved changes",modalDescription:"The current tab is no longer available. Switching to home will discard your unsaved visual edit changes.",confirmText:"Switch to Home",showModal:e=>{h(e),p(!0)}})},100)}x()},[o,l,g,w,y,x,d]),n.jsxs(Ree.Provider,{value:E,children:[e,u&&m&&n.jsx(X3,{isOpen:u,onClose:()=>p(!1),onConfirm:m.onConfirm,title:m.title,description:m.description,confirmText:m.confirmText,cancelText:m.cancelText})]})}function Bee(){const{state:{activeTab:e,tabs:t}}=Oee(),{getCurrentOrganizationId:s}=Kg(),i=De.useMemo(()=>{const e=s();return t.filter(t=>{var n;return"home"===t.id||(!!(null==(n=t.state)?void 0:n.isAdminModeJob)||(e?t.organization_id===e&&"organization"===t.level:!(t.organization_id||t.level&&"user"!==t.level)))})},[t,s]);return n.jsx(n.Fragment,{children:i.map(t=>n.jsx("div",{className:fb("h-full",{hidden:t.id!==e}),children:n.jsx(x7,{path:t.path,tabId:t.id})},t.id))})}function Hee(){const{state:{activeTab:e,tabs:t},setActiveTab:s,setTabs:i}=Oee(),a=Me(),{getCurrentOrganizationId:r}=Kg(),o=De.useRef(null),[l,c]=De.useState(!1),d=De.useMemo(()=>{const e=r();return t.filter(t=>{var n;return"home"===t.id||(!!(null==(n=t.state)?void 0:n.isAdminModeJob)||(e?t.organization_id===e&&"organization"===t.level:!(t.organization_id||t.level&&"user"!==t.level)))})},[t,r]),{tabWidth:u,showScrollButtons:p,getTabWidth:m}=function(e,t,n={}){var s,i,a,r,o,l;const[c,d]=De.useState(Tee.default),[u,p]=De.useState(!1),m={createAgent:n.createAgent??Iee,createSubagent:n.createSubagent??Aee,regular:{default:(null==(s=n.regular)?void 0:s.default)??Tee.default,min:(null==(i=n.regular)?void 0:i.min)??Tee.min,max:(null==(a=n.regular)?void 0:a.max)??Tee.max},layout:{homeTabWidth:(null==(r=n.layout)?void 0:r.homeTabWidth)??Dee.homeTabWidth,plusButtonWidth:(null==(o=n.layout)?void 0:o.plusButtonWidth)??Dee.plusButtonWidth,scrollButtonsWidth:(null==(l=n.layout)?void 0:l.scrollButtonsWidth)??Dee.scrollButtonsWidth}},h=De.useCallback(e=>e.title.toLowerCase().includes("create new agent")||"/create-agent"===e.path?"createAgent":e.title.toLowerCase().includes("create subagent")||"/create-subagent"===e.path?"createSubagent":"regular",[]),x=De.useCallback(e=>{switch(h(e)){case"createAgent":return m.createAgent;case"createSubagent":return m.createSubagent;default:return c}},[c,m,h]),f=De.useCallback(()=>{if(!t.current)return;const n=e.filter(e=>"home"!==e.id&&"/not-defined"!==e.path),s=n.length,i=t.current.clientWidth,a=u?m.layout.scrollButtonsWidth:0,r=i-m.layout.homeTabWidth-m.layout.plusButtonWidth-a;if(s>0){const e=n.filter(e=>"createAgent"===h(e)),t=n.filter(e=>"createSubagent"===h(e)),s=n.filter(e=>"regular"===h(e)),i=e.length*m.createAgent+t.length*m.createSubagent,a=r-i;if(0===s.length)p(i>r);else if(0===e.length&&0===t.length)if(m.regular.default*s.length<=r)d(m.regular.default),p(!1);else{const e=Math.floor(r/s.length),t=Math.max(m.regular.min,Math.min(e,m.regular.max));d(t),p(!0)}else if(a>0&&m.regular.default*s.length<=a)d(m.regular.default),p(!1);else if(a>0){const e=Math.floor(a/s.length),t=Math.max(m.regular.min,Math.min(e,m.regular.max));d(t);const n=a<m.regular.min*s.length||i>r-m.regular.min*s.length;p(n)}else d(Math.max(m.regular.min,m.regular.default)),p(!0)}},[e,t,u,m,h]);return De.useEffect(()=>{f();const e=new ResizeObserver(()=>{f()});return t.current&&e.observe(t.current),()=>{e.disconnect()}},[f]),{tabWidth:c,showScrollButtons:u,getTabWidth:x}}(d,o,{createAgent:240,createSubagent:240,regular:{default:180,min:100,max:180}}),{setActiveTabId:h,checkDeployStatus:x,handleTabClosed:f}=(e=>{const t=gL();De.useRef(e);const n=vL(Em),s=vL(Im),i=vL(Am),a=vL(Tm),r=vL(Dm),o=vL(Mm),l=vL(Lm),c=vL(Pm),d=vL(Om),u=vL(Rm),p=vL(zm),m=vL(Bm),h=vL(Hm),[x,f]=De.useState(!1),g=De.useRef(0);De.useEffect(()=>{},[e,t]);const v=De.useCallback(()=>{const e=Date.now();return e-g.current>=15e3&&(g.current=e,!0)},[]),b=De.useCallback(e=>()=>{if(v())try{Wp(e).then(n=>{var s;const i=og.getState(),a=null==(s=null==i?void 0:i.deploy)?void 0:s.deployStatus;t({type:"deploy/checkDeployStatus/fulfilled",payload:{response:n,timestamp:Date.now(),prevStatus:a},meta:{arg:{jobId:e,silent:!0},requestId:"polling",requestStatus:"fulfilled"}}),"running"===n.status||n.latest_run&&"running"===n.latest_run.status||(("success"===n.status||n.latest_run&&"success"===n.latest_run.status)&&t(xm({jobId:e,silent:!1})),g7.stopPolling())}).catch(e=>{})}catch(n){}},[t,v]),y=De.useCallback(()=>{g7.stopPolling()},[]),w=De.useCallback(e=>{var n,s,i;const a=og.getState(),r=null==(n=null==a?void 0:a.tabs)?void 0:n.activeTab;if(!r)return;const o=(null==(s=null==a?void 0:a.tabs)?void 0:s.tabs)?a.tabs.tabs.find(e=>e.id===r):void 0;if((null==(i=null==o?void 0:o.state)?void 0:i.jobId)===e)try{Wp(e).then(n=>{var s;const i=og.getState(),a=null==(s=null==i?void 0:i.deploy)?void 0:s.deployStatus;if(t({type:"deploy/checkDeployStatus/fulfilled",payload:{response:n,timestamp:Date.now(),prevStatus:a},meta:{arg:{jobId:e,silent:!0},requestId:"initial-check",requestStatus:"fulfilled"}}),"running"===n.status||n.latest_run&&"running"===n.latest_run.status){const t=b(e);g7.startPolling(e,t,r)}else("success"===n.status||n.latest_run&&"success"===n.latest_run.status)&&t(xm({jobId:e,silent:!1}))}).catch(e=>{})}catch(l){}},[t,b]);De.useEffect(()=>{},[e,n,s,w,y]),De.useEffect(()=>()=>{},[e,y]),De.useEffect(()=>{const e=og.subscribe(()=>{var e,t,n;const s=og.getState(),i=null==(e=null==s?void 0:s.tabs)?void 0:e.activeTab;if(i&&g7.getActiveTabId()!==i){g7.setActiveTabId(i);const e=(null==(t=null==s?void 0:s.tabs)?void 0:t.tabs)?s.tabs.tabs.find(e=>e.id===i):void 0;if(!(null==(n=null==e?void 0:e.state)?void 0:n.jobId)||"running"!==e.state.deployStatus&&"running"!==e.state.latestRunStatus)y();else{const t=e.state.jobId;g7.isPollingActive(t)||w(t)}}});return()=>{e()}},[w,y]);const j=De.useCallback(e=>{},[e,t]),C=De.useCallback(async e=>!1,[e,t]),N=De.useCallback(async()=>[],[e,t]),F=De.useCallback(async()=>[],[e,t]),_=De.useCallback((e,n=!1)=>n&&!v()?Promise.resolve():(n||(g.current=Date.now()),t(_m(e)),t(xm({jobId:e,silent:n})).then(s=>{var i,a,r;if(s.payload&&"object"==typeof s.payload&&"response"in s.payload){const o=s.payload,l="running"===o.response.status||o.response.latest_run&&"running"===o.response.latest_run.status,c="success"===o.response.status||o.response.latest_run&&"success"===o.response.latest_run.status,d=og.getState(),u=null==(i=null==d?void 0:d.tabs)?void 0:i.activeTab,p=(null==(a=null==d?void 0:d.tabs)?void 0:a.tabs)?d.tabs.tabs.find(e=>e.id===u):void 0,m=(null==(r=null==p?void 0:p.state)?void 0:r.jobId)===e;l&&m?w(e):l||g7.getActiveJobId()!==e||(y(),c&&n&&setTimeout(()=>{t(xm({jobId:e,silent:!1}))},100))}return s}).catch(e=>{throw e})),[t,w,y,v]),k=De.useCallback(async({image:e,deployment_id:t,acknowledgements:n,db_mode:s}={})=>{},[e,t,w,y]),S=De.useCallback(async e=>{if(!e)return[];try{f(!0);const n=await t(gm(e));return gm.fulfilled.match(n)?n.payload:[]}catch(n){return[]}finally{f(!1)}},[e,t]),E=De.useCallback(async()=>{},[e,t,y,_]),I=De.useCallback(e=>{var n,s;t(jm(e)),g7.setActiveTabId(e);const i=og.getState(),a=(null==(n=null==i?void 0:i.tabs)?void 0:n.tabs)?i.tabs.tabs.find(t=>t.id===e):void 0;if(!(null==(s=null==a?void 0:a.state)?void 0:s.jobId)||"running"!==a.state.deployStatus&&"running"!==a.state.latestRunStatus)y();else{const e=a.state.jobId;w(e)}},[t,w,y]),A=De.useCallback(n=>{var s,i,a;const r=og.getState(),o=(null==(s=null==r?void 0:r.tabs)?void 0:s.tabs)?r.tabs.tabs.find(e=>e.id===n):void 0;(null==(i=null==o?void 0:o.state)?void 0:i.jobId)&&g7.getActiveJobId()===o.state.jobId&&y(),e===(null==(a=null==o?void 0:o.state)?void 0:a.jobId)&&(t(Nm()),t(_m(null)))},[t,e,y]),T=De.useCallback(async(e,n)=>{if(!e)return null;try{f(!0);const s=await Jp(e,n);if(!s||!s.ip_address)return{status:"failed",message:"Failed to register domain"};const i={type:"A",name:e||"",value:s.ip_address};return t(km({domain:e,status:s.verification_required?"pending":"verified",dns_records:[i]})),{...s,domain:e,status:s.verification_required?"pending_verification":"connected",dns_records:[i]}}catch(s){return null}finally{f(!1)}},[t]),D=De.useCallback(async(e,n)=>{if(!e)return null;try{f(!0);const s=await Qp(e,n);if(!s||!s.status)return null;if("connected"===s.status||"pending_verification"===s.status)if(s.domain&&s.dns_records&&s.dns_records.length>0){const e=!0===s.verified?"verified":"pending";t(km({domain:s.domain,status:e,dns_records:s.dns_records}))}else t(km(null));return s}catch(s){return null}finally{f(!1)}},[t]),M=De.useCallback(async e=>null,[t,e]),L=De.useCallback(async e=>{if(!e)return null;try{f(!0);const n=await Xp(e);return n&&(n.domain&&""!==n.domain&&n.status&&n.dns_records&&0!==n.dns_records.length?t(km({domain:n.domain,status:"pending_verification"===n.status?"pending":"connected"===n.status?"verified":"failed",dns_records:n.dns_records||[]})):t(km(null))),n}catch(n){return null}finally{f(!1)}},[t]),P=De.useCallback(async e=>null,[t,e]);return{deployStatus:n,latestRunStatus:s,loading:x,deploymentSteps:i,deploymentHistory:a,currentStepIndex:r,deployUrl:o,customDomainUrl:l,runId:c,errorMessage:d,currentJobId:u,customDomain:m,deployLogs:h,checkDeployStatus:_,loadDeploymentHistory:F,setActiveTabId:I,handleTabClosed:A,loadEnvironmentVariables:N,saveEnvironmentVariables:j,updateEnvironmentVariables:C,envs:p,handleDeploy:k,shutDownDeployment:E,loadDeployLogs:S,startPolling:w,stopPolling:y,isPolling:!1,registerDomain:T,verifyDomain:D,connectDomain:M,getDomainStatus:L,unlinkDomain:P}})(),g=De.useRef({tabId:"",jobId:void 0}),{isMobile:v}=QE(),{isTrulyFreeUser:b}=Xg(),{guardAction:y}=e6(),[w,j]=De.useState(!1),[C,N]=De.useState(null),F=De.useCallback(e=>{if(!o.current)return;const t="left"===e?-200:200;o.current.scrollBy({left:t,behavior:"smooth"})},[]);De.useEffect(()=>{const n=t.find(t=>t.id===e);if(n){const e=r();let t=n.path;"/chat"===n.path?t=e?`/workspace/${e}/chat`:"/chat":"/create-agent"!==n.path&&"/create-subagent"!==n.path||"organization"===n.level&&n.organization_id&&(t=`/workspace/${n.organization_id}${n.path}`),a(t)}},[e,a,t,r]);const _=De.useCallback(t=>{t.id!==e&&y(()=>{var e,n,i,a;bg("tab_switched",{tabId:t.id,jobId:null==(e=t.state)?void 0:e.jobId,containerId:null==(n=t.state)?void 0:n.containerId,path:t.path,title:t.title,reason:"user_clicked"}),s(t.id),h(t.id),g.current={tabId:"",jobId:void 0},(null==(i=t.state)?void 0:i.jobId)&&!(null==(a=t.state)?void 0:a.showCase)&&setTimeout(()=>{x(t.state.jobId,!1)},100)},{modalTitle:"You have unsaved changes",modalDescription:"Switching tabs will discard your unsaved visual edit changes.",confirmText:"Switch Tab",showModal:e=>{N(e),j(!0)}})},[s,e,h,x,y]),k=De.useCallback((n,a)=>{n.stopPropagation(),y(()=>{var n,r,o,l,c,d,u;const p=t.filter(e=>e.id!==a.id);if(i(p),bg("tab_closed",{tabId:a.id,jobId:null==(n=a.state)?void 0:n.jobId,containerId:null==(r=a.state)?void 0:r.containerId,path:a.path,title:a.title,isActive:a.id===e,remainingTabCount:p.length}),null==(o=a.state)||o.jobId,f(a.id),a.id===e&&p.length>0){const e=p.filter(e=>"/not-defined"!==e.path);if(e.length>0){const t=e[e.length-1];s(t.id),g.current={tabId:"",jobId:void 0},bg("tab_switched",{tabId:t.id,jobId:null==(l=t.state)?void 0:l.jobId,containerId:null==(c=t.state)?void 0:c.containerId,path:t.path,title:t.title,reason:"active_tab_closed"})}else if(p.length>0){const e=p[p.length-1];s(e.id),g.current={tabId:"",jobId:void 0},bg("tab_switched",{tabId:e.id,jobId:null==(d=e.state)?void 0:d.jobId,containerId:null==(u=e.state)?void 0:u.containerId,path:e.path,title:e.title,reason:"active_tab_closed"})}}else if(p.length>0){const e=p.find(e=>"/not-defined"!==e.path);e?(s(e.id),g.current={tabId:"",jobId:void 0}):(s(p[0].id),g.current={tabId:"",jobId:void 0})}},{modalTitle:"You have unsaved changes",modalDescription:"Closing this tab will discard your unsaved visual edit changes.",confirmText:"Close Tab",showModal:e=>{N(e),j(!0)}})},[e,s,i,a,t,f,y]),S=De.useCallback(()=>{j(!1)},[]),E=De.useCallback(()=>{y(()=>{s("home"),g.current={tabId:"",jobId:void 0}},{modalTitle:"You have unsaved changes",modalDescription:"Switching tabs will discard your unsaved visual edit changes.",confirmText:"Switch Tab",showModal:e=>{N(e),j(!0)}})},[y,t,s]);De.useEffect(()=>{var n;const i=d.find(t=>t.id===e),a=t.find(t=>t.id===e);if(!i&&"home"!==e){if(null==(n=null==a?void 0:a.state)?void 0:n.isAdminModeJob)return;y(()=>s("home"),{modalTitle:"You have unsaved changes",modalDescription:"Switching workspaces will discard your unsaved visual edit changes.",confirmText:"Switch Workspace",showModal:e=>{N(e),j(!0)}})}},[d,e,s,t,y]),De.useEffect(()=>{const t=t=>{if((t.metaKey||t.ctrlKey)&&!t.altKey&&!t.shiftKey){const n=parseInt(t.key),i=d.filter(e=>"/not-defined"!==e.path&&localStorage.getItem("embeddedTaskTabId")!==e.id);if(!isNaN(n)&&n>=0&&n<=9)if(t.preventDefault(),0===n){const t=d.find(e=>"home"===e.id);t&&t.id!==e&&y(()=>s(t.id),{modalTitle:"You have unsaved changes",modalDescription:"Switching tabs will discard your unsaved visual edit changes.",confirmText:"Switch Tab",showModal:e=>{N(e),j(!0)}})}else if(n<=i.length){const t=i[n-1];t&&t.id!==e&&y(()=>s(t.id),{modalTitle:"You have unsaved changes",modalDescription:"Switching tabs will discard your unsaved visual edit changes.",confirmText:"Switch Tab",showModal:e=>{N(e),j(!0)}})}}};return window.addEventListener("keydown",t),()=>{window.removeEventListener("keydown",t)}},[d,s,e,y]);const I=De.useMemo(()=>d.map(t=>n.jsx(v7,{tab:t,isActive:t.id===e,tabWidth:u,getTabWidth:m,onTabClick:_,onTabClose:k},t.id)),[d,e,u,m,_,k]);return n.jsxs(n.Fragment,{children:[v&&n.jsx(Eee,{isOpen:l,onClose:()=>c(!1),tabs:d,activeTab:e,onTabClick:_,onTabClose:k,onNewTab:E}),v&&n.jsx(Eee,{isOpen:l,onClose:()=>c(!1),tabs:d,activeTab:e,onTabClick:_,onTabClose:k,onNewTab:E}),n.jsxs("div",{className:"relative flex items-center w-full max-md:justify-between",children:[n.jsx("button",{type:"button",title:"Show Tabs",onClick:()=>c(!0),className:"z-10 bg-[#FFFFFF0A] flex-shrink-0 mr-2 h-10 w-10 flex items-center justify-center  rounded-full hover:bg-secondary/50 md:hidden",children:n.jsx("img",{src:Lee,alt:"Menu",className:"w-5 h-5"})}),p&&n.jsx("button",{type:"button",title:"Scroll Left",onClick:()=>F("left"),className:"p-1.5 hover:bg-secondary/50 rounded-md flex-shrink-0 z-10 hidden md:block",children:n.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"text-[#7B7B80]",children:n.jsx("path",{d:"M15 19l-7-7 7-7",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),n.jsxs("div",{ref:o,className:"relative items-center flex-grow hidden space-x-0 overflow-x-auto md:flex md:space-x-1 scrollbar-hide",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:[I,"home"!==e&&n.jsx("div",{className:"flex items-center space-x-2 transition-all ease-in-out opacity-50 cursor-pointer hover:opacity-100",onClick:E,children:n.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 5C12.4296 5.00001 12.7778 5.34822 12.7778 5.77778L12.7778 11.2222L18.2222 11.2222C18.6518 11.2222 19 11.5704 19 12C19 12.4295 18.6518 12.7778 18.2222 12.7778L12.7778 12.7777L12.7778 18.2222C12.7778 18.6518 12.4296 18.9999 12 19C11.5704 18.9999 11.2222 18.6518 11.2222 18.2222L11.2222 12.7777L5.77778 12.7778C5.34824 12.7778 5.00002 12.4295 5 12C5.00004 11.5704 5.34823 11.2222 5.77782 11.2222L11.2222 11.2222L11.2222 5.77777C11.2222 5.34822 11.5704 5.00001 12 5Z",fill:"#ffffff"})})})]}),e&&"home"!==e?n.jsx("div",{className:"absolute inset-0 flex items-center justify-center gap-1 pointer-events-none md:hidden",children:n.jsx("div",{className:"pb-1 text-[15px] font-medium capitalize text-white/50 text-center",children:((e,t=18)=>{var n;const s=(null==(n=d.find(t=>t.id===e))?void 0:n.title)||"";return s.length>t?s.substring(0,t)+"...":s})(e)})}):n.jsx("div",{className:fb("flex justify-center flex-1 md:hidden md:justify-start",!b()&&"hidden md:hidden"),children:n.jsx("img",{alt:"Logo",src:Mee,className:"h-5"})}),p&&n.jsx("button",{type:"button",title:"Scroll Right",onClick:()=>F("right"),className:"p-1.5 hover:bg-secondary/50 rounded-md flex-shrink-0 z-10 hidden md:block",children:n.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"text-[#7B7B80]",children:n.jsx("path",{d:"M9 19l7-7-7-7",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})]}),n.jsx(X3,{isOpen:w,onClose:S,onConfirm:()=>{var e;null==(e=null==C?void 0:C.onConfirm)||e.call(C),S()},onCancel:S,title:(null==C?void 0:C.title)||"You have unsaved changes",description:(null==C?void 0:C.description)||"Are you sure you want to exit the visual editor? You will lose your unsaved changes.",confirmButton:(null==C?void 0:C.confirmButton)||{text:"Confirm",variant:"default"},cancelButton:(null==C?void 0:C.cancelButton)||{text:"Cancel",variant:"outline"},includeNavBarOffset:!0})]})}const $ee=gv.common.copperCoin;function Uee({showBuyButton:e=!1}){const{credits:t,loading:s,error:i,refreshCredits:a,tier:r,isTrulyFreeUser:o}=Xg(),{isMobile:l}=QE(),c=Le(),d=De.useMemo(()=>c.pathname.includes("chat"),[c.pathname]),u=l&&d&&t<5&&!e||t>5&&"free"!==r&&d,p=o()&&l,[m,h]=De.useState(!1);if(De.useEffect(()=>{h(c.pathname.includes("chat")&&l)},[c,l]),m&&l)return null;if(p)return null;if(s)return n.jsxs("div",{className:" md:flex items-center bg-[#111111] rounded-full px-4 py-2",children:[n.jsx(hS,{className:"h-4 w-4 mr-2 text-[#F3CA5F] animate-spin"}),n.jsx("span",{className:"text-[#8A8B91] text-sm",children:"Loading..."})]});if(i)return n.jsx("div",{onClick:a,className:" md:flex items-center bg-[#111111] rounded-full px-4 py-2",children:n.jsx("span",{className:"text-sm text-destructive",children:"Error loading credits"})});return n.jsx("div",{className:"relative",children:n.jsxs(aU,{children:[n.jsx(rU,{className:" md:flex",asChild:!0,children:n.jsxs("div",{onClick:()=>{a(),fg(QS.CREDIT_BALANCE_BUTTON_CLICKED)},className:fb("flex items-center space-x-2 bg-[#F3CA5F]/[.10] rounded-full px-[10px] py-2 cursor-pointer hover:bg-[#F3CA5F]/[.20] transition-colors",u?"max-md:mr-[40px]":""),children:[n.jsx("img",{alt:"Balance Coin",src:$ee,className:"w-5 h-5"}),n.jsx("div",{className:"flex items-center space-x-1",children:n.jsx("span",{className:"text-[#F3CA5F] text-sm font-medium",children:t.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})})})]})}),n.jsx(oU,{className:"w-[350px] p-0 border-[#2E2F34] rounded-xl bg-transparent shadow-xl mt-3",align:"end",children:n.jsx(mee,{})})]})})}const Vee=gv.common.alertFill,Wee=gv.common.alertOrange,qee={info:"bg-blue-600 text-white",warning:"bg-[#E38F4529] text-[#E38F45]",error:"bg-[#FF808029] text-[#FF8080]",success:"bg-green-600 text-white"},Gee=({level:e,content:t,iconUrl:s,onDismiss:i,dismissible:a=!1,className:r})=>{const o=t.length>30;return n.jsx("div",{id:"alert-banner",className:fb("relative flex items-center justify-center h-12 md:h-14 text-sm font-medium overflow-hidden",qee[e],r),children:n.jsxs("div",{className:"relative w-full md:px-4",children:[n.jsxs("div",{className:fb("flex items-center gap-1 md:gap-[10px] px-4 md:px-0",o?"md:justify-center md:mx-auto md:max-w-7xl":"justify-center mx-auto max-w-7xl"),children:[n.jsxs("div",{className:fb("flex items-center gap-1 md:gap-[10px]",o&&"md:hidden animate-marquee"),children:["info"!=e&&n.jsx("img",{src:"error"===e?Vee:Wee,alt:"Alert",className:"flex-shrink-0 w-5 h-5"}),n.jsx("div",{className:"font-medium whitespace-nowrap tracking-[-0.2px]",children:t})]}),o&&n.jsxs("div",{className:"flex items-center gap-1 md:gap-[10px] md:hidden animate-marquee","aria-hidden":"true",children:["info"!=e&&n.jsx("img",{src:"error"===e?Vee:Wee,alt:"Alert",className:"flex-shrink-0 w-5 h-5"}),n.jsx("div",{className:"font-medium whitespace-nowrap tracking-[-0.2px]",children:t})]}),n.jsxs("div",{className:"hidden md:flex items-center gap-[10px]",children:["info"!=e&&n.jsx("img",{src:"error"===e?Vee:Wee,alt:"Alert",className:"flex-shrink-0 w-5 h-5"}),n.jsx("div",{className:"font-medium text-center tracking-[-0.2px]",children:t})]})]}),a&&i&&n.jsx("button",{onClick:i,className:"absolute top-1/2 -translate-y-1/2 flex-shrink-0 p-1 transition-colors rounded right-2 md:right-4 hover:bg-black/10 z-10","aria-label":"Dismiss alert",children:n.jsx(RS,{className:"w-4 h-4"})})]})})},Zee=({size:e=20,width:t,height:s,fill:i="#E8E8E6",className:a,onClick:r,style:o})=>{const l=t||e,c=s||e;return n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:l,height:c,viewBox:"0 0 20 20",fill:"none",className:a,onClick:r,style:o,children:n.jsx("path",{d:"M10 2C11.0505 2 12.091 2.20643 13.0615 2.6084C14.0321 3.01046 14.9144 3.59991 15.6572 4.34277C16.4001 5.08563 16.9895 5.96789 17.3916 6.93848C17.7936 7.90904 18 8.94949 18 10C18 11.0505 17.7936 12.091 17.3916 13.0615C16.9895 14.0321 16.4001 14.9144 15.6572 15.6572C14.9144 16.4001 14.0321 16.9895 13.0615 17.3916C12.091 17.7936 11.0505 18 10 18C8.94949 18 7.90904 17.7936 6.93848 17.3916C5.96789 16.9895 5.08563 16.4001 4.34277 15.6572C3.59991 14.9144 3.01046 14.0321 2.6084 13.0615C2.20643 12.091 2 11.0505 2 10C2 8.94949 2.20643 7.90904 2.6084 6.93848C3.01046 5.96789 3.59991 5.08563 4.34277 4.34277C5.08563 3.59991 5.96789 3.01046 6.93848 2.6084C7.90904 2.20643 8.94949 2 10 2ZM8.38379 13.958C7.8454 13.9578 7.32084 14.1311 6.88867 14.4521C6.58483 14.6781 6.33815 14.9697 6.16406 15.3018C6.57664 15.6004 7.02248 15.8521 7.49512 16.0479C8.28923 16.3768 9.14047 16.5459 10 16.5459C10.8595 16.5459 11.7108 16.3768 12.5049 16.0479C12.9773 15.8522 13.4226 15.6002 13.835 15.3018C13.6616 14.9705 13.4173 14.6788 13.1143 14.4531C12.6817 14.131 12.1555 13.9579 11.6162 13.958H8.38379ZM10 3.4541C9.14047 3.4541 8.28923 3.62325 7.49512 3.95215C6.70095 4.28111 5.97892 4.76326 5.37109 5.37109C4.76326 5.97892 4.28111 6.70095 3.95215 7.49512C3.62325 8.28923 3.4541 9.14047 3.4541 10C3.4541 10.8595 3.62325 11.7108 3.95215 12.5049C4.22415 13.1615 4.60234 13.7676 5.06836 14.3018C5.32216 13.9121 5.64166 13.5661 6.01953 13.2852C6.70283 12.7771 7.53234 12.5037 8.38379 12.5039H11.6162V12.5049C12.4683 12.5047 13.2979 12.7783 13.9814 13.2871C14.3581 13.5676 14.6792 13.9115 14.9326 14.2998C15.398 13.766 15.7761 13.1609 16.0479 12.5049C16.3768 11.7108 16.5459 10.8595 16.5459 10C16.5459 9.14047 16.3768 8.28923 16.0479 7.49512C15.7189 6.70095 15.2367 5.97892 14.6289 5.37109C14.0211 4.76326 13.299 4.28111 12.5049 3.95215C11.7108 3.62325 10.8595 3.4541 10 3.4541ZM10 5.23047C10.8359 5.23047 11.6384 5.56129 12.2295 6.15234C12.8205 6.7434 13.1514 7.54599 13.1514 8.38184C13.1513 9.21747 12.8203 10.0194 12.2295 10.6104C11.6384 11.2014 10.8359 11.5332 10 11.5332C9.16412 11.5332 8.36157 11.2014 7.77051 10.6104C7.17974 10.0194 6.84867 9.21748 6.84863 8.38184C6.84863 7.54598 7.17949 6.7434 7.77051 6.15234C8.36157 5.56129 9.16412 5.23047 10 5.23047ZM10 6.68457C9.54991 6.68457 9.11807 6.86338 8.7998 7.18164C8.48158 7.4999 8.30273 7.93177 8.30273 8.38184C8.30277 8.83188 8.48158 9.2638 8.7998 9.58203C9.11806 9.90024 9.54995 10.0791 10 10.0791C10.4501 10.0791 10.8819 9.90025 11.2002 9.58203C11.5184 9.2638 11.6972 8.83188 11.6973 8.38184C11.6973 7.93178 11.5184 7.4999 11.2002 7.18164C10.8819 6.86338 10.4501 6.68457 10 6.68457Z",fill:i})})},Yee=gv.common.buyCredit;function Kee({hideNav:e=!1,className:t}){const[s,i]=De.useState(!1),[a,r]=De.useState(!0),o=$E(),l=BE(),c=UE(),d=HE(),u=qE(),p=function(){const{openModal:e,closeModal:t,activeModals:n}=zE();return{open:(t={})=>e({type:"add-member",...t}),close:()=>t("add-member"),isOpen:n.has("add-member"),config:n.get("add-member")}}(),{isMobile:m}=QE(),h={background:"\n      linear-gradient(90deg, #ffffff30, #00000050),\n      #F3CA5F\n    ",backgroundSize:"cover",backgroundPosition:"center",backgroundBlendMode:"overlay, normal"},{user:x,signOut:f,session:g}=Wg(),{setTabs:v,setActiveTab:b}=Oee(),{config:y}=kD(),{isConnected:w,checkGitHubConnection:j,setIsConnected:C}=$A(),{tier:N,credits:F,creditResponse:_,isTrulyFreeUser:k}=Xg(),S=see(),{isOrganizationWorkspace:E}=Kg(),I=Kg(),A=function(){const{user:e}=Wg();return!(!e||!e.email)&&XE(e.email)}(),T=wt(e=>e.admin.isAdminMode),D=jt(),{newToast:M}=tD(),[L,P]=De.useState(!1);De.useEffect(()=>{S&&r(!1)},[S]);const{bannerConfig:R,hideBanner:O,showWarning:z}=fL(),B=(()=>{const{setBannerHeight:e,bannerConfig:t}=fL(),n=De.useRef(null),s=De.useRef(null);return De.useEffect(()=>{const i=n.current;if(!i)return;const a=()=>{if(t.show&&i){const t=i.offsetHeight;e(t)}else e(0)};return a(),window.ResizeObserver&&(s.current=new ResizeObserver(()=>{a()}),s.current.observe(i)),()=>{s.current&&s.current.disconnect()}},[t.show,e]),De.useEffect(()=>{t.show||e(0)},[t.show,e]),n})();De.useEffect(()=>{(null==y?void 0:y.info_banner)&&y.info_banner.show&&z(y.info_banner.content,y.info_banner.dismissible)},[y,z]);De.useEffect(()=>{g&&j()},[g]);const{getActiveTab:H}=Oee(),$=H(),U="home"!==(null==$?void 0:$.id),V=("free"===N||F<5)&&a&&!E()&&!m,{members:W,pending_members:q}=$2();return n.jsx(jb,{children:n.jsxs("div",{className:fb("flex h-full flex-col",t),children:[!e&&n.jsxs("header",{className:"sticky top-0 z-[10000] md:bg-[rgba(30,30,31,0.8)]  max-md:bg-transparent",children:[n.jsx(Rt,{children:R.show&&n.jsx(Pt.div,{ref:B,initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3,ease:[.25,.1,.25,1]},style:{overflow:"hidden"},children:n.jsx(Gee,{level:R.level,content:R.content,iconUrl:R.iconUrl,dismissible:R.dismissible,onDismiss:()=>{O()}})})}),n.jsxs("div",{className:"flex items-center px-2 h-[56px] max-h-[56px] md:px-6 container-fluid",children:[n.jsx("div",{className:"flex-1 h-full flex md:items-end overflow-hidden md:mr-4 w-full md:max-w-[calc(100%-200px)]",children:n.jsx(Hee,{})}),!g&&n.jsxs("div",{className:"flex items-center gap-[10px] ",children:[n.jsxs(Oe,{to:"/login",className:fb(yb({variant:"outline"}),"text-white border-[1px] border-[#3D3D3D] px-[20px] py-[8px] h-[36px]"),children:[" ","Log in"]}),n.jsxs(Oe,{to:"/register",className:fb(yb({variant:"default"}),"text-[#1A1A1A]  bg-white  px-[20px] py-[8px] h-[36px]"),children:[" ","Sign up"]})]}),g&&_&&n.jsxs("div",{className:"flex items-center gap-2 justify-end flex-shrink-0 md:min-w-[180px]",children:[g&&A&&n.jsxs("button",{type:"button",onClick:()=>D(eg()),className:fb((m?"px-2 py-2":"px-3 py-1.5")+" text-[13px] rounded-full transition-colors font-mono flex items-center justify-center",U&&"hidden"),style:{background:"radial-gradient(50% 50% at 50% 50%, rgba(63, 243, 200, 0.1) 0%, rgba(63, 243, 200, 0.05) 100%)"},children:[m?T?n.jsx(rA,{size:16,color:"url(#adminGradient)",opacity:1}):n.jsx(Zee,{size:16,fill:"url(#adminGradient)"}):n.jsx("span",{style:{background:"linear-gradient(180deg, #00FF66 0%, #62ECFE 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text",filter:"drop-shadow(0px 0px 17.94px #00FF6680) drop-shadow(0px 0px 17.94px #62ECFE33)"},children:T?"Admin Mode":"User Mode"}),n.jsx("svg",{width:"0",height:"0",children:n.jsx("defs",{children:n.jsxs("linearGradient",{id:"adminGradient",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[n.jsx("stop",{offset:"0%",style:{stopColor:"#00FF66",stopOpacity:1}}),n.jsx("stop",{offset:"100%",style:{stopColor:"#62ECFE",stopOpacity:1}})]})})})]}),E()&&n.jsxs("div",{className:"flex items-center -space-x-[14px] max-md:hidden",children:[W&&q&&W.length<5&&n.jsx("button",{title:"Test",type:"button",className:"w-9 h-9 bg-[#333333] border-[3px] border-[#1B1B1C] rounded-full flex items-center justify-center transition-colors z-50",onClick:()=>{const e=I.getCurrentOrganizationId(),t=I.getCurrentWorkspaceData();q.length+W.length>=5?M.error("This organization has reached maximum capacity of 5 members.\nContact support to upgrade your plan.",void 0,"team-limit-error"):p.open({organizationId:e,organizationName:null==t?void 0:t.name})},children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",children:n.jsx("path",{d:"M11.0526 17.0526C11.0526 17.3039 11.1524 17.5449 11.3301 17.7225C11.5078 17.9002 11.7487 18 12 18C12.2513 18 12.4922 17.9002 12.6699 17.7225C12.8476 17.5449 12.9474 17.3039 12.9474 17.0526V13.9474C12.9474 13.3951 13.3951 12.9474 13.9474 12.9474H17.0526C17.3039 12.9474 17.5449 12.8476 17.7225 12.6699C17.9002 12.4922 18 12.2513 18 12C18 11.7487 17.9002 11.5078 17.7225 11.3301C17.5449 11.1524 17.3039 11.0526 17.0526 11.0526H13.9474C13.3951 11.0526 12.9474 10.6049 12.9474 10.0526V6.94737C12.9474 6.69611 12.8476 6.45514 12.6699 6.27748C12.4922 6.09981 12.2513 6 12 6C11.7487 6 11.5078 6.09981 11.3301 6.27748C11.1524 6.45514 11.0526 6.69611 11.0526 6.94737V10.0526C11.0526 10.6049 10.6049 11.0526 10.0526 11.0526H6.94737C6.69611 11.0526 6.45514 11.1524 6.27748 11.3301C6.09981 11.5078 6 11.7487 6 12C6 12.2513 6.09981 12.4922 6.27748 12.6699C6.45514 12.8476 6.69611 12.9474 6.94737 12.9474H10.0526C10.6049 12.9474 11.0526 13.3951 11.0526 13.9474V17.0526Z",fill:"white"})})}),(()=>{if(!W)return null;const e=W.filter(e=>e.user_id!==(null==x?void 0:x.id)).slice(0,2),t=W.find(e=>e.user_id===(null==x?void 0:x.id));return(t?[...e,t]:e).map((e,t)=>{var s,i;return n.jsx("div",{className:"w-9 h-9 rounded-full border-[3px] border-[#1B1B1C] overflow-hidden mr-[2px] z-"+(40-10*t),children:e.avatar_url?n.jsx("img",{src:e.avatar_url,alt:e.name||e.email,className:"object-cover w-full h-full"}):n.jsx("div",{className:"flex items-center justify-center w-full h-full",style:{backgroundColor:z2(e.user_id||"")},children:n.jsx("span",{className:"text-sm font-medium text-white",children:(null==(s=e.name)?void 0:s.charAt(0).toUpperCase())||(null==(i=e.email)?void 0:i.charAt(0).toUpperCase())||"U"})})},e.user_id||t)})})()]}),!k()&&n.jsx(Uee,{showBuyButton:V}),V?n.jsxs("button",{type:"button",onClick:()=>{const e=E()?"team":"personal";"free"===N?l.open({planType:e}):c.open(),fg(QS.BUY_CREDITS_BUTTON_CLICKED,{planType:e})},title:"Buy Credits",style:h,className:`${U&&m?"pl-[8px] pr-[8px]":"pl-[8px] pr-[12px] gap-[4px]"} relative flex items-center  py-[6px] rounded-full font-[600] text-[14px] text-[#0F0F10] ${U&&m?"mr-10":"mr-0"}`,children:[n.jsx("img",{src:Yee,alt:"right arrow",className:"w-5 h-5"}),(!U||!m)&&n.jsx("span",{className:"tracking-[-0.2px]",children:"Buy Credits"})]}):null,!E()&&n.jsx("button",{type:"button",title:"Gift Icon",onClick:()=>{u.open(),fg(XS.REFERRAL_ICON_CLICKED)},className:fb("bg-[#80FFF9]/10 rounded-full w-10 h-10 flex items-center justify-center",U&&"max-md:hidden"),children:n.jsx(iee,{})}),n.jsx("div",{className:"items-center justify-end hidden gap-4 md:flex",children:n.jsx(Nee,{isLoggingOut:s,user:x,handleGitHubConfigClick:()=>{const e=Gt;window.open(e,"_blank")},handleLogout:async()=>{i(!0),v(e=>e.filter(e=>"home"===e.id)),C(!1),b("home"),sessionStorage.removeItem("persist:tabs"),await f().then(()=>{i(!1)})},isGitHubConnected:w,isOpen:L,onOpenChange:()=>{P(!L)},handleUniversalKeyClick:()=>{o.open()},openAccountSettingsModal:()=>{d.open()}})})]}),m&&U&&n.jsx("div",{className:" right-2 min-h-[40px] min-w-[40px] ml-2",children:n.jsx("button",{onClick:()=>window.dispatchEvent(new CustomEvent("openMobileMenu")),className:"min-h-10 min-w-10 rounded-full flex items-center justify-center bg-[#FFFFFF0A] pb-0 focus:outline-none","aria-label":"Open menu",children:n.jsx(rS,{className:"w-6 h-6"})})})]})]}),n.jsx(Bee,{})]})})}function Jee({description:e,error:t,steps:s=[]}){return n.jsxs("div",{className:"w-full",children:[n.jsxs("div",{className:"mb-4",children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:e}),t&&n.jsxs("div",{className:"mt-2 flex items-center gap-2 text-xs text-destructive",children:[n.jsx(Jk,{className:"h-4 w-4"}),n.jsx("span",{children:t})]})]}),s.length>0&&n.jsx("div",{className:"mb-4 space-y-2",children:s.map((e,t)=>n.jsxs("div",{className:"flex items-center gap-2 text-xs",children:["completed"===e.status?n.jsx(Kk,{className:"h-4 w-4 text-green-500"}):"in_progress"===e.status?n.jsx(Ok,{className:"h-4 w-4 text-blue-500 animate-pulse"}):n.jsx(Qk,{className:"h-4 w-4 text-gray-300"}),n.jsx("span",{className:"completed"===e.status?"text-green-500":"in_progress"===e.status?"text-blue-500":"text-gray-400",children:e.name})]},t))})]})}function Qee(){const{toast:e}=on(),t=wt(e=>e.progress);return De.useEffect(()=>{t.isVisible&&e({title:t.title,description:n.jsx(Jee,{title:t.title,description:t.description,progress:t.progress,error:t.error,steps:t.steps,currentStep:t.currentStep}),duration:t.error?1/0:100===t.progress?3e3:1/0})},[t.isVisible,t.progress,t.title,t.description,t.error,t.steps,t.currentStep]),null}const Xee=new class{constructor(){t(this,"listeners",[]),t(this,"currentText","")}subscribe(e){return this.listeners.push(e),()=>{this.listeners=this.listeners.filter(t=>t!==e)}}show(e,t){this.currentText=t||"",this.listeners.forEach(e=>e(!0,this.currentText)),e&&setTimeout(()=>this.hide(),e)}hide(){this.currentText="",this.listeners.forEach(e=>e(!1,""))}};function ete(){const e=Me(),t=Le(),{saveInstallation:s,checkGitHubConnection:i,setIsConnected:a}=$A(),{toast:r}=on(),{user:o}=Wg(),[l,c]=De.useState("processing"),[d,u]=De.useState("Processing GitHub authorization..."),p=De.useRef(!1);return De.useEffect(()=>{(async()=>{if(!p.current){p.current=!0;try{const l=new URLSearchParams(t.search),d=l.get("installation_id"),p=l.get("setup_action"),m=l.get("code")||"";if(d&&"install"===p){if(await s(d,m)){await i(),a(!0),c("success"),u("GitHub connected successfully! Closing this window..."),jg("profile_completed",{userId:null==o?void 0:o.id,feature:"github_connection",installationId:d}),r({title:"Success",description:"GitHub connected successfully",variant:"default"});if("true"===sessionStorage.getItem("oauth_login_pending")){const e=sessionStorage.getItem("oauth_provider")||"unknown";gg("login_success",{method:e,userId:null==o?void 0:o.id,withGitHubConnection:!0});"true"!==localStorage.getItem("first_login_completed")&&o&&(localStorage.setItem("first_login_completed","true"),jg("first_login",{userId:o.id,method:e,withGitHubConnection:!0})),sessionStorage.removeItem("oauth_login_pending"),sessionStorage.removeItem("oauth_provider")}if(window.opener&&!window.opener.closed)try{window.opener.location.href=window.opener.location.href}catch(n){}setTimeout(()=>{try{window.close()}catch(n){e("/home")}},2e3)}else c("error"),u("Failed to save GitHub installation"),r({title:"Error",description:"Failed to save GitHub installation",variant:"destructive"})}else c("error"),u("Invalid GitHub callback parameters"),r({title:"Error",description:"Invalid GitHub callback parameters",variant:"destructive"})}catch(l){c("error"),u("An unexpected error occurred"),r({title:"Error",description:"An unexpected error occurred",variant:"destructive"})}}})()},[t.search,e,s,i,a,r]),n.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen p-4 bg-background",children:n.jsxs("div",{className:"w-full max-w-md p-6 space-y-6 rounded-lg shadow-lg bg-card",children:[n.jsxs("h2",{className:"text-2xl font-bold text-center",children:["processing"===l&&"Connecting to GitHub...","success"===l&&"GitHub Connected!","error"===l&&"Connection Failed"]}),n.jsxs("div",{className:"flex justify-center",children:["processing"===l&&n.jsx(Ik,{className:"w-6 h-6"}),"success"===l&&n.jsx("div",{className:"p-2 bg-green-100 rounded-full",children:n.jsx("svg",{className:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),"error"===l&&n.jsx("div",{className:"p-2 bg-red-100 rounded-full",children:n.jsx("svg",{className:"w-8 h-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),n.jsx("p",{className:"text-center text-muted-foreground",children:d}),"error"===l&&n.jsx("div",{className:"flex justify-center",children:n.jsx("button",{type:"button",className:"px-4 py-2 text-sm font-medium text-white rounded-md bg-primary hover:bg-primary/90",onClick:()=>e("/home"),children:"Return to Home"})})]})})}const tte=({text:e})=>n.jsxs("div",{className:"relative flex items-center justify-center w-full my-4 md:my-6",children:[n.jsx("div",{className:"w-full border border-t-[0.5px] border-b-0 border-white/20"}),n.jsx("span",{className:fb("px-3 text-[14px]  md:text-[14px] font-['Inter'] text-white/30 bg-none whitespace-nowrap",e?"":"uppercase"),children:e||"or"}),n.jsx("div",{className:"w-full border border-t-[0.5px] border-b-0 border-white/20"})]}),nte=gv.common.githubGreen,ste=gv.common.appleWhite,ite=gv.icons.google,ate=({provider:e,onClick:t,isSubmitting:s,buttonText:i,className:a="",showText:r=!0,backgroundColor:o,textColor:l="#CCCCCC"})=>{const c={google:{icon:ite,defaultText:"Sign in with Google"},github:{icon:nte,defaultText:"Sign in with Github"},apple:{icon:ste,defaultText:"Sign in with Apple"}},{icon:d,defaultText:u}=c[e],p=i||u,m=o?{backgroundColor:o}:{},h=r?`w-full h-12 md:h-14 bg-[#ffffff08] hover:bg-[#ffffff12] text-[#CCCCCC] hover:text-white flex items-center justify-center ${a}`:`w-[48%] h-12 md:h-14 bg-[#333] hover:bg-[#444] rounded-full flex items-center justify-center ${a}`;return n.jsx(wb,{type:"button",className:`${h} [&>div]:w-auto`,onClick:t,disabled:s,style:m,children:n.jsx("div",{className:`flex items-center ${r?"w-full relative":""} font-medium tracking-[-1%]`,children:s?n.jsx(Ik,{className:r?"mx-auto":"w-5 h-5"}):n.jsxs(n.Fragment,{children:[n.jsx("img",{src:d,alt:`${e} icon`,className:"w-6 h-6 flex justify-center text-[16px]"}),r&&n.jsx("span",{className:"ml-3 w-full text-center font-semibold text-[16px]",style:{color:l},children:p})]})})})},rte=({id:e,name:t,type:s,value:i,placeholder:a,onChange:r,required:o=!1,disabled:l=!1,iconSrc:c,iconAlt:d="Input icon",className:u=""})=>{const[p,m]=De.useState(!1),h=i.length>0;return n.jsxs("div",{className:"relative flex items-center w-full",children:[c&&n.jsx("div",{className:"absolute left-[18px] transition-opacity duration-200 "+(p?"opacity-100":h?"opacity-50":"opacity-40"),children:n.jsx("img",{src:c,alt:d,className:"w-5 h-5"})}),n.jsx("input",{id:e,name:t,type:s,value:i,onChange:r,placeholder:a,required:o,disabled:l,onFocus:()=>m(!0),onBlur:()=>m(!1),className:`w-full h-12 md:h-14 pr-[18px] py-4 bg-transparent border border-[#ffffff]/10 rounded-[38px] text-white placeholder-[#4d4d4d] focus:outline-none focus:border-[#ffffff] transition-all duration-200 text-[15px] ${l?"opacity-70":""} font-inter\n                 ${c?"pl-12":"pl-4"} ${u} ${h&&!p?"text-opacity-50 text-white":"text-opacity-100"}`})]})},ote=gv.showcase.whiteArrow,lte=({cards:e,onCardClick:t,handleCardClickedEvent:s,autoAdvance:i=!0,autoAdvanceDuration:a=2500,className:r,cardClassName:o,showNavigation:l=!0,showProgressDots:c=!0,pauseOnHover:d=!0,wrapAround:u=!0,centerCardWidth:p=350,centerCardHeight:m=200,sideCardWidth:h=280,sideCardHeight:x=170,sideCardOpacity:f=.6,sideCardScale:g=.9,spacing:v=350,animationDuration:b=500})=>{const[y,w]=De.useState(0),[j,C]=De.useState(!1),[N,F]=De.useState(!1),[_,k]=De.useState(0),S=De.useRef(null),E=De.useCallback(()=>{N||e.length<=1||(F(!0),w(t=>u?(t+1)%e.length:Math.min(t+1,e.length-1)),setTimeout(()=>F(!1),b))},[N,e.length,u,b]),I=De.useCallback(()=>{N||e.length<=1||(F(!0),w(t=>u?(t-1+e.length)%e.length:Math.max(t-1,0)),setTimeout(()=>F(!1),b))},[N,e.length,u,b]);De.useEffect(()=>{k(e=>e+1)},[y]),De.useEffect(()=>{if(i&&!(e.length<=1)&&(!j||!d))return S.current=setInterval(()=>{E()},a),()=>{S.current&&clearInterval(S.current)}},[E,i,a,j,d,e.length]);const A=e=>{N||e===y||(F(!0),w(e),setTimeout(()=>F(!1),b))};return 0===e.length?null:n.jsxs(n.Fragment,{children:[n.jsx("style",{children:"\n        @keyframes fillProgress {\n          from {\n            width: 0%;\n          }\n          to {\n            width: 100%;\n          }\n        }\n\n        .progress-fill {\n          animation: fillProgress linear forwards;\n        }\n\n        .progress-fill.paused {\n          animation-play-state: paused;\n        }\n      "}),n.jsxs("div",{className:fb("flex flex-col items-center justify-center w-full overflow-hidden",r),children:[n.jsx("div",{className:"relative flex items-center justify-center w-full md:h-[400px] h-screen md:mb-0",children:n.jsx("div",{className:"relative flex items-center justify-center w-full h-full",children:e.map((i,a)=>{const r=(t=>{const n=t-y,s=e.length;let i=n;return u&&(n>s/2&&(i-=s),n<-s/2&&(i+=s)),{transform:`translateX(${i*v}px) scale(${0===i?1:g})`,opacity:0===i?1:1===Math.abs(i)?f:0,zIndex:0===i?20:1===Math.abs(i)?10:0,width:`${0===i?p:h}px`,height:`${0===i?m:x}px`,transition:`all ${b/1e3}s ease-out`}})(a),l=a-y,c=e.length;let w=l;u&&(l>c/2&&(w-=c),l<-c/2&&(w+=c));const j=0===w;return n.jsxs("div",{className:fb("absolute select-none rounded-[10px] flex items-center justify-center cursor-pointer",o),style:r,onMouseEnter:()=>d&&C(!0),onMouseLeave:()=>d&&C(!1),onClick:()=>((e,n)=>{n!==y?A(n):t&&t(e,n),s&&s(n)})(i,a),children:[i.content,!j&&n.jsx("div",{className:"absolute inset-0 transition-colors duration-200 rounded-[10px]"})]},i.id)})})}),(l||c)&&n.jsx("div",{className:"flex flex-col items-center justify-center gap-6 max-md:mt-4",children:n.jsxs("div",{className:"flex items-center justify-center space-x-4",children:[l&&n.jsx("button",{type:"button",onClick:I,className:fb("h-6 w-6 backdrop-blur-lg text-white-bg bg-white rounded-full transition-all duration-200 flex items-center justify-center",N?"opacity-80 cursor-not-allowed":"opacity-80 hover:opacity-100"),"aria-label":"Previous",children:n.jsx("img",{src:ote,alt:"Next",className:"w-4 h-4"})}),c&&n.jsx("div",{className:"flex space-x-2",children:e.map((e,t)=>n.jsxs(Pt.button,{type:"button",onClick:()=>A(t),className:fb("relative h-2 rounded-full overflow-hidden transition-all duration-300",t===y?"w-12 bg-[#FFFFFF]/20":"w-2 bg-[#FFFFFF]/20 hover:bg-[#FFFFFF]/30"),"aria-label":`Go to slide ${t+1}`,children:[t===y&&i&&n.jsx("div",{className:fb("absolute inset-y-0 left-0 bg-white rounded-full progress-fill",j&&"paused"),style:{animationDuration:`${a}ms`}},`progress-${_}`),t===y&&!i&&n.jsx("div",{className:"absolute inset-0 bg-white rounded-full"})]},t))}),l&&n.jsx("button",{type:"button",onClick:E,className:fb("h-6 w-6 text-white-bg shadow-2xl backdrop-blur-lg bg-white rounded-full transition-all duration-200 flex items-center justify-center",N?"opacity-80 cursor-not-allowed":"opacity-80 hover:opacity-100"),"aria-label":"Next",children:n.jsx("img",{src:ote,alt:"Next",className:"w-4 h-4 rotate-180"})})]})}),n.jsx("div",{className:"max-md:hidden max-lg:px-4 py-6 rounded-b-[10px] w-full absolute bottom-0 left-1/2 transform -translate-x-1/2 bg-gradient-to-r from-black/10 to-white/10 backdrop-blur-[50px]",children:n.jsxs("div",{className:"w-full [@media(min-width:1920px)]:max-w-[50%] lg:max-w-[80%] flex justify-between items-center mx-auto",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-white text-center font-ndot text-[24px] font-normal leading-[24px] [text-shadow:0_0_11.93px_rgba(255,255,255,0.30)]",children:"1.5M+"}),n.jsx("p",{className:"min-w-[75px] mt-2 text-[15px] text-white/60 font-[Inter] font-medium leading-6",children:"Users"})]}),n.jsx("div",{className:"flex justify-center w-10",children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"2",height:"41",viewBox:"0 0 2 41",fill:"none",children:n.jsx("path",{opacity:"0.2",d:"M0.666016 0.5V40.5",stroke:"white"})})}),n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-white text-center font-ndot text-[24px] font-normal leading-[24px] [text-shadow:0_0_11.93px_rgba(255,255,255,0.30)]",children:"2M+"}),n.jsx("p",{className:"min-w-[75px] mt-2 text-[15px] text-white/60 font-[Inter] font-medium leading-6",children:"Apps"})]}),n.jsx("div",{className:"flex justify-center w-10",children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"2",height:"41",viewBox:"0 0 2 41",fill:"none",children:n.jsx("path",{opacity:"0.2",d:"M0.666016 0.5V40.5",stroke:"white"})})}),n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-white text-center font-ndot text-[24px] font-normal leading-[24px] [text-shadow:0_0_11.93px_rgba(255,255,255,0.30)]",children:"180+"}),n.jsx("p",{className:"min-w-[75px] mt-2 text-[15px] text-white/60 font-[Inter] font-medium leading-6",children:"Countries"})]}),n.jsx("div",{className:"flex justify-center w-10",children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"2",height:"41",viewBox:"0 0 2 41",fill:"none",children:n.jsx("path",{opacity:"0.2",d:"M0.666016 0.5V40.5",stroke:"white"})})}),n.jsxs("div",{className:"text-center",children:[n.jsxs("div",{className:"flex justify-center",children:[n.jsx("div",{className:"self-center object-contain w-6 h-6 rounded-full",children:n.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"25",viewBox:"0 0 24 25",fill:"none",children:[n.jsx("rect",{width:"24",height:"24",transform:"translate(0 0.5)",fill:"#FF864D",rx:"5",ry:"5"}),n.jsx("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M13.0632 13.5965V18.5H11.2857V13.5965L6.75 6.5H8.91581L12.181 11.7414L15.4331 6.5H17.5989L13.0632 13.5965Z",fill:"white"})]})}),n.jsx("span",{className:"ml-2 self-center text-white text-center font-ndot text-[24px] font-normal leading-[24px] [text-shadow:0_0_11.93px_rgba(255,255,255,0.30)]",children:"YC"})]}),n.jsx("p",{className:"min-w-[75px] mt-2 text-[15px] text-white/60 font-[Inter] font-medium leading-6",children:"Backed by"})]})]})})]})]})},cte=gv.showcase.image1,dte=gv.showcase.image2,ute=gv.showcase.image3,pte=gv.showcase.image4,mte=gv.showcase.image6,hte=gv.landingPage.users,xte=[{id:"image1",content:n.jsx("div",{className:"flex items-center justify-center w-full h-full p-2 md:p-[10px] bg-gradient-to-b from-[#FFFFFF90] to-[#FFFFFF66] backdrop-blur-[112.05px] rounded-[20px] login-slider-card",children:n.jsx("img",{src:cte,alt:"Image 1",className:"object-cover h-full rounded-[16px]"})})},{id:"image2",content:n.jsx("div",{className:"flex items-center justify-center w-full h-full p-2 md:p-[10px] bg-gradient-to-b from-[#FFFFFF90] to-[#FFFFFF66] backdrop-blur-[112.05px] rounded-[20px] login-slider-card",children:n.jsx("img",{src:dte,alt:"Image 1",className:"object-cover h-full rounded-[16px]"})})},{id:"image3",content:n.jsx("div",{className:"flex items-center justify-center w-full h-full p-2 md:p-[10px] bg-gradient-to-b from-[#FFFFFF90] to-[#FFFFFF66] backdrop-blur-[112.05px] rounded-[20px] login-slider-card",children:n.jsx("img",{src:ute,alt:"Image 1",className:"object-cover h-full rounded-[16px]"})})},{id:"image4",content:n.jsx("div",{className:"flex items-center justify-center w-full h-full p-2 md:p-[10px] bg-gradient-to-b from-[#FFFFFF90] to-[#FFFFFF66] backdrop-blur-[112.05px] rounded-[20px] login-slider-card",children:n.jsx("img",{src:pte,alt:"Image 1",className:"object-cover w-full h-full rounded-[16px]"})})},{id:"image5",content:n.jsx("div",{className:"flex items-center justify-center w-full h-full p-2 md:p-[10px] bg-gradient-to-b from-[#FFFFFF90] to-[#FFFFFF66] backdrop-blur-[112.05px] rounded-[20px] login-slider-card",children:n.jsx("img",{src:mte,alt:"Image 1",className:"object-cover h-full w-full rounded-[16px]"})})}],fte=({type:e})=>n.jsx("section",{className:"flex flex-col h-full items-right justify-right",children:n.jsxs("div",{className:""+("hero"==e?"flex flex-col items-center justify-center h-full":"flex items-center just h-full"),children:["hero"==e&&n.jsxs("div",{className:"max-md:hidden flex justify-center z-[100] w-fit rounded-full px-3 py-2 border border-white/10 bg-[black/10,white/10] backdrop-blur-[50px] mb-5",children:[n.jsx("img",{src:hte,alt:"",className:"self-center w-auto h-8",height:"32px"}),n.jsx("p",{className:"ml-2 self-center text-white text-center font-brockmann text-[16px] font-semibold leading-6",children:"Trusted by 1.5M+ Users"})]}),n.jsx(lte,{cards:xte,onCardClick:(e,t)=>{},autoAdvance:true,autoAdvanceDuration:2e3,centerCardWidth:624,centerCardHeight:356,sideCardWidth:420,sideCardHeight:300,spacing:520,sideCardOpacity:.7,sideCardScale:.9,className:""+("hero"==e?"mb-[150px]":"mb-8")})]})}),gte="pending_referral_code",vte="referral_applied";class bte{static storePendingReferralCode(e,t="url"){if(!e||"string"!=typeof e)return;const n={code:e.trim(),timestamp:Date.now(),source:t};try{localStorage.setItem(gte,JSON.stringify(n))}catch(s){}}static getPendingReferralCode(){try{const e=localStorage.getItem(gte);if(!e)return null;const t=JSON.parse(e),n=864e5;return Date.now()-t.timestamp>n?(this.clearPendingReferralCode(),null):t}catch(e){return this.clearPendingReferralCode(),null}}static clearPendingReferralCode(){try{localStorage.removeItem(gte)}catch(e){}}static markReferralAsApplied(e,t){try{const n={code:e,timestamp:Date.now(),reward:t||5};localStorage.setItem(vte,JSON.stringify(n))}catch(n){}}static wasReferralRecentlyApplied(){try{const e=localStorage.getItem(vte);if(!e)return{applied:!1};const t=JSON.parse(e),n=3e5;return Date.now()-t.timestamp<=n?{applied:!0,code:t.code,reward:t.reward||5}:(this.clearAppliedReferralData(),{applied:!1})}catch(e){return this.clearAppliedReferralData(),{applied:!1}}}static clearAppliedReferralData(){try{localStorage.removeItem(vte)}catch(e){}}static extractReferralCodeFromUrl(e=window.location.href){try{const t=new URL(e);return t.searchParams.get("referral")||t.searchParams.get("ref")}catch(t){return null}}static cleanUrlParameters(){try{const e=new URL(window.location.href);(e.searchParams.has("referral")||e.searchParams.has("ref"))&&(e.searchParams.delete("referral"),e.searchParams.delete("ref"),window.history.replaceState({},document.title,e.toString()))}catch(e){}}static initializeReferralHandling(){const e=this.extractReferralCodeFromUrl();e?(this.storePendingReferralCode(e,"url"),this.cleanUrlParameters()):this.getPendingReferralCode()}static getReferralShareUrl(e,t=window.location.origin){if(!e)return t;try{const n=new URL(t);return n.searchParams.set("ref",e),n.toString()}catch(n){return`${t}?ref=${encodeURIComponent(e)}`}}}const{storePendingReferralCode:yte,getPendingReferralCode:wte,clearPendingReferralCode:jte,markReferralAsApplied:Cte,wasReferralRecentlyApplied:Nte,clearAppliedReferralData:Fte,extractReferralCodeFromUrl:_te,cleanUrlParameters:kte,initializeReferralHandling:Ste,getReferralShareUrl:Ete}=bte,Ite=gv.logo.borderedLogoDark,Ate=gv.common.mail,Tte=gv.common.password,Dte=gv.common.discordLight,Mte=gv.common.hypeText,Lte=gv.videos.clouds,Pte=gv.referral.giftGreenWithoutGlow,Rte=gv.referral.person;function Ote({view:e}){const{user:t,session:s,loading:i,signInWithEmail:a,signUpWithEmail:r,signInWithOAuth:o,verifyInviteCode:l,signOut:c,refreshSession:d}=Wg(),u=Me(),{showErrorToast:p}=QJ(),[m,h]=De.useState(!1),[x,f]=De.useState(!1),[g,v]=De.useState(!1),[b,y]=De.useState(!1),[w,j]=De.useState(!1),[C,N]=De.useState(!1),[F,_]=De.useState({email:"",password:""}),[k,S]=De.useState({name:"",email:"",password:""}),[E,I]=De.useState({inviteCode:""}),[A,T]=De.useState(!1),[D]=ze(),{config:M,loading:L}=kD();De.useEffect(()=>{bte.initializeReferralHandling();const e=()=>{const e=bte.getPendingReferralCode();T(!!e)};e();const t=()=>{bte.initializeReferralHandling(),e()};return window.addEventListener("popstate",t),()=>{window.removeEventListener("popstate",t)}},[]);const P=e=>{const{name:t,value:n}=e.target;_(e=>({...e,[t]:n}))},R=e=>{const{name:t,value:n}=e.target;S(e=>({...e,[t]:n}))},O=e=>{const{name:t,value:n}=e.target;I(e=>({...e,[t]:n}))},z=async()=>{try{v(!0);const{success:e,error:t}=await o("google");!e&&t&&p("Error signing in with Google",t)}catch(e){p("Error signing in with Google",e.message||"Failed to sign in")}finally{v(!1)}},B=async()=>{try{j(!0);const{success:e,error:t}=await o("apple");!e&&t&&p("Error signing in with Apple",t)}catch(e){p("Error signing in with Apple",e.message||"Failed to sign in")}finally{j(!1)}},H=async()=>{try{y(!0);const{success:e,error:t}=await o("github");!e&&t&&p("Error signing in with GitHub",t)}catch(e){p("Error signing in with GitHub",e.message||"Failed to sign in")}finally{y(!1)}},$=async e=>{e.preventDefault(),f(!0);try{const{success:e,error:t}=await a(F.email,F.password);if(!e)return(null==t?void 0:t.needsVerification)||p("Error signing in",t||"Invalid email or password"),void f(!1)}catch(t){p("Error signing in",t.message||"Invalid email or password")}finally{f(!1)}},U=async(e,t)=>{null==e||e.preventDefault(),f(!0);const n=t||E.inviteCode;if(!n.trim())return p("Error","Please enter an invite code"),void f(!1);try{const{success:e,banned:t,error:s}=await l(n);if(!e)return p("Error",s||"Failed to verify invite code"),t?(await c(),void(window.location.href="/banned")):void f(!1);await d().then(()=>{const e=D.toString();u(e?`/?${e}`:"/")})}catch(s){p("Error",s.message||"Failed to verify invite code")}finally{f(!1)}},V=async e=>{e.preventDefault(),f(!0);const{name:t,email:n,password:s}=k;if(!t.trim()||!n.trim()||!s.trim())return p("Error","Please fill all the fields"),void f(!1);try{const{success:e,needsVerification:i,error:a}=await r(t,n,s);if(!e)return p("Error signing up",a||"Failed to sign up"),void f(!1);i&&setTimeout(()=>{const e=new URLSearchParams(D);e.set("email",n),u(`/verify?${e.toString()}`)},100)}catch(i){p("Error signing up",i.message||"Failed to sign up")}finally{f(!1)}};if(i)return n.jsx("div",{className:"flex items-center justify-center w-full h-screen",children:n.jsx(Ik,{className:"w-12 h-12"})});if(s&&t&&!t.user_metadata.needs_invite_code){if("activate"!==e){const e=D.toString();return u(e?`/?${e}`:"/"),null}}else if(s&&t&&t.user_metadata.needs_invite_code){if("activate"!==e){const e=D.toString();return u(e?`/activate?${e}`:"/activate"),null}}else if(!s&&"activate"===e){const e=D.toString();return u(e?`/login?${e}`:"/login"),null}return n.jsxs("div",{className:"relative flex max-md:flex-col items-center justify-center h-screen overflow-hidden max-md:overflow-y-scroll min-h-screen z-[999]",children:[n.jsxs("div",{className:"flex relative h-screen flex-col flex-1 items-center justify-center w-full p-4 z-[999] overflow-hidden",children:[n.jsx("img",{src:Ite,className:"w-12 h-12 mb-2 z-[10] cursor-pointer md:w-[72px] md:h-[72px]",alt:"Emergent Logo"}),n.jsxs("div",{className:"font-sans font-medium text-center",children:[n.jsx("span",{className:"text-[24px] md:text-[32px] font-brockmann text-white",style:{textShadow:"0px 0px 40px 0px rgba(255, 255, 255, 0.4)"},children:"login"===e?"Welcome to Emergent":"signup"===e?"Create an Account":"Activate your Account"}),n.jsx("span",{className:"block text-[#898e98] text-[13px] mb-4  md:text-base mt-1 max-w-[414px] w-full",children:"login"===e?n.jsxs(n.Fragment,{children:[n.jsx("span",{children:"Don't have an account? "}),n.jsx("button",{onClick:()=>{const e=D.toString();u(e?`/register?${e}`:"/register")},className:"text-[#2EBBE5] font-brockmann text-[13px]  md:text-base hover:text-[#2EBBE5] transition-colors duration-200",children:"Sign up for free"})]}):"signup"===e?n.jsxs(n.Fragment,{children:[n.jsx("span",{children:"Already have an account? "}),n.jsx("button",{onClick:()=>{const e=D.toString();u(e?`/login?${e}`:"/login")},className:"text-[#2EBBE5] font-brockmann text-[13px]  md:text-base hover:text-[#2EBBE5] transition-colors duration-200",children:"Log In"})]}):n.jsx(n.Fragment,{children:"Welcome to Emergent! We're currently in private beta. To get started, Please enter your invitation code."})})]}),"login"===e?n.jsxs("form",{onSubmit:$,className:"p-4 pt-0 md:space-y-[2rem] font-berkeley md:max-w-[414px] w-full z-[999]",children:[n.jsxs("div",{className:"flex flex-col w-full",children:[n.jsxs("div",{className:"flex flex-col md:gap-[0px]",children:[n.jsxs("div",{className:"flex flex-col items-center justify-center w-full gap-3",children:[n.jsx(ate,{provider:"google",onClick:z,isSubmitting:g,buttonText:"Continue with Google"}),n.jsx(ate,{provider:"github",onClick:H,isSubmitting:b,buttonText:"Continue with Github"}),n.jsx(ate,{provider:"apple",onClick:B,isSubmitting:w,buttonText:"Continue with Apple"})]}),n.jsx(tte,{text:"Or Log in with email"})]}),n.jsxs("div",{className:"flex flex-col gap-4",children:[n.jsx("div",{className:"",children:n.jsx(rte,{id:"email",name:"email",type:"email",value:F.email,onChange:P,placeholder:"Enter your email",required:!0,disabled:x,iconSrc:Ate,iconAlt:"Email icon"})}),n.jsx("div",{children:n.jsxs("div",{className:"relative",children:[n.jsx(rte,{id:"password",name:"password",type:m?"text":"password",value:F.password,placeholder:"Enter your password",onChange:P,required:!0,disabled:x,iconSrc:Tte,iconAlt:"Password icon"}),n.jsx("button",{type:"button",onClick:()=>h(!m),disabled:x,className:"absolute right-2 top-1/2 -translate-y-1/2 text-[#4d4d4d] hover:text-[#CCCCCC] transition-colors w-10 h-10 flex items-center justify-center rounded-md hover:bg-white/5 disabled:opacity-70",children:m?n.jsx(oS,{size:20}):n.jsx(lS,{size:20})})]})})]}),n.jsx(DT,{type:"submit",disabled:x,onClick:()=>{},variant:"light",className:"w-full p-0 mt-5 max-h-[52px]",fullWidthOnMobile:!0,children:x?n.jsxs(n.Fragment,{children:[n.jsx("span",{children:"Logging In"}),n.jsx(Ik,{className:"ml-2"})]}):n.jsx(n.Fragment,{children:"Log In"})})]}),n.jsx("div",{className:"flex items-center justify-center text-[13px] mt-4 md:text-[16px] w-full gap-4",children:n.jsx("span",{onClick:()=>{const e=D.toString();u(e?`/reset-password?${e}`:"/reset-password")},className:"text-[#5C5F66] font-['Inter'] font-medium cursor-pointer",children:"Forgot Password ?"})})]}):"signup"===e?n.jsxs("form",{onSubmit:V,className:" p-4 pt-0 md:max-w-[414px] w-full z-[999] ",children:[n.jsxs("div",{className:"flex flex-col md:gap-[0px]",children:[n.jsxs("div",{className:"flex flex-col items-center justify-center w-full gap-3",children:[n.jsx(ate,{provider:"google",onClick:z,isSubmitting:g,buttonText:"Continue with Google"}),n.jsx(ate,{provider:"github",onClick:H,isSubmitting:b,buttonText:"Continue with Github"}),n.jsx(ate,{provider:"apple",onClick:B,isSubmitting:w,buttonText:"Continue with Apple"})]}),n.jsx(tte,{text:"Or Sign up with email"})]}),n.jsxs("div",{className:"flex flex-col w-full space-y-2 md:space-y-4",children:[n.jsx(rte,{id:"name",name:"name",type:"name",value:k.name,onChange:R,placeholder:"Enter your name",required:!0,disabled:x,iconSrc:Rte,iconAlt:"Password icon"}),n.jsx(rte,{id:"email",name:"email",type:"email",value:k.email,onChange:R,placeholder:"Enter your email",required:!0,disabled:x,iconSrc:Ate,iconAlt:"Email icon"}),n.jsx(rte,{id:"password",name:"password",type:m?"text":"password",value:k.password,placeholder:"Enter your password",onChange:R,required:!0,disabled:x,iconSrc:Tte,iconAlt:"Password icon"})]}),n.jsx("div",{className:"flex flex-col pt-4 md:pt-5 md:mb-4",children:n.jsx("div",{children:n.jsx("div",{className:"relative",children:n.jsx(DT,{type:"submit",disabled:x,onClick:()=>{},variant:"light",className:"w-full p-0 max-h-[52px]",fullWidthOnMobile:!0,children:x?n.jsxs(n.Fragment,{children:[n.jsx(Ik,{className:"mr-2"})," Signing Up..."]}):"Sign Up"})})})}),n.jsx("div",{className:"flex items-center mt-1 max-md:mt-4",children:n.jsxs("span",{className:"text-[#898e98] text-center text-[13px]",children:["By clicking Sign Up, you agree to our"," ",n.jsx("a",{href:"/terms-of-service",className:"text-[#2EBBE5]",children:"Terms of Service"})," ","and"," ",n.jsx("a",{href:"/privacy-policy",className:"text-[#2EBBE5]",children:"Privacy Policy"}),"."]})})]}):(()=>{var e,a;if(!i){if(!t||!s){const e=D.toString();return u(e?`/login?${e}`:"/login"),null}if(!t.user_metadata.needs_invite_code){const e=D.toString();return u(e?`/?${e}`:"/"),null}}return n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"absolute top-4 right-4 z-[999]",children:n.jsx(wb,{variant:"ghost",className:"text-white/40 hover:text-white hover:bg-[#313133] max-h-[44px] min-w-[100px] flex items-center justify-center transition-colors",onClick:async()=>{N(!0);try{await c()}catch(e){p("Error signing out","Failed to sign out")}finally{N(!1)}},disabled:x,children:n.jsxs("div",{className:"flex items-center justify-center w-full ",children:[C?n.jsx(Ik,{className:"w-4 h-4 mr-2"}):null,"Log out"]})})}),n.jsxs("form",{className:"p-4 pt-0 space-y-10 max-w-[414px] w-full z-[999]",onSubmit:e=>U(e),children:[n.jsx("div",{className:"flex flex-col w-full space-y-4 z-[999]",children:n.jsx("div",{children:n.jsx(rte,{placeholder:"Enter your invite code",id:"inviteCode",name:"inviteCode",type:"text",value:E.inviteCode,onChange:O,required:!0,disabled:x,className:"w-full h-12 p-4 bg-[#111112] border border-[#333333]\n                     rounded-md text-white placeholder-[#4d4d4d] focus:outline-none focus:border-[#336E80]\n                     transition-colors duration-200 text-[16px] disabled:opacity-70 font-inter"})})}),n.jsxs("div",{className:"flex flex-col w-full space-y-8 z-[999]",children:[n.jsx("div",{className:"relative",children:n.jsx(DT,{type:"submit",disabled:x,onClick:()=>{},variant:"light",className:"w-full p-0",children:x?n.jsxs(n.Fragment,{children:[n.jsx("span",{children:"Activating"}),n.jsx(Ik,{className:"ml-2"})]}):n.jsx(n.Fragment,{children:"Let's Go"})})}),n.jsx(tte,{text:"Don't have an invite code yet?"}),!(null==(e=(null==M?void 0:M.lite_version)||{})?void 0:e.enabled)&&!L&&n.jsxs("div",{className:"relative",children:[n.jsxs(DT,{type:"submit",disabled:x,onClick:()=>{window.open("https://discord.gg/X9cqNxYyG8")},variant:"light",className:"w-full p-0 bg-[#6673FF] bg-gradient-to-b from-[#6673FF] to-[#5865F2] text-white",children:[n.jsx("img",{src:Dte,alt:"",className:"w-6 h-6"}),"Join Discord"]}),n.jsx("img",{src:Mte,alt:"",className:"hidden md:block  md:absolute -bottom-[150%] -right-[20%] h-[85px]"})]}),(null==(a=(null==M?void 0:M.lite_version)||{})?void 0:a.enabled)&&!L&&n.jsx(DT,{type:"button",disabled:x,onClick:()=>{var e;U(null,null==(e=null==M?void 0:M.lite_version)?void 0:e.code)},variant:"light",className:"w-full p-0 bg-[#6673FF] bg-gradient-to-b from-[#6673FF] to-[#5865F2] text-white",children:x?n.jsxs(n.Fragment,{children:[n.jsx("span",{children:"Join Lite Version"}),n.jsx(Ik,{className:"ml-2"})]}):n.jsx(n.Fragment,{children:"Join Lite Version"})})]})]})]})})(),A&&n.jsx(zte,{})]}),n.jsxs("div",{className:"relative flex-1 h-screen overflow-hidden max-md:hidden z-[10]",children:[n.jsx("div",{className:"absolute top-0 left-0 w-full h-full pointer-events-none z-[1] overflow-hidden bg-black opacity-[0.2]"}),n.jsx("video",{autoPlay:!0,loop:!0,muted:!0,playsInline:!0,disablePictureInPicture:!0,disableRemotePlayback:!0,onClick:e=>e.preventDefault(),controlsList:"nodownload nofullscreen noremoteplayback",onContextMenu:e=>e.preventDefault(),className:"absolute top-0 bottom-0 pointer-events-none max-md:hidden left-0 right-0 object-fill w-full h-full scale-[1.22] select-none",src:Lte,style:{userSelect:"none"}}),n.jsx(fte,{})]}),n.jsx("div",{className:"md:hidden w-full h-[250px] flex items-center justify-center py-[10rem] mt-[1rem]",children:n.jsx(lte,{cards:xte,autoAdvance:!0,autoAdvanceDuration:3e3,centerCardWidth:320,centerCardHeight:250,sideCardWidth:280,sideCardHeight:220,spacing:300,sideCardOpacity:.6,sideCardScale:.85,showNavigation:!1,showProgressDots:!0,pauseOnHover:!0,wrapAround:!0,className:"w-full"})})]})}const zte=()=>n.jsxs("div",{className:"max-md:hidden absolute bottom-0 justify-center items-center gap-6 w-full flex left-0 right-0 py-2 z-[999] radial-green-signup backdrop-blur-lg",children:[n.jsx("img",{src:Pte,alt:"Gift",className:"w-8 h-8"}),n.jsxs("div",{className:"flex flex-col items-center justify-center h-full w-fit",children:[n.jsx("span",{className:"text-[#5FE55C] text-[14px]",children:"Sign up and redeem your free credits!"}),n.jsx("span",{className:"text-[#5FE55C]/30 text-[14px]",children:"You are signing up through a referral link"})]}),n.jsx("img",{src:Pte,alt:"Gift",className:"w-8 h-8"})]}),Bte=gv.logo.borderedLogoDark;function Hte(){const e=Me(),t=Le(),[s]=ze(),{showErrorToast:i}=QJ(),{resendVerificationEmail:a,signOut:r}=Wg(),[o,l]=De.useState(!1),[c,d]=De.useState(0),[u,p]=De.useState("");De.useEffect(()=>{const n=new URLSearchParams(t.search).get("email");if(n)p(n);else{const n=t.state;n&&n.email?p(n.email):e("/login")}},[t,e]),De.useEffect(()=>{let e=null;return c>0&&(e=setTimeout(()=>d(c-1),1e3)),()=>{e&&clearTimeout(e)}},[c]);return n.jsx(n.Fragment,{children:n.jsxs("div",{className:"relative flex flex-col items-center justify-center w-full h-screen p-4 z-[999]",children:[n.jsx("div",{className:"absolute top-4 right-4 z-[999]",children:n.jsx(wb,{variant:"ghost",className:"text-white/40 hover:text-white hover:bg-[#313133] max-h-[44px] min-w-[100px] flex items-center justify-center transition-colors",onClick:async()=>{l(!0);try{await r()}catch(e){i("Error signing out","Failed to sign out")}finally{l(!1)}},disabled:o,children:n.jsxs("div",{className:"flex items-center justify-center w-full",children:[o?n.jsx(Ik,{className:"w-4 h-4 mr-2"}):null,"Log out"]})})}),n.jsxs("div",{className:"flex flex-col items-center mb-[3rem] z-[999] ",children:[n.jsx("img",{src:Bte,className:"w-20 h-20 mb-9",alt:"Emergent Logo"}),n.jsxs("div",{className:"flex flex-col items-center justify-center font-sans font-medium text-center",children:[n.jsx("span",{className:"text-[28px] md:text-[40px] font-brockmann text-white",children:"Verify Your Email"}),n.jsxs("span",{className:"block text-[#898e98] max-md:text-[13px] text-base mt-3 w-full whitespace-nowrap text-center",children:["We've sent a verification link to ",n.jsx("span",{className:"font-medium text-white",children:u}),"."]}),n.jsx("span",{className:"text-[#898e98] text-base max-md:text-[13px] mt-3 max-w-[414px] w-full",children:"Please check your inbox and click the link to continue."})]})]}),n.jsxs("div",{className:"p-4 pt-0 space-y-6 max-w-[414px] w-full z-[999]",children:[n.jsx(DT,{type:"button",disabled:o||c>0,onClick:async()=>{if(!(c>0)&&u){l(!0);try{const{success:e,error:t}=await a(u);if(!e)throw new Error(t||"Failed to resend verification email");d(60)}catch(e){i("Error",e.message||"Failed to resend verification email")}finally{l(!1)}}},variant:"light",className:"w-full p-0 max-md:text-[14px]",fullWidthOnMobile:!0,children:o?n.jsxs(n.Fragment,{children:[n.jsx("span",{children:"Sending"}),n.jsx(Ik,{className:"ml-2"})]}):c>0?`Resend Email (${c}s)`:"Resend Verification Email"}),n.jsx(wb,{type:"button",className:"w-full h-[48px] max-md:text-[14px] p-0 bg-[#18181A] hover:bg-[#313133] border-[#292929] border text-[#CCCCCC] hover:text-white flex items-center justify-center",onClick:()=>{const t=s.toString();e(t?`/login?${t}`:"/login")},disabled:o,children:n.jsx("div",{className:"flex items-center w-full relative font-medium tracking-[-1%]",children:o?n.jsx(Ik,{className:"mx-auto"}):n.jsx(n.Fragment,{children:n.jsx("span",{className:"w-full text-center",children:"Switch Account"})})})})]}),n.jsx(RD,{className:"bottom-0 z-[998] pointer-events-none"}),n.jsx(PA,{height:"50%",top:"50%",gridSizeX:70,gridSizeY:30,fadeIntensity:90,gridLineWidth:.3,gridOpacity:.6,backgroundColor:"#131314"})]})})}const $te=gv.logo.borderedLogoDark;function Ute(){const e=Me(),{showErrorToast:t}=QJ(),{resetPassword:s,updatePassword:i}=Wg(),[a,r]=De.useState(""),[o,l]=De.useState(""),[c,d]=De.useState(""),[u,p]=De.useState(!1),[m,h]=De.useState(0),[x,f]=De.useState("request"),[g,v]=De.useState([{text:"At least 8 characters",validator:e=>e.length>=8,met:!1},{text:"One uppercase letter",validator:e=>/[A-Z]/.test(e),met:!1},{text:"One lowercase letter",validator:e=>/[a-z]/.test(e),met:!1},{text:"One number",validator:e=>/[0-9]/.test(e),met:!1}]);De.useEffect(()=>{v(e=>e.map(e=>({...e,met:e.validator(o)})))},[o]),De.useEffect(()=>{const e=window.location.hash;e&&e.includes("type=recovery")&&f("reset")},[]),De.useEffect(()=>{let e=null;return m>0&&(e=setTimeout(()=>h(m-1),1e3)),()=>{e&&clearTimeout(e)}},[m]);const b=async e=>{if(e.preventDefault(),a){p(!0);try{const{success:e,error:t}=await s(a);if(!e)throw new Error(t||"Failed to send password reset email");f("sent"),h(60)}catch(n){t("Error",n.message||"Failed to send password reset email")}finally{p(!1)}}else t("Error","Please enter your email address")},y=async()=>{if(!(m>0)&&a){p(!0);try{const{success:e,error:t}=await s(a);if(!e)throw new Error(t||"Failed to resend reset email");h(60)}catch(e){t("Error",e.message||"Failed to resend reset email")}finally{p(!1)}}},w=async n=>{n.preventDefault();if(g.every(e=>e.met))if(o===c){p(!0);try{const{success:t,error:n}=await i(o);if(!t)throw new Error(n||"Failed to reset password");f("complete"),e("/login")}catch(s){t("Error",s.message||"Failed to reset password")}finally{p(!1)}}else t("Error","Passwords do not match");else t("Error","Please ensure all password requirements are met")},j=(()=>{switch(x){case"request":return{title:"Reset Your Password",subtitle:"Enter the email address associated with your account, and well send you a link to reset your password."};case"sent":return{title:"Check Your Email",subtitle:`We've sent a password reset link to ${a}. Please check your inbox and click the link to reset your password.`};case"reset":return{title:"Create New Password",subtitle:"Enter your new password below. Make sure it's at least 8 characters including a number and uppercase letter."};case"complete":return{title:"Password Reset Complete",subtitle:"Your password has been successfully reset. You'll be redirected to the login page in a few seconds."}}})();return n.jsx(n.Fragment,{children:n.jsxs("div",{className:"relative flex flex-col items-center justify-center w-full h-screen p-4 z-[999]",children:[n.jsx("div",{className:"absolute top-4 right-4 z-[999]",children:n.jsx(wb,{variant:"ghost",className:"text-white/40 hover:text-white hover:bg-[#313133] max-h-[44px] min-w-[100px] flex items-center justify-center transition-colors",onClick:()=>e("/landing"),children:"Back to Login"})}),n.jsxs("div",{className:"flex flex-col items-center mb-[3rem] z-[999]",children:[n.jsx("img",{src:$te,className:"w-20 h-20 mb-9",alt:"Emergent Logo"}),n.jsxs("div",{className:"font-sans font-medium text-center",children:[n.jsx("span",{className:"text-[40px] font-brockmann text-white",children:null==j?void 0:j.title}),n.jsx("span",{className:"block text-[#898e98] text-base mt-3 max-w-[414px] w-full",children:null==j?void 0:j.subtitle})]})]}),n.jsxs("div",{className:"p-4 pt-0 space-y-6 max-w-[414px] w-full z-[999]",children:[(()=>{switch(x){case"request":return n.jsxs("form",{onSubmit:b,className:"flex flex-col w-full gap-12",children:[n.jsx("div",{className:"relative",children:n.jsx("input",{type:"email",placeholder:"Email address",value:a,onChange:e=>r(e.target.value),className:"w-full p-3 bg-[#1A1A1B] border border-[#333333] rounded-md text-white focus:outline-none focus:border-[#2EBBE5]",required:!0})}),n.jsx(DT,{type:"submit",variant:"light",disabled:u,className:"w-full",onClick:()=>{},children:u?n.jsxs(n.Fragment,{children:[n.jsx("span",{children:"Sending"}),n.jsx(Ik,{className:"ml-2"})]}):"Send Reset Link"})]});case"sent":return n.jsx(DT,{type:"button",disabled:u||m>0,onClick:y,variant:"light",className:"w-full p-0",children:u?n.jsxs(n.Fragment,{children:[n.jsx("span",{children:"Sending"}),n.jsx(Ik,{className:"ml-2"})]}):m>0?`Resend Email (${m}s)`:"Resend Reset Email"});case"reset":return n.jsxs("form",{onSubmit:w,className:"flex flex-col w-full gap-4",children:[n.jsx("div",{className:"relative",children:n.jsx("input",{type:"password",placeholder:"New password",value:o,onChange:e=>l(e.target.value),className:"w-full p-3 bg-[#1A1A1B] border border-[#333333] rounded-md text-white focus:outline-none focus:border-[#2EBBE5]",required:!0,autoComplete:"new-password"})}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"password",placeholder:"Confirm new password",value:c,onChange:e=>d(e.target.value),className:"w-full p-3 bg-[#1A1A1B] border border-[#333333] rounded-md text-white focus:outline-none focus:border-[#2EBBE5]",required:!0,autoComplete:"new-password"}),o&&c&&o!==c&&n.jsx("p",{className:"mt-1 text-sm text-red-400",children:"Passwords do not match"})]}),n.jsxs("div",{className:"mt-2",children:[n.jsx("p",{className:"text-xs text-[#898e98]",children:"Password requirements:"}),n.jsx("ul",{className:"mt-1 ml-4 text-xs text-[#898e98] list-disc",children:g.map((e,t)=>n.jsx("li",{className:e.met?"text-green-400":"",children:e.text},t))})]}),n.jsx(DT,{type:"submit",disabled:u||!o||!c||o!==c||!g.every(e=>e.met),className:"w-full mt-4",onClick:()=>{},children:u?n.jsxs(n.Fragment,{children:[n.jsx("span",{children:"Updating"}),n.jsx(Ik,{className:"ml-2"})]}):"Reset Password"})]});case"complete":return n.jsxs("div",{className:"w-full p-5 bg-[#1A1A1B] border border-[#333333] rounded-md text-center",children:[n.jsx("p",{className:"mb-2 text-base text-green-400",children:"Password has been reset successfully!"}),n.jsx("p",{className:"mb-4 text-sm text-white",children:"You'll be redirected to login shortly."}),n.jsx(DT,{disabled:!1,type:"button",onClick:()=>e("/login"),variant:"light",className:"w-full p-0",children:"Go to Login"})]})}})(),("request"===x||"sent"===x)&&n.jsx(wb,{type:"button",className:"w-full h-[56px] p-0 bg-[#18181A] hover:bg-[#313133] border-[#292929] border text-[#CCCCCC] hover:text-white flex items-center justify-center",onClick:()=>e("/login"),children:n.jsx("div",{className:"flex items-center w-full relative font-medium tracking-[-1%]",children:n.jsx("span",{className:"w-full text-center",children:"Switch Account"})})})]}),n.jsx(RD,{className:"bottom-0 z-[998] pointer-events-none"}),n.jsx(PA,{height:"50%",top:"50%",gridSizeX:70,gridSizeY:30,fadeIntensity:90,gridLineWidth:.3,gridOpacity:.6,backgroundColor:"#131314"})]})})}const Vte=gv.logo.borderedLogoDark;function Wte(){return n.jsxs("div",{className:"flex flex-col min-h-screen bg-[#0f0f10] text-white relative",children:[n.jsxs("div",{className:"sticky top-0 z-20 justify-between flex items-center px-6 md:px-[4rem] gap-4 h-[80px] bg-[#0f0f10]",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(Oe,{to:"/",children:n.jsx("img",{src:Vte,alt:"Logo",className:"w-[48px] h-[48px]"})}),n.jsxs("div",{className:"flex flex-col items-start",children:[n.jsx("h1",{className:"text-xl font-bold md:text-2xl",children:"Privacy Policy"}),n.jsx("p",{className:"text-[#898e98] text-sm",children:"Last updated: 20 May 2025"})]})]}),n.jsx("div",{className:"flex items-center gap-4",children:n.jsx(Oe,{to:"/",children:n.jsx(wb,{variant:"outline",className:"border-[#3D3D3D] text-white",children:"Return to Home"})})})]}),n.jsx("div",{className:"z-10 flex flex-col items-center w-full p-4 overflow-y-auto md:p-8",children:n.jsx("div",{className:"max-w-6xl w-full bg-[#1A1A1C] px-6 overflow-y-scroll h-[75vh] rounded-lg shadow-lg mb-8",children:n.jsx(vK,{variant:"default",children:'# Emergent Labs Inc. Privacy Policy\n## Introduction\nEmergent Labs Inc. ("we," "our," or "us") values your privacy. This Privacy Policy explains how we collect, use, and protect your information when you use our site and related services (collectively, our "Services"). This Privacy Policy is incorporated into and is subject to our Terms of Service. Your use of our Services and any personal information you provide remains subject to this Privacy Policy and our Terms of Service.\n\n## Information We Collect\n\n### Information You Provide to Us\n\n#### Account Information\n- Name\n- Email address\n- Password\n- GitHub credentials (when you connect your GitHub account)\n- Other development platform credentials (when integrated)\n- Payment information (for paid plans)\n- Professional information (optional)\n\n#### User Content\n- Code and projects you create or import\n- Files you upload or generate\n- Commands you execute through the site\n- Database queries, configurations, and connection strings\n- Repository connections and metadata\n- Application builds and deployment configurations\n- Test data and testing configurations\n- Development environment settings\n\n#### Communications\n- Customer support communications\n- Feedback you provide\n- Survey responses\n- Bug reports and feature requests\n\n### Information We Collect Automatically\n\n#### Device Information\n- Device type and identifiers\n- Operating system version and environment details\n- IP address and geolocation data (country/region level)\n- Connection information\n- Application installation and version data\n- Hardware specifications relevant to application performance\n- Clipboard content (only when explicitly using paste functionality)\n\n#### Usage Information\n- Features and tools used\n- Commands executed through the site\n- Performance metrics and resource utilization\n- Error logs and debugging information\n- Session duration and frequency\n- Code execution patterns and outputs\n- AI agent interactions and prompts\n- Database operations (types, not content)\n- Build and compilation events\n\n#### Analytics Information\nWe use analytics tools to help us measure application usage and performance. This information is collected in aggregate form and used to improve our Services, including:\n- Feature adoption rates\n- Common error patterns\n- Performance benchmarks\n- User journey flows\n- Agent effectiveness and accuracy\n\n#### Analytics and Tracking\nWe use the following analytics and tracking tools:\n- PostHog\n  - We use PostHog for product analytics and user behavior tracking\n  - For details about PostHog\'s data handling, please see their Privacy policy\n- We also use other analytics tools to help us measure application usage and performance. This information is collected in aggregate form and used to improve our Services, as detailed in our "Analytics Information" section.\n- You can manage analytics participation preferences through your application settings.\n\n## How We Use Your Information\nWe use the information we collect for the following purposes:\n\n### To Provide and Improve Our Services\n- Deliver the core functionality of our site\n- Authenticate your identity and maintain your account\n- Process your transactions and subscription management\n- Connect to third-party services (GitHub, MongoDB, etc.)\n- Execute code and commands on your behalf\n- Build, test, and deploy your applications\n- Train and improve our AI agents to better assist with development tasks\n- Fix bugs and improve features\n- Develop new features and services\n- Optimize application performance on your device\n\n### For Communications\n- Respond to your inquiries and support requests\n- Send service and security announcements\n- Provide updates about our Services and features\n- Send marketing communications (with your consent)\n- Notify you about important changes to connected services\n\n### For Security and Compliance\n- Maintain the security of our Services\n- Detect and prevent fraud, abuse, and unauthorized access\n- Scan for and prevent security vulnerabilities in your code (when enabled)\n- Monitor for unusual patterns that may indicate security issues\n- Comply with legal obligations\n- Enforce our Terms of Service\n\n### For Analytics and Research\n- Understand how users interact with our Services\n- Generate aggregated insights about application usage\n- Improve user experience and workflow efficiency\n- Enhance AI assistance capabilities\n- Research development patterns to create better automation\n\n## How We Share Your Information\nWe do not sell your personal information. We may share your information in the following circumstances:\n\n### With Service Providers\nWe share information with trusted service providers who help us deliver our Services, including:\n- Payment processors\n- Cloud hosting providers in the USA and India\n- Analytics providers\n- Customer support tools\n- AI and machine learning infrastructure providers\n- Database service providers\n- Security and monitoring services\n\n### With Connected Services\nWhen you choose to connect third-party services (like GitHub or MongoDB), we share information necessary to facilitate that connection:\n- Authentication tokens (with your permission)\n- Repository and project metadata\n- Commit and pull request information\n- Database connection information\n\n### For Legal Purposes\nWe may disclose information if required to do so by law or in the good-faith belief that such action is necessary to:\n- Comply with legal obligations in the jurisdictions where we operate\n- Respond to valid legal process (such as a court order or subpoena)\n- Protect our rights, property, or safety\n- Protect the rights, property, or safety of our users or others\n- Investigate and prevent potential violations of our Terms of Service\n\n### In Business Transfers\nIn the event of a merger, acquisition, bankruptcy, or other sale of all or a portion of our assets, user information may be transferred as part of the business transaction. We will notify you via email or a prominent notice on our application of any change in ownership or uses of your personal information.\n\n### With Your Consent\nWe may share information with third parties when you explicitly consent to such sharing.\n\n### Enterprise Plan Users\nEnterprise users enjoy additional data protection and privacy rights, including:\n- Data training restrictions: We do not use Enterprise users\' proprietary code and data to train our general AI models without explicit consent\n- Custom agreements: Enterprise customers may negotiate custom data handling agreements\n- Third-party sharing limitations: Additional restrictions on how Enterprise data is shared with service providers\n\nFor complete details about Enterprise plan protections, please contact our support team at support@emergent.sh.\n\n## Your Rights and Choices\nYou have several rights regarding your personal information:\n\n### Account Information\nYou can review and update your account information through the application settings. You may also delete your account, though certain information may be retained as required for legitimate business purposes or to comply with legal obligations.\n\n### Application Data\nYou can control what data is stored locally on your device versus in our cloud infrastructure through application settings.\n\n### Communication Preferences\nYou can manage your communication preferences in your account settings or by following the unsubscribe instructions included in our marketing emails.\n\n### Privacy Settings\nOur application includes settings that allow you to control your privacy preferences, including:\n- Repository visibility settings\n- Code sharing and collaboration preferences\n- Third-party integrations management\n- AI assistance and data processing options\n- Analytics participation preferences\n- Local vs. cloud execution preferences\n\n### Data Access and Portability\nYou may request a copy of your personal information in a structured, commonly used, and machine-readable format.\n\nDepending on your location, you may have additional rights, including:\n- The right to request deletion of your personal information\n- The right to restrict or object to our processing of your personal information\n- The right to withdraw consent\n- The right to lodge a complaint with a supervisory authority\n\nTo exercise these rights, please contact us at privacy@emergent.sh.\n\n### Response Times\nWe aim to respond to privacy-related inquiries within 7 business days. Support requests are handled according to your plan\'s service level agreement. For urgent matters related to data protection or security incidents, please mark your email as "PRIVACY URGENT" in the subject line of your email, as noted in our "Contact Us" section.\n\n## Security\nWe implement appropriate technical and organizational measures to protect your personal information. These measures include:\n- Encryption of sensitive data in transit and at rest\n- Secure application development practices and code signing\n- Regular security assessments and penetration testing\n- Access controls and multi-factor authentication\n- Employee training on data security and privacy\n- Secure development and deployment pipelines\n- Monitoring for unusual or unauthorized access attempts\n- Vulnerability scanning and management\n\nHowever, no method of transmission or storage is 100% secure. While we strive to protect your personal information, we cannot guarantee its absolute security.\n\n## Desktop Application Specifics\nOur Services are primarily delivered through a desktop application (DMG or installer package). This has specific privacy implications:\n- Local Storage: Some of your data, including code, configuration files, and local databases, may be stored locally on your device\n- Installation Data: We collect information about the installation process to troubleshoot issues\n- Updates: We may automatically check for and download updates to ensure you have the latest security features\n- System Integration: Our application may integrate with your system\'s development tools and environments\n- Resource Usage: We monitor resource usage (CPU, memory, disk) to optimize performance\n\nYou can adjust many of these behaviors through application settings.\n\n## Data Retention\nWe retain your personal information for as long as necessary to provide you with our Services and for legitimate business purposes, such as maintaining your account, resolving disputes, establishing legal defenses, conducting audits, pursuing legitimate business purposes, and complying with applicable laws.\n\nWhen personal information is no longer needed, we will securely delete or anonymize it. Typically:\n- Account information is retained while your account is active\n- Usage data is retained for up to 24 months\n- Backup data is retained according to our backup rotation policy\n- Payment information is retained as required by financial regulations\n\n## Third-Party Connections\nOur Services may allow you to connect to third-party services (such as GitHub, MongoDB, and other development tools). When you connect to these services:\n- You may be allowing them to access your information on our Services\n- We may receive and store authentication tokens to maintain the connection\n- We may sync data between our Services and these third-party services\n- Code repositories, database content, and other development artifacts may be transferred between services\n\nWe recommend that you review the privacy policies of these third-party services to understand how they collect and use your information.\n\n## AI Features and Code Analysis\nOur site includes AI-powered features that may:\n- Analyze your code to provide suggestions\n- Generate code based on your specifications\n- Automate repetitive development tasks\n- Help troubleshoot errors and bugs\n\nThese features require processing your code and commands. By default:\n- This processing occurs within our secure environment\n- We do not use your proprietary code to train our general AI models without explicit consent\n- You can control the level of AI assistance through application settings\n\n## Children\'s Privacy\nOur Services are not directed to children under the age of 13 (or the applicable age requirement in your jurisdiction). We do not knowingly collect personal information from children. If you believe we have inadvertently collected information from a child, please contact us at privacy@emergent.sh.\n\n## International Data Transfers\nEmergent Labs Inc. is based in the United States with operations in India. We process and store information on servers located in the United States and India. If you are located outside of these regions, we may transfer your personal information to these or other countries where our service providers are located.\n\nWhen we transfer your information internationally, we take appropriate safeguards to ensure your information receives adequate protection, which may include:\n- Standard contractual clauses approved by relevant authorities\n- Data processing agreements with our service providers\n- Security measures to protect data during transfer and storage\n\nBy using our Services, you consent to the international transfer of your information as described in this policy.\n\n## State-Specific Privacy Rights\n\n### California Residents\nIf you are a California resident, the California Consumer Privacy Act (CCPA) provides you with specific rights regarding your personal information. These include the right to:\n- Know what personal information we collect about you and how we use it\n- Request deletion of your personal information\n- Opt-out of the sale of your personal information (note that we do not sell personal information)\n- Non-discrimination for exercising your CCPA rights\n\n### Other States\nResidents of Colorado, Connecticut, Utah, and Virginia may have similar rights under their respective state privacy laws. Please contact us at privacy@emergent.sh to exercise any applicable state privacy rights.\n\n## Legal Framework\nThis Privacy Policy is part of and subject to our Terms of Service. In case of any conflict between this Privacy Policy and our Terms of Service, the Terms of Service shall prevail.\n\n## Changes to This Privacy Policy\nWe may update this Privacy Policy from time to time to reflect changes in our practices or for other operational, legal, or regulatory reasons. We will post the revised policy on our website with an updated "Last Updated" date.\n\nFor significant changes, we will notify you through the application or by email prior to the change becoming effective. We will provide at least 30 days\' notice for material changes to this Privacy Policy, during which time you may contact us with any questions.\n\nYour continued use of our Services after any changes to this Privacy Policy constitutes your acceptance of the revised policy. If you do not agree with the changes, you should discontinue using our Services and contact us to delete your account.\n\n## Contact Us\nIf you have any questions, concerns, or requests regarding this Privacy Policy or our privacy practices, please contact us at:\n\nEmail: support@emergent.sh\nAddress: 2380 Via Espada, Pleasanton, CA 94566, USA\n\nFor urgent matters related to your personal information, please include "PRIVACY URGENT" in the subject line of your email.'})})}),n.jsx("div",{className:"mt-auto",children:n.jsx(RD,{className:"z-[998] relative"})}),n.jsx("div",{className:"fixed inset-0 z-0",children:n.jsx(PA,{height:"50%",top:"50%",gridSizeX:70,gridSizeY:30,fadeIntensity:90,gridLineWidth:.3,gridOpacity:.6,backgroundColor:"#131314"})})]})}const qte=gv.common.newCoin,Gte=gv.icons.paymentFailed;function Zte({isOpen:e,onOpenChange:t,paymentId:s,initialStatus:i,organizationId:a}){const[r,o]=De.useState("success"===i?"loading":"error"),[l,c]=De.useState(""),[d,u]=De.useState(200),p=Me(),{switchWorkspace:m}=Kg(),{user:h}=Wg();De.useEffect(()=>{e&&"success"===i&&(async()=>{if("success"!==i)return o("error"),void c("cancelled"===i?"Payment was cancelled.":"Payment failed to process.");try{const e=await Rp(s,a||void 0);if("success"===e.status){if(o("success"),e.ecu_amount&&u(e.ecu_amount||200),null==h?void 0:h.id){((e,t)=>{const n=localStorage.getItem("utm_source")||void 0,s=localStorage.getItem("utm_campaign")||void 0,i=localStorage.getItem("utm_medium")||void 0,a=localStorage.getItem("utm_term")||void 0,r=localStorage.getItem("utm_content")||void 0,o=localStorage.getItem("referral_code")||void 0;op("topup_success",{user_id:e,credits_purchased:t,utm_source:n,utm_campaign:s,utm_medium:i,utm_term:a,utm_content:r,referral_code:o,purchase_date:(new Date).toISOString()})})(h.id,e.ecu_amount);const t=pp(s);if(t){const n=e.amount||t.amount,i=e.currency||t.currency;hp(h.id,s,n,i,t.category),mp(s)}}}else"pending"===e.status?o("pending"):(o("error"),c(e.error||"Failed to verify payment status."))}catch(e){xg("Payment verification failed",{paymentId:s,initialStatus:i,organizationId:a,error:e instanceof Error?e.message:String(e)}),o("error"),c("Failed to verify payment status. Please contact support.")}})()},[e,s,i]);const x=e=>{t(e),e||(a?(m(a),p(`/workspace/${a}`)):p("/"))},f=()=>{x(!1)};return n.jsx(_A,{open:e,onOpenChange:x,children:n.jsx(AA,{className:"max-w-[90%] md:max-w-[600px] bg-[#1C1C1F] text-white border-[#2E2F34] md:p-[94px] md:px-[152px]",children:n.jsx("div",{className:"flex flex-col items-center justify-center py-6",children:"loading"===r?n.jsxs("div",{className:"flex flex-col items-center justify-center gap-[48px] font-brockmann",children:[n.jsxs("div",{className:"relative",children:[n.jsx("img",{src:qte,alt:"Coin",className:"w-16 h-16"}),n.jsx(hS,{className:"w-16 h-16 absolute top-0 left-0 animate-spin text-[#F3CA5F] opacity-70"})]}),n.jsxs("div",{className:"flex flex-col items-center gap-1",children:[n.jsx("p",{className:"text-[18px] md:text-[32px] md:leading-[36px] font-medium text-white text-nowrap",children:"Processing Payment"}),n.jsx("span",{className:"font-['Inter'] mt-2 font-medium text-normal text-[#737780] text-center text-nowrap",children:"Verifying your payment, please wait..."})]})]}):"success"===r?n.jsxs("div",{className:"flex flex-col items-center justify-center gap-[48px] font-brockmann",children:[n.jsx("img",{src:qte,alt:"Coin",className:"w-16 h-16"}),n.jsxs("div",{className:"flex flex-col items-center gap-1",children:[n.jsx("p",{className:"text-[18px] md:text-[32px] md:leading-[36px] font-medium text-white",children:"You have received"}),n.jsxs("span",{className:"text-center text-nowrap text-[28px] md:text-[32px] md:leading-[36px] font-medium text-[#F3CA5F]",children:[d," add-on Credits"]}),n.jsx("span",{className:"font-['Inter'] mt-2 font-medium text-normal text-[#737780] text-center text-nowrap",children:"Top-up complete - you're all set to build."})]}),n.jsx(DT,{onClick:f,variant:"light",className:"w-full",children:"Start Building"})]}):"pending"===r?n.jsxs("div",{className:"flex flex-col items-center justify-center gap-[48px] font-brockmann",children:[n.jsx("img",{src:qte,alt:"Coin",className:"w-16 h-16 opacity-50"}),n.jsxs("div",{className:"flex flex-col items-center gap-1",children:[n.jsx("p",{className:"text-[32px] leading-[36px] font-medium text-white",children:"Payment Pending"}),n.jsx("span",{className:"font-['Inter'] mt-2 font-medium text-normal text-[#737780] text-center text-nowrap",children:"Your payment is being processed. This may take a few minutes."})]}),n.jsx(DT,{onClick:f,variant:"light",className:"w-full",children:"Continue"})]}):n.jsxs("div",{className:"flex flex-col items-center justify-center gap-[48px] font-brockmann",children:[n.jsx("div",{className:"relative",children:n.jsx("img",{src:Gte,alt:"Coin",className:"w-16 h-16"})}),n.jsxs("div",{className:"flex flex-col items-center gap-1",children:[n.jsx("p",{className:"text-[18px] md:text-[32px] md:leading-[36px] font-medium text-white",children:"Payment Failed"}),n.jsx("span",{className:"font-['Inter'] mt-2 font-medium text-normal text-[#737780] text-center",children:l||"Your payment could not be processed. Please try again."})]}),n.jsx(DT,{onClick:f,variant:"light",className:"w-full",children:"Close"})]})})})})}const Yte=gv.common.stars,Kte=gv.common.subscriptionSuccess,Jte=gv.icons.paymentFailed;function Qte({isOpen:e,onOpenChange:t,paymentId:s,initialStatus:i,organizationId:a}){var r,o,l;const c=Me(),{refreshCredits:d,tier:u,currentSubscriptionDetail:p,loading:m}=Xg(),{user:h}=Wg(),{switchWorkspace:x}=Kg(),f=WE(),{data:g}=Fx(void 0,{skip:!a}),v=a?null==(r=null==g?void 0:g.organizations)?void 0:r.find(e=>e.organization_id===a):null,b=!!a,[y,w]=De.useState(!1),{data:j,error:C,isLoading:N}=Rx({paymentId:s,organizationId:a||void 0},{skip:!e||"success"!==i,pollingInterval:"success"===i?3e3:0}),F="success"!==i?"error":N?"loading":C?"error":j?"success"===j.status?"success":"pending"===j.status?"pending":"error":"loading",_="cancelled"===i?"Subscription was cancelled.":"failed"===i?"Subscription failed to process.":C?"Failed to verify subscription status. Please contact support.":(null==j?void 0:j.error)?j.error:"Failed to verify subscription status. Please contact support.",k=()=>{if(m)return null;const e=(null==p?void 0:p.ecu_credits)?p.ecu_credits:0;if(null==j?void 0:j.plan_name){const t=j.plan_name.toLowerCase();if(t.includes("pro"))return{name:"Emergent Pro",credits:0!==e?e:750};if(t.includes("standard"))return{name:"Standard Tier",credits:0!==e?e:100};if(t.includes("starter"))return{name:"Starter Tier",credits:0!==e?e:50}}if(!u||"free"===u)return{name:"Free Tier",credits:5};switch(u){case"starter":return{name:"Starter Tier",credits:(null==p?void 0:p.amount)?5*p.amount:50};case"standard":return{name:"Standard Tier",credits:100};case"pro":return{name:"Pro Tier",credits:750};default:return{name:"Starter Tier",credits:50}}};De.useEffect(()=>{if("success"===F&&"success"===(null==j?void 0:j.status)){const e=setTimeout(async()=>{try{await d()}catch(e){}},1e3);return()=>clearTimeout(e)}},[F,null==j?void 0:j.status,d]),De.useEffect(()=>{if("success"===F&&"success"===(null==j?void 0:j.status)&&!y&&(null==h?void 0:h.id)){const e=k();e&&(dp(h.id,e.name,u||"free",e.credits,"none",b,a||void 0,(null==v?void 0:v.organization_name)||void 0,s,!1),w(!0))}},[F,j,y,null==h?void 0:h.id,u,b,a,v,s]),De.useEffect(()=>{},[u,F]),De.useEffect(()=>{},[m,u,p]),De.useEffect(()=>{},[F,j,C]);const S=async()=>{if("success"===F)try{await d()}catch(e){}t(!1),"success"===F&&a?(x(a),c(`/workspace/${a}`)):c("/")};return n.jsx(_A,{open:e,onOpenChange:t,children:n.jsxs(AA,{className:"max-w-[95%]  md:max-w-[600px] bg-[#1C1C1F] text-white border-[#2E2F34] p-6 md:p-12 z-[9999]",children:[n.jsx("div",{className:"flex justify-end",children:n.jsx("button",{type:"button",title:"Close",onClick:()=>t(!1),className:"text-gray-400 hover:text-white",children:n.jsx(MT,{width:24,height:24,className:"rounded-full"})})}),n.jsx("div",{className:"flex flex-col items-center justify-center py-6",children:"loading"===F?n.jsxs("div",{className:"flex flex-col items-center justify-center gap-4  md:gap-[48px] font-brockmann",children:[n.jsx("div",{className:"relative",children:n.jsx(IT,{size:"32",speed:"1.75",color:"#80FFF9"})}),n.jsxs("div",{className:"flex flex-col items-center gap-1",children:[n.jsx("p",{className:"text-[18px] md:text-[32px] md:leading-[36px] font-medium text-white text-nowrap",children:b?"Processing Team Subscription":"Processing Subscription"}),n.jsx("span",{className:"font-['Inter'] md:mt-2 font-medium text-normal text-[#737780] text-center text-nowrap",children:b?`Verifying ${(null==v?void 0:v.organization_name)||"team"} subscription, please wait...`:"Verifying your subscription, please wait..."})]})]}):"success"===F?n.jsxs("div",{className:"flex flex-col items-center justify-center gap-4  md:gap-[48px] font-brockmann",children:[n.jsx("img",{src:Kte,alt:"Stars",className:"w-12 h-12 md:w-16 md:h-16"}),n.jsx("div",{className:"flex flex-col items-center md:gap-1",children:k()?n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"text-[18px] md:text-[32px] leading-[36px] text-center font-medium text-[#F3CA5F]",children:b?`${(null==v?void 0:v.organization_name)||"Team"} ${k().name} Activated`:`${k().name} Activated`}),n.jsx("span",{className:"font-['Inter'] md:mt-2 font-medium text-normal text-[#737780] text-center md:text-nowrap",children:b?`${(null==v?void 0:v.organization_name)||"Your team"} now has access to ${(null==j?void 0:j.ecu_amount)||(null==(o=k())?void 0:o.credits)} credits per month.`:`You now have access to ${(null==j?void 0:j.ecu_amount)||(null==(l=k())?void 0:l.credits)} credits per month.`})]}):n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"text-[18px] md:text-[32px] leading-[36px] text-center font-medium bg-gradient-to-b from-[#F3CA5F] to-[#987315] text-transparent bg-clip-text",children:b?`${(null==v?void 0:v.organization_name)||"Team"} Subscription Activated`:"Subscription Activated"}),n.jsx("span",{className:"font-['Inter'] md:mt-2 font-medium text-normal text-[#737780] text-center md:text-nowrap",children:"Loading subscription details..."})]})}),n.jsx("div",{className:"flex flex-col w-full gap-3",children:b?n.jsxs(n.Fragment,{children:[n.jsx(DT,{onClick:()=>{a&&v&&(f.open({organizationId:a,organizationName:v.organization_name,onInvitesSent:()=>{S()}}),t(!1))},variant:"light",className:"w-full h-[45px] md:h-full max-w-[250px] text-nowrap mx-auto",type:"button",children:"Keep Building"}),n.jsx("button",{onClick:S,className:"text-[#FFFFFF]/60 hover:text-[#FFFFFF] transition-colors text-sm underline mx-auto",children:"Skip for now"})]}):n.jsx(DT,{onClick:S,variant:"light",className:"w-full h-[45px] md:h-full max-w-[200px] text-nowrap md:max-w-[250px] mx-auto",type:"button",children:"Keep Vibing"})})]}):"pending"===F?n.jsxs("div",{className:"flex flex-col items-center justify-center gap-4  md:gap-[48px] font-brockmann",children:[n.jsx("img",{src:Yte,alt:"Stars",className:"w-12 h-12 opacity-50 md:w-16 md:h-16"}),n.jsxs("div",{className:"flex flex-col items-center gap-1",children:[n.jsx("p",{className:"text-[32px] leading-[36px] text-center text-nowrap w-full font-medium text-white",children:b?"Team Subscription Pending":"Subscription Pending"}),n.jsx("span",{className:"font-['Inter'] md:mt-2 font-medium text-normal text-[#737780] text-center text-nowrap",children:b?`${(null==v?void 0:v.organization_name)||"Team"} subscription is being processed. This may take a few minutes.`:"Your subscription is being processed. This may take a few minutes."})]}),n.jsx(DT,{onClick:S,variant:"light",className:"w-full h-[45px]  md:h-full max-w-[200px] text-nowrap  md:max-w-[250px] mx-auto",type:"button",children:"Continue"})]}):n.jsxs("div",{className:"flex flex-col items-center justify-center gap-4 md:gap-[48px] font-brockmann",children:[n.jsx("div",{className:"relative",children:n.jsx("img",{src:Jte,alt:"Failed",className:"w-12 h-12 md:w-16 md:h-16"})}),n.jsxs("div",{className:"flex flex-col items-center gap-1",children:[n.jsx("p",{className:"text-[18px] md:text-[32px] text-center  text-nowrap w-full md:leading-[36px] font-medium text-white",children:b?"Team Subscription Failed":"Subscription Failed"}),n.jsx("span",{className:"font-['Inter'] md:mt-2 font-medium text-normal text-[#737780] text-center",children:_})]}),n.jsx(DT,{onClick:S,variant:"light",className:"w-full h-[45px]  md:h-full max-w-[200px] text-nowrap  md:max-w-[250px] mx-auto",type:"button",children:"Close"})]})})]})})}const Xte=()=>{(()=>{if(document.querySelector('meta[name="google"]'))return;const e=document.createElement("meta");e.name="google",e.content="notranslate",document.head.appendChild(e)})(),document.body.classList.add("notranslate")},ene=gv.logo.borderedLogoDark;function tne(){return n.jsxs("div",{className:"flex flex-col min-h-screen bg-[#0f0f10] text-white relative",children:[n.jsxs("div",{className:"sticky max-md:top-5 z-20 justify-between flex items-center px-3 md:px-[4rem] gap-4 h-[80px] bg-[#0f0f10]",children:[n.jsxs("div",{className:"flex items-center max-md:gap-2 md:gap-4",children:[n.jsx(Oe,{to:"/",children:n.jsx("img",{src:ene,alt:"Logo",className:"w-[48px] h-[48px]"})}),n.jsxs("div",{className:"flex flex-col items-start",children:[n.jsx("h1",{className:"text-[17px] font-bold md:text-2xl",children:"Terms of Service"}),n.jsx("p",{className:"text-[#898e98] text-[10px] md:text-sm",children:"Last updated: 20 May 2025"})]})]}),n.jsx("div",{className:"flex items-center gap-4",children:n.jsx(Oe,{to:"/",children:n.jsx(wb,{variant:"outline",className:"border-[#3D3D3D] text-white",children:"Return to Home"})})})]}),n.jsx("div",{className:"z-10 flex flex-col items-center w-full p-4 overflow-y-auto md:p-8",children:n.jsx("div",{className:"max-w-6xl w-full bg-[#1A1A1C] px-6 overflow-y-scroll h-[75vh] rounded-lg shadow-lg mb-8",children:n.jsx(vK,{variant:"default",children:'# Complete Updated Emergent Labs Inc. Terms of Service\n## 1. Introduction\n### 1.1 Agreement Overview\nThese Terms of Service ("Terms") constitute a legal agreement between you and Emergent Labs Inc. ("we," "our," or "us"). Your use of emergent.sh (the "site") and related services (collectively, the "Services") is subject to these Terms. By downloading, installing, accessing, or using our Services, you:\nAcknowledge that you have read and understood these Terms\nAgree to be bound by these Terms\nAgree to our Privacy Policy (available at emergent.sh/privacy)\nCommit to comply with all applicable laws and regulations If you do not agree with these Terms, you must not download, install, access, or use our Services.\n### 1.2 Definitions\n"Site" refers to our website and associated tools for developing software.\n"Content" means code, projects, data, files, and other materials that you create, modify, or access through our Services.\n"User" means any individual who downloads, installs, accesses, or uses our Services.\n"Authorized User" means a User who is authorized by you to access and use the Services under your account.\n"Input" means the prompts, commands, and instructions you provide to the Services.\n"Output" means the code, responses, and other content generated by the Services based on your Input.\n## 2. License to Use Our Services\n### 2.1 Rights Granted\nSubject to your compliance with these Terms, Emergent grants you a limited, personal, non-exclusive, non-transferable license to download, install, and use our Services for their intended purpose. Depending on your subscription plan:\nFree Plan: Limited to personal, non-commercial use\nPaid Plans: May be used for commercial purposes according to the terms of your subscription\n### 2.2 Restrictions\nYou may not, and you may not permit others to:\nDistribute, sell, rent, lease, or sublicense our Services\nRemove or alter any proprietary notices or labels on our Services\nUse our Services in a way that could harm, disable, overburden, or impair our systems\nUse automated scripts to collect information from or interact with our Services\nUse our Services for any illegal purpose or in violation of any applicable laws\n### 2.3 Reservation of Rights\nAll rights not expressly granted to you in these Terms are reserved by Emergent. You acknowledge that you do not acquire any ownership rights in the Services by downloading, installing, or using them.\n## 3. User Accounts and Content\n### 3.1 Account Creation and Management\nYou may be required to create an account to use certain features of our Services\nYou must provide accurate, current, and complete information when creating your account\nYou are responsible for maintaining the confidentiality of your account credentials\nYou are responsible for all activities that occur under your account\nYou must notify us immediately of any unauthorized use of your account\n### 3.2 Minimum Age\nYou must be an adult to use the Service. If you are younger than 13 we will allow you to use the Service if you first provide us with your parent or guardians written consent. If you are a parent or legal guardian of a user under the age of 18, by allowing your child to use the Service, you are subject to these Terms and responsible for your childs activity on the Service.\n### 3.3 Account Deletion Process\nYou may request deletion of your account by contacting support@emergent.sh. Upon account deletion:\nYour user profile will be removed\nYour access to the Services will be terminated\nContent stored on our servers will be deleted within 90 days\nWe may retain certain information as required by law or for legitimate business purposes\nWe will handle any remaining content according to our Privacy Policy\n### 3.4 User Content\nBy using our Services, you may create, modify, or upload Content. You retain all ownership rights to your Content, subject to the licenses granted herein.\n### 3.5 Licenses to User Content\nYou grant Emergent a non-exclusive, worldwide, royalty-free license to access, use, process, copy, distribute, perform, export, and display your Content, only as reasonably necessary:\nTo provide and maintain the Services\nTo address service or technical issues\nTo comply with legal obligations\nAs otherwise permitted by these Terms This license does not grant us the right to sell your Content or otherwise distribute it outside our Services.\n### 3.6 Content Backups\nYou are responsible for backing up your Content. While we implement reasonable measures to protect your Content, we do not guarantee that your Content will not be lost or corrupted.\n## 4. Services and Pricing\n### 4.1 Plans and Limits\nWe offer various subscription plans that provide different features, usage limits, and capabilities. Current plan details and pricing are available at emergent.sh/pricing. Each plan has specific usage limitations, including but not limited to:\nNumber of projects\nCompute resources\nStorage capacity\nDatabase connections\nIntegration capabilities We reserve the right to modify our plans and pricing at any time.\n### 4.2 Subscription and Payment Terms\nOur service is subscription-based with recurring billing (monthly or annual)\nSubscriptions automatically renew unless canceled before the renewal date\nPayments are non-refundable unless otherwise specified\nYou authorize us to charge your payment method for all fees due\nWe may suspend or terminate your access if payment fails\n### 4.3 Support Services\nTechnical support availability depends on your subscription plan:\nFree Plan: Limited community support\nPaid Plans: Priority email support\nEnterprise Plans: Dedicated support and service level agreements Support is limited to platform-related issues and does not include application debugging or development consulting.\n### 4.4 Detailed Service Delivery Information\nAccess to our platform is granted immediately upon successful payment processing\nYou will receive login credentials via email\nIf you experience any issues with access, contact support@emergent.sh\nWe strive to maintain continuous availability of our Services, but we do not guarantee uninterrupted access. Scheduled maintenance, updates, or unforeseen technical issues may result in temporary service interruptions. We will make reasonable efforts to notify users of planned maintenance when possible.\n### 4.5 Refund Policies\nAll payments are non-refundable unless otherwise determined by us\nIn cases where refunds are approved, they will be processed to the original payment method\nRefunds may be considered in cases of:\nBilling errors\nDuplicate charges\nOther circumstances at our sole discretion.\nFor cases considered, the TAT would be 14 days.\n### 4.6 Cancellation Policy\nYou can cancel your subscription at any time by:\nClicking on the Credits button\nClicking Manage your Subscriptions button\nClicking on Edit billing\nClicking on Cancel Subscription button Cancellation Terms:\nYour subscription remains active until the end of the current billing period\nYou will continue to have full access until the end of your paid period\nYour subscription will not automatically renew after cancellation\nAny unused credits expire at the end of the subscription\nNo partial refunds are provided for unused portions of the billing period\n## 5. Acceptable Use\n### 5.1 Prohibited Conduct\nWhile using our Services, you agree not to:\nViolate any applicable laws or regulations\nInfringe the intellectual property rights of others\nTransmit harmful code or attempt to compromise our systems\nInterfere with other users\' use of the Services\nConduct unauthorized penetration testing or security assessments\nCircumvent or attempt to defeat usage limits or monitoring\nMisuse computational resources or APIs\nAttempt to gain unauthorized access to any part of our Services\n### 5.2 Content Restrictions\nYou agree not to use our Services to create, upload, or process Content that:\nIs unlawful, harmful, threatening, abusive, or harassing\nIs defamatory, vulgar, obscene, or otherwise objectionable\nContains malware, viruses, or malicious code\nInfringes any patent, trademark, copyright, or other proprietary rights\nContains unsolicited or unauthorized advertising\nPromotes illegal activities\nViolates third-party terms of service\n### 5.3 Resource Usage\nWe may establish quotas and limits on your usage of our Services, including computational resources, storage, and API calls. You agree to comply with these limits, which may vary based on your subscription plan. Excessive or abusive usage that negatively impacts our Services or other users may result in throttling, suspension, or termination of your access.\n### 5.4 Export Controls and Sanctions Compliance\nEmergent\'s Services may never be used to develop anything subjected to sanctions or other export restrictions, or in any way that is not compliant with the laws of the jurisdiction that Emergent or the user operates in. The Services may also never be used in regions, or by anyone subject to sanctions or export restrictions.\nUsers are responsible for ensuring their use of our Services complies with all applicable export control laws and regulations, including those of the United States and other jurisdictions. By using our Services, you represent and warrant that you are not located in any country or territory subject to U.S. or other applicable trade sanctions or embargoes, and that you are not on any denied persons list or similar restricted party list.\n## 6. Data Usage, Training, and Learning\n### 6.1 Service Improvement and Training\nWe collect and analyze usage data to improve our Services. This includes:\nPerformance metrics and error patterns\nFeature usage statistics and patterns\nUser interface interactions\nCommand execution patterns We may use this data to enhance our AI systems, improve code generation accuracy, and optimize platform performance.\n### 6.2 AI Features and Training\nOur Services include AI-powered features that analyze your code and generate suggestions. By default:\nWe do not use your proprietary code to train our general AI models without consent\nWe process your code and commands within our secure environment\nYou can control AI assistance features through application settings\nEnterprise plan users may have additional controls and restrictions regarding AI training.\n### 6.3 Training Data Biases\nEmergent acknowledges that AI systems may exhibit biases inherent in their training data. While we strive to minimize such biases, we cannot guarantee that our Services are entirely free from them. Emergent specifically disclaims liability for:\nTraining data biases affecting code generation\nUnintended bias in generated content\nAI outputs that reflect historical, social, or cultural biases\nUnintended consequences of using AI-generated code that may contain inherent biases\nUsers should review and test all generated code to ensure it meets their requirements and values.\n### 6.4 Enterprise Considerations\nFor Enterprise users, we provide enhanced data protection:\nWe explicitly waive our right to use their data for training purposes\nCustom data handling agreements are available\nNo sharing with third parties occurs without explicit consent\nData residency options may be available upon request\nEnhanced security measures are implemented\nDedicated support for data protection concerns is provided\nEnterprise customers seeking additional information about these protections should contact support@emergent.sh.\n### 6.5 Data Retention and Management\nFor Enterprise users, we provide enhanced data protection:\nOptions to opt out of certain data collection\nCustom data handling agreements available\nStrict controls on third-party data sharing\nData residency options where available\n## 7. Intellectual Property Rights\n### 7.1 Emergent Ownership\nEmergent owns and retains all rights, title, and interest in and to: Brand Elements:\nThe "Emergent" name and brand\nEmergent logos, designs, and visual elements\nThe "emergent.sh" domain and related domains Platform Elements:\nApplication architecture and design\nAll platform features and functionalities\nOur proprietary algorithms and systems\nUser interface and experience design\nDocumentation and supporting materials These elements are protected by copyright, trademark, trade dress, patent laws, and other intellectual property rights.\n### 7.2 User Rights\nTo be explicitly clear, while Emergent owns all rights to the platform and brand elements described above, this ownership is entirely separate from and does not extend to:\nCode generated using our Services\nApplications built with our tools\nCustom configurations and implementations\nModified or derivative works created from generated code\nYour own code commits and changes You retain all ownership rights to code created using our Services, subject to any third-party open source licenses that may apply to components used.\n### 7.3 Usage Rights\nYou may freely:\nUse generated code commercially\nModify and adapt generated code\nDistribute generated code in any form\nSell applications built using our platform\nOpen source your implementations Emergent places no restrictions on your use of generated code and makes no claim to ownership of applications you develop.\n## 8. Security and Privacy\n### 8.1 Data Security\nWe implement reasonable security measures to protect your Content and account information. These measures include:\nEncryption of sensitive data\nSecure development practices\nAccess controls and authentication\nRegular security assessments However, no method of transmission or storage is 100% secure. You acknowledge and accept this risk when using our Services.\n### 8.2 Personal Data\nOur collection, use, and protection of personal data is governed by our Privacy Policy, available at emergent.sh/privacy. By using our Services, you consent to the data practices described in our Privacy Policy. If you use our Services to process personal data of others, you must:\nObtain necessary consents for processing such data\nProcess such data in accordance with applicable data protection laws\nNot use our Services to process sensitive personal data without appropriate safeguards\n### 8.3 Data Processing Agreement\nIf you are subject to data protection regulations such as GDPR and process personal data through our Services, you may request our Data Processing Agreement by contacting support@emergent.sh.\n## 9. Term and Termination\n### 9.1 Term\nThese Terms will commence when you download, install, or first use our Services and will continue until terminated as described below.\n### 9.2 Termination by You\nYou may terminate these Terms at any time by:\nCanceling your subscription\nDeleting your account (by contacting support@emergent.sh)\n### 9.3 Termination by Emergent\nWe may suspend or terminate your access to the Services at any time if:\nYou violate these Terms\nYou fail to pay any fees when due\nWe are required to do so by law\nWe decide to discontinue the Services We will make reasonable efforts to notify you of any suspension or termination.\n### 9.4 Effect of Termination\nUpon termination:\nYour license to use our Services will end\nYou must cease all use of our Services\nYou will lose access to your account and Content stored on our servers\nEmergent will delete your Content within 90 days after termination (unless legally required to retain it)\nYou will not receive a refund for any prepaid fees\n### 9.5 Survival\nThe following sections will survive termination: Intellectual Property Rights, Disclaimer of Warranties, Limitation of Liability, Indemnification, and any other provisions that by their nature should survive termination.\n## 10. Disclaimer of Warranties\nYOUR USE OF THE SERVICES IS ENTIRELY AT YOUR OWN RISK. THE SERVICES ARE PROVIDED "AS IS" AND "AS AVAILABLE" WITHOUT ANY GUARANTEES OR WARRANTIES OF ANY KIND. TO THE FULLEST EXTENT PERMITTED BY LAW, EMERGENT AND OUR SUPPLIERS AND LICENSORS EXPLICITLY DISCLAIM ALL WARRANTIES, WHETHER EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO IMPLIED WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, TITLE, AND NON-INFRINGEMENT.\nWE MAKE NO GUARANTEES REGARDING THE ACCURACY, RELIABILITY, OR USEFULNESS OF THE SERVICES OR ANY CONTENT GENERATED THROUGH THE SERVICES, AND YOUR USE OF THESE IS ENTIRELY AT YOUR OWN RISK.\nSPECIFICALLY, WE DO NOT WARRANT THAT:\nTHE SERVICES WILL MEET YOUR REQUIREMENTS\nTHE SERVICES WILL BE UNINTERRUPTED, TIMELY, SECURE, OR ERROR-FREE\nTHE RESULTS FROM THE USE OF THE SERVICES WILL BE ACCURATE OR RELIABLE\nTHE QUALITY OF THE SERVICES WILL MEET YOUR EXPECTATIONS\nANY ERRORS IN THE SERVICES WILL BE CORRECTED\nEMERGENT SPECIFICALLY DISCLAIMS ALL LIABILITY FOR:\nAI-GENERATED CODE THAT CONTAINS BUGS, ERRORS, OR SECURITY VULNERABILITIES\nCODE THAT FAILS TO MEET YOUR SPECIFIC REQUIREMENTS OR EXPECTATIONS\nGENERATED CODE THAT BECOMES OBSOLETE OR INCOMPATIBLE WITH OTHER SYSTEMS\nANY ISSUES RESULTING FROM INTEGRATION WITH OTHER SOFTWARE OR SERVICES\nANY FORM OF DATA LOSS OR CORRUPTION\nSOME JURISDICTIONS DO NOT ALLOW THE EXCLUSION OF IMPLIED WARRANTIES, SO SOME OR ALL OF THE ABOVE EXCLUSIONS MAY NOT APPLY TO YOU.\n## 11. Limitation of Liability\nTO THE MAXIMUM EXTENT PERMITTED BY APPLICABLE LAW, EMERGENT, ITS AFFILIATES, OFFICERS, EMPLOYEES, AGENTS, SUPPLIERS AND LICENSORS WILL NOT BE LIABLE FOR ANY INDIRECT, INCIDENTAL, SPECIAL, CONSEQUENTIAL, OR EXEMPLARY DAMAGES, INCLUDING BUT NOT LIMITED TO DAMAGES FOR LOSS OF PROFITS, GOODWILL, USE, DATA, OR OTHER INTANGIBLE LOSSES (EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGES), RESULTING FROM:\nYOUR USE OF OR INABILITY TO USE THE SERVICES\nANY CHANGES TO THE SERVICES OR TERMINATION OF THE SERVICES\nUNAUTHORIZED ACCESS TO OR ALTERATION OF YOUR CONTENT\nSTATEMENTS OR CONDUCT OF ANY THIRD PARTY ON THE SERVICES\nANY OTHER MATTER RELATING TO THE SERVICES\nIN NO EVENT SHALL OUR TOTAL LIABILITY TO YOU FOR ALL CLAIMS ARISING FROM OR RELATED TO THE SERVICES EXCEED THE AMOUNT PAID BY YOU TO EMERGENT DURING THE TWELVE (12) MONTHS IMMEDIATELY PRECEDING THE EVENT GIVING RISE TO THE CLAIM.\n### 11.1 AI-Generated Code Liability Details\nEmergent Labs Inc. accepts no liability or responsibility for:\nAI-generated code that:\nContains bugs, errors, or security vulnerabilities\nFails to meet your specific requirements or expectations\nDoes not achieve your intended business or technical goals\nBecomes obsolete or incompatible with other systems\nCauses issues when integrated with other software\nResults in any form of data loss or corruption\nAI system limitations or failures, including:\nIncorrect or incomplete code generation\nMisunderstanding of your requirements or prompts\nGeneration of non-optimal or inefficient solutions\nInconsistencies in code output quality\nFailures to follow best practices or coding standards\n### 11.2 Business Impact Liability\nEmergent Labs Inc. accepts no liability or responsibility for business impact resulting from:\nReliance on generated code in production systems\nTime or resources spent modifying generated code\nProject delays or missed deadlines\nAdditional development costs or technical debt\nIntegration challenges with existing systems\nCustomer or user dissatisfaction\nFurthermore, we disclaim liability for third-party related issues:\nCompatibility problems with external services\nLicensing issues in generated code\nSecurity vulnerabilities in recommended dependencies\nChanges in external APIs or services\nConflicts with other development tools\nTHIS LIST IS NOT EXHAUSTIVE, AND EMERGENT\'S LIMITATION OF LIABILITY EXTENDS TO ALL POSSIBLE ISSUES, WHETHER LISTED HERE OR NOT, ARISING FROM THE USE OF OUR AI-POWERED PLATFORM AND SERVICES.\nTHESE LIMITATIONS WILL APPLY EVEN IF THE ABOVE STATED REMEDY FAILS OF ITS ESSENTIAL PURPOSE.\n## 12. Indemnification\nYou agree to defend, indemnify, and hold harmless Emergent, its affiliates, officers, directors, employees, and agents from and against any claims, liabilities, damages, losses, costs, expenses, or fees (including reasonable attorneys\' fees) arising from:\nYour use of the Services\nYour Content\nYour violation of these Terms\nYour violation of any rights of another person or entity\nApplications, websites, or services you create using our Services\n## 13. Miscellaneous\n### 13.1 Governing Law\nThese Terms shall be governed by and construed in accordance with the laws of the State of California, without regard to its conflict of law principles.\n### 13.2 Dispute Resolution\nAny dispute arising from or relating to these Terms or your use of the Services shall be resolved exclusively in the state or federal courts located in Alameda County, California, and you consent to the personal jurisdiction of such courts.\n### 13.3 Entire Agreement\nThese Terms, together with our Privacy Policy and any other legal notices or additional terms and conditions provided by Emergent, constitute the entire agreement between you and Emergent relating to your use of the Services.\n### 13.4 Severability\nIf any provision of these Terms is found to be invalid or unenforceable, the remaining provisions will remain in full force and effect.\n### 13.5 Waiver\nOur failure to enforce any right or provision of these Terms will not be considered a waiver of such right or provision.\n### 13.6 Assignment\nYou may not assign or transfer these Terms or your rights under these Terms without our prior written consent. Emergent may assign these Terms without restriction.\n### 13.7 Modifications to Terms\nWe may modify these Terms at any time by posting the revised Terms on our website and/or within the desktop application. Your continued use of the Services after any changes will constitute your acceptance of such changes. For significant changes, we will make reasonable efforts to notify you through the Services or via email. If you do not agree to the updated Terms, you must stop using the Services.\n### 13.8 Force Majeure\nWe will not be liable for any failure or delay in performance resulting from causes beyond our reasonable control, including but not limited to acts of God, natural disasters, pandemic, war, terrorism, riots, civil unrest, government actions, labor disputes, Internet service provider failures or any other unforeseen events.\n## 14. Contact Information\nIf you have any questions about these Terms, please contact us at: Email: support@emergent.sh Address: 2380 Via Espada, Pleasanton, CA 94566, USA\n## 15. Promotions and User Feedback\n### 15.1 Promotions\nWe may offer promotions, contests, or sweepstakes, which may have additional terms and conditions.\n### 15.2 User Feedback\nWe welcome feedback and suggestions\nWe may implement any feedback without compensation\nProviding feedback grants us a perpetual, worldwide license to use it\nNo credit or compensation is due for implemented suggestions\nBy submitting feedback, you grant Emergent a royalty-free, worldwide, transferable, sub-licensable, irrevocable, perpetual license to use, implement, modify, and distribute your feedback in any way and for any purpose.\n## 16. DMCA Compliance\nWe respect intellectual property rights and comply with the Digital Millennium Copyright Act (DMCA). For any DMCA-related issues, contact us at support@emergent.sh with:\nIdentification of the copyrighted work claimed to be infringed\nIdentification of the allegedly infringing material\nYour contact information\nA statement of good faith belief in the infringement\nA statement of accuracy under penalty of perjury\nUpon receipt of a valid DMCA notice, we will take appropriate action, which may include removing or disabling access to the allegedly infringing material.\n## 17. Abuse Reporting\nIf you encounter abuse of our Services, violations of these Terms, or other concerning behavior, please report it to support@emergent.sh. Reports should include:\nDescription of the abusive or concerning behavior\nRelevant dates and times\nAny supporting information or evidence\nYour contact information (optional)\nWe take abuse reports seriously and will investigate promptly, taking appropriate action as necessary.'})})}),n.jsx("div",{className:"mt-auto",children:n.jsx(RD,{className:"z-[998] relative"})}),n.jsx("div",{className:"fixed inset-0 z-0",children:n.jsx(PA,{height:"50%",top:"50%",gridSizeX:70,gridSizeY:30,fadeIntensity:90,gridLineWidth:.3,gridOpacity:.6,backgroundColor:"#131314"})})]})}const nne=Ie,sne=De.forwardRef(({className:e,...t},s)=>n.jsx(Ne,{ref:s,className:fb("fixed top-0 z-[99999] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:left-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));sne.displayName=Ne.displayName;const ine=bb("group pointer-events-auto relative flex w-full z-[9999] items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-left-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),ane=De.forwardRef(({className:e,variant:t,...s},i)=>n.jsx(Fe,{ref:i,className:fb(ine({variant:t}),e),...s}));ane.displayName=Fe.displayName;De.forwardRef(({className:e,...t},s)=>n.jsx(_e,{ref:s,className:fb("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t})).displayName=_e.displayName;const rne=De.forwardRef(({className:e,...t},s)=>n.jsx(ke,{ref:s,className:fb("absolute right-4 top-4 rounded-md p-0 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:n.jsx(RS,{className:"w-5 h-5"})}));rne.displayName=ke.displayName;const one=De.forwardRef(({className:e,...t},s)=>n.jsx(Se,{ref:s,className:fb("text-sm font-semibold",e),...t}));one.displayName=Se.displayName;const lne=De.forwardRef(({className:e,...t},s)=>n.jsx(Ee,{ref:s,className:fb("text-sm opacity-90",e),...t}));function cne(){const{toasts:e}=on();return n.jsxs(nne,{children:[e.map(function({id:e,title:t,description:s,action:i,...a}){return n.jsxs(ane,{...a,children:[n.jsxs("div",{className:"grid gap-1",children:[t&&n.jsx(one,{children:t}),s&&n.jsx(lne,{children:s})]}),i,n.jsx(rne,{})]},e)}),n.jsx(sne,{})]})}function dne({...e}){return n.jsx(V,{"data-slot":"sheet",...e})}function une({...e}){return n.jsx(U,{"data-slot":"sheet-close",...e})}function pne({...e}){return n.jsx(W,{"data-slot":"sheet-portal",...e})}function mne({className:e,...t}){return n.jsx(O,{"data-slot":"sheet-overlay",className:fb("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t})}function hne({className:e,children:t,side:s="right",...i}){return n.jsxs(pne,{children:[n.jsx(mne,{}),n.jsx(z,{"data-slot":"sheet-content",className:fb("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500","right"===s&&"data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm","left"===s&&"data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm","top"===s&&"data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b","bottom"===s&&"data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t",e),...i,children:t})]})}lne.displayName=Ee.displayName;const xne=({width:e=24,height:t=24,circleColor:s="#172218",checkColor:i="#5FE55C",className:a=""})=>n.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:t,viewBox:"0 0 24 24",fill:"none",className:a,children:[n.jsx("path",{d:"M11.9992 22.7992C10.5052 22.7992 9.10122 22.5157 7.78722 21.9487C6.47322 21.3817 5.33022 20.6122 4.35822 19.6402C3.38622 18.6682 2.61672 17.5252 2.04972 16.2112C1.48272 14.8972 1.19922 13.4932 1.19922 11.9992C1.19922 10.5052 1.48272 9.10122 2.04972 7.78722C2.61672 6.47322 3.38622 5.33022 4.35822 4.35822C5.33022 3.38622 6.47322 2.61672 7.78722 2.04972C9.10122 1.48272 10.5052 1.19922 11.9992 1.19922C13.4932 1.19922 14.8972 1.48272 16.2112 2.04972C17.5252 2.61672 18.6682 3.38622 19.6402 4.35822C20.6122 5.33022 21.3817 6.47322 21.9487 7.78722C22.5157 9.10122 22.7992 10.5052 22.7992 11.9992C22.7992 13.4932 22.5157 14.8972 21.9487 16.2112C21.3817 17.5252 20.6122 18.6682 19.6402 19.6402C18.6682 20.6122 17.5252 21.3817 16.2112 21.9487C14.8972 22.5157 13.4932 22.7992 11.9992 22.7992Z",fill:s}),n.jsx("path",{d:"M16.4586 8C16.6744 8 16.8748 8.03763 17.0597 8.11288C17.2447 8.18813 17.4091 8.29599 17.553 8.43645C17.6969 8.57692 17.8048 8.73495 17.8767 8.91053C17.9486 9.08612 17.9897 9.28428 18 9.50502C18 9.70569 17.9615 9.89883 17.8844 10.0844C17.8073 10.2701 17.6969 10.4331 17.553 10.5736L11.4335 16.556C11.2897 16.6965 11.1227 16.8043 10.9326 16.8796C10.7425 16.9548 10.5446 16.995 10.3391 17C10.1336 17 9.93577 16.9624 9.74566 16.8871C9.55556 16.8119 9.38857 16.7015 9.2447 16.556L6.45472 13.8319C6.31085 13.6915 6.20039 13.5284 6.12331 13.3428C6.04624 13.1572 6.00514 12.964 6 12.7634C6 12.5527 6.0411 12.357 6.12331 12.1764C6.20552 11.9958 6.31599 11.8353 6.45472 11.6948C6.59345 11.5543 6.7553 11.449 6.94027 11.3788C7.12524 11.3085 7.3282 11.2684 7.54913 11.2584C7.75466 11.2584 7.95247 11.296 8.14258 11.3712C8.33269 11.4465 8.49968 11.5543 8.64355 11.6948L10.3391 13.3503L15.3642 8.43645C15.508 8.29599 15.675 8.18813 15.8651 8.11288C16.0552 8.03763 16.2531 8 16.4586 8Z",fill:i})]});function fne({cdnUrl:e,loadingState:t,onReload:s,isMobile:i,onWakeup:a,hasStartedPolling:r}){const[o,l]=De.useState(!!i);return De.useEffect(()=>{"completed"===t&&setTimeout(()=>{s()},1e3)},[t]),n.jsx("div",{className:"flex items-center justify-center relative h-full min-h-[100dvh] w-full bg-[#090D0F]",children:n.jsxs("div",{className:"relative w-full h-full",children:[n.jsx("iframe",{src:e,title:"CDN Preview",className:"w-full h-full border-0 shadow-2xl",style:{background:"white"},sandbox:"allow-scripts allow-same-origin allow-forms allow-popups"}),n.jsxs("div",{className:fb("fixed  max-md:flex-col flex items-center justify-between p-4 md:p-[10px] md:pl-4 inset-x-0 z-[9999] mx-auto gap-10 md:rounded-[40px]  md:h-[44px] shadow-[0_155px_44px_0_rgba(0,0,0,0.00),0_99px_40px_0_rgba(0,0,0,0.01),0_56px_34px_0_rgba(0,0,0,0.04),0_25px_25px_0_rgba(0,0,0,0.07),0_6px_14px_0_rgba(0,0,0,0.09)] transition-all duration-300 ease-in-out w-fit",{"bg-[#5FE55C]":"completed"===t,"bg-[#1F2533]":"loading"===t||!r,"bottom-4":!i,"bottom-[120px]":i,"rounded-full bottom-2 px-3 py-3":r},i&&r?"bottom-[120px]":null),children:[!r&&n.jsxs("div",{className:"flex items-center gap-3 md:gap-4 max-md:flex-col",children:[n.jsx("p",{className:"text-base font-medium text-white max-md:text-[14px] max-md:leading-[20px]",children:"Frontend Preview Only. Please wake servers to enable backend functionality."}),n.jsx("button",{type:"button",className:"px-4 max-md:min-h-[40px] max-md:w-full py-1.5 text-sm font-medium rounded-[26px] transition-colors flex items-center justify-center backdrop-blur-[25px]",style:{background:"radial-gradient(50% 50% at 50% 50%, rgba(63, 243, 200, 0.15) 0%, rgba(63, 243, 200, 0.08) 100%)"},onClick:a,children:n.jsx("span",{style:{background:"linear-gradient(180deg, #00FF66 0%, #62ECFE 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text",filter:"drop-shadow(0px 0px 17.94px #00FF6680) drop-shadow(0px 0px 17.94px #62ECFE33)"},children:"Wake up servers"})})]}),r&&"loading"===t&&n.jsxs(n.Fragment,{children:[!i&&n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ik,{className:"h-6 w-6 text-[#69FF66]"}),n.jsxs("div",{className:"overflow-hidden transition-all duration-300 ease-in-out",style:{width:o?"160px":"850px",maxWidth:o?"160px":"850px"},children:[!o&&n.jsx("p",{className:"flex-1 text-base font-medium text-white whitespace-nowrap",children:"This is the frontend only preview. Please explore the app while we are Spinning up Servers in the background."}),o&&n.jsx("p",{className:"text-base font-medium text-white whitespace-nowrap",children:"Spinning up Servers"})]})]}),i&&n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ik,{className:"h-6 w-6 text-[#69FF66]"}),n.jsx("p",{className:"text-base font-medium text-white whitespace-nowrap",children:"Spinning up Servers"})]}),!o&&!i&&n.jsx("button",{className:"bg-[#FFFFFF29] rounded-[10px] py-1 px-3 rounded-[26px] h-6 flex items-center justify-center cursor-pointer transition-opacity duration-200",onClick:()=>{l(!0)},children:n.jsx("span",{className:"text-sm font-semibold",children:"Minimize"})}),o&&!i&&n.jsx("button",{className:"bg-[#FFFFFF29] rounded-[10px] py-1 px-3 rounded-[26px] h-6 flex items-center justify-center cursor-pointer transition-opacity duration-200",onClick:()=>{l(!1)},children:n.jsx("span",{className:"text-sm font-semibold",children:n.jsx(Q8,{})})})]}),"completed"===t&&n.jsx("div",{className:"flex items-center",children:n.jsxs("div",{className:"flex items-center gap-2 overflow-hidden transition-all duration-300 ease-in-out",children:[n.jsx(xne,{width:24,height:24}),n.jsx("p",{className:"text-base font-semibold text-[#172218] whitespace-nowrap",children:"Your App is ready!"})]})})]})]})})}function gne(e,t,n,s=!0){const[i,a]=De.useState("loading");return De.useEffect(()=>{if(!e||!s)return;let i,r=0;const o=s=>{i=setTimeout(async()=>{const s=await(async()=>{try{return 200===(await Mt.get(`https://${e}`)).status&&("cdn"!==t&&n("host"),a("completed"),!0)}catch(s){return!1}})();r++,s||r>=kX||o(_X)},s)};return o(FX),()=>{i&&clearTimeout(i)}},[e,t,n,s]),i}function vne(){window.parent.postMessage({type:"reload"},"*")}function bne(e){window.self!==window.top?window.parent.postMessage({type:"url",url:e},"*"):window.open(e,"_blank")}const yne=gv.preview.emergentBlue,wne=()=>n.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen w-full bg-[#090D0F] relative",children:[n.jsx(MX,{}),n.jsxs("div",{className:"relative z-[2] flex flex-col items-center gap-6",children:[n.jsx("img",{alt:"Emergent Logo",src:yne,className:"h-6 scale-[4]"}),n.jsx("div",{className:"flex items-center gap-3",children:n.jsx(Ik,{className:"h-6 w-6"})})]})]}),jne=gv.preview.emergentBlue,Cne=()=>n.jsx("img",{alt:"Emergent Logo",src:jne,className:`absolute h-[84px] scale-[${AX.LOGO_SCALE}] top-[4px] left-[0px] md:hidden`}),Nne=()=>n.jsx("div",{className:"flex items-end justify-start max-md:hidden",children:n.jsx("img",{alt:"Emergent Logo",src:jne,className:"h-6 scale-[4] ml-12 mt-8"})}),Fne=gv.preview.screen,_ne=gv.preview.greenCheck,kne=({loadingState:e,progress:t,hasStartedPolling:s=!0})=>{const i="loading"===e,a=i?TX.loading:TX.completed,r=s?a.title:"Ready to start your preview";return n.jsxs("div",{className:"flex flex-col gap-6",children:[n.jsx("img",{alt:"Status Icon",src:i?Fne:_ne,className:"w-10 h-10"}),n.jsxs("div",{className:fb("flex flex-col",i?"gap-6":"gap-2"),children:[n.jsx("p",{className:"text-[24px] md:text-[32px] font-semibold text-white",style:{textShadow:"0px 0px 20px #FFFFFF66"},children:r}),i&&s&&n.jsx(K4,{progress:t/100,boxClassname:"w-full w-[36px] h-6 p-1 flex items-center justify-center"}),!i&&n.jsx("p",{className:"font-medium font-jetbrains text-sm/6 text-white/40",children:a.subtitle})]})]})},Sne=gv.preview.gameBoy,Ene=gv.preview.greenArrow,Ine=gv.preview.gradientArrow,Ane=({loadingState:e,isMobile:t,onExploreGames:s,onReload:i,onWakeup:a,hasStartedPolling:r})=>{const o="loading"===e;return r||!a||t?o&&!t?n.jsxs("div",{className:"flex items-center space-x-4 max-md:hidden",children:[n.jsx(V2,{style:"gradient",onClick:()=>bne("https://app.emergent.sh"),className:"w-[186px]",children:n.jsxs(W2,{children:[n.jsx("p",{className:"font-medium",children:TX.buttons.openEmergent}),n.jsx("img",{src:Ine,alt:"Right Arrow",className:"w-6 h-6"})]})}),n.jsx(V2,{style:"white",onClick:()=>bne(lv),className:"w-[153px]",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("p",{className:"font-medium",children:TX.buttons.needHelp}),n.jsx(xS,{color:"white",strokeWidth:3,size:24})]})})]}):!r&&a&&t?n.jsx("div",{className:"flex flex-col justify-end h-full gap-3 mb-4 md:hidden",children:n.jsx("button",{type:"button",onClick:a,className:"flex items-center h-[44px] px-4 py-[10px] text-base font-medium rounded-[10px] transition-colors justify-center backdrop-blur-[25px]",style:{background:"radial-gradient(50% 50% at 50% 50%, rgba(63, 243, 200, 0.15) 0%, rgba(63, 243, 200, 0.08) 100%)"},children:n.jsx("span",{className:"text-base font-medium",style:{background:"linear-gradient(180deg, #00FF66 0%, #62ECFE 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text",filter:"drop-shadow(0px 0px 17.94px #00FF6680) drop-shadow(0px 0px 17.94px #62ECFE33)"},children:"Wake up servers"})})}):o&&t?n.jsxs("button",{type:"button",onClick:s,className:"md:hidden flex items-center gap-2 h-[44px] px-4 py-[10px] font-semibold justify-center text-black bg-white text-base rounded-[10px] white_glow",children:[n.jsx("img",{src:Sne,alt:"Game Boy",className:"w-6 h-6"}),n.jsx("p",{className:"p-0 font-medium",children:TX.buttons.exploreGames})]}):o?null:n.jsxs("div",{className:"flex gap-3",children:[n.jsxs("button",{type:"button",onClick:i,className:"max-md:w-full p-[10px] px-[20px] md:gap-2 items-center green-radial rounded-[10px] flex justify-between",title:"Launch",children:[n.jsx("span",{className:"text-[#5FE55C] font-medium",children:TX.buttons.launchApp}),n.jsx("img",{src:Ene,alt:"play",className:"w-6 h-6"})]}),n.jsx("button",{type:"button",onClick:s,className:"md:hidden p-3 px-6 bg-white rounded-[10px] flex justify-between",title:"Launch",children:n.jsx("img",{src:Sne,alt:"play",className:"w-6 h-6"})})]}):n.jsxs("div",{className:"flex items-center space-x-4 max-md:hidden",children:[n.jsx("button",{type:"button",onClick:a,className:"h-[44px] px-6 py-3 text-base font-medium rounded-[10px] transition-colors flex items-center justify-center backdrop-blur-[25px]",style:{background:"radial-gradient(50% 50% at 50% 50%, rgba(63, 243, 200, 0.15) 0%, rgba(63, 243, 200, 0.08) 100%)"},children:n.jsx("span",{className:"text-base font-medium",style:{background:"linear-gradient(180deg, #00FF66 0%, #62ECFE 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text",filter:"drop-shadow(0px 0px 17.94px #00FF6680) drop-shadow(0px 0px 17.94px #62ECFE33)"},children:"Wake up servers"})}),n.jsx(V2,{style:"white",onClick:()=>bne(lv),className:"w-[153px]",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("p",{className:"font-medium",children:TX.buttons.needHelp}),n.jsx(xS,{color:"white",strokeWidth:3,size:24})]})})]})},Tne=()=>n.jsxs("div",{className:"flex items-center space-x-4 md:hidden",children:[n.jsx(V2,{style:"gradient",onClick:()=>bne("https://app.emergent.sh"),className:"w-[186px]",children:n.jsx(W2,{children:n.jsx("p",{className:"font-medium",children:TX.buttons.openEmergent})})}),n.jsx(V2,{style:"white",onClick:()=>bne(lv),className:"w-[153px]",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("p",{className:"font-medium",children:TX.buttons.needHelp}),n.jsx(xS,{color:"white",strokeWidth:3,size:24})]})})]}),Dne=gv.tips.arrowBack,Mne=gv.preview.play,Lne=gv.preview.flappybird,Pne=({currentView:e,setCurrentView:t,setLoadUrl:s})=>{const i=[{id:1,title:"Flappy Bird",color:"bg-yellow-500",img:Lne,link:"https://flapppy.netlify.app/"}],[a,r]=De.useState(0),[o,l]=De.useState(!1),[c,d]=De.useState(0),[u,p]=De.useState(!1),m=De.useRef(null),h=De.useRef(null),x=De.useRef(0),f=De.useRef(!1),g=2500;De.useEffect(()=>{x.current=a},[a]),De.useEffect(()=>{f.current=o},[o]);const v=De.useCallback(()=>{u||(p(!0),r(e=>(e+1)%i.length),setTimeout(()=>p(!1),500))},[u,i.length]),b=De.useCallback(()=>{u||(p(!0),r(e=>(e-1+i.length)%i.length),setTimeout(()=>p(!1),500))},[u,i.length]);De.useEffect(()=>((()=>{if(m.current&&clearInterval(m.current),h.current&&clearInterval(h.current),f.current)return;d(0),m.current=setInterval(()=>{f.current||v()},g);h.current=setInterval(()=>{f.current||d(e=>e>=100?100:e+2)},50)})(),()=>{m.current&&clearInterval(m.current),h.current&&clearInterval(h.current)}),[v]),De.useEffect(()=>{if(o)h.current&&clearInterval(h.current);else if(!h.current){const e=2;h.current=setInterval(()=>{f.current||d(t=>t>=100?100:t+e)},50)}},[o]),De.useEffect(()=>{d(0)},[a]),(({onNext:e,onPrevious:t,enabled:n=!0})=>{De.useEffect(()=>{if(!n)return;const s=n=>{switch(n.key){case"ArrowRight":n.preventDefault(),e();break;case"ArrowLeft":n.preventDefault(),t()}};return window.addEventListener("keydown",s),()=>{window.removeEventListener("keydown",s)}},[e,t,n])})({onNext:v,onPrevious:b});const y=i[a],w=e=>{u||e===a||(p(!0),r(e),setTimeout(()=>p(!1),500))};return n.jsxs("div",{className:"flex flex-col items-center justify-between w-full overflow-hidden",children:[n.jsx("div",{className:"flex flex-col justify-center w-full h-full max-w-4xl ",children:n.jsxs("div",{children:[n.jsx("div",{className:"relative flex items-center justify-center md:mb-8 h-[500px] md:h-[500px]",children:n.jsx("div",{className:"relative flex items-center justify-center w-full h-full",children:i.map((e,t)=>{const s=(e=>{const t=e-a,n=i.length;let s=t;t>n/2&&(s-=n),t<-n/2&&(s+=n);const r=window.innerWidth<768,o=r?250:350,l=r?100:170,c=r?200:280;return{transform:`translateX(${s*o}px) scale(${0===s?1:.9})`,opacity:0===s?1:1===Math.abs(s)?.6:0,zIndex:0===s?20:1===Math.abs(s)?10:0,width:`${0===s?o:c}px`,height:`${0===s?200:l}px`,transition:"all 0.5s ease-out"}})(t),r=t-a,o=i.length;let c=r;r>o/2&&(c-=o),r<-o/2&&(c+=o);const d=0===c;return n.jsxs("div",{className:"absolute select-none rounded-[10px] w-[250px] md:w-[350px]  flex items-center justify-center cursor-pointer",style:s,onMouseEnter:()=>l(!0),onMouseLeave:()=>l(!1),onClick:()=>w(t),children:[n.jsx("img",{src:e.img,alt:e.title,className:"w-[250px] select-none md:w-[350px] "}),!d&&n.jsx("div",{className:"absolute inset-0 transition-colors duration-200 "}),d&&n.jsx("div",{className:"absolute inset-0 rounded-[10px] pointer-events-none"})]},e.id)})})}),n.jsx("div",{className:"flex justify-center",children:n.jsxs("button",{type:"button",onClick:async()=>{await(async()=>{t("play")})(),s(y.link)},className:"flex items-center px-6 py-3 gap-2 font-semibold text-black transition-all duration-300 rounded-[10px] shadow-lg hover:bg-gray-100 bg-white white_glow",children:[n.jsx("img",{src:Mne,alt:"play",className:"w-5 h-5"}),n.jsxs("span",{className:"text-[16px] font-semibold leading-[24px]",children:["Play ",y.title]})]})})]})}),n.jsx("div",{className:"flex flex-col items-center justify-center gap-6 mt-4 px-[40px]",children:n.jsxs("div",{className:"flex items-center justify-center mt-4 space-x-4",children:[n.jsx("button",{type:"button",onClick:b,className:fb("h-8 w-8 hover:bg-[#3A3A3B] backdrop-blur-lg bg-[#FFFFFF10] rounded-full transition-all duration-200 flex items-center justify-center",u?"opacity-25 cursor-not-allowed":"opacity-50 hover:opacity-100"),"aria-label":"Previous game",children:n.jsx("img",{src:Dne,alt:"Previous",className:"w-4 h-4"})}),n.jsx("div",{className:"flex space-x-2",children:i.map((e,t)=>n.jsxs(Pt.button,{type:"button",onClick:()=>w(t),className:"relative h-2 rounded-full bg-[#FFFFFF]/10 overflow-hidden","aria-label":`Go to game ${t+1}`,animate:{width:t===a?50:8},transition:{duration:.3,ease:"easeInOut"},children:[n.jsx(Pt.div,{className:"absolute inset-0 rounded-full bg-[#FFFFFF]/20",initial:{scaleX:0},animate:{scaleX:t<a?1:0},transition:{duration:.3,ease:"easeOut"}}),t===a&&n.jsx(Pt.div,{className:"absolute inset-0 origin-left bg-white rounded-full",initial:{scaleX:0},animate:{scaleX:c/100},transition:{duration:.1,ease:"linear"}},`progress-${a}`)]},t))}),n.jsx("button",{type:"button",onClick:v,className:fb("h-8 w-8 bg-[#FFFFFF10] backdrop-blur-lg hover:bg-[#3A3A3B] rounded-full transition-all duration-200 flex items-center justify-center",u?"opacity-25 cursor-not-allowed":"opacity-50 hover:opacity-100"),"aria-label":"Next game",children:n.jsx("img",{src:Dne,alt:"Next",className:"w-4 h-4 rotate-180"})})]})})]})},Rne=gv.preview.pixelArrow,One=({currentView:e,isMobile:t,loadUrl:s,setLoadUrl:i,setCurrentView:a})=>{if(t)return null;const r="flex-1 min-w-[50vw] w-full h-[calc(100vh-22px)] border rounded-[12px] backdrop-blur-lg border-1 border-white/10 relative z-[2]";return"game"===e?n.jsxs("div",{className:fb("hidden md:flex flex-col justify-between pb-8 pt-12",r),children:[n.jsxs("p",{className:"p-4 text-[20px] leading-[32px] font-normal text-center text-white opacity-[50%] font-ndot",children:[" ",TX.sheet.gameTitle," "]}),n.jsx("div",{className:"w-full h-full items-center flex flex-col justify-center bg-[#090D0F]/10 backdrop-blur-[10px]",children:n.jsx(Pne,{setLoadUrl:i,currentView:e,setCurrentView:a})})]}):n.jsxs("div",{className:fb("w-full backdrop-blur-lg justify-between",r),children:[n.jsx("div",{className:"p-6",children:n.jsxs("button",{onClick:()=>a("game"),className:"flex items-center gap-2 p-1",children:[n.jsx("img",{src:Rne,alt:"Back Arrow",className:"w-6 h-6"}),n.jsx("span",{className:"text-[20px] leading-[32px] text-[#FFFFFF99] font-ndot",children:TX.buttons.goBack})]})}),n.jsx("iframe",{src:s,title:"Preview",className:"min-w-[50vw] w-full h-full border-0"})]})},zne=gv.preview.pixelArrow,Bne=gv.preview.screen,Hne=gv.preview.greenCheck,$ne=gv.preview.greenArrow,Une=({sheetOpen:e,setSheetOpen:t,currentView:s,setCurrentView:i,loadUrl:a,setLoadUrl:r,loadingState:o,progress:l})=>{const c="game"===s,d="loading"===o;return n.jsxs(hne,{side:"bottom",className:"h-[calc(100vh-22px)] p-0 border-t-[#242424] rounded-t-[20px] gap-0",children:[n.jsxs("div",{className:fb("flex items-center justify-between p-4",!c&&""),children:[c&&n.jsx("p",{className:"text-white text-[18px] opacity-[50%] font-ndot",children:TX.sheet.gameTitle}),!c&&n.jsxs("button",{onClick:()=>i("game"),className:"flex items-center gap-2 p-1",children:[n.jsx("img",{src:zne,alt:"Back Arrow",className:"w-6 h-6"}),n.jsx("span",{className:"text-[20px] leading-[32px] text-[#FFFFFF99] font-ndot",children:TX.buttons.goBack})]}),n.jsx(une,{children:n.jsx("div",{className:"w-10 h-10 flex items-center justify-center text-[#C4C4CC] hover:text-[#fff] hover:bg-white hover:bg-[#FFFFFF1A] bg-[#FFFFFF1A] rounded-lg transition-all duration-200 ease-in-out focus-visible:outline-none",children:n.jsx(RS,{className:"w-6 h-6"})})})]}),c&&n.jsx("div",{className:"pb-4",children:n.jsx(Pne,{setLoadUrl:r,currentView:s,setCurrentView:i})}),!c&&n.jsxs(n.Fragment,{children:[n.jsx("iframe",{src:a,title:"Preview",className:"w-full h-full border-0"}),n.jsxs("div",{className:"flex flex-col items-center gap-5 px-4 py-6",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("img",{src:d?Bne:Hne,alt:"Status",className:"w-6 h-6"}),n.jsx("span",{className:"text-white text-[18px] text-white-glow",children:d?TX.loading.title:TX.completed.title})]}),d&&n.jsx(K4,{progress:l/100,boxClassname:"bg-[#142C33] w-6 h-6 flex items-center justify-center p-[3px]"}),!d&&n.jsxs("button",{onClick:()=>window.location.reload(),className:"w-full p-4 green-radial rounded-[10px] flex justify-between",title:"Launch",children:[n.jsx("span",{className:"text-[#5FE55C] font-medium",children:TX.buttons.launchApp}),n.jsx("img",{src:$ne,alt:"play",className:"w-6 h-6"})]})]})]})]})};function Vne(){const[e,t]=De.useState("game"),[s,i]=De.useState(!1),[a,r]=De.useState(""),[o,l]=De.useState(!1),{isMobile:c}=QE(),d=new URLSearchParams(window.location.search).get("host"),{previewSource:u,cdnUrl:p,setPreviewSource:m,initializing:h}=XJ(d),x=gne(d,u,m,o),f=function(e,t=!1){const[n,s]=De.useState(0);return De.useEffect(()=>{if("loading"!==e||!t)return;const n=Date.now();let i=0;const a=()=>{const t=Date.now()-n,r=t/SX*100,o=Math.random()*(EX.max-EX.min)+EX.min,l=Math.min(i+o,Math.max(1.2*r,i+o));if(i=Math.min(l,100),s(i),i>=100||t>=SX)s(100);else if("loading"===e){const e=Math.random()*(IX.max-IX.min)+IX.min;setTimeout(()=>requestAnimationFrame(a),e)}};a()},[e,t]),De.useEffect(()=>{t||s(0)},[t]),n}(x,o),g="loading"===x,v=async()=>{if(!d)return;const e=d.split(".")[0];if(e)try{(await fetch(`${qt.apiBaseUrl}/public/jobs/v0/${e}/wakeup-environment`,{method:"POST",headers:{"Content-Type":"application/json"}})).ok,l(!0)}catch(t){l(!0)}};if(h)return n.jsx(wne,{});return"cdn"===u&&p?n.jsx(fne,{cdnUrl:p,loadingState:x,onReload:vne,isMobile:c,onWakeup:v,hasStartedPolling:o}):n.jsx(dne,{open:s,onOpenChange:i,children:n.jsxs("div",{className:"flex relative items-center justify-center min-h-[100dvh] w-full bg-[#090D0F]",children:[n.jsx(MX,{}),n.jsx(Cne,{}),n.jsxs("div",{className:"w-full flex flex-col justify-between flex-1 h-[100dvh] p-6 md:p-12 relative z-[2]",children:[n.jsx("div",{className:"h-[200px]"}),n.jsxs("div",{className:fb("flex flex-col w-full h-full",g?"gap-10":"gap-6"),children:[n.jsx(kne,{loadingState:x,progress:f,hasStartedPolling:o}),!o&&n.jsxs("p",{className:"font-medium font-jetbrains text-sm/6 text-white/40",children:["Click ",n.jsx("span",{className:"text-white",children:'"Wake up servers"'})," to start loading your preview.",n.jsx("br",{}),"The preview will be ready in approximately 3-5 minutes."]}),g&&o&&n.jsxs("p",{className:"font-medium font-jetbrains text-sm/6 text-white/40",children:[TX.loading.subtitle.split("\n")[0]," ",n.jsx("span",{className:"text-white",children:TX.loading.highlight}),n.jsx("br",{}),TX.loading.subtitle.split("\n")[1]]}),n.jsx(Ane,{loadingState:x,isMobile:c,onExploreGames:()=>i(!0),onReload:vne,onWakeup:v,hasStartedPolling:o})]}),n.jsx(Nne,{}),n.jsx(Tne,{})]}),n.jsx(One,{currentView:e,isMobile:c,loadUrl:a,setLoadUrl:r,setCurrentView:t}),n.jsx(Une,{sheetOpen:s,setSheetOpen:i,currentView:e,setCurrentView:t,loadUrl:a,setLoadUrl:r,loadingState:x,progress:f})]})})}function Wne(){return n.jsx("div",{className:"flex items-center justify-center min-h-screen",children:n.jsx("h1",{className:"text-4xl font-bold text-white",children:"Hello World"})})}const qne=({color:e="#0F0F10",size:t=24,className:s="",direction:i="up"})=>n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:t,viewBox:"0 0 24 24",fill:"none",className:s,style:{transform:(()=>{switch(i){case"up":default:return"rotate(0deg)";case"down":return"rotate(180deg)";case"left":return"rotate(-90deg)";case"right":return"rotate(90deg)"}})()},children:n.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.1294 4.36049C11.61 3.87984 12.3894 3.87984 12.87 4.36049L18.4084 9.89892C18.889 10.3796 18.889 11.1588 18.4084 11.6394C17.9277 12.1202 17.1485 12.1202 16.6679 11.6394L13.2304 8.20213L13.2304 18.7692C13.2304 19.4489 12.6794 20 11.9996 20C11.32 20 10.7689 19.4489 10.7689 18.7692L10.7689 8.20213L7.3315 11.6394C6.85087 12.1202 6.07161 12.1202 5.59098 11.6394C5.1103 11.1588 5.1103 10.3796 5.59098 9.89892L11.1294 4.36049Z",fill:e})}),Gne=gv.oauth.sparkle,Zne=gv.oauth.envelopeDefault,Yne=gv.oauth.nftDefault,Kne=gv.oauth.layerThree,Jne=gv.oauth.image4,Qne=gv.oauth.google,Xne=gv.oauth.foundationShield,ese=gv.oauth.emergent,tse=[{title:"Securely verify your identity",image:Gne},{title:"Retrieve your email information",image:Zne},{title:"Access your basic profile details",image:Yne},{title:"Maintain your login sessions",image:Kne}];function nse(){const[e,t]=De.useState(null),[s,i]=De.useState(null),[a,r]=De.useState(""),o=(()=>{const[e,t]=De.useState(!1);return De.useEffect(()=>{t((()=>{try{return window.self!==window.top}catch(e){return!0}})())},[]),e})();De.useEffect(()=>{const e=new URLSearchParams(window.location.search).get("redirect");e?t(e):i("No redirect URL provided. Authentication cannot proceed.")},[]);return s?n.jsx("div",{className:"flex items-center justify-center min-h-screen bg-white",children:n.jsxs("div",{className:"text-center",children:[n.jsx("h2",{className:"mb-4 text-xl font-medium text-red-600",children:"Authentication Error"}),n.jsx("p",{className:"mb-4 text-gray-600",children:s}),n.jsx("button",{type:"button",onClick:()=>window.close(),className:"px-4 py-2 text-white bg-black rounded hover:bg-[#333333]",children:"Close"})]})}):n.jsx(n.Fragment,{children:n.jsxs("div",{className:"flex lg:flex-row flex-col w-full min-h-screen max-h-screen z-[999]",children:[n.jsxs("div",{className:"relative flex flex-col justify-end flex-[44] lg:h-[100vh] lg:px-[56px] lg:pb-[56px]",children:[n.jsx("img",{src:Jne,alt:"Background",className:"absolute top-0 left-0 object-cover w-full h-full"}),n.jsx("span",{className:"z-10 p-6 pb-5 text-[18px] font-semibold",children:"This app will be able to :"}),n.jsx("div",{className:"flex flex-row gap-5 px-6 pb-8 overflow-y-auto lg:grid lg:grid-cols-2",children:tse.map((e,t)=>n.jsxs("div",{className:"flex flex-col max-lg:min-h-[140px] max-lg:min-w-[200px] rounded-[8px] shadow-white backdrop-blur-[50px] p-5 pt-6 gap-[34px]",children:[n.jsx("img",{src:e.image,alt:e.title,className:"w-6 h-6"}),n.jsx("p",{className:"leading-[24px] tracking-[-0.2px] text-[#FFFFFFCC] font-semibold text-[18px]",children:e.title})]},t))})]}),n.jsxs("div",{className:"flex-[66] lg:h-[100vh] max-lg:justify-between p-6 pb-[40px] flex flex-col lg:p-[40px] h-full bg-[#FFFFFF]",children:[n.jsx("div",{className:"flex flex-col items-center justify-center w-full h-full",children:n.jsxs("div",{className:"flex max-lg:mt-[40px] gap-[40px] items-center flex-col justify-center w-[500px]",children:[n.jsx("span",{className:"font-ndot tracking-[0.04em] uppercase text-black",children:o?"Open in a new tab to continue to Login":"Log In to your app"}),!o&&n.jsxs("button",{type:"button",title:"Google Signin",onClick:()=>{if(!e)return void i("No redirect URL available. Please refresh and try again.");const t=`${qt.apiBaseUrl}/auth/v1/env/oauth?redirect=${encodeURIComponent(e)}`;window.location.href=t},className:"rounded-full p-[18px] gap-4 w-full bg-black flex lg:min-w-[400px] hover:bg-[#333333]",children:[n.jsx("img",{src:Qne,alt:"Google",className:"w-6 h-6"}),n.jsx("div",{className:"flex justify-center w-full",children:n.jsx("span",{className:"font-medium text-[16px] tracking-[-0.25px]",children:"Continue with Google"})})]}),o&&n.jsxs("div",{className:"flex flex-row flex-1 w-full gap-2 space-x-3",children:[n.jsx("button",{type:"button",title:"Google Signin",onClick:()=>{window.location.href=e||"/"},className:"rounded-full p-[18px] gap-4 w-full bg-white border-[2px] border-black text-black flex lg:min-w-[400px]",children:n.jsxs("div",{className:"flex items-center justify-center w-full gap-2",children:[n.jsx(qne,{color:"#000000",direction:"left"}),n.jsx("span",{className:"font-medium text-[16px] tracking-[-0.25px]",children:"Back"})]})}),n.jsx("button",{type:"button",title:"Google Signin",onClick:()=>{const e=window.location.href;window.open(e,"_blank")},className:"rounded-full p-[18px] gap-4 w-full bg-background text-white border-background border-[2px] flex lg:min-w-[400px]",children:n.jsxs("div",{className:"flex items-center justify-center w-full gap-2",children:[n.jsx("span",{className:"font-medium text-[16px] tracking-[-0.25px]",children:"Open in new tab"}),n.jsx(jX,{color:"#fff"})]})})]}),!o&&n.jsxs("p",{className:"text-[#45474D] opacity-50 text-[11px] font-['Inter'] text-center leading-[20px] mt-6",children:["By continuing, you agree to emergent"," ",n.jsx("a",{href:"https://app.emergent.sh/terms-of-service",target:"_blank",rel:"noreferrer noopener",className:"font-medium text-black underline",children:"Terms of Service"})," ","and"," ",n.jsx("a",{href:"/privacy-policy",target:"_blank",rel:"noreferrer noopener",className:"font-medium text-black underline",children:"Privacy Policy"}),". This site is protected by reCAPTCHA Enterprise and the Google"," ",n.jsx("a",{href:"https://app.emergent.sh/privacy-policy",target:"_blank",rel:"noreferrer noopener",className:"font-medium text-black underline",children:"Privacy Policy"})," ","and"," ",n.jsx("a",{href:"https://app.emergent.sh/terms-of-service",target:"_blank",rel:"noreferrer noopener",className:"font-medium text-black underline",children:"Terms of service"})," ","apply."]}),o&&n.jsx("p",{className:"text-[#45474D] opacity-50 text-base font-['Inter'] text-center leading-[20px] mt-6",children:"Login does't work in an iframe. Please open in a new tab."})]})}),n.jsxs("div",{className:"flex flex-col items-center gap-4",children:[n.jsxs("div",{className:"flex items-center gap-[6px]",children:[n.jsx("img",{src:Xne,alt:"Shield",className:""}),n.jsx("span",{className:"text-[#04B200] tracking-[0.04em] text-[12px] font-ndot uppercase",children:"Log In secured by"})]}),n.jsx("a",{href:"https://emergent.sh",target:"_blank",rel:"noreferrer noopener",children:n.jsx("img",{src:ese,alt:"Emergent",className:"h-6 "})})]})]})]})})}function sse(){const{removeItems:e,getItem:t,hasItem:n}=function(){const e=De.useCallback((e,t)=>{try{window.localStorage.setItem(e,JSON.stringify(t))}catch(n){}},[]),t=De.useCallback((e,t)=>{try{const n=window.localStorage.getItem(e);return n?JSON.parse(n):t||null}catch(n){return t||null}},[]),n=De.useCallback(e=>{try{window.localStorage.removeItem(e)}catch(t){}},[]),s=De.useCallback(e=>{e.forEach(e=>n(e))},[n]),i=De.useCallback(()=>{try{Xu()}catch(e){window.localStorage.clear()}},[]),a=De.useCallback(e=>{try{return null!==window.localStorage.getItem(e)}catch(t){return!1}},[]),r=De.useCallback(()=>{try{return Object.keys(window.localStorage)}catch(e){return[]}},[]),o=De.useCallback(e=>{try{const n={};return r().forEach(s=>{s.startsWith(e)&&(n[s]=t(s))}),n}catch(n){return{}}},[r,t]),l=De.useCallback(e=>{try{r().forEach(t=>{t.startsWith(e)&&n(t)})}catch(t){}},[r,n]);return{setItem:e,getItem:t,removeItem:n,removeItems:s,clearAll:i,hasItem:a,getAllKeys:r,getItemsByPrefix:o,removeItemsByPrefix:l}}();return{clearReferralData:De.useCallback(()=>{e(["pending_referral_code","referral_applied","referral_modal_data"])},[e]),hasReferralData:De.useCallback(()=>n("pending_referral_code")||n("referral_applied")||n("referral_modal_data"),[n]),getReferralData:De.useCallback(()=>({pendingReferralCode:t("pending_referral_code"),referralApplied:t("referral_applied"),referralModalData:t("referral_modal_data")}),[t]),getReferralModalData:De.useCallback(()=>{const n=t("referral_modal_data");if(!n||!n.shouldShow)return null;return Date.now()-n.timestamp>864e5?(e(["referral_modal_data"]),null):n},[t,e]),clearReferralModalData:De.useCallback(()=>{e(["referral_modal_data"])},[e])}}const ise=gv.referral.credited;function ase({isOpen:e,onOpenChange:t,reward:s=5}){const{refreshCredits:i}=Xg(),{clearReferralData:a}=sse();De.useEffect(()=>{i()},[e]);const r=()=>{a(),t(!1)},o={background:"\n      linear-gradient(180deg, rgba(255, 255, 255, 1), rgba(0, 0, 0, 1)),\n      rgba(243, 202, 95, 1)\n    ",backgroundSize:"cover",backgroundPosition:"center",backgroundBlendMode:"overlay, normal",WebkitBackgroundClip:"text",backgroundClip:"text",WebkitTextFillColor:"transparent",color:"transparent"};return n.jsx(_A,{open:e,onOpenChange:r,children:n.jsxs(AA,{className:"max-w-[95%]  md:max-w-[600px] bg-[#1C1C1F] text-white border-[#2E2F34] p-6 md:p-12",children:[n.jsx("div",{className:"flex justify-end",children:n.jsx("button",{type:"button",title:"Close",onClick:r,className:"text-gray-400 hover:text-white",children:n.jsx(RS,{size:24})})}),n.jsxs("div",{className:"flex flex-col items-center justify-center gap-4",children:[n.jsx("img",{src:ise,alt:"Credited",className:"w-20 h-20 max-md:w-12 max-md:h-12"}),n.jsxs("div",{className:"flex flex-col items-center justify-center gap-2 mb-[3rem] max-md:mb-[1rem]",children:[n.jsxs("h3",{className:"text-[20px] md:text-[32px] text-center font-medium text-white",children:["You have earned ",n.jsx("br",{})," ",n.jsxs("span",{className:"",style:o,children:[s," credits"]})]}),n.jsx("p",{className:"text-[14px] md:text-[16px] text-[#737780]",children:"Thanks to the user that referred you."})]}),n.jsx(DT,{onClick:r,className:"w-full h-[45px]  md:h-full max-w-[200px] text-nowrap  md:max-w-[250px] mx-auto",type:"button",variant:"light",children:"Start Building"})]})]})})}const rse={stats:[{value:"20%",label:"Commission Rate"},{value:"6",label:"Months Duration"},{value:"$2,500+",label:"Avg. Monthly Earnings"},{value:"500+",label:"Active Affiliates"}],benefits:[{icon:"DollarSign",title:"High Commission Rate",description:"Earn 20% commission for 6 months on every successful referral. One of the highest rates in the industry."},{icon:"TrendingUp",title:"Growing Market",description:"AI development tools are booming. Position yourself in a rapidly expanding market with huge potential."},{icon:"Users",title:"Dedicated Support",description:"Get personal support from our affiliate success team to help you maximize your earnings and growth."},{icon:"BarChart3",title:"Real-time Analytics",description:"Track your performance with detailed analytics and insights into your referrals and commissions."},{icon:"CheckCircle",title:"Quality Product",description:"Promote a product developers love. Emergent's high retention rate means more recurring commissions."},{icon:"Share2",title:"Marketing Resources",description:"Access professional marketing materials, banners, and content to help promote Emergent effectively."}],steps:[{step:1,icon:"Users",title:"Sign Up",description:"Join our affiliate program and get your unique referral link within minutes."},{step:2,icon:"Share2",title:"Share Emergent",description:"Promote Emergent to your network using your referral link and marketing materials."},{step:3,icon:"BarChart3",title:"Track Performance",description:"Monitor your referrals and conversions in real-time through your affiliate dashboard."},{step:4,icon:"DollarSign",title:"Earn Rewards",description:"Get paid 20% commission for 6 months on every successful referral you bring."}],testimonials:[{name:"Sarah Chen",role:"Tech Content Creator",quote:"Emergent's affiliate program has been incredible. The 20% commission rate is amazing and the product sells itself!"},{name:"Mike Rodriguez",role:"Development Agency Owner",quote:"I've earned over $15,000 in the first 3 months. The support team is fantastic and the tracking is transparent."},{name:"Alex Johnson",role:"Software Consultant",quote:"Best affiliate program I've joined. High-quality product, great commissions, and excellent affiliate support."},{name:"Emma Thompson",role:"Tech Blogger",quote:"The marketing materials are professional and the product genuinely helps developers. Easy to recommend!"},{name:"David Park",role:"YouTube Creator",quote:"Consistent monthly income from referrals. The 6-month commission period really adds up over time."},{name:"Lisa Wang",role:"Developer Advocate",quote:"Emergent converts really well. My audience loves it and I love the recurring commission structure."}]},ose=()=>{const{stats:e,benefits:t,steps:s,testimonials:i}=rse;return n.jsxs("div",{className:"h-screen bg-gradient-to-br from-slate-50 via-white to-slate-100 overflow-scroll",children:[n.jsx("header",{className:"border-b bg-white/80 backdrop-blur-sm sticky top-0 z-50",children:n.jsx("div",{className:"max-w-7xl mx-auto px-6 py-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("div",{className:"flex items-center space-x-2",children:n.jsx("img",{src:"https://app.emergent.sh/borded-logo-dark.svg",alt:"Emergent",className:"h-8 w-auto"})}),n.jsxs("nav",{className:"hidden md:flex items-center space-x-6",children:[n.jsx("a",{href:"https://app.emergent.sh",className:"text-slate-600 hover:text-slate-900 transition-colors",children:"Platform"}),n.jsx("a",{href:"https://app.emergent.sh/home",className:"text-slate-600 hover:text-slate-900 transition-colors",children:"Home"}),n.jsx("button",{onClick:()=>{const e=document.getElementById("contact-section");e&&e.scrollIntoView({behavior:"smooth"})},className:"text-slate-600 hover:text-slate-900 transition-colors cursor-pointer",children:"Support"})]})]})})}),n.jsx("section",{className:"py-20 px-6",children:n.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[n.jsx(rE,{variant:"secondary",className:"mb-6 bg-slate-100 text-slate-700 hover:bg-slate-200",children:" Join Our Affiliate Program"}),n.jsxs("h1",{className:"text-5xl md:text-6xl font-bold text-slate-900 mb-6 leading-tight",children:["Make Money with",n.jsx("br",{}),n.jsx("span",{className:"bg-gradient-to-r from-slate-900 to-slate-600 bg-clip-text text-transparent",children:"Emergent Affiliate Program"})]}),n.jsx("p",{className:"text-xl text-slate-600 mb-8 max-w-2xl mx-auto leading-relaxed",children:"Earn 20% commission for 6 months by helping developers and businesses discover the future of AI-assisted development with Emergent."}),n.jsx("div",{className:"flex justify-center mb-12",children:n.jsx("a",{href:"https://partners.emergent.sh/",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center",children:n.jsxs(wb,{size:"lg",className:"bg-slate-900 hover:bg-slate-800 text-white px-8 py-3 text-lg transition-all duration-200 hover:shadow-lg",children:["Join as Affiliate",n.jsx(Ok,{className:"ml-2 h-5 w-5"})]})})}),n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6 max-w-3xl mx-auto",children:e.map((e,t)=>n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-3xl font-bold text-slate-900 mb-1",children:e.value}),n.jsx("div",{className:"text-sm text-slate-600",children:e.label})]},t))})]})}),n.jsx("section",{className:"py-20 px-6 bg-white",children:n.jsxs("div",{className:"max-w-6xl mx-auto",children:[n.jsxs("div",{className:"text-center mb-16",children:[n.jsx("h2",{className:"text-4xl font-bold text-slate-900 mb-4",children:"Why Join Emergent Affiliate Program?"}),n.jsx("p",{className:"text-xl text-slate-600 max-w-2xl mx-auto",children:"Join a growing community of affiliates earning substantial rewards while helping developers build better applications."})]}),n.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:t.map((e,t)=>{const s={DollarSign:iS,TrendingUp:TS,Users:LS,BarChart3:$k,CheckCircle:Yk,Share2:SS}[e.icon];return n.jsxs(WD,{className:"border-slate-200 hover:shadow-lg transition-all duration-300 hover:-translate-y-1 bg-white",children:[n.jsxs(qD,{children:[n.jsx("div",{className:"w-12 h-12 bg-slate-100 rounded-lg flex items-center justify-center mb-4",children:n.jsx(s,{className:"h-6 w-6 text-slate-700"})}),n.jsx(GD,{className:"text-xl text-slate-900",children:e.title})]}),n.jsx(YD,{children:n.jsx(ZD,{className:"text-slate-600 text-base leading-relaxed",children:e.description})})]},t)})})]})}),n.jsx("section",{className:"py-20 px-6 bg-slate-50",children:n.jsxs("div",{className:"max-w-5xl mx-auto",children:[n.jsxs("div",{className:"text-center mb-16",children:[n.jsx("h2",{className:"text-4xl font-bold text-slate-900 mb-4",children:"How It Works"}),n.jsx("p",{className:"text-xl text-slate-600 max-w-2xl mx-auto",children:"Getting started is simple. Follow these four steps to begin earning with our affiliate program."})]}),n.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-8",children:s.map((e,t)=>{const s={Users:LS,Share2:SS,BarChart3:$k,DollarSign:iS}[e.icon];return n.jsxs("div",{className:"text-center group",children:[n.jsxs("div",{className:"relative mb-6 flex flex-col items-center space-y-4    ",children:[n.jsx("div",{className:"w-16 h-16 bg-white border-4 border-slate-200 rounded-full flex items-center justify-center mx-auto group-hover:border-slate-300 transition-colors duration-300",children:n.jsx(s,{className:"h-8 w-8 text-slate-700"})}),n.jsx("div",{className:"w-8 h-8 bg-slate-900 text-white rounded-full flex items-center justify-center text-sm font-bold",children:e.step})]}),n.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-3",children:e.title}),n.jsx("p",{className:"text-slate-600 leading-relaxed",children:e.description})]},t)})})]})}),n.jsx("section",{className:"py-20 px-6 bg-white",children:n.jsxs("div",{className:"max-w-6xl mx-auto",children:[n.jsxs("div",{className:"text-center mb-16",children:[n.jsx("h2",{className:"text-4xl font-bold text-slate-900 mb-4",children:"What Our Affiliates Say"}),n.jsx("p",{className:"text-xl text-slate-600",children:"Hear from successful affiliates who are earning with Emergent"})]}),n.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:i.map((e,t)=>n.jsxs(WD,{className:"border-slate-200 hover:shadow-lg transition-all duration-300 bg-white",children:[n.jsxs(qD,{children:[n.jsx("div",{className:"flex items-center space-x-1 mb-3",children:[...Array(5)].map((e,t)=>n.jsx(IS,{className:"h-4 w-4 fill-yellow-400 text-yellow-400"},t))}),n.jsxs(ZD,{className:"text-slate-600 text-base italic leading-relaxed",children:['"',e.quote,'"']})]}),n.jsx(YD,{children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-10 h-10 bg-slate-200 rounded-full flex items-center justify-center",children:n.jsx("span",{className:"text-slate-700 font-semibold",children:e.name.split(" ").map(e=>e[0]).join("")})}),n.jsxs("div",{children:[n.jsx("div",{className:"font-semibold text-slate-900",children:e.name}),n.jsx("div",{className:"text-sm text-slate-600",children:e.role})]})]})})]},t))})]})}),n.jsx("section",{className:"py-20 px-6 bg-slate-900",children:n.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[n.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-white mb-6",children:"Ready to Get Started?"}),n.jsx("p",{className:"text-xl text-slate-300 mb-8 max-w-2xl mx-auto leading-relaxed",children:"Join our growing community of affiliates and help shape the future of AI-assisted development while earning substantial rewards."}),n.jsx("div",{className:"flex justify-center",children:n.jsx("a",{href:"https://partners.emergent.sh/",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center",children:n.jsxs(wb,{size:"lg",className:"bg-white text-slate-900 hover:bg-slate-100 px-8 py-3 text-lg transition-all duration-200 hover:shadow-lg",children:["Become an Affiliate",n.jsx(Ok,{className:"ml-2 h-5 w-5"})]})})}),n.jsxs("div",{id:"contact-section",className:"mt-12 pt-8 border-t border-slate-700",children:[n.jsxs("p",{className:"text-slate-400 text-sm mb-3",children:["Questions? Contact us at"," ",n.jsx("a",{href:"mailto:affiliates@emergent.sh",className:"text-white hover:underline",children:"affiliates@emergent.sh"})]}),n.jsxs("p",{className:"text-slate-400 text-sm",children:["By joining our affiliate program, you agree to our"," ",n.jsx("a",{href:"/affiliates/terms",target:"_blank",rel:"noopener noreferrer",className:"text-white hover:underline transition-colors",children:"Terms and Conditions"})]})]})]})}),n.jsx("footer",{className:"bg-slate-800 py-12 px-6",children:n.jsxs("div",{className:"max-w-6xl mx-auto",children:[n.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[n.jsx("div",{className:"flex items-center space-x-2 mb-6 md:mb-0",children:n.jsx("img",{src:"https://app.emergent.sh/borded-logo-dark.svg",alt:"Emergent",className:"h-8 w-auto"})}),n.jsxs("div",{className:"flex flex-wrap justify-center md:justify-end space-x-6 text-slate-400 text-sm",children:[n.jsx("a",{href:"https://app.emergent.sh/privacy-policy",className:"hover:text-white transition-colors",children:"Privacy Policy"}),n.jsx("a",{href:"/affiliates/terms",target:"_blank",rel:"noopener noreferrer",className:"hover:text-white transition-colors",children:"Terms of Service"}),n.jsx("a",{href:"https://help.emergent.sh",className:"hover:text-white transition-colors",children:"Support"}),n.jsx("a",{href:"https://app.emergent.sh",className:"hover:text-white transition-colors",children:"Platform"}),n.jsx("a",{href:"https://app.emergent.sh/home",className:"hover:text-white transition-colors",children:"Home"})]})]}),n.jsx("div",{className:"mt-8 pt-8 border-t border-slate-700 text-center text-slate-400 text-sm",children:" 2025 Emergent. All rights reserved."})]})})]})},lse=()=>n.jsxs("div",{className:"h-screen bg-gradient-to-br from-slate-50 via-white to-slate-100 overflow-scroll",children:[n.jsx("header",{className:"border-b bg-white/80 backdrop-blur-sm sticky top-0 z-50",children:n.jsx("div",{className:"max-w-7xl mx-auto px-6 py-4",children:n.jsx("div",{className:"flex items-center justify-center",children:n.jsx("div",{className:"flex items-center space-x-2",children:n.jsx("img",{src:"https://app.emergent.sh/borded-logo-dark.svg",alt:"Emergent",className:"h-8 w-auto"})})})})}),n.jsx("main",{className:"max-w-4xl mx-auto py-16 px-6",children:n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-8 md:p-12",children:[n.jsx("h1",{className:"text-4xl font-bold text-slate-900 mb-2",children:"Emergent.sh Affiliate Program Terms and Conditions"}),n.jsxs("div",{className:"text-slate-600 mb-8 space-y-1",children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Effective Date:"})," 8 August 2025"]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Last Updated:"})," 8 August 2025"]})]}),n.jsxs("div",{className:"prose prose-slate max-w-none text-background",children:[n.jsx("h2",{children:"1. Introduction and Acceptance"}),n.jsx("p",{children:'These Terms and Conditions ("Agreement") govern your participation in the Emergent.sh Affiliate Program ("Program") operated by Emergent Labs Incorporated ("Company," "we," "us," or "our"). By applying to or participating in the Program, you ("Affiliate," "you," or "your") agree to be bound by these terms.'}),n.jsx("h2",{children:"2. Program Overview"}),n.jsx("p",{children:"The Emergent.sh Affiliate Program allows approved affiliates to earn commissions by referring customers to our platform through unique tracking links. Participants earn revenue share from qualified customer subscriptions."}),n.jsx("h2",{children:"3. Eligibility and Application"}),n.jsx("h3",{children:"3.1 Eligibility Requirements"}),n.jsx("p",{children:"To participate in the Program, you must:"}),n.jsxs("ul",{children:[n.jsx("li",{children:"Be at least 18 years of age or the age of majority in your jurisdiction"}),n.jsx("li",{children:"Have a legitimate website, blog, social media presence, or other promotional platform"}),n.jsx("li",{children:"Comply with all applicable laws and regulations in your jurisdiction"}),n.jsx("li",{children:"Not be a competitor of Emergent.sh or promote competing services"}),n.jsx("li",{children:"Maintain professional standards in all promotional activities"})]}),n.jsx("h3",{children:"3.2 Application Process"}),n.jsxs("ul",{children:[n.jsx("li",{children:"Submit a complete application through our affiliate portal"}),n.jsx("li",{children:"Provide accurate information about yourself and your promotional methods"}),n.jsx("li",{children:"Await approval, which is at our sole discretion"}),n.jsx("li",{children:"Applications may be rejected without explanation"})]}),n.jsx("h3",{children:"3.3 Geographic Scope"}),n.jsx("p",{children:"The Program operates globally, subject to local laws and regulations."}),n.jsx("h2",{children:"4. Commission Structure and Payment Terms"}),n.jsx("h3",{children:"4.1 Commission Rate"}),n.jsx("p",{children:"Affiliates earn 20% of the gross revenue generated by referred customers for their first 6 months of subscription only. No commissions are earned after the initial 6-month period per customer."}),n.jsx("h3",{children:"4.2 Attribution Model"}),n.jsx("p",{children:"We use a first-touch attribution model. Only the first affiliate to refer a customer receives commission credit for that customer's payments."}),n.jsx("h3",{children:"4.3 Cookie Duration"}),n.jsx("p",{children:"Referral tracking cookies expire after 30 days from the initial click on your affiliate link."}),n.jsx("h3",{children:"4.4 Transaction Clearing"}),n.jsx("p",{children:"All transactions have a 30-day clearing period before becoming eligible for commission calculation to account for refunds, chargebacks, and cancellations."}),n.jsx("h3",{children:"4.5 Minimum Payout Threshold"}),n.jsx("p",{children:"The minimum payout threshold amount is $100 USD. Commissions below this threshold will accumulate until the minimum is reached."}),n.jsx("h3",{children:"4.6 Payment Method"}),n.jsx("p",{children:"All affiliate payments are processed exclusively through Wise (formerly TransferWise). You must maintain an active Wise account to receive payments. We do not offer alternative payment methods."}),n.jsx("h3",{children:"4.7 Payment Schedule"}),n.jsx("p",{children:"Payments are processed monthly for commissions that have cleared the 30-day period and meet the minimum threshold, typically by the 15th of each month."}),n.jsx("h3",{children:"4.8 Currency and Taxes"}),n.jsxs("ul",{children:[n.jsx("li",{children:"All payments are made in USD"}),n.jsx("li",{children:"You are solely responsible for all taxes, duties, and other government assessments"}),n.jsx("li",{children:"We may issue tax forms as required by applicable law"})]}),n.jsx("h2",{children:"5. Tracking and Reporting"}),n.jsx("h3",{children:"5.1 Affiliate Links"}),n.jsx("p",{children:"You will receive unique tracking links to promote Emergent.sh services. You must use only the links provided by us."}),n.jsx("h3",{children:"5.2 Reporting"}),n.jsx("p",{children:"Real-time reporting is available through your affiliate dashboard, including:"}),n.jsxs("ul",{children:[n.jsx("li",{children:"Click-through statistics"}),n.jsx("li",{children:"Conversion data"}),n.jsx("li",{children:"Commission earnings"}),n.jsx("li",{children:"Payment history"})]}),n.jsx("h2",{children:"6. Prohibited Activities and Marketing Restrictions"}),n.jsx("h3",{children:"6.1 Search Engine Restrictions"}),n.jsx("p",{children:"Referral traffic originating from the following search engines is prohibited and will be ignored:"}),n.jsxs("ul",{children:[n.jsx("li",{children:"Google (including Google Ads and organic search)"}),n.jsx("li",{children:"Bing (including Microsoft Advertising)"}),n.jsx("li",{children:"Baidu"}),n.jsx("li",{children:"Yandex"})]}),n.jsx("p",{children:"Any commissions generated from these sources will be voided."}),n.jsx("h3",{children:"6.2 Additional Prohibited Activities"}),n.jsx("p",{children:"You may not:"}),n.jsxs("ul",{children:[n.jsx("li",{children:"Bid on our trademarked terms or variations"}),n.jsx("li",{children:"Create misleading or false advertising about our services"}),n.jsx("li",{children:"Use spam, unsolicited emails, or other unethical marketing practices"}),n.jsx("li",{children:"Engage in cookie stuffing or other fraudulent tracking methods"}),n.jsx("li",{children:"Self-refer or create fake accounts for commission purposes"}),n.jsx("li",{children:"Promote through adult content, illegal activities, or inappropriate venues"}),n.jsx("li",{children:"Modify or cloak affiliate links"}),n.jsx("li",{children:"Use pop-ups, pop-unders, or other intrusive advertising methods"})]}),n.jsx("h3",{children:"6.3 Content Guidelines"}),n.jsx("p",{children:"All promotional content must:"}),n.jsxs("ul",{children:[n.jsx("li",{children:"Be truthful and not misleading"}),n.jsx("li",{children:"Comply with applicable advertising standards"}),n.jsx("li",{children:"Include appropriate disclosures about the affiliate relationship"}),n.jsx("li",{children:"Not make unauthorized claims about our products or services"})]}),n.jsx("h2",{children:"7. Intellectual Property"}),n.jsx("h3",{children:"7.1 License Grant"}),n.jsx("p",{children:"We grant you a limited, non-exclusive, revocable license to use our trademarks, logos, and marketing materials solely for Program participation."}),n.jsx("h3",{children:"7.2 Usage Restrictions"}),n.jsxs("ul",{children:[n.jsx("li",{children:"Use materials only as provided and approved by us"}),n.jsx("li",{children:"Do not modify our trademarks or logos"}),n.jsx("li",{children:"Discontinue use immediately upon termination"}),n.jsx("li",{children:"Do not register domains containing our trademarks"})]}),n.jsx("h2",{children:"8. Data and Privacy"}),n.jsx("h3",{children:"8.1 Data Collection"}),n.jsx("p",{children:"We collect and process data necessary for Program operation, including tracking information and payment details."}),n.jsx("h3",{children:"8.2 Privacy Compliance"}),n.jsx("p",{children:"You must comply with all applicable privacy laws and maintain appropriate privacy policies on your platforms."}),n.jsx("h3",{children:"8.3 Confidentiality"}),n.jsx("p",{children:"You agree to keep confidential any non-public information about our business, customers, or operations."}),n.jsx("h2",{children:"9. Quality Standards and Compliance"}),n.jsx("h3",{children:"9.1 Professional Standards"}),n.jsx("p",{children:"Maintain professional standards in all promotional activities and customer interactions."}),n.jsx("h3",{children:"9.2 Legal Compliance"}),n.jsx("p",{children:"Ensure all promotional activities comply with applicable laws, including:"}),n.jsxs("ul",{children:[n.jsx("li",{children:"Advertising and marketing regulations"}),n.jsx("li",{children:"Data protection laws"}),n.jsx("li",{children:"Consumer protection requirements"}),n.jsx("li",{children:"Tax obligations"})]}),n.jsx("h3",{children:"9.3 Disclosure Requirements"}),n.jsx("p",{children:"Clearly disclose your affiliate relationship in accordance with FTC guidelines and local regulations."}),n.jsx("h2",{children:"10. Program Modifications"}),n.jsx("h3",{children:"10.1 Right to Modify"}),n.jsx("p",{children:"We reserve the right to modify these terms, commission rates, or Program structure at any time with 30 days' notice."}),n.jsx("h3",{children:"10.2 Continued Participation"}),n.jsx("p",{children:"Continued participation after modifications constitutes acceptance of new terms."}),n.jsx("h2",{children:"11. Termination"}),n.jsx("h3",{children:"11.1 Termination Rights"}),n.jsx("p",{children:"Either party may terminate participation at any time with or without cause."}),n.jsx("h3",{children:"11.2 Effect of Termination"}),n.jsx("p",{children:"Upon termination:"}),n.jsxs("ul",{children:[n.jsx("li",{children:"Your right to earn new commissions ceases immediately"}),n.jsx("li",{children:"Outstanding commissions that have cleared the 30-day period will be paid"}),n.jsx("li",{children:"You must cease all promotional activities"}),n.jsx("li",{children:"Return or destroy any confidential materials"})]}),n.jsx("h3",{children:"11.3 Termination for Cause"}),n.jsx("p",{children:"We may immediately terminate for violations of these terms, fraudulent activity, or other misconduct."}),n.jsx("h2",{children:"12. Limitation of Liability"}),n.jsx("h3",{children:"12.1 Disclaimer"}),n.jsx("p",{children:'The Program is provided "as is" without warranties of any kind.'}),n.jsx("h3",{children:"12.2 Liability Limits"}),n.jsx("p",{children:"Our total liability to you shall not exceed the total commissions earned in the 12 months preceding the claim."}),n.jsx("h3",{children:"12.3 Excluded Damages"}),n.jsx("p",{children:"We are not liable for indirect, incidental, special, or consequential damages."}),n.jsx("h2",{children:"13. Indemnification"}),n.jsx("p",{children:"You agree to indemnify and hold us harmless from any claims, damages, or expenses arising from:"}),n.jsxs("ul",{children:[n.jsx("li",{children:"Your breach of these terms"}),n.jsx("li",{children:"Your promotional activities"}),n.jsx("li",{children:"Violations of applicable laws or third-party rights"})]}),n.jsx("h2",{children:"14. Dispute Resolution"}),n.jsx("h3",{children:"14.1 Governing Law"}),n.jsx("p",{children:"This Agreement is governed by the laws of the State of Delaware, without regard to conflict of law principles."}),n.jsx("h3",{children:"14.2 Dispute Process"}),n.jsx("p",{children:"Disputes should first be addressed through good faith negotiations. If unresolved, disputes will be subject to binding arbitration."}),n.jsx("h2",{children:"15. General Provisions"}),n.jsx("h3",{children:"15.1 Entire Agreement"}),n.jsx("p",{children:"This Agreement constitutes the entire agreement between the parties regarding the Program."}),n.jsx("h3",{children:"15.2 Severability"}),n.jsx("p",{children:"If any provision is found unenforceable, the remainder of the Agreement remains in effect."}),n.jsx("h3",{children:"15.3 Independent Contractors"}),n.jsx("p",{children:"The relationship between the parties is that of independent contractors, not employer-employee or partnership."}),n.jsx("h3",{children:"15.4 Assignment"}),n.jsx("p",{children:"You may not assign your rights or obligations without our written consent."}),n.jsx("h3",{children:"15.5 Force Majeure"}),n.jsx("p",{children:"Neither party is liable for delays or failures due to circumstances beyond reasonable control."}),n.jsx("h2",{children:"16. Contact Information"}),n.jsx("p",{children:"For questions about the Program or these terms, contact:"}),n.jsxs("p",{children:[n.jsx("strong",{children:"Emergent.sh Affiliate Support"}),n.jsx("br",{}),"Email: ",n.jsx("a",{href:"mailto:affiliates@emergent.sh",className:"text-slate-600 hover:text-slate-900",children:"affiliates@emergent.sh"}),n.jsx("br",{}),"Website: ",n.jsx("a",{href:"https://emergent.sh/support",className:"text-slate-600 hover:text-slate-900",target:"_blank",rel:"noopener noreferrer",children:"https://emergent.sh/support"})]}),n.jsx("h2",{children:"17. Acknowledgment"}),n.jsx("p",{children:"By participating in the Emergent.sh Affiliate Program, you acknowledge that you have read, understood, and agree to be bound by these Terms and Conditions."}),n.jsx("div",{className:"bg-slate-50 border border-slate-200 rounded-lg p-6 mt-8",children:n.jsxs("p",{className:"text-slate-700 text-sm mb-0",children:[n.jsx("strong",{children:"Note:"})," These terms and conditions are subject to change. Please review them regularly to stay informed of any updates."]})})]})]})}),n.jsx("footer",{className:"bg-slate-800 py-12 px-6",children:n.jsxs("div",{className:"max-w-6xl mx-auto",children:[n.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[n.jsx("div",{className:"flex items-center space-x-2 mb-6 md:mb-0",children:n.jsx("img",{src:"https://app.emergent.sh/borded-logo-dark.svg",alt:"Emergent",className:"h-8 w-auto"})}),n.jsxs("div",{className:"flex flex-wrap justify-center md:justify-end space-x-6 text-slate-400 text-sm",children:[n.jsx("a",{href:"https://app.emergent.sh/privacy-policy",className:"hover:text-white transition-colors",children:"Privacy Policy"}),n.jsx("a",{href:"/affiliates/terms",className:"hover:text-white transition-colors",children:"Terms of Service"}),n.jsx("a",{href:"https://help.emergent.sh",className:"hover:text-white transition-colors",children:"Support"}),n.jsx("a",{href:"https://app.emergent.sh",className:"hover:text-white transition-colors",children:"Platform"})]})]}),n.jsx("div",{className:"mt-8 pt-8 border-t border-slate-700 text-center text-slate-400 text-sm",children:" 2025 Emergent. All rights reserved."})]})})]}),cse=gv.fork.matrixCode,dse=()=>{const[e,t]=De.useState(!1),[s,i]=De.useState("");De.useEffect(()=>Xee.subscribe((e,n)=>{t(e),i(n||"")}),[]);return e?n.jsxs("div",{className:"fixed inset-0 z-[9999] bg-[#0E0E0F] flex items-center justify-center min-h-screen",children:[n.jsxs("div",{className:"absolute inset-0 grid w-full h-full grid-cols-3 pointer-events-none z-[1] opacity-[0.15] overflow-hidden",children:[n.jsx("img",{src:cse,alt:"Matrix Code",className:"object-cover w-full h-full"}),n.jsx("img",{src:cse,alt:"Matrix Code",className:"object-cover w-full h-full"}),n.jsx("img",{src:cse,alt:"Matrix Code",className:"object-cover w-full h-full"}),n.jsx("img",{src:cse,alt:"Matrix Code",className:"object-cover w-full h-full rotate-180"}),n.jsx("img",{src:cse,alt:"Matrix Code",className:"object-cover w-full h-full rotate-180"}),n.jsx("img",{src:cse,alt:"Matrix Code",className:"object-cover w-full h-full rotate-180"})]}),n.jsx("div",{className:"absolute inset-0 bg-[#80fff908] z-[2]"}),n.jsx(Pt.div,{variants:{hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.2}}},initial:"hidden",animate:"visible",className:"relative z-[15] flex items-center justify-center",children:n.jsx(Pt.div,{variants:{hidden:{opacity:0,y:0,scale:1},visible:{opacity:1,y:0,scale:1,transition:{duration:.2,ease:"easeOut"}}},children:n.jsx("div",{className:"p-3 border border-[#80fff908] rounded-[24px]",children:n.jsx("div",{className:"p-3 border border-[#80fff90d] rounded-[20px]",children:n.jsx("div",{className:"p-[9px] border border-[#80fff91a] rounded-[14px]",children:n.jsxs("div",{className:"flex items-center bg-[radial-gradient(50%_50%_at_50%_50%,rgba(128,255,249,0.15)_0%,rgba(128,255,249,0.08)_100%)] backdrop-blur-xl border border-gray-700/50 rounded-[12px] px-6 py-4 shadow-2xl",children:[n.jsx("div",{className:"w-6 h-6 object-contain",children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",children:n.jsx("path",{d:"M14.25 21V18.75H17.175L13.6031 15.1781L15.2063 13.575L18.75 17.1188V14.25H21V21H14.25ZM4.575 21L3 19.425L17.175 5.25H14.25V3H21V9.75H18.75V6.825L4.575 21ZM8.82188 10.3969L3 4.575L4.575 3L10.3969 8.82188L8.82188 10.3969Z",fill:"#80FFF9"})})}),n.jsx("p",{className:"ml-3 text-[#80FFF9] [text-shadow:0_0_30px_rgba(128,255,249,0.60)] max-md:text-[16px] md:text-[20px] font-medium leading-6 tracking-tight font-brockmann",children:s||"Switching workspace..."})]})})})})})})]}):null};function use(){const[e]=ze(),t=Me();return De.useEffect(()=>{const n=e.get("invitation_id"),s=e.get("email");if(!n||!s)return void t("/");const i={invitation_id:n,email:decodeURIComponent(s),timestamp:Date.now()};try{localStorage.setItem("pending_invitation",JSON.stringify(i)),t("/login")}catch(a){t("/")}},[e,t]),n.jsx("div",{className:"flex items-center justify-center h-screen bg-background",children:n.jsxs("div",{className:"flex flex-col items-center space-y-4 text-center",children:[n.jsx(Ik,{className:"mx-auto"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Processing invitation..."})]})})}function pse(e){if(!e||"string"!=typeof e)return{isValid:!1,error:"Email is required"};const t=e.trim();if(!t)return{isValid:!1,error:"Email cannot be empty"};if(t.length>254)return{isValid:!1,error:"Email address is too long"};if(!t.includes("@"))return{isValid:!1,error:"Email must contain @ symbol"};const n=t.split("@");if(2!==n.length)return{isValid:!1,error:"Email must contain exactly one @ symbol"};const[s,i]=n,a=function(e){if(!e)return{isValid:!1,error:"Email must have content before @ symbol"};if(e.length>64)return{isValid:!1,error:"Email address before @ is too long"};if(e.startsWith(".")||e.endsWith("."))return{isValid:!1,error:"Email cannot start or end with a period"};if(e.includes(".."))return{isValid:!1,error:"Email cannot contain consecutive periods"};return{isValid:!0}}(s);if(!a.isValid)return a;const r=function(e){if(!e)return{isValid:!1,error:"Email must have content after @ symbol"};if(e.length>253)return{isValid:!1,error:"Email domain is too long"};if(e.startsWith(".")||e.endsWith("."))return{isValid:!1,error:"Email domain cannot start or end with a period"};if(e.startsWith("-")||e.endsWith("-"))return{isValid:!1,error:"Email domain cannot start or end with a hyphen"};if(!e.includes("."))return{isValid:!1,error:"Email domain must contain a valid TLD (e.g., .com, .org)"};const t=e.split(".");for(const s of t){if(!s)return{isValid:!1,error:"Email domain cannot contain empty sections"};if(s.length>63)return{isValid:!1,error:"Email domain section is too long"};if(s.startsWith("-")||s.endsWith("-"))return{isValid:!1,error:"Email domain sections cannot start or end with hyphens"}}const n=t[t.length-1];if(n.length<2)return{isValid:!1,error:"Email domain TLD must be at least 2 characters"};if(!/^[a-zA-Z]+$/.test(n))return{isValid:!1,error:"Email domain TLD must contain only letters"};return{isValid:!0}}(i);if(!r.isValid)return r;return/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(t)?{isValid:!0}:{isValid:!1,error:"Email format is invalid"}}function mse(e){if(!e||"string"!=typeof e)return{validEmails:[],invalidEmails:[],totalValid:0,totalInvalid:0};const t=e.split(/[,;\n\r\s]+/).map(e=>e.trim()).filter(e=>e.length>0),n=[],s=[],i=[...new Set(t)];for(const a of i){const e=pse(a);e.isValid?n.push(a.toLowerCase()):s.push({email:a,error:e.error||"Invalid email"})}return{validEmails:n,invalidEmails:s,totalValid:n.length,totalInvalid:s.length}}const hse=({open:e,onOpenChange:t,organizationId:s,organizationName:i})=>{const{toast:a}=on(),{user:r}=Wg(),[o,l]=De.useState(""),[c,d]=De.useState("MEMBER"),[u,p]=De.useState(!1),[m,h]=De.useState(""),{newToast:x}=tD(),[f,{isLoading:g}]=uf(),v=()=>{t(!1),l(""),d("MEMBER"),p(!1),h("")},b=o.trim()?mse(o.trim()):{totalValid:0,totalInvalid:0},y=b.totalValid>0&&0===b.totalInvalid;return n.jsx(V,{open:e,onOpenChange:t,children:n.jsxs(W,{children:[n.jsx(O,{className:"fixed inset-0 z-[60] bg-black/50 backdrop-blur-sm"}),n.jsx(z,{className:"fixed left-0 right-0 bottom-0 md:left-[50%] md:top-[50%] overflow-clip md:translate-x-[-50%] md:translate-y-[-50%] w-full md:w-[600px] max-w-full h-[550px] md:max-h-[90vh] max-md:overflow-auto md:overflow-y-auto md:rounded-[20px] bg-[#18181A] border-t md:border border-[#1F1F1F] shadow-xl z-[60] focus-visible:outline-none max-md:p-5 md:p-7",children:n.jsxs(Pt.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},transition:{duration:.2,ease:"easeOut"},className:"relative",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h2",{className:"text-white font-medium text-[22px] leading-8 font-['Brockmann']",children:"Add new members"}),n.jsx("button",{title:"Close",onClick:v,disabled:g,className:fb("flex items-center justify-center w-9 h-9 text-white text-opacity-60 transition-all duration-200 rounded-full bg-white/10 hover:bg-white/20",g&&"opacity-50 cursor-not-allowed"),children:n.jsx(RS,{className:"w-6 h-6 text-white opacity-50"})})]}),n.jsx("p",{className:"mt-2 text-white font-medium text-[16px] leading-6 text-opacity-30 font-['Inter']",children:"Type or paste in emails below, separated by commas"}),n.jsxs("form",{onSubmit:async e=>{var t,n,i;if(e.preventDefault(),!o.trim())return void a({title:"Email Required",description:"Please enter a valid email address.",variant:"destructive"});if(!s)return void a({title:"Error",description:"Organization ID is required.",variant:"destructive"});const l=mse(o.trim());if(l.totalInvalid>0){const e=function(e){if(!e||0===e.length)return"";if(1===e.length)return`${e[0].email}: ${e[0].error}`;const t={};return e.forEach(({email:e,error:n})=>{t[n]||(t[n]=[]),t[n].push(e)}),Object.entries(t).map(([e,t])=>1===t.length?`${t[0]}: ${e}`:`${e}: ${t.join(", ")}`).join("\n")}(l.invalidEmails);return h(e),void a({title:"Invalid Email Address",description:e,variant:"destructive"})}if(0!==l.totalValid){h("");try{const e=(null==(t=null==r?void 0:r.user_metadata)?void 0:t.name)||(null==(n=null==r?void 0:r.user_metadata)?void 0:n.full_name)||(null==(i=null==r?void 0:r.email)?void 0:i.split("@")[0])||"Unknown",a=(await f({org_id:s,invites:l.validEmails.map(t=>({email:t,role:c,inviter_name:e}))}).unwrap()).results[0];a.success?(x.success("Invitation Sent"),v()):x.error((null==a?void 0:a.error)||"Invitation Failed")}catch(d){x.error(null==d?void 0:d.error)}}else a({title:"No Valid Emails",description:"Please enter at least one valid email address.",variant:"destructive"})},className:"mt-10",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"member-email",className:"text-[#E6E6E6] font-medium text-[16px] leading-6 font-['Brockmann']",children:"Email address"}),n.jsx("div",{className:"relative mt-3",children:n.jsx("textarea",{id:"member-email",value:o,onChange:e=>l(e.target.value),placeholder:"example@example.com, example2@example.com (max 5 members allowed)",className:"w-full h-32 bg-[#1D1D1F] border border-[#292929] rounded-[10px] p-4 placeholder-[#ffffff4d] leading-6 focus:outline-none focus:border-[#555] resize-none",disabled:g,autoFocus:!0,required:!0})})]}),n.jsxs("div",{className:"max-md:mt-6 md:mt-8",children:[n.jsx("label",{className:"text-[#E6E6E6] font-medium text-[16px] leading-[24px] font-['Brockmann']",children:"Role"}),n.jsxs("div",{className:"relative mt-3",children:[n.jsxs("button",{type:"button",onClick:()=>p(!u),disabled:g,className:"w-full bg-[#1D1D1F] border border-[#333] rounded-lg p-4 text-white text-left flex justify-between items-center focus:outline-none focus:border-[#555] transition-colors",children:[n.jsx("span",{children:"ADMIN"===c?"Admin":"Member"}),n.jsx(Vk,{className:"w-4 h-4 transition-transform duration-200 "+(u?"rotate-180":"")})]}),u&&n.jsx("div",{className:"absolute top-full left-0 mt-1 bg border bg-[#18181A] border-[#262626] rounded-[10px] shadow-lg z-10 w-full p-2",children:n.jsxs("div",{className:"",children:[n.jsxs("div",{className:`items-center cursor-pointer p-2 rounded-[8px] \n                            ${"ADMIN"===c?"bg-[#5CD2E5] bg-opacity-5 hover:bg-opacity-10":"hover:bg-opacity-5 hover:bg-white"}\n                          `,onClick:()=>{d("ADMIN"),p(!1)},children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("p",{className:`font-[Brockmann] text-[14px] not-italic leading-[20px]\n                              ${"ADMIN"===c?"font-semibold text-[#5CD2E5]":"font-medium text-[#E6E6E6]"}\n                            `,children:"Admin"}),"ADMIN"!==c&&n.jsx("div",{className:"w-4 h-4 rounded-full border-2 border-[#45474D]"}),"ADMIN"===c&&n.jsx("div",{className:"w-4 h-4",children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:n.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 0.5C3.85775 0.5 0.5 3.85775 0.5 8C0.5 12.1423 3.85775 15.5 8 15.5C12.1423 15.5 15.5 12.1423 15.5 8C15.5 3.85775 12.1423 0.5 8 0.5ZM8 5C7.20435 5 6.44129 5.31607 5.87868 5.87868C5.31607 6.44129 5 7.20435 5 8C5 8.79565 5.31607 9.55871 5.87868 10.1213C6.44129 10.6839 7.20435 11 8 11C8.79565 11 9.55871 10.6839 10.1213 10.1213C10.6839 9.55871 11 8.79565 11 8C11 7.20435 10.6839 6.44129 10.1213 5.87868C9.55871 5.31607 8.79565 5 8 5Z",fill:"#5CD2E5"})})})]}),n.jsx("div",{className:"mt-1 font-[Inter] font-medium text-[12px] not-italic leading-[16px]\n                            "+("ADMIN"===c?"text-opacity-80 text-[#5CD2E5]":"text-[#FFF] text-opacity-50 "),children:"Manage team settings, members and billings"})]}),n.jsxs("div",{className:`mt-2 items-center cursor-pointer p-2 rounded-[8px] \n                            ${"MEMBER"===c?"bg-[#5CD2E5] bg-opacity-5 hover:bg-opacity-10":"hover:bg-opacity-5 hover:bg-white"}\n                          `,onClick:()=>{d("MEMBER"),p(!1)},children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("p",{className:`font-[Brockmann] text-[14px] not-italic leading-[20px]\n                              ${"MEMBER"===c?"font-semibold text-[#5CD2E5]":"font-medium text-[#E6E6E6]"}\n                            `,children:"Member"}),"MEMBER"!==c&&n.jsx("div",{className:"w-4 h-4 rounded-full border-2 border-[#45474D]"}),"MEMBER"===c&&n.jsx("div",{className:"w-4 h-4",children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:n.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 0.5C3.85775 0.5 0.5 3.85775 0.5 8C0.5 12.1423 3.85775 15.5 8 15.5C12.1423 15.5 15.5 12.1423 15.5 8C15.5 3.85775 12.1423 0.5 8 0.5ZM8 5C7.20435 5 6.44129 5.31607 5.87868 5.87868C5.31607 6.44129 5 7.20435 5 8C5 8.79565 5.31607 9.55871 5.87868 10.1213C6.44129 10.6839 7.20435 11 8 11C8.79565 11 9.55871 10.6839 10.1213 10.1213C10.6839 9.55871 11 8.79565 11 8C11 7.20435 10.6839 6.44129 10.1213 5.87868C9.55871 5.31607 8.79565 5 8 5Z",fill:"#5CD2E5"})})})]}),n.jsx("div",{className:"mt-1 font-[Inter] font-medium text-[12px] not-italic leading-[16px]\n                            "+("MEMBER"===c?"text-opacity-80 text-[#5CD2E5]":"text-[#FFF] text-opacity-50 "),children:"Can create tasks and see what others are building"})]})]})})]})]}),n.jsx("div",{className:"flex justify-end mt-8",children:n.jsx("button",{type:"submit",disabled:!y||g,className:fb("bg-white text-black px-6 py-3 max-md:w-full max-md:justify-center rounded-lg font-semibold flex items-center space-x-2 transition-colors",y&&!g?"hover:bg-gray-100":"opacity-50 cursor-not-allowed"),children:g?n.jsxs(n.Fragment,{children:[n.jsx(hS,{className:"w-4 h-4 animate-spin"}),n.jsx("span",{children:"Sending..."})]}):n.jsxs(n.Fragment,{children:[n.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[n.jsx("path",{opacity:"0.5",d:"M22.1518 9.13063C22.134 8.85133 21.8245 8.7023 21.5884 8.85255L16.3328 12.197C15.0325 13.025 14.1836 13.5655 13.2507 13.7807C12.4279 13.9705 11.5727 13.9705 10.7498 13.7807C9.81692 13.5655 8.96808 13.025 7.66776 12.197L2.4122 8.85255C2.1761 8.7023 1.86654 8.85132 1.84878 9.13061C1.80018 9.89445 1.80023 10.7967 1.8003 11.8818L1.8003 12.041C1.80029 13.3049 1.80029 14.3101 1.86655 15.1211C1.9344 15.9515 2.07633 16.6597 2.4067 17.3081C2.94011 18.3549 3.79123 19.2061 4.8381 19.7395C5.48649 20.0698 6.19462 20.2118 7.02509 20.2796C7.83605 20.3459 8.8412 20.3459 10.1051 20.3459H13.8954C15.1593 20.3459 16.1645 20.3459 16.9755 20.2796C17.806 20.2118 18.5141 20.0698 19.1625 19.7395C20.2094 19.2061 21.0605 18.3549 21.5939 17.3081C21.9243 16.6597 22.0662 15.9515 22.134 15.1211C22.2003 14.3101 22.2003 13.305 22.2003 12.0411L22.2003 11.8818C22.2004 10.7967 22.2004 9.89446 22.1518 9.13063Z",fill:"black"}),n.jsx("path",{d:"M13.895 3.65625H10.1047C8.84081 3.65624 7.83561 3.65624 7.02463 3.7225C6.19417 3.79035 5.48603 3.93228 4.83764 4.26265C3.92769 4.72629 3.16563 5.42999 2.63156 6.29362C2.50529 6.49781 2.5777 6.76123 2.78023 6.89012L8.51502 10.5395C10.0168 11.4952 10.5828 11.8404 11.1662 11.9749C11.7147 12.1014 12.2849 12.1014 12.8335 11.9749C13.4168 11.8404 13.9828 11.4952 15.4846 10.5395L21.2194 6.8901C21.422 6.76122 21.4944 6.49779 21.3681 6.29361C20.834 5.42998 20.072 4.72629 19.162 4.26265C18.5136 3.93228 17.8055 3.79035 16.975 3.7225C16.1641 3.65624 15.1589 3.65624 13.895 3.65625Z",fill:"black"})]}),n.jsx("span",{children:"Send Invite"})]})})})]})]})})]})})};function xse(e={}){const{skipInitialFetch:t=!1,organizationId:n}=e,{toast:s}=on(),[i,a]=De.useState(!t),r=n?{organization_id:n}:void 0,{data:o,error:l,isLoading:c,refetch:d}=jf(r,{skip:!i}),{data:u,error:p,isLoading:m,refetch:h}=kf(r,{skip:!i}),[x]=Cf(),[f]=Sf(),[g,{isLoading:v}]=Nf(),[b,{isLoading:y}]=Ff(),[w,{isLoading:j}]=_f(),[C,{isLoading:N}]=Ef(),F=De.useCallback(async e=>{var t;try{const t=await g(e).unwrap();return s({title:"Configuration Updated",description:"Your Universal Key configuration has been updated successfully."}),t}catch(n){const e=(null==(t=null==n?void 0:n.data)?void 0:t.message)||(null==n?void 0:n.message)||"Failed to update configuration";throw s({title:"Error",description:e,variant:"destructive"}),n}},[g,s]),_=De.useCallback(async e=>{var t;try{const t=await b(e).unwrap();return s({title:e.activate?"Key Activated":"Key Deactivated",description:`Your Universal Key has been ${e.activate?"activated":"deactivated"} successfully.`}),t}catch(n){const e=(null==(t=null==n?void 0:n.data)?void 0:t.message)||(null==n?void 0:n.message)||"Failed to toggle key";throw s({title:"Error",description:e,variant:"destructive"}),n}},[b,s]),k=De.useCallback(async()=>{var e;try{const e=await w(r).unwrap();return s({title:"Key Regenerated",description:"Your Universal Key has been regenerated successfully. Please update your applications with the new key."}),e}catch(t){const n=(null==(e=null==t?void 0:t.data)?void 0:e.message)||(null==t?void 0:t.message)||"Failed to regenerate key";throw s({title:"Error",description:n,variant:"destructive"}),t}},[w,r,s]),S=De.useCallback(async e=>{var t;try{const t=await C(e).unwrap();return e.ecu>0&&s({title:"Credits Transferred",description:`Successfully transferred ${e.ecu.toFixed(2)} ECU to your API key. New balance: ${t.new_budget.toFixed(2)} ECU`}),t}catch(n){const e=(null==(t=null==n?void 0:n.data)?void 0:t.message)||(null==n?void 0:n.message)||"Failed to increase budget";throw s({title:"Error",description:e,variant:"destructive"}),n}},[C,s]),E=De.useCallback(()=>{a(!0)},[]),I=De.useCallback(async()=>{try{return await x(r).unwrap()}catch(e){throw e}},[x,r]),A=De.useCallback(async()=>{try{return await f(r).unwrap()}catch(e){throw e}},[f,r]),T=De.useCallback(async()=>i?await d().unwrap():(a(!0),await I()),[i,I,d]),D=De.useCallback(async()=>i?await h().unwrap():(a(!0),await A()),[i,A,h]);return{emergentKey:o,userBudget:u,isLoadingEmergentKey:c,isLoadingUserBudget:m,isUpdatingConfig:v,isTogglingKey:y,isRegeneratingKey:j,isIncreasingBudget:N,emergentKeyError:l,userBudgetError:p,updateKeyConfig:F,toggleKey:_,regenerateKey:k,increaseBudget:S,refreshEmergentKey:I,refreshUserBudget:A,refetchEmergentKey:T,refetchUserBudget:D,startFetching:E}}const fse=({size:e=20,width:t,height:s,fill:i="#E6E6E6",className:a,onClick:r,style:o})=>{const l=t||e,c=s||e;return n.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:l,height:c,viewBox:"0 0 20 20",fill:"none",className:a,onClick:r,style:o,children:[n.jsx("mask",{id:"mask0_2058_51111",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"20",height:"20",children:n.jsx("rect",{width:"20",height:"20",fill:"#D9D9D9"})}),n.jsx("g",{mask:"url(#mask0_2058_51111)",children:n.jsx("path",{d:"M2.5 16.75V3.25H10V6.25H17.5V16.75H2.5ZM4 15.25H5.5V13.75H4V15.25ZM4 12.25H5.5V10.75H4V12.25ZM4 9.25H5.5V7.75H4V9.25ZM4 6.25H5.5V4.75H4V6.25ZM7 15.25H8.5V13.75H7V15.25ZM7 12.25H8.5V10.75H7V12.25ZM7 9.25H8.5V7.75H7V9.25ZM7 6.25H8.5V4.75H7V6.25ZM10 15.25H16V7.75H10V9.25H11.5V10.75H10V12.25H11.5V13.75H10V15.25ZM13 10.75V9.25H14.5V10.75H13ZM13 13.75V12.25H14.5V13.75H13Z",fill:i})})]})},gse=({size:e=20,width:t,height:s,fill:i="#E6E6E6",className:a,onClick:r,style:o})=>{const l=t||e,c=s||e;return n.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:l,height:c,viewBox:"0 0 20 20",fill:"none",className:a,onClick:r,style:o,children:[n.jsx("mask",{id:"mask0_2058_51117",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"20",height:"20",children:n.jsx("rect",{width:"20",height:"20",fill:"#D9D9D9"})}),n.jsx("g",{mask:"url(#mask0_2058_51117)",children:n.jsx("path",{d:"M3.33331 16.6654V14.332C3.33331 13.8598 3.45484 13.4258 3.6979 13.0299C3.94095 12.6341 4.26387 12.332 4.66665 12.1237C5.52776 11.6931 6.40276 11.3702 7.29165 11.1549C8.18054 10.9397 9.08331 10.832 9.99998 10.832H10.2916C10.1389 11.082 10.0243 11.3494 9.9479 11.6341C9.87151 11.9188 9.83331 12.207 9.83331 12.4987C9.08331 12.5126 8.33679 12.6133 7.59373 12.8008C6.85067 12.9883 6.12498 13.2626 5.41665 13.6237C5.29165 13.6931 5.19095 13.7904 5.11456 13.9154C5.03817 14.0404 4.99998 14.1793 4.99998 14.332V14.9987H10.8958L12.5625 16.6654H3.33331ZM9.99998 9.9987C9.08331 9.9987 8.29859 9.67231 7.64581 9.01953C6.99304 8.36675 6.66665 7.58203 6.66665 6.66536C6.66665 5.7487 6.99304 4.96398 7.64581 4.3112C8.29859 3.65842 9.08331 3.33203 9.99998 3.33203C10.9166 3.33203 11.7014 3.65842 12.3541 4.3112C13.0069 4.96398 13.3333 5.7487 13.3333 6.66536C13.3333 7.58203 13.0069 8.36675 12.3541 9.01953C11.7014 9.67231 10.9166 9.9987 9.99998 9.9987ZM9.99998 8.33203C10.4583 8.33203 10.8507 8.16884 11.1771 7.84245C11.5035 7.51606 11.6666 7.1237 11.6666 6.66536C11.6666 6.20703 11.5035 5.81467 11.1771 5.48828C10.8507 5.16189 10.4583 4.9987 9.99998 4.9987C9.54165 4.9987 9.14929 5.16189 8.8229 5.48828C8.49651 5.81467 8.33331 6.20703 8.33331 6.66536C8.33331 7.1237 8.49651 7.51606 8.8229 7.84245C9.14929 8.16884 9.54165 8.33203 9.99998 8.33203ZM14.9166 16.6654L12 13.7487C11.8194 13.5681 11.691 13.3737 11.6146 13.1654C11.5382 12.957 11.5 12.7487 11.5 12.5404C11.5 12.0959 11.6597 11.7001 11.9791 11.3529C12.2986 11.0056 12.7083 10.832 13.2083 10.832C13.5972 10.832 13.9028 10.9223 14.125 11.1029C14.3472 11.2834 14.6111 11.5265 14.9166 11.832C15.1944 11.5543 15.4479 11.3181 15.6771 11.1237C15.9062 10.9293 16.2222 10.832 16.625 10.832C17.1389 10.832 17.5521 11.0091 17.8646 11.3633C18.1771 11.7174 18.3333 12.1168 18.3333 12.5612C18.3333 12.7695 18.2916 12.9779 18.2083 13.1862C18.125 13.3945 18 13.582 17.8333 13.7487L14.9166 16.6654Z",fill:i})})]})},vse=gv.universal.claude,bse=gv.universal.openai,yse=gv.universal.gemini,wse=({open:e,onOpenChange:t,onClose:s,onGetStarted:i,initialTab:a})=>{var r,o,l,c,d,u;const{user:p}=Wg(),{currentWorkspace:m}=Kg(),{toast:h}=on(),x=BE(),f=UE(),[g,v]=De.useState(a||("personal"===m?"account":"general")),[b,y]=De.useState(""),[w,j]=De.useState({}),[C,N]=De.useState(!1),[F,_]=De.useState(!1),[k,S]=De.useState("all"),[E,I]=De.useState({}),[A,T]=De.useState({}),[D,M]=De.useState({open:!1,member:null}),[L,P]=De.useState({open:!1,isAdmin:!1}),[R,B]=De.useState(!1),[H,$]=De.useState(""),U=De.useRef(null),{newToast:q}=tD(),[G,Z]=De.useState(!1),{emergentKey:Y,userBudget:K,isLoadingEmergentKey:J,isLoadingUserBudget:Q,isUpdatingConfig:X,isTogglingKey:ee,isRegeneratingKey:te,isIncreasingBudget:ne,updateKeyConfig:se,toggleKey:ie,regenerateKey:ae,increaseBudget:re,refetchEmergentKey:oe,refetchUserBudget:le,startFetching:ce}=xse({skipInitialFetch:!0}),{credits:de,personalCredits:ue,orgCredits:pe,refreshCredits:me,tier:he,personalTier:xe,getUpgradeTierName:fe}=Xg();eI();const{emergentKey:ge,userBudget:ve,isLoadingEmergentKey:be,isLoadingUserBudget:ye,isUpdatingConfig:we,isTogglingKey:je,isRegeneratingKey:Ce,isIncreasingBudget:Ne,updateKeyConfig:Fe,toggleKey:_e,regenerateKey:ke,increaseBudget:Se,refetchEmergentKey:Ee,refetchUserBudget:Ie,startFetching:Ae}=xse({skipInitialFetch:!0,organizationId:m&&"personal"!==m?m:void 0}),[Te,Me]=De.useState("main"),[Le,Pe]=De.useState(10),[Re,Oe]=De.useState(!1),[ze,Be]=De.useState(5),[He,$e]=De.useState(null),[Ue,Ve]=De.useState(!1),[We,qe]=De.useState([{id:"claude",name:"Claude",description:"Anthropic's advanced model",icon:vse,enabled:!0},{id:"openai",name:"GPT",description:"OpenAI's advanced model",icon:bse,enabled:!0},{id:"gemini",name:"Gemini",description:"Google's advanced model",icon:yse,enabled:!1}]),[Ge,Ze]=De.useState("main"),[Ye,Ke]=De.useState(10),[Je,Qe]=De.useState(!1),[Xe,et]=De.useState(5),[tt,nt]=De.useState(null),[st,it]=De.useState(!1),[at,rt]=De.useState([{id:"claude",name:"Claude",description:"Anthropic's advanced model",icon:vse,enabled:!0},{id:"openai",name:"GPT",description:"OpenAI's advanced model",icon:bse,enabled:!0},{id:"gemini",name:"Gemini",description:"Google's advanced model",icon:yse,enabled:!1}]),{setTabs:ot,setActiveTab:lt}=Oee(),[ct,dt]=De.useState([]),[ut,pt]=De.useState([]),[mt,ht]=De.useState("main"),[xt,ft]=De.useState(!1),[gt,{isLoading:vt,error:bt}]=Mf(),[yt,wt]=De.useState([]),[jt,Ct]=De.useState([]),[Nt,Ft]=De.useState("main"),[_t,kt]=De.useState(!1),[St,{isLoading:Et,error:It}]=Mf(),[At,Tt]=De.useState([]),[Dt,Mt]=De.useState(!1),[Lt,{isLoading:Rt,error:Ot}]=Bf(),[zt,Bt]=De.useState([]),[Ht,$t]=De.useState(!1),[Ut,{isLoading:Vt,error:Wt}]=Bf(),[qt,Gt]=De.useState("key-details"),{data:Zt,refetch:Yt}=cf(m||"",{skip:!m||"personal"===m}),{data:Kt}=Bx({organization_id:"personal"!==m?m:null}),[Jt,{isLoading:Qt}]=df(),[Xt,{isLoading:en}]=pf(),[tn,{isLoading:nn}]=hf(),[sn,{isLoading:an}]=xf(),[rn,{isLoading:ln}]=ff(),cn=()=>{if(!(null==p?void 0:p.id)||!(null==Zt?void 0:Zt.members))return!1;const e=Zt.members.find(e=>e.user_id===p.id);return"ADMIN"===(null==e?void 0:e.role)},dn=()=>{P({open:!1,isAdmin:!1})},un=e=>{let t="Please contact support to delete your workspace";"billing"==e&&(t="Please contact support to manage your subscription"),q.info(t)};De.useEffect(()=>{const e=e=>{const t=e.target.closest('[data-remove-button="true"]');U.current&&!U.current.contains(e.target)&&_(!1);if(!Object.keys(E).some(t=>{const n=document.getElementById(`member-role-dropdown-${t}`);return n&&n.contains(e.target)})&&I({}),!t){!Object.keys(A).some(t=>{const n=document.getElementById(`member-action-dropdown-${t}`);return n&&n.contains(e.target)})&&T({})}};return(F||Object.keys(E).length>0||Object.keys(A).length>0)&&document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[F,E,A]),De.useEffect(()=>{e&&"universal-key"===g&&(ce(),Promise.all([oe(),le()]))},[e,g,ce]),De.useEffect(()=>{e&&(ce(),Promise.all([oe(),le()]))},[e,ce,oe,le]),De.useEffect(()=>{var e,t;(null==(t=null==(e=null==Y?void 0:Y.key_config)?void 0:e.llm)?void 0:t.allowed_providers)&&qe(e=>e.map(e=>({...e,enabled:Y.key_config.llm.allowed_providers.includes(e.id)})))},[Y]),De.useEffect(()=>{(null==Y?void 0:Y.key_config)&&(Oe(Y.key_config.auto_topup),Be(Y.key_config.auto_topup_amount),$e(null))},[Y]),De.useEffect(()=>{e&&"shared-key"===g&&(Ae(),Promise.all([Ee(),Ie()]))},[e,g,Ae]),De.useEffect(()=>{var e,t;(null==(t=null==(e=null==ge?void 0:ge.key_config)?void 0:e.llm)?void 0:t.allowed_providers)&&rt(e=>e.map(e=>({...e,enabled:ge.key_config.llm.allowed_providers.includes(e.id)})))},[ge]),De.useEffect(()=>{(null==ge?void 0:ge.key_config)&&(Qe(ge.key_config.auto_topup),et(ge.key_config.auto_topup_amount),nt(null))},[ge]),De.useEffect(()=>{e&&"manage-agents"===g&&(pn(),hn())},[e,g]),De.useEffect(()=>{if(bt){q7(bt)&&ft(!0)}},[bt]),De.useEffect(()=>{e&&"shared-agents"===g&&(mn(),xn())},[e,g]),De.useEffect(()=>{if(It){q7(It)&&kt(!0)}},[It]),De.useEffect(()=>{},[Ot]),De.useEffect(()=>{},[Wt]);const pn=async()=>{try{ft(!1);const e=Z7({is_main_agent:!0},"personal"),t=Z7({is_main_agent:!1},"personal"),[n,s]=await Promise.all([gt(e),gt(t)]),i=n.error,a=s.error;if(G7(i,a))return ft(!0),dt([]),void pt([]);n.data&&dt(n.data.user_prompts||[]),s.data&&pt(s.data.user_prompts||[])}catch(e){h({title:"Error",description:"Failed to load agents. Please try again.",variant:"destructive"})}},mn=async()=>{try{kt(!1);const e=Z7({is_main_agent:!0},m),t=Z7({is_main_agent:!1},m),[n,s]=await Promise.all([St(e),St(t)]),i=n.error,a=s.error;if(G7(i,a))return kt(!0),wt([]),void Ct([]);n.data&&wt(n.data.user_prompts||[]),s.data&&Ct(s.data.user_prompts||[])}catch(e){h({title:"Error",description:"Failed to load shared agents. Please try again.",variant:"destructive"})}},hn=async()=>{try{Mt(!1);const e={},t=await Lt(e);t.data&&Tt(t.data||[])}catch(e){h({title:"Error",description:"Failed to load MCP servers. Please try again.",variant:"destructive"})}},xn=async()=>{try{$t(!1);const e={organization_id:m},t=await Ut(e);t.data&&Bt(t.data||[])}catch(e){h({title:"Error",description:"Failed to load shared MCP servers. Please try again.",variant:"destructive"})}},fn=e=>{let t="Custom Agent";return"base_main_prompt"==e?t="React + FastAPI Agent":"base_main_nextjs_prompt"==e?t="NextJS Agent":"base_main_expo_prompt"==e?t="Mobile Agent":"base_python_prompt"==e&&(t="Python Agent"),t},gn=De.useCallback(()=>(null==p?void 0:p.user_metadata.avatar_url)?n.jsxs("div",{className:"relative w-5 h-5",children:[n.jsx("img",{src:p.user_metadata.avatar_url,alt:"User avatar",className:"object-cover w-5 h-5 rounded-full",onError:e=>{const t=e.target;t.style.display="none";const n=t.nextElementSibling;n&&(n.style.display="flex")}}),n.jsx("div",{style:{display:"none"},children:n.jsx(Zee,{className:"w-5 h-5 obj"})})]}):n.jsx(Zee,{className:"w-5 h-5 obj"}),[null==p?void 0:p.user_metadata.avatar_url,null==(r=null==p?void 0:p.user_metadata)?void 0:r.full_name]),vn=De.useMemo(()=>{var e;return[{id:"account",label:(null==(e=null==p?void 0:p.user_metadata)?void 0:e.full_name)||"Account",icon:gn,section:"account"},{id:"universal-key",label:"Universal Key",icon:E9,section:"account"},{id:"manage-agents",label:"Manage Agents",icon:$7,section:"account"},{id:"general",label:(null==Zt?void 0:Zt.name)||"General",icon:fse,section:"workspace"},{id:"members",label:"Members",icon:gse,section:"workspace"},{id:"shared-key",label:"Shared Key",icon:E9,section:"workspace"},{id:"shared-agents",label:"Shared Agents",icon:$7,section:"workspace"},...cn()?[{id:"billing",label:"Usage & Billing",icon:sD,section:"workspace"}]:[]]},[null==(o=null==p?void 0:p.user_metadata)?void 0:o.full_name,null==Zt?void 0:Zt.name]),bn=(null==Zt?void 0:Zt.members)||[],yn=((null==Zt?void 0:Zt.pending_invitations)||[]).map((e,t)=>({user_id:e.id||`pending-${e.email}-${t}`,email:e.email||"",role:e.role||"MEMBER",status:"PENDING"})),wn=[...bn,...yn],jn=wn.filter(e=>{const t=(e.email||"").toLowerCase().includes(b.toLowerCase());let n=!0;return"admin"===k?n="ADMIN"===e.role&&"PENDING"!==e.status:"creators"===k?n="MEMBER"===e.role&&"PENDING"!==e.status:"pending"===k&&(n="PENDING"===e.status),t&&n}),Cn=bn.filter(e=>"ACTIVE"===e.status).length,Nn=((null==Zt?void 0:Zt.pending_invitations)||[]).length;return n.jsxs(V,{open:e,onOpenChange:t,children:[n.jsxs(W,{children:[n.jsx(O,{className:"fixed inset-0 z-50 bg-black/50 backdrop-blur-sm"}),n.jsx(z,{className:"fixed left-0 right-0 bottom-0 md:left-[50%] md:top-[50%] overflow-clip md:translate-x-[-50%] md:translate-y-[-50%] w-full md:w-[1200px] max-w-full max-md:h-[610px] md:h-[700px] md:max-h-[85%] md:max-w-[65%] max-md:overflow-auto md:rounded-2xl bg-[#18181A] border-t md:border border-[#242424] shadow-xl z-50 focus-visible:outline-none",onInteractOutside:e=>e.preventDefault(),children:n.jsxs("div",{className:"relative flex h-full",children:[n.jsx("button",{type:"button",onClick:()=>{s()},className:"absolute z-10 flex items-center justify-center w-8 h-8 text-white transition-all duration-200 rounded-full backdrop-blur-lg top-6 right-6 bg-white/5 hover:bg-white/10 "+(G?"hidden md:flex":"flex"),"aria-label":"Close modal",children:n.jsx(RS,{className:"w-5 h-5 text-white opacity-50"})}),n.jsxs("div",{className:"w-full max-md:pb-[60px] md:w-[248px] border-b md:border-b-0 md:border-r border-[#242424] max-md:px-4 md:px-2 md:pt-8 "+(G?"hidden md:block":"block"),children:[n.jsx("div",{className:"max-md:block md:hidden border-b border-[#242424] pt-7 pb-5 text-center",children:n.jsx("p",{className:"text-white text-center font-medium text-[18px] leading-[24px] font-['Brockmann']",children:"Settings"})}),n.jsxs("div",{className:"",children:[n.jsx("p",{className:"max-md:mt-6 pl-3 text-[#797B80] text-[14px] leading-4 antialiased",children:"Personal settings"}),n.jsx("div",{className:"space-y-2 md:space-y-1 max-md:mt-4 md:mt-[10px]",children:vn.filter(e=>"account"===e.section).map(e=>n.jsxs("button",{type:"button",className:"max-md:bg-white max-md:bg-opacity-[0.02] max-md:p-4 flex items-center px-3 min-h-[40px] py-2 w-full border-[#1F1F1F] rounded-[10px] text-left transition-colors "+(g===e.id?"bg-white/5 text-[#E6E6E6] opacity-100":"text-[#CCCCCC] hover:bg-white/5 hover:text-[#E6E6E6] hover:opacity-100"),onClick:()=>{Z(!0),v(e.id)},children:[n.jsx(e.icon,{className:"object-contain w-5 h-5"}),n.jsx("p",{className:"ml-2 text-[#E8E8E6] font-[Brockmann] text-[15px] font-medium leading-5",children:e.label})]},e.id))})]}),"personal"!=m&&n.jsxs("div",{className:"max-md:mt-6 md:mt-8",children:[n.jsx("p",{className:"pl-3 text-[#797B80] text-[14px] leading-4 antialiased",children:"Workspace settings"}),n.jsx("div",{className:"max-md:space-y-2 md:space-y-1 max-md:mt-4 md:mt-[10px]",children:vn.filter(e=>"workspace"===e.section).map(e=>n.jsxs("button",{type:"button",className:"max-md:bg-white max-md:bg-opacity-[0.02] max-md:p-4 flex items-center px-3 py-2 w-full border-[#1F1F1F] rounded-[10px] text-left transition-colors "+(g===e.id?"bg-white/5 text-[#E6E6E6] opacity-100":"text-[#CCCCCC] hover:bg-white/5 hover:text-[#E6E6E6] hover:opacity-100"),onClick:()=>{Z(!0),v(e.id)},children:[n.jsx(e.icon,{className:"object-contain w-5 h-5"}),n.jsx("p",{className:"ml-2 text-[#E8E8E6] font-[Brockmann] text-[15px] font-medium leading-5",children:e.label})]},e.id))})]})]}),n.jsxs("div",{className:"relative flex-1 "+(G?"block":"hidden md:block"),children:[n.jsx("div",{className:"absolute top-6 left-6 w-8 h-8 bg-white bg-opacity-5 rounded-[28px] flex items-center justify-center "+(G?"block md:hidden":"hidden"),onClick:()=>Z(!1),children:n.jsx("svg",{width:"20",height:"20",viewBox:"0 0 22 22",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.20911 11.7761C3.78186 11.3488 3.78186 10.6561 4.20911 10.2288L9.13216 5.30584C9.55939 4.87862 10.2521 4.87862 10.6793 5.30584C11.1066 5.73307 11.1066 6.42574 10.6793 6.85297L7.6239 9.90845L17.0168 9.90845C17.6211 9.90845 18.1109 10.3983 18.1109 11.0025C18.1109 11.6066 17.6211 12.0965 17.0168 12.0965L7.6239 12.0965L10.6793 15.1519C11.1066 15.5792 11.1066 16.2718 10.6793 16.6991C10.2521 17.1263 9.55939 17.1263 9.13216 16.6991L4.20911 11.7761Z",fill:"#C4C4CC"})})}),"account"===g&&n.jsxs("div",{className:"flex flex-col h-full",children:[n.jsx("div",{className:"flex max-md:justify-center md:justify-between items-center py-6 pl-6 border-b border-[#242424]",children:n.jsx("h2",{className:"text-white font-[Brockmann] text-[18px] font-medium leading-8",children:"Account settings"})}),n.jsx(j7,{personalTier:xe,onOpenUpgradeTier:()=>{x.open({planType:"personal"}),s()},getUpgradeTierName:()=>fe("personal")})]}),"universal-key"===g&&n.jsxs("div",{className:"flex flex-col h-full",children:[n.jsx("div",{className:"max-md:flex md:hidden max-md:justify-center md:justify-between items-center py-6 pl-6 border-b border-[#242424]",children:n.jsx("h2",{className:"text-white font-[Brockmann] text-[18px] font-medium leading-8",children:"Universal Key"})}),n.jsx(B7,{universalKeyTab:qt,setUniversalKeyTab:Gt,emergentKey:Y,userBudget:K,isLoadingEmergentKey:J,isLoadingUserBudget:Q,isCopied:Ue,setIsCopied:Ve,isTogglingKey:ee,handleToggleKey:async()=>{try{const e={activate:"active"!==(null==Y?void 0:Y.status)};await ie(e)}catch(e){}},isRegeneratingKey:te,handleRegenerateKey:async()=>{try{await ae()}catch(e){}},setUniversalKeyView:Me,universalKeyView:Te,autoRecharge:Re,autoRechargeAmount:ze,pendingAutoRechargeAmount:He,setPendingAutoRechargeAmount:$e,credits:ue,handleAutoRechargeToggle:async e=>{if(e)Me("confirmAutoRecharge");else try{Oe(e),$e(null);const t={ecu:0,auto_topup:e,auto_topup_ecu:ze};await re(t)}catch(t){Oe(!e)}},isUpdatingConfig:X,providers:We,handleProviderToggle:async e=>{if("active"===(null==Y?void 0:Y.status)){qe(t=>t.map(t=>t.id===e?{...t,enabled:!t.enabled}:t));try{const t={llm_providers:We.map(t=>t.id===e?{...t,enabled:!t.enabled}:t).filter(e=>e.enabled).map(e=>e.id),auto_topup:Re,auto_topup_ecu:ze};await se(t)}catch(t){qe(t=>t.map(t=>t.id===e?{...t,enabled:!t.enabled}:t))}}},handleConfirmAutoRecharge:async()=>{try{const e=null!==He?He:ze;Oe(!0),null!==He&&Be(He);const t={ecu:0,auto_topup:!0,auto_topup_ecu:e};await re(t),$e(null),Me("main")}catch(e){Oe(!1),null!==He&&Be(ze)}},transferAmount:Le,setTransferAmount:Pe,handleTransferCredits:async()=>{try{const e={ecu:Le,auto_topup:Re,auto_topup_ecu:ze};await re(e),await me(),Me("main")}catch(e){}},isIncreasingBudget:ne,handleAutoRechargeAmountChange:e=>{$e(e)},handleSaveAutoRechargeAmount:async()=>{if(null!==He)try{Be(He);const e={ecu:0,auto_topup:Re,auto_topup_ecu:He};await re(e),$e(null)}catch(e){$e(null)}}})]}),"manage-agents"===g&&n.jsxs("div",{className:"flex flex-col h-full",children:[n.jsx("div",{className:"max-md:flex md:hidden max-md:justify-center md:justify-between items-center py-6 pl-6 border-b border-[#242424]",children:n.jsx("h2",{className:"text-white font-[Brockmann] text-[18px] font-medium leading-8",children:"Manage Agents"})}),n.jsx(W7,{agentsTab:mt,setAgentsTab:ht,isLoadingAgents:vt,agentsError:bt,agentsForbidden:xt,agents:ct,subAgents:ut,mcpServers:At,isLoadingMCPServers:Rt,mcpServersError:Ot,handleCreateAgent:()=>{if("main"===mt){const e=`create-agent-${Date.now()}-${Math.random().toString(36).substring(2,11)}`;ot(t=>[...t,{id:e,title:"Create New Agent",path:"/create-agent",level:"user",organization_id:void 0,state:{tabId:e,fromManageAgentsModal:!0,workspaceContext:{isOrganizationWorkspace:!1,currentOrganizationId:void 0}}}]),lt(e)}else{const e=`create-subagent-${Date.now()}-${Math.random().toString(36).substring(2,11)}`;ot(t=>[...t,{id:e,title:"Create New Subagent",path:"/create-subagent",level:"user",organization_id:void 0,state:{tabId:e,fromManageAgentsModal:!0,workspaceContext:{isOrganizationWorkspace:!1,currentOrganizationId:void 0}}}]),lt(e)}s()},handleEditAgent:e=>{const t=`edit-${e.is_main_agent?"agent":"subagent"}-${Date.now()}-${Math.random().toString(36).substring(2,11)}`,n=e.is_main_agent?"/create-agent":"/create-subagent",i=`Edit ${e.prompt_name}`;ot(s=>[...s,{id:t,title:i,path:n,level:"user",organization_id:void 0,state:{tabId:t,editMode:!0,agentData:e,fromManageAgentsModal:!0,workspaceContext:{isOrganizationWorkspace:!1,currentOrganizationId:void 0}}}]),lt(t),s()},getAgentDescription:fn,fetchAgents:pn,fetchMCPServers:hn,currentWorkspace:m,orgDetails:Zt,showToast:q,onClose:s,location:"personal"})]}),"general"===g&&n.jsxs("div",{className:"flex flex-col h-full",children:[n.jsx("div",{className:"flex max-md:justify-center md:justify-between items-center py-6 pl-6 border-b border-[#242424]",children:n.jsx("h2",{className:"text-white font-[Brockmann] text-[18px] font-medium leading-8",children:"Workspace Settings"})}),n.jsx(C7,{orgDetails:Zt,isEditingOrgName:R,setIsEditingOrgName:B,editedOrgName:H,setEditedOrgName:$,isCurrentUserAdmin:cn,handleLeaveOrDeleteOrganization:()=>{if(!m||"personal"===m)return;const e=cn();P({open:!0,isAdmin:e})},isLeavingOrg:en,showContactSupportToast:()=>un("general"),currentWorkspace:m,onOrgNameUpdate:async e=>{var t;if(m&&"personal"!==m)try{await rn({org_id:m,name:e}).unwrap(),q.success("Organization name updated successfully"),Yt()}catch(n){const e=(null==n?void 0:n.message)||(null==(t=null==n?void 0:n.data)?void 0:t.detail)||"Failed to update organization name";q.error(e)}}})]}),"members"===g&&n.jsxs("div",{className:"flex flex-col h-full",children:[n.jsx("div",{className:"flex max-md:justify-center md:justify-between items-center py-6 pl-6 border-b border-[#242424]",children:n.jsx("h2",{className:"text-white font-[Brockmann] text-[18px] font-medium leading-8",children:"Members"})}),n.jsx(F7,{activeMembersCount:Cn,pendingMembersCount:Nn,searchTerm:b,setSearchTerm:y,showDropdown:F,setShowDropdown:_,dropdownRef:U,selectedFilter:k,getDropdownDisplayText:()=>{switch(k){case"admin":return"Admin";case"creators":return"Members";case"pending":return"Pending";default:return"All members"}},handleFilterSelect:e=>{S(e),_(!1)},setIsAddMemberModalOpen:N,filteredMembers:jn,roleChanges:w,memberRoleDropdowns:E,toggleMemberRoleDropdown:e=>{I(t=>({...t,[e]:!t[e]}))},handleMemberRoleChange:(e,t)=>{((e,t)=>{j(n=>({...n,[e]:t}))})(e,t),(async(e,t)=>{const n=t||w[e];if(!m||!n)return;if(!cn())return void q.error("You must be an admin to change user roles");const s={org_id:m,user_id:e,new_role:n};try{await Jt(s).unwrap(),q.success("Role Updated"),j(t=>{const n={...t};return delete n[e],n}),Yt()}catch(i){j(t=>{const n={...t};return delete n[e],n}),Yt(),h({title:"Error",description:(null==i?void 0:i.error)||"Failed to change user role. Please try again.",variant:"destructive"})}})(e,t),I(t=>({...t,[e]:!t[e]}))},memberActionDropdowns:A,toggleMemberActionDropdown:e=>{T(t=>({...t,[e]:!t[e]}))},handleRemoveMember:(e,t)=>{T(t=>({...t,[e]:!1}));const n=wn.find(t=>t.user_id===e);M({open:!0,member:n})},currentUser:p,isCurrentUserAdmin:cn()})]}),"shared-key"===g&&n.jsxs("div",{className:"flex flex-col h-full",children:[n.jsx("div",{className:"max-md:flex md:hidden max-md:justify-center md:justify-between items-center py-6 pl-6 border-b border-[#242424]",children:n.jsx("h2",{className:"text-white font-[Brockmann] text-[18px] font-medium leading-8",children:"Shared Key"})}),n.jsx(B7,{universalKeyTab:qt,setUniversalKeyTab:Gt,emergentKey:ge,userBudget:ve,isLoadingEmergentKey:be,isLoadingUserBudget:ye,isCopied:st,setIsCopied:it,isTogglingKey:je,handleToggleKey:async()=>{try{const e={activate:"active"!==(null==ge?void 0:ge.status),organization_id:m};await _e(e)}catch(e){}},isRegeneratingKey:Ce,handleRegenerateKey:async()=>{try{const e={organization_id:m};await ke(e)}catch(e){}},setUniversalKeyView:Ze,universalKeyView:Ge,autoRecharge:Je,autoRechargeAmount:Xe,pendingAutoRechargeAmount:tt,setPendingAutoRechargeAmount:nt,credits:pe,handleAutoRechargeToggle:async e=>{if(e)Ze("confirmAutoRecharge");else try{Qe(e),nt(null);const t={ecu:0,auto_topup:e,auto_topup_ecu:Xe,organization_id:m};await Se(t)}catch(t){Qe(!e)}},isUpdatingConfig:we,providers:at,handleProviderToggle:async e=>{if("active"===(null==ge?void 0:ge.status)){rt(t=>t.map(t=>t.id===e?{...t,enabled:!t.enabled}:t));try{const t={llm_providers:at.map(t=>t.id===e?{...t,enabled:!t.enabled}:t).filter(e=>e.enabled).map(e=>e.id),auto_topup:Je,auto_topup_ecu:Xe,organization_id:m};await Fe(t)}catch(t){rt(t=>t.map(t=>t.id===e?{...t,enabled:!t.enabled}:t))}}},handleConfirmAutoRecharge:async()=>{try{const e=null!==tt?tt:Xe;Qe(!0),null!==tt&&et(tt);const t={ecu:0,auto_topup:!0,auto_topup_ecu:e,organization_id:m};await Se(t),nt(null),Ze("main")}catch(e){Qe(!1),null!==tt&&et(Xe)}},transferAmount:Ye,setTransferAmount:Ke,handleTransferCredits:async()=>{try{const e={ecu:Ye,auto_topup:Je,auto_topup_ecu:Xe,organization_id:m};await Se(e),await me(),Ze("main")}catch(e){}},isIncreasingBudget:Ne,handleAutoRechargeAmountChange:e=>{nt(e)},handleSaveAutoRechargeAmount:async()=>{if(null!==tt)try{et(tt);const e={ecu:0,auto_topup:Je,auto_topup_ecu:tt,organization_id:m};await Se(e),nt(null)}catch(e){nt(null)}}})]}),"shared-agents"===g&&n.jsxs("div",{className:"flex flex-col h-full",children:[n.jsx("div",{className:"max-md:flex md:hidden max-md:justify-center md:justify-between items-center py-6 pl-6 border-b border-[#242424]",children:n.jsx("h2",{className:"text-white font-[Brockmann] text-[18px] font-medium leading-8",children:"Shared Agents"})}),n.jsx(W7,{agentsTab:Nt,setAgentsTab:Ft,isLoadingAgents:Et,agentsError:It,agentsForbidden:_t,agents:yt,subAgents:jt,mcpServers:zt,isLoadingMCPServers:Vt,mcpServersError:Wt,handleCreateAgent:()=>{if("main"===Nt){const e=`create-agent-${Date.now()}-${Math.random().toString(36).substring(2,11)}`;ot(t=>[...t,{id:e,title:"Create New Shared Agent",path:"/create-agent",level:K7(m)?"organization":"user",organization_id:Y7(m),state:{tabId:e,fromManageAgentsModal:!0,workspaceContext:{isOrganizationWorkspace:K7(m),currentOrganizationId:Y7(m)}}}]),lt(e)}else{const e=`create-subagent-${Date.now()}-${Math.random().toString(36).substring(2,11)}`;ot(t=>[...t,{id:e,title:"Create New Shared Subagent",path:"/create-subagent",level:K7(m)?"organization":"user",organization_id:Y7(m),state:{tabId:e,fromManageAgentsModal:!0,workspaceContext:{isOrganizationWorkspace:K7(m),currentOrganizationId:Y7(m)}}}]),lt(e)}s()},handleEditAgent:e=>{const t=`edit-${e.is_main_agent?"agent":"subagent"}-${Date.now()}-${Math.random().toString(36).substring(2,11)}`,n=e.is_main_agent?"/create-agent":"/create-subagent",i=`Edit ${e.prompt_name}`;ot(s=>[...s,{id:t,title:i,path:n,level:K7(m)?"organization":"user",organization_id:Y7(m),state:{tabId:t,editMode:!0,agentData:e,fromManageAgentsModal:!0,workspaceContext:{isOrganizationWorkspace:"personal"!==m,currentOrganizationId:"personal"!==m?m:void 0}}}]),lt(t),s()},getAgentDescription:fn,fetchAgents:mn,fetchMCPServers:xn,currentWorkspace:m,orgDetails:Zt,showToast:q,onClose:s,location:"shared"})]}),cn()&&"billing"===g&&n.jsxs("div",{className:"flex flex-col h-full",children:[n.jsx("div",{className:"flex max-md:justify-center md:justify-between items-center py-6 pl-6 border-b border-[#242424]",children:n.jsx("h2",{className:"text-white font-[Brockmann] text-[18px] font-medium leading-8",children:"Usage & Billing"})}),n.jsx(_7,{tier:"personal"!==m?he:xe,credits:de,orgDetails:Zt,showContactSupportToast:()=>un("billing"),showAdminToast:()=>{q.info("Only admins can manage subscription for this workspace. Please contact an admin.")},onAddCredit:()=>{f.open(),s()},onClose:s,jobs:Kt||[],onReopenAccountSettings:()=>t(!0)})]})]})]})})]}),n.jsx(hse,{open:C,onOpenChange:N,organizationId:m||void 0,organizationName:null==Zt?void 0:Zt.name}),n.jsx(V,{open:D.open,onOpenChange:e=>M({open:e,member:D.member}),children:n.jsxs(W,{children:[n.jsx(O,{className:"fixed inset-0 z-[70] bg-black/80 backdrop-blur-sm"}),n.jsx(z,{className:"fixed left-[50%] top-[50%] translate-x-[-50%] translate-y-[-50%] w-full max-w-[600px] max-h-[90vh] rounded-2xl bg-[#0F0F10] border border-[#1F1F1F] shadow-xl z-[70] focus-visible:outline-none p-7",children:n.jsxs(Pt.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},transition:{duration:.2,ease:"easeOut"},className:"relative",children:[n.jsx("button",{type:"button",onClick:()=>M({open:!1,member:null}),className:"absolute top-0 right-0 z-10 flex items-center justify-center w-8 h-8 text-white transition-all duration-200 rounded-full backdrop-blur-lg bg-white/10 hover:bg-white/20","aria-label":"Close modal",children:n.jsx(RS,{className:"w-5 h-5 text-white opacity-50"})}),n.jsxs("div",{className:"",children:[n.jsxs("h2",{className:"text-[22px] font-medium text-white text-opacity-60 leading-8",children:["Remove "," ",n.jsxs("span",{className:"text-white",children:['"',(null==(c=null==(l=D.member)?void 0:l.email)?void 0:c.split("@")[0])||"User",'"']})," "," from",n.jsx("br",{}),(null==Zt?void 0:Zt.name)||"Emergent space"]}),n.jsxs("p",{className:"mt-4 text-[#999] text-[15px] mb-8",children:["Are you sure you want to remove "," "," ",(null==(u=null==(d=D.member)?void 0:d.email)?void 0:u.split("@")[0])||"this user","?"]}),n.jsxs("div",{className:"flex justify-end",children:[n.jsx("button",{type:"button",onClick:()=>{M({open:!1,member:null})},className:"px-5 py-2 bg-white bg-opacity-[0.04] rounded-[10px] text-[#FFF] hover:bg-opacity-20 font-medium leading-5 -tracking-[0.2]",children:"Nevermind"}),n.jsx("button",{type:"button",onClick:async()=>{var e,t;const n=D.member;if(n&&m&&"personal"!==m)try{"PENDING"==(null==(e=null==D?void 0:D.member)?void 0:e.status)?await tn({organization_id:m,invitation_id:n.user_id}).unwrap():await sn({org_id:m,user_id:n.user_id}).unwrap(),M({open:!1,member:null}),q.success(`${n.email.split("@")[0]} has been removed from the team`),Yt()}catch(s){const e=(null==s?void 0:s.message)||(null==(t=null==s?void 0:s.data)?void 0:t.detail)||"Failed to remove member from team";h({title:"Error",description:e,variant:"destructive"})}},className:"ml-5 px-5 py-2 bg-[#FF8080] hover:bg-opacity-50 text-[#18181A] rounded-[10px] font-semibold leading-5 -tracking-[0.2]",children:"Confirm"})]})]})]})})]})}),n.jsx(V,{open:L.open,onOpenChange:e=>P({open:e,isAdmin:L.isAdmin}),children:n.jsxs(W,{children:[n.jsx(O,{className:"fixed inset-0 z-[70] bg-black/80 backdrop-blur-sm"}),n.jsx(z,{className:"fixed left-[50%] top-[50%] translate-x-[-50%] translate-y-[-50%] w-[400px] max-h-[90%] rounded-2xl bg-[#0F0F10] border border-[#1F1F1F] shadow-xl z-[70] focus-visible:outline-none p-6",children:n.jsxs(Pt.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},transition:{duration:.2,ease:"easeOut"},className:"relative",children:[n.jsx("button",{type:"button",onClick:dn,className:"absolute top-0 right-0 p-2 text-[#737780] hover:text-white transition-colors","aria-label":"Close modal",children:n.jsx(RS,{className:"w-5 h-5"})}),n.jsxs("div",{className:"pr-8",children:[n.jsx("h2",{className:"mb-2 text-xl font-medium text-white",children:L.isAdmin?"Delete":"Leave"}),n.jsx("h2",{className:"mb-4 text-xl font-medium text-white",children:(null==Zt?void 0:Zt.name)?`${Zt.name}'s Space`:"Workspace"}),n.jsx("p",{className:"text-[#999] text-[15px] mb-8",children:L.isAdmin?`Are you sure you want to permanently delete ${(null==Zt?void 0:Zt.name)?`${Zt.name}'s Space`:"this workspace"}? This action cannot be undone and will remove all data.`:`Are you sure you want to leave ${(null==Zt?void 0:Zt.name)?`${Zt.name}'s Space`:"this workspace"}? You will lose access to all team resources.`}),n.jsxs("div",{className:"flex justify-end space-x-3",children:[n.jsx("button",{type:"button",onClick:dn,className:"px-6 py-2 text-[#E6E6E6] hover:text-white transition-colors font-medium",children:"Nevermind"}),n.jsx("button",{type:"button",onClick:async()=>{if(!m||"personal"===m)return;const e=L.isAdmin,t=e?"delete":"leave",n=(null==Zt?void 0:Zt.name)+"'s Space"||"this organization";try{await Xt({organization_id:m}).unwrap(),h({title:e?"Organization Deleted":"Left Organization",description:`Successfully ${e?"deleted":"left"} ${n}`,variant:"default"}),P({open:!1,isAdmin:!1}),s(),window.location.href="/"}catch(i){h({title:"Error",description:(null==i?void 0:i.error)||`Failed to ${t} organization. Please try again.`,variant:"destructive"})}},disabled:en,className:"px-6 py-2 bg-[#FF6B6B] hover:bg-[#FF5252] text-white rounded-lg font-medium transition-colors disabled:opacity-50",children:en?"Processing...":L.isAdmin?"Delete":"Leave"})]})]})]})})]})})]})},jse=({size:e=32,width:t,height:s,className:i="",onClick:a,style:r,fillStart:o="white",fillEnd:l="white"})=>{const c=t||e,d=s||e,u=`paint0_linear_shared_credit_${Math.random().toString(36).substring(2,9)}`;return n.jsxs("svg",{width:c,height:d,viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:i,onClick:a,style:r,children:[n.jsx("path",{d:"M9.43555 6.64062C14.6464 6.64069 18.871 10.8654 18.8711 16.0762C18.8711 21.2871 14.6464 25.5117 9.43555 25.5117C4.22459 25.5117 2.88078e-05 21.2871 0 16.0762C0.000142331 10.8653 4.22466 6.64062 9.43555 6.64062ZM22.5635 6.64062C27.7742 6.64069 31.9987 10.8655 31.999 16.0762C31.999 21.2871 27.7744 25.5117 22.5635 25.5117C20.869 25.5116 19.2798 25.0625 17.9053 24.2803C19.4673 22.6676 20.5725 20.6121 21.0137 18.3184C21.4315 18.8267 21.7788 19.438 22.0996 20.208C22.4774 21.1439 22.7393 20.8493 23.0449 20.0986C23.8638 18.2043 24.7797 17.3248 26.7109 16.5039C26.9135 16.4073 27.2474 16.2792 27.2812 16.0869V16.0654C27.2467 15.8749 26.9155 15.7439 26.7109 15.6475V15.6504C24.7801 14.8295 23.8638 13.9498 23.0449 12.0547C22.7343 11.2854 22.4727 11.0276 22.0996 11.9463C21.7784 12.7172 21.4317 13.3285 21.0137 13.8369C20.5722 11.5425 19.4663 9.48587 17.9033 7.87305C19.2782 7.09022 20.8683 6.64078 22.5635 6.64062ZM9.91699 12.0547C9.6063 11.285 9.3448 11.0275 8.97168 11.9463C8.15494 13.9066 7.17929 14.8414 5.25977 15.6504C5.06708 15.7394 4.72036 15.894 4.71777 16.0771C4.72009 16.2604 5.06474 16.4148 5.25977 16.5039C7.17698 17.3105 8.155 18.2477 8.97168 20.208C9.34947 21.1439 9.61141 20.8493 9.91699 20.0986C10.736 18.2041 11.6515 17.3248 13.583 16.5039C13.7856 16.4073 14.1195 16.2792 14.1533 16.0869V16.0654C14.1192 15.8747 13.7877 15.744 13.583 15.6475V15.6504C11.6516 14.8294 10.736 13.9501 9.91699 12.0547Z",fill:`url(#${u})`}),n.jsx("defs",{children:n.jsxs("linearGradient",{id:u,x1:"9.43502",y1:"6.64063",x2:"9.43502",y2:"25.5115",gradientUnits:"userSpaceOnUse",children:[n.jsx("stop",{stopColor:o}),n.jsx("stop",{offset:"1",stopColor:l,stopOpacity:"0.6"})]})})]})},Cse=({size:e=32,width:t,height:s,className:i="",onClick:a,style:r,fillStart:o="white",fillEnd:l="white",maskFill:c="#D9D9D9"})=>{const d=t||e,u=s||e,p=`mask0_central_billing_${Math.random().toString(36).substring(2,9)}`,m=`paint0_linear_central_billing_${Math.random().toString(36).substring(2,9)}`;return n.jsxs("svg",{width:d,height:u,viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:i,onClick:a,style:r,children:[n.jsx("mask",{id:p,style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:"4",y:"4",width:"24",height:"24",children:n.jsx("rect",{x:"4",y:"4",width:"24",height:"24",fill:c})}),n.jsx("g",{mask:`url(#${p})`,children:n.jsx("path",{d:"M20.6 28C18.94 28 17.525 27.415 16.355 26.245C15.185 25.075 14.6 23.66 14.6 22C14.6 20.34 15.185 18.925 16.355 17.755C17.525 16.585 18.94 16 20.6 16C22.26 16 23.675 16.585 24.845 17.755C26.015 18.925 26.6 20.34 26.6 22C26.6 23.66 26.015 25.075 24.845 26.245C23.675 27.415 22.26 28 20.6 28ZM14.6 28C11.82 27.3 9.525 25.705 7.715 23.215C5.905 20.725 5 17.96 5 14.92V7.6L14.6 4L24.2 7.6V14.41C23.68 14.15 23.095 13.95 22.445 13.81C21.795 13.67 21.18 13.6 20.6 13.6C18.28 13.6 16.3 14.42 14.66 16.06C13.02 17.7 12.2 19.68 12.2 22C12.2 23.24 12.435 24.36 12.905 25.36C13.375 26.36 13.97 27.23 14.69 27.97C14.67 27.97 14.655 27.975 14.645 27.985C14.635 27.995 14.62 28 14.6 28ZM20.6 22C21.1 22 21.525 21.825 21.875 21.475C22.225 21.125 22.4 20.7 22.4 20.2C22.4 19.7 22.225 19.275 21.875 18.925C21.525 18.575 21.1 18.4 20.6 18.4C20.1 18.4 19.675 18.575 19.325 18.925C18.975 19.275 18.8 19.7 18.8 20.2C18.8 20.7 18.975 21.125 19.325 21.475C19.675 21.825 20.1 22 20.6 22ZM20.6 25.6C21.22 25.6 21.79 25.455 22.31 25.165C22.83 24.875 23.25 24.49 23.57 24.01C23.13 23.75 22.66 23.55 22.16 23.41C21.66 23.27 21.14 23.2 20.6 23.2C20.06 23.2 19.54 23.27 19.04 23.41C18.54 23.55 18.07 23.75 17.63 24.01C17.95 24.49 18.37 24.875 18.89 25.165C19.41 25.455 19.98 25.6 20.6 25.6Z",fill:`url(#${m})`})}),n.jsx("defs",{children:n.jsxs("linearGradient",{id:m,x1:"15.8",y1:"4",x2:"15.8",y2:"28",gradientUnits:"userSpaceOnUse",children:[n.jsx("stop",{stopColor:o}),n.jsx("stop",{offset:"1",stopColor:l,stopOpacity:"0.6"})]})})]})},Nse=gv.common.stars,Fse=[{icon:n.jsx(iD,{size:32}),title:"Seamless team collaboration"},{icon:n.jsx(jse,{size:32}),title:"Shared team pool credits"},{icon:n.jsx(Cse,{size:32}),title:"Central billing and administration"}];function _se({isOpen:e,onOpenChange:t,organizationId:s,organizationName:i,paymentId:a,initialStatus:r,mode:o="welcome",onCloseMenu:l,backendEnabled:c=!1}){var d;const{toast:u}=on(),{refreshCredits:p}=Xg(),{user:m}=Wg(),[h,x]=De.useState(o),[f,g]=De.useState(""),[v,b]=De.useState("MEMBER"),[y,w]=De.useState(""),[j,{isLoading:C}]=uf(),{data:N}=Fx(void 0,{skip:!s}),F=s?null==(d=null==N?void 0:N.organizations)?void 0:d.find(e=>e.organization_id===s):null,{data:_,error:k,isLoading:S}=Rx({paymentId:a||"",organizationId:s||void 0},{skip:c||!e||!a||"success"!==r||"welcome"!==h,pollingInterval:c||"success"!==r||"welcome"!==h?0:3e3}),E="welcome"!==h||c?"success":r&&"success"!==r?"error":S?"loading":k?"error":_?"success"===_.status?"success":"pending"===_.status?"loading":"error":"loading",I=i||(null==F?void 0:F.organization_name)||"Team";De.useEffect(()=>{x(o)},[o]),De.useEffect(()=>{e&&l&&l()},[e,l]),De.useEffect(()=>{if(!c&&"welcome"===h&&"success"===E&&"success"===(null==_?void 0:_.status)){const e=setTimeout(async()=>{try{await p()}catch(e){}},1e3);return()=>clearTimeout(e)}},[c,h,E,null==_?void 0:_.status,p]);const A=async()=>{var e,n,i;if(!s)return;const a=f.trim()?mse(f.trim()):{totalValid:0,totalInvalid:0,validEmails:[],invalidEmails:[]};if(a.totalInvalid>0){return void w("Invalid email address. Please enter a valid email address.")}if(0===a.totalValid){return void w("Invalid email address. Please enter a valid email address.")}w("");try{const r=(null==(e=null==m?void 0:m.user_metadata)?void 0:e.name)||(null==(n=null==m?void 0:m.user_metadata)?void 0:n.full_name)||(null==(i=null==m?void 0:m.email)?void 0:i.split("@")[0])||"Unknown";await j({org_id:s,invites:a.validEmails.map(e=>({email:e,role:v,inviter_name:r}))}).unwrap();u({title:"Invitations Sent",description:`Successfully sent ${a.totalValid} invitation${a.totalValid>1?"s":""} to ${I}`,variant:"default"}),t(!1),g(""),b("MEMBER"),w("")}catch(r){u({title:"Error",description:(null==r?void 0:r.error)||"Failed to send invitations. Please try again.",variant:"destructive"})}};return e?Re.createPortal(n.jsx(Rt,{children:n.jsxs("div",{className:"fixed inset-0 z-[999]",children:[n.jsx(Pt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"absolute inset-0 bg-[#0C0C0D]",onClick:()=>t(!1)}),n.jsxs("div",{className:"relative w-full h-full overflow-y-auto",children:[n.jsx("div",{className:"absolute inset-0 z-0 pointer-events-none",children:n.jsx(EM,{color:"rgb(115, 119, 128)",squareSize:4,gridGap:6,flickerChance:.3,maxOpacity:.1,className:"w-full h-full bg-[#0E0E0F]"})}),n.jsxs(Pt.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},transition:{duration:.2,ease:"easeOut"},className:"min-h-full w-full bg-[#18181A] md:max-w-none max-w-[90%] mx-auto",style:{display:"grid",gridTemplateColumns:"1fr auto 1fr",gridTemplateRows:"1fr auto 1fr"},onClick:e=>e.stopPropagation(),children:[n.jsx("div",{className:"bg-[#242426] h-[1px] pointer-events-none",style:{gridColumn:"1 / 4",gridRow:"2",alignSelf:"start",zIndex:1e3}}),n.jsx("div",{className:"bg-[#242426] h-[1px] pointer-events-none",style:{gridColumn:"1 / 4",gridRow:"2",alignSelf:"end",zIndex:1e3}}),n.jsx("div",{className:"bg-[#242426] w-[1px] pointer-events-none",style:{gridRow:"1 / 4",gridColumn:"2",justifySelf:"start",zIndex:1e3}}),n.jsx("div",{className:"bg-[#242426] w-[1px] pointer-events-none",style:{gridRow:"1 / 4",gridColumn:"2",justifySelf:"end",zIndex:1e3}}),n.jsx("button",{type:"button",onClick:()=>t(!1),disabled:"loading"===E||C,className:fb("fixed top-4 right-4 md:top-8 md:right-8 z-10 p-2 bg-[#FFF]/10 backdrop-blur-lg hover:bg-[white]/15 rounded-full transition-colors",("loading"===E||C)&&"opacity-50 cursor-not-allowed"),"aria-label":"Close modal",children:n.jsx(RS,{className:"w-5 h-5 text-[#939399] hover:text-[#C4C4CC]"})}),n.jsxs("div",{className:fb("flex flex-col w-full bg-[#0E0E0F] md:py-16 md:p-[64px] relative max-w-[90%] md:max-w-none mx-auto md:mx-0","welcome"===h?"md:py-[104px]":"","invite"===h?"max-md:min-w-[350px] md:min-w-[640px] max-md:px-4 ":""),style:{gridRow:"2",gridColumn:"2"},children:[n.jsxs("div",{className:"pointer-events-none absolute top-4 left-4 w-[18px] h-[18px] z-10",children:[n.jsx("div",{className:"absolute w-2 h-2 transform -translate-x-1/2 -translate-y-1/2 rounded-full bg-white/40 top-1/2 left-1/2"}),n.jsx("div",{className:"w-[13px] h-[13px] border-[5px] border-white/[0.06] rounded-full absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2"})]}),n.jsxs("div",{className:"pointer-events-none absolute top-4 right-4 w-[18px] h-[18px] z-10",children:[n.jsx("div",{className:"absolute w-2 h-2 transform -translate-x-1/2 -translate-y-1/2 rounded-full bg-white/40 top-1/2 left-1/2"}),n.jsx("div",{className:"w-[13px] h-[13px] border-[5px] border-white/[0.06] rounded-full absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2"})]}),n.jsxs("div",{className:"pointer-events-none absolute bottom-4 left-4 w-[18px] h-[18px] z-10",children:[n.jsx("div",{className:"absolute w-2 h-2 transform -translate-x-1/2 -translate-y-1/2 rounded-full bg-white/40 top-1/2 left-1/2"}),n.jsx("div",{className:"w-[13px] h-[13px] border-[5px] border-white/[0.06] rounded-full absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2"})]}),n.jsxs("div",{className:"pointer-events-none absolute bottom-4 right-4 w-[18px] h-[18px] z-10",children:[n.jsx("div",{className:"absolute w-2 h-2 transform -translate-x-1/2 -translate-y-1/2 rounded-full bg-white/40 top-1/2 left-1/2"}),n.jsx("div",{className:"w-[13px] h-[13px] border-[5px] border-white/[0.06] rounded-full absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2"})]}),"welcome"===h?n.jsx(n.Fragment,{children:"loading"===E?n.jsxs("div",{className:"flex flex-col items-center justify-center gap-4 md:gap-[48px] font-brockmann",children:[n.jsxs("div",{className:"relative",children:[n.jsx("img",{src:Nse,alt:"Stars",className:"w-16 h-16"}),n.jsx(hS,{className:"w-12 h-12 md:w-16 md:h-16 absolute top-0 left-0 animate-spin text-[#F3CA5F] opacity-70"})]}),n.jsxs("div",{className:"flex flex-col items-center gap-1",children:[n.jsx("p",{className:"text-lg md:text-[32px] md:leading-[36px] font-medium text-white text-center",children:"Processing Team Subscription"}),n.jsx("span",{className:"font-['Inter'] mt-2 font-medium text-sm md:text-normal text-[#737780] text-center",children:`Verifying ${I} subscription, please wait...`})]})]}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"flex items-center justify-center max-md:pt-[72px] w-full mb-8 md:mb-[56px]",children:n.jsxs("div",{className:"flex flex-col items-center justify-center gap-1",children:[n.jsx("h2",{className:"text-[28px] md:text-[36px] md:leading-[40px] font-medium text-[#fff] text-center",children:"Welcome to"}),n.jsx("h2",{className:"text-[28px] md:text-[36px] md:leading-[40px] font-medium capitalize text-center",style:{background:"linear-gradient(152.98deg, #E1FFE0 -8.63%, #37FF33 95.68%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text",color:"transparent",filter:"drop-shadow(0px 0px 20px #37FF3366)"},children:`${I}'s Workspace`})]})}),n.jsx("div",{className:"flex flex-col md:flex-row gap-4 mb-8 md:mb-[56px]",children:Fse.map((e,t)=>n.jsxs("div",{className:"w-full bg-[#FFFFFF0A] flex md:flex-col items-start md:gap-[52px] max-w-full md:max-w-[260px] md:py-8 py-4 px-4 md:px-6 rounded-[16px]",children:[e.icon,n.jsx("span",{className:"text-base max-md:ml-2 max-md:text-[16px] md:text-[18px] md:leading-[24px] font-medium text-[#FFFFFFCC]",children:e.title})]},t))}),n.jsx("div",{className:"flex justify-center w-full max-md:pb-[72px]",children:n.jsxs("button",{type:"button",onClick:()=>{s&&I&&x("invite")},disabled:!s||!I||"success"!==E,className:fb("flex items-center w-full max-w-[344px] justify-center gap-2 px-4 md:px-6 py-3 rounded-full text-base md:text-[18px] h-12 md:h-[56px] font-semibold text-black transition-all flex-1 sm:flex-none sm:min-w-[200px]","bg-[#FFFFFF] hover:bg-[#FFFFFF]/90 disabled:opacity-50 disabled:cursor-not-allowed"),children:["Start Collaborating",n.jsx(IM,{size:20,color:"#000000"})]})})]})}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"flex items-start justify-start max-md:items-center max-md:justify-center max-md:pt-[72px] w-full mb-8 md:mb-[56px]",children:n.jsxs("div",{className:"flex flex-col items-start justify-center gap-1 max-md:items-center",children:[n.jsx("h2",{className:"text-2xl md:text-[36px] md:leading-[40px] font-medium text-[#fff] max-md:text-center md:text-start",children:"Invite members to"}),n.jsxs("h2",{className:"text-2xl md:text-[36px] md:leading-[40px] font-medium capitalize max-md:text-center md:text-start",style:{background:"linear-gradient(152.98deg, #E1FFE0 -8.63%, #37FF33 95.68%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text",color:"transparent",filter:"drop-shadow(0px 0px 20px #37FF3366)"},children:[I,"'s Space"]})]})}),n.jsx("div",{className:"w-full",children:n.jsxs("form",{onSubmit:e=>{e.preventDefault(),A()},className:"space-y-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{htmlFor:"team-emails",className:"block text-sm font-medium text-[#CCCCCC]",children:"Email Addresses"}),n.jsx("textarea",{id:"team-emails",value:f,onChange:e=>{g(e.target.value),y&&w("")},placeholder:"e.g. john@company.com, sarah@company.com (max 5 members allowed)",className:"w-full p-3 md:p-4 bg-[#151517] border border-[#303033] rounded-lg text-[#FFFFFF] placeholder-[#FFFFFF]/40 focus:outline-none focus:border-[#303033] transition-colors font-inter font-medium resize-none text-sm md:text-base",disabled:C,autoFocus:!0,rows:3}),y&&n.jsx("div",{className:"mt-2",children:n.jsx("p",{className:"text-xs text-red-400",children:y})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{htmlFor:"member-role",className:"block text-sm font-medium text-[#CCCCCC]",children:"Role"}),n.jsxs(OS,{value:v,onValueChange:b,disabled:C,children:[n.jsx(BS,{className:"w-full p-3 md:p-4 h-auto bg-[#151517] border border-[#303033] rounded-lg text-[#FFFFFF] focus:outline-none focus:border-[#303033] transition-colors font-inter font-medium text-sm md:text-base",children:n.jsx(zS,{placeholder:"Select role"})}),n.jsxs(US,{className:"bg-[#151517] border border-[#303033]",style:{zIndex:1e4},sideOffset:4,children:[n.jsx(VS,{value:"MEMBER",className:"text-[#FFFFFF] focus:bg-[#303033] focus:text-[#FFFFFF] cursor-pointer",children:"Member"}),n.jsx(VS,{value:"ADMIN",className:"text-[#FFFFFF] focus:bg-[#303033] focus:text-[#FFFFFF] cursor-pointer",children:"Admin"})]})]})]})]})}),n.jsxs("div",{className:"flex max-md:flex-col-reverse max-md:pb-[72px] flex-col w-full gap-4 mt-8 sm:flex-row",children:[n.jsx("button",{type:"button",onClick:()=>{t(!1)},disabled:C,className:fb("h-10 md:h-12 lg:h-14 w-full px-4 md:px-6 text-sm md:text-[16px] min-w-full sm:min-w-[234px] font-semibold text-white/50 hover:text-white rounded-[16px] border border-[#1F1F1F] hover:bg-[#333333] bg-[#292929] transition-all duration-200 transform hover:-translate-y-1 disabled:opacity-50 disabled:hover:transform-none",C&&"opacity-50 cursor-not-allowed"),children:"I'll do it later"}),n.jsx("button",{type:"button",onClick:A,disabled:C,className:fb("h-10 md:h-12 lg:h-14 flex items-center justify-center gap-2 px-4 md:px-[44px] min-w-full sm:min-w-[234px] py-3 md:py-4 text-sm md:text-[16px] font-semibold transition-all duration-200 transform hover:shadow-xl hover:-translate-y-1 disabled:opacity-50 disabled:hover:transform-none rounded-[16px]",C?"bg-[#FFFFFF]/20 text-[#FFFFFF]/60 cursor-not-allowed":"text-[#000000] bg-[#FFFFFF] hover:bg-[#FFFFFF]/90"),children:C?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"w-4 h-4 border-2 border-current rounded-full border-t-transparent animate-spin"}),"Sending Invitations..."]}):n.jsxs(n.Fragment,{children:[n.jsx(oD,{color:C?"#FFFFFF60":"#000000"}),"Send Invites"]})})]})]})]})]})]})]})}),document.body):null}const kse=({size:e=24,color:t="#CCCCCC",className:s=""})=>n.jsx("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:s,children:n.jsx("path",{d:"M2 12L6 16L14 8M14 16L22 8",stroke:t,strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round"})}),Sse=({open:e,onOpenChange:t,invitation:s,onAccept:i,onDecline:a})=>{const[r,{isLoading:o}]=lf(),[l,{isLoading:c}]=mf(),{toast:d}=on(),{newToast:u}=tD(),p={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.4,ease:"easeOut"}}},m=()=>{Bu(s.organization_id),t(!1)};return e?n.jsx("div",{className:"fixed inset-0 z-[10000] bg-black/50 backdrop-blur-sm pointer-events-auto",children:n.jsx("div",{className:"flex items-center justify-center w-full h-full p-4 pointer-events-none",children:n.jsx("div",{className:"pointer-events-auto",children:n.jsxs(Pt.div,{variants:{hidden:{opacity:0,scale:.95},visible:{opacity:1,scale:1,transition:{duration:.3,ease:"easeOut"}}},initial:"hidden",animate:"visible",className:"max-w-[95vw] md:w-[600px] overflow-clip md:max-w-[600px] rounded-2xl bg-[#18181A] border border-[#242424] shadow-xl relative",children:[n.jsx("button",{type:"button",onClick:m,className:"absolute z-[999] flex items-center justify-center w-8 h-8 text-white transition-all duration-200 rounded-full md:w-10 md:h-10 backdrop-blur-lg top-4 right-4 md:right-5 md:top-5 bg-white/10 hover:bg-white/20","aria-label":"Close modal",children:n.jsx(RS,{className:"w-5 h-5 pointer-events-none md:w-5 md:h-5"})}),n.jsx("div",{className:"absolute inset-0 z-0 pointer-events-none -right-8 -bottom-4",children:n.jsx(EM,{color:"#ffffff",squareSize:4,gridGap:6,flickerChance:.3,maxOpacity:.08,className:"w-full h-full bg-[#131314] "})}),n.jsxs("div",{className:"relative z-10 p-6 max-md:mt-10 md:p-[64px] md:pb-9",children:[n.jsxs(Pt.div,{variants:p,initial:"hidden",animate:"visible",className:"space-y-5 text-center",children:[n.jsx("div",{className:"flex items-center justify-center w-16 h-16 md:w-20 md:h-20 mx-auto rounded-full bg-[#80FFF908] bg-gradient-to-b from-[#364D36] via-[#2F422E97] to-[#24332400]",children:n.jsx(oD,{color:"#37FF33",className:"w-8 h-8 md:w-10 md:h-10"})}),n.jsxs("h2",{className:"mt-4 text-[20px] md:text-[32px] max-md:leading-[24px] md:leading-[40px] font-medium tracking-[-0.2px] text-white",children:[n.jsxs("span",{className:"text-[#7BFF78] capitalize",children:[s.inviter_name," ",""]}),"invited you to join ","",n.jsxs("span",{className:"text-[#7BFF78] capitalize",children:[s.organization_name,"'s workspace"]})]}),n.jsxs("p",{className:"mt-2 font-medium text-[#666666] max-md:text-[16px] text-[18px] leading-6",children:["Invitation Expires in ",(e=>{const t=new Date(e),n=new Date,s=t.getTime()-n.getTime(),i=Math.ceil(s/864e5);return i<=0?"expired":1===i?"1 day":`${i} days`})(s.expires_at)]})]}),n.jsxs(Pt.div,{variants:p,initial:"hidden",animate:"visible",transition:{delay:.2},className:"flex max-md:flex-col-reverse max-md:mt-12 md:mt-[64px] justify-center gap-4 md:flex-row",children:[n.jsx("button",{type:"button",onClick:async()=>{var e;try{await l({invitation_id:s.id}).unwrap(),d({title:"Invitation Rejected",description:`Successfully rejected invitation to "${s.organization_name}"`,variant:"default"}),Hu(s.organization_id),null==a||a(),t(!1)}catch(n){d({title:"Error",description:(null==(e=null==n?void 0:n.data)?void 0:e.detail)||"Failed to reject invitation. Please try again.",variant:"destructive"})}},disabled:o||c,className:" h-12 md:h-14 px-6 text-[16px] min-w-[234px] font-semibold text-white/50 hover:text-white rounded-[16px] border border-[#1F1F1F] hover:bg-[#333333] bg-[#292929] transition-all duration-200 transform hover:-translate-y-1 disabled:opacity-50 disabled:hover:transform-none",children:c?"Rejecting...":"Decline"}),n.jsxs("button",{type:"button",onClick:async()=>{var e;try{await r({invitation_id:s.id}).unwrap();u.success("Invitation Accepted"),Hu(s.organization_id),localStorage.removeItem("pending_invitation"),null==i||i(),t(!1)}catch(n){d({title:"Error",description:(null==(e=null==n?void 0:n.data)?void 0:e.detail)||"Failed to accept invitation. Please try again.",variant:"destructive"})}},disabled:o||c,className:" h-12 md:h-14 flex justify-center items-center gap-2  px-[44px] min-w-[234px] py-4 text-[16px] font-semibold text-[#000000] bg-[#7BFF78] rounded-[16px] hover:bg-[#7BFF78]/90 transition-all duration-200 transform hover:shadow-xl hover:-translate-y-1 disabled:opacity-50 disabled:hover:transform-none",children:[n.jsx(kse,{size:24,color:"#000000"}),o?"Accepting...":"Accept Invite"]})]}),n.jsx("div",{className:"flex items-center justify-center w-full cursor-pointer max-md:pt-9 md:pt-10",onClick:m,children:n.jsx("span",{className:"text-[#808080] text-center text-[16px] px-4 py-1 rounded-full hover:text-white/80 font-semibold hover:bg-[#292929] hover:backdrop-blur-lg",children:"I'll do it later"})})]})]})})})}):null},Ese=({size:e=24,width:t,height:s,color:i="white",className:a})=>{const r=t||e,o=s||e;return n.jsx("svg",{width:r,height:o,viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:a,children:n.jsx("path",{d:"M14.8013 22.0003H17.2013V17.2003H22.0013V14.8003H17.2013V10.0003H14.8013V14.8003H10.0013V17.2003H14.8013V22.0003ZM16.0013 28.0003C14.3413 28.0003 12.7813 27.6853 11.3213 27.0553C9.8613 26.4253 8.5913 25.5703 7.5113 24.4903C6.4313 23.4103 5.5763 22.1403 4.9463 20.6803C4.3163 19.2203 4.0013 17.6603 4.0013 16.0003C4.0013 14.3403 4.3163 12.7803 4.9463 11.3203C5.5763 9.86033 6.4313 8.59033 7.5113 7.51033C8.5913 6.43033 9.8613 5.57533 11.3213 4.94533C12.7813 4.31533 14.3413 4.00033 16.0013 4.00033C17.6613 4.00033 19.2213 4.31533 20.6813 4.94533C22.1413 5.57533 23.4113 6.43033 24.4913 7.51033C25.5713 8.59033 26.4263 9.86033 27.0563 11.3203C27.6863 12.7803 28.0013 14.3403 28.0013 16.0003C28.0013 17.6603 27.6863 19.2203 27.0563 20.6803C26.4263 22.1403 25.5713 23.4103 24.4913 24.4903C23.4113 25.5703 22.1413 26.4253 20.6813 27.0553C19.2213 27.6853 17.6613 28.0003 16.0013 28.0003Z",fill:i})})},Ise=gv.common.rightArrow,Ase=({open:e,onOpenChange:t,onClose:s,onGetStarted:i,onShowUpgradeModal:a,onPreventOtherModals:r})=>{const o=jt(),{tier:l}=Xg(),c=e=>{e||($u(),null==s||s(),null==r||r(!0),setTimeout(()=>{Ju(),o(Zf(!0))},300)),t(e)},d="pro"===l||"pro_mode"===l,u={background:d?"#FFFFFF":"\n\t\t  linear-gradient(90deg, #ffffff30, #00000050),\n\t\t  #F3CA5F\n\t\t",backgroundSize:"cover",backgroundPosition:"center",backgroundBlendMode:d?"normal":"overlay, normal",boxShadow:d?"\n\t\t  0px 0px 20px 0px #FFFFFF66,\n\t\t  0px 2.18px 3.64px 1.45px #FFFFFF66 inset,\n\t\t  0px -1.45px 0px 0px #00000033 inset,\n\t\t  0px 0.73px 0.73px 0.73px #0000001A\n\t\t":"\n\t\t  0px 0px 20px 0px #F3CA5F66,\n\t\t  0px 2.18px 3.64px 1.45px #FFFFFF66 inset,\n\t\t  0px -1.45px 0px 0px #00000033 inset,\n\t\t  0px 0.73px 0.73px 0.73px #0000001A\n\t\t"};return n.jsx(V,{open:e,onOpenChange:c,children:n.jsxs(W,{children:[n.jsx(O,{className:"fixed inset-0 z-50 bg-black/50 backdrop-blur-sm"}),n.jsx(z,{className:"welcome-modal-content fixed left-[50%] top-[50%] translate-x-[-50%] translate-y-[-50%] w-[900px] h-[700px] max-h-[90dvh] max-w-[90dvw] max-md:overflow-auto rounded-2xl bg-[#0F0F10] border border-[#1F1F1F] shadow-xl z-50 focus-visible:outline-none",children:n.jsxs("div",{className:"relative flex h-full md:flex-row max-md:flex-col max-md:overflow-y-auto",children:[n.jsx("button",{type:"button",onClick:e=>{e.preventDefault(),e.stopPropagation(),c(!1)},className:"absolute z-10 flex items-center justify-center w-8 h-8 text-white transition-all duration-200 rounded-full md:w-10 md:h-10 backdrop-blur-lg top-4 right-4 md:right-5 md:top-5 bg-white/10 hover:bg-white/20","aria-label":"Close modal",children:n.jsx(RS,{className:"w-5 h-5 md:w-5 md:h-5"})}),n.jsxs("div",{className:"w-full md:w-[500px] h-full pb-6 md:pb-10 flex flex-col justify-between md:justify-center relative px-5 pt-6 md:px-10 max-md:order-2 max-md:min-h-fit max-md:pt-6",children:[n.jsxs("div",{className:"text-[20px] max-md:leading-[28px] md:text-[28px] font-semibold gap-6 flex flex-col",children:[n.jsxs("div",{className:"flex flex-col gap-[2px]",children:[n.jsx("span",{className:"leading-8 [text-shadow:rgba(255,255,255,0.2)_0px_0px_20px]",children:"Introducing"}),n.jsx("span",{className:"text-[#FF8C66] md:leading-9 [text-shadow:rgba(255,140,102,0.4)_0px_0px_30px]",children:"Claude 4.5 Sonnet"}),n.jsxs("div",{className:"flex items-center gap-1 md:leading-9",children:[n.jsx(Ese,{size:32,color:"white"}),n.jsx("span",{className:"text-[#FF8C66] [text-shadow:rgba(255,140,102,0.4)_0px_0px_30px]",children:"with 1 Million context"})]})]}),n.jsxs("p",{className:"font-inter font-medium text-[14px] md:text-[15px] text-[#FFFFFFCC]",children:["Emergent Pro has been upgraded to ",n.jsx("span",{className:"text-[#E57E5C]",children:"Claude Sonnet 4.5"}),", Anthropic's most advanced model. You now have access to ",n.jsx("span",{className:"text-[#E57E5C]",children:"1M token context"}),", enabling you to work with ",n.jsx("span",{className:"text-[#E57E5C]",children:"5x longer tasks"})," and entire codebases while maintaining full context. Claude 4.5 brings dramatically improved reasoning for complex architectural decisions, refactoring, and debugging."]})]}),n.jsx("div",{className:"mt-[24px] md:mt-[56px] space-y-4",children:n.jsx(Pt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.7},children:n.jsxs("button",{type:"button",style:u,className:"flex items-center font-semibold font-brockmann w-full p-[12px] px-4 text-[#0F0F10] justify-center rounded-[30px] tracking-[-0.2px] gap-2",onClick:()=>{t(!1),"pro"===l||"pro_mode"===l?($u(),null==r||r(!0),o(Zf(!0)),null==i||i()):($u(),setTimeout(()=>{null==a||a()},100))},children:[n.jsx("span",{children:"pro"===l||"pro_mode"===l?"Get Started":"Upgrade to Pro"}),n.jsx("img",{src:Ise,alt:"arrow",className:"w-6 h-6"})]})})})]}),n.jsx("div",{className:"relative w-full md:w-[400px] h-full flex-shrink-0 overflow-hidden md:rounded-r-[10px] max-md:order-1 max-md:h-[250px] max-md:rounded-t-2xl",children:n.jsx(Pt.img,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.5,ease:"easeOut"},src:"/4-5-bg.png",alt:"Claude 4.5 with 1M context",className:"object-cover w-full h-full"})})]})})]})})};function Tse({isJobIdDialogOpen:e,setIsJobIdDialogOpen:t,jobIdInput:s,setJobIdInput:i,handleJobClick:a}){const[r]=Hx(),[o,l]=De.useState(""),c=eI();De.useEffect(()=>{e&&l(s||"")},[e,s]),De.useEffect(()=>{i&&i(o)},[o,i]);const d=async()=>{if(o.trim())try{const e=await r(o.trim());if("error"in e)return;const n=e.data;if(n){const e=c?{...n,_openedInAdminMode:!0}:n;a(e),t(!1),l("")}}catch(e){}};return n.jsx(n.Fragment,{children:n.jsx(_A,{open:e,onOpenChange:t,children:n.jsxs(AA,{className:"w-[700px]",children:[n.jsxs(TA,{children:[n.jsx(MA,{children:"Enter Job ID"}),n.jsx(LA,{children:"Enter a job ID to view its details and navigate to chat"})]}),n.jsx("div",{className:"px-3",children:n.jsx(qS,{placeholder:"Enter job ID",className:"my-2 h-14",value:o,onChange:e=>l(e.target.value),onKeyDown:e=>{"Enter"===e.key&&d()}})}),n.jsxs(DA,{children:[n.jsx(wb,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),n.jsx(wb,{onClick:d,children:"View Job"})]})]})})})}const Dse=({size:e=20,color:t="#80FFF9",className:s=""})=>n.jsx("svg",{width:e,height:e,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:s,children:n.jsx("path",{d:"M6.25 9.375H13.75C13.9158 9.375 14.0747 9.44085 14.1919 9.55806C14.3092 9.67527 14.375 9.83424 14.375 10C14.375 10.1658 14.3092 10.3247 14.1919 10.4419C14.0747 10.5592 13.9158 10.625 13.75 10.625H6.25C6.08424 10.625 5.92527 10.5592 5.80806 10.4419C5.69085 10.3247 5.625 10.1658 5.625 10C5.625 9.83424 5.69085 9.67527 5.80806 9.55806C5.92527 9.44085 6.08424 9.375 6.25 9.375ZM8.125 13.125H5C4.1712 13.125 3.37634 12.7958 2.79029 12.2097C2.20424 11.6237 1.875 10.8288 1.875 10C1.875 9.1712 2.20424 8.37634 2.79029 7.79029C3.37634 7.20424 4.1712 6.875 5 6.875H8.125C8.29076 6.875 8.44973 6.80915 8.56694 6.69194C8.68415 6.57473 8.75 6.41576 8.75 6.25C8.75 6.08424 8.68415 5.92527 8.56694 5.80806C8.44973 5.69085 8.29076 5.625 8.125 5.625H5C3.83968 5.625 2.72688 6.08594 1.90641 6.90641C1.08594 7.72688 0.625 8.83968 0.625 10C0.625 11.1603 1.08594 12.2731 1.90641 13.0936C2.72688 13.9141 3.83968 14.375 5 14.375H8.125C8.29076 14.375 8.44973 14.3092 8.56694 14.1919C8.68415 14.0747 8.75 13.9158 8.75 13.75C8.75 13.5842 8.68415 13.4253 8.56694 13.3081C8.44973 13.1908 8.29076 13.125 8.125 13.125ZM15 5.625H11.875C11.7092 5.625 11.5503 5.69085 11.4331 5.80806C11.3158 5.92527 11.25 6.08424 11.25 6.25C11.25 6.41576 11.3158 6.57473 11.4331 6.69194C11.5503 6.80915 11.7092 6.875 11.875 6.875H15C15.8288 6.875 16.6237 7.20424 17.2097 7.79029C17.7958 8.37634 18.125 9.1712 18.125 10C18.125 10.8288 17.7958 11.6237 17.2097 12.2097C16.6237 12.7958 15.8288 13.125 15 13.125H11.875C11.7092 13.125 11.5503 13.1908 11.4331 13.3081C11.3158 13.4253 11.25 13.5842 11.25 13.75C11.25 13.9158 11.3158 14.0747 11.4331 14.1919C11.5503 14.3092 11.7092 14.375 11.875 14.375H15C16.1603 14.375 17.2731 13.9141 18.0936 13.0936C18.9141 12.2731 19.375 11.1603 19.375 10C19.375 8.83968 18.9141 7.72688 18.0936 6.90641C17.2731 6.08594 16.1603 5.625 15 5.625Z",fill:t})}),Mse=({size:e=28,className:t="",personColor:s="white",heartGradientId:i="peopleHeartGradient"})=>n.jsxs("svg",{width:e,height:e,viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:t,children:[n.jsx("path",{d:"M2 24.3333V20.6C2 19.8444 2.19444 19.15 2.58333 18.5167C2.97222 17.8833 3.48889 17.4 4.13333 17.0667C5.51111 16.3778 6.91111 15.8611 8.33333 15.5167C9.75556 15.1722 11.2 15 12.6667 15H13.1333C12.8889 15.4 12.7056 15.8278 12.5833 16.2833C12.4611 16.7389 12.4 17.2 12.4 17.6667C11.2 17.6889 10.0056 17.85 8.81667 18.15C7.62778 18.45 6.46667 18.8889 5.33333 19.4667C5.13333 19.5778 4.97222 19.7333 4.85 19.9333C4.72778 20.1333 4.66667 20.3556 4.66667 20.6V21.6667H14.1L16.7667 24.3333H2ZM12.6667 13.6667C11.2 13.6667 9.94444 13.1444 8.9 12.1C7.85556 11.0556 7.33333 9.8 7.33333 8.33333C7.33333 6.86667 7.85556 5.61111 8.9 4.56667C9.94444 3.52222 11.2 3 12.6667 3C14.1333 3 15.3889 3.52222 16.4333 4.56667C17.4778 5.61111 18 6.86667 18 8.33333C18 9.8 17.4778 11.0556 16.4333 12.1C15.3889 13.1444 14.1333 13.6667 12.6667 13.6667ZM12.6667 11C13.4 11 14.0278 10.7389 14.55 10.2167C15.0722 9.69444 15.3333 9.06667 15.3333 8.33333C15.3333 7.6 15.0722 6.97222 14.55 6.45C14.0278 5.92778 13.4 5.66667 12.6667 5.66667C11.9333 5.66667 11.3056 5.92778 10.7833 6.45C10.2611 6.97222 10 7.6 10 8.33333C10 9.06667 10.2611 9.69444 10.7833 10.2167C11.3056 10.7389 11.9333 11 12.6667 11ZM20.5333 24.3333L15.8667 19.6667C15.5778 19.3778 15.3722 19.0667 15.25 18.7333C15.1278 18.4 15.0667 18.0667 15.0667 17.7333C15.0667 17.0222 15.3222 16.3889 15.8333 15.8333C16.3444 15.2778 17 15 17.8 15C18.4222 15 18.9111 15.1444 19.2667 15.4333C19.6222 15.7222 20.0444 16.1111 20.5333 16.6C20.9778 16.1556 21.3833 15.7778 21.75 15.4667C22.1167 15.1556 22.6222 15 23.2667 15C24.0889 15 24.75 15.2833 25.25 15.85C25.75 16.4167 26 17.0556 26 17.7667C26 18.1 25.9333 18.4333 25.8 18.7667C25.6667 19.1 25.4667 19.4 25.2 19.6667L20.5333 24.3333Z",fill:s}),n.jsx("path",{d:"M20.5331 24.3333L15.8664 19.6667C15.5775 19.3778 15.372 19.0667 15.2497 18.7333C15.1275 18.4 15.0664 18.0667 15.0664 17.7333C15.0664 17.0222 15.322 16.3889 15.8331 15.8333C16.3442 15.2778 16.9997 15 17.7997 15C18.422 15 18.9108 15.1444 19.2664 15.4333C19.622 15.7222 20.0442 16.1111 20.5331 16.6C20.9775 16.1556 21.3831 15.7778 21.7497 15.4667C22.1164 15.1556 22.622 15 23.2664 15C24.0886 15 24.7497 15.2833 25.2497 15.85C25.7497 16.4167 25.9997 17.0556 25.9997 17.7667C25.9997 18.1 25.9331 18.4333 25.7997 18.7667C25.6664 19.1 25.4664 19.4 25.1997 19.6667L20.5331 24.3333Z",fill:`url(#${i})`}),n.jsx("defs",{children:n.jsxs("linearGradient",{id:i,x1:"20.5331",y1:"15",x2:"20.5331",y2:"24.3333",gradientUnits:"userSpaceOnUse",children:[n.jsx("stop",{stopColor:"#00FF66"}),n.jsx("stop",{offset:"1",stopColor:"#62ECFE"})]})})]}),Lse=({size:e,width:t=e||25,height:s=e||24,className:i="",color:a="#80FFF9"})=>n.jsx("svg",{width:t,height:s,viewBox:"0 0 25 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:i,children:n.jsx("path",{d:"M7.33398 20.025V11H8.93398C9.05065 11 9.16732 11.0125 9.28398 11.0375C9.40065 11.0625 9.51732 11.0917 9.63398 11.125L16.559 13.7C16.7923 13.7833 16.9798 13.9333 17.1215 14.15C17.2632 14.3667 17.334 14.5917 17.334 14.825C17.334 15.175 17.2132 15.4583 16.9715 15.675C16.7298 15.8917 16.4507 16 16.134 16H13.509C13.4257 16 13.3632 15.9958 13.3215 15.9875C13.2798 15.9792 13.2257 15.9583 13.159 15.925L11.559 15.3L11.234 16.275L13.159 16.95C13.1923 16.9667 13.2423 16.9792 13.309 16.9875C13.3757 16.9958 13.434 17 13.484 17H20.334C20.8673 17 21.334 17.1917 21.734 17.575C22.134 17.9583 22.334 18.4333 22.334 19L14.359 22L7.33398 20.025ZM1.33398 22V11H5.33398V22H1.33398ZM16.334 13L12.184 8.95C11.6673 8.45 11.2298 7.89583 10.8715 7.2875C10.5132 6.67917 10.334 6.01667 10.334 5.3C10.334 4.38333 10.6548 3.60417 11.2965 2.9625C11.9382 2.32083 12.7173 2 13.634 2C14.1673 2 14.6673 2.1125 15.134 2.3375C15.6007 2.5625 16.0007 2.86667 16.334 3.25C16.6673 2.86667 17.0673 2.5625 17.534 2.3375C18.0007 2.1125 18.5007 2 19.034 2C19.9507 2 20.7298 2.32083 21.3715 2.9625C22.0132 3.60417 22.334 4.38333 22.334 5.3C22.334 6.01667 22.159 6.67917 21.809 7.2875C21.459 7.89583 21.0257 8.45 20.509 8.95L16.334 13Z",fill:a})}),Pse=({width:e=24,height:t=24,color:s="#80FFF9",className:i})=>{const a=`clip_coin_${Math.random().toString(36).substr(2,9)}`;return n.jsxs("svg",{width:e,height:t,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:i,children:[n.jsxs("g",{clipPath:`url(#${a})`,children:[n.jsx("circle",{opacity:"0.2",cx:"12",cy:"12",r:"12",fill:s}),n.jsx("path",{d:"M12.0059 2.39844C17.3076 2.39844 21.6062 6.69633 21.6064 11.998C21.6064 17.3 17.3078 21.5986 12.0059 21.5986C6.70415 21.5984 2.40625 17.2998 2.40625 11.998C2.40651 6.69649 6.70431 2.3987 12.0059 2.39844ZM12.4971 7.90332C12.1808 7.11952 11.914 6.85645 11.5342 7.79199C10.7032 9.78643 9.7117 10.7374 7.75879 11.5605C7.56272 11.6511 7.20933 11.8086 7.20703 11.9951C7.20933 12.1817 7.56042 12.3391 7.75879 12.4297C9.70937 13.2504 10.7033 14.2037 11.5342 16.1982C11.9186 17.1507 12.1861 16.8507 12.4971 16.0869C13.3303 14.1593 14.2612 13.265 16.2266 12.4297C16.4326 12.3314 16.7722 12.2006 16.8066 12.0049V11.9834C16.7722 11.7892 16.4349 11.6569 16.2266 11.5586V11.5605C14.2614 10.7253 13.3303 9.83167 12.4971 7.90332Z",fill:s})]}),n.jsx("defs",{children:n.jsx("clipPath",{id:a,children:n.jsx("rect",{width:"24",height:"24",fill:"white"})})})]})},Rse=gv.referral.coin,Ose=gv.referral.external,zse=gv.referral.referralImage,Bse=({onBack:e})=>n.jsxs(Pt.div,{className:"relative flex flex-col w-full gap-2 pb-4 md:gap-4 md:pb-8",initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3,ease:"easeInOut"},children:[n.jsx(Pt.div,{className:"sticky top-0 p-4 bg-[#18181A] md:px-6 md:pt-6 z-[10]",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.3,delay:.1},children:n.jsxs("div",{className:"bg-[#18181A] flex items-center gap-4 ",children:[n.jsx("button",{type:"button",onClick:e,className:"w-10 h-10 bg-[#FFFFFF0D] rounded-full flex items-center justify-center text-[#737780] backdrop-blur-lg hover:text-white transition-colors hover:bg-[#FFFFFF0A]","aria-label":"Go back",children:n.jsx(Rk,{className:"w-5 h-5"})}),n.jsx("h2",{className:"text-white/80 text-[18px] md:text-[24px] font-semibold",children:"Terms & Conditions"})]})}),n.jsx(Pt.div,{className:"px-4 space-y-3 md:space-y-6 md:px-8",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3,delay:.2,staggerChildren:.1,delayChildren:.3},children:[{title:"New users only",description:"This referral program is exclusively for first-time users who haven't previously created an account."},{title:"Reward eligibility",description:"You earn credits when someone signs up using your referral code and purchases their first subscription."},{title:"Program flexibility",description:"We may modify, suspend, or discontinue this referral program at any time without prior notice."},{title:"Appropriate sharing",description:"Share your referral link responsibly in relevant contexts. Spam, misleading promotions, or inappropriate distribution may result in account penalties."},{title:"Quality control",description:"We monitor for fraudulent activity and may withhold rewards or suspend accounts that violate our community standards."},{title:"One reward per referral",description:"Each successfully referred user earns you credits once. Multiple referrals from the same user are not eligible for additional rewards."}].map((e,t)=>n.jsx(Pt.div,{className:"space-y-3",initial:{opacity:0,y:20,x:-10},animate:{opacity:1,y:0,x:0},transition:{duration:.4,delay:.1*t,ease:"easeOut"},children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"flex items-center justify-center rounded-[8px] bg-white/10 backdrop-blur-lg max-h-5 max-w-5 min-h-5 min-w-5",children:n.jsx("div",{className:" w-2 h-2 bg-white rounded-[1.5px]"})}),n.jsxs("div",{className:"flex flex-col gap-1",children:[n.jsx("h3",{className:"text-white text-[16px] font-medium ",children:e.title}),n.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:e.description})]})]})},t))})]}),Hse=({isOpen:e,onOpenChange:t})=>{const{bannerHeight:s}=fL(),i=s+56,[a,r]=De.useState(!1),[o,l]=De.useState(!1),{referralInfo:c,isLoading:d,refetch:u}=lT(),{user:p}=Wg(),m=e=>{l(!1),t(e)};De.useEffect(()=>{e&&u()},[e,u]);const h=(null==c?void 0:c.referralCode)?((e,t=window.location.origin)=>`${t}/register?ref=${encodeURIComponent(e)}`)(c.referralCode):"Not Available",x=[{element:n.jsxs("div",{className:"max-md:text-[13px] text-[14px] font-inter font-medium text-white",children:["Share your ",n.jsx("span",{className:"text-[#80FFF9] font-inter",children:"referral link"})]}),icon:n.jsx(Lse,{size:24})},{element:n.jsxs("div",{className:"max-md:text-[13px] text-[14px] font-inter font-medium text-white",children:["They get ",n.jsx("span",{className:" text-[#80FFF9] font-inter",children:"extra 5 credits"})," when they join."]}),icon:n.jsx(Pse,{height:24,width:24})},{element:n.jsxs("div",{className:"max-md:text-[13px] text-[14px] font-inter font-medium text-white",children:["You earn",n.jsxs("span",{className:"text-[#80FFF9] font-inter",children:[" ",(null==c?void 0:c.subscription_reward_amount)||50," credits"]})," ","on their first subscription."]}),icon:n.jsx(iee,{size:24})}];return n.jsx(Rt,{children:e&&n.jsx(Pt.div,{style:{height:`calc(100dvh - ${i}px)`,top:`${i}px`},className:fb("fixed inset-0 w-full z-[49] flex items-center justify-center bg-[#0e0e0f50] backdrop-blur-[5px]"),onClick:()=>m(!1),initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2,ease:"easeInOut"},children:n.jsxs(Pt.div,{className:fb("relative p-0 max-md:max-w-[95dvw] overflow-y-auto w-full max-w-[700px] mx-auto bg-[#18181A] border border-[#242424] max-h-[80dvh] rounded-[20px] font-['Inter']"),onClick:e=>e.stopPropagation(),initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},transition:{duration:.2,ease:"easeInOut"},children:[n.jsx("div",{className:"sticky top-0 h-0 w-full z-[20]",children:n.jsx("button",{type:"button",onClick:()=>m(!1),className:"absolute top-4 right-4 md:top-6 md:right-6 max-md:w-8 max-md:h-8 w-10 h-10 bg-[#FFFFFF0D] rounded-full flex items-center justify-center text-[#737780] backdrop-blur-lg hover:text-white transition-colors hover:bg-[#FFFFFF0A]","aria-label":"Close modal",children:n.jsx(RS,{className:"w-5 h-5 max-md:w-4 max-md:h-4"})})}),n.jsx(Rt,{mode:"wait",children:o?n.jsx(Bse,{onBack:()=>l(!1)},"terms"):n.jsxs(Pt.div,{className:"flex flex-col w-full gap-4 pb-6 md:gap-6 md:pb-8",initial:{opacity:0,x:0},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},children:[n.jsx(Pt.div,{className:"relative px-4 pt-4 md:px-6 md:pt-6",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.3,delay:.15},children:n.jsx("div",{children:n.jsx("img",{src:zse,alt:"Referral Background",className:"object-cover w-full h-full"})})}),n.jsxs(Pt.div,{className:"px-4 md:px-6",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3,delay:.3},children:[n.jsx("h3",{className:"text-[#80FFF9]/50 font-medium mb-3",children:"Your referral link :"}),n.jsxs("div",{className:"flex items-center gap-3 max-md:pl-3 p-4 pr-2 bg-[#80FFF905] border border-[#80FFF91A] rounded-[10px] max-h-[56px]",children:[n.jsx(Dse,{}),n.jsx("span",{className:"text-[#80FFF9CC] font-medium truncate flex-1 font-inter tracking-[0.4px]",children:d?"Loading...":h}),n.jsx("button",{type:"button",onClick:async()=>{((e,t={})=>{fg(`referral_${e}`,{...t,timestamp:(new Date).toISOString()})})("copy_link_clicked",{userId:null==p?void 0:p.id,userEmail:null==p?void 0:p.email,referralCode:null==c?void 0:c.referralCode,linkUrl:h});try{await navigator.clipboard.writeText(h),r(!0),setTimeout(()=>{r(!1)},1e3)}catch(e){const t=document.createElement("textarea");t.value=h,document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t),r(!0),setTimeout(()=>{r(!1)},1e3)}},title:"Copy Link",className:"px-4 py-2 font-bold text-[#18181A] transition-colors max-md:text-[13px]   bg-[#80FFF9] rounded-lg hover:bg-[#80FFF9]/90 disabled:opacity-50",disabled:d||!(null==c?void 0:c.referralCode),children:a?"Copied":"Copy Link"})]})]}),n.jsx(Pt.div,{className:"px-4 md:px-6",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3,delay:.4},children:n.jsx(Pt.div,{className:"grid gap-3 md:gap-4 md:grid-cols-3",initial:"hidden",animate:"visible",variants:{hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.1}}},children:x.map((e,t)=>n.jsxs(Pt.div,{className:"flex md:flex-col md:text-center md:justify-center rounded-[10px] items-center h-full gap-4 max-md:p-4 p-6 py-4",style:{background:"linear-gradient(180deg, rgba(128, 255, 249, 0.02) 0%, rgba(128, 255, 249, 0) 100%)",border:"1px solid rgba(128, 255, 249, 0.03)",borderRadius:"10px"},variants:{hidden:{opacity:0,y:20,scale:.95},visible:{opacity:1,y:0,scale:1,transition:{duration:.4,ease:"easeOut"}}},children:[e.icon,n.jsx(Pt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3,delay:.2},children:e.element})]},t))})}),n.jsx("div",{className:"px-4 py-2 md:px-6",children:n.jsx("div",{className:"bg-[#242424] h-[1px] w-full"})}),n.jsxs("div",{className:"flex flex-col w-full gap-3 px-4 md:px-6",children:[n.jsx("span",{className:"text-[#808080]",children:"Your referrals :"}),n.jsxs("div",{className:"flex w-full gap-5 max-md:flex-col",children:[n.jsxs("div",{className:"flex flex-col bg-[#FFFFFF0A] rounded-[10px] p-5 justify-between gap-8 w-full",children:[n.jsx("span",{className:"text-[#FFFFFF]/40 text-[15px] font-medium",children:"Referral credit earned"}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("img",{src:Rse,alt:"Coin SVG"}),n.jsx("span",{className:"font-semibold text-[24px] md:text-[32px]",children:(null==c?void 0:c.total_referral_credits_earned)||0})]})]}),n.jsxs("div",{className:"flex flex-col bg-[#FFFFFF0A] rounded-[10px] p-5 gap-8 w-full",children:[n.jsx("span",{className:"text-[#FFFFFF]/40 text-[15px] font-medium",children:"Total invitations"}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(Mse,{}),n.jsx("span",{className:"font-semibold text-[24px] md:text-[32px]",children:(null==c?void 0:c.number_of_invitations)||0})]})]})]})]}),n.jsx(Pt.div,{className:"flex px-4 md:px-6",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3,delay:.5},children:n.jsxs("button",{type:"button",onClick:()=>{l(!0),fg(XS.REFERRAL_TERM_CONDITION_CLICKED)},className:"flex group items-center gap-2 max-md:text-[14px] text-[#FFFFFF]/80 transition-all duration-100 ease-in-out hover:text-white cursor-pointer",children:[n.jsx("span",{children:"View Terms & Conditions"}),n.jsx("img",{src:Ose,alt:"External",className:"w-5 h-5 transition-all duration-100 ease-in-out max-md:w-4 max-md:h-4 opacity-60 group-hover:opacity-100"})]})})]},"main")})]})})})},$se=gv.feature.arrowDark,Use=gv.teams.teamAssetDesktop,Vse=gv.teams.teamAssetMobile,Wse=[{title:"Seamless team collaboration",description:"Invite up to 5 collaborators now",icon:n.jsx(iD,{})},{title:"Shared team pool credits",description:"Shared team pool of 1250 credits per month",icon:n.jsx(jse,{})},{title:"Central billing and administration",description:"Team management with unified billing, member permissions, and usage analytics",icon:n.jsx(Cse,{})}],qse=({isOpen:e,onOpenChange:t,onGetStarted:s})=>{const{isMobile:i}=QE(),a=De.useRef(null),{tier:r}=Xg(),[o,l]=De.useState(!1);De.useEffect(()=>{e&&a.current&&(a.current.scrollTop=0)},[e]);return e?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"fixed inset-0 z-50 bg-black/50 backdrop-blur-sm",children:n.jsx("div",{className:"flex items-center justify-center w-full h-full p-4",children:n.jsxs("div",{className:"w-full max-w-[90vw] md:max-w-[900px] md:overflow-hidden max-h-[90dvh] md:h-[700px] bg-[#151517] rounded-2xl relative flex flex-col",children:[n.jsx("button",{type:"button",onClick:()=>{Vu(),t(!1),null==s||s()},className:"absolute z-10 flex items-center justify-center w-8 h-8 text-white transition-all duration-200 rounded-full md:w-10 md:h-10 backdrop-blur-lg top-4 right-4 md:right-6 md:top-6 hover:bg-white/10","aria-label":"Close modal",children:n.jsx(RS,{className:"w-6 h-6 md:w-6 md:h-6"})}),n.jsxs("div",{ref:a,className:"flex items-start flex-1 md:flex-row-reverse max-md:overflow-y-auto rounded-2xl max-md:flex-col",children:[n.jsxs("div",{className:"relative flex-1 max-md:min-h-[200px] bg-[#18181A] overflow-clip",children:[n.jsx("img",{alt:"Fork Image",src:i?Vse:Use,className:"object-cover w-full h-full md:object-fill"}),n.jsx("div",{className:"absolute top-1/4 right-8 w-32 h-32 bg-gradient-radial from-[#80FFF9]/20 to-transparent rounded-full blur-2xl"}),n.jsx("div",{className:"absolute bottom-1/4 right-16 w-24 h-24 bg-gradient-radial from-[#80FFF9]/15 to-transparent rounded-full blur-xl"})]}),n.jsx("div",{className:"flex-1 max-md:p-0 md:px-[28px] md:py-10",children:n.jsxs("div",{className:"flex flex-col gap-6",children:[n.jsxs("div",{className:"flex flex-col gap-2",children:[n.jsxs("div",{className:"flex flex-col gap-4 max-md:px-5 max-md:pt-6",children:[n.jsx("div",{className:"w-10 h-10 rounded-full bg-[#222224] max-md:hidden flex items-center justify-center border-[4px] border-[#18181A]",children:n.jsx(nD,{size:24})}),n.jsx(Pt.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},className:"text-[20px] md:text-[28px] leading-[32px] font-semibold tracking-[-2%] text-transparent bg-clip-text",style:{background:"linear-gradient(152.98deg, #FFF4DF -8.63%, #FFD702 95.68%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",textShadow:"0px 0px 40px #FFD70233"},children:"Introducing Teams"})]}),n.jsx(Pt.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"text-[#DADADA] max-md:px-5  text-[14px] font-['Inter']  md:text-[15px] text-wrap whitespace-pre-wrap break-words leading-[20px]  md:leading-[24px]",children:"With Teams, unlock seamless collaboration plus all Pro mode features for free."})]}),n.jsx(Pt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},className:"grid grid-cols-1 gap-[10px] max-md:px-5 hide-scrollbar",children:Wse.map((e,t)=>n.jsxs("div",{className:"flex rounded-[8px] max-md:min-w-[70%] max-md:flex-col-reverse max-md:items-start p-3 md:px-5 md:py-4 items-center w-full text-center bg-[#DADADA0A] gap-4",children:[n.jsxs("div",{className:"flex flex-col items-start w-full gap-[2px] md:gap-[6px]",children:[n.jsx("h3",{className:"text-[14px] md:text-[16px] text-[#DADADA] font-medium",children:e.title}),n.jsx("p",{className:"text-[12px] md:text-[14px] font-medium text-start text-[#DADADA99] font-['Inter']",children:e.description})]}),e.icon]},t))}),n.jsx(Pt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.7},className:"sticky bottom-0 max-md:px-5 max-md:pb-6",children:n.jsxs("button",{type:"button",onClick:()=>{Vu(),t(!1),null==s||s();const e=new CustomEvent("open-workspace-switcher");window.dispatchEvent(e)},className:"flex items-center bg-[#FFFFFF] rounded-full max-md:max-h-[48px] mt-4 md:mt-[36px] justify-center w-full gap-4 text-[16px] font-semibold text-black transition-all duration-200 transform h-14 hover:-translate-y-1",style:{boxShadow:"0px 0px 20px 0px #FFFFFF66, 0px 2.18px 3.64px 1.45px #FFFFFF66 inset, 0px -1.45px 0px 0px #00000033 inset, 0px 0.73px 0.73px 0.73px #0000001A"},children:["Get Started ",n.jsx("img",{src:$se,alt:"Arrow",className:"w-5 h-5"})]})})]})})]})]})})}),n.jsx(wD,{isOpen:o,onOpenChange:l})]}):null},Gse=({isOpen:e,onClose:t,type:s,data:i})=>{var a,r;const o="tool"===s&&"user_descriptions"in i;return n.jsx(_A,{open:e,onOpenChange:t,children:n.jsx(AA,{className:"max-w-[700px] p-0 bg-[#18181A] border-[#242424]",children:n.jsx("div",{className:"p-8 space-y-[40px]",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsxs("div",{className:"flex flex-col gap-4",children:[n.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center bg-[#272729]",children:n.jsx(PE,{size:28,primaryColor:"#fff"})}),n.jsx("h4",{className:"text-xl font-semibold text-[#FFFFFF] capitalize",children:(null==(a=i.name)?void 0:a.replaceAll("_"," "))||"Unknown"})]}),n.jsx(EA,{asChild:!0,children:n.jsx("button",{type:"button","aria-label":"Close details modal",className:"text-[#737780] h-8 w-8 flex items-center justify-center rounded-full backdrop-blur-lg bg-[#FFFFFF1A] hover:bg-[#FFFFFF20] hover:text-white transition-colors",children:n.jsx(RS,{size:20})})})]}),n.jsx("p",{className:"text-[#FFFFFF]/60 font-inter font-medium text-wrap",children:"tool"===s?o?(null==(r=i.user_descriptions)?void 0:r.description)||"No description available":i.description||i.skill_description:i.description||i.skill_description||"No description available"})]})})})})},Zse=gv.ultra.oneMillionUltra,Yse=gv.ultra.oneMillionUltraMobile,Kse=({open:e,onOpenChange:t,onClose:s,onGetStarted:i,onShowUpgradeModal:a,onPreventOtherModals:r})=>{const{tier:o}=Xg(),l="pro"===o||"pro_mode"===o,c={background:l?"#FFFFFF":"\n      linear-gradient(90deg, #ffffff30, #00000050),\n      #F3CA5F\n    ",backgroundSize:"cover",backgroundPosition:"center",backgroundBlendMode:l?"normal":"overlay, normal",boxShadow:l?"\n      0px 0px 20px 0px #FFFFFF66,\n      0px 2.18px 3.64px 1.45px #FFFFFF66 inset,\n      0px -1.45px 0px 0px #00000033 inset,\n      0px 0.73px 0.73px 0.73px #0000001A\n    ":"\n      0px 0px 20px 0px #F3CA5F66,\n      0px 2.18px 3.64px 1.45px #FFFFFF66 inset,\n      0px -1.45px 0px 0px #00000033 inset,\n      0px 0.73px 0.73px 0.73px #0000001A\n    "};return n.jsx(V,{open:e,onOpenChange:t,children:n.jsxs(W,{children:[n.jsx(O,{className:"fixed inset-0 z-50 bg-black/50 backdrop-blur-sm"}),n.jsx(z,{className:"welcome-modal-content fixed left-[50%] top-[50%] translate-x-[-50%] translate-y-[-50%] w-[900px] h-[700px] max-h-[90dvh] max-w-[90dvw] max-md:overflow-auto rounded-2xl bg-[#0F0F10] border border-[#1F1F1F] shadow-xl z-50 focus-visible:outline-none",children:n.jsxs("div",{className:"relative flex h-full md:flex-row max-md:flex-col max-md:overflow-y-auto",children:[n.jsx("button",{type:"button",onClick:e=>{e.preventDefault(),e.stopPropagation(),Wu(),t(!1),null==s||s(),null==r||r(!0)},className:"absolute z-10 flex items-center justify-center w-8 h-8 text-white transition-all duration-200 rounded-full md:w-10 md:h-10 backdrop-blur-lg top-4 right-4 md:right-5 md:top-5 bg-white/10 hover:bg-white/20","aria-label":"Close modal",children:n.jsx(RS,{className:"w-5 h-5 md:w-5 md:h-5"})}),n.jsxs("div",{className:"w-full md:w-[500px] h-full pb-6 md:pb-10 flex flex-col justify-between md:justify-center relative px-5 pt-6 md:px-10 max-md:order-2 max-md:min-h-fit max-md:pt-6",children:[n.jsxs("div",{className:"text-[20px] max-md:leading-[28px] md:text-[28px] font-semibold gap-6 flex flex-col",children:[n.jsxs("div",{className:"flex flex-col gap-[2px]",children:[n.jsx("span",{className:"leading-8",children:"Introducing"}),n.jsxs("div",{className:"text-[#E57E5C] flex items-start flex-col gap-1 md:leading-9",children:["1M tokens context ",n.jsx("br",{}),n.jsxs("div",{className:"flex items-center gap-1",children:[" ",n.jsx(cT,{color:"#D9D9D9",size:32}),"Ultra thinking"]})]}),n.jsx("div",{className:"flex items-center gap-1 md:leading-9",children:n.jsx("span",{className:"text-[#E57E5C] md:leading-9",children:"on claude 4.0 Sonnet"})})]}),n.jsxs("p",{className:"font-inter font-medium text-[14px] md:text-[15px] text-[#FFFFFFCC]",children:["Emergent Pro now features ",n.jsx("span",{className:"text-[#E57E5C]",children:"Claude Sonnet 4.0's 1M token context"})," , tackle 5x longer tasks and work with extensive codebases or documents. Plus,  ",n.jsx("span",{className:"text-[#E57E5C]",children:"Ultra thinking"})," provides deeper reasoning with 10x more thinking tokens for complex problem-solving and analysis."," "]})]}),n.jsx("div",{className:"mt-[24px] md:mt-[56px] space-y-4",children:n.jsx(Pt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.7},children:n.jsxs("button",{type:"button",style:c,className:"flex items-center font-semibold font-brockmann w-full p-[12px] px-4 text-[#0F0F10] justify-center rounded-[8px] max-md:stick max-bottom-0 md:rounded-full tracking-[-0.2px] gap-2",onClick:()=>{Wu(),t(!1),"pro"===o||"pro_mode"===o?(null==r||r(!0),null==i||i()):setTimeout(()=>{null==a||a()},100)},children:[n.jsx("span",{children:"pro"==o||"pro_mode"==o?"Try Now":"Upgrade to Pro"}),n.jsx(oA,{color:"#0F0F10"})]})})})]}),n.jsxs("div",{className:"relative w-full md:w-[400px] h-full flex-shrink-0 overflow-hidden  md:rounded-r-[10px] max-md:order-1 max-md:h-[200px] max-md:rounded-t-2xl",children:[n.jsx("img",{alt:"Image",src:Zse,className:"object-cover w-full h-full max-md:hidden"}),n.jsx("img",{alt:"Image",src:Yse,className:"object-cover w-full h-full md:hidden"})]})]})})]})})};function Jse({isOpen:e,onOpenChange:t,onServerAdded:s,organizationId:i,editMode:a=!1,serverData:r,triggerLocation:o="default",onClose:l,reopenAccountSettings:c}){const d=jt(),{toast:u}=on(),{tier:p}=Xg(),{isOrganizationWorkspace:m}=Kg(),h=eI(),x=HE(),[f,g]=De.useState(""),[v,b]=De.useState(""),[y,w]=De.useState(""),[j,C]=De.useState(""),[N,F]=De.useState(""),[_,k]=De.useState(!1),S=a&&"public"===(null==r?void 0:r.type),[E,{isLoading:I}]=Of(),[A,{isLoading:T}]=Hf(),D=I||T;De.useEffect(()=>{var t;a&&r&&e?(g(r.display_name),b(r.icon),w(r.description),(null==(t=r.mcp_config)?void 0:t.mcpServers)&&C(JSON.stringify({mcpServers:r.mcp_config.mcpServers},null,2))):a||M()},[a,r,e]);const M=()=>{g(""),b(""),w(""),C(""),F(""),k(!1)},L=()=>{c&&setTimeout(()=>{x.open({initialTab:c.tab})},150),t(!1),M(),l&&setTimeout(()=>{l()},100)};return e?Re.createPortal(n.jsx(Rt,{children:n.jsxs("div",{className:"fixed inset-0 z-[1000] flex items-center justify-center",children:[n.jsx(Pt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"absolute inset-0 bg-black/80 backdrop-blur-sm",onClick:L}),n.jsxs(Pt.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},transition:{duration:.2,ease:"easeOut"},className:"relative w-[90vw] max-w-[700px] max-h-[90dvh] bg-[#262628] rounded-2xl shadow-2xl overflow-hidden flex flex-col",onClick:e=>e.stopPropagation(),children:[n.jsxs("div",{className:"flex items-center justify-between p-6 ",children:[n.jsx("div",{className:"flex items-center gap-2",children:n.jsxs("div",{children:[n.jsx("h2",{className:"text-[23px] font-medium text-[#FFFFFF]",children:a?`Configure ${f} Server`:"Configure New MCP"}),n.jsx("p",{className:"text-[14px] text-[#737780] font-inter font-medium",children:a?"Update the details and configuration for your MCP server.":"Enter the basic details and JSON configuration for your MCP server."})]})}),n.jsx("button",{type:"button",onClick:L,className:"p-2 bg-[#FFFFFF]/5 hover:bg-[#FFFFFF]/10 rounded-full transition-colors","aria-label":"Close modal",children:n.jsx(RS,{className:"w-5 h-5 text-[#fff]/80"})})]}),n.jsx("div",{className:"flex flex-col h-full overflow-hidden",children:n.jsxs("div",{className:"flex-1 p-6 pt-2 space-y-6 overflow-y-auto",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block font-medium font-inter text-[14px] text-[#E4EEFF] mb-2",children:"MCP Name"}),n.jsxs("div",{className:"bg-[#313133] rounded-[12px] flex gap-3 p-2 focus-within:shadow-[inset_0_0_0_1px_rgba(255,255,255,0.20)]",children:[n.jsx("div",{className:"flex items-center justify-center min-w-10 min-h-10 bg-[#272729] rounded-[10px]",children:n.jsx(ME,{size:24})}),n.jsx("input",{type:"text",value:f,onChange:e=>g(e.target.value),placeholder:"my-mcp-server",disabled:S,className:fb("w-full bg-transparent text-[#dadada] font-inter border-none font-medium placeholder-[#737780]/60 focus:outline-none transition-colors",S&&"opacity-50 cursor-not-allowed")})]})]}),n.jsx("div",{className:"flex gap-4",children:n.jsxs("div",{className:"w-full",children:[n.jsx("label",{className:"block font-medium font-inter text-[14px] text-[#E4EEFF] mb-2",children:"Description"}),n.jsx("input",{type:"text",value:y,onChange:e=>w(e.target.value),placeholder:"Brief description of your MCP server",disabled:S,className:fb("w-full bg-[#313133] rounded-[12px] p-4 text-[#dadada] font-inter border-none font-medium placeholder-[#737780]/60 focus:outline-none transition-colors focus:shadow-[inset_0_0_0_1px_rgba(255,255,255,0.20)]",S&&"opacity-50 cursor-not-allowed")})]})}),n.jsxs("div",{className:"",children:[n.jsx("label",{className:"block font-medium font-inter text-[14px] text-[#E4EEFF] mb-2",children:"JSON Configuration"}),n.jsxs("div",{className:"focus-within:border-white/12 focus-within:shadow-[0_0_0_1px_rgba(255,255,255,0.20)] rounded-[12px] overflow-clip bg-[#313133]",children:[(null==r?void 0:r.key_required)&&n.jsxs("div",{className:"bg-[#F49B5714] font-inter font-medium flex rounded-t-[12px] items-center gap-2 text-[#F49B57] px-3 py-2",children:[n.jsx(E9,{fill:"#F49B57",size:24}),"A env key is needed to configure this MCP"]}),n.jsx("div",{className:"rounded-b-[12px] overflow-hidden bg-[#313133] px-4",style:{"--vscode-focusBorder":"transparent"},children:n.jsx(Bt,{height:"300px",language:"json",value:j,className:"font-mono",onChange:e=>(e=>{C(e),k(!1),F("")})(e||""),theme:"vs-dark",beforeMount:e=>{e.editor.defineTheme("custom-dark",{base:"vs-dark",inherit:!0,rules:[],colors:{"editor.background":"#313133","editor.foreground":"#E6E6E6",focusBorder:"transparent","editor.selectionBackground":"#80FFF935","editor.selectionHighlightBackground":"transparent","widget.border":"transparent","editorWidget.border":"transparent","input.border":"transparent"}})},onMount:(e,t)=>{t.editor.setTheme("custom-dark")},options:{minimap:{enabled:!1},scrollBeyondLastLine:!1,fontSize:14,fontFamily:'JetBrains Mono, SFMono-Regular, "SF Mono", Monaco, Consolas, "Courier New", monospace',lineNumbers:"off",folding:!1,fontWeight:"500",lineDecorationsWidth:0,lineNumbersMinChars:0,glyphMargin:!1,padding:{top:16,bottom:16},renderLineHighlight:"none",hideCursorInOverviewRuler:!0,overviewRulerBorder:!1,overviewRulerLanes:0,wordWrap:"on",bracketPairColorization:{enabled:!1},quickSuggestions:!1,parameterHints:{enabled:!1},hover:{enabled:!1},contextmenu:!1,automaticLayout:!0,scrollbar:{vertical:"auto",horizontal:"hidden",verticalScrollbarSize:8},cursorBlinking:"solid",cursorStyle:"line",renderValidationDecorations:"off",showFoldingControls:"never",matchBrackets:"never",selectionHighlight:!1,occurrencesHighlight:"off",guides:{bracketPairs:!1,bracketPairsHorizontal:!1,highlightActiveIndentation:!1,indentation:!1},renderLineHighlightOnlyWhenFocus:!1,smoothScrolling:!1,cursorSurroundingLines:0,renderWhitespace:"all",placeholder:'// Use JSON in this format:\n// example:\n{\n"mcpServers": {\n"your-tool": {\n"command": "npx",\n"args": ["-y", "@your-org/mcp-server"],\n"env": {\n"API_KEY": "your-api-key-here"\n}\n}\n}\n}'}})})]}),_&&N&&n.jsxs("div",{className:"flex items-center gap-2 text-[#E57373] text-[12px] mt-2",children:[n.jsx(Zk,{size:14}),n.jsx("span",{children:N})]}),_&&j&&!N&&n.jsxs("div",{className:"flex items-center gap-2 text-[#29CC83] text-[12px] mt-2",children:[n.jsx(Uk,{size:14}),n.jsx("span",{children:"Valid JSON configuration"})]})]})]})}),n.jsxs("div",{className:"flex items-center bg-[#272728] justify-end gap-3 p-6 border-t border-[#FFFFFF14] mt-auto",children:[n.jsx("button",{type:"button",onClick:L,className:"px-4 py-3 text-[16px] font-medium text-[#DCDCE5] hover:text-[#B7BFCC] bg-[#323233] rounded-full transition-colors",children:"Cancel"}),n.jsx("button",{type:"button",onClick:async()=>{var e,n,g;try{let e,n;const g=(e=>{try{return{isValid:!0,config:JSON.parse(e)}}catch(t){return{isValid:!1,error:"Invalid JSON format"}}})(j);if(!g.isValid||!g.config)return F(g.error||""),void u({title:"Error",description:g.error||"Invalid JSON configuration",variant:"destructive"});if(e=g.config.mcpServers?g.config:{mcpServers:{[f.trim()]:g.config}},a&&r&&!S){const t={id:r.id,display_name:f.trim(),mcp_config:e,icon:v,description:y||`MCP server: ${f.trim()}`,type:r.type,key_required:r.key_required,organization_id:i},s=await A(t).unwrap();n=s.id,u({title:"Success",description:"MCP server updated successfully!"})}else if(S){const t={display_name:f.trim(),mcp_config:e,icon:r.icon,description:y||`MCP server: ${f.trim()}`,type:"private",key_required:r.key_required,organization_id:i,source_mcp_id:r.id},s=await E(t).unwrap();n=s.id,u({title:"Success",description:"MCP server created successfully!"})}else{const t={display_name:f.trim(),mcp_config:e,icon:"https://emergent-website-migrate.s3.us-west-2.amazonaws.com/website/mcp-default.svg",description:y||`MCP server: ${f.trim()}`,type:"private",key_required:!1,organization_id:i},s=await E(t).unwrap();n=s.id,u({title:"Success",description:"MCP server created successfully!"})}const b="pro_mode"===p||m()||h;n&&b&&!c&&d(sg(n)),c&&setTimeout(()=>{x.open({initialTab:c.tab})},150),t(!1),M(),fg(eE.MANAGE_AGENTS_EVENTS.NEW_MCP_CREATED,{mcpConfig:e}),setTimeout(()=>{null==s||s(n,b&&("default"===o||a||"mcp-tools-modal"===o)&&!c),l&&l()},100)}catch(b){const t=(null==b?void 0:b.error)||(null==(e=null==b?void 0:b.data)?void 0:e.detail)||(null==(n=null==b?void 0:b.data)?void 0:n.error)||(null==(g=null==b?void 0:b.data)?void 0:g.message)||(null==b?void 0:b.message)||`Failed to ${a?"update":"create"} MCP server`;u({title:"Error",description:t,variant:"destructive"})}},disabled:!f.trim()||!S&&!j.trim()||D,className:fb("px-6 py-3 text-[#0E0E0F] flex items-center gap-2 bg-[#FFFFFF] font-semibold rounded-full transition-all","disabled:opacity-50 disabled:cursor-not-allowed"),children:D?n.jsxs(n.Fragment,{children:[n.jsx(hS,{className:"w-4 h-4 animate-spin"}),a?"Updating...":"Creating..."]}):n.jsxs(n.Fragment,{children:["Verify and Save",n.jsx(IM,{})]})})]})]})]})}),document.body):null}const Qse=({isOpen:e,onOpenChange:t})=>{var s,i;const{toast:a}=on(),r=jt(),o=ZE(),l=YE(),{getCurrentOrganizationId:c}=Kg(),d=null==(s=l.config)?void 0:s.formState,u=null==(i=l.config)?void 0:i.updateFormState,p=c(),[m,h]=De.useState((null==d?void 0:d.selectedMcpTools)||[]);De.useEffect(()=>{e&&(null==d?void 0:d.selectedMcpTools)&&h(d.selectedMcpTools)},[e,null==d?void 0:d.selectedMcpTools]);const x=wt(e=>e.mcp.autoEnableServerId);De.useEffect(()=>{},[x]);const{data:f,isLoading:g}=zf(p?{organization_id:p}:void 0),[v]=$f();De.useEffect(()=>{if(x&&f&&Array.isArray(f)&&e&&!g&&u){const e=f.find(e=>e.id===x);if(e){const t=[...m];m.includes(e.id)||t.push(e.id),h(t),u({selectedMcpTools:t}),r(ig()),a({title:"MCP Server Enabled",description:"MCP server has been successfully saved and enabled.",duration:5e3})}}},[x,f,m,e,g,r,a,u]),De.useEffect(()=>{!e&&x&&r(ig())},[e,x,r]);const b=De.useCallback((e,n)=>{const s=Array.isArray(f)?f.find(t=>t.id===e):null;if(!s||!u)return;if(n&&"public"===s.type&&s.key_required)return t(!1),void setTimeout(()=>{o.open({organizationId:p,editMode:!0,serverData:s,triggerLocation:"mcp-tools-modal",onClose:()=>{l.open({formState:d,updateFormState:u,organizationId:p})}})},100);let i=[...m];n?m.includes(s.id)||i.push(s.id):i=m.filter(e=>e!==s.id),h(i),u({selectedMcpTools:i})},[f,m,o,p,l,d,u]),y=De.useCallback(e=>m.includes(e),[m]),w=De.useCallback(e=>{t(!1),setTimeout(()=>{o.open({organizationId:p,editMode:!0,serverData:e,onClose:()=>{l.open({formState:d,updateFormState:u,organizationId:p})}})},100)},[o,p,t,l,d,u]),j=De.useCallback(async e=>{var t;try{await v({id:e,organization_id:p}).unwrap();(Array.isArray(f)?f.find(t=>t.id===e):null)&&y(e)&&b(e,!1),a({title:"MCP Server Deleted",description:"MCP server has been successfully deleted.",duration:5e3})}catch(n){a({title:"Error",description:(null==(t=null==n?void 0:n.data)?void 0:t.error)||"Failed to delete MCP server",variant:"destructive",duration:5e3})}},[v,p,f,y,b,a]);return n.jsx(_A,{open:e,onOpenChange:t,children:n.jsx(AA,{className:"w-[700px] p-0 bg-[#222224]",children:n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"flex items-center justify-between pb-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ME,{size:24,color:"#FFFFFF"}),n.jsx("h3",{className:"text-lg font-semibold text-white",children:"Select MCPs to use"})]}),n.jsx(EA,{asChild:!0,children:n.jsx("button",{type:"button","aria-label":"Close MCP tools modal",className:"text-[#737780] hover:text-white transition-colors",children:n.jsx(RS,{size:20})})})]}),n.jsx("p",{className:"text-[#737780] pb-8 font-inter font-medium",children:"Allow agent to directly interact with apps, data, and tools on your computer."}),n.jsxs("div",{className:"overflow-clip overflow-y-scroll max-h-[500px]",children:[n.jsxs("div",{className:"flex gap-4 p-4 rounded-[12px] mb-4 bg-[#FFFFFF08] cursor-pointer hover:bg-[#FFFFFF10] transition-colors",onClick:()=>{t(!1),setTimeout(()=>{o.open({organizationId:p,onClose:()=>{l.open({formState:d,updateFormState:u,organizationId:p})}})},100)},children:[n.jsx("div",{className:"flex items-center justify-center bg-[#313133] rounded-full h-10 w-10",children:n.jsx(S9,{size:24})}),n.jsxs("div",{className:"flex flex-col gap-[2px]",children:[n.jsx("span",{className:"text-[#B7BFCC] font-medium",children:"New MCP Server"}),n.jsx("span",{className:"text-[#737780] font-medium font-inter text-[14px]",children:"Add a Custom MCP server"})]})]}),g?n.jsx("div",{className:"flex items-center justify-center py-8",children:n.jsx(hS,{className:"w-6 h-6 animate-spin text-[#737780]"})}):f&&Array.isArray(f)&&f.length>0?n.jsx(n.Fragment,{children:[...f].sort((e,t)=>new Date(t.created_at).getTime()-new Date(e.created_at).getTime()).map(e=>{const t=y(e.id);return n.jsx(I9,{server:e,isEnabled:t,onToggle:t=>b(e.id,t),onEdit:()=>w(e),onDelete:()=>j(e.id)},e.id)})}):n.jsx("div",{className:"py-8 text-center",children:n.jsx("p",{className:"text-[#8A8F98] text-sm",children:"No MCP servers available. Create one to get started."})})]})]})})})},Xse=gv.mcp.kuchbhi,eie=gv.mcp.kuchbhiMobile,tie=({open:e,onOpenChange:t,onClose:s,onGetStarted:i,onShowUpgradeModal:a})=>{const{tier:r}=Xg(),o="pro"===r||"pro_mode"===r,l=()=>{Gu(),t(!1),null==s||s(),fg(JS.MCP_INTRODUCTION_MODAL_CLOSED)},c={background:o?"#FFFFFF":"\n      linear-gradient(90deg, #ffffff30, #00000050),\n      #F3CA5F\n    ",backgroundSize:"cover",backgroundPosition:"center",backgroundBlendMode:o?"normal":"overlay, normal",boxShadow:o?"\n      0px 0px 20px 0px #FFFFFF66,\n      0px 2.18px 3.64px 1.45px #FFFFFF66 inset,\n      0px -1.45px 0px 0px #00000033 inset,\n      0px 0.73px 0.73px 0.73px #0000001A\n    ":"\n      0px 0px 20px 0px #F3CA5F66,\n      0px 2.18px 3.64px 1.45px #FFFFFF66 inset,\n      0px -1.45px 0px 0px #00000033 inset,\n      0px 0.73px 0.73px 0.73px #0000001A\n    "};return De.useEffect(()=>{fg(JS.MCP_INTRODUCTION_MODAL_OPENED)},[]),n.jsx(V,{open:e,onOpenChange:e=>{e?t(e):l()},children:n.jsxs(W,{children:[n.jsx(O,{className:"fixed inset-0 z-50 bg-black/50 backdrop-blur-sm"}),n.jsx(z,{className:"welcome-modal-content fixed left-[50%] top-[50%] translate-x-[-50%] translate-y-[-50%] w-[900px] h-[700px] max-h-[90dvh] max-w-[90dvw] max-md:overflow-auto rounded-2xl bg-[#151517] border border-[#1F1F1F] shadow-xl z-50 focus-visible:outline-none",children:n.jsxs("div",{className:"relative flex h-full md:flex-row max-md:flex-col max-md:overflow-y-auto",children:[n.jsx("button",{type:"button",onClick:e=>{e.preventDefault(),e.stopPropagation(),l()},className:"max-md:fixed md:absolute z-50 md:z-10 flex items-center justify-center w-8 h-8 text-white transition-all duration-200 rounded-full md:w-10 md:h-10 backdrop-blur-lg top-4 right-4 md:right-5 md:top-5 bg-black/20 hover:bg-black/30","aria-label":"Close modal",children:n.jsx(RS,{className:"w-5 h-5 md:w-5 md:h-5"})}),n.jsxs("div",{className:"w-full md:w-[500px] h-full pb-6 md:pb-10 flex flex-col justify-between md:justify-center relative px-5 pt-6 md:px-10 max-md:order-2 max-md:min-h-fit max-md:pt-6",children:[n.jsxs("div",{className:"text-[20px] max-md:leading-[28px] md:text-[28px] font-semibold gap-6 flex flex-col max-md:mb-[4rem]",children:[n.jsxs("div",{className:"flex flex-col gap-[2px]",children:[n.jsx("span",{className:"leading-8",children:"Introducing"}),n.jsx("span",{className:"text-[#E57E5C] md:leading-9",children:"1M tokens context"}),n.jsxs("span",{className:"text-[#E57E5C] md:leading-9 flex items-center gap-1",children:[n.jsx(cT,{size:32,color:"#FFFFFF"})," with MCPs"]}),n.jsx("div",{className:"flex items-center gap-1 md:leading-9",children:n.jsx("span",{className:"text-[#E57E5C] md:leading-9",children:" on Claude 4.0 Sonnet"})})]}),n.jsxs("p",{className:"font-inter font-medium text-[14px] md:text-[15px] text-[#FFFFFFCC]",children:["Emergent Pro now supports ",n.jsxs("span",{className:"text-[#E57E5C]",children:["Model Context Protocol (MCPs) "," "]}),"alongside ",n.jsx("span",{className:"text-[#E57E5C]",children:"Claude Sonnet 4.0's 1M token context"}),"."," ","Pull data from anywhere, automate workflows across your favorite tools, and leverage Claude Sonnet 4.0's massive 1M token context for deeper analysis and longer conversations."]})]}),n.jsx("div",{className:"mt-[24px] md:mt-[56px] space-y-4 max-md:fixed max-md:w-auto max-md:bottom-4 max-md:left-4 max-md:right-4 max-md:z-50",children:n.jsx(Pt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.7},children:n.jsxs("button",{type:"button",style:c,className:"flex items-center font-semibold font-brockmann w-full p-[12px] px-4 text-[#0F0F10] justify-center rounded-[8px] max-bottom-0 md:rounded-full tracking-[-0.2px] gap-2",onClick:()=>{Gu(),t(!1),!o&&a?a():null==i||i()},children:[n.jsx("span",{children:"pro"==r||"pro_mode"==r?"Try Now":"Upgrade to Pro"}),n.jsx(oA,{color:"#0F0F10"})]})})})]}),n.jsxs("div",{className:"relative w-full md:w-[400px] h-full flex-shrink-0 overflow-hidden  md:rounded-r-[10px] max-md:order-1 max-md:h-[200px] max-md:rounded-t-2xl",children:[n.jsx("img",{alt:"Image",src:Xse,className:"object-cover w-full h-full max-md:hidden"}),n.jsx("img",{alt:"Image",src:eie,className:"object-cover w-full h-full md:hidden"})]})]})})]})})};const nie=(e,t=100,n=!1)=>{const s=(e=>{const t=De.useRef(e);return De.useEffect(()=>{t.current=e}),t})(e),i=De.useRef(),a=[t,n,s];function r(){i.current&&clearTimeout(i.current),i.current=void 0}function o(){i.current=void 0}return De.useEffect(()=>r,a),De.useCallback(function(){const e=arguments,{current:a}=i;if(void 0===a&&n)return i.current=setTimeout(o,t),s.current.apply(null,e);a&&clearTimeout(a),i.current=setTimeout(()=>{i.current=void 0,s.current.apply(null,e)},t)},a)};function sie(e,t,n,s){const i=De.useRef(n),a=De.useRef(s);De.useEffect(()=>{i.current=n,a.current=s}),De.useEffect(()=>{const n=e&&"current"in e?e.current:e;if(!n)return;let s=0;function r(...e){s||i.current.apply(this,e)}n.addEventListener(t,r);const o=a.current;return()=>{s=1,n.removeEventListener(t,r),o&&o()}},[e,t])}const iie={},aie="undefined"==typeof window?null:window,rie=aie&&void 0!==aie.visualViewport?aie.visualViewport:null,oie=()=>[document.documentElement.clientWidth,document.documentElement.clientHeight],lie=function(e){void 0===e&&(e=iie);const{wait:t,leading:n,initialWidth:s=0,initialHeight:i=0}=e,[a,r]=((e,t,n)=>{const s=De.useState(e);return[s[0],nie(s[1],t,n)]})("undefined"==typeof document?[s,i]:oie,t,n),o=()=>r(oie);return sie(aie,"resize",o),sie(rie,"resize",o),sie(aie,"orientationchange",o),a},cie=({children:e,speed:t})=>{const s=De.useRef(null),i=De.useRef(null),a=De.useRef(0),[r,o]=lie();De.useEffect(()=>{s.current&&(i.current=s.current.getBoundingClientRect())},[r,o]);const[l,c]=function(e){var t=De.useRef(null),n=De.useRef(!1),s=De.useRef(e);s.current=e;var i=De.useCallback(function(e){n.current&&(s.current(e),t.current=requestAnimationFrame(i))},[]),a=De.useMemo(function(){return[function(){n.current&&(n.current=!1,t.current&&cancelAnimationFrame(t.current))},function(){n.current||(n.current=!0,t.current=requestAnimationFrame(i))},function(){return n.current}]},[]);return De.useEffect(function(){return a[0]},[]),a}(()=>{a.current-=t.get(),(()=>{if(!s.current||!i.current)return;const e=a.current/i.current.width*100;e<-100&&(a.current=0),e>0&&(a.current=-i.current.width),s.current.style.transform=`translate3d(${e}%, 0, 0)`})()});return De.useEffect(()=>{c()},[]),n.jsx("div",{className:"flex gap-4 whitespace-nowrap",ref:s,children:e})},die=({chipRows:e,isMobile:t=!1})=>{const s=.3,i=De.useRef([Ot(s,{damping:40,stiffness:90,mass:15}),Ot(-.3,{damping:40,stiffness:90,mass:15}),Ot(s,{damping:40,stiffness:90,mass:15}),Ot(-.3,{damping:40,stiffness:90,mass:15})]);return n.jsxs("div",{className:"relative md:h-60 overflow-hidden md:mb-12 max-md:h-[250px]",children:[n.jsx("div",{className:"absolute z-[5] top-0 bottom-0 left-0 right-0 bg-gradient-to-t from-white to-transparent"}),e.map((e,t)=>{const s=n.jsx(n.Fragment,{children:e.map((e,t)=>n.jsx("div",{className:"flex w-auto py-3 px-6 gap-2 bg-[#FF661A]/10 backdrop-blur-3xl rounded-[40px]",children:n.jsx("div",{className:"font-brockmann font-semibold text-xl leading-6 tracking-tight text-center text-[#E58517]",children:e.text})},t))});return n.jsxs("div",{className:"absolute flex w-full",style:{top:60*t+"px"},children:[n.jsx(cie,{speed:i.current[t],children:s}),n.jsx(cie,{speed:i.current[t],children:s})]},t)})]})},uie=({open:e,onOpenChange:t,onClose:s,onTryBroMode:i})=>{const a=jt(),{isMobile:r}=QE(),o=()=>{Zu(),t(!1),null==s||s(),fg(JS.BRO_MODE_INTRODUCTION_MODAL_CLOSED)};return De.useEffect(()=>{e&&fg(JS.BRO_MODE_INTRODUCTION_MODAL_OPENED)},[e]),n.jsx(V,{open:e,onOpenChange:e=>{e?t(e):o()},children:n.jsxs(W,{children:[n.jsx(O,{className:"fixed inset-0 z-50 bg-black/50 backdrop-blur-sm"}),n.jsxs(z,{className:"welcome-modal-content fixed left-[50%] rounded-3xl bg-white top-[50%] translate-x-[-50%] translate-y-[-50%] w-[900px] max-h-[90dvh] max-w-[90dvw] max-md:overflow-auto z-50 focus-visible:outline-none",children:[n.jsx("div",{className:"shadow-2xl rounded-3xl",children:n.jsxs("div",{className:"relative rounded-3xl overflow-hidden",style:{backgroundImage:`url(${r?gv.claude45backgroundMobile:gv.claude45background})`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"},children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-orange-25/80 via-orange-50/80 to-orange-100/80 rounded-3xl"}),n.jsx("button",{type:"button",onClick:e=>{e.preventDefault(),e.stopPropagation(),o()},className:"absolute z-30 flex items-center justify-center text-2xl text-gray-600 transition-all duration-200 border-none rounded-full cursor-pointer min-w-10 min-h-10 h-[40px] top-6 right-6 hover:scale-110","aria-label":"Close modal",children:n.jsx(MT,{className:"rounded-3xl backdrop-blur-3xl bg-[#331C14]/30 text-white",height:r?32:40,width:r?32:40})}),n.jsx(die,{chipRows:[[{text:"Deeper Research",variant:"primary"},{text:"Better Feature Retention",variant:"primary"},{text:"Longer tasks",variant:"primary"},{text:"Higher First-Try Accuracy",variant:"light"}],[{text:"Better Context Retention",variant:"light"},{text:"Fewer Hallucinations",variant:"light"},{text:"Better Agent Sync",variant:"light"},{text:"Seamless Forking",variant:"primary"}],[{text:"Higher First-Try Accuracy",variant:"light"},{text:"Longer tasks",variant:"primary"},{text:"Better Feature Retention",variant:"primary"},{text:"Better Design Accuracy",variant:"light"}],[{text:"Seamless Forking",variant:"primary"},{text:"Better Agent Sync",variant:"light"},{text:"Fewer Hallucinations",variant:"light"},{text:"Better Context Retention",variant:"light"}]],isMobile:r}),n.jsxs("div",{className:"relative z-20 p-5 pb-8 md:px-[100px] md:pb-[100px] text-center",children:[n.jsxs(Pt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"inline-flex items-center text-[#E58517] px-4 py-2 rounded-full text-sm font-medium shadow-sm gap-4 bg-[#FF661A]/10 "+(r?"mb-0":"mb-8"),children:[n.jsx("div",{className:"w-4 h-4 rounded-md bg-[#E58517]/20 flex items-center justify-center",children:n.jsx("div",{className:"w-2 h-2 rounded-[2px] bg-[#E58517]/60"})}),n.jsx("span",{className:"font-[brockmann] font-semibold text-xl leading-6 tracking-tight text-center",children:"Introducing"}),n.jsx("div",{className:"w-4 h-4 rounded-md bg-[#E58517]/20 flex items-center justify-center",children:n.jsx("div",{className:"w-2 h-2 rounded-[2px] bg-[#E58517]/60"})})]}),n.jsx(Pt.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6,delay:.3},className:(r?"mb-0":"mb-6")+" flex justify-center",children:n.jsx("img",{src:gv.claudeText,alt:"Claude 4.5 Sonnet",className:"object-contain w-auto h-24 xl:h-18 lg:h-16 md:h-14 sm:h-12"})}),n.jsx(Pt.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4},className:"font-[brockmann] font-semibold tracking-tighter text-center text-[#0A171A] mb-8 "+(r?"text-base leading-6":"text-xl leading-7"),children:"A big leap in the AI agents capabilities of handling complex, multi-feature applications without the need of constant rework."}),n.jsx("div",{className:"flex items-center justify-center gap-4 md:flex-col md:gap-3",children:n.jsxs(Pt.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.6},type:"button",className:"flex md:w-auto h-12 py-3 w-full items-center justify-center px-5 gap-4 bg-[#FF661A] shadow-lg shadow-[#FF661A]/40",style:{borderRadius:"30px",boxShadow:"0 0 20px rgba(255, 102, 26, 0.4), inset 0 2.18px 3.64px 1.45px rgba(255, 255, 255, 0.4)"},onClick:()=>{Zu(),t(!1),a(Yf(!0)),a(Zf(!0)),null==i||i(),fg(JS.BRO_MODE_INTRODUCTION_TRY_CLICKED)},children:[n.jsxs("div",{className:"font-semibold leading-6 tracking-tight text-center text-white md:text-lg font-brockmann drop-shadow-lg",style:{filter:"drop-shadow(0 0 20px rgba(255, 255, 255, 0.6))"},children:["Try Claude Sonnet 4.5 ",!r&&"Mode"]}),n.jsx(IM,{className:"w-6 h-6 p-0.5 text-[#0A171A] bg-white rounded-full transition-transform duration-200 group-hover:translate-x-1"})]})})]})]})}),n.jsx("style",{children:"\n            /* Custom orange shades */\n            .from-orange-25 {\n              --tw-gradient-from: #fffbf5 var(--tw-gradient-from-position);\n            }\n\n            .to-orange-100 {\n              --tw-gradient-to: #fed7aa var(--tw-gradient-to-position);\n            }\n\n            .bg-orange-25 {\n              background-color: #fffbf5;\n            }\n\n            .bg-orange-50 {\n              background-color: #fff7ed;\n            }\n\n            .text-orange-700 {\n              color: #c2410c;\n            }\n\n            .border-orange-100 {\n              border-color: #fed7aa;\n            }\n\n            .bg-orange-500 {\n              background-color: #f97316;\n            }\n\n            .text-orange-500 {\n              color: #f97316;\n            }\n\n            .from-orange-400 {\n              --tw-gradient-from: #fb923c var(--tw-gradient-from-position);\n            }\n\n            .to-orange-500 {\n              --tw-gradient-to: #f97316 var(--tw-gradient-to-position);\n            }\n\n            .from-orange-500 {\n              --tw-gradient-from: #f97316 var(--tw-gradient-from-position);\n            }\n\n            .to-orange-600 {\n              --tw-gradient-to: #ea580c var(--tw-gradient-to-position);\n            }\n\n            .from-orange-600 {\n              --tw-gradient-from: #ea580c var(--tw-gradient-from-position);\n            }\n\n            .to-orange-700 {\n              --tw-gradient-to: #c2410c var(--tw-gradient-to-position);\n            }\n\n            .from-blue-400 {\n              --tw-gradient-from: #60a5fa var(--tw-gradient-from-position);\n            }\n\n            .to-blue-500 {\n              --tw-gradient-to: #3b82f6 var(--tw-gradient-to-position);\n            }\n\n            .border-blue-400 {\n              border-color: #60a5fa;\n            }\n\n            .bg-blue-400 {\n              background-color: #60a5fa;\n            }\n\n            .bg-blue-500 {\n              background-color: #3b82f6;\n            }\n\n            /* Hide scrollbar but keep functionality */\n            .overflow-hidden::-webkit-scrollbar {\n              display: none;\n            }\n            .overflow-hidden {\n              -ms-overflow-style: none;\n              scrollbar-width: none;\n            }\n          "})]})]})})},pie=gv.common.foregroundImage,mie=gv.common.starsGif,hie=({onBack:e})=>n.jsxs(Pt.div,{className:"relative flex flex-col w-full gap-2 pb-4 md:gap-4 md:pb-8",initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3,ease:"easeInOut"},children:[n.jsx(Pt.div,{className:"sticky top-0 p-4 bg-[#18181A] md:px-6 md:pt-6 z-[10]",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.3,delay:.1},children:n.jsxs("div",{className:"bg-[#18181A] flex items-center gap-4 ",children:[n.jsx("button",{type:"button",onClick:e,className:"w-10 h-10 bg-[#FFFFFF0D] rounded-full flex items-center justify-center text-[#737780] backdrop-blur-lg hover:text-white transition-colors hover:bg-[#FFFFFF0A]","aria-label":"Go back",children:n.jsx(Rk,{className:"w-5 h-5"})}),n.jsx("h2",{className:"text-white/80 text-[18px] md:text-[24px] font-semibold",children:"Terms & Conditions"})]})}),n.jsx(Pt.div,{className:"px-4 space-y-3 md:space-y-6 md:px-8",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3,delay:.2,staggerChildren:.1,delayChildren:.3},children:[{title:"New users only",description:"This referral program is exclusively for first-time users who haven't previously created an account."},{title:"Reward eligibility",description:"You earn credits when someone signs up using your referral code and purchases their first subscription."},{title:"Program flexibility",description:"We may modify, suspend, or discontinue this referral program at any time without prior notice."},{title:"Appropriate sharing",description:"Share your referral link responsibly in relevant contexts. Spam, misleading promotions, or inappropriate distribution may result in account penalties."},{title:"Quality control",description:"We monitor for fraudulent activity and may withhold rewards or suspend accounts that violate our community standards."},{title:"One reward per referral",description:"Each successfully referred user earns you credits once. Multiple referrals from the same user are not eligible for additional rewards."}].map((e,t)=>n.jsx(Pt.div,{className:"space-y-3",initial:{opacity:0,y:20,x:-10},animate:{opacity:1,y:0,x:0},transition:{duration:.4,delay:.1*t,ease:"easeOut"},children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"flex items-center justify-center rounded-[8px] bg-white/10 backdrop-blur-lg max-h-5 max-w-5 min-h-5 min-w-5",children:n.jsx("div",{className:" w-2 h-2 bg-white rounded-[1.5px]"})}),n.jsxs("div",{className:"flex flex-col gap-1",children:[n.jsx("h3",{className:"text-white text-[16px] font-medium ",children:e.title}),n.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:e.description})]})]})},t))})]}),xie=({isOpen:e,onOpenChange:t,pusherData:s={}})=>{const{bannerHeight:i}=fL(),a=i+56,[r,o]=De.useState(!1),{dailyCredits:l,maxCredits:c,numberOfStates:d,dataCount:u}=De.useMemo(()=>{const e=(null==s?void 0:s.daily_credit_per_day)||5,t=(null==s?void 0:s.daily_credit_max_per_window)||25,n=Math.ceil(t/e);return{dailyCredits:e,maxCredits:t,numberOfStates:n,dataCount:s.count>=1&&s.count<=n?s.count-1:0}},[s]),p=e=>{o(!1),t(e)},{isMobile:m}=QE();if(!e)return null;const h=[{title:`${l} Daily credits`,subtitle:"deposited to your account.",description:`Looks like you are enjoying your daily credits. Come back tomorrow to get your next batch of ${l} Credits.`,buttonText:"Start Building"},{title:"Welcome Back!",subtitle:"Here are your credits.",description:"You've successfully claimed your daily credits. Use them wisely to build amazing projects.",buttonText:"Continue Building"},{title:"Streak Bonus!",subtitle:"Extra credits awarded.",description:"You're on a roll! Keep your streak going to earn bonus credits and unlock special features.",buttonText:"Keep Going"},{title:"Milestone Reached!",subtitle:"Achievement unlocked.",description:"Congratulations! You've reached a new milestone. Your dedication is paying off with bonus rewards.",buttonText:"Claim Rewards"},{title:"Premium Bonus",subtitle:"VIP credits deposited.",description:"As a valued premium member, enjoy your enhanced daily credit allocation and exclusive benefits.",buttonText:"Access Premium"}].slice(0,d).map((e,t)=>({...e,index:t,creditsEarned:t+1})),x=h[Math.min(u,h.length-1)];return n.jsx(Rt,{children:e&&n.jsx(Pt.div,{style:{top:`${a}px`},className:fb("fixed inset-0 w-full z-[49] flex items-center justify-center bg-[#0e0e0f50] backdrop-blur-[5px]"),onClick:()=>p(!1),initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2,ease:"easeInOut"},children:n.jsxs(Pt.div,{className:"relative max-md:max-w-[95dvw] overflow-y-auto w-full max-w-[600px] mx-auto bg-[#18181A] border border-[#242424] max-md:max-h-[505px] md:h-[550px] rounded-[20px] font-['Inter'] "+(r?"p-0":"p-2"),onClick:e=>e.stopPropagation(),initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},transition:{duration:.2,ease:"easeInOut"},children:[n.jsx("div",{className:"sticky top-0 h-0 w-full z-[20]",children:n.jsx("button",{type:"button",onClick:e=>{e.stopPropagation(),p(!1)},className:"absolute top-2 right-2 md:top-4 md:right-4 w-10 h-10 bg-[#FFFFFF0D] rounded-full flex items-center justify-center text-[#737780] backdrop-blur-lg hover:text-white transition-colors hover:bg-[#FFFFFF0A]","aria-label":"Close modal",children:n.jsx(RS,{className:"w-5 h-5 max-md:w-4 max-md:h-4"})})}),n.jsx(Pt.img,{src:pie,alt:"Overlay",className:"absolute inset-0 w-full h-full object-cover pointer-events-none z-[1000] scale-x-[-1]",style:{mixBlendMode:"screen"},initial:{opacity:0},animate:{opacity:.25},transition:{duration:1,ease:"easeOut"}}),n.jsx(Rt,{mode:"wait",children:r?n.jsx(hie,{onBack:()=>o(!1)},"terms"):n.jsx(Pt.div,{className:"flex flex-col w-full gap-4 pb-6 md:gap-6 md:pb-8",initial:{opacity:0,x:0},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},children:n.jsx(Pt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3,delay:.4},children:n.jsxs(Pt.div,{className:"",initial:"hidden",animate:"visible",variants:{hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.1}}},children:[n.jsx("div",{className:"bg-[#000] px-2 max-md:py-[58px] md:py-20 rounded-[16px]",children:n.jsx("div",{className:"relative flex items-center justify-center ",children:h.map((e,t)=>n.jsxs(De.Fragment,{children:[n.jsxs("div",{className:"flex flex-col items-center w-12",children:[n.jsx("div",{className:"w-10 md:w-12 h-10 md:h-12 rounded-full flex items-center justify-center",children:t==x.index?n.jsxs("div",{className:"relative w-10 h-10 md:w-12 md:h-12",children:[n.jsxs("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"w-full h-full",children:[n.jsx("circle",{cx:"24",cy:"24",r:"24",fill:"#323329"}),n.jsx("circle",{cx:"24",cy:"24",r:"15",fill:"#F9FFA3"}),n.jsx("path",{d:"M18 24L22 28L30 20",stroke:"black","stroke-width":"2.5","stroke-linecap":"round","stroke-linejoin":"round",fill:"none"})]}),n.jsx("div",{className:"absolute -right-6 -top-8",children:n.jsx("img",{src:mie,alt:"Stars",className:"w-6 h-full"})})]}):n.jsx("div",{className:"w-10 h-10 md:w-12 md:h-12",children:n.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",fill:"none",className:"w-full h-full",children:[n.jsx("path",{d:"M0 24C0 10.7452 10.7452 0 24 0C37.2548 0 48 10.7452 48 24C48 37.2548 37.2548 48 24 48C10.7452 48 0 37.2548 0 24Z",fill:"black"}),n.jsx("path",{d:"M24 0.5C36.9787 0.5 47.5 11.0213 47.5 24C47.5 36.9787 36.9787 47.5 24 47.5C11.0213 47.5 0.5 36.9787 0.5 24C0.5 11.0213 11.0213 0.5 24 0.5Z",stroke:"white","stroke-opacity":"0.12"}),n.jsx("path",{d:"M24 8C32.8366 8 40 15.1634 40 24C40 32.8366 32.8366 40 24 40C15.1634 40 8 32.8366 8 24C8 15.1634 15.1634 8 24 8ZM24.8174 17.1797C24.2902 15.8732 23.8451 15.4353 23.2119 16.9951C21.8269 20.3193 20.1741 21.9035 16.9189 23.2754C16.5921 23.4264 16.0038 23.6891 16 24C16.0042 24.3107 16.5884 24.5727 16.9189 24.7236C20.1701 26.0915 21.827 27.6797 23.2119 31.0039C23.8527 32.5918 24.2991 32.0934 24.8174 30.8203C26.2062 27.6073 27.7565 26.1158 31.0322 24.7236C31.3756 24.5599 31.9424 24.3428 32 24.0166V23.9795C31.9426 23.6558 31.3794 23.4353 31.0322 23.2715V23.2754C27.757 21.8833 26.2062 20.3936 24.8174 17.1797Z",fill:"#FFF"})]})})}),!m&&n.jsxs("div",{className:"hidden md:block text-[14px] mt-2 whitespace-nowrap overflow-hidden "+(t==x.index?"text-[#F9FFA3]":"text-gray-400"),children:[l," Credits"]})]}),s&&(null==s?void 0:s.bonus_credit)&&n.jsx("p",{className:"bg-[#F8FFA0] rounded-[4px] max-md:hidden absolute left-12 -bottom-[30px] px-1 text-[#090909] w-fit text-center font-semibold text-[14px] leading-5 tracking-tight",children:"+5 Bonus Credits"}),t<h.length-1&&n.jsx("div",{className:"flex items-start h-px border-t-2 border-dotted max-md:w-6 md:w-10 md:-mt-7",style:{borderColor:"#535353"}})]},e))})}),n.jsxs("div",{className:"mt-8 w-full max-w-[450px] mx-auto",children:[n.jsxs("p",{className:"text-center font-semibold text-[24px] md:text-[32px] leading-[40px] tracking-[-0.64px] text-white",children:[n.jsxs("span",{className:"text-[#F8FF99]",children:[l," daily credits"]}),n.jsx("br",{}),"deposited to your account."]}),n.jsxs("p",{className:"mt-4 text-center font-[Inter] font-medium text-[14px] md:text-[15px] leading-5 text-white/50",children:["Looks like you are enjoying your daily credits. Come back tomorrow to get your next batch of "," ",n.jsxs("span",{className:"text-[#F8FF99]",children:[l," Credits."]})]}),n.jsx(PA,{height:"40%",top:"60%",gridSizeX:100,gridSizeY:40,gridLineWidth:.8,gridOpacity:.3,backgroundColor:"",showFade:!1}),n.jsxs("button",{onClick:()=>p(!1),className:"mt-6 md:mt-8 max-md:w-w-[95%] mx-auto relative flex items-center justify-center gap-3 py-4 text-base font-semibold leading-6 tracking-wide text-black transition-colors bg-white rounded-full px-14 hover:bg-gray-100 get-started-button before:absolute before:inset-0 before:-m-1 before:rounded-full before:border before:border-[#FFFFFF26] before:-z-10",children:["Start Building",n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"24",viewBox:"0 0 25 24",fill:"none",children:n.jsx("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M20.1395 11.1333C20.6202 11.6139 20.6202 12.3933 20.1395 12.8739L14.6011 18.4123C14.1204 18.8929 13.3412 18.8929 12.8606 18.4123C12.3798 17.9316 12.3798 17.1524 12.8606 16.6718L16.2979 13.2343L5.73081 13.2343C5.05106 13.2343 4.5 12.6833 4.5 12.0035C4.5 11.3239 5.05106 10.7728 5.73081 10.7728L16.2979 10.7728L12.8606 7.3354C12.3798 6.85478 12.3798 6.07552 12.8606 5.59489C13.3412 5.1142 14.1204 5.1142 14.6011 5.59489L20.1395 11.1333Z",fill:"black"})})]})]})]})})},"main")})]})})})},fie=({isOpen:e,onOpenChange:t,shareableLink:s,fromShowcase:i=!1,previewUrl:a})=>{const[r,o]=De.useState(!1),[l,c]=De.useState(!1),d=De.useRef(null),{newToast:u}=tD(),{referralInfo:p}=lT(),m=De.useRef(null);De.useEffect(()=>()=>{d.current&&clearTimeout(d.current)},[]);const h=async e=>{if(!a)return;fg(KS,{platform:e,previewUrl:a,fromShowcase:i,shareableLink:s});const t=`${`Check out my latest creation on Emergent! ${a}`}\n\n${`I'm using Emergent to bring my ideas to life. Join me and 1.5M+ builders: https://app.emergent.sh/register?ref=${(null==p?void 0:p.referralCode)||"emergent"}`}`,n=encodeURIComponent(t),r={twitter:`https://twitter.com/intent/tweet?text=${n}`,linkedin:`https://www.linkedin.com/feed/?shareActive=true&text=${n}`,reddit:`https://reddit.com/submit?url=${encodeURIComponent(a)}&title=${n}`};if("discord"===e)return await navigator.clipboard.writeText(t),void u.success("Copied to clipboard! Paste it in your Discord channel.");if("linkedin"===e)try{await navigator.clipboard.writeText(t)}catch{}window.open(r[e],"_blank")};return e?Re.createPortal(n.jsx(Rt,{children:n.jsxs("div",{className:"fixed inset-0 z-[999] flex items-center justify-center",children:[n.jsx(Pt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"absolute inset-0 bg-black/80 backdrop-blur-sm",onClick:()=>t(!1)}),n.jsxs(Pt.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},transition:{duration:.2,ease:"easeOut"},className:"relative m-1 mx-auto max-w-[calc(100vw-12px)] md:w-[600px] bg-[#18181A] rounded-2xl shadow-2xl overflow-hidden",onClick:e=>e.stopPropagation(),children:[n.jsx("div",{className:"px-4 pt-4",children:a&&n.jsxs("div",{ref:m,className:"relative w-full overflow-hidden rounded-[16px]",style:{height:"260px",backgroundImage:"url(https://assets.emergent.sh/social-sharing-bg.png)",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"},children:[n.jsx("button",{id:"crossButton",type:"button",title:"Close",onClick:()=>t(!1),className:"absolute top-2 right-2 w-8 h-8 p-[6px] text-white bg-white/10 rounded-[24px] backdrop-blur-[25px] transition-colors",children:n.jsx("svg",{width:"20",height:"21",viewBox:"0 0 20 21",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.64678 5.14483C4.97531 4.81631 5.50795 4.81631 5.83647 5.14483L10.0004 9.30875L14.1643 5.14483C14.4928 4.81631 15.0254 4.81631 15.354 5.14483C15.6825 5.47336 15.6825 6.00599 15.354 6.33451L11.1901 10.4984L15.354 14.6623C15.6825 14.9909 15.6825 15.5235 15.354 15.8521C15.0254 16.1806 14.4928 16.1806 14.1643 15.8521L10.0004 11.6881L5.83647 15.8521C5.50795 16.1806 4.97531 16.1806 4.64678 15.8521C4.31826 15.5235 4.31826 14.9909 4.64678 14.6623L8.81071 10.4984L4.64678 6.33451C4.31826 6.00599 4.31826 5.47336 4.64678 5.14483Z",fill:"white"})})}),n.jsx("div",{className:"absolute bottom-0 w-full max-md:px-4 md:px-12",children:n.jsx("div",{className:"relative w-full h-[180px] rounded-t-[20px] overflow-hidden backdrop-blur-[40.69px] shadow-[inset_-0.814px_-0.814px_0_rgba(0,0,0,0.05)]",children:n.jsx("div",{className:"absolute inset-0 rounded-t-[20px] pt-[8px] px-[8px] pb-0 bg-gradient-to-b from-[rgba(255,255,255,0.40)] to-[rgba(255,255,255,0.16)]",children:n.jsx("div",{className:"w-full h-full rounded-t-[12px] overflow-hidden backdrop-blur-[40.69px] bg-[rgba(0,0,0,0.5)]",children:n.jsx("iframe",{src:a,className:"absolute pointer-events-none",style:{width:"200%",height:"200%",transform:"scale(0.5)",transformOrigin:"top left",left:"0",top:"0"},scrolling:"no",onLoad:()=>{},onError:e=>{},title:"App Preview",sandbox:"allow-scripts allow-same-origin allow-forms allow-popups"})})})})})]})}),n.jsxs("div",{className:"flex flex-col p-4 md:p-6",children:[n.jsxs("div",{className:"flex flex-col",children:[n.jsx("div",{className:"flex items-start justify-between",children:n.jsx("h2",{className:"text-[18px] md:text-[24px] text-[#FFFFFF] font-medium leading-6 md:leading-[32px] -tracking-[0.25px]",children:"Share your creation with the world"})}),n.jsxs("p",{className:"mt-2 text-[14px] md:text-[16px] font-medium md:leading-[24px] text-[#737780] font-['Inter']",children:[i?"Share this incredible app and spread the word about what our community is building.":"Share a live preview of your app with anyone. Perfect for gathering feedback or quick testing before deployment."," ",!i&&n.jsx("a",{href:iv,target:"_blank",rel:"noopener noreferrer",className:"text-[#6695FF] hover:text-[#6695FF]/80 underline transition-colors font-['Inter']",children:"Learn about sharing"})]}),n.jsxs("div",{className:"flex flex-wrap mt-6 space-x-4",children:[n.jsxs("div",{className:"bg-[#262627] p-5 rounded-[40px] cursor-pointer hover:bg-[radial-gradient(50%_50%_at_50%_50%,rgba(233,233,233,0.20)_0%,rgba(233,233,233,0.10)_100%)] hover:backdrop-blur-[25px] text-[#CFCFE6] hover:text-white transition-colors relative "+(l?"opacity-50":""),onClick:()=>h("twitter"),title:"Share screenshot on Twitter",children:[l?n.jsx("div",{className:"w-6 h-6 border-2 border-gray-300 rounded-full animate-spin border-t-white"}):n.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{d:"M20.133 19.8478L14.2643 10.6247L20.0552 4.25438C20.1862 4.10674 20.2537 3.91343 20.2431 3.71636C20.2325 3.51929 20.1446 3.33435 19.9986 3.20161C19.8525 3.06888 19.66 2.99907 19.4628 3.00731C19.2657 3.01555 19.0797 3.10117 18.9452 3.24562L13.4289 9.31312L9.633 3.34781C9.56531 3.24127 9.47183 3.15353 9.36121 3.09274C9.25059 3.03194 9.12642 3.00004 9.00019 3H4.50019C4.36571 2.99993 4.2337 3.03603 4.11796 3.10449C4.00222 3.17296 3.90702 3.27129 3.84232 3.38918C3.77763 3.50707 3.74582 3.64018 3.75023 3.77458C3.75463 3.90898 3.7951 4.03973 3.86738 4.15313L9.73613 13.3753L3.94519 19.7503C3.87756 19.823 3.82503 19.9083 3.79063 20.0014C3.75623 20.0945 3.74065 20.1935 3.74479 20.2927C3.74894 20.3918 3.77272 20.4892 3.81477 20.5791C3.85681 20.669 3.91628 20.7496 3.98973 20.8164C4.06318 20.8831 4.14915 20.9346 4.24265 20.9679C4.33615 21.0012 4.43533 21.0156 4.53443 21.0103C4.63354 21.0049 4.7306 20.98 4.81999 20.9369C4.90938 20.8937 4.98932 20.8333 5.05519 20.7591L10.5714 14.6916L14.3674 20.6569C14.4356 20.7625 14.5293 20.8494 14.6399 20.9093C14.7505 20.9693 14.8744 21.0005 15.0002 21H19.5002C19.6345 21 19.7664 20.9638 19.882 20.8954C19.9976 20.827 20.0927 20.7288 20.1573 20.611C20.222 20.4933 20.2539 20.3604 20.2496 20.2261C20.2453 20.0918 20.205 19.9612 20.133 19.8478ZM15.4118 20.5L5.86613 4.5H8.58488L18.1343 20.5H15.4118Z",fill:"currentColor"})}),l&&n.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:n.jsx(Hk,{className:"w-4 h-4 text-white/50"})})]}),n.jsx("div",{onClick:()=>h("linkedin"),className:"bg-[#262627] p-5 rounded-[40px] text-[#CFCFE6] hover:text-[#198FD6] hover:bg-[radial-gradient(50%_50%_at_50%_50%,rgba(25,143,214,0.20)_0%,rgba(25,143,214,0.10)_100%)] hover:backdrop-blur-[25px] cursor-pointer transition-colors",children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"25",viewBox:"0 0 24 25",fill:"none",children:n.jsx("path",{d:"M6.93945 5.501C6.93919 6.03143 6.72822 6.54004 6.35296 6.91492C5.9777 7.28981 5.46889 7.50027 4.93845 7.5C4.40802 7.49974 3.89942 7.28877 3.52453 6.91351C3.14965 6.53825 2.93919 6.02943 2.93945 5.499C2.93972 4.96857 3.15069 4.45996 3.52595 4.08508C3.90121 3.71019 4.41002 3.49974 4.94045 3.5C5.47089 3.50027 5.97949 3.71123 6.35437 4.08649C6.72926 4.46175 6.93972 4.97057 6.93945 5.501ZM6.99945 8.981H2.99945V21.501H6.99945V8.981ZM13.3195 8.981H9.33945V21.501H13.2795V14.931C13.2795 11.271 18.0495 10.931 18.0495 14.931V21.501H21.9995V13.571C21.9995 7.401 14.9395 7.631 13.2795 10.661L13.3195 8.981Z",fill:"currentColor"})})}),n.jsx("div",{onClick:()=>h("reddit"),className:"bg-[#262627] p-5 rounded-[40px] cursor-pointer text-[#CFCFE6] hover:text-[#FF5700] hover:bg-[radial-gradient(50%_50%_at_50%_50%,rgba(255,69,0,0.20)_0%,rgba(255,69,0,0.10)_100%)] hover:backdrop-blur-[25px] transition-colors",children:n.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",children:[n.jsx("path",{d:"M12 9.5C16.42 9.5 20 11.87 20 14.79C20 17.71 16.42 20.08 12 20.08C7.58 20.08 4 17.71 4 14.79C4 11.87 7.58 9.5 12 9.5Z",fill:"currentColor",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),n.jsx("circle",{cx:"3.94",cy:"12.05",r:"2.24",fill:"currentColor"}),n.jsx("circle",{cx:"20.06",cy:"12.05",r:"2.24",fill:"currentColor"}),n.jsx("circle",{cx:"18.45",cy:"4.32",r:"1.61",fill:"currentColor"}),n.jsx("path",{d:"M12 8.83L13.18 3.19L18.21 4.26",stroke:"currentColor","stroke-width":"0.8","stroke-linecap":"round","stroke-linejoin":"round"}),n.jsx("circle",{cx:"8.45",cy:"13.67",r:"1.61",fill:"black"}),n.jsx("circle",{cx:"15.55",cy:"13.67",r:"1.61",fill:"black"}),n.jsx("path",{d:"M8.47 17.6C8.47 17.6 9.41 18.66 11.999 18.66C14.579 18.66 15.529 17.6 15.529 17.6",stroke:"black","stroke-width":"0.8","stroke-linecap":"round","stroke-linejoin":"round"})]})}),n.jsx("div",{onClick:()=>h("discord"),className:"bg-[#262627] p-5 rounded-[40px] cursor-pointer text-[#CFCFE6] hover:text-[#99A1FF] hover:bg-[radial-gradient(50%_50%_at_50%_50%,rgba(153,161,255,0.20)_0%,rgba(153,161,255,0.10)_100%)] transition-colors",children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"25",viewBox:"0 0 24 25",fill:"none",children:n.jsx("path",{d:"M19.2701 5.83C17.9401 5.21 16.5001 4.76 15.0001 4.5C14.9737 4.50038 14.9486 4.51116 14.9301 4.53C14.7501 4.86 14.5401 5.29 14.4001 5.62C12.8091 5.38015 11.1911 5.38015 9.60012 5.62C9.46012 5.28 9.25012 4.86 9.06012 4.53C9.05012 4.51 9.02012 4.5 8.99012 4.5C7.49012 4.76 6.06012 5.21 4.72012 5.83C4.71012 5.83 4.70012 5.84 4.69012 5.85C1.97012 9.92 1.22012 13.88 1.59012 17.8C1.59012 17.82 1.60012 17.84 1.62012 17.85C3.42012 19.17 5.15012 19.97 6.86012 20.5C6.89012 20.51 6.92012 20.5 6.93012 20.48C7.33012 19.93 7.69012 19.35 8.00012 18.74C8.02012 18.7 8.00012 18.66 7.96012 18.65C7.39012 18.43 6.85012 18.17 6.32012 17.87C6.28012 17.85 6.28012 17.79 6.31012 17.76C6.42012 17.68 6.53012 17.59 6.64012 17.51C6.66012 17.49 6.69012 17.49 6.71012 17.5C10.1501 19.07 13.8601 19.07 17.2601 17.5C17.2801 17.49 17.3101 17.49 17.3301 17.51C17.4401 17.6 17.5501 17.68 17.6601 17.77C17.7001 17.8 17.7001 17.86 17.6501 17.88C17.1301 18.19 16.5801 18.44 16.0101 18.66C15.9701 18.67 15.9601 18.72 15.9701 18.75C16.2901 19.36 16.6501 19.94 17.0401 20.49C17.0701 20.5 17.1001 20.51 17.1301 20.5C18.8501 19.97 20.5801 19.17 22.3801 17.85C22.4001 17.84 22.4101 17.82 22.4101 17.8C22.8501 13.27 21.6801 9.34 19.3101 5.85C19.3001 5.84 19.2901 5.83 19.2701 5.83ZM8.52012 15.41C7.49012 15.41 6.63012 14.46 6.63012 13.29C6.63012 12.12 7.47012 11.17 8.52012 11.17C9.58012 11.17 10.4201 12.13 10.4101 13.29C10.4101 14.46 9.57012 15.41 8.52012 15.41ZM15.4901 15.41C14.4601 15.41 13.6001 14.46 13.6001 13.29C13.6001 12.12 14.4401 11.17 15.4901 11.17C16.5501 11.17 17.3901 12.13 17.3801 13.29C17.3801 14.46 16.5501 15.41 15.4901 15.41Z",fill:"currentColor"})})})]}),n.jsx("p",{className:"mt-6 text-gray-600 font-medium text-[14px] font-['Inter'] leading-5",children:"Or Copy link"})]}),n.jsxs("div",{className:"mt-3 px-2 md:pl-3 md:pr-2 py-2 border border-[#333] rounded-[10px] flex justify-between",children:[n.jsxs("div",{className:"flex cursor-pointer max-md:w-3/5 md:w-3/4",onClick:()=>{window.open(s,"_blank")},children:[n.jsx("div",{className:"self-center w-5 h-5",children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"21",viewBox:"0 0 20 21",fill:"none",children:n.jsx("path",{d:"M6.25 9.875H13.75C13.9158 9.875 14.0747 9.94085 14.1919 10.0581C14.3092 10.1753 14.375 10.3342 14.375 10.5C14.375 10.6658 14.3092 10.8247 14.1919 10.9419C14.0747 11.0592 13.9158 11.125 13.75 11.125H6.25C6.08424 11.125 5.92527 11.0592 5.80806 10.9419C5.69085 10.8247 5.625 10.6658 5.625 10.5C5.625 10.3342 5.69085 10.1753 5.80806 10.0581C5.92527 9.94085 6.08424 9.875 6.25 9.875ZM8.125 13.625H5C4.1712 13.625 3.37634 13.2958 2.79029 12.7097C2.20424 12.1237 1.875 11.3288 1.875 10.5C1.875 9.6712 2.20424 8.87634 2.79029 8.29029C3.37634 7.70424 4.1712 7.375 5 7.375H8.125C8.29076 7.375 8.44973 7.30915 8.56694 7.19194C8.68415 7.07473 8.75 6.91576 8.75 6.75C8.75 6.58424 8.68415 6.42527 8.56694 6.30806C8.44973 6.19085 8.29076 6.125 8.125 6.125H5C3.83968 6.125 2.72688 6.58594 1.90641 7.40641C1.08594 8.22688 0.625 9.33968 0.625 10.5C0.625 11.6603 1.08594 12.7731 1.90641 13.5936C2.72688 14.4141 3.83968 14.875 5 14.875H8.125C8.29076 14.875 8.44973 14.8092 8.56694 14.6919C8.68415 14.5747 8.75 14.4158 8.75 14.25C8.75 14.0842 8.68415 13.9253 8.56694 13.8081C8.44973 13.6908 8.29076 13.625 8.125 13.625ZM15 6.125H11.875C11.7092 6.125 11.5503 6.19085 11.4331 6.30806C11.3158 6.42527 11.25 6.58424 11.25 6.75C11.25 6.91576 11.3158 7.07473 11.4331 7.19194C11.5503 7.30915 11.7092 7.375 11.875 7.375H15C15.8288 7.375 16.6237 7.70424 17.2097 8.29029C17.7958 8.87634 18.125 9.6712 18.125 10.5C18.125 11.3288 17.7958 12.1237 17.2097 12.7097C16.6237 13.2958 15.8288 13.625 15 13.625H11.875C11.7092 13.625 11.5503 13.6908 11.4331 13.8081C11.3158 13.9253 11.25 14.0842 11.25 14.25C11.25 14.4158 11.3158 14.5747 11.4331 14.6919C11.5503 14.8092 11.7092 14.875 11.875 14.875H15C16.1603 14.875 17.2731 14.4141 18.0936 13.5936C18.9141 12.7731 19.375 11.6603 19.375 10.5C19.375 9.33968 18.9141 8.22688 18.0936 7.40641C17.2731 6.58594 16.1603 6.125 15 6.125Z",fill:"#7D7D7D"})})}),n.jsx("div",{className:"self-center w-full ml-3 truncate",children:n.jsx("p",{className:"text-[#fff]/80 group-hover:text-[#fff] text-[14px] md:text-[16px] font-['Inter'] break-all text-nowrap font-medium",children:null==s?void 0:s.slice(0,60)})})]}),n.jsx("button",{type:"button",onClick:async()=>{try{await navigator.clipboard.writeText(s),d.current&&clearTimeout(d.current),o(!0),d.current=setTimeout(()=>{o(!1),d.current=null},1e3)}catch(e){}},className:"max-md:ml-2 md:ml-5 bg-white hover:bg-white/90 text-[#0F0F10] font-semibold py-2 px-4 rounded-[8px]",children:n.jsx("span",{className:"max-md:text-[14px] md:text-[16px] font-bold leading-6 -tracking-[0.5px]",children:r?"Copied":"Copy Link"})})]}),!i&&n.jsxs("div",{className:"flex mt-4",children:[n.jsx("div",{className:"self-start w-4 h-4 mt-[2px]",children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"15",viewBox:"0 0 14 15",fill:"none",children:n.jsx("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M14 3.125C14 1.67525 12.8247 0.5 11.375 0.5H2.625C1.17525 0.5 0 1.67525 0 3.125V11.8751C0 13.3248 1.17525 14.5001 2.625 14.5001H11.375C12.8247 14.5001 14 13.3248 14 11.8751L14 3.125ZM6.99972 5.82299C7.60378 5.82299 8.09347 5.3333 8.09347 4.72924C8.09347 4.12518 7.60378 3.63549 6.99972 3.63549C6.39565 3.63549 5.90597 4.12518 5.90597 4.72924C5.90597 5.3333 6.39565 5.82299 6.99972 5.82299ZM5.90597 6.91674C5.50326 6.91674 5.1768 7.2432 5.1768 7.6459C5.1768 8.04861 5.50326 8.37507 5.90597 8.37507H6.63542L6.63542 11.1459C6.63542 11.5486 6.96188 11.8751 7.36458 11.8751C7.76729 11.8751 8.09375 11.5486 8.09375 11.1459L8.09375 7.6459C8.09375 7.2432 7.76729 6.91674 7.36458 6.91674H5.90597Z",fill:"#CC9666"})})}),n.jsx("p",{className:"ml-2 self-start max-md:text-[12px] md:text-[14px] text-[#CC9666] max-md:leading-4 md:leading-5 font-['Inter'] font-medium",children:"Preview links are active for 30 minutes only. To get a permanent link that never expires, deploy your app."})]})]})]})]})}),document.body):null};var gie={};!function e(t,n,s,i){var a=!!(t.Worker&&t.Blob&&t.Promise&&t.OffscreenCanvas&&t.OffscreenCanvasRenderingContext2D&&t.HTMLCanvasElement&&t.HTMLCanvasElement.prototype.transferControlToOffscreen&&t.URL&&t.URL.createObjectURL),r="function"==typeof Path2D&&"function"==typeof DOMMatrix;function o(){}function l(e){var s=n.exports.Promise,i=void 0!==s?s:t.Promise;return"function"==typeof i?new i(e):(e(o,o),null)}var c,d,u,p,m,h,x=function(e,t){return{transform:function(n){if(e)return n;if(t.has(n))return t.get(n);var s=new OffscreenCanvas(n.width,n.height);return s.getContext("2d").drawImage(n,0,0),t.set(n,s),s},clear:function(){t.clear()}}}(function(){if(!t.OffscreenCanvas)return!1;var e=new OffscreenCanvas(1,1),n=e.getContext("2d");n.fillRect(0,0,1,1);var s=e.transferToImageBitmap();try{n.createPattern(s,"no-repeat")}catch(i){return!1}return!0}(),new Map),f=(u=Math.floor(1e3/60),p={},m=0,"function"==typeof requestAnimationFrame&&"function"==typeof cancelAnimationFrame?(c=function(e){var t=Math.random();return p[t]=requestAnimationFrame(function n(s){m===s||m+u-1<s?(m=s,delete p[t],e()):p[t]=requestAnimationFrame(n)}),t},d=function(e){p[e]&&cancelAnimationFrame(p[e])}):(c=function(e){return setTimeout(e,u)},d=function(e){return clearTimeout(e)}),{frame:c,cancel:d}),g=function(){var t,n,i={};return function(){if(t)return t;if(!s&&a){var r=["var CONFETTI, SIZE = {}, module = {};","("+e.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join("\n");try{t=new Worker(URL.createObjectURL(new Blob([r])))}catch(o){return void 0!==typeof console&&console.warn,null}!function(e){function t(t,n){e.postMessage({options:t||{},callback:n})}e.init=function(t){var n=t.transferControlToOffscreen();e.postMessage({canvas:n},[n])},e.fire=function(s,a,r){if(n)return t(s,null),n;var o=Math.random().toString(36).slice(2);return n=l(function(a){function l(t){t.data.callback===o&&(delete i[o],e.removeEventListener("message",l),n=null,x.clear(),r(),a())}e.addEventListener("message",l),t(s,o),i[o]=l.bind(null,{data:{callback:o}})})},e.reset=function(){for(var t in e.postMessage({reset:!0}),i)i[t](),delete i[t]}}(t)}return t}}(),v={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function b(e,t,n){return function(e,t){return t?t(e):e}(e&&null!=e[t]?e[t]:v[t],n)}function y(e){return e<0?0:Math.floor(e)}function w(e,t){return Math.floor(Math.random()*(t-e))+e}function j(e){return parseInt(e,16)}function C(e){return e.map(N)}function N(e){var t=String(e).replace(/[^0-9a-f]/gi,"");return t.length<6&&(t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]),{r:j(t.substring(0,2)),g:j(t.substring(2,4)),b:j(t.substring(4,6))}}function F(e){e.width=document.documentElement.clientWidth,e.height=document.documentElement.clientHeight}function _(e){var t=e.getBoundingClientRect();e.width=t.width,e.height=t.height}function k(e){var t=e.angle*(Math.PI/180),n=e.spread*(Math.PI/180);return{x:e.x,y:e.y,wobble:10*Math.random(),wobbleSpeed:Math.min(.11,.1*Math.random()+.05),velocity:.5*e.startVelocity+Math.random()*e.startVelocity,angle2D:-t+(.5*n-Math.random()*n),tiltAngle:(.5*Math.random()+.25)*Math.PI,color:e.color,shape:e.shape,tick:0,totalTicks:e.ticks,decay:e.decay,drift:e.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:3*e.gravity,ovalScalar:.6,scalar:e.scalar,flat:e.flat}}function S(e,t){t.x+=Math.cos(t.angle2D)*t.velocity+t.drift,t.y+=Math.sin(t.angle2D)*t.velocity+t.gravity,t.velocity*=t.decay,t.flat?(t.wobble=0,t.wobbleX=t.x+10*t.scalar,t.wobbleY=t.y+10*t.scalar,t.tiltSin=0,t.tiltCos=0,t.random=1):(t.wobble+=t.wobbleSpeed,t.wobbleX=t.x+10*t.scalar*Math.cos(t.wobble),t.wobbleY=t.y+10*t.scalar*Math.sin(t.wobble),t.tiltAngle+=.1,t.tiltSin=Math.sin(t.tiltAngle),t.tiltCos=Math.cos(t.tiltAngle),t.random=Math.random()+2);var n=t.tick++/t.totalTicks,s=t.x+t.random*t.tiltCos,i=t.y+t.random*t.tiltSin,a=t.wobbleX+t.random*t.tiltCos,o=t.wobbleY+t.random*t.tiltSin;if(e.fillStyle="rgba("+t.color.r+", "+t.color.g+", "+t.color.b+", "+(1-n)+")",e.beginPath(),r&&"path"===t.shape.type&&"string"==typeof t.shape.path&&Array.isArray(t.shape.matrix))e.fill(function(e,t,n,s,i,a,r){var o=new Path2D(e),l=new Path2D;l.addPath(o,new DOMMatrix(t));var c=new Path2D;return c.addPath(l,new DOMMatrix([Math.cos(r)*i,Math.sin(r)*i,-Math.sin(r)*a,Math.cos(r)*a,n,s])),c}(t.shape.path,t.shape.matrix,t.x,t.y,.1*Math.abs(a-s),.1*Math.abs(o-i),Math.PI/10*t.wobble));else if("bitmap"===t.shape.type){var l=Math.PI/10*t.wobble,c=.1*Math.abs(a-s),d=.1*Math.abs(o-i),u=t.shape.bitmap.width*t.scalar,p=t.shape.bitmap.height*t.scalar,m=new DOMMatrix([Math.cos(l)*c,Math.sin(l)*c,-Math.sin(l)*d,Math.cos(l)*d,t.x,t.y]);m.multiplySelf(new DOMMatrix(t.shape.matrix));var h=e.createPattern(x.transform(t.shape.bitmap),"no-repeat");h.setTransform(m),e.globalAlpha=1-n,e.fillStyle=h,e.fillRect(t.x-u/2,t.y-p/2,u,p),e.globalAlpha=1}else if("circle"===t.shape)e.ellipse?e.ellipse(t.x,t.y,Math.abs(a-s)*t.ovalScalar,Math.abs(o-i)*t.ovalScalar,Math.PI/10*t.wobble,0,2*Math.PI):function(e,t,n,s,i,a,r,o,l){e.save(),e.translate(t,n),e.rotate(a),e.scale(s,i),e.arc(0,0,1,r,o,l),e.restore()}(e,t.x,t.y,Math.abs(a-s)*t.ovalScalar,Math.abs(o-i)*t.ovalScalar,Math.PI/10*t.wobble,0,2*Math.PI);else if("star"===t.shape)for(var f=Math.PI/2*3,g=4*t.scalar,v=8*t.scalar,b=t.x,y=t.y,w=5,j=Math.PI/w;w--;)b=t.x+Math.cos(f)*v,y=t.y+Math.sin(f)*v,e.lineTo(b,y),f+=j,b=t.x+Math.cos(f)*g,y=t.y+Math.sin(f)*g,e.lineTo(b,y),f+=j;else e.moveTo(Math.floor(t.x),Math.floor(t.y)),e.lineTo(Math.floor(t.wobbleX),Math.floor(i)),e.lineTo(Math.floor(a),Math.floor(o)),e.lineTo(Math.floor(s),Math.floor(t.wobbleY));return e.closePath(),e.fill(),t.tick<t.totalTicks}function E(e,n){var r,o=!e,c=!!b(n||{},"resize"),d=!1,u=b(n,"disableForReducedMotion",Boolean),p=a&&!!b(n||{},"useWorker")?g():null,m=o?F:_,h=!(!e||!p)&&!!e.__confetti_initialized,v="function"==typeof matchMedia&&matchMedia("(prefers-reduced-motion)").matches;function j(t,n,a){for(var o=b(t,"particleCount",y),c=b(t,"angle",Number),d=b(t,"spread",Number),u=b(t,"startVelocity",Number),p=b(t,"decay",Number),h=b(t,"gravity",Number),g=b(t,"drift",Number),v=b(t,"colors",C),j=b(t,"ticks",Number),N=b(t,"shapes"),F=b(t,"scalar"),_=!!b(t,"flat"),E=function(e){var t=b(e,"origin",Object);return t.x=b(t,"x",Number),t.y=b(t,"y",Number),t}(t),I=o,A=[],T=e.width*E.x,D=e.height*E.y;I--;)A.push(k({x:T,y:D,angle:c,spread:d,startVelocity:u,color:v[I%v.length],shape:N[w(0,N.length)],ticks:j,decay:p,gravity:h,drift:g,scalar:F,flat:_}));return r?r.addFettis(A):(r=function(e,t,n,a,r){var o,c,d=t.slice(),u=e.getContext("2d"),p=l(function(t){function l(){o=c=null,u.clearRect(0,0,a.width,a.height),x.clear(),r(),t()}o=f.frame(function t(){!s||a.width===i.width&&a.height===i.height||(a.width=e.width=i.width,a.height=e.height=i.height),a.width||a.height||(n(e),a.width=e.width,a.height=e.height),u.clearRect(0,0,a.width,a.height),(d=d.filter(function(e){return S(u,e)})).length?o=f.frame(t):l()}),c=l});return{addFettis:function(e){return d=d.concat(e),p},canvas:e,promise:p,reset:function(){o&&f.cancel(o),c&&c()}}}(e,A,m,n,a),r.promise)}function N(n){var s=u||b(n,"disableForReducedMotion",Boolean),i=b(n,"zIndex",Number);if(s&&v)return l(function(e){e()});o&&r?e=r.canvas:o&&!e&&(e=function(e){var t=document.createElement("canvas");return t.style.position="fixed",t.style.top="0px",t.style.left="0px",t.style.pointerEvents="none",t.style.zIndex=e,t}(i),document.body.appendChild(e)),c&&!h&&m(e);var a={width:e.width,height:e.height};function x(){if(p){var t={getBoundingClientRect:function(){if(!o)return e.getBoundingClientRect()}};return m(t),void p.postMessage({resize:{width:t.width,height:t.height}})}a.width=a.height=null}function f(){r=null,c&&(d=!1,t.removeEventListener("resize",x)),o&&e&&(document.body.contains(e)&&document.body.removeChild(e),e=null,h=!1)}return p&&!h&&p.init(e),h=!0,p&&(e.__confetti_initialized=!0),c&&!d&&(d=!0,t.addEventListener("resize",x,!1)),p?p.fire(n,a,f):j(n,a,f)}return N.reset=function(){p&&p.reset(),r&&r.reset()},N}function I(){return h||(h=E(null,{useWorker:!0,resize:!0})),h}n.exports=function(){return I().apply(this,arguments)},n.exports.reset=function(){I().reset()},n.exports.create=E,n.exports.shapeFromPath=function(e){if(!r)throw new Error("path confetti are not supported in this browser");var t,n;"string"==typeof e?t=e:(t=e.path,n=e.matrix);var s=new Path2D(t),i=document.createElement("canvas").getContext("2d");if(!n){for(var a,o,l=1e3,c=l,d=l,u=0,p=0,m=0;m<l;m+=2)for(var h=0;h<l;h+=2)i.isPointInPath(s,m,h,"nonzero")&&(c=Math.min(c,m),d=Math.min(d,h),u=Math.max(u,m),p=Math.max(p,h));a=u-c,o=p-d;var x=Math.min(10/a,10/o);n=[x,0,0,x,-Math.round(a/2+c)*x,-Math.round(o/2+d)*x]}return{type:"path",path:t,matrix:n}},n.exports.shapeFromText=function(e){var t,n=1,s="#000000",i='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';"string"==typeof e?t=e:(t=e.text,n="scalar"in e?e.scalar:n,i="fontFamily"in e?e.fontFamily:i,s="color"in e?e.color:s);var a=10*n,r=a+"px "+i,o=new OffscreenCanvas(a,a),l=o.getContext("2d");l.font=r;var c=l.measureText(t),d=Math.ceil(c.actualBoundingBoxRight+c.actualBoundingBoxLeft),u=Math.ceil(c.actualBoundingBoxAscent+c.actualBoundingBoxDescent),p=c.actualBoundingBoxLeft+2,m=c.actualBoundingBoxAscent+2;d+=4,u+=4,(l=(o=new OffscreenCanvas(d,u)).getContext("2d")).font=r,l.fillStyle=s,l.fillText(t,p,m);var h=1/n;return{type:"bitmap",bitmap:o.transferToImageBitmap(),matrix:[h,0,0,h,-d*h/2,-u*h/2]}}}(function(){return"undefined"!=typeof window?window:"undefined"!=typeof self?self:this||{}}(),gie,!1);const vie=gie.exports;gie.exports.create;const bie=({isOpen:e,onOpenChange:t,onGetStarted:s})=>{const{isMobile:i}=QE(),a=BE(),{userDetails:r}=Wg(),[o,l]=De.useState(!1),c="razorpay"===(null==r?void 0:r.payment_provider)&&"IN"===(null==r?void 0:r.country_code),[d,u]=De.useState(!1);De.useEffect(()=>{void 0!==r&&l(!0)},[r]),De.useEffect(()=>{if(e&&o){let e=function(e,t){return Math.random()*(t-e)+e};const t=2e3,n=Date.now()+t,s={startVelocity:30,spread:360,ticks:200,zIndex:1e4,gravity:.5,decay:.94},i=setInterval(function(){const a=n-Date.now();if(a<=0)return clearInterval(i);const r=a/t*50;vie({...s,particleCount:r,origin:{x:e(.1,.3),y:Math.random()-.2}}),vie({...s,particleCount:r,origin:{x:e(.7,.9),y:Math.random()-.2}})},250);return()=>clearInterval(i)}},[e,o]);const p=()=>{Qu(),t(!1),null==s||s(),setTimeout(()=>{a.open({triggerLocation:"default",planType:"personal"})},300)};return e?o?c?n.jsx(n.Fragment,{children:n.jsx("div",{className:"fixed inset-0 z-50 bg-black/50 backdrop-blur-sm",onClick:()=>{Qu(),t(!1)},children:n.jsx("div",{className:"flex items-center justify-center w-full h-full p-4",children:n.jsxs("div",{className:"w-full max-w-[90vw] md:max-w-[800px] md:overflow-hidden max-h-[95dvh] md:h-[640px] bg-[#151517] rounded-2xl relative flex flex-col",onClick:e=>e.stopPropagation(),children:[n.jsx("button",{type:"button",onClick:()=>{Qu(),t(!1)},className:"absolute z-10 flex items-center justify-center w-8 h-8 text-[#331714] transition-all duration-200 rounded-full md:w-10 md:h-10 backdrop-blur-lg top-4 right-4 md:right-6 md:top-6 bg-white/40 hover:bg-white/20","aria-label":"Close modal",children:n.jsx(RS,{className:"w-6 h-6 md:w-6 md:h-6"})}),n.jsxs("div",{className:"relative flex items-start flex-1 md:flex-row-reverse max-md:overflow-y-auto rounded-2xl max-md:flex-col",children:[n.jsx("img",{alt:"Discount",src:i?gv.mobileBg:gv.webBg,className:"object-cover w-full h-full pointer-events-none md:object-fill"}),n.jsx("button",{onClick:p,className:"absolute max-md:bottom-[160px] md:bottom-[120px] left-1/2 max-md:w-full max-w-[80%] -translate-x-1/2 rounded-full max-h-[66px] transition-all duration-300 ease-out hover:scale-105 hover:-translate-y-2 hover:-translate-x-1/2",children:n.jsx("img",{src:i?gv.mobileButton:gv.webButton,alt:"Get Discount",className:"max-h-[66px]"})})]})]})})})}):n.jsx(n.Fragment,{children:n.jsx("div",{className:"fixed inset-0 z-50 bg-black/50 backdrop-blur-sm",onClick:()=>{Qu(),t(!1)},children:n.jsx("div",{className:"flex items-center justify-center w-full h-full p-4",children:n.jsxs("div",{className:"w-full max-w-[95vw] max-md:max-h-[640px] md:max-w-[800px] md:overflow-hidden max-h-[95dvh] h-full md:h-[640px] bg-[#151517] rounded-2xl relative flex flex-col",onClick:e=>e.stopPropagation(),children:[n.jsx("button",{type:"button",onClick:()=>{Qu(),t(!1)},className:"absolute z-10 flex items-center justify-center w-8 h-8 text-[#331714] transition-all duration-200 rounded-full md:w-10 md:h-10 backdrop-blur-lg top-4 right-4 md:right-6 md:top-6 bg-black/5 hover:bg-black/10","aria-label":"Close modal",children:n.jsx(RS,{className:"w-6 h-6 md:w-6 md:h-6"})}),n.jsxs("div",{className:"relative flex items-start flex-1 md:flex-row-reverse max-md:overflow-y-auto rounded-2xl max-md:flex-col",children:[n.jsx("img",{alt:"Discount",src:i?gv.mobileBg:gv.webBg,className:"object-cover w-full h-full pointer-events-none md:object-fill"}),n.jsxs("div",{className:"absolute max-md:bottom-[120px] bottom-[120px] left-1/2 -translate-x-1/2 max-md:w-[90%] w-full flex items-center flex-col justify-center gap-[8px]",children:[n.jsxs("div",{className:" border-[#00000033] border p-[8px] pl-[16px]  md:w-[460px] max-md:w-[95%] bg-[#FFFFFF33] backdrop-blur-lg  rounded-[14px] max-h-[52px] justify-between flex items-center",children:[n.jsx("span",{className:"text-[#04101C] font-bold text-[18px]  md:text-[20px]",children:"PH10"}),n.jsxs("button",{type:"button",onClick:()=>{navigator.clipboard.writeText("PH10"),u(!0),setTimeout(()=>{u(!1)},1e3)},className:"bg-[#071620] gap-2 flex items-center rounded-[8px] font-inter font-semibold px-3 py-[6px] text-nowrap",children:[n.jsx(sS,{size:20}),d?"Copied!":"Copy Code"]})]}),n.jsx("span",{className:" text-[#0A1B26]/60 text-wrap text-center max-md:text-[14px] font-inter font-semibold",children:"Paste this code in the checkout session to redeem the offer"})]}),n.jsx("button",{onClick:p,className:"absolute bottom-8 md:bottom-[24px] flex items-center justify-center max-md:w-full left-1/2 -translate-x-1/2 rounded-full max-h-[66px] transition-all duration-300 ease-out hover:scale-105 hover:-translate-y-2 hover:-translate-x-1/2",children:n.jsx("img",{src:i?gv.mobileButton:gv.webButton,alt:"Get Discount",className:"max-h-[66px]"})})]})]})})})}):n.jsx(n.Fragment,{children:n.jsx("div",{className:"fixed inset-0 z-50 bg-black/50 backdrop-blur-sm",onClick:()=>{Qu(),t(!1)},children:n.jsx("div",{className:"flex items-center justify-center w-full h-full p-4",children:n.jsx("div",{className:"w-full max-w-[95vw] max-md:max-h-[640px] md:max-w-[800px] md:overflow-hidden max-h-[95dvh] h-full md:h-[640px] bg-[#151517] rounded-2xl relative flex flex-col",onClick:e=>e.stopPropagation(),children:n.jsx("div",{className:"relative flex items-start flex-1 md:flex-row-reverse max-md:overflow-y-auto rounded-2xl max-md:flex-col",children:n.jsx("img",{alt:"Discount",src:i?gv.webBg:gv.mobileBg,className:"object-cover w-full h-full pointer-events-none md:object-fill"})})})})})}):null};class yie{static trackModalOpened(e){fg("pro_modal_opened",{...e,source:"pro_modal"})}static trackModalClosed(e){fg("pro_modal_closed",e)}static trackInterestedClicked(e){fg("pro_modal_interested_clicked",e)}static trackStepProgression(e){fg("pro_modal_step_progression",e)}static trackViewChanged(e){fg("pro_modal_view_changed",e)}static trackFormInput(e){fg("pro_modal_form_input",e)}static trackFormCompleted(e){fg("pro_modal_form_completed",e),yg("pro_modal_completed",{userId:e.userId,formValueLength:e.formValueLength,totalTimeSeconds:e.totalTimeSeconds})}static trackStepAbandonment(e,t){var n;fg("pro_modal_step_abandoned",{...t,abandonedAtStep:e,timeOnStepSeconds:Math.round(t.timeOnStepMs/1e3),formValueLength:(null==(n=t.formValue)?void 0:n.trim().length)||0})}static trackButtonClick(e,t){fg("pro_modal_button_clicked",{...t,buttonType:e})}}const wie=(e,t)=>({userId:e,userEmail:t,timestamp:(new Date).toISOString()}),jie=({size:e=24,color:t="currentColor",className:s=""})=>n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:e,viewBox:"0 0 24 24",fill:"none",className:s,children:n.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.3998 4.0001C6.3998 3.78792 6.48409 3.58444 6.63412 3.43441C6.78415 3.28438 6.98763 3.2001 7.1998 3.2001H16.7998C17.012 3.2001 17.2155 3.28438 17.3655 3.43441C17.5155 3.58444 17.5998 3.78792 17.5998 4.0001V20.0001C17.5998 20.2123 17.5155 20.4158 17.3655 20.5658C17.2155 20.7158 17.012 20.8001 16.7998 20.8001H7.1998C6.98763 20.8001 6.78415 20.7158 6.63412 20.5658C6.48409 20.4158 6.3998 20.2123 6.3998 20.0001V4.0001ZM7.1998 1.6001C6.56329 1.6001 5.95284 1.85295 5.50275 2.30304C5.05266 2.75313 4.7998 3.36358 4.7998 4.0001V20.0001C4.7998 20.6366 5.05266 21.2471 5.50275 21.6972C5.95284 22.1472 6.56329 22.4001 7.1998 22.4001H16.7998C17.4363 22.4001 18.0468 22.1472 18.4969 21.6972C18.9469 21.2471 19.1998 20.6366 19.1998 20.0001V4.0001C19.1998 3.36358 18.9469 2.75313 18.4969 2.30304C18.0468 1.85295 17.4363 1.6001 16.7998 1.6001H7.1998ZM9.5998 18.6401C9.45128 18.6401 9.30884 18.6991 9.20382 18.8041C9.0988 18.9091 9.0398 19.0516 9.0398 19.2001C9.0398 19.3486 9.0988 19.4911 9.20382 19.5961C9.30884 19.7011 9.45128 19.7601 9.5998 19.7601H14.3998C14.5483 19.7601 14.6908 19.7011 14.7958 19.5961C14.9008 19.4911 14.9598 19.3486 14.9598 19.2001C14.9598 19.0516 14.9008 18.9091 14.7958 18.8041C14.6908 18.6991 14.5483 18.6401 14.3998 18.6401H9.5998Z",fill:t})}),Cie=gv.pro.next,Nie=gv.pro.darkrobot,Fie=gv.pro.proBg;function _ie({isOpen:e,onOpenChange:t,shouldShowThankYou:s=!1,isBookedUserFlow:i=!1}){var a;const[r,o]=De.useState("intro"),[l,c]=De.useState("intro"),[d,u]=De.useState(0),p=De.useRef(null),[m,h]=De.useState(""),{user:x}=Wg(),f=De.useRef(null),g=De.useRef({}),v=De.useRef(!1),{tier:b,loading:y}=Xg(),{data:w}=Px(void 0,{skip:!(null==(a=null==x?void 0:x.user_metadata)?void 0:a.invite_code)}),{isProModeUser:j,isLoading:C}=NM(),{handleUpgradeToProMode:N,isUpgradeLoading:F,paymentModalState:_,hidePaymentModals:k,subscriptionPaymentResult:S,hideSubscriptionPaymentResult:E}=ST(),I=(()=>{var e,t,n,s;if(null==w?void 0:w.plans)for(const i of Object.values(w.plans)){if(null==(t=null==(e=i.monthly_plans)?void 0:e[0])?void 0:t.currency)return i.monthly_plans[0].currency.toUpperCase();if(null==(s=null==(n=i.yearly_plans)?void 0:n[0])?void 0:s.currency)return i.yearly_plans[0].currency.toUpperCase()}return vv})(),A=((e="USD")=>{const t=e.toUpperCase()===bv;return{amount:t?"16559":"200",symbol:yv[t?bv:vv]}})(I),T=[{title:"System Prompt Edit",icon:n.jsx(mT,{fill:"#4D4D4D"})},{title:"Ability to Build Custom Agents",icon:n.jsx("img",{src:Nie,alt:"Dark Robot",className:"min-w-6 min-h-6"})},{title:"Mobile App Development",icon:n.jsx(hT,{color:"#4D4D4D"})},{title:"2x Bigger Machines",icon:n.jsx(xT,{fill:"#4D4D4D"})},{title:"750 Monthly Credits",icon:n.jsx(fT,{fill:"#4D4D4D"})},{title:"Priority Support",icon:n.jsx(gT,{fill:"#4D4D4D"})}],D={hidden:{opacity:0,y:20,scale:.95},visible:{opacity:1,y:0,scale:1,transition:{duration:.5,ease:"easeOut"}}};De.useEffect(()=>{var e;4==d&&(null==(e=p.current)||e.focus())},[d]),De.useEffect(()=>{e&&(v.current||(f.current=Date.now(),v.current=!0,yie.trackModalOpened(wie(null==x?void 0:x.id,null==x?void 0:x.email))),g.current[0]=Date.now(),s&&(o("form"),u(5)))},[e,j,C,s]),De.useEffect(()=>{e&&"form"===r&&yie.trackViewChanged({...wie(null==x?void 0:x.id,null==x?void 0:x.email),fromView:"intro",toView:"form",currentStep:d})},[r,e,null==x?void 0:x.id,null==x?void 0:x.email,d]),De.useEffect(()=>{4===d&&m.trim().length>0&&yie.trackFormInput({...wie(null==x?void 0:x.id,null==x?void 0:x.email),formValueLength:m.trim().length,hasContent:m.trim().length>0})},[m,d,null==x?void 0:x.id,null==x?void 0:x.email]);const M=()=>{let e="user_close";5===d?e="completion":(d>0||"form"===r)&&(e="abandonment"),(e=>{const t=f.current?Date.now()-f.current:0;yie.trackModalClosed({...wie(null==x?void 0:x.id,null==x?void 0:x.email),reason:e,timeSpentMs:t,timeSpentSeconds:Math.round(t/1e3),currentView:r,currentStep:d,formValue:m.trim(),formValueLength:m.trim().length})})(e),t(!1),u(0),c("intro"),o("intro"),h(""),v.current=!1,f.current=null,g.current={}};return!e||"pro_mode"==b||y?null:n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"fixed top-0 left-0 bottom-0 right-0 w-full h-full z-[999] flex items-center justify-center bg-[#0e0e0f50] backdrop-blur-[5px]",children:n.jsxs("div",{className:"max-w-[95vw] md:max-w-[1016px] md:h-[750px] w-full h-full max-md:h-[800px] max-h-[90dvh]  relative bg-[#131314] text-white border border-[#1A1A1A] rounded-2xl overflow-hidden",children:[n.jsx("img",{src:Fie,alt:"Pro",className:"absolute top-0 left-0 z-[0] object-cover w-full h-full"}),"intro"===l&&n.jsxs("div",{className:"relative z-[10] flex flex-col items-center py-[56px] h-full gap-[4rem]",children:[n.jsxs("div",{className:"flex flex-col gap-8 text-center",children:[n.jsxs("div",{className:"flex flex-col gap-2 text-center",children:[" ",n.jsx("span",{className:"text-[#FFFFFF] text-[22px] md:text-[40px] leading-[40px] font-semibold",children:j?"Pro mode is here":"Welcome to Emergent Pro Mode"}),j?n.jsxs("span",{className:"text-[#FFFFFF]/70 max-md:text-[12px] max-md:text-wrap font-inter font-semibold",children:["Thank you for prebooking Emergent Pro Mode!"," ",n.jsx("br",{className:" md:hidden"})," Your early support"," ",n.jsx("br",{className:"hidden md:inline"}),"helped us build something amazing."]}):n.jsxs("span",{className:"text-[#FFFFFF]/70 max-md:text-[12px] max-md:text-wrap font-inter font-semibold",children:["Transform your ideas into reality with Custom Agents "," ",n.jsx("br",{className:" md:hidden"})," and Mobile Development at your fingertips."," ",n.jsx("br",{className:"hidden md:inline"}),"More power, more possibilities, amazing results."]})]}),n.jsxs(Pt.div,{variants:{hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.2}}},initial:"hidden",animate:"visible",className:"flex items-center text-start gap-[20px] justify-center",children:[n.jsxs(Pt.div,{variants:D,className:"flex flex-col items-start justify-between p-5 w-[200px] h-[140px] rounded-[16px] bg-[#FFFFFF33] border border-[#fff]/20 backdrop-blur-[100px]",children:[n.jsx("span",{className:"text-[20px] font-bold",children:"2x"}),n.jsx("h3",{className:"text-[18px] font-semibold text-white",children:"Enjoy 2X intra support"})]}),n.jsxs(Pt.div,{variants:D,className:"flex flex-col items-start justify-between p-5 h-[160px] w-[260px] rounded-[16px] bg-[#FFFFFF33] border border-[#fff]/20 backdrop-blur-[100px]",children:[n.jsx(mT,{fill:"#FFFFFF",color:"#FFFFFF",size:28}),n.jsx("h3",{className:"text-[20px] font-semibold text-white",children:"Create your custom agents"})]}),n.jsxs(Pt.div,{variants:D,className:"flex flex-col items-start justify-between w-[200px] h-[140px] p-5 rounded-[16px] bg-[#FFFFFF33] border border-[#fff]/20 backdrop-blur-[100px]",children:[n.jsx(jie,{color:"#ffffff"}),n.jsx("h3",{className:"text-[18px] font-semibold text-white mb-2",children:"Start building mobile apps"})]})]})]}),n.jsx("button",{title:"Close",className:"absolute top-4 right-4 md:top-7 md:right-7 z-[99] bg-[#FFFFFF05] backdrop-blur-lg hover:bg-[#FFFFFF12] p-2 rounded-full",onClick:M,children:n.jsx(RS,{className:"w-6 h-6"})}),n.jsx("div",{className:"flex items-center justify-center w-full",children:n.jsxs(Pt.button,{onClick:()=>{c("pay")},className:"  max-md:bottom-0 max-md:left-4 max-md:right-4 max-md:items-center max-md:mb-[4px]\n                 max-md:justify-center max-md:rounded-[8px] interested-button  max-h-[48px] hover:scale-[1.03] transform flex max-md:text-[14px] items-center gap-2 p-3 px-5 bg-white text-black rounded-full font-semibold text-[16px] cursor-pointer",children:[j?"Activate Pro":"Buy"," Now",n.jsx("img",{src:Cie,alt:"Next",className:"w-6 h-6"})]})})]}),"pay"===l&&n.jsx(n.Fragment,{children:n.jsxs("div",{className:"relative flex w-[inherit] px-4 h-full max-md:flex-col-reverse",children:[n.jsx("button",{title:F?"Processing payment...":"Close",className:"absolute top-4 right-4 md:top-7 md:right-7 z-[99] bg-[#FFFFFF05] backdrop-blur-lg p-2 rounded-full "+(F?"opacity-50 cursor-not-allowed":"hover:bg-[#FFFFFF12] cursor-pointer"),onClick:F?void 0:M,disabled:F,children:n.jsx(RS,{className:"w-6 h-6"})}),n.jsxs("div",{className:"flex flex-col z-[10] justify-center items-center flex-1 gap-4 md:px-[40px] md:py-12",children:[n.jsx("span",{className:"text-[#FFFFFF] text-[22px] tracking-[-1px]  md:text-[32px] font-semibold",style:{textShadow:"0px 0px 40px 0px #FFFFFF99"},children:"Complete your Pro upgrade"}),n.jsxs("div",{className:"bg-[#FFFFFF33] border-[1.5px] border-[#FFFFFF33] flex flex-col items-center justify-center rounded-[16px] backdrop-blur-[110px] p-4 md:p-6 gap-3 md:max-w-[500px] w-full",children:[n.jsxs("div",{className:"bg-[#FFFFFF] blackshadow flex flex-col gap-[40px] p-4 md:p-6 rounded-[12px] md:max-w-[452px] w-full",children:[n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex flex-col gap-[10px]",children:[n.jsxs("span",{className:"text-[#224BC6] flex gap-1 font-inter font-semibold",children:["Pro Tier ",n.jsx(oA,{size:24})]}),n.jsxs("div",{className:"flex items-end gap-1",children:[" ",n.jsxs("span",{className:"text-[#000000] leading-[20px] tracking-[-2px] md:leading-[40px] text-[22px] md:text-[42px] font-semibold",children:[A.symbol,A.amount," "]}),n.jsx("span",{className:"text-[#000000]/40 font-inter font-medium",children:"/ month"})]})]}),n.jsx("div",{className:"p-[6px] px-4 bg-[#224BC61A] rounded-full text-[12px] text-[#224BC6] font-semibold uppercase font-inter",children:"Beta"})]}),n.jsx("div",{className:"flex flex-col gap-4",children:T.map((e,t)=>n.jsx(n.Fragment,{children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-5 h-5",children:e.icon}),n.jsx("span",{className:"text-[#4D4D4D] text-[14px] md:text-[16px] font-semibold font-inter",children:e.title})]},t)}))})]}),j&&n.jsxs("div",{className:"bg-[#D6FFCC] p-6 py-4 w-full justify-between flex md:max-w-[452px] rounded-[12px]",children:[n.jsx("span",{className:"text-[#397F27] font-semibold",children:"Paid for Pre-Booking"}),n.jsx("span",{className:"text-[#397F27] font-semibold",children:"- $100"})]}),n.jsxs("div",{onClick:F?void 0:()=>{N(I)},className:"bg-[#000000] text-white gap-2 font-semibold flex items-center justify-center p-6 py-4 w-full max-w-[452px] rounded-[12px] "+(F?"opacity-70 cursor-not-allowed":"cursor-pointer hover:bg-[#1a1a1a] transition-colors"),children:[F?n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-4 h-4 border-2 border-white rounded-full border-t-transparent animate-spin"}),"Processing..."]}):j?"Pay $100 to Activate":"Buy Now",!F&&n.jsx("img",{src:Cie,alt:"Next",className:"w-6 h-6 invert"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"flex items-center justify-center w-4 h-4 bg-[#fff]/20 rounded-[2px]",children:n.jsx("div",{className:"flex items-center h-2 w-2 rounded-[2px] bg-[#FFFFFF] backdrop-blur-sm"})}),n.jsx("span",{className:"text-[14px] font-semibold font-inter",children:"Any unused monthly credits will be rolled over"}),n.jsx("div",{className:"flex items-center justify-center w-4 h-4 bg-[#fff]/20 rounded-[2px]",children:n.jsx("div",{className:"flex items-center h-2 w-2 rounded-[2px] bg-[#FFFFFF] backdrop-blur-sm"})})]})]})]})]})})]})}),_.isLoading&&n.jsx(TT,{isOpen:_.isLoading,onOpenChange:k,paymentType:_.paymentType||"subscription",amount:_.amount,currency:_.currency,planName:_.planName}),n.jsx(OT,{isOpen:S.showModal,onOpenChange:E,status:S.status,planName:S.planName,errorMessage:S.errorMessage,paymentId:S.paymentId,organizationId:S.organizationId,onClose:()=>{E(),t(!1)}})]})}const kie="2025-10-14T23:59:59Z",Sie=De.memo(({value:e,label:t})=>{const s=De.useMemo(()=>e.split(""),[e]);return n.jsxs("div",{className:"flex flex-col items-center gap-2",children:[n.jsx("div",{className:"flex gap-1",children:s.map((e,t)=>n.jsx("div",{className:"w-12 h-14 md:w-16 md:h-20 flex items-center justify-center rounded-[12px] border-[0.418px] border-white/[0.05] bg-white/[0.10] backdrop-blur-[10px]",children:n.jsx("span",{className:"text-white text-center font-digital font-normal max-md:text-[32px] md:text-[56px] max-md:leading-8 md:leading-[42.252px]",style:{textShadow:"0 0 10px rgba(255, 255, 255, 0.50)"},children:e})},t))}),n.jsx("span",{className:"text-[14px] text-white/60 md:text-[16px]",children:t})]})}),Eie=De.memo(({variant:e="compact",className:t="",showSeconds:s=!0,customRenderer:i})=>{const a=(()=>{const[e,t]=De.useState({days:"00",hours:"00",minutes:"00",seconds:"00"}),n=De.useMemo(()=>new Date(kie).getTime(),[]),s=De.useCallback(()=>{const e=Date.now(),s=n-e;if(s>0){const e=Math.floor(s/864e5),n=Math.floor(s%864e5/36e5),i=Math.floor(s%36e5/6e4),a=Math.floor(s%6e4/1e3),r={days:String(e).padStart(2,"0"),hours:String(n).padStart(2,"0"),minutes:String(i).padStart(2,"0"),seconds:String(a).padStart(2,"0")};t(e=>e.days!==r.days||e.hours!==r.hours||e.minutes!==r.minutes||e.seconds!==r.seconds?r:e)}},[n]);return De.useEffect(()=>{s();const e=setInterval(s,1e3);return()=>clearInterval(e)},[s]),e})();if(i)return n.jsx(n.Fragment,{children:i(a)});if("large"===e){const e=De.useMemo(()=>n.jsx("p",{className:"text-white font-digital h-20 max-md:text-[32px] md:text-[56px] self-start",children:":"}),[]);return n.jsxs("div",{className:`flex items-center gap-3 max-md:scale-[90%] md:scale-[80%] md:gap-4 ${t}`,children:[n.jsx(Sie,{value:a.days,label:"Days"}),e,n.jsx(Sie,{value:a.hours,label:"Hours"}),e,n.jsx(Sie,{value:a.minutes,label:"Minutes"}),s&&n.jsxs("div",{className:"items-center hidden gap-4 md:flex",children:[e,n.jsx(Sie,{value:a.seconds,label:"Seconds"})]})]})}const r=t.includes("rounded")?"":"rounded-[8px]";return n.jsxs("div",{className:`min-w-[203px] flex items-center gap-2 ${r} text-[20px] border-[0.418px] border-white/5 bg-white/10 backdrop-blur-[10px] px-3 ${t}`,style:{borderImage:"radial-gradient(60% circle, rgba(255, 255, 255, 1), rgba(255, 255, 255, 0)) 1"},children:[n.jsxs("p",{className:"text-white font-digital",children:[a.days,n.jsx("span",{className:"opacity-50 font-brockmann text-[16px]",children:"d"})]}),n.jsx("p",{className:"text-white font-digital",children:":"}),n.jsxs("p",{className:"text-white font-digital",children:[a.hours,n.jsx("span",{className:"opacity-50 font-brockmann text-[16px]",children:"h"})]}),n.jsx("p",{className:"text-white font-digital",children:":"}),n.jsxs("p",{className:"text-white font-digital",children:[a.minutes,n.jsx("span",{className:"opacity-50 font-brockmann text-[16px]",children:"m"})]}),s&&n.jsxs(n.Fragment,{children:[n.jsx("p",{className:"text-white font-digital",children:":"}),n.jsxs("p",{className:"text-white font-digital",children:[a.seconds,n.jsx("span",{className:"opacity-50 font-brockmann text-[16px]",children:"s"})]})]})]})}),Iie=gv.common.foregroundImage,Aie=gv.icons.bgPatternHome,Tie=De.memo(({isOpen:e,onOpenChange:t})=>{const{bannerHeight:s}=fL(),i=BE(),a=De.useMemo(()=>s+56,[s]),r=De.useCallback(e=>{t(e)},[t]),o=De.useCallback(()=>{r(!1),i.open({planType:"personal",triggerLocation:"default"})},[r,i]);return e?n.jsx(Rt,{children:e&&n.jsx(Pt.div,{style:{top:`${a}px`},className:fb("fixed inset-0 w-full z-[49] flex items-center justify-center bg-[#0e0e0f50] backdrop-blur-[5px]"),onClick:()=>r(!1),initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2,ease:"easeInOut"},children:n.jsxs(Pt.div,{className:"relative max-md:max-w-[95dvw]  overflow-y-auto w-full max-w-[900px] mx-auto bg-[#18181A] border border-[#242424] max-md:max-h-[600px] md:h-[650px] rounded-[20px] font-['Inter'] p-2",style:{backgroundImage:`url(${Aie})`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"},onClick:e=>e.stopPropagation(),initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},transition:{duration:.2,ease:"easeInOut"},children:[n.jsx("div",{className:"sticky top-0 h-0 w-full z-[20]",children:n.jsx("button",{type:"button",onClick:e=>{e.stopPropagation(),r(!1)},className:"absolute top-2 right-2 md:top-4 md:right-4 w-10 h-10 bg-[#FFFFFF0D] rounded-full flex items-center justify-center text-[#737780] backdrop-blur-lg hover:text-white transition-colors hover:bg-[#FFFFFF0A]","aria-label":"Close modal",children:n.jsx(RS,{className:"w-5 h-5 max-md:w-4 max-md:h-4"})})}),n.jsx(Pt.img,{src:Iie,alt:"Overlay",className:"absolute inset-0 w-full h-full object-cover pointer-events-none z-[1000] scale-x-[-1]",style:{mixBlendMode:"screen"},initial:{opacity:0},animate:{opacity:.25},transition:{duration:1,ease:"easeOut"}}),n.jsx(Rt,{mode:"wait",children:n.jsx(Pt.div,{className:"flex flex-col w-full gap-4 px-4 pb-6 pt-[80px] md:gap-6 md:pb-8 md:px-8 md:pt-8",initial:{opacity:0,x:0},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},children:n.jsxs(Pt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3,delay:.2},className:"flex flex-col items-center",children:[n.jsxs(Pt.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.3,delay:.3},className:"flex items-center gap-4 px-4 py-2",children:[n.jsxs("svg",{width:"25",height:"25",viewBox:"30 30 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[n.jsx("rect",{x:"37.6719",y:"38",width:"10",height:"10",rx:"2.5",fill:"url(#paint0_linear_6332_75123)"}),n.jsx("rect",{x:"35.1719",y:"35.5",width:"15",height:"15",rx:"5",stroke:"#30F6AF",strokeOpacity:"0.3",strokeWidth:"5"}),n.jsx("defs",{children:n.jsxs("linearGradient",{id:"paint0_linear_6332_75123",x1:"42.6719",y1:"38",x2:"42.6719",y2:"48",gradientUnits:"userSpaceOnUse",children:[n.jsx("stop",{stopColor:"#00FF66"}),n.jsx("stop",{offset:"1",stopColor:"#62ECFE"})]})})]}),n.jsx("span",{className:"text-[#00FF88] max-md:text-[14px] text-[16px] font-ndot font-medium tracking-wider uppercase",style:{textShadow:"0 0 32.572px rgba(98, 236, 254, 0.20), 0 0 32.572px rgba(0, 255, 102, 0.50)"},children:"Limited Time Offer"}),n.jsxs("svg",{width:"25",height:"25",viewBox:"30 30 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[n.jsx("rect",{x:"37.6719",y:"38",width:"10",height:"10",rx:"2.5",fill:"url(#paint0_linear_6332_75123)"}),n.jsx("rect",{x:"35.1719",y:"35.5",width:"15",height:"15",rx:"5",stroke:"#30F6AF",strokeOpacity:"0.3",strokeWidth:"5"}),n.jsx("defs",{children:n.jsxs("linearGradient",{id:"paint0_linear_6332_75123",x1:"42.6719",y1:"38",x2:"42.6719",y2:"48",gradientUnits:"userSpaceOnUse",children:[n.jsx("stop",{stopColor:"#00FF66"}),n.jsx("stop",{offset:"1",stopColor:"#62ECFE"})]})})]})]}),n.jsx(Pt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3,delay:.4},className:"max-md:mt-12 md:mt-16",children:n.jsx(Eie,{variant:"large"})}),n.jsxs(Pt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3,delay:.5},className:"mt-8 text-center",children:[n.jsx("h2",{className:"text-white text-center font-brockmann font-semibold max-md:text-[32px] md:text-[48px] max-md:leading-[32px] md:leading-[48px] tracking-[-0.96px]",style:{textShadow:"0 671px 188px rgba(0, 0, 0, 0.00), 0 430px 172px rgba(0, 0, 0, 0.02), 0 242px 145px rgba(0, 0, 0, 0.07), 0 107px 107px rgba(0, 0, 0, 0.13), 0 27px 59px rgba(0, 0, 0, 0.14)"},children:"Lock in Today's Price"}),n.jsx("div",{className:"rounded-full -mt-[6px] border-[0.418px] w-fit mx-auto border-white/[0.05] bg-[rgba(178,255,222,0.10)] backdrop-blur-[10px] px-[26px] py-[10px]",style:{transform:"rotate(-3deg)"},children:n.jsx("span",{className:"max-md:text-[32px] md:text-[48px] max-md:leading-8 md:leading-10 font-semibold font-brockmann",style:{background:"linear-gradient(135deg, rgba(0, 255, 102, 1) 0%, rgba(98, 236, 254, 1) 100%)",WebkitBackgroundClip:"text",backgroundClip:"text",WebkitTextFillColor:"transparent",textShadow:"0 0 22.43px rgba(0, 255, 102, 0.5), 0 0 22.43px rgba(98, 236, 254, 0.2)"},children:"Forever"})})]}),n.jsxs(Pt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3,delay:.6},className:"mt-6 text-center",children:[n.jsxs("p",{className:"text-white text-center font-brockmann font-medium max-md:text-[16px] md:text-[18px] leading-[28px] tracking-[-0.18px]",children:["We're raising prices from ",new Date(kie).toLocaleDateString("en-US",{month:"short",day:"numeric",timeZone:"UTC"}),"."]}),n.jsx("p",{className:"text-white/[0.60] font-brockmann font-medium max-md:text-[16px] md:text-[18px]leading-[28px] tracking-[-0.18px]",children:"Upgrade now and never pay more."})]}),n.jsxs(Pt.button,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3,delay:.7},whileHover:{scale:1.02},whileTap:{scale:.98},onClick:o,className:"mt-12 rounded-[12px] flex bg-gradient-to-b from-[#0F6] to-[#62ECFE] py-3 px-8 w-[320px] justify-center",style:{boxShadow:"0 0 30px 0 rgba(98, 236, 254, 0.20), 0 0 30px 0 rgba(0, 255, 102, 0.20)"},children:[n.jsx("p",{className:"text-[#0F0F10] font-brockmann font-semibold text-[18px] leading-[24px] tracking-[-0.4px]",children:"Lock My Price"}),n.jsx("svg",{className:"ml-2",xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",viewBox:"0 0 25 25",fill:"none",children:n.jsx("path",{d:"M11.3213 6.44629C11.4705 6.00354 12.1047 6.00351 12.2539 6.44629L13.1582 9.13184C13.6079 10.4676 14.6685 11.5166 16.0205 11.9609L18.7383 12.8535C19.1866 13.0008 19.1866 13.628 18.7383 13.7754L16.0205 14.6689C14.6685 15.1132 13.6079 16.1613 13.1582 17.4971L12.2539 20.1826C12.1048 20.6257 11.4704 20.6257 11.3213 20.1826L10.417 17.4971C9.96729 16.1613 8.90658 15.1133 7.55469 14.6689L4.83594 13.7754C4.38805 13.6278 4.38797 13.0009 4.83594 12.8535L7.55469 11.9609C8.90664 11.5166 9.96728 10.4676 10.417 9.13184L11.3213 6.44629ZM17.4004 4.64746C17.4601 4.47036 17.7138 4.47032 17.7734 4.64746L18.1104 5.64844C18.306 6.22898 18.7669 6.68477 19.3545 6.87793L20.3672 7.21094C20.5465 7.26992 20.5465 7.52017 20.3672 7.5791L19.3545 7.91211C18.7668 8.10534 18.3059 8.56091 18.1104 9.1416L17.7734 10.1416C17.7138 10.3188 17.46 10.3188 17.4004 10.1416L17.0635 9.1416C16.868 8.56096 16.407 8.10538 15.8193 7.91211L14.8066 7.5791C14.6273 7.52017 14.6273 7.26987 14.8066 7.21094L15.8193 6.87793C16.4069 6.68472 16.8679 6.22895 17.0635 5.64844L17.4004 4.64746Z",fill:"#0F0F10"})})]})]})},"main")})]})})}):null}),Die=gv.common.testModePreview,Mie=gv.common.stars,Lie=gv.common.rightArrow;function Pie({open:e,onOpenChange:t,isPro:s=!0}){const i=BE(),a=e=>{e||Lu("hasSeenTestModeModal",!0),t(e)};return n.jsx(n.Fragment,{children:n.jsx(_A,{open:e,onOpenChange:a,children:n.jsx(AA,{className:"max-w-[350px] sm:max-w-[900px] bg-[#18181a] sm:bg-[#1c1c1f] border border-[rgba(255,255,255,0.08)] sm:border-[#242424] p-0 overflow-hidden",hideclosebutton:!0,children:n.jsx("div",{className:"relative bg-[#18181a] sm:bg-[#1c1c1f] border border-[rgba(255,255,255,0.08)] sm:border-[#242424] rounded-[16px] w-full h-[643px] sm:h-[580px]",children:n.jsxs("div",{className:"overflow-y-auto sm:overflow-clip relative rounded-[inherit] size-full",children:[n.jsx("div",{className:"absolute backdrop-blur-[20px] backdrop-filter bg-white sm:bg-white/10 flex items-center p-[6.4px] right-[10px] sm:right-[24px] rounded-[24px] top-[10px] sm:top-[24px] z-10",children:n.jsxs(EA,{className:"relative shrink-0 size-[19.2px] rounded-sm opacity-70 transition-opacity hover:opacity-100",children:[n.jsx(RS,{className:"text-black size-full"}),n.jsx("span",{className:"sr-only",children:"Close"})]})}),n.jsx("div",{className:"sm:hidden bg-[#0f0f0f] h-[258px] w-full overflow-hidden rounded-tl-[16px] rounded-tr-[16px]",children:n.jsx("img",{src:Die,alt:"Test Mode Preview",className:"w-full h-full object-cover object-[50%_0%]"})}),n.jsxs("div",{className:"px-5 sm:px-0 py-6 sm:py-0 sm:absolute flex flex-col gap-5 sm:gap-[48px] items-start sm:left-[32px] sm:top-1/2 sm:-translate-y-1/2 w-full sm:w-[420px]",children:[n.jsxs("div",{className:"flex flex-col gap-5 sm:gap-[32px] items-start w-full",children:[n.jsxs("div",{className:"flex flex-col gap-4 sm:gap-[16px] items-start w-full",children:[n.jsxs("div",{className:"flex items-start gap-1",children:[n.jsx("div",{className:"bg-white flex gap-[10px] items-center justify-center px-[10px] py-[6px] rounded-bl-[6px] rounded-tl-[6px]",children:n.jsx("p",{className:"font-semibold leading-[16px] text-[#1c1c1f] text-[12px] whitespace-nowrap",children:"NEW"})}),n.jsxs("div",{className:"bg-[#2ee572] flex gap-1 items-center justify-center px-[10px] py-[6px] rounded-br-[6px] rounded-tr-[6px]",children:[n.jsx("div",{className:"size-[16px]",children:n.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[n.jsx("circle",{cx:"8",cy:"8",r:"6",fill:"#1c1c1f"}),n.jsx("circle",{cx:"8",cy:"8",r:"3",fill:"#2ee572"})]})}),n.jsx("p",{className:"font-semibold leading-[16px] text-[#1c1c1f] text-[12px] whitespace-nowrap",children:"TEST MODE"})]})]}),n.jsx("p",{className:"font-semibold leading-[28px] sm:leading-[36px] text-[24px] sm:text-[28px] text-white tracking-[-0.48px] sm:tracking-[-0.56px] [text-shadow:rgba(255,255,255,0.3)_0px_0px_20px] sm:[text-shadow:rgba(255,255,255,0.2)_0px_0px_20px]",children:"Debug faster with every interaction captured"})]}),n.jsxs("div",{className:"flex flex-col font-inter font-medium gap-4 sm:gap-[24px] items-start text-[14px] sm:text-[15px] text-white w-full",children:[n.jsx("ul",{className:"opacity-60 w-full list-disc pl-[21px] sm:pl-[22.5px]",children:n.jsx("li",{className:"leading-[20px] sm:leading-[24px]",children:"Interact naturally with your app while we record every action, error, and state change automatically"})}),n.jsx("ul",{className:"opacity-60 w-full list-disc pl-[21px] sm:pl-[22.5px]",children:n.jsx("li",{className:"leading-[20px] sm:leading-[24px]",children:"Get comprehensive session replays with Complete debugging context in one package : Session replay + Playwright script + logs + network data."})}),n.jsx("ul",{className:"opacity-60 w-full list-disc pl-[21px] sm:pl-[22.5px]",children:n.jsx("li",{className:"leading-[20px] sm:leading-[24px]",children:"Let your AI agent see exactly what went wrong to fix issues in minutes, not hours"})})]})]}),s?n.jsxs("button",{onClick:()=>{a(!1)},className:"relative bg-white flex gap-2 h-[48px] items-center justify-center px-2 rounded-[10px] sm:rounded-[12px] shadow-[0px_0.727px_0.727px_0.727px_rgba(0,0,0,0.1),0px_0px_20px_0px_rgba(255,255,255,0.4)] w-full group",children:[n.jsx("p",{className:"font-semibold leading-[24px] text-[16px] sm:text-[18px] text-black tracking-[-0.2px] whitespace-nowrap",children:"Get Started"}),n.jsx("img",{src:Lie,alt:"",className:"size-[24px]"}),n.jsx("div",{className:"absolute inset-0 pointer-events-none shadow-[0px_-1.455px_0px_0px_inset_rgba(0,0,0,0.2),0px_2.182px_3.636px_1.455px_inset_rgba(255,255,255,0.4)] rounded-[10px] sm:rounded-[12px]"})]}):n.jsxs("button",{onClick:()=>{a(!1),i.open({triggerLocation:"default",planType:"personal"})},className:"relative bg-[#ffd566] flex gap-2 h-[48px] items-center justify-center px-2 rounded-[10px] sm:rounded-[12px] shadow-[0px_0.727px_0.727px_0.727px_rgba(0,0,0,0.1),0px_0px_20px_0px_rgba(243,202,95,0.4)] w-full group",children:[n.jsx("p",{className:"font-semibold leading-[24px] text-[16px] sm:text-[18px] text-black tracking-[-0.2px] whitespace-nowrap",children:"Upgrade to Pro"}),n.jsx("img",{src:Mie,alt:"",className:"size-[24px]"}),n.jsx("div",{className:"absolute inset-0 pointer-events-none shadow-[0px_-1.455px_0px_0px_inset_rgba(0,0,0,0.2),0px_2.182px_3.636px_1.455px_inset_rgba(255,255,255,0.4)] rounded-[10px] sm:rounded-[12px]"})]})]}),n.jsx("div",{className:"hidden sm:block absolute bg-[#0f0f0f] h-[580px] left-[484px] overflow-hidden rounded-br-[10px] rounded-tr-[10px] top-0 w-[416px]",children:n.jsx("img",{src:Die,alt:"Test Mode Preview",className:"absolute inset-0 object-cover w-full h-full"})})]})})})})})}function Rie(){const{activeModals:e,closeModal:t,openModal:s}=zE();return n.jsx(n.Fragment,{children:Array.from(e.entries()).map(([e,s])=>{switch(s.type){case"upgrade-tier":return n.jsx(wD,{isOpen:!0,onOpenChange:n=>{n||t(e)},triggerLocation:s.triggerLocation,shouldShowModelSelectorTooltipAfterClose:s.shouldShowModelSelectorTooltipAfterClose,organizationId:s.organizationId,organizationName:s.organizationName,planType:s.planType||"personal",onReturnFlow:s.onReturnFlow},e);case"one-million":return n.jsx(Ase,{open:!0,onOpenChange:n=>{n||t(e)},onClose:()=>t(e),onGetStarted:s.onGetStarted,onShowUpgradeModal:s.onShowUpgradeModal,onPreventOtherModals:s.onPreventOtherModals},e);case"create-workspace":return n.jsx(AM,{isOpen:!0,onOpenChange:n=>{n||t(e)},onWorkspaceCreated:(n,i)=>{var a;null==(a=s.onWorkspaceCreated)||a.call(s,n,i),t(e)},onCloseMenu:s.onCloseMenu},e);case"referral":return n.jsx(Hse,{isOpen:!0,onOpenChange:n=>{n||t(e)}},e);case"account-settings":return n.jsx(wse,{open:!0,onOpenChange:n=>{n||t(e)},onClose:()=>t(e),onGetStarted:s.onGetStarted,initialTab:s.initialTab},e);case"buy-credits":const i=s;return n.jsx(HK,{isOpen:!0,location:i.location,onOpenChange:n=>{n||t(e)}},e);case"team-workspace":return n.jsx(_se,{isOpen:!0,onOpenChange:n=>{n||t(e)},organizationId:s.organizationId,organizationName:s.organizationName,paymentId:s.paymentId,initialStatus:s.initialStatus,mode:s.mode,onCloseMenu:s.onCloseMenu,backendEnabled:s.backendEnabled},e);case"pending-invitation":return n.jsx(Sse,{open:!0,onOpenChange:n=>{n||t(e)},invitation:s.invitation,onAccept:()=>{var n;null==(n=s.onAccept)||n.call(s),t(e)},onDecline:()=>{var n;null==(n=s.onDecline)||n.call(s),t(e)}},e);case"job-id":return n.jsx(Tse,{isJobIdDialogOpen:!0,setIsJobIdDialogOpen:n=>{n||t(e)},jobIdInput:s.jobIdInput,setJobIdInput:s.setJobIdInput,handleJobClick:s.handleJobClick},e);case"team-introduction":return n.jsx(qse,{isOpen:!0,onOpenChange:n=>{n||t(e)},onGetStarted:s.onGetStarted},e);case"data-details":return n.jsx(Gse,{isOpen:!0,onClose:()=>t(e),type:s.modalType,data:s.data},e);case"ultra-thinking":return n.jsx(Kse,{open:!0,onOpenChange:n=>{n||t(e)},onClose:()=>t(e),onGetStarted:s.onGetStarted,onShowUpgradeModal:s.onShowUpgradeModal,onPreventOtherModals:s.onPreventOtherModals},e);case"new-mcp-server":return n.jsx(Jse,{isOpen:!0,onOpenChange:n=>{n||t(e)},onServerAdded:s.onServerAdded,organizationId:s.organizationId,editMode:s.editMode,serverData:s.serverData,triggerLocation:s.triggerLocation,onClose:s.onClose,reopenAccountSettings:s.reopenAccountSettings},e);case"mcp-tools":return n.jsx(Qse,{isOpen:!0,onOpenChange:n=>{n||t(e)}},e);case"add-member":return n.jsx(hse,{open:!0,onOpenChange:n=>{n||t(e)},organizationId:s.organizationId,organizationName:s.organizationName},e);case"mcp-introduction":return n.jsx(tie,{open:!0,onOpenChange:n=>{n||t(e)},onClose:()=>t(e),onGetStarted:s.onGetStarted,onShowUpgradeModal:s.onShowUpgradeModal},e);case"daily-credit":return n.jsx(xie,{isOpen:!0,onOpenChange:n=>{n||t(e)},pusherData:s.pusherData||{}},e);case"share-preview":return n.jsx(fie,{isOpen:!0,onOpenChange:n=>{n||t(e)},shareableLink:s.shareableLink,fromShowcase:s.fromShowcase,previewUrl:s.previewUrl},e);case"funding-introduction":return n.jsx(bie,{isOpen:!0,onOpenChange:n=>{n||t(e)},onGetStarted:s.onGetStarted},e);case"pro":return n.jsx(_ie,{isOpen:!0,onOpenChange:n=>{n||t(e)},shouldShowThankYou:s.shouldShowThankYou,isBookedUserFlow:s.isBookedUserFlow},e);case"bro-mode-introduction":return n.jsx(uie,{open:!0,onOpenChange:n=>{n||t(e)},onClose:()=>t(e),onTryBroMode:s.onTryBroMode},e);case"lockin-price":return n.jsx(Tie,{isOpen:!0,onOpenChange:n=>{n||t(e)}},e);case"test-mode":return n.jsx(Pie,{open:!0,onOpenChange:n=>{n||t(e)},isPro:s.isPro},e);default:return null}})})}var Oie,zie={exports:{}};
/*!
 * Pusher JavaScript Library v8.4.0
 * https://pusher.com/
 *
 * Copyright 2020, Pusher
 * Released under the MIT licence.
 */var Bie,Hie=Oie?zie.exports:(Oie=1,window,Bie=function(){return function(e){var t={};function n(s){if(t[s])return t[s].exports;var i=t[s]={i:s,l:!1,exports:{}};return e[s].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,s){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(n.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(s,i,function(t){return e[t]}.bind(null,i));return s},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=2)}([function(e,t,n){var s=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function s(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(s.prototype=n.prototype,new s)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=256,a=function(){function e(e){void 0===e&&(e="="),this._paddingCharacter=e}return e.prototype.encodedLength=function(e){return this._paddingCharacter?(e+2)/3*4|0:(8*e+5)/6|0},e.prototype.encode=function(e){for(var t="",n=0;n<e.length-2;n+=3){var s=e[n]<<16|e[n+1]<<8|e[n+2];t+=this._encodeByte(s>>>18&63),t+=this._encodeByte(s>>>12&63),t+=this._encodeByte(s>>>6&63),t+=this._encodeByte(s>>>0&63)}var i=e.length-n;return i>0&&(s=e[n]<<16|(2===i?e[n+1]<<8:0),t+=this._encodeByte(s>>>18&63),t+=this._encodeByte(s>>>12&63),t+=2===i?this._encodeByte(s>>>6&63):this._paddingCharacter||"",t+=this._paddingCharacter||""),t},e.prototype.maxDecodedLength=function(e){return this._paddingCharacter?e/4*3|0:(6*e+7)/8|0},e.prototype.decodedLength=function(e){return this.maxDecodedLength(e.length-this._getPaddingLength(e))},e.prototype.decode=function(e){if(0===e.length)return new Uint8Array(0);for(var t=this._getPaddingLength(e),n=e.length-t,s=new Uint8Array(this.maxDecodedLength(n)),a=0,r=0,o=0,l=0,c=0,d=0,u=0;r<n-4;r+=4)l=this._decodeChar(e.charCodeAt(r+0)),c=this._decodeChar(e.charCodeAt(r+1)),d=this._decodeChar(e.charCodeAt(r+2)),u=this._decodeChar(e.charCodeAt(r+3)),s[a++]=l<<2|c>>>4,s[a++]=c<<4|d>>>2,s[a++]=d<<6|u,o|=l&i,o|=c&i,o|=d&i,o|=u&i;if(r<n-1&&(l=this._decodeChar(e.charCodeAt(r)),c=this._decodeChar(e.charCodeAt(r+1)),s[a++]=l<<2|c>>>4,o|=l&i,o|=c&i),r<n-2&&(d=this._decodeChar(e.charCodeAt(r+2)),s[a++]=c<<4|d>>>2,o|=d&i),r<n-3&&(u=this._decodeChar(e.charCodeAt(r+3)),s[a++]=d<<6|u,o|=u&i),0!==o)throw new Error("Base64Coder: incorrect characters for decoding");return s},e.prototype._encodeByte=function(e){var t=e;return t+=65,t+=25-e>>>8&6,t+=51-e>>>8&-75,t+=61-e>>>8&-15,t+=62-e>>>8&3,String.fromCharCode(t)},e.prototype._decodeChar=function(e){var t=i;return t+=(42-e&e-44)>>>8&-256+e-43+62,t+=(46-e&e-48)>>>8&-256+e-47+63,t+=(47-e&e-58)>>>8&-256+e-48+52,t+=(64-e&e-91)>>>8&-256+e-65+0,t+=(96-e&e-123)>>>8&-256+e-97+26},e.prototype._getPaddingLength=function(e){var t=0;if(this._paddingCharacter){for(var n=e.length-1;n>=0&&e[n]===this._paddingCharacter;n--)t++;if(e.length<4||t>2)throw new Error("Base64Coder: incorrect padding")}return t},e}();t.Coder=a;var r=new a;t.encode=function(e){return r.encode(e)},t.decode=function(e){return r.decode(e)};var o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return s(t,e),t.prototype._encodeByte=function(e){var t=e;return t+=65,t+=25-e>>>8&6,t+=51-e>>>8&-75,t+=61-e>>>8&-13,t+=62-e>>>8&49,String.fromCharCode(t)},t.prototype._decodeChar=function(e){var t=i;return t+=(44-e&e-46)>>>8&-256+e-45+62,t+=(94-e&e-96)>>>8&-256+e-95+63,t+=(47-e&e-58)>>>8&-256+e-48+52,t+=(64-e&e-91)>>>8&-256+e-65+0,t+=(96-e&e-123)>>>8&-256+e-97+26},t}(a);t.URLSafeCoder=o;var l=new o;t.encodeURLSafe=function(e){return l.encode(e)},t.decodeURLSafe=function(e){return l.decode(e)},t.encodedLength=function(e){return r.encodedLength(e)},t.maxDecodedLength=function(e){return r.maxDecodedLength(e)},t.decodedLength=function(e){return r.decodedLength(e)}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var s="utf8: invalid string",i="utf8: invalid source encoding";function a(e){for(var t=0,n=0;n<e.length;n++){var i=e.charCodeAt(n);if(i<128)t+=1;else if(i<2048)t+=2;else if(i<55296)t+=3;else{if(!(i<=57343))throw new Error(s);if(n>=e.length-1)throw new Error(s);n++,t+=4}}return t}t.encode=function(e){for(var t=new Uint8Array(a(e)),n=0,s=0;s<e.length;s++){var i=e.charCodeAt(s);i<128?t[n++]=i:i<2048?(t[n++]=192|i>>6,t[n++]=128|63&i):i<55296?(t[n++]=224|i>>12,t[n++]=128|i>>6&63,t[n++]=128|63&i):(s++,i=(1023&i)<<10,i|=1023&e.charCodeAt(s),i+=65536,t[n++]=240|i>>18,t[n++]=128|i>>12&63,t[n++]=128|i>>6&63,t[n++]=128|63&i)}return t},t.encodedLength=a,t.decode=function(e){for(var t=[],n=0;n<e.length;n++){var s=e[n];if(128&s){var a=void 0;if(s<224){if(n>=e.length)throw new Error(i);if(128!=(192&(r=e[++n])))throw new Error(i);s=(31&s)<<6|63&r,a=128}else if(s<240){if(n>=e.length-1)throw new Error(i);var r=e[++n],o=e[++n];if(128!=(192&r)||128!=(192&o))throw new Error(i);s=(15&s)<<12|(63&r)<<6|63&o,a=2048}else{if(!(s<248))throw new Error(i);if(n>=e.length-2)throw new Error(i);r=e[++n],o=e[++n];var l=e[++n];if(128!=(192&r)||128!=(192&o)||128!=(192&l))throw new Error(i);s=(15&s)<<18|(63&r)<<12|(63&o)<<6|63&l,a=65536}if(s<a||s>=55296&&s<=57343)throw new Error(i);if(s>=65536){if(s>1114111)throw new Error(i);s-=65536,t.push(String.fromCharCode(55296|s>>10)),s=56320|1023&s}}t.push(String.fromCharCode(s))}return t.join("")}},function(e,t,n){e.exports=n(3).default},function(e,t,n){n.r(t);class s{constructor(e,t){this.lastId=0,this.prefix=e,this.name=t}create(e){this.lastId++;var t=this.lastId,n=this.prefix+t,s=this.name+"["+t+"]",i=!1,a=function(){i||(e.apply(null,arguments),i=!0)};return this[t]=a,{number:t,id:n,name:s,callback:a}}remove(e){delete this[e.number]}}var i=new s("_pusher_script_","Pusher.ScriptReceivers"),a={VERSION:"8.4.0",PROTOCOL:7,wsPort:80,wssPort:443,wsPath:"",httpHost:"sockjs.pusher.com",httpPort:80,httpsPort:443,httpPath:"/pusher",stats_host:"stats.pusher.com",authEndpoint:"/pusher/auth",authTransport:"ajax",activityTimeout:12e4,pongTimeout:3e4,unavailableTimeout:1e4,userAuthentication:{endpoint:"/pusher/user-auth",transport:"ajax"},channelAuthorization:{endpoint:"/pusher/auth",transport:"ajax"},cdn_http:"http://js.pusher.com",cdn_https:"https://js.pusher.com",dependency_suffix:""},r=new s("_pusher_dependencies","Pusher.DependenciesReceivers"),o=new class{constructor(e){this.options=e,this.receivers=e.receivers||i,this.loading={}}load(e,t,n){var s=this;if(s.loading[e]&&s.loading[e].length>0)s.loading[e].push(n);else{s.loading[e]=[n];var i=ut.createScriptRequest(s.getPath(e,t)),a=s.receivers.create(function(t){if(s.receivers.remove(a),s.loading[e]){var n=s.loading[e];delete s.loading[e];for(var r=function(e){e||i.cleanup()},o=0;o<n.length;o++)n[o](t,r)}});i.send(a)}}getRoot(e){var t=ut.getDocument().location.protocol;return(e&&e.useTLS||"https:"===t?this.options.cdn_https:this.options.cdn_http).replace(/\/*$/,"")+"/"+this.options.version}getPath(e,t){return this.getRoot(t)+"/"+e+this.options.suffix+".js"}}({cdn_http:a.cdn_http,cdn_https:a.cdn_https,version:a.VERSION,suffix:a.dependency_suffix,receivers:r});const l={baseUrl:"https://pusher.com",urls:{authenticationEndpoint:{path:"/docs/channels/server_api/authenticating_users"},authorizationEndpoint:{path:"/docs/channels/server_api/authorizing-users/"},javascriptQuickStart:{path:"/docs/javascript_quick_start"},triggeringClientEvents:{path:"/docs/client_api_guide/client_events#trigger-events"},encryptedChannelSupport:{fullUrl:"https://github.com/pusher/pusher-js/tree/cc491015371a4bde5743d1c87a0fbac0feb53195#encrypted-channel-support"}}};var c,d,u=function(e){const t=l.urls[e];if(!t)return"";let n;return t.fullUrl?n=t.fullUrl:t.path&&(n=l.baseUrl+t.path),n?`See: ${n}`:""};(d=c||(c={})).UserAuthentication="user-authentication",d.ChannelAuthorization="channel-authorization";class p extends Error{constructor(e){super(e),Object.setPrototypeOf(this,new.target.prototype)}}class m extends Error{constructor(e){super(e),Object.setPrototypeOf(this,new.target.prototype)}}class h extends Error{constructor(e){super(e),Object.setPrototypeOf(this,new.target.prototype)}}class x extends Error{constructor(e){super(e),Object.setPrototypeOf(this,new.target.prototype)}}class f extends Error{constructor(e){super(e),Object.setPrototypeOf(this,new.target.prototype)}}class g extends Error{constructor(e){super(e),Object.setPrototypeOf(this,new.target.prototype)}}class v extends Error{constructor(e){super(e),Object.setPrototypeOf(this,new.target.prototype)}}class b extends Error{constructor(e){super(e),Object.setPrototypeOf(this,new.target.prototype)}}class y extends Error{constructor(e,t){super(t),this.status=e,Object.setPrototypeOf(this,new.target.prototype)}}var w=function(e,t,n,s,i){const a=ut.createXHR();for(var r in a.open("POST",n.endpoint,!0),a.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),n.headers)a.setRequestHeader(r,n.headers[r]);if(null!=n.headersProvider){let e=n.headersProvider();for(var r in e)a.setRequestHeader(r,e[r])}return a.onreadystatechange=function(){if(4===a.readyState)if(200===a.status){let t,n=!1;try{t=JSON.parse(a.responseText),n=!0}catch(e){i(new y(200,`JSON returned from ${s.toString()} endpoint was invalid, yet status code was 200. Data was: ${a.responseText}`),null)}n&&i(null,t)}else{let e="";switch(s){case c.UserAuthentication:e=u("authenticationEndpoint");break;case c.ChannelAuthorization:e=`Clients must be authorized to join private or presence channels. ${u("authorizationEndpoint")}`}i(new y(a.status,`Unable to retrieve auth string from ${s.toString()} endpoint - received status: ${a.status} from ${n.endpoint}. ${e}`),null)}},a.send(t),a},j=String.fromCharCode,C="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",N=function(e){var t=e.charCodeAt(0);return t<128?e:t<2048?j(192|t>>>6)+j(128|63&t):j(224|t>>>12&15)+j(128|t>>>6&63)+j(128|63&t)},F=function(e){return e.replace(/[^\x00-\x7F]/g,N)},_=function(e){var t=[0,2,1][e.length%3],n=e.charCodeAt(0)<<16|(e.length>1?e.charCodeAt(1):0)<<8|(e.length>2?e.charCodeAt(2):0);return[C.charAt(n>>>18),C.charAt(n>>>12&63),t>=2?"=":C.charAt(n>>>6&63),t>=1?"=":C.charAt(63&n)].join("")},k=window.btoa||function(e){return e.replace(/[\s\S]{1,3}/g,_)},S=class{constructor(e,t,n,s){this.clear=t,this.timer=e(()=>{this.timer&&(this.timer=s(this.timer))},n)}isRunning(){return null!==this.timer}ensureAborted(){this.timer&&(this.clear(this.timer),this.timer=null)}};function E(e){window.clearTimeout(e)}function I(e){window.clearInterval(e)}class A extends S{constructor(e,t){super(setTimeout,E,e,function(e){return t(),null})}}class T extends S{constructor(e,t){super(setInterval,I,e,function(e){return t(),e})}}var D={now:()=>Date.now?Date.now():(new Date).valueOf(),defer:e=>new A(0,e),method(e,...t){var n=Array.prototype.slice.call(arguments,1);return function(t){return t[e].apply(t,n.concat(arguments))}}},M=D;function L(e,...t){for(var n=0;n<t.length;n++){var s=t[n];for(var i in s)s[i]&&s[i].constructor&&s[i].constructor===Object?e[i]=L(e[i]||{},s[i]):e[i]=s[i]}return e}function P(){for(var e=["Pusher"],t=0;t<arguments.length;t++)"string"==typeof arguments[t]?e.push(arguments[t]):e.push(G(arguments[t]));return e.join(" : ")}function R(e,t){var n=Array.prototype.indexOf;if(null===e)return-1;if(n&&e.indexOf===n)return e.indexOf(t);for(var s=0,i=e.length;s<i;s++)if(e[s]===t)return s;return-1}function O(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(e[n],n,e)}function z(e){var t=[];return O(e,function(e,n){t.push(n)}),t}function B(e,t,n){for(var s=0;s<e.length;s++)t.call(n||window,e[s],s,e)}function H(e,t){for(var n=[],s=0;s<e.length;s++)n.push(t(e[s],s,e,n));return n}function $(e,t){t=t||function(e){return!!e};for(var n=[],s=0;s<e.length;s++)t(e[s],s,e,n)&&n.push(e[s]);return n}function U(e,t){var n={};return O(e,function(s,i){(t&&t(s,i,e,n)||Boolean(s))&&(n[i]=s)}),n}function V(e,t){for(var n=0;n<e.length;n++)if(t(e[n],n,e))return!0;return!1}function W(e){return t=function(e){return"object"==typeof e&&(e=G(e)),encodeURIComponent((t=e.toString(),k(F(t))));var t},n={},O(e,function(e,s){n[s]=t(e)}),n;var t,n}function q(e){var t,n,s=U(e,function(e){return void 0!==e});return H((t=W(s),n=[],O(t,function(e,t){n.push([t,e])}),n),M.method("join","=")).join("&")}function G(e){try{return JSON.stringify(e)}catch(s){return JSON.stringify((t=[],n=[],function e(s,i){var a,r,o;switch(typeof s){case"object":if(!s)return null;for(a=0;a<t.length;a+=1)if(t[a]===s)return{$ref:n[a]};if(t.push(s),n.push(i),"[object Array]"===Object.prototype.toString.apply(s))for(o=[],a=0;a<s.length;a+=1)o[a]=e(s[a],i+"["+a+"]");else for(r in o={},s)Object.prototype.hasOwnProperty.call(s,r)&&(o[r]=e(s[r],i+"["+JSON.stringify(r)+"]"));return o;case"number":case"string":case"boolean":return s}}(e,"$")))}var t,n}var Z=new class{constructor(){this.globalLog=e=>{window.console&&window.console.log&&window.console.log(e)}}debug(...e){this.log(this.globalLog,e)}warn(...e){this.log(this.globalLogWarn,e)}error(...e){this.log(this.globalLogError,e)}globalLogWarn(e){window.console&&window.console.warn?window.console.warn(e):this.globalLog(e)}globalLogError(e){window.console&&window.console.error?window.console.error(e):this.globalLogWarn(e)}log(e,...t){var n=P.apply(this,arguments);At.log?At.log(n):At.logToConsole&&e.bind(this)(n)}},Y=function(e,t,n,s,i){void 0===n.headers&&null==n.headersProvider||Z.warn(`To send headers with the ${s.toString()} request, you must use AJAX, rather than JSONP.`);var a=e.nextAuthCallbackID.toString();e.nextAuthCallbackID++;var r=e.getDocument(),o=r.createElement("script");e.auth_callbacks[a]=function(e){i(null,e)};var l="Pusher.auth_callbacks['"+a+"']";o.src=n.endpoint+"?callback="+encodeURIComponent(l)+"&"+t;var c=r.getElementsByTagName("head")[0]||r.documentElement;c.insertBefore(o,c.firstChild)};class K{constructor(e){this.src=e}send(e){var t=this,n="Error loading "+t.src;t.script=document.createElement("script"),t.script.id=e.id,t.script.src=t.src,t.script.type="text/javascript",t.script.charset="UTF-8",t.script.addEventListener?(t.script.onerror=function(){e.callback(n)},t.script.onload=function(){e.callback(null)}):t.script.onreadystatechange=function(){"loaded"!==t.script.readyState&&"complete"!==t.script.readyState||e.callback(null)},void 0===t.script.async&&document.attachEvent&&/opera/i.test(navigator.userAgent)?(t.errorScript=document.createElement("script"),t.errorScript.id=e.id+"_error",t.errorScript.text=e.name+"('"+n+"');",t.script.async=t.errorScript.async=!1):t.script.async=!0;var s=document.getElementsByTagName("head")[0];s.insertBefore(t.script,s.firstChild),t.errorScript&&s.insertBefore(t.errorScript,t.script.nextSibling)}cleanup(){this.script&&(this.script.onload=this.script.onerror=null,this.script.onreadystatechange=null),this.script&&this.script.parentNode&&this.script.parentNode.removeChild(this.script),this.errorScript&&this.errorScript.parentNode&&this.errorScript.parentNode.removeChild(this.errorScript),this.script=null,this.errorScript=null}}class J{constructor(e,t){this.url=e,this.data=t}send(e){if(!this.request){var t=q(this.data),n=this.url+"/"+e.number+"?"+t;this.request=ut.createScriptRequest(n),this.request.send(e)}}cleanup(){this.request&&this.request.cleanup()}}var Q={name:"jsonp",getAgent:function(e,t){return function(n,s){var a="http"+(t?"s":"")+"://"+(e.host||e.options.host)+e.options.path,r=ut.createJSONPRequest(a,n),o=ut.ScriptReceivers.create(function(t,n){i.remove(o),r.cleanup(),n&&n.host&&(e.host=n.host),s&&s(t,n)});r.send(o)}}};function X(e,t,n){return e+(t.useTLS?"s":"")+"://"+(t.useTLS?t.hostTLS:t.hostNonTLS)+n}function ee(e,t){return"/app/"+e+"?protocol="+a.PROTOCOL+"&client=js&version="+a.VERSION+(t?"&"+t:"")}var te={getInitial:function(e,t){return X("ws",t,(t.httpPath||"")+ee(e,"flash=false"))}},ne={getInitial:function(e,t){return X("http",t,(t.httpPath||"/pusher")+ee(e))}},se={getInitial:function(e,t){return X("http",t,t.httpPath||"/pusher")},getPath:function(e,t){return ee(e)}};class ie{constructor(){this._callbacks={}}get(e){return this._callbacks[ae(e)]}add(e,t,n){var s=ae(e);this._callbacks[s]=this._callbacks[s]||[],this._callbacks[s].push({fn:t,context:n})}remove(e,t,n){if(e||t||n){var s=e?[ae(e)]:z(this._callbacks);t||n?this.removeCallback(s,t,n):this.removeAllCallbacks(s)}else this._callbacks={}}removeCallback(e,t,n){B(e,function(e){this._callbacks[e]=$(this._callbacks[e]||[],function(e){return t&&t!==e.fn||n&&n!==e.context}),0===this._callbacks[e].length&&delete this._callbacks[e]},this)}removeAllCallbacks(e){B(e,function(e){delete this._callbacks[e]},this)}}function ae(e){return"_"+e}class re{constructor(e){this.callbacks=new ie,this.global_callbacks=[],this.failThrough=e}bind(e,t,n){return this.callbacks.add(e,t,n),this}bind_global(e){return this.global_callbacks.push(e),this}unbind(e,t,n){return this.callbacks.remove(e,t,n),this}unbind_global(e){return e?(this.global_callbacks=$(this.global_callbacks||[],t=>t!==e),this):(this.global_callbacks=[],this)}unbind_all(){return this.unbind(),this.unbind_global(),this}emit(e,t,n){for(var s=0;s<this.global_callbacks.length;s++)this.global_callbacks[s](e,t);var i=this.callbacks.get(e),a=[];if(n?a.push(t,n):t&&a.push(t),i&&i.length>0)for(s=0;s<i.length;s++)i[s].fn.apply(i[s].context||window,a);else this.failThrough&&this.failThrough(e,t);return this}}class oe extends re{constructor(e,t,n,s,i){super(),this.initialize=ut.transportConnectionInitializer,this.hooks=e,this.name=t,this.priority=n,this.key=s,this.options=i,this.state="new",this.timeline=i.timeline,this.activityTimeout=i.activityTimeout,this.id=this.timeline.generateUniqueID()}handlesActivityChecks(){return Boolean(this.hooks.handlesActivityChecks)}supportsPing(){return Boolean(this.hooks.supportsPing)}connect(){if(this.socket||"initialized"!==this.state)return!1;var e=this.hooks.urls.getInitial(this.key,this.options);try{this.socket=this.hooks.getSocket(e,this.options)}catch(t){return M.defer(()=>{this.onError(t),this.changeState("closed")}),!1}return this.bindListeners(),Z.debug("Connecting",{transport:this.name,url:e}),this.changeState("connecting"),!0}close(){return!!this.socket&&(this.socket.close(),!0)}send(e){return"open"===this.state&&(M.defer(()=>{this.socket&&this.socket.send(e)}),!0)}ping(){"open"===this.state&&this.supportsPing()&&this.socket.ping()}onOpen(){this.hooks.beforeOpen&&this.hooks.beforeOpen(this.socket,this.hooks.urls.getPath(this.key,this.options)),this.changeState("open"),this.socket.onopen=void 0}onError(e){this.emit("error",{type:"WebSocketError",error:e}),this.timeline.error(this.buildTimelineMessage({error:e.toString()}))}onClose(e){e?this.changeState("closed",{code:e.code,reason:e.reason,wasClean:e.wasClean}):this.changeState("closed"),this.unbindListeners(),this.socket=void 0}onMessage(e){this.emit("message",e)}onActivity(){this.emit("activity")}bindListeners(){this.socket.onopen=()=>{this.onOpen()},this.socket.onerror=e=>{this.onError(e)},this.socket.onclose=e=>{this.onClose(e)},this.socket.onmessage=e=>{this.onMessage(e)},this.supportsPing()&&(this.socket.onactivity=()=>{this.onActivity()})}unbindListeners(){this.socket&&(this.socket.onopen=void 0,this.socket.onerror=void 0,this.socket.onclose=void 0,this.socket.onmessage=void 0,this.supportsPing()&&(this.socket.onactivity=void 0))}changeState(e,t){this.state=e,this.timeline.info(this.buildTimelineMessage({state:e,params:t})),this.emit(e,t)}buildTimelineMessage(e){return L({cid:this.id},e)}}class le{constructor(e){this.hooks=e}isSupported(e){return this.hooks.isSupported(e)}createConnection(e,t,n,s){return new oe(this.hooks,e,t,n,s)}}var ce=new le({urls:te,handlesActivityChecks:!1,supportsPing:!1,isInitialized:function(){return Boolean(ut.getWebSocketAPI())},isSupported:function(){return Boolean(ut.getWebSocketAPI())},getSocket:function(e){return ut.createWebSocket(e)}}),de={urls:ne,handlesActivityChecks:!1,supportsPing:!0,isInitialized:function(){return!0}},ue=L({getSocket:function(e){return ut.HTTPFactory.createStreamingSocket(e)}},de),pe=L({getSocket:function(e){return ut.HTTPFactory.createPollingSocket(e)}},de),me={isSupported:function(){return ut.isXHRSupported()}},he={ws:ce,xhr_streaming:new le(L({},ue,me)),xhr_polling:new le(L({},pe,me))},xe=new le({file:"sockjs",urls:se,handlesActivityChecks:!0,supportsPing:!1,isSupported:function(){return!0},isInitialized:function(){return void 0!==window.SockJS},getSocket:function(e,t){return new window.SockJS(e,null,{js_path:o.getPath("sockjs",{useTLS:t.useTLS}),ignore_null_origin:t.ignoreNullOrigin})},beforeOpen:function(e,t){e.send(JSON.stringify({path:t}))}}),fe={isSupported:function(e){return ut.isXDRSupported(e.useTLS)}},ge=new le(L({},ue,fe)),ve=new le(L({},pe,fe));he.xdr_streaming=ge,he.xdr_polling=ve,he.sockjs=xe;var be=he,ye=new class extends re{constructor(){super();var e=this;void 0!==window.addEventListener&&(window.addEventListener("online",function(){e.emit("online")},!1),window.addEventListener("offline",function(){e.emit("offline")},!1))}isOnline(){return void 0===window.navigator.onLine||window.navigator.onLine}};class we{constructor(e,t,n){this.manager=e,this.transport=t,this.minPingDelay=n.minPingDelay,this.maxPingDelay=n.maxPingDelay,this.pingDelay=void 0}createConnection(e,t,n,s){s=L({},s,{activityTimeout:this.pingDelay});var i=this.transport.createConnection(e,t,n,s),a=null,r=function(){i.unbind("open",r),i.bind("closed",o),a=M.now()},o=e=>{if(i.unbind("closed",o),1002===e.code||1003===e.code)this.manager.reportDeath();else if(!e.wasClean&&a){var t=M.now()-a;t<2*this.maxPingDelay&&(this.manager.reportDeath(),this.pingDelay=Math.max(t/2,this.minPingDelay))}};return i.bind("open",r),i}isSupported(e){return this.manager.isAlive()&&this.transport.isSupported(e)}}const je={decodeMessage:function(e){try{var t=JSON.parse(e.data),n=t.data;if("string"==typeof n)try{n=JSON.parse(t.data)}catch(i){}var s={event:t.event,channel:t.channel,data:n};return t.user_id&&(s.user_id=t.user_id),s}catch(i){throw{type:"MessageParseError",error:i,data:e.data}}},encodeMessage:function(e){return JSON.stringify(e)},processHandshake:function(e){var t=je.decodeMessage(e);if("pusher:connection_established"===t.event){if(!t.data.activity_timeout)throw"No activity timeout specified in handshake";return{action:"connected",id:t.data.socket_id,activityTimeout:1e3*t.data.activity_timeout}}if("pusher:error"===t.event)return{action:this.getCloseAction(t.data),error:this.getCloseError(t.data)};throw"Invalid handshake"},getCloseAction:function(e){return e.code<4e3?e.code>=1002&&e.code<=1004?"backoff":null:4e3===e.code?"tls_only":e.code<4100?"refused":e.code<4200?"backoff":e.code<4300?"retry":"refused"},getCloseError:function(e){return 1e3!==e.code&&1001!==e.code?{type:"PusherError",data:{code:e.code,message:e.reason||e.message}}:null}};var Ce=je;class Ne extends re{constructor(e,t){super(),this.id=e,this.transport=t,this.activityTimeout=t.activityTimeout,this.bindListeners()}handlesActivityChecks(){return this.transport.handlesActivityChecks()}send(e){return this.transport.send(e)}send_event(e,t,n){var s={event:e,data:t};return n&&(s.channel=n),Z.debug("Event sent",s),this.send(Ce.encodeMessage(s))}ping(){this.transport.supportsPing()?this.transport.ping():this.send_event("pusher:ping",{})}close(){this.transport.close()}bindListeners(){var e={message:e=>{var t;try{t=Ce.decodeMessage(e)}catch(n){this.emit("error",{type:"MessageParseError",error:n,data:e.data})}if(void 0!==t){switch(Z.debug("Event recd",t),t.event){case"pusher:error":this.emit("error",{type:"PusherError",data:t.data});break;case"pusher:ping":this.emit("ping");break;case"pusher:pong":this.emit("pong")}this.emit("message",t)}},activity:()=>{this.emit("activity")},error:e=>{this.emit("error",e)},closed:e=>{t(),e&&e.code&&this.handleCloseEvent(e),this.transport=null,this.emit("closed")}},t=()=>{O(e,(e,t)=>{this.transport.unbind(t,e)})};O(e,(e,t)=>{this.transport.bind(t,e)})}handleCloseEvent(e){var t=Ce.getCloseAction(e),n=Ce.getCloseError(e);n&&this.emit("error",n),t&&this.emit(t,{action:t,error:n})}}class Fe{constructor(e,t){this.transport=e,this.callback=t,this.bindListeners()}close(){this.unbindListeners(),this.transport.close()}bindListeners(){this.onMessage=e=>{var t;this.unbindListeners();try{t=Ce.processHandshake(e)}catch(n){return this.finish("error",{error:n}),void this.transport.close()}"connected"===t.action?this.finish("connected",{connection:new Ne(t.id,this.transport),activityTimeout:t.activityTimeout}):(this.finish(t.action,{error:t.error}),this.transport.close())},this.onClosed=e=>{this.unbindListeners();var t=Ce.getCloseAction(e)||"backoff",n=Ce.getCloseError(e);this.finish(t,{error:n})},this.transport.bind("message",this.onMessage),this.transport.bind("closed",this.onClosed)}unbindListeners(){this.transport.unbind("message",this.onMessage),this.transport.unbind("closed",this.onClosed)}finish(e,t){this.callback(L({transport:this.transport,action:e},t))}}class _e{constructor(e,t){this.timeline=e,this.options=t||{}}send(e,t){this.timeline.isEmpty()||this.timeline.send(ut.TimelineTransport.getAgent(this,e),t)}}class ke extends re{constructor(e,t){super(function(t,n){Z.debug("No callbacks on "+e+" for "+t)}),this.name=e,this.pusher=t,this.subscribed=!1,this.subscriptionPending=!1,this.subscriptionCancelled=!1}authorize(e,t){return t(null,{auth:""})}trigger(e,t){if(0!==e.indexOf("client-"))throw new p("Event '"+e+"' does not start with 'client-'");if(!this.subscribed){var n=u("triggeringClientEvents");Z.warn(`Client event triggered before channel 'subscription_succeeded' event . ${n}`)}return this.pusher.send_event(e,t,this.name)}disconnect(){this.subscribed=!1,this.subscriptionPending=!1}handleEvent(e){var t=e.event,n=e.data;"pusher_internal:subscription_succeeded"===t?this.handleSubscriptionSucceededEvent(e):"pusher_internal:subscription_count"===t?this.handleSubscriptionCountEvent(e):0!==t.indexOf("pusher_internal:")&&this.emit(t,n,{})}handleSubscriptionSucceededEvent(e){this.subscriptionPending=!1,this.subscribed=!0,this.subscriptionCancelled?this.pusher.unsubscribe(this.name):this.emit("pusher:subscription_succeeded",e.data)}handleSubscriptionCountEvent(e){e.data.subscription_count&&(this.subscriptionCount=e.data.subscription_count),this.emit("pusher:subscription_count",e.data)}subscribe(){this.subscribed||(this.subscriptionPending=!0,this.subscriptionCancelled=!1,this.authorize(this.pusher.connection.socket_id,(e,t)=>{e?(this.subscriptionPending=!1,Z.error(e.toString()),this.emit("pusher:subscription_error",Object.assign({},{type:"AuthError",error:e.message},e instanceof y?{status:e.status}:{}))):this.pusher.send_event("pusher:subscribe",{auth:t.auth,channel_data:t.channel_data,channel:this.name})}))}unsubscribe(){this.subscribed=!1,this.pusher.send_event("pusher:unsubscribe",{channel:this.name})}cancelSubscription(){this.subscriptionCancelled=!0}reinstateSubscription(){this.subscriptionCancelled=!1}}class Se extends ke{authorize(e,t){return this.pusher.config.channelAuthorizer({channelName:this.name,socketId:e},t)}}class Ee{constructor(){this.reset()}get(e){return Object.prototype.hasOwnProperty.call(this.members,e)?{id:e,info:this.members[e]}:null}each(e){O(this.members,(t,n)=>{e(this.get(n))})}setMyID(e){this.myID=e}onSubscription(e){this.members=e.presence.hash,this.count=e.presence.count,this.me=this.get(this.myID)}addMember(e){return null===this.get(e.user_id)&&this.count++,this.members[e.user_id]=e.user_info,this.get(e.user_id)}removeMember(e){var t=this.get(e.user_id);return t&&(delete this.members[e.user_id],this.count--),t}reset(){this.members={},this.count=0,this.myID=null,this.me=null}}var Ie=function(e,t,n,s){return new(n||(n=Promise))(function(i,a){function r(e){try{l(s.next(e))}catch(t){a(t)}}function o(e){try{l(s.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,o)}l((s=s.apply(e,t||[])).next())})};class Ae extends Se{constructor(e,t){super(e,t),this.members=new Ee}authorize(e,t){super.authorize(e,(e,n)=>Ie(this,void 0,void 0,function*(){if(!e)if(null!=n.channel_data){var s=JSON.parse(n.channel_data);this.members.setMyID(s.user_id)}else{if(yield this.pusher.user.signinDonePromise,null==this.pusher.user.user_data){let e=u("authorizationEndpoint");return Z.error(`Invalid auth response for channel '${this.name}', expected 'channel_data' field. ${e}, or the user should be signed in.`),void t("Invalid auth response")}this.members.setMyID(this.pusher.user.user_data.id)}t(e,n)}))}handleEvent(e){var t=e.event;if(0===t.indexOf("pusher_internal:"))this.handleInternalEvent(e);else{var n=e.data,s={};e.user_id&&(s.user_id=e.user_id),this.emit(t,n,s)}}handleInternalEvent(e){var t=e.event,n=e.data;switch(t){case"pusher_internal:subscription_succeeded":this.handleSubscriptionSucceededEvent(e);break;case"pusher_internal:subscription_count":this.handleSubscriptionCountEvent(e);break;case"pusher_internal:member_added":var s=this.members.addMember(n);this.emit("pusher:member_added",s);break;case"pusher_internal:member_removed":var i=this.members.removeMember(n);i&&this.emit("pusher:member_removed",i)}}handleSubscriptionSucceededEvent(e){this.subscriptionPending=!1,this.subscribed=!0,this.subscriptionCancelled?this.pusher.unsubscribe(this.name):(this.members.onSubscription(e.data),this.emit("pusher:subscription_succeeded",this.members))}disconnect(){this.members.reset(),super.disconnect()}}var Te=n(1),De=n(0);class Me extends Se{constructor(e,t,n){super(e,t),this.key=null,this.nacl=n}authorize(e,t){super.authorize(e,(e,n)=>{if(e)return void t(e,n);let s=n.shared_secret;s?(this.key=Object(De.decode)(s),delete n.shared_secret,t(null,n)):t(new Error(`No shared_secret key in auth payload for encrypted channel: ${this.name}`),null)})}trigger(e,t){throw new g("Client events are not currently supported for encrypted channels")}handleEvent(e){var t=e.event,n=e.data;0!==t.indexOf("pusher_internal:")&&0!==t.indexOf("pusher:")?this.handleEncryptedEvent(t,n):super.handleEvent(e)}handleEncryptedEvent(e,t){if(!this.key)return void Z.debug("Received encrypted event before key has been retrieved from the authEndpoint");if(!t.ciphertext||!t.nonce)return void Z.error("Unexpected format for encrypted event, expected object with `ciphertext` and `nonce` fields, got: "+t);let n=Object(De.decode)(t.ciphertext);if(n.length<this.nacl.secretbox.overheadLength)return void Z.error(`Expected encrypted event ciphertext length to be ${this.nacl.secretbox.overheadLength}, got: ${n.length}`);let s=Object(De.decode)(t.nonce);if(s.length<this.nacl.secretbox.nonceLength)return void Z.error(`Expected encrypted event nonce length to be ${this.nacl.secretbox.nonceLength}, got: ${s.length}`);let i=this.nacl.secretbox.open(n,s,this.key);if(null===i)return Z.debug("Failed to decrypt an event, probably because it was encrypted with a different key. Fetching a new key from the authEndpoint..."),void this.authorize(this.pusher.connection.socket_id,(t,a)=>{t?Z.error(`Failed to make a request to the authEndpoint: ${a}. Unable to fetch new key, so dropping encrypted event`):(i=this.nacl.secretbox.open(n,s,this.key),null!==i?this.emit(e,this.getDataToEmit(i)):Z.error("Failed to decrypt event with new key. Dropping encrypted event"))});this.emit(e,this.getDataToEmit(i))}getDataToEmit(e){let t=Object(Te.decode)(e);try{return JSON.parse(t)}catch(Vae){return t}}}class Le extends re{constructor(e,t){super(),this.state="initialized",this.connection=null,this.key=e,this.options=t,this.timeline=this.options.timeline,this.usingTLS=this.options.useTLS,this.errorCallbacks=this.buildErrorCallbacks(),this.connectionCallbacks=this.buildConnectionCallbacks(this.errorCallbacks),this.handshakeCallbacks=this.buildHandshakeCallbacks(this.errorCallbacks);var n=ut.getNetwork();n.bind("online",()=>{this.timeline.info({netinfo:"online"}),"connecting"!==this.state&&"unavailable"!==this.state||this.retryIn(0)}),n.bind("offline",()=>{this.timeline.info({netinfo:"offline"}),this.connection&&this.sendActivityCheck()}),this.updateStrategy()}connect(){this.connection||this.runner||(this.strategy.isSupported()?(this.updateState("connecting"),this.startConnecting(),this.setUnavailableTimer()):this.updateState("failed"))}send(e){return!!this.connection&&this.connection.send(e)}send_event(e,t,n){return!!this.connection&&this.connection.send_event(e,t,n)}disconnect(){this.disconnectInternally(),this.updateState("disconnected")}isUsingTLS(){return this.usingTLS}startConnecting(){var e=(t,n)=>{t?this.runner=this.strategy.connect(0,e):"error"===n.action?(this.emit("error",{type:"HandshakeError",error:n.error}),this.timeline.error({handshakeError:n.error})):(this.abortConnecting(),this.handshakeCallbacks[n.action](n))};this.runner=this.strategy.connect(0,e)}abortConnecting(){this.runner&&(this.runner.abort(),this.runner=null)}disconnectInternally(){this.abortConnecting(),this.clearRetryTimer(),this.clearUnavailableTimer(),this.connection&&this.abandonConnection().close()}updateStrategy(){this.strategy=this.options.getStrategy({key:this.key,timeline:this.timeline,useTLS:this.usingTLS})}retryIn(e){this.timeline.info({action:"retry",delay:e}),e>0&&this.emit("connecting_in",Math.round(e/1e3)),this.retryTimer=new A(e||0,()=>{this.disconnectInternally(),this.connect()})}clearRetryTimer(){this.retryTimer&&(this.retryTimer.ensureAborted(),this.retryTimer=null)}setUnavailableTimer(){this.unavailableTimer=new A(this.options.unavailableTimeout,()=>{this.updateState("unavailable")})}clearUnavailableTimer(){this.unavailableTimer&&this.unavailableTimer.ensureAborted()}sendActivityCheck(){this.stopActivityCheck(),this.connection.ping(),this.activityTimer=new A(this.options.pongTimeout,()=>{this.timeline.error({pong_timed_out:this.options.pongTimeout}),this.retryIn(0)})}resetActivityCheck(){this.stopActivityCheck(),this.connection&&!this.connection.handlesActivityChecks()&&(this.activityTimer=new A(this.activityTimeout,()=>{this.sendActivityCheck()}))}stopActivityCheck(){this.activityTimer&&this.activityTimer.ensureAborted()}buildConnectionCallbacks(e){return L({},e,{message:e=>{this.resetActivityCheck(),this.emit("message",e)},ping:()=>{this.send_event("pusher:pong",{})},activity:()=>{this.resetActivityCheck()},error:e=>{this.emit("error",e)},closed:()=>{this.abandonConnection(),this.shouldRetry()&&this.retryIn(1e3)}})}buildHandshakeCallbacks(e){return L({},e,{connected:e=>{this.activityTimeout=Math.min(this.options.activityTimeout,e.activityTimeout,e.connection.activityTimeout||1/0),this.clearUnavailableTimer(),this.setConnection(e.connection),this.socket_id=this.connection.id,this.updateState("connected",{socket_id:this.socket_id})}})}buildErrorCallbacks(){let e=e=>t=>{t.error&&this.emit("error",{type:"WebSocketError",error:t.error}),e(t)};return{tls_only:e(()=>{this.usingTLS=!0,this.updateStrategy(),this.retryIn(0)}),refused:e(()=>{this.disconnect()}),backoff:e(()=>{this.retryIn(1e3)}),retry:e(()=>{this.retryIn(0)})}}setConnection(e){for(var t in this.connection=e,this.connectionCallbacks)this.connection.bind(t,this.connectionCallbacks[t]);this.resetActivityCheck()}abandonConnection(){if(this.connection){for(var e in this.stopActivityCheck(),this.connectionCallbacks)this.connection.unbind(e,this.connectionCallbacks[e]);var t=this.connection;return this.connection=null,t}}updateState(e,t){var n=this.state;if(this.state=e,n!==e){var s=e;"connected"===s&&(s+=" with new socket ID "+t.socket_id),Z.debug("State changed",n+" -> "+s),this.timeline.info({state:e,params:t}),this.emit("state_change",{previous:n,current:e}),this.emit(e,t)}}shouldRetry(){return"connecting"===this.state||"connected"===this.state}}class Pe{constructor(){this.channels={}}add(e,t){return this.channels[e]||(this.channels[e]=function(e,t){if(0===e.indexOf("private-encrypted-")){if(t.config.nacl)return Re.createEncryptedChannel(e,t,t.config.nacl);let n="Tried to subscribe to a private-encrypted- channel but no nacl implementation available",s=u("encryptedChannelSupport");throw new g(`${n}. ${s}`)}if(0===e.indexOf("private-"))return Re.createPrivateChannel(e,t);if(0===e.indexOf("presence-"))return Re.createPresenceChannel(e,t);if(0===e.indexOf("#"))throw new m('Cannot create a channel with name "'+e+'".');return Re.createChannel(e,t)}(e,t)),this.channels[e]}all(){return e=this.channels,t=[],O(e,function(e){t.push(e)}),t;var e,t}find(e){return this.channels[e]}remove(e){var t=this.channels[e];return delete this.channels[e],t}disconnect(){O(this.channels,function(e){e.disconnect()})}}var Re={createChannels:()=>new Pe,createConnectionManager:(e,t)=>new Le(e,t),createChannel:(e,t)=>new ke(e,t),createPrivateChannel:(e,t)=>new Se(e,t),createPresenceChannel:(e,t)=>new Ae(e,t),createEncryptedChannel:(e,t,n)=>new Me(e,t,n),createTimelineSender:(e,t)=>new _e(e,t),createHandshake:(e,t)=>new Fe(e,t),createAssistantToTheTransportManager:(e,t,n)=>new we(e,t,n)};class Oe{constructor(e){this.options=e||{},this.livesLeft=this.options.lives||1/0}getAssistant(e){return Re.createAssistantToTheTransportManager(this,e,{minPingDelay:this.options.minPingDelay,maxPingDelay:this.options.maxPingDelay})}isAlive(){return this.livesLeft>0}reportDeath(){this.livesLeft-=1}}class ze{constructor(e,t){this.strategies=e,this.loop=Boolean(t.loop),this.failFast=Boolean(t.failFast),this.timeout=t.timeout,this.timeoutLimit=t.timeoutLimit}isSupported(){return V(this.strategies,M.method("isSupported"))}connect(e,t){var n=this.strategies,s=0,i=this.timeout,a=null,r=(o,l)=>{l?t(null,l):(s+=1,this.loop&&(s%=n.length),s<n.length?(i&&(i*=2,this.timeoutLimit&&(i=Math.min(i,this.timeoutLimit))),a=this.tryStrategy(n[s],e,{timeout:i,failFast:this.failFast},r)):t(!0))};return a=this.tryStrategy(n[s],e,{timeout:i,failFast:this.failFast},r),{abort:function(){a.abort()},forceMinPriority:function(t){e=t,a&&a.forceMinPriority(t)}}}tryStrategy(e,t,n,s){var i=null,a=null;return n.timeout>0&&(i=new A(n.timeout,function(){a.abort(),s(!0)})),a=e.connect(t,function(e,t){e&&i&&i.isRunning()&&!n.failFast||(i&&i.ensureAborted(),s(e,t))}),{abort:function(){i&&i.ensureAborted(),a.abort()},forceMinPriority:function(e){a.forceMinPriority(e)}}}}class Be{constructor(e){this.strategies=e}isSupported(){return V(this.strategies,M.method("isSupported"))}connect(e,t){return function(e,t,n){var s=H(e,function(e,s,i,a){return e.connect(t,n(s,a))});return{abort:function(){B(s,He)},forceMinPriority:function(e){B(s,function(t){t.forceMinPriority(e)})}}}(this.strategies,e,function(e,n){return function(s,i){n[e].error=s,s?function(e){return function(e,t){for(var n=0;n<e.length;n++)if(!t(e[n],n,e))return!1;return!0}(e,function(e){return Boolean(e.error)})}(n)&&t(!0):(B(n,function(e){e.forceMinPriority(i.transport.priority)}),t(null,i))}})}}function He(e){e.error||e.aborted||(e.abort(),e.aborted=!0)}class $e{constructor(e,t,n){this.strategy=e,this.transports=t,this.ttl=n.ttl||18e5,this.usingTLS=n.useTLS,this.timeline=n.timeline}isSupported(){return this.strategy.isSupported()}connect(e,t){var n=this.usingTLS,s=function(e){var t=ut.getLocalStorage();if(t)try{var n=t[Ue(e)];if(n)return JSON.parse(n)}catch(s){Ve(e)}return null}(n),i=s&&s.cacheSkipCount?s.cacheSkipCount:0,a=[this.strategy];if(s&&s.timestamp+this.ttl>=M.now()){var r=this.transports[s.transport];r&&(["ws","wss"].includes(s.transport)||i>3?(this.timeline.info({cached:!0,transport:s.transport,latency:s.latency}),a.push(new ze([r],{timeout:2*s.latency+1e3,failFast:!0}))):i++)}var o=M.now(),l=a.pop().connect(e,function s(r,c){r?(Ve(n),a.length>0?(o=M.now(),l=a.pop().connect(e,s)):t(r)):(function(e,t,n,s){var i=ut.getLocalStorage();if(i)try{i[Ue(e)]=G({timestamp:M.now(),transport:t,latency:n,cacheSkipCount:s})}catch(a){}}(n,c.transport.name,M.now()-o,i),t(null,c))});return{abort:function(){l.abort()},forceMinPriority:function(t){e=t,l&&l.forceMinPriority(t)}}}}function Ue(e){return"pusherTransport"+(e?"TLS":"NonTLS")}function Ve(e){var t=ut.getLocalStorage();if(t)try{delete t[Ue(e)]}catch(n){}}class We{constructor(e,{delay:t}){this.strategy=e,this.options={delay:t}}isSupported(){return this.strategy.isSupported()}connect(e,t){var n,s=this.strategy,i=new A(this.options.delay,function(){n=s.connect(e,t)});return{abort:function(){i.ensureAborted(),n&&n.abort()},forceMinPriority:function(t){e=t,n&&n.forceMinPriority(t)}}}}class qe{constructor(e,t,n){this.test=e,this.trueBranch=t,this.falseBranch=n}isSupported(){return(this.test()?this.trueBranch:this.falseBranch).isSupported()}connect(e,t){return(this.test()?this.trueBranch:this.falseBranch).connect(e,t)}}class Ge{constructor(e){this.strategy=e}isSupported(){return this.strategy.isSupported()}connect(e,t){var n=this.strategy.connect(e,function(e,s){s&&n.abort(),t(e,s)});return n}}function Ze(e){return function(){return e.isSupported()}}var Ye,Ke,Je=function(e,t,n){var s={};function i(t,i,a,r,o){var l=n(e,t,i,a,r,o);return s[t]=l,l}var a,r=Object.assign({},t,{hostNonTLS:e.wsHost+":"+e.wsPort,hostTLS:e.wsHost+":"+e.wssPort,httpPath:e.wsPath}),o=Object.assign({},r,{useTLS:!0}),l=Object.assign({},t,{hostNonTLS:e.httpHost+":"+e.httpPort,hostTLS:e.httpHost+":"+e.httpsPort,httpPath:e.httpPath}),c={loop:!0,timeout:15e3,timeoutLimit:6e4},d=new Oe({minPingDelay:1e4,maxPingDelay:e.activityTimeout}),u=new Oe({lives:2,minPingDelay:1e4,maxPingDelay:e.activityTimeout}),p=i("ws","ws",3,r,d),m=i("wss","ws",3,o,d),h=i("sockjs","sockjs",1,l),x=i("xhr_streaming","xhr_streaming",1,l,u),f=i("xdr_streaming","xdr_streaming",1,l,u),g=i("xhr_polling","xhr_polling",1,l),v=i("xdr_polling","xdr_polling",1,l),b=new ze([p],c),y=new ze([m],c),w=new ze([h],c),j=new ze([new qe(Ze(x),x,f)],c),C=new ze([new qe(Ze(g),g,v)],c),N=new ze([new qe(Ze(j),new Be([j,new We(C,{delay:4e3})]),C)],c),F=new qe(Ze(N),N,w);return a=t.useTLS?new Be([b,new We(F,{delay:2e3})]):new Be([b,new We(y,{delay:2e3}),new We(F,{delay:5e3})]),new $e(new Ge(new qe(Ze(p),a,F)),s,{ttl:18e5,timeline:t.timeline,useTLS:t.useTLS})},Qe={getRequest:function(e){var t=new window.XDomainRequest;return t.ontimeout=function(){e.emit("error",new h),e.close()},t.onerror=function(t){e.emit("error",t),e.close()},t.onprogress=function(){t.responseText&&t.responseText.length>0&&e.onChunk(200,t.responseText)},t.onload=function(){t.responseText&&t.responseText.length>0&&e.onChunk(200,t.responseText),e.emit("finished",200),e.close()},t},abortRequest:function(e){e.ontimeout=e.onerror=e.onprogress=e.onload=null,e.abort()}};class Xe extends re{constructor(e,t,n){super(),this.hooks=e,this.method=t,this.url=n}start(e){this.position=0,this.xhr=this.hooks.getRequest(this),this.unloader=()=>{this.close()},ut.addUnloadListener(this.unloader),this.xhr.open(this.method,this.url,!0),this.xhr.setRequestHeader&&this.xhr.setRequestHeader("Content-Type","application/json"),this.xhr.send(e)}close(){this.unloader&&(ut.removeUnloadListener(this.unloader),this.unloader=null),this.xhr&&(this.hooks.abortRequest(this.xhr),this.xhr=null)}onChunk(e,t){for(;;){var n=this.advanceBuffer(t);if(!n)break;this.emit("chunk",{status:e,data:n})}this.isBufferTooLong(t)&&this.emit("buffer_too_long")}advanceBuffer(e){var t=e.slice(this.position),n=t.indexOf("\n");return-1!==n?(this.position+=n+1,t.slice(0,n)):null}isBufferTooLong(e){return this.position===e.length&&e.length>262144}}(Ke=Ye||(Ye={}))[Ke.CONNECTING=0]="CONNECTING",Ke[Ke.OPEN=1]="OPEN",Ke[Ke.CLOSED=3]="CLOSED";var et=Ye,tt=1;function nt(e){var t=-1===e.indexOf("?")?"?":"&";return e+t+"t="+ +new Date+"&n="+tt++}function st(e){return ut.randomInt(e)}var it,at,rt=class{constructor(e,t){this.hooks=e,this.session=st(1e3)+"/"+function(e){for(var t=[],n=0;n<e;n++)t.push(st(32).toString(32));return t.join("")}(8),this.location=function(e){var t=/([^\?]*)\/*(\??.*)/.exec(e);return{base:t[1],queryString:t[2]}}(t),this.readyState=et.CONNECTING,this.openStream()}send(e){return this.sendRaw(JSON.stringify([e]))}ping(){this.hooks.sendHeartbeat(this)}close(e,t){this.onClose(e,t,!0)}sendRaw(e){if(this.readyState!==et.OPEN)return!1;try{return ut.createSocketRequest("POST",nt((t=this.location,n=this.session,t.base+"/"+n+"/xhr_send"))).start(e),!0}catch(s){return!1}var t,n}reconnect(){this.closeStream(),this.openStream()}onClose(e,t,n){this.closeStream(),this.readyState=et.CLOSED,this.onclose&&this.onclose({code:e,reason:t,wasClean:n})}onChunk(e){var t;if(200===e.status)switch(this.readyState===et.OPEN&&this.onActivity(),e.data.slice(0,1)){case"o":t=JSON.parse(e.data.slice(1)||"{}"),this.onOpen(t);break;case"a":t=JSON.parse(e.data.slice(1)||"[]");for(var n=0;n<t.length;n++)this.onEvent(t[n]);break;case"m":t=JSON.parse(e.data.slice(1)||"null"),this.onEvent(t);break;case"h":this.hooks.onHeartbeat(this);break;case"c":t=JSON.parse(e.data.slice(1)||"[]"),this.onClose(t[0],t[1],!0)}}onOpen(e){var t,n,s;this.readyState===et.CONNECTING?(e&&e.hostname&&(this.location.base=(t=this.location.base,n=e.hostname,(s=/(https?:\/\/)([^\/:]+)((\/|:)?.*)/.exec(t))[1]+n+s[3])),this.readyState=et.OPEN,this.onopen&&this.onopen()):this.onClose(1006,"Server lost session",!0)}onEvent(e){this.readyState===et.OPEN&&this.onmessage&&this.onmessage({data:e})}onActivity(){this.onactivity&&this.onactivity()}onError(e){this.onerror&&this.onerror(e)}openStream(){this.stream=ut.createSocketRequest("POST",nt(this.hooks.getReceiveURL(this.location,this.session))),this.stream.bind("chunk",e=>{this.onChunk(e)}),this.stream.bind("finished",e=>{this.hooks.onFinished(this,e)}),this.stream.bind("buffer_too_long",()=>{this.reconnect()});try{this.stream.start()}catch(e){M.defer(()=>{this.onError(e),this.onClose(1006,"Could not start streaming",!1)})}}closeStream(){this.stream&&(this.stream.unbind_all(),this.stream.close(),this.stream=null)}},ot={getReceiveURL:function(e,t){return e.base+"/"+t+"/xhr_streaming"+e.queryString},onHeartbeat:function(e){e.sendRaw("[]")},sendHeartbeat:function(e){e.sendRaw("[]")},onFinished:function(e,t){e.onClose(1006,"Connection interrupted ("+t+")",!1)}},lt={getReceiveURL:function(e,t){return e.base+"/"+t+"/xhr"+e.queryString},onHeartbeat:function(){},sendHeartbeat:function(e){e.sendRaw("[]")},onFinished:function(e,t){200===t?e.reconnect():e.onClose(1006,"Connection interrupted ("+t+")",!1)}},ct={getRequest:function(e){var t=new(ut.getXHRAPI());return t.onreadystatechange=t.onprogress=function(){switch(t.readyState){case 3:t.responseText&&t.responseText.length>0&&e.onChunk(t.status,t.responseText);break;case 4:t.responseText&&t.responseText.length>0&&e.onChunk(t.status,t.responseText),e.emit("finished",t.status),e.close()}},t},abortRequest:function(e){e.onreadystatechange=null,e.abort()}},dt={createStreamingSocket(e){return this.createSocket(ot,e)},createPollingSocket(e){return this.createSocket(lt,e)},createSocket:(e,t)=>new rt(e,t),createXHR(e,t){return this.createRequest(ct,e,t)},createRequest:(e,t,n)=>new Xe(e,t,n),createXDR:function(e,t){return this.createRequest(Qe,e,t)}},ut={nextAuthCallbackID:1,auth_callbacks:{},ScriptReceivers:i,DependenciesReceivers:r,getDefaultStrategy:Je,Transports:be,transportConnectionInitializer:function(){var e=this;e.timeline.info(e.buildTimelineMessage({transport:e.name+(e.options.useTLS?"s":"")})),e.hooks.isInitialized()?e.changeState("initialized"):e.hooks.file?(e.changeState("initializing"),o.load(e.hooks.file,{useTLS:e.options.useTLS},function(t,n){e.hooks.isInitialized()?(e.changeState("initialized"),n(!0)):(t&&e.onError(t),e.onClose(),n(!1))})):e.onClose()},HTTPFactory:dt,TimelineTransport:Q,getXHRAPI:()=>window.XMLHttpRequest,getWebSocketAPI:()=>window.WebSocket||window.MozWebSocket,setup(e){window.Pusher=e;var t=()=>{this.onDocumentBody(e.ready)};window.JSON?t():o.load("json2",{},t)},getDocument:()=>document,getProtocol(){return this.getDocument().location.protocol},getAuthorizers:()=>({ajax:w,jsonp:Y}),onDocumentBody(e){document.body?e():setTimeout(()=>{this.onDocumentBody(e)},0)},createJSONPRequest:(e,t)=>new J(e,t),createScriptRequest:e=>new K(e),getLocalStorage(){try{return window.localStorage}catch(e){return}},createXHR(){return this.getXHRAPI()?this.createXMLHttpRequest():this.createMicrosoftXHR()},createXMLHttpRequest(){return new(this.getXHRAPI())},createMicrosoftXHR:()=>new ActiveXObject("Microsoft.XMLHTTP"),getNetwork:()=>ye,createWebSocket(e){return new(this.getWebSocketAPI())(e)},createSocketRequest(e,t){if(this.isXHRSupported())return this.HTTPFactory.createXHR(e,t);if(this.isXDRSupported(0===t.indexOf("https:")))return this.HTTPFactory.createXDR(e,t);throw"Cross-origin HTTP requests are not supported"},isXHRSupported(){var e=this.getXHRAPI();return Boolean(e)&&void 0!==(new e).withCredentials},isXDRSupported(e){var t=e?"https:":"http:",n=this.getProtocol();return Boolean(window.XDomainRequest)&&n===t},addUnloadListener(e){void 0!==window.addEventListener?window.addEventListener("unload",e,!1):void 0!==window.attachEvent&&window.attachEvent("onunload",e)},removeUnloadListener(e){void 0!==window.addEventListener?window.removeEventListener("unload",e,!1):void 0!==window.detachEvent&&window.detachEvent("onunload",e)},randomInt:e=>Math.floor((window.crypto||window.msCrypto).getRandomValues(new Uint32Array(1))[0]/Math.pow(2,32)*e)};(at=it||(it={}))[at.ERROR=3]="ERROR",at[at.INFO=6]="INFO",at[at.DEBUG=7]="DEBUG";var pt=it;class mt{constructor(e,t,n){this.key=e,this.session=t,this.events=[],this.options=n||{},this.sent=0,this.uniqueID=0}log(e,t){e<=this.options.level&&(this.events.push(L({},t,{timestamp:M.now()})),this.options.limit&&this.events.length>this.options.limit&&this.events.shift())}error(e){this.log(pt.ERROR,e)}info(e){this.log(pt.INFO,e)}debug(e){this.log(pt.DEBUG,e)}isEmpty(){return 0===this.events.length}send(e,t){var n=L({session:this.session,bundle:this.sent+1,key:this.key,lib:"js",version:this.options.version,cluster:this.options.cluster,features:this.options.features,timeline:this.events},this.options.params);return this.events=[],e(n,(e,n)=>{e||this.sent++,t&&t(e,n)}),!0}generateUniqueID(){return this.uniqueID++,this.uniqueID}}class ht{constructor(e,t,n,s){this.name=e,this.priority=t,this.transport=n,this.options=s||{}}isSupported(){return this.transport.isSupported({useTLS:this.options.useTLS})}connect(e,t){if(!this.isSupported())return xt(new b,t);if(this.priority<e)return xt(new x,t);var n=!1,s=this.transport.createConnection(this.name,this.priority,this.options.key,this.options),i=null,a=function(){s.unbind("initialized",a),s.connect()},r=function(){i=Re.createHandshake(s,function(e){n=!0,c(),t(null,e)})},o=function(e){c(),t(e)},l=function(){var e;c(),e=G(s),t(new f(e))},c=function(){s.unbind("initialized",a),s.unbind("open",r),s.unbind("error",o),s.unbind("closed",l)};return s.bind("initialized",a),s.bind("open",r),s.bind("error",o),s.bind("closed",l),s.initialize(),{abort:()=>{n||(c(),i?i.close():s.close())},forceMinPriority:e=>{n||this.priority<e&&(i?i.close():s.close())}}}}function xt(e,t){return M.defer(function(){t(e)}),{abort:function(){},forceMinPriority:function(){}}}const{Transports:ft}=ut;var gt=function(e,t,n,s,i,a){var r,o=ft[n];if(!o)throw new v(n);return e.enabledTransports&&-1===R(e.enabledTransports,t)||e.disabledTransports&&-1!==R(e.disabledTransports,t)?r=vt:(i=Object.assign({ignoreNullOrigin:e.ignoreNullOrigin},i),r=new ht(t,s,a?a.getAssistant(o):o,i)),r},vt={isSupported:function(){return!1},connect:function(e,t){var n=M.defer(function(){t(new b)});return{abort:function(){n.ensureAborted()},forceMinPriority:function(){}}}},bt=e=>{if(void 0===ut.getAuthorizers()[e.transport])throw`'${e.transport}' is not a recognized auth transport`;return(t,n)=>{const s=((e,t)=>{var n="socket_id="+encodeURIComponent(e.socketId);for(var s in t.params)n+="&"+encodeURIComponent(s)+"="+encodeURIComponent(t.params[s]);if(null!=t.paramsProvider){let e=t.paramsProvider();for(var s in e)n+="&"+encodeURIComponent(s)+"="+encodeURIComponent(e[s])}return n})(t,e);ut.getAuthorizers()[e.transport](ut,s,e,c.UserAuthentication,n)}},yt=e=>{if(void 0===ut.getAuthorizers()[e.transport])throw`'${e.transport}' is not a recognized auth transport`;return(t,n)=>{const s=((e,t)=>{var n="socket_id="+encodeURIComponent(e.socketId);for(var s in n+="&channel_name="+encodeURIComponent(e.channelName),t.params)n+="&"+encodeURIComponent(s)+"="+encodeURIComponent(t.params[s]);if(null!=t.paramsProvider){let e=t.paramsProvider();for(var s in e)n+="&"+encodeURIComponent(s)+"="+encodeURIComponent(e[s])}return n})(t,e);ut.getAuthorizers()[e.transport](ut,s,e,c.ChannelAuthorization,n)}};function wt(e){return e.httpHost?e.httpHost:e.cluster?`sockjs-${e.cluster}.pusher.com`:a.httpHost}function jt(e){return e.wsHost?e.wsHost:`ws-${e.cluster}.pusher.com`}function Ct(e){return"https:"===ut.getProtocol()||!1!==e.forceTLS}function Nt(e){return"enableStats"in e?e.enableStats:"disableStats"in e&&!e.disableStats}function Ft(e){const t=Object.assign(Object.assign({},a.userAuthentication),e.userAuthentication);return"customHandler"in t&&null!=t.customHandler?t.customHandler:bt(t)}function _t(e,t){const n=function(e,t){let n;return"channelAuthorization"in e?n=Object.assign(Object.assign({},a.channelAuthorization),e.channelAuthorization):(n={transport:e.authTransport||a.authTransport,endpoint:e.authEndpoint||a.authEndpoint},"auth"in e&&("params"in e.auth&&(n.params=e.auth.params),"headers"in e.auth&&(n.headers=e.auth.headers)),"authorizer"in e&&(n.customHandler=((e,t,n)=>{const s={authTransport:t.transport,authEndpoint:t.endpoint,auth:{params:t.params,headers:t.headers}};return(t,i)=>{const a=e.channel(t.channelName);n(a,s).authorize(t.socketId,i)}})(t,n,e.authorizer))),n}(e,t);return"customHandler"in n&&null!=n.customHandler?n.customHandler:yt(n)}class kt extends re{constructor(e){super(function(e,t){Z.debug(`No callbacks on watchlist events for ${e}`)}),this.pusher=e,this.bindWatchlistInternalEvent()}handleEvent(e){e.data.events.forEach(e=>{this.emit(e.name,e)})}bindWatchlistInternalEvent(){this.pusher.connection.bind("message",e=>{"pusher_internal:watchlist_events"===e.event&&this.handleEvent(e)})}}var St=function(){let e,t;return{promise:new Promise((n,s)=>{e=n,t=s}),resolve:e,reject:t}};class Et extends re{constructor(e){super(function(e,t){Z.debug("No callbacks on user for "+e)}),this.signin_requested=!1,this.user_data=null,this.serverToUserChannel=null,this.signinDonePromise=null,this._signinDoneResolve=null,this._onAuthorize=(e,t)=>{if(e)return Z.warn(`Error during signin: ${e}`),void this._cleanup();this.pusher.send_event("pusher:signin",{auth:t.auth,user_data:t.user_data})},this.pusher=e,this.pusher.connection.bind("state_change",({previous:e,current:t})=>{"connected"!==e&&"connected"===t&&this._signin(),"connected"===e&&"connected"!==t&&(this._cleanup(),this._newSigninPromiseIfNeeded())}),this.watchlist=new kt(e),this.pusher.connection.bind("message",e=>{"pusher:signin_success"===e.event&&this._onSigninSuccess(e.data),this.serverToUserChannel&&this.serverToUserChannel.name===e.channel&&this.serverToUserChannel.handleEvent(e)})}signin(){this.signin_requested||(this.signin_requested=!0,this._signin())}_signin(){this.signin_requested&&(this._newSigninPromiseIfNeeded(),"connected"===this.pusher.connection.state&&this.pusher.config.userAuthenticator({socketId:this.pusher.connection.socket_id},this._onAuthorize))}_onSigninSuccess(e){try{this.user_data=JSON.parse(e.user_data)}catch(t){return Z.error(`Failed parsing user data after signin: ${e.user_data}`),void this._cleanup()}if("string"!=typeof this.user_data.id||""===this.user_data.id)return Z.error(`user_data doesn't contain an id. user_data: ${this.user_data}`),void this._cleanup();this._signinDoneResolve(),this._subscribeChannels()}_subscribeChannels(){this.serverToUserChannel=new ke(`#server-to-user-${this.user_data.id}`,this.pusher),this.serverToUserChannel.bind_global((e,t)=>{0!==e.indexOf("pusher_internal:")&&0!==e.indexOf("pusher:")&&this.emit(e,t)}),(e=>{e.subscriptionPending&&e.subscriptionCancelled?e.reinstateSubscription():e.subscriptionPending||"connected"!==this.pusher.connection.state||e.subscribe()})(this.serverToUserChannel)}_cleanup(){this.user_data=null,this.serverToUserChannel&&(this.serverToUserChannel.unbind_all(),this.serverToUserChannel.disconnect(),this.serverToUserChannel=null),this.signin_requested&&this._signinDoneResolve()}_newSigninPromiseIfNeeded(){if(!this.signin_requested)return;if(this.signinDonePromise&&!this.signinDonePromise.done)return;const{promise:e,resolve:t}=St();e.done=!1;const n=()=>{e.done=!0};e.then(n).catch(n),this.signinDonePromise=e,this._signinDoneResolve=t}}class It{static ready(){It.isReady=!0;for(var e=0,t=It.instances.length;e<t;e++)It.instances[e].connect()}static getClientFeatures(){return z(U({ws:ut.Transports.ws},function(e){return e.isSupported({})}))}constructor(e,t){!function(e){if(null==e)throw"You must pass your app key when you instantiate Pusher."}(e),function(e){if(null==e)throw"You must pass an options object";if(null==e.cluster)throw"Options object must provide a cluster";"disableStats"in e&&Z.warn("The disableStats option is deprecated in favor of enableStats")}(t),this.key=e,this.config=function(e,t){let n={activityTimeout:e.activityTimeout||a.activityTimeout,cluster:e.cluster,httpPath:e.httpPath||a.httpPath,httpPort:e.httpPort||a.httpPort,httpsPort:e.httpsPort||a.httpsPort,pongTimeout:e.pongTimeout||a.pongTimeout,statsHost:e.statsHost||a.stats_host,unavailableTimeout:e.unavailableTimeout||a.unavailableTimeout,wsPath:e.wsPath||a.wsPath,wsPort:e.wsPort||a.wsPort,wssPort:e.wssPort||a.wssPort,enableStats:Nt(e),httpHost:wt(e),useTLS:Ct(e),wsHost:jt(e),userAuthenticator:Ft(e),channelAuthorizer:_t(e,t)};return"disabledTransports"in e&&(n.disabledTransports=e.disabledTransports),"enabledTransports"in e&&(n.enabledTransports=e.enabledTransports),"ignoreNullOrigin"in e&&(n.ignoreNullOrigin=e.ignoreNullOrigin),"timelineParams"in e&&(n.timelineParams=e.timelineParams),"nacl"in e&&(n.nacl=e.nacl),n}(t,this),this.channels=Re.createChannels(),this.global_emitter=new re,this.sessionID=ut.randomInt(1e9),this.timeline=new mt(this.key,this.sessionID,{cluster:this.config.cluster,features:It.getClientFeatures(),params:this.config.timelineParams||{},limit:50,level:pt.INFO,version:a.VERSION}),this.config.enableStats&&(this.timelineSender=Re.createTimelineSender(this.timeline,{host:this.config.statsHost,path:"/timeline/v2/"+ut.TimelineTransport.name})),this.connection=Re.createConnectionManager(this.key,{getStrategy:e=>ut.getDefaultStrategy(this.config,e,gt),timeline:this.timeline,activityTimeout:this.config.activityTimeout,pongTimeout:this.config.pongTimeout,unavailableTimeout:this.config.unavailableTimeout,useTLS:Boolean(this.config.useTLS)}),this.connection.bind("connected",()=>{this.subscribeAll(),this.timelineSender&&this.timelineSender.send(this.connection.isUsingTLS())}),this.connection.bind("message",e=>{var t=0===e.event.indexOf("pusher_internal:");if(e.channel){var n=this.channel(e.channel);n&&n.handleEvent(e)}t||this.global_emitter.emit(e.event,e.data)}),this.connection.bind("connecting",()=>{this.channels.disconnect()}),this.connection.bind("disconnected",()=>{this.channels.disconnect()}),this.connection.bind("error",e=>{Z.warn(e)}),It.instances.push(this),this.timeline.info({instances:It.instances.length}),this.user=new Et(this),It.isReady&&this.connect()}channel(e){return this.channels.find(e)}allChannels(){return this.channels.all()}connect(){if(this.connection.connect(),this.timelineSender&&!this.timelineSenderTimer){var e=this.connection.isUsingTLS(),t=this.timelineSender;this.timelineSenderTimer=new T(6e4,function(){t.send(e)})}}disconnect(){this.connection.disconnect(),this.timelineSenderTimer&&(this.timelineSenderTimer.ensureAborted(),this.timelineSenderTimer=null)}bind(e,t,n){return this.global_emitter.bind(e,t,n),this}unbind(e,t,n){return this.global_emitter.unbind(e,t,n),this}bind_global(e){return this.global_emitter.bind_global(e),this}unbind_global(e){return this.global_emitter.unbind_global(e),this}unbind_all(e){return this.global_emitter.unbind_all(),this}subscribeAll(){var e;for(e in this.channels.channels)this.channels.channels.hasOwnProperty(e)&&this.subscribe(e)}subscribe(e){var t=this.channels.add(e,this);return t.subscriptionPending&&t.subscriptionCancelled?t.reinstateSubscription():t.subscriptionPending||"connected"!==this.connection.state||t.subscribe(),t}unsubscribe(e){var t=this.channels.find(e);t&&t.subscriptionPending?t.cancelSubscription():(t=this.channels.remove(e))&&t.subscribed&&t.unsubscribe()}send_event(e,t,n){return this.connection.send_event(e,t,n)}shouldUseTLS(){return this.config.useTLS}signin(){this.user.signin()}}It.instances=[],It.isReady=!1,It.logToConsole=!1,It.Runtime=ut,It.ScriptReceivers=ut.ScriptReceivers,It.DependenciesReceivers=ut.DependenciesReceivers,It.auth_callbacks=ut.auth_callbacks;var At=t.default=It;ut.setup(It)}])},zie.exports=Bie());const $ie=Te(Hie),Uie=gv.common.notificationSound;let Vie=null,Wie=null,qie=!1,Gie=null,Zie=null,Yie=0,Kie=null;const Jie=()=>{const{user:e}=Wg(),t=De.useRef(null),n=(()=>{const{openModal:e,closeModal:t,activeModals:n}=zE();return{open:(t={})=>e({type:"daily-credit",...t}),close:()=>t("daily-credit"),isOpen:n.has("daily-credit"),config:n.get("daily-credit")}})(),s=QE(),i=()=>{if(qie){if(Kie&&(clearInterval(Kie),Kie=null),Yie=0,Vie&&(document.title=Vie),Wie){const e=document.querySelector('link[rel*="icon"]');e&&(e.href=Wie)}qie=!1,o()}},a=()=>{if(Yie++,1===Yie){Vie=document.title;const e=document.querySelector('link[rel*="icon"]');Wie=(null==e?void 0:e.href)||"/favicon.ico";let t=e;t||(t=document.createElement("link"),t.rel="icon",document.head.appendChild(t)),t.href="/notification_favicon.ico",qie=!0,r()}const e=`(${Yie}) ${Vie}`;Kie&&clearInterval(Kie);let t=0;Kie=setInterval(()=>{document.title=t%2==0?e:Vie,t++,t>=20&&(clearInterval(Kie),Kie=null,document.title=e)},500)},r=()=>{o(),Gie=()=>{document.hidden||i()},Zie=()=>{i()},document.addEventListener("visibilitychange",Gie),window.addEventListener("focus",Zie)},o=()=>{Gie&&(document.removeEventListener("visibilitychange",Gie),Gie=null),Zie&&(window.removeEventListener("focus",Zie),Zie=null)},l=()=>{try{const e=new Audio(Uie);e.volume=.5,e.play().catch(e=>{const t=new(window.AudioContext||window.webkitAudioContext),n=t.createOscillator(),s=t.createGain();n.connect(s),s.connect(t.destination),n.frequency.setValueAtTime(800,t.currentTime),n.frequency.setValueAtTime(600,t.currentTime+.1),s.gain.setValueAtTime(.2,t.currentTime),s.gain.exponentialRampToValueAtTime(.01,t.currentTime+.2),n.start(t.currentTime),n.stop(t.currentTime+.2)})}catch(e){}};De.useEffect(()=>{if((null==e?void 0:e.id)&&!t.current){try{const i=new $ie("6c79f46bf9937b9d82df",{cluster:"us2",encrypted:!0});t.current=i;const r=`user-${e.id}`,o=i.subscribe(r);o.bind("terminal-state",e=>{(e=>{["default_tool","ask_human","finish"].includes(e.terminal_state)&&(["finish"].includes(e.terminal_state)&&!s&&mg.triggerEvent("agent-finished",{job_id:e.job_id}),["ask_human"].includes(e.terminal_state)&&!s&&mg.triggerEvent("ask-human-triggered",{job_id:e.job_id}),l(),document.hidden)&&(new Notification("Agent Update",{body:"Agent has a question for you",vibrate:[200,100,200],icon:"src/assets/notification_icon.png",badge:"src/assets/notification_icon.png"}),a())})(e)}),o.bind("daily-credit-transaction-count",t=>{const s=t.daily_credit_per_day||5,i=t.daily_credit_max_per_window||25,a=Math.ceil(i/s);t.count>=1&&t.count<=a&&(fg("daily_credit_modal_shown",{userId:e.id,timestamp:(new Date).toISOString()}),n.open({pusherData:t}))}),i.connection.bind("connected",()=>{(async()=>{"default"===Notification.permission&&await Notification.requestPermission()})()}),i.connection.bind("error",e=>{})}catch(r){}return()=>{t.current&&(t.current.disconnect(),t.current=null),o(),i()}}},[null==e?void 0:e.id])},Qie=gv.common.mail,Xie=gv.common.password,eae=gv.common.landingAuthStar,tae=gv.common.landingHeroE,nae=gv.videos.clouds,sae=gv.referral.giftGreenWithoutGlow,iae=gv.referral.person,aae=({isModal:e=!1})=>{const[t,s]=De.useState("signup"),{user:i,session:a,signInWithEmail:r,signUpWithEmail:o,signInWithOAuth:l,verifyInviteCode:c,signOut:d,refreshSession:u}=Wg(),p=Me(),{showErrorToast:m}=QJ(),[h]=ze(),[x,f]=De.useState(!1),[g,v]=De.useState(!1),[b,y]=De.useState(!1),[w,j]=De.useState(!1),[C,N]=De.useState(!1),[F,_]=De.useState(!1),[k,S]=De.useState({email:"",password:""}),[E,I]=De.useState({name:"",email:"",password:""}),[A,T]=De.useState({inviteCode:""}),[D,M]=De.useState(!1),L=(()=>{try{const e=yd.getFeatureFlag("landing_subject_line");return(null==e?void 0:e.toString())||"variant-a"}catch(e){return"variant-a"}})(),P=()=>{if(e)return{line1:"Ready to build?",line2:"Let's go"};switch(L){case"variant-a":default:return{line1:"Where ideas",line2:"become reality"};case"variant-b":return{line1:"Invent the next",line2:"inevitable thing"};case"variant-c":return{line1:"Creation",line2:"begins here"};case"variant-d":return{line1:"The fastest path from",line2:"idea to product"}}};De.useEffect(()=>{if(!e)return document.documentElement.style.overflowY="auto",document.body.style.height="auto",document.documentElement.style.height="auto",()=>{document.documentElement.style.overflowY="hidden",document.body.style.height="100vh",document.documentElement.style.height="100vh"}},[e]),De.useEffect(()=>{bte.initializeReferralHandling();const e=()=>{const e=bte.getPendingReferralCode();f(!!e)};e();const t=()=>{bte.initializeReferralHandling(),e()};return window.addEventListener("popstate",t),()=>{window.removeEventListener("popstate",t)}},[]);const R=e=>{const{name:t,value:n}=e.target;S(e=>({...e,[t]:n})),Dg("form_interaction",{interaction_type:"input_change",input_type:t,form_type:"login",has_value:n.length>0})},O=e=>{const{name:t,value:n}=e.target;I(e=>({...e,[t]:n})),Dg("form_interaction",{interaction_type:"input_change",input_type:t,form_type:"signup",has_value:n.length>0})},z=async()=>{Dg("oauth_clicked",{provider:"google",form_type:t});try{j(!0);const{success:e,error:t}=await l("google");!e&&t&&m("Error signing in with Google",t)}catch(e){m("Error signing in with Google",e.message||"Failed to sign in")}finally{j(!1)}},B=async()=>{Dg("oauth_clicked",{provider:"apple",form_type:t});try{_(!0);const{success:e,error:t}=await l("apple");!e&&t&&m("Error signing in with Apple",t)}catch(e){m("Error signing in with Apple",e.message||"Failed to sign in")}finally{_(!1)}},H=async()=>{Dg("oauth_clicked",{provider:"github",form_type:t});try{N(!0);const{success:e,error:t}=await l("github");!e&&t&&m("Error signing in with GitHub",t)}catch(e){m("Error signing in with GitHub",e.message||"Failed to sign in")}finally{N(!1)}},$=async e=>{e.preventDefault(),Dg("form_submitted",{form_type:"login",method:"email"}),y(!0);try{const{success:e,error:t}=await r(k.email,k.password);if(!e)return(null==t?void 0:t.needsVerification)||m("Error signing in",t||"Invalid email or password"),void y(!1)}catch(t){m("Error signing in",t.message||"Invalid email or password")}finally{y(!1)}},U=async e=>{e.preventDefault(),Dg("form_submitted",{form_type:"signup",method:"email"}),y(!0);const{name:t,email:n,password:s}=E;if(!t.trim()||!n.trim()||!s.trim())return m("Error","Please fill all the fields"),void y(!1);try{const{success:e,needsVerification:i,error:a}=await o(t,n,s);if(!e)return m("Error signing up",a||"Failed to sign up"),void y(!1);i&&setTimeout(()=>{const e=new URLSearchParams(h);e.set("email",n),p(`/verify?${e.toString()}`)},100)}catch(i){m("Error signing up",i.message||"Failed to sign up")}finally{y(!1)}};if(a&&i&&!i.user_metadata.needs_invite_code){if("activate"!==t){const e=h.toString();return p(e?`/?${e}`:"/"),null}}else if(a&&i&&i.user_metadata.needs_invite_code){if("activate"!==t){const e=h.toString();return p(e?`/activate?${e}`:"/activate"),null}}else if(!a&&"activate"===t){const e=h.toString();return p(e?`/login?${e}`:"/login"),null}const V=()=>n.jsxs("div",{className:"max-md:hidden absolute bottom-0 justify-center items-center gap-6 w-full flex left-0 right-0 py-2 z-[999] radial-green-signup backdrop-blur-lg",children:[n.jsx("img",{src:sae,alt:"Gift",className:"w-8 h-8"}),n.jsxs("div",{className:"flex flex-col items-center justify-center h-full w-fit",children:[n.jsx("span",{className:"text-[#5FE55C] text-[14px]",children:"Sign up and redeem your free credits!"}),n.jsx("span",{className:"text-[#5FE55C]/30 text-[14px]",children:"You are signing up through a referral link"})]}),n.jsx("img",{src:sae,alt:"Gift",className:"w-8 h-8"})]});return n.jsxs("div",{className:"flex "+(e?"h-full":"h-screen"),children:[n.jsxs("div",{className:"flex relative flex-col items-center justify-center p-4 overflow-hidden "+(e?"h-full w-full":"h-screen max-md:-mt-[40px] flex-1 w-full"),children:[n.jsxs(n.Fragment,{children:[n.jsx("img",{src:e?tae:eae,className:"h-12 w-auto mb-4 z-[10] cursor-pointer md:w-auto md:h-[64px]",alt:"Emergent Logo"}),n.jsxs("div",{className:"font-sans font-medium text-center",children:[n.jsx("span",{className:"text-white text-center font-brockmann text-4xl font-medium leading-9 tracking-[-0.72px]",style:{textShadow:"0 0 40px rgba(232, 232, 230, 0.20)"},children:n.jsxs("span",{children:[P().line1," ",n.jsx("br",{}),"signup"===t&&n.jsx("span",{className:"bg-gradient-to-r from-white to-[#81FF89] bg-clip-text text-transparent",children:P().line2}),"login"===t&&n.jsx("span",{className:"bg-clip-text text-transparent font-brockmann text-[36px] font-medium leading-[36px] tracking-[-0.72px]",style:{background:"linear-gradient(270deg, #80FFF9 40.48%, #FFF 92.65%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:P().line2})]})}),n.jsxs("span",{className:"mt-4 block text-[#898e98] text-[15px] mb-4 md:text-[16px] w-full text-center max-w-[300px] mx-auto",children:["signup"===t&&n.jsxs("div",{className:"flex items-center justify-center mt-4",children:[n.jsx("p",{className:"text-center text-white max-md:text-[14px] md:text-[16px] font-medium leading-5 tracking-[-0.15px]",children:"Already have an account?"}),n.jsx("p",{className:"cursor-pointer ml-2 text-center text-[#80FFF9] font-[Brockmann] max-md:text-[14px] md:text-[16px] font-medium leading-5 tracking-[-0.15px] underline",onClick:()=>{s("login"),Dg("form_interaction",{interaction_type:"switch_form",from:"signup",to:"login"})},children:"Sign in"})]}),"login"===t&&n.jsxs("div",{className:"flex items-center justify-center mt-4",children:[n.jsx("p",{className:"text-center text-white max-md:text-[14px] md:text-[16px] font-medium leading-5 tracking-[-0.15px]",children:"Don't have an account?"}),n.jsx("p",{className:"cursor-pointer ml-2 text-center text-[#81FF89] font-[Brockmann] max-md:text-[14px] md:text-[16px] font-medium leading-5 tracking-[-0.15px] underline",onClick:()=>{s("signup"),Dg("form_interaction",{interaction_type:"switch_form",from:"login",to:"signup"})},children:"Sign up"})]})]})]})]}),"signup"==t?n.jsxs("form",{onSubmit:U,className:"max-md:px-4 md:p-4 pt-0 md:max-w-[414px] w-full",children:[!D&&n.jsxs("div",{className:"flex flex-col md:gap-[0px] max-md:px-4",children:[n.jsxs("div",{className:"flex flex-col items-center justify-center w-full gap-4",children:[n.jsx(ate,{provider:"google",onClick:z,isSubmitting:w,buttonText:"Continue with Google",backgroundColor:"#FFFFFF",textColor:"#000"}),n.jsxs(Pt.div,{className:"flex justify-between w-full",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3,ease:"easeOut"},children:[n.jsx(ate,{provider:"github",onClick:H,isSubmitting:C,showText:!1,backgroundColor:"#1C1C1F"}),n.jsx(ate,{provider:"apple",onClick:B,isSubmitting:F,showText:!1,backgroundColor:"#1C1C1F"})]})]}),n.jsx(tte,{text:"Or start with email"}),n.jsx(wb,{type:"button",onClick:()=>{M(!0),Dg("form_interaction",{interaction_type:"show_email_form",form_type:"signup"})},className:"w-full h-12 md:h-14 bg-[#1C1C1F] hover:bg-[#1C1C1F] rounded-full flex items-center justify-center text-white/50",children:n.jsxs("div",{className:"mx-auto flex [&>div]:w-auto",children:[n.jsx("div",{className:"self-center object-contain",children:n.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 25 25",fill:"none",className:"min-w-6 min-h-6",children:[n.jsx("path",{opacity:"0.28",d:"M22.6513 9.37971C22.6336 9.10041 22.324 8.95138 22.0879 9.10163L16.8323 12.4461C15.532 13.2741 14.6832 13.8146 13.7502 14.0298C12.9274 14.2196 12.0722 14.2196 11.2493 14.0298C10.3164 13.8146 9.4676 13.2741 8.16728 12.4461L2.91171 9.10163C2.67561 8.95139 2.36606 9.10041 2.34829 9.37969C2.29969 10.1435 2.29975 11.0458 2.29981 12.1309L2.29981 12.2901C2.2998 13.554 2.2998 14.5592 2.36606 15.3702C2.43391 16.2006 2.57584 16.9088 2.90621 17.5572C3.43962 18.604 4.29075 19.4551 5.33761 19.9885C5.986 20.3189 6.69413 20.4609 7.5246 20.5287C8.33556 20.595 9.34071 20.595 10.6046 20.5949H14.3949C15.6588 20.595 16.6641 20.595 17.475 20.5287C18.3055 20.4609 19.0136 20.3189 19.662 19.9885C20.7089 19.4551 21.56 18.604 22.0934 17.5572C22.4238 16.9088 22.5657 16.2006 22.6335 15.3702C22.6998 14.5592 22.6998 13.554 22.6998 12.2902L22.6998 12.1309C22.6999 11.0458 22.6999 10.1435 22.6513 9.37971Z",fill:"#81FF89"}),n.jsx("path",{d:"M14.3943 3.90454H10.6041C9.3402 3.90453 8.335 3.90453 7.52402 3.97079C6.69356 4.03864 5.98542 4.18057 5.33703 4.51094C4.42708 4.97458 3.66502 5.67828 3.13095 6.54191C3.00468 6.7461 3.07709 7.00952 3.27962 7.13841L9.01441 10.7878C10.5162 11.7435 11.0822 12.0886 11.6656 12.2232C12.2141 12.3497 12.7843 12.3497 13.3328 12.2232C13.9162 12.0886 14.4822 11.7435 15.984 10.7878L21.7188 7.1384C21.9214 7.00951 21.9938 6.74608 21.8675 6.5419C21.3334 5.67827 20.5714 4.97458 19.6614 4.51094C19.013 4.18057 18.3049 4.03864 17.4744 3.97079C16.6635 3.90453 15.6583 3.90453 14.3943 3.90454Z",fill:"#81FF89"})]})}),n.jsx("p",{className:"ml-3 self-center text-center font-brockmann text-base font-medium leading-6 bg-gradient-to-r from-white to-[#81FF89] bg-clip-text text-transparent",style:{textShadow:"0 0 40px rgba(232, 232, 230, 0.20)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:"Sign up with Email"})]})})]}),D&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex flex-col w-full space-y-2 md:space-y-4",children:[n.jsx(rte,{id:"name",name:"name",type:"name",value:E.name,onChange:O,placeholder:"Enter your name",required:!0,disabled:b,iconSrc:iae,iconAlt:"Password icon"}),n.jsx(rte,{id:"email",name:"email",type:"email",value:E.email,onChange:O,placeholder:"Enter your email",required:!0,disabled:b,iconSrc:Qie,iconAlt:"Email icon"}),n.jsx(rte,{id:"password",name:"password",type:g?"text":"password",value:E.password,placeholder:"Enter your password",onChange:O,required:!0,disabled:b,iconSrc:Xie,iconAlt:"Password icon"})]}),n.jsx("div",{className:"flex flex-col pt-4 md:pt-5 md:mb-4",children:n.jsx("div",{children:n.jsx("div",{className:"relative",children:n.jsxs(DT,{type:"submit",disabled:b,onClick:()=>{},variant:"light",className:"w-full p-0 max-md:!h-12 md:!max-h-[56px]",fullWidthOnMobile:!0,children:[b?n.jsxs(n.Fragment,{children:[n.jsx(Ik,{className:"mr-2"})," Signing Up..."]}):"Get Started",n.jsx("div",{className:"self-center object-contain",children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"25",viewBox:"0 0 24 25",fill:"none",className:"w-6 h-6",children:n.jsx("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M19.6395 11.3816C20.1202 11.8622 20.1202 12.6416 19.6395 13.1222L14.1011 18.6606C13.6204 19.1412 12.8412 19.1412 12.3606 18.6606C11.8798 18.1799 11.8798 17.4007 12.3606 16.92L15.7979 13.4826L5.23081 13.4826C4.55106 13.4826 4 12.9316 4 12.2518C4 11.5722 4.55106 11.0211 5.23081 11.0211L15.7979 11.0211L12.3606 7.5837C11.8798 7.10307 11.8798 6.32381 12.3606 5.84318C12.8412 5.36249 13.6204 5.36249 14.1011 5.84318L19.6395 11.3816Z",fill:"black"})})})]})})})}),n.jsx(wb,{type:"button",onClick:()=>M(!1),className:"max-md:mt-3 w-full h-12 md:h-14 bg-[#1C1C1F] hover:bg-[#1C1C1F] rounded-full flex items-center justify-center text-white/50",children:n.jsxs("div",{className:"mx-auto flex [&>div]:w-auto",children:[n.jsx("div",{className:"self-center object-contain",children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"8",height:"13",viewBox:"0 0 8 13",fill:"none",className:"w-6 h-6",children:n.jsx("path",{d:"M7.3105 12.2207C7.52169 12.0093 7.64031 11.7226 7.64031 11.4238C7.64031 11.1249 7.52169 10.8383 7.3105 10.6269L3.2206 6.53697L7.3105 2.44707C7.5097 2.23329 7.61815 1.95053 7.61299 1.65837C7.60784 1.36621 7.48948 1.08746 7.28286 0.880842C7.07624 0.674223 6.79749 0.555867 6.50533 0.550712C6.21317 0.545558 5.93042 0.654006 5.71664 0.853208L0.829808 5.74004C0.618621 5.95149 0.5 6.23812 0.5 6.53697C0.5 6.83582 0.618621 7.12245 0.829808 7.3339L5.71664 12.2207C5.92809 12.4319 6.21472 12.5505 6.51357 12.5505C6.81242 12.5505 7.09905 12.4319 7.3105 12.2207Z",fill:"white","fill-opacity":"0.4"})})}),n.jsx("p",{className:"ml-3 text-base font-medium leading-6 text-white/40 font-brockmann",children:"Go Back"})]})})]}),n.jsx("div",{className:"flex items-center w-3/4 mx-auto mt-4",children:n.jsxs("p",{className:"text-center font-[inter] text-gray-500 text-[12px] font-medium leading-5 tracking-[-0.15px]",children:["By continuing, you agree to our"," ",n.jsx("a",{href:"/terms-of-service",className:"text-[#FFF]",children:"Terms of Service"})," ","and"," ",n.jsx("a",{href:"/privacy-policy",className:"text-[#FFF]",children:"Privacy Policy"}),"."]})})]}):"login"==t?n.jsxs("form",{onSubmit:$,className:"max-md:px-4 md:p-4 pt-0 md:max-w-[414px] w-full",children:[!D&&n.jsxs("div",{className:"flex flex-col md:gap-[0px] max-md:px-4",children:[n.jsxs("div",{className:"flex flex-col items-center justify-center w-full gap-4",children:[n.jsx(ate,{provider:"google",onClick:z,isSubmitting:w,buttonText:"Continue with Google",showText:!0,backgroundColor:"#FFFFFF",textColor:"#000"}),n.jsxs(Pt.div,{className:"flex justify-between w-full",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3,ease:"easeOut"},children:[n.jsx(ate,{provider:"github",onClick:H,isSubmitting:C,showText:!1,backgroundColor:"#1C1C1F"}),n.jsx(ate,{provider:"apple",onClick:B,isSubmitting:F,showText:!1,backgroundColor:"#1C1C1F"})]})]}),n.jsx(tte,{text:"Or Log in with email"}),n.jsx(wb,{type:"button",onClick:()=>{M(!0),Dg("form_interaction",{interaction_type:"show_email_form",form_type:"login"})},className:"w-full h-12 md:h-14 bg-[#1C1C1F] hover:bg-[#1C1C1F] rounded-full flex items-center justify-center text-white/50",children:n.jsxs("div",{className:"mx-auto flex [&>div]:w-auto",children:[n.jsx("div",{className:"self-center object-contain",children:n.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"25",viewBox:"0 0 24 25",fill:"none",className:"min-w-6 min-h-6",children:[n.jsx("path",{opacity:"0.28",d:"M22.1513 9.38014C22.1336 9.10084 21.824 8.95181 21.5879 9.10206L16.3323 12.4466C15.032 13.2745 14.1832 13.8151 13.2502 14.0302C12.4274 14.22 11.5722 14.22 10.7493 14.0302C9.81643 13.8151 8.9676 13.2745 7.66728 12.4466L2.41171 9.10206C2.17561 8.95182 1.86606 9.10084 1.84829 9.38012C1.79969 10.144 1.79975 11.0462 1.79981 12.1313L1.79981 12.2905C1.7998 13.5544 1.7998 14.5596 1.86606 15.3706C1.93391 16.2011 2.07584 16.9092 2.40621 17.5576C2.93962 18.6044 3.79075 19.4556 4.83761 19.989C5.486 20.3193 6.19413 20.4613 7.0246 20.5291C7.83556 20.5954 8.84071 20.5954 10.1046 20.5954H13.8949C15.1588 20.5954 16.1641 20.5954 16.975 20.5291C17.8055 20.4613 18.5136 20.3193 19.162 19.989C20.2089 19.4556 21.06 18.6044 21.5934 17.5576C21.9238 16.9092 22.0657 16.2011 22.1335 15.3706C22.1998 14.5596 22.1998 13.5545 22.1998 12.2906L22.1998 12.1313C22.1999 11.0463 22.1999 10.144 22.1513 9.38014Z",fill:"#80FFF9"}),n.jsx("path",{d:"M13.8943 3.90479H10.1041C8.8402 3.90478 7.835 3.90477 7.02402 3.97103C6.19356 4.03888 5.48542 4.18081 4.83703 4.51119C3.92708 4.97483 3.16502 5.67852 2.63095 6.54216C2.50468 6.74634 2.57709 7.00976 2.77962 7.13865L8.51441 10.7881C10.0162 11.7438 10.5822 12.0889 11.1656 12.2234C11.7141 12.35 12.2843 12.35 12.8328 12.2234C13.4162 12.0889 13.9822 11.7438 15.484 10.7881L21.2188 7.13864C21.4214 7.00975 21.4938 6.74633 21.3675 6.54215C20.8334 5.67852 20.0714 4.97483 19.1614 4.51119C18.513 4.18081 17.8049 4.03888 16.9744 3.97103C16.1635 3.90477 15.1583 3.90478 13.8943 3.90479Z",fill:"#80FFF9"})]})}),n.jsx("p",{className:"self-center ml-3 text-base font-medium leading-6 text-center text-transparent font-brockmann bg-clip-text",style:{background:"linear-gradient(270deg, #80FFF9 40.48%, #FFF 92.65%)",WebkitBackgroundClip:"text",backgroundClip:"text"},children:"Log in with Email"})]})})]}),D&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex flex-col w-full space-y-2 md:space-y-4",children:[n.jsx(rte,{id:"email",name:"email",type:"email",value:k.email,onChange:R,placeholder:"Enter your email",required:!0,disabled:b,iconSrc:Qie,iconAlt:"Email icon"}),n.jsx(rte,{id:"password",name:"password",type:g?"text":"password",value:k.password,placeholder:"Enter your password",onChange:R,required:!0,disabled:b,iconSrc:Xie,iconAlt:"Password icon"})]}),n.jsx("div",{className:"flex items-center justify-center w-full mt-4 cursor-pointer",children:n.jsx("p",{onClick:()=>{const e=h.toString();p(e?`/reset-password?${e}`:"/reset-password")},className:"text-center text-gray-500 text-[15px] font-medium leading-5 tracking-[-0.15px]",children:"Forgot Password?"})}),n.jsx("div",{className:"flex flex-col pt-4 md:pt-5 md:mb-4",children:n.jsx("div",{children:n.jsx("div",{className:"relative",children:n.jsxs(DT,{type:"submit",disabled:b,onClick:()=>{},variant:"light",className:"w-full p-0 max-md:!h-[48px] md:!max-h-[56px]",fullWidthOnMobile:!0,children:[b?n.jsxs(n.Fragment,{children:[n.jsx(Ik,{className:"mr-2"})," Logging in..."]}):"Log In",n.jsx("div",{className:"self-center object-contain",children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"25",viewBox:"0 0 24 25",fill:"none",className:"w-6 h-6",children:n.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.6395 11.3816C20.1202 11.8622 20.1202 12.6416 19.6395 13.1222L14.1011 18.6606C13.6204 19.1412 12.8412 19.1412 12.3606 18.6606C11.8798 18.1799 11.8798 17.4007 12.3606 16.92L15.7979 13.4826L5.23081 13.4826C4.55106 13.4826 4 12.9316 4 12.2518C4 11.5722 4.55106 11.0211 5.23081 11.0211L15.7979 11.0211L12.3606 7.5837C11.8798 7.10307 11.8798 6.32381 12.3606 5.84318C12.8412 5.36249 13.6204 5.36249 14.1011 5.84318L19.6395 11.3816Z",fill:"black"})})})]})})})}),n.jsx(wb,{type:"button",onClick:()=>M(!1),className:"max-md:mt-3 w-full h-12 md:h-14 bg-[#1C1C1F] hover:bg-[#1C1C1F] rounded-full flex items-center justify-center text-white/50",children:n.jsxs("div",{className:"mx-auto flex [&>div]:w-auto",children:[n.jsx("div",{className:"self-center object-contain",children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"8",height:"13",viewBox:"0 0 8 13",fill:"none",className:"w-6 h-6",children:n.jsx("path",{d:"M7.3105 12.2207C7.52169 12.0093 7.64031 11.7226 7.64031 11.4238C7.64031 11.1249 7.52169 10.8383 7.3105 10.6269L3.2206 6.53697L7.3105 2.44707C7.5097 2.23329 7.61815 1.95053 7.61299 1.65837C7.60784 1.36621 7.48948 1.08746 7.28286 0.880842C7.07624 0.674223 6.79749 0.555867 6.50533 0.550712C6.21317 0.545558 5.93042 0.654006 5.71664 0.853208L0.829808 5.74004C0.618621 5.95149 0.5 6.23812 0.5 6.53697C0.5 6.83582 0.618621 7.12245 0.829808 7.3339L5.71664 12.2207C5.92809 12.4319 6.21472 12.5505 6.51357 12.5505C6.81242 12.5505 7.09905 12.4319 7.3105 12.2207Z",fill:"white",fillOpacity:"0.4"})})}),n.jsx("p",{className:"ml-3 text-base font-medium leading-6 text-white/40 font-brockmann",children:"Go Back"})]})})]}),n.jsx("div",{className:"mt-4 flex items-center w-[70%] md:w-3/4 mx-auto",children:n.jsxs("p",{className:"text-center font-inter text-gray-500 text-[12px] font-medium leading-5 tracking-[-0.15px]",children:["By continuing, you agree to our"," ",n.jsx("a",{href:"/terms-of-service",className:"font-inter text-[#FFF]",children:"Terms of Service"})," ","and"," ",n.jsx("a",{href:"/privacy-policy",className:"font-inter text-[#FFF]",children:"Privacy Policy"}),"."]})})]}):""]}),!e&&n.jsx("div",{className:"relative flex-1 min-h-full overflow-hidden max-md:hidden z-[10] "+(e?"p-[10px]":"p-5"),children:n.jsxs("div",{className:"relative w-full h-full overflow-hidden "+(e?"rounded-[10px] pt-2":"rounded-[10px]"),children:[n.jsxs("div",{className:"absolute top-0 bottom-0 left-0 right-0 w-full h-full",children:[n.jsx("video",{autoPlay:!0,loop:!0,muted:!0,playsInline:!0,disablePictureInPicture:!0,disableRemotePlayback:!0,onClick:e=>e.preventDefault(),controlsList:"nodownload nofullscreen noremoteplayback",onContextMenu:e=>e.preventDefault(),className:"absolute top-0 bottom-0 pointer-events-none max-md:hidden left-0 right-0 object-fill w-full h-full scale-[1.22] select-none",src:nae,style:{userSelect:"none"}}),n.jsx("div",{className:"absolute top-0 bottom-0 left-0 right-0 w-full h-full bg-[linear-gradient(180deg,rgba(0,0,0,0.3)_0%,rgba(0,0,0,0)_50%,rgba(0,0,0,0.3)_100%)] pointer-events-none"})]}),n.jsx(fte,{type:"hero"})]})}),x&&n.jsx(V,{})]})},rae=gv.landingPage.landingBg,oae=gv.landingPage.landingBgMobile,lae=({isOpen:e,onClose:t})=>{const{isMobile:s}=QE();De.useEffect(()=>{const n=n=>{"Escape"===n.key&&e&&t(!1)};if(e){const e=window.scrollY;return document.body.style.position="fixed",document.body.style.top=`-${e}px`,document.body.style.width="100%",document.addEventListener("keydown",n),()=>{document.body.style.position="",document.body.style.top="",document.body.style.width="",window.scrollTo(0,e),document.removeEventListener("keydown",n)}}},[e,t]);const i=e=>{t(e)};return n.jsx(Rt,{children:e&&n.jsx(Pt.div,{className:fb("fixed inset-0 w-full z-[9999] flex items-center justify-center bg-[#0e0e0f80] backdrop-blur-[5px]"),onClick:()=>i(!1),initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2,ease:"easeInOut"},children:n.jsxs(Pt.div,{className:"relative overflow-y-auto mx-auto border border-[#242424] max-w-[90%] w-[700px] max-h-[90%] max-md:h-[600px] md:h-[700px] rounded-[20px] font-['Inter']",style:{backgroundImage:`url(${s?oae:rae})`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundColor:"#0a0a0a"},onClick:e=>e.stopPropagation(),initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},transition:{duration:.2,ease:"easeInOut"},children:[n.jsx("div",{className:"absolute inset-0 w-full h-full z-[0]",style:{backgroundImage:`url(${s?oae:rae})`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"}}),n.jsx("div",{className:"sticky top-0 h-0 w-full z-[20]",children:n.jsx("button",{type:"button",onClick:e=>{e.stopPropagation(),i(!1)},className:"absolute flex items-center justify-center w-8 h-8 text-white transition-colors rounded-full top-2 right-2 md:top-4 md:right-4 bg-white/5 hover:bg-white/10 backdrop-blur-lg","aria-label":"Close modal",children:n.jsx(RS,{className:"w-4 h-4 max-md:w-4 max-md:h-4"})})}),n.jsx(Pt.img,{src:"https://assets.emergent.sh/landing-light-modal.png",alt:"Overlay",className:"absolute inset-0 w-full h-full object-cover pointer-events-none z-[1]",style:{mixBlendMode:"screen"},initial:{opacity:0},animate:{opacity:1},transition:{duration:2,ease:"easeOut"}}),n.jsx(aae,{isModal:!0})]})})})},cae=({onSuccess:e,onError:t})=>{const{user:n}=Wg(),s=De.useRef(!1);return De.useEffect(()=>{if(n||s.current)return;const i=async n=>{try{const{data:t,error:s}=await Kt.auth.signInWithIdToken({provider:"google",token:n.credential});if(s)throw s;null==e||e()}catch(s){null==t||t(s)}},a=setTimeout(()=>{if(void 0===window.google)return;window.google.accounts.id.initialize({client_id:qt.googleClientId,callback:i,auto_select:!1,cancel_on_tap_outside:!1,use_fedcm_for_prompt:!1,ux_mode:"popup",context:"signup",itp_support:!0});window.hideGoogleOneTap=()=>{const e=document.querySelector("#credential_picker_container");e&&(e.style.display="none")},window.showGoogleOneTap=()=>{const e=document.querySelector("#credential_picker_container");e&&(e.style.display="block")},window.google.accounts.id.prompt(e=>{Dg("google_one_tap_whole_data",{error:e})}),s.current=!0},1e3);return()=>{clearTimeout(a),void 0!==window.google&&window.google.accounts.id.cancel()}},[n,e,t]),null},dae=gv.icons.landingLight,uae=gv.icons.emergentLogoNew,pae=gv.icons.emergentLogoNewBlack,mae=gv.landingPage.landingBg,hae=gv.landingPage.landingBgMobile,xae=De.lazy(()=>Ht(()=>import("./chunks/HeroSection.tsx-BMc22NMR.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8])).then(e=>({default:e.HeroSection}))),fae=De.lazy(()=>Ht(()=>import("./chunks/FeaturesSection.tsx-DsSMTa4j.js"),__vite__mapDeps([9,1,2,3,4,5,6,7,8])).then(e=>({default:e.FeaturesSection}))),gae=De.lazy(()=>Ht(()=>import("./chunks/PricingSection.tsx-pdR6biUc.js"),__vite__mapDeps([10,1,2,3,4,5,6,7,8])).then(e=>({default:e.PricingSection}))),vae=De.lazy(()=>Ht(()=>import("./chunks/FAQSection.tsx-DE5lBw_-.js"),__vite__mapDeps([11,1,2,4,5,6,7,8,3])).then(e=>({default:e.FAQSection}))),bae=De.lazy(()=>Ht(()=>import("./chunks/FillerSection.tsx-4olMG9Vl.js"),__vite__mapDeps([12,1,2,4,5,6,7,8,3])).then(e=>({default:e.FillerSection}))),yae=De.lazy(()=>Ht(()=>import("./chunks/FooterSection.tsx-vOzaRkXP.js"),__vite__mapDeps([13,1,2,4,5,6,7,8,3])).then(e=>({default:e.FooterSection}))),wae=De.lazy(()=>Ht(()=>import("./chunks/VideoSection.tsx-Dh4PmBIV.js"),__vite__mapDeps([14,1,2,4,5,6,7,8,3])).then(e=>({default:e.VideoSection}))),jae=()=>n.jsx("div",{className:"flex items-center justify-center py-20",children:n.jsx(Ik,{className:"w-8 h-8"})}),Cae=({children:e,className:t="",minHeight:s="min-h-[400px]"})=>{const[i,a]=((e=.1)=>{const[t,n]=De.useState(!1),s=De.useRef(null);return De.useEffect(()=>{const t=s.current;if(!t)return;const i=new IntersectionObserver(([e])=>{e.isIntersecting&&(n(!0),i.disconnect())},{threshold:e,rootMargin:"100px"});return i.observe(t),()=>{i.disconnect()}},[e]),[s,t]})(.1);return n.jsx("section",{ref:i,className:t,children:a?n.jsx(De.Suspense,{fallback:n.jsx(jae,{}),children:e}):n.jsx("div",{className:`${s} flex items-center justify-center`,children:n.jsx("div",{className:"text-gray-400",children:"Loading section..."})})})};function Nae({view:e}){const{loading:t}=Wg(),{isMobile:s}=QE(),[i,a]=De.useState(!1),[r,o]=De.useState(!1),[l,c]=De.useState(!1),[d,u]=De.useState(!0),[p,m]=De.useState(!0),[h,x]=De.useState("authentication"),[f,g]=De.useState(!1);De.useEffect(()=>{const e=new IntersectionObserver(e=>{e.forEach(e=>{if(e.isIntersecting){const t=e.target.getAttribute("data-section");if(t&&t!==h){const n=h;x(t),Dg("section_changed",{current_section:t,previous_section:n,scroll_direction:e.boundingClientRect.top<0?"down":"up",intersection_ratio:e.intersectionRatio})}}})},{threshold:.6,rootMargin:"-10% 0px -10% 0px"});return document.querySelectorAll("[data-section]").forEach(t=>e.observe(t)),()=>e.disconnect()},[h]),De.useEffect(()=>{const e=()=>{if(f)return;const e=window.scrollY;a(e>0),o(e>0);const t=document.querySelector(".hero-section");if(t){const n=t.offsetTop,s=t.offsetHeight;f||c(e>=n+s-50)}const n=document.querySelector(".pricing-section");if(n&&!f){const e=n.getBoundingClientRect(),t=e.top<=25&&e.bottom>=25;m(!t)}};return window.addEventListener("scroll",e,{passive:!0}),e(),()=>{window.removeEventListener("scroll",e)}},[f]),De.useEffect(()=>{u(!(()=>{const e=navigator.userAgent.toLowerCase(),t=/ipad|iphone|ipod/.test(e),n=window.innerWidth<=768;return t&&n})())},[]),De.useEffect(()=>{(()=>{try{const e=yd.getFeatureFlag("landing_google_onetap");return!0===e||"true"===e}catch(e){return!1}})()?window.showGoogleOneTap&&window.showGoogleOneTap():l?window.hideGoogleOneTap&&window.hideGoogleOneTap():window.showGoogleOneTap&&window.showGoogleOneTap()},[l]);const v=()=>{Dg("auth_modal_opened",{cta_type:"get_started_header",trigger:"header_button"}),g(!0)},b=e=>{let t;"features"===e?t=document.querySelector(".features-section"):"pricing"===e?t=document.querySelector(".pricing-section"):"faq"===e&&(t=document.querySelector(".faq-section")),null==t||t.scrollIntoView({behavior:"smooth"}),Dg(`scroll_to_${e}_section`,{navigation_type:e})},y=De.useCallback(()=>{Dg("google_one_tap_success",{method:"one_tap"})},[]),w=De.useCallback(e=>{Dg("google_one_tap_error",{error:e.message})},[]);return t?n.jsx("div",{className:"flex items-center justify-center w-full h-screen",children:n.jsx(Ik,{className:"w-12 h-12"})}):n.jsxs("main",{className:"relative",style:d?{backgroundImage:`url(${s?hae:mae})`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundAttachment:"fixed"}:{backgroundColor:"#111"},children:[n.jsx(cae,{onSuccess:y,onError:w}),n.jsx(Pt.img,{src:dae,alt:"Overlay",className:"fixed inset-0 w-full h-full pointer-events-none bg-opacity-10 z-[1000] max-md:object-left object-cover",style:{mixBlendMode:"screen"},initial:{opacity:0},animate:{opacity:1},transition:{duration:2,ease:"easeOut"}}),n.jsx("header",{className:"fixed top-0 left-0 w-full z-[1002] transition-opacity duration-300 opacity-100",children:n.jsxs(Pt.div,{className:"flex items-center justify-between px-6 py-4",animate:{backdropFilter:l?"blur(20px)":"blur(0px)"},transition:{duration:.3,ease:"easeOut"},children:[n.jsx("img",{src:p?uae:pae,alt:"Emergent Logo",className:"h-5 md:h-6"}),n.jsx("div",{className:"absolute transform -translate-x-1/2 left-1/2",children:n.jsxs(Pt.div,{className:"flex items-center gap-1 max-md:hidden",style:{mixBlendMode:"difference",pointerEvents:l?"auto":"none"},animate:{opacity:l?1:0,y:l?0:-20},transition:{duration:.3,ease:"easeOut"},children:[n.jsx("button",{onClick:()=>b("features"),className:"px-3 py-2 text-[16px] font-medium transition-colors "+(p?"text-white hover:text-gray-300":"text-black"),children:"Features"}),n.jsx("button",{onClick:()=>b("pricing"),className:"px-3 py-2 text-[16px] font-medium transition-colors "+(p?"text-white hover:text-gray-300":"text-black"),children:"Pricing"}),n.jsx("button",{onClick:()=>b("faq"),className:"px-3 py-2 text-[16px] font-medium transition-colors "+(p?"text-white hover:text-gray-300":"text-black"),children:"FAQs"})]})}),n.jsxs(Pt.button,{onClick:v,className:"relative flex items-center max-md:px-3 px-5 max-md:py-2 py-[10px] text-[14px] md:text-[16px] font-semibold leading-6 tracking-wide transition-colors rounded-full backdrop-blur-sm "+(p?"text-black bg-white hover:bg-gray-100":"text-white bg-black hover:bg-gray-800"),animate:{opacity:l?1:0,y:l?0:-20},transition:{duration:.3,ease:"easeOut"},style:{pointerEvents:l?"auto":"none",mixBlendMode:"difference"},children:["Get Started",n.jsx("div",{className:"object-contain w-6 h-6 ml-3 max-md:hidden max-md:ml-1 max-md:w-4",children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 25",fill:"none",children:n.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.6395 11.3816C20.1202 11.8622 20.1202 12.6416 19.6395 13.1222L14.1011 18.6606C13.6204 19.1412 12.8412 19.1412 12.3606 18.6606C11.8798 18.1799 11.8798 17.4007 12.3606 16.92L15.7979 13.4826L5.23081 13.4826C4.55106 13.4826 4 12.9316 4 12.2518C4 11.5722 4.55106 11.0211 5.23081 11.0211L15.7979 11.0211L12.3606 7.5837C11.8798 7.10307 11.8798 6.32381 12.3606 5.84318C12.8412 5.36249 13.6204 5.36249 14.1011 5.84318L19.6395 11.3816Z",fill:"currentColor"})})})]})]})}),n.jsx("section",{"data-section":"authentication",className:"authentication-section",children:n.jsx(aae,{})}),!i&&n.jsxs(Pt.div,{className:"fixed bottom-5 z-[1001] left-0 w-full md:w-1/2 flex justify-center items-center px-4 py-2 h-9 min-w-[42px] min-h-9 cursor-pointer rounded-[8px] pointer-events-auto",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},transition:{duration:.6,ease:"easeOut",opacity:{duration:.5,ease:"easeInOut"}},whileHover:{y:-4,transition:{duration:.2,ease:"easeOut"}},onClick:()=>{Dg("scroll_to_hero",{cta_type:"scroll_to_hero"});const e=document.querySelector(".hero-section");if(e){const t=e.getBoundingClientRect().top+window.scrollY;let n=s?150:70;window.scrollTo({top:t-n,behavior:"smooth"})}},children:[n.jsx("div",{className:"mr-2 rotate-180 animate-bounce-subtle",children:n.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:[n.jsx("path",{d:"M4 13L8 9L12 13",stroke:"#858481",strokeWidth:"0.886667",strokeLinecap:"round",strokeLinejoin:"round"}),n.jsx("path",{d:"M4 9L8 5L12 9",stroke:"#B9B9B7",strokeWidth:"0.886667",strokeLinecap:"round",strokeLinejoin:"round"})]})}),n.jsxs("p",{className:"select-none text-[14px] md:text-[16px] leading-[28px] animate-gradient-x bg-gradient-to-r from-white via-[#81FF89] to-white bg-[length:200%_100%] bg-clip-text text-transparent",children:["Scroll ",n.jsx("span",{className:"max-md:hidden",children:"down"})," to see magic"]}),n.jsx("div",{className:"ml-2 rotate-180 animate-bounce-subtle",children:n.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:[n.jsx("path",{d:"M4 13L8 9L12 13",stroke:"#858481",strokeWidth:"0.886667",strokeLinecap:"round",strokeLinejoin:"round"}),n.jsx("path",{d:"M4 9L8 5L12 9",stroke:"#B9B9B7",strokeWidth:"0.886667",strokeLinecap:"round",strokeLinejoin:"round"})]})})]}),n.jsxs("div",{className:"max-md:pt-[80px] pt-[150px] relative",children:[n.jsx(Cae,{className:"hero-section",minHeight:"min-h-[600px]",children:n.jsx("div",{"data-section":"hero",children:n.jsx(xae,{scrollToAuthenticationSection:v})})}),n.jsx(Cae,{minHeight:"min-h-[500px]",children:n.jsx("div",{"data-section":"features",className:"features-section",children:n.jsx(fae,{})})}),n.jsx(Cae,{className:"pricing-section",minHeight:"min-h-[600px]",children:n.jsx("div",{"data-section":"pricing",children:n.jsx(gae,{openAuthModal:v})})}),n.jsx(Cae,{minHeight:"min-h-[600px]",children:n.jsx("div",{"data-section":"video",children:n.jsx(wae,{})})}),n.jsx(Cae,{className:"faq-section",minHeight:"min-h-[400px]",children:n.jsx("div",{"data-section":"faq",children:n.jsx(vae,{})})}),n.jsx(Cae,{minHeight:"min-h-[300px]",children:n.jsx("div",{"data-section":"filler",children:n.jsx(bae,{scrollToAuthenticationSection:v})})}),n.jsx(Cae,{className:"footer",minHeight:"min-h-[200px]",children:n.jsx("div",{"data-section":"footer",children:n.jsx(yae,{scrollToSections:b})})})]}),n.jsx(lae,{isOpen:f,onClose:()=>g(!1)}),wv]})}function Fae({children:e}){return Jie(),n.jsx(n.Fragment,{children:e})}function _ae({children:e}){const{user:t,session:s,loading:i}=Wg(),{updateTabState:a,setActiveTab:r,setTabs:o,getTabByJobId:l}=Oee(),c=Le(),[d]=ze(),u=Me(),[p,m]=De.useState(new Set),h=De.useRef(null);De.useEffect(()=>{const e="/"===c.pathname,n=/^\/workspace\/[^\/]+$/.test(c.pathname);if(e||n){if(i)return;if(!t)return void u("/landing");r("home")}},[c.pathname,r,i,t,u]),De.useEffect(()=>{if(c.pathname.includes("/chat")||c.pathname.match(/\/workspace\/[^\/]+\/chat/)){const e=(e=>{const t=e.split("/");return t.includes("chat")?null:t.length>=3?t[2]:null})(c.pathname);if(e&&!p.has(c.pathname)&&null===h.current){const t=l(e);t?(r(t.id),m(e=>new Set([...e,c.pathname]))):(h.current=e,x(e))}}},[c.pathname,p]),De.useEffect(()=>{const e=d.get("job_id");if(e&&null===h.current){const t=l(e);if(t){r(t.id);const e=new URLSearchParams(d);e.delete("job_id"),window.history.replaceState(null,"",`${c.pathname}${e.toString()?`?${e.toString()}`:""}`)}else h.current=e,x(e)}},[d,l,r]);const x=async e=>{try{const t=l(e);if(t)return r(t.id),m(e=>new Set([...e,c.pathname])),void(h.current=null);const n=(await Np(e)).data;if(!n)return void(h.current=null);if(f(n),m(e=>new Set([...e,c.pathname])),d.has("job_id")){const e=new URLSearchParams(d);e.delete("job_id"),window.history.replaceState(null,"",`${c.pathname}${e.toString()?`?${e.toString()}`:""}`)}}catch(t){}finally{h.current=null}},f=e=>{var t,n,s,i;if(!e.payload.task)return;const c=e.payload.container_id||e.id;if(!c)return;const d=l(e.id);if(d)return r(d.id),void yg("tab_switched",{jobId:e.id,containerId:c,tabId:d.id,taskLength:(null==(t=e.payload.task)?void 0:t.length)||0});const u=`tab-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,p=`/root/runs/${e.id}/trajectory.json`,m={containerId:e.payload.container_id||e.id,initial_commit_id:e.payload.initial_commit_id,task:e.payload.task,jobId:e.id,trajPath:p,tabId:u,fromJobList:!0,isCloudFlow:null==(n=e.payload)?void 0:n.is_cloud,clientRefId:e.client_ref_id,modelName:e.payload.model_name,promptName:e.payload.prompt_name,promptVersion:e.payload.prompt_version,costLimit:e.payload.per_instance_cost_limit,agentName:e.payload.agent_name,portMapping:e.payload.portMapping,created_by:e.created_by};o(t=>[...t,{id:u,title:`${e.payload.task}`,path:"/chat",level:e.organization_id?"organization":"user",organization_id:e.organization_id,organization_name:e.organization_name,created_by:e.created_by,state:m,tabHeading:e.payload.task||"Untitled"}]),yg("tab_opened",{jobId:e.id,containerId:c,tabId:u,isCloudFlow:(null==(s=e.payload)?void 0:s.is_cloud)||!1,modelName:e.payload.model_name,taskLength:(null==(i=e.payload.task)?void 0:i.length)||0}),a(u,m),r(u)};if(i)return n.jsx("div",{className:"flex items-center justify-center h-full",children:n.jsxs("div",{className:"flex flex-col items-center space-y-4 text-center",children:[n.jsx(Ik,{className:"mx-auto"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading..."})]})});if(!s||!t){const e=d.toString(),t=e?`/landing?${e}`:"/landing";return n.jsx(Ve,{to:t,replace:!0})}return e}function kae(){const{user:e}=Wg(),t=Le(),[s]=ze(),{getReferralModalData:i,clearReferralModalData:a}=sse(),r=VE(),[o,l]=De.useState(!1),{credits:c}=Xg();De.useEffect(()=>{"emergent-badge"!==s.get("utm_source")&&(yp(s),(()=>{if("undefined"==typeof window)return!1;try{const e=new URLSearchParams(window.location.search).get("cjevent");if(e){const t=new Date;return t.setTime(t.getTime()+2592e6),document.cookie=`${ap}=${e};expires=${t.toUTCString()};path=/;SameSite=Lax`,op("cj_event_captured",{cj_event_id:e,capture_url:window.location.href,capture_timestamp:(new Date).toISOString()}),!0}}catch(e){}})(),(()=>{if("undefined"!=typeof window)try{if(document.getElementById("cjapitag"))return;const e=document.createElement("script");e.type="text/javascript",e.async=!0,e.id="cjapitag",e.src="https://api.emergent.sh/proxydirectory/tags/1171454318801/tag.js",e.onload=()=>{op("cj_script_loaded",{timestamp:(new Date).toISOString()})},e.onerror=()=>{};const t=document.getElementsByTagName("script")[0];t&&t.parentNode?t.parentNode.insertBefore(e,t):document.head.appendChild(e)}catch(e){}})())},[s]),De.useEffect(()=>{const e=()=>{!function(e=30){try{if("undefined"==typeof window||!window.Rewardful)return!1;const t=window.Rewardful;if(t.affiliate||t.referral){const n={};return t.affiliate&&(n.affiliate=t.affiliate),t.referral&&(n.referral=t.referral),gp("rewardful_affiliate",JSON.stringify(n),e),!0}return!1}catch(t){return!1}}()};e(),"undefined"!=typeof window&&window.rewardful&&window.rewardful("ready",()=>{e()});const t=setInterval(()=>{var n,s;((null==(n=window.Rewardful)?void 0:n.affiliate)||(null==(s=window.Rewardful)?void 0:s.referral))&&(e(),clearInterval(t))},500),n=setTimeout(()=>{clearInterval(t)},5e3);return()=>{clearInterval(t),clearTimeout(n)}},[]),De.useEffect(()=>{const e=s.get("switching");if(e){const n=decodeURIComponent(e);Xee.show(2e3,`Switching to ${n}...`);const i=new URLSearchParams(s);i.delete("switching");const a=`${t.pathname}${i.toString()?`?${i.toString()}`:""}`;window.history.replaceState(null,"",a)}},[s,t.pathname]);const d=HA(t.pathname);Fx(void 0,{skip:!e||d});const{isPaymentModalOpen:u,setPaymentModalOpen:p,isSubscriptionModalOpen:m,setSubscriptionModalOpen:h,paymentId:x,paymentStatus:f,paymentType:g,organizationId:v}=function(){const[e,t]=De.useState(!1),[n,s]=De.useState(!1),[i,a]=De.useState(null),[r,o]=De.useState(null),[l,c]=De.useState(null),[d,u]=De.useState(null),p=Le();return De.useEffect(()=>{const e=new URLSearchParams(p.search),n=e.get("payment_status"),i=e.get("subscription_status"),r=e.get("payment_id"),l=e.get("organization_id"),d=n||i,m=i?"subscription":"payment";if(d&&r&&("success"===d||"cancelled"===d||"failed"===d)){o(d),a(r),u(l),"subscription"===m?(c("subscription"),s(!0)):(c("payment"),t(!0));const e=window.location.pathname;window.history.replaceState({},document.title,e)}},[p.search]),{isPaymentModalOpen:e,setPaymentModalOpen:t,isSubscriptionModalOpen:n,setSubscriptionModalOpen:s,paymentId:i,paymentStatus:r,paymentType:l,organizationId:d}}();De.useEffect(()=>{if(e&&e.user_metadata)if(!0!==e.user_metadata.email_verified){const t=e.email;window.location.href=t?`/verify?email=${encodeURIComponent(t)}`:"/"}else e.user_metadata.needs_invite_code&&"/activate"!==t.pathname&&(window.location.href="/activate")},[e,t.pathname]),De.useEffect(()=>{Xte(),bte.initializeReferralHandling()},[]),De.useEffect(()=>{const e=s.get("mobile");"pro_mode"===s.get("utm_term")&&localStorage.setItem("showThankYou","pro_mode"),"true"===e&&localStorage.setItem("mobile","true")},[s]);const[b,y]=De.useState(!1),[w,j]=De.useState(5);De.useEffect(()=>{if(e&&"/"===t.pathname&&!d){const e=i();e&&e.shouldShow&&(j(e.reward),y(!0))}},[e,t.pathname,d,i,c]);return n.jsx(eD,{children:n.jsxs(Fae,{children:["  ",n.jsxs("div",{className:"font-sans antialiased h-dvh md:h-screen dark",children:[x&&f&&"payment"===g&&n.jsx(Zte,{isOpen:u,onOpenChange:p,paymentId:x,initialStatus:f,organizationId:v||void 0}),x&&f&&"subscription"===g&&n.jsx(Qte,{isOpen:m,onOpenChange:e=>{h(e),!e&&"success"===f&&v&&!o&&x&&(r.open({organizationId:v,organizationName:void 0,paymentId:x,initialStatus:f,mode:"welcome"}),l(!0))},paymentId:x,initialStatus:f,organizationId:v}),n.jsx(ase,{isOpen:b,onOpenChange:e=>{y(e),e||a()},reward:w}),n.jsxs($e,{children:[n.jsx(Ue,{path:"/landing",element:n.jsx(Nae,{view:"login"})}),n.jsx(Ue,{path:"/login",element:n.jsx(Ote,{view:"login"})}),n.jsx(Ue,{path:"/register",element:n.jsx(Ote,{view:"signup"})}),n.jsx(Ue,{path:"/oauth",element:n.jsx(nse,{})}),n.jsx(Ue,{path:"/activate",element:n.jsx(Ote,{view:"activate"})}),n.jsx(Ue,{path:"/loading-preview",element:n.jsx(Vne,{})}),n.jsx(Ue,{path:"/preview-not-found",element:n.jsx(Wne,{})}),n.jsx(Ue,{path:"/verify",element:n.jsx(Hte,{})}),n.jsx(Ue,{path:"/reset-password",element:n.jsx(Ute,{})}),n.jsx(Ue,{path:"/github-callback",element:n.jsx(ete,{})}),n.jsx(Ue,{path:"/affiliates",element:n.jsx(ose,{})}),n.jsx(Ue,{path:"/affiliates/terms",element:n.jsx(lse,{})}),n.jsx(Ue,{path:"/accept-invitation",element:n.jsx(use,{})}),n.jsx(Ue,{path:"/privacy-policy",element:n.jsx(Wte,{})}),n.jsx(Ue,{path:"/terms-of-service",element:n.jsx(tne,{})}),!e&&n.jsx(Ue,{path:"/home",element:n.jsxs("div",{children:[n.jsx("div",{className:"flex items-center justify-end px-2 h-[56px] max-h-[56px] md:px-6 container-fluid",children:n.jsxs("div",{className:"flex items-center gap-[10px] ",children:[n.jsxs(Oe,{to:"/login",className:fb(yb({variant:"outline"}),"text-white border-[1px] border-[#3D3D3D] px-[20px] py-[8px] h-[36px]"),children:[" ","Log in"]}),n.jsxs(Oe,{to:"/register",className:fb(yb({variant:"default"}),"text-[#1A1A1A]  bg-white  px-[20px] py-[8px] h-[36px]"),children:[" ","Sign up"]})]})}),n.jsx(mL,{redirectToRegister:!1})]})}),n.jsx(Ue,{path:"*",element:n.jsxs(_ae,{children:[n.jsx(Kee,{}),n.jsx(Rie,{})]})})]}),n.jsx(cne,{}),n.jsx(Qee,{}),n.jsx(dse,{})]})]})})}const Sae=De.createContext(void 0);function Eae({children:e}){const[t,s]=De.useState("dark");return De.useEffect(()=>{const e=window.document.documentElement;e.classList.remove("light","dark"),e.classList.add(t)},[t]),n.jsx(Sae.Provider,{value:{theme:t,setTheme:s},children:e})}function Iae(e){return(Iae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Aae(e,t,n){return t&&function(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}(e.prototype,t),e}function Tae(e){return(Tae=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Dae(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Mae(e,t){return(Mae=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Lae(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Pae=function(){function e(){var t,n,s,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return s=this,i=(t=Tae(e)).call.apply(t,[this].concat(r)),n=!i||"object"!==Iae(i)&&"function"!=typeof i?Dae(s):i,Lae(Dae(n),"state",{bootstrapped:!1}),Lae(Dae(n),"_unsubscribe",void 0),Lae(Dae(n),"handlePersistorState",function(){n.props.persistor.getState().bootstrapped&&(n.props.onBeforeLift?Promise.resolve(n.props.onBeforeLift()).finally(function(){return n.setState({bootstrapped:!0})}):n.setState({bootstrapped:!0}),n._unsubscribe&&n._unsubscribe())}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Mae(e,t)}(e,De.PureComponent),Aae(e,[{key:"componentDidMount",value:function(){this._unsubscribe=this.props.persistor.subscribe(this.handlePersistorState),this.handlePersistorState()}},{key:"componentWillUnmount",value:function(){this._unsubscribe&&this._unsubscribe()}},{key:"render",value:function(){return"function"==typeof this.props.children?this.props.children(this.state.bootstrapped):this.state.bootstrapped?this.props.children:this.props.loading}}]),e}();Lae(Pae,"defaultProps",{children:null,loading:null});var Rae=De.createContext({client:yd});function Oae(e,t,n){if(void 0===n&&(n=new WeakMap),e===t)return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;if(n.has(e)&&n.get(e)===t)return!0;n.set(e,t);var s=Object.keys(e),i=Object.keys(t);if(s.length!==i.length)return!1;for(var a=0,r=s;a<r.length;a++){var o=r[a];if(!i.includes(o))return!1;if(!Oae(e[o],t[o],n))return!1}return!0}function zae(e){var t=e.children,n=e.client,s=e.apiKey,i=e.options,a=De.useRef(null),r=De.useMemo(function(){return n||yd},[n,s,JSON.stringify(i)]);return De.useEffect(function(){if(!n){var e=a.current;e?(e.apiKey,i&&!Oae(i,e.options)&&yd.set_config(i),a.current={apiKey:s,options:null!=i?i:{}}):(yd.__loaded,yd.init(s,i),a.current={apiKey:s,options:null!=i?i:{}})}},[n,s,JSON.stringify(i)]),Pe.createElement(Rae.Provider,{value:{client:r}},t)}var Bae=function(e,t){return(Bae=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};"function"==typeof SuppressedError&&SuppressedError;var Hae=function(e){return"function"==typeof e},$ae={componentStack:null,exceptionEvent:null,error:null};!function(e){function t(t){var n=e.call(this,t)||this;return n.state=$ae,n}(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}Bae(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)})(t,e),t.prototype.componentDidCatch=function(e,t){var n,s=this.props.additionalProperties;Hae(s)?n=s(e):"object"==typeof s&&(n=s);var i=this.context.client.captureException(e,n),a=t.componentStack;this.setState({error:e,componentStack:a,exceptionEvent:i})},t.prototype.render=function(){var e=this.props,t=e.children,n=e.fallback,s=this.state;if(null==s.componentStack)return Hae(t)?t():t;var i=Hae(n)?Pe.createElement(n,{error:s.error,componentStack:s.componentStack,exceptionEvent:s.exceptionEvent}):n;return Pe.isValidElement(i)?i:Pe.createElement(Pe.Fragment,null)},t.contextType=Rae}(Pe.Component);const Uae={api_host:Yt};Vt.createRoot(document.getElementById("root")).render(n.jsx(Pe.StrictMode,{children:n.jsx(We,{children:n.jsx(zae,{apiKey:Zt,options:Uae,children:n.jsx(Dt,{store:og,children:n.jsx(Pae,{loading:null,persistor:lg,children:n.jsx(Eae,{children:n.jsx(Gg,{children:n.jsx(Vg,{children:n.jsx(OE,{children:n.jsx(Yg,{children:n.jsx(Qg,{children:n.jsx(xL,{children:n.jsx(zee,{children:n.jsx(kae,{})})})})})})})})})})})})})}));export{gv as I,BA as S,fb as c,Pg as i,Dg as t,kD as u};
